(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function s1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hg={exports:{}},$u={};var qb;function pA(){if(qb)return $u;qb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var _ in o)_!=="key"&&(c[_]=o[_])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:d,ref:o!==void 0?o:null,props:c}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var Hb;function gA(){return Hb||(Hb=1,hg.exports=pA()),hg.exports}var m=gA(),dg={exports:{}},Qe={};var Fb;function yA(){if(Fb)return Qe;Fb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),N=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function O(D,X,me){this.props=D,this.context=X,this.refs=k,this.updater=me||j}O.prototype.isReactComponent={},O.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},O.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function q(){}q.prototype=O.prototype;function $(D,X,me){this.props=D,this.context=X,this.refs=k,this.updater=me||j}var ee=$.prototype=new q;ee.constructor=$,z(ee,O.prototype),ee.isPureReactComponent=!0;var ne=Array.isArray;function ye(){}var B={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Z(D,X,me){var ve=me.ref;return{$$typeof:n,type:D,key:X,ref:ve!==void 0?ve:null,props:me}}function F(D,X){return Z(D.type,X,D.props)}function H(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function Y(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(me){return X[me]})}var G=/\/+/g;function de(D,X){return typeof D=="object"&&D!==null&&D.key!=null?Y(""+D.key):X.toString(36)}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ye,ye):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function re(D,X,me,ve,Ae){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var qe=!1;if(D===null)qe=!0;else switch(Ce){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(D.$$typeof){case n:case e:qe=!0;break;case w:return qe=D._init,re(qe(D._payload),X,me,ve,Ae)}}if(qe)return Ae=Ae(D),qe=ve===""?"."+de(D,0):ve,ne(Ae)?(me="",qe!=null&&(me=qe.replace(G,"$&/")+"/"),re(Ae,X,me,"",function(ji){return ji})):Ae!=null&&(H(Ae)&&(Ae=F(Ae,me+(Ae.key==null||D&&D.key===Ae.key?"":(""+Ae.key).replace(G,"$&/")+"/")+qe)),X.push(Ae)),1;qe=0;var At=ve===""?".":ve+":";if(ne(D))for(var Ct=0;Ct<D.length;Ct++)ve=D[Ct],Ce=At+de(ve,Ct),qe+=re(ve,X,me,Ce,Ae);else if(Ct=R(D),typeof Ct=="function")for(D=Ct.call(D),Ct=0;!(ve=D.next()).done;)ve=ve.value,Ce=At+de(ve,Ct++),qe+=re(ve,X,me,Ce,Ae);else if(Ce==="object"){if(typeof D.then=="function")return re(Ne(D),X,me,ve,Ae);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return qe}function Se(D,X,me){if(D==null)return D;var ve=[],Ae=0;return re(D,ve,"","",function(Ce){return X.call(me,Ce,Ae++)}),ve}function ae(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(me){(D._status===0||D._status===-1)&&(D._status=1,D._result=me)},function(me){(D._status===0||D._status===-1)&&(D._status=2,D._result=me)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ge=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},pe={map:Se,forEach:function(D,X,me){Se(D,function(){X.apply(this,arguments)},me)},count:function(D){var X=0;return Se(D,function(){X++}),X},toArray:function(D){return Se(D,function(X){return X})||[]},only:function(D){if(!H(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Qe.Activity=E,Qe.Children=pe,Qe.Component=O,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=$,Qe.StrictMode=s,Qe.Suspense=p,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return B.H.useMemoCache(D)}},Qe.cache=function(D){return function(){return D.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(D,X,me){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ve=z({},D.props),Ae=D.key;if(X!=null)for(Ce in X.key!==void 0&&(Ae=""+X.key),X)!I.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(ve[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)ve.children=me;else if(1<Ce){for(var qe=Array(Ce),At=0;At<Ce;At++)qe[At]=arguments[At+2];ve.children=qe}return Z(D.type,Ae,ve)},Qe.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Qe.createElement=function(D,X,me){var ve,Ae={},Ce=null;if(X!=null)for(ve in X.key!==void 0&&(Ce=""+X.key),X)I.call(X,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ae[ve]=X[ve]);var qe=arguments.length-2;if(qe===1)Ae.children=me;else if(1<qe){for(var At=Array(qe),Ct=0;Ct<qe;Ct++)At[Ct]=arguments[Ct+2];Ae.children=At}if(D&&D.defaultProps)for(ve in qe=D.defaultProps,qe)Ae[ve]===void 0&&(Ae[ve]=qe[ve]);return Z(D,Ce,Ae)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(D){return{$$typeof:_,render:D}},Qe.isValidElement=H,Qe.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:ae}},Qe.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},Qe.startTransition=function(D){var X=B.T,me={};B.T=me;try{var ve=D(),Ae=B.S;Ae!==null&&Ae(me,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(ye,ge)}catch(Ce){ge(Ce)}finally{X!==null&&me.types!==null&&(X.types=me.types),B.T=X}},Qe.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Qe.use=function(D){return B.H.use(D)},Qe.useActionState=function(D,X,me){return B.H.useActionState(D,X,me)},Qe.useCallback=function(D,X){return B.H.useCallback(D,X)},Qe.useContext=function(D){return B.H.useContext(D)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(D,X){return B.H.useDeferredValue(D,X)},Qe.useEffect=function(D,X){return B.H.useEffect(D,X)},Qe.useEffectEvent=function(D){return B.H.useEffectEvent(D)},Qe.useId=function(){return B.H.useId()},Qe.useImperativeHandle=function(D,X,me){return B.H.useImperativeHandle(D,X,me)},Qe.useInsertionEffect=function(D,X){return B.H.useInsertionEffect(D,X)},Qe.useLayoutEffect=function(D,X){return B.H.useLayoutEffect(D,X)},Qe.useMemo=function(D,X){return B.H.useMemo(D,X)},Qe.useOptimistic=function(D,X){return B.H.useOptimistic(D,X)},Qe.useReducer=function(D,X,me){return B.H.useReducer(D,X,me)},Qe.useRef=function(D){return B.H.useRef(D)},Qe.useState=function(D){return B.H.useState(D)},Qe.useSyncExternalStore=function(D,X,me){return B.H.useSyncExternalStore(D,X,me)},Qe.useTransition=function(){return B.H.useTransition()},Qe.version="19.2.4",Qe}var Gb;function Ry(){return Gb||(Gb=1,dg.exports=yA()),dg.exports}var U=Ry();const an=s1(U);var fg={exports:{}},Yu={},mg={exports:{}},pg={};var Zb;function _A(){return Zb||(Zb=1,(function(n){function e(re,Se){var ae=re.length;re.push(Se);e:for(;0<ae;){var ge=ae-1>>>1,pe=re[ge];if(0<o(pe,Se))re[ge]=Se,re[ae]=pe,ae=ge;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Se=re[0],ae=re.pop();if(ae!==Se){re[0]=ae;e:for(var ge=0,pe=re.length,D=pe>>>1;ge<D;){var X=2*(ge+1)-1,me=re[X],ve=X+1,Ae=re[ve];if(0>o(me,ae))ve<pe&&0>o(Ae,me)?(re[ge]=Ae,re[ve]=ae,ge=ve):(re[ge]=me,re[X]=ae,ge=X);else if(ve<pe&&0>o(Ae,ae))re[ge]=Ae,re[ve]=ae,ge=ve;else break e}}return Se}function o(re,Se){var ae=re.sortIndex-Se.sortIndex;return ae!==0?ae:re.id-Se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();n.unstable_now=function(){return d.now()-_}}var p=[],v=[],w=1,E=null,N=3,R=!1,j=!1,z=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ee(re){for(var Se=t(v);Se!==null;){if(Se.callback===null)s(v);else if(Se.startTime<=re)s(v),Se.sortIndex=Se.expirationTime,e(p,Se);else break;Se=t(v)}}function ne(re){if(z=!1,ee(re),!j)if(t(p)!==null)j=!0,ye||(ye=!0,Y());else{var Se=t(v);Se!==null&&Ne(ne,Se.startTime-re)}}var ye=!1,B=-1,I=5,Z=-1;function F(){return k?!0:!(n.unstable_now()-Z<I)}function H(){if(k=!1,ye){var re=n.unstable_now();Z=re;var Se=!0;try{e:{j=!1,z&&(z=!1,q(B),B=-1),R=!0;var ae=N;try{t:{for(ee(re),E=t(p);E!==null&&!(E.expirationTime>re&&F());){var ge=E.callback;if(typeof ge=="function"){E.callback=null,N=E.priorityLevel;var pe=ge(E.expirationTime<=re);if(re=n.unstable_now(),typeof pe=="function"){E.callback=pe,ee(re),Se=!0;break t}E===t(p)&&s(p),ee(re)}else s(p);E=t(p)}if(E!==null)Se=!0;else{var D=t(v);D!==null&&Ne(ne,D.startTime-re),Se=!1}}break e}finally{E=null,N=ae,R=!1}Se=void 0}}finally{Se?Y():ye=!1}}}var Y;if(typeof $=="function")Y=function(){$(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,de=G.port2;G.port1.onmessage=H,Y=function(){de.postMessage(null)}}else Y=function(){O(H,0)};function Ne(re,Se){B=O(function(){re(n.unstable_now())},Se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(re){switch(N){case 1:case 2:case 3:var Se=3;break;default:Se=N}var ae=N;N=Se;try{return re()}finally{N=ae}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(re,Se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=N;N=re;try{return Se()}finally{N=ae}},n.unstable_scheduleCallback=function(re,Se,ae){var ge=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ge+ae:ge):ae=ge,re){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ae+pe,re={id:w++,callback:Se,priorityLevel:re,startTime:ae,expirationTime:pe,sortIndex:-1},ae>ge?(re.sortIndex=ae,e(v,re),t(p)===null&&re===t(v)&&(z?(q(B),B=-1):z=!0,Ne(ne,ae-ge))):(re.sortIndex=pe,e(p,re),j||R||(j=!0,ye||(ye=!0,Y()))),re},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(re){var Se=N;return function(){var ae=N;N=Se;try{return re.apply(this,arguments)}finally{N=ae}}}})(pg)),pg}var $b;function vA(){return $b||($b=1,mg.exports=_A()),mg.exports}var gg={exports:{}},Xn={};var Yb;function bA(){if(Yb)return Xn;Yb=1;var n=Ry();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:v,implementation:w}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xn.createPortal=function(p,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,w)},Xn.flushSync=function(p){var v=d.T,w=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=w,s.d.f()}},Xn.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},Xn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xn.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,R=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:R}):w==="script"&&s.d.X(p,{crossOrigin:E,integrity:N,fetchPriority:R,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Xn.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=_(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},Xn.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin);s.d.L(p,w,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Xn.preloadModule=function(p,v){if(typeof p=="string")if(v){var w=_(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},Xn.requestFormReset=function(p){s.d.r(p)},Xn.unstable_batchedUpdates=function(p,v){return p(v)},Xn.useFormState=function(p,v,w){return d.H.useFormState(p,v,w)},Xn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xn.version="19.2.4",Xn}var Kb;function r1(){if(Kb)return gg.exports;Kb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gg.exports=bA(),gg.exports}var Wb;function xA(){if(Wb)return Yu;Wb=1;var n=vA(),e=Ry(),t=r1();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function d(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function _(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(c(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var y=l.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===l)return p(y),i;if(b===h)return p(y),r;b=b.sibling}throw Error(s(188))}if(l.return!==h.return)l=y,h=b;else{for(var A=!1,M=y.child;M;){if(M===l){A=!0,l=y,h=b;break}if(M===h){A=!0,h=y,l=b;break}M=M.sibling}if(!A){for(M=b.child;M;){if(M===l){A=!0,l=b,h=y;break}if(M===h){A=!0,h=b,l=y;break}M=M.sibling}if(!A)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function w(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=w(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var G=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===G?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case O:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case ye:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case $:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case ee:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return r=i.displayName||null,r!==null?r:de(i.type)||"Memo";case I:r=i._payload,i=i._init;try{return de(i(r))}catch{}}return null}var Ne=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ge=[],pe=-1;function D(i){return{current:i}}function X(i){0>pe||(i.current=ge[pe],ge[pe]=null,pe--)}function me(i,r){pe++,ge[pe]=i.current,i.current=r}var ve=D(null),Ae=D(null),Ce=D(null),qe=D(null);function At(i,r){switch(me(Ce,r),me(Ae,i),me(ve,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?hb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=hb(r),i=db(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(ve),me(ve,i)}function Ct(){X(ve),X(Ae),X(Ce)}function ji(i){i.memoizedState!==null&&me(qe,i);var r=ve.current,l=db(r,i.type);r!==l&&(me(Ae,i),me(ve,l))}function ls(i){Ae.current===i&&(X(ve),X(Ae)),qe.current===i&&(X(qe),Hu._currentValue=ae)}var gi,cs;function yi(i){if(gi===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);gi=r&&r[1]||"",cs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gi+i+cs}var or=!1;function us(i,r){if(!i||or)return"";or=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(fe){var ue=fe}Reflect.construct(i,[],Ee)}else{try{Ee.call()}catch(fe){ue=fe}i.call(Ee.prototype)}}else{try{throw Error()}catch(fe){ue=fe}(Ee=i())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(fe){if(fe&&ue&&typeof fe.stack=="string")return[fe.stack,ue.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),A=b[0],M=b[1];if(A&&M){var W=A.split(`
`),le=M.split(`
`);for(y=h=0;h<W.length&&!W[h].includes("DetermineComponentFrameRoot");)h++;for(;y<le.length&&!le[y].includes("DetermineComponentFrameRoot");)y++;if(h===W.length||y===le.length)for(h=W.length-1,y=le.length-1;1<=h&&0<=y&&W[h]!==le[y];)y--;for(;1<=h&&0<=y;h--,y--)if(W[h]!==le[y]){if(h!==1||y!==1)do if(h--,y--,0>y||W[h]!==le[y]){var _e=`
`+W[h].replace(" at new "," at ");return i.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",i.displayName)),_e}while(1<=h&&0<=y);break}}}finally{or=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?yi(l):""}function Ds(i,r){switch(i.tag){case 26:case 27:case 5:return yi(i.type);case 16:return yi("Lazy");case 13:return i.child!==r&&r!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return us(i.type,!1);case 11:return us(i.type.render,!1);case 1:return us(i.type,!0);case 31:return yi("Activity");default:return""}}function hs(i){try{var r="",l=null;do r+=Ds(i,l),l=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var J=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,rt=n.unstable_shouldYield,zn=n.unstable_requestPaint,kt=n.unstable_now,ks=n.unstable_getCurrentPriorityLevel,Br=n.unstable_ImmediatePriority,Ia=n.unstable_UserBlockingPriority,js=n.unstable_NormalPriority,lu=n.unstable_LowPriority,Bo=n.unstable_IdlePriority,qo=n.log,Wl=n.unstable_setDisableYieldValue,_i=null,hn=null;function si(i){if(typeof qo=="function"&&Wl(i),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(_i,i)}catch{}}var Yt=Math.clz32?Math.clz32:Ql,lr=Math.log,Pa=Math.LN2;function Ql(i){return i>>>=0,i===0?32:31-(lr(i)/Pa|0)|0}var Vi=256,cr=262144,Kt=4194304;function ds(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function fs(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~b,h!==0?y=ds(h):(A&=M,A!==0?y=ds(A):l||(l=M&~i,l!==0&&(y=ds(l))))):(M=h&~b,M!==0?y=ds(M):A!==0?y=ds(A):l||(l=h&~i,l!==0&&(y=ds(l)))),y===0?0:r!==0&&r!==y&&(r&b)===0&&(b=y&-y,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:y}function zi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function cu(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var i=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),i}function ms(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Vs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function uu(i,r,l,h,y,b){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,W=i.expirationTimes,le=i.hiddenUpdates;for(l=A&~l;0<l;){var _e=31-Yt(l),Ee=1<<_e;M[_e]=0,W[_e]=-1;var ue=le[_e];if(ue!==null)for(le[_e]=null,_e=0;_e<ue.length;_e++){var fe=ue[_e];fe!==null&&(fe.lane&=-536870913)}l&=~Ee}h!==0&&qr(i,h,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~r))}function qr(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Yt(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Ho(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Yt(l),y=1<<h;y&r|i[h]&r&&(i[h]|=r),l&=~y}}function Fo(i,r){var l=r&-r;return l=(l&42)!==0?1:Rn(l),(l&(i.suspendedLanes|r))!==0?0:l}function Rn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oe(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Go(){var i=Se.p;return i!==0?i:(i=window.event,i===void 0?32:Db(i.type))}function vi(i,r){var l=Se.p;try{return Se.p=i,r()}finally{Se.p=l}}var bi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+bi,en="__reactProps$"+bi,Ui="__reactContainer$"+bi,Bi="__reactEvents$"+bi,Jl="__reactListeners$"+bi,ec="__reactHandles$"+bi,tc="__reactResources$"+bi,ps="__reactMarker$"+bi;function Ma(i){delete i[Wt],delete i[en],delete i[Bi],delete i[Jl],delete i[ec]}function qi(i){var r=i[Wt];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Ui]||l[Wt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=vb(i);i!==null;){if(l=i[Wt])return l;i=vb(i)}return r}i=l,l=i.parentNode}return null}function xi(i){if(i=i[Wt]||i[Ui]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function gs(i){var r=i[tc];return r||(r=i[tc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function tn(i){i[ps]=!0}var Zo=new Set,$o={};function ys(i,r){wi(i,r),wi(i+"Capture",r)}function wi(i,r){for($o[i]=r,i=0;i<r.length;i++)Zo.add(r[i])}var zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),La={},Oa={};function ur(i){return J.call(Oa,i)?!0:J.call(La,i)?!1:zs.test(i)?Oa[i]=!0:(La[i]=!0,!1)}function st(i,r,l){if(ur(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function at(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Bt(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}function qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ri(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Hr(i,r,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(A){l=""+A,b.call(this,A)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Me(i){if(!i._valueTracker){var r=ri(i)?"checked":"value";i._valueTracker=Hr(i,r,""+i[r])}}function Nt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=ri(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _s=/[\n"\\]/g;function jt(i){return i.replace(_s,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Da(i,r,l,h,y,b,A,M){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qt(r)):i.value!==""+qt(r)&&(i.value=""+qt(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?Hi(i,A,qt(r)):l!=null?Hi(i,A,qt(l)):h!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+qt(M):i.removeAttribute("name")}function Fr(i,r,l,h,y,b,A,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){Me(i);return}l=l!=null?""+qt(l):"",r=r!=null?""+qt(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Me(i)}function Hi(i,r,l){r==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Rt(i,r,l,h){if(i=i.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=r.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+qt(l),r=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function vs(i,r,l){if(r!=null&&(r=""+qt(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+qt(l):""}function Ti(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Ne(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=qt(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Me(i)}function gn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Us(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||ka.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Gr(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in r)h=r[y],r.hasOwnProperty(y)&&l[y]!==h&&Us(i,y,h)}else for(var b in r)r.hasOwnProperty(b)&&Us(i,b,r[b])}function hr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dr(i){return bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Zn(){}var ja=null;function $n(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fr=null,He=null;function Pn(i){var r=xi(i);if(r&&(i=r.stateNode)){var l=i[en]||null;e:switch(i=r.stateNode,r.type){case"input":if(Da(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var y=h[en]||null;if(!y)throw Error(s(90));Da(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Nt(h)}break e;case"textarea":vs(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Rt(i,!!l.multiple,r,!1)}}}var vt=!1;function Bs(i,r,l){if(vt)return i(r,l);vt=!0;try{var h=i(r);return h}finally{if(vt=!1,(fr!==null||He!==null)&&(Cd(),fr&&(r=fr,i=He,He=fr=null,Pn(r),i)))for(r=0;r<i.length;r++)Pn(i[r])}}function ai(i,r){var l=i.stateNode;if(l===null)return null;var h=l[en]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Yn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){qs=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{qs=!1}var Si=null,Hs=null,Ht=null;function Fi(){if(Ht)return Ht;var i,r=Hs,l=r.length,h,y="value"in Si?Si.value:Si.textContent,b=y.length;for(i=0;i<l&&r[i]===y[i];i++);var A=l-i;for(h=1;h<=A&&r[l-h]===y[b-h];h++);return Ht=y.slice(i,1<h?1-h:void 0)}function mr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function xs(){return!0}function Gi(){return!1}function yn(i){function r(l,h,y,b,A){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?xs:Gi,this.isPropagationStopped=Gi,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),r}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=yn(Zi),Fs=E({},Zi,{view:0,detail:0}),it=yn(Fs),pr,Mn,Kn,$r=E({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Kn&&(Kn&&i.type==="mousemove"?(pr=i.screenX-Kn.screenX,Mn=i.screenY-Kn.screenY):Mn=pr=0,Kn=i),pr)},movementY:function(i){return"movementY"in i?i.movementY:Mn}}),Yo=yn($r),Gs=E({},$r,{dataTransfer:0}),nc=yn(Gs),Ko=E({},Fs,{relatedTarget:0}),Yr=yn(Ko),Wo=E({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=yn(Wo),za=E({},Zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oi=yn(za),ic=E({},Zi,{data:0}),$i=yn(ic),Yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ua(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Xo[i])?!!r[i]:!1}function gr(){return Ua}var Ln=E({},Fs,{key:function(i){if(i.key){var r=Yi[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=mr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(i){return i.type==="keypress"?mr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?mr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Jo=yn(Ln),sc=E({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=yn(sc),f=E({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),T=yn(f),C=E({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=yn(C),se=E({},$r,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),he=yn(se),Re=E({},Zi,{newState:0,oldState:0}),Ye=yn(Re),gt=[9,13,27,32],yt=Yn&&"CompositionEvent"in window,Vt=null;Yn&&"documentMode"in document&&(Vt=document.documentMode);var Ai=Yn&&"TextEvent"in window&&!Vt,Ci=Yn&&(!yt||Vt&&8<Vt&&11>=Vt),li=" ",Ki=!1;function Kr(i,r){switch(i){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wr(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ba=!1;function Wi(i,r){switch(i){case"compositionend":return Wr(r);case"keypress":return r.which!==32?null:(Ki=!0,li);case"textInput":return i=r.data,i===li&&Ki?null:i;default:return null}}function qa(i,r){if(Ba)return i==="compositionend"||!yt&&Kr(i,r)?(i=Fi(),Ht=Hs=Si=null,Ba=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ci&&r.locale!=="ko"?null:r.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Es(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Rm[i.type]:r==="textarea"}function Fh(i,r,l,h){fr?He?He.push(h):He=[h]:fr=h,r=Od(r,"onChange"),0<r.length&&(l=new ws("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Ts=null,el=null;function tl(i){rb(i,0)}function nl(i){var r=In(i);if(Nt(r))return i}function il(i,r){if(i==="change")return r}var Gh=!1;if(Yn){var Ss;if(Yn){var Ha="oninput"in document;if(!Ha){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),Ha=typeof Zh.oninput=="function"}Ss=Ha}else Ss=!1;Gh=Ss&&(!document.documentMode||9<document.documentMode)}function rc(){Ts&&(Ts.detachEvent("onpropertychange",$h),el=Ts=null)}function $h(i){if(i.propertyName==="value"&&nl(el)){var r=[];Fh(r,el,i,$n(i)),Bs(tl,r)}}function $s(i,r,l){i==="focusin"?(rc(),Ts=r,el=l,Ts.attachEvent("onpropertychange",$h)):i==="focusout"&&rc()}function Im(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nl(el)}function Fa(i,r){if(i==="click")return nl(r)}function Pm(i,r){if(i==="input"||i==="change")return nl(r)}function Ys(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var On=typeof Object.is=="function"?Object.is:Ys;function Ga(i,r){if(On(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!J.call(r,y)||!On(i[y],r[y]))return!1}return!0}function ac(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function sl(i,r){var l=ac(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ac(l)}}function oc(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?oc(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function rl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ei(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Ei(i.document)}return r}function yr(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var lc=Yn&&"documentMode"in document&&11>=document.documentMode,_r=null,cc=null,al=null,Za=!1;function Yh(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Za||_r==null||_r!==Ei(h)||(h=_r,"selectionStart"in h&&yr(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),al&&Ga(al,h)||(al=h,h=Od(cc,"onSelect"),0<h.length&&(r=new ws("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=_r)))}function vr(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var $a={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},uc={},Kh={};Yn&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Dn(i){if(uc[i])return uc[i];if(!$a[i])return i;var r=$a[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Kh)return uc[i]=r[l];return i}var ol=Dn("animationend"),Wh=Dn("animationiteration"),ll=Dn("animationstart"),Mm=Dn("transitionrun"),Qh=Dn("transitionstart"),Lm=Dn("transitioncancel"),Ya=Dn("transitionend"),Xh=new Map,br="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");br.push("scrollEnd");function Ni(i,r){Xh.set(i,r),ys(r,[i])}var cl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ri=[],Wn=0,hc=0;function ul(){for(var i=Wn,r=hc=Wn=0;r<i;){var l=Ri[r];Ri[r++]=null;var h=Ri[r];Ri[r++]=null;var y=Ri[r];Ri[r++]=null;var b=Ri[r];if(Ri[r++]=null,h!==null&&y!==null){var A=h.pending;A===null?y.next=y:(y.next=A.next,A.next=y),h.pending=y}b!==0&&Ka(l,y,b)}}function xr(i,r,l,h){Ri[Wn++]=i,Ri[Wn++]=r,Ri[Wn++]=l,Ri[Wn++]=h,hc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function hu(i,r,l,h){return xr(i,r,l,h),hl(i)}function As(i,r){return xr(i,null,null,r),hl(i)}function Ka(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,b=i.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&r!==null&&(y=31-Yt(l),i=b.hiddenUpdates,h=i[y],h===null?i[y]=[r]:h.push(r),r.lane=l|536870912),b):null}function hl(i){if(50<ku)throw ku=0,Dp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Qr={};function Om(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,r,l,h){return new Om(i,r,l,h)}function dc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cs(i,r){var l=i.alternate;return l===null?(l=Qn(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function du(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function dl(i,r,l,h,y,b){var A=0;if(h=i,typeof i=="function")dc(i)&&(A=1);else if(typeof i=="string")A=iA(i,l,ve.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Z:return i=Qn(31,l,r,y),i.elementType=Z,i.lanes=b,i;case z:return Xr(l.children,y,b,r);case k:A=8,y|=24;break;case O:return i=Qn(12,l,r,y|2),i.elementType=O,i.lanes=b,i;case ne:return i=Qn(13,l,r,y),i.elementType=ne,i.lanes=b,i;case ye:return i=Qn(19,l,r,y),i.elementType=ye,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:A=10;break e;case q:A=9;break e;case ee:A=11;break e;case B:A=14;break e;case I:A=16,h=null;break e}A=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=Qn(A,l,r,y),r.elementType=i,r.type=h,r.lanes=b,r}function Xr(i,r,l,h){return i=Qn(7,i,h,r),i.lanes=l,i}function fc(i,r,l){return i=Qn(6,i,null,r),i.lanes=l,i}function fu(i){var r=Qn(18,null,null,0);return r.stateNode=i,r}function mu(i,r,l){return r=Qn(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a=new WeakMap;function u(i,r){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(r={value:i,source:r,stack:hs(r)},a.set(i,r),r)}return{value:i,source:r,stack:hs(r)}}var g=[],x=0,S=null,P=0,K=[],ie=0,ce=null,we=1,Ie="";function Ve(i,r){g[x++]=P,g[x++]=S,S=i,P=r}function tt(i,r,l){K[ie++]=we,K[ie++]=Ie,K[ie++]=ce,ce=i;var h=we;i=Ie;var y=32-Yt(h)-1;h&=~(1<<y),l+=1;var b=32-Yt(r)+y;if(30<b){var A=y-y%5;b=(h&(1<<A)-1).toString(32),h>>=A,y-=A,we=1<<32-Yt(r)+y|l<<y|h,Ie=b+i}else we=1<<b|l<<y|h,Ie=i}function Sn(i){i.return!==null&&(Ve(i,1),tt(i,1,0))}function nn(i){for(;i===S;)S=g[--x],g[x]=null,P=g[--x],g[x]=null;for(;i===ce;)ce=K[--ie],K[ie]=null,Ie=K[--ie],K[ie]=null,we=K[--ie],K[ie]=null}function ci(i,r){K[ie++]=we,K[ie++]=Ie,K[ie++]=ce,we=r.id,Ie=r.overflow,ce=i}var bt=null,xt=null,ot=!1,wr=null,Ii=!1,mc=Error(s(519));function Er(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(u(r,i)),mc}function pu(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Wt]=i,r[en]=h,l){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(l=0;l<Vu.length;l++)ct(Vu[l],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":ct("invalid",r),Fr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ct("invalid",r);break;case"textarea":ct("invalid",r),Ti(r,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||cb(r.textContent,l)?(h.popover!=null&&(ct("beforetoggle",r),ct("toggle",r)),h.onScroll!=null&&ct("scroll",r),h.onScrollEnd!=null&&ct("scrollend",r),h.onClick!=null&&(r.onclick=Zn),r=!0):r=!1,r||Er(i,!0)}function Qt(i){for(bt=i.return;bt;)switch(bt.tag){case 5:case 31:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:bt=bt.return}}function Ks(i){if(i!==bt)return!1;if(!ot)return Qt(i),ot=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Wp(i.type,i.memoizedProps)),l=!l),l&&xt&&Er(i),Qt(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=_b(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=_b(i)}else r===27?(r=xt,co(i.type)?(i=tg,tg=null,xt=i):xt=r):xt=bt?Rs(i.stateNode.nextSibling):null;return!0}function Jr(){xt=bt=null,ot=!1}function gu(){var i=wr;return i!==null&&(Oi===null?Oi=i:Oi.push.apply(Oi,i),wr=null),i}function fl(i){wr===null?wr=[i]:wr.push(i)}var ml=D(null),Tr=null,Ws=null;function Wa(i,r,l){me(ml,r._currentValue),r._currentValue=l}function ea(i){i._currentValue=ml.current,X(ml)}function Dm(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function km(i,r,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=y;for(var W=0;W<r.length;W++)if(M.context===r[W]){b.lanes|=l,M=b.alternate,M!==null&&(M.lanes|=l),Dm(b.return,l,i),h||(A=null);break e}b=M.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(s(341));A.lanes|=l,b=A.alternate,b!==null&&(b.lanes|=l),Dm(A,l,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function pc(i,r,l,h){i=null;for(var y=r,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var M=y.type;On(y.pendingProps.value,A.value)||(i!==null?i.push(M):i=[M])}}else if(y===qe.current){if(A=y.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Hu):i=[Hu])}y=y.return}i!==null&&km(r,i,l,h),r.flags|=262144}function Jh(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pl(i){Tr=i,Ws=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Un(i){return Y_(Tr,i)}function ed(i,r){return Tr===null&&pl(i),Y_(i,r)}function Y_(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ws===null){if(i===null)throw Error(s(308));Ws=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ws=Ws.next=r;return l}var JS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},e2=n.unstable_scheduleCallback,t2=n.unstable_NormalPriority,_n={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new JS,data:new Map,refCount:0}}function yu(i){i.refCount--,i.refCount===0&&e2(t2,function(){i.controller.abort()})}var _u=null,Vm=0,gc=0,yc=null;function n2(i,r){if(_u===null){var l=_u=[];Vm=0,gc=Bp(),yc={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Vm++,r.then(K_,K_),r}function K_(){if(--Vm===0&&_u!==null){yc!==null&&(yc.status="fulfilled");var i=_u;_u=null,gc=0,yc=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function i2(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var W_=re.S;re.S=function(i,r){L0=kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&n2(i,r),W_!==null&&W_(i,r)};var gl=D(null);function zm(){var i=gl.current;return i!==null?i:zt.pooledCache}function td(i,r){r===null?me(gl,gl.current):me(gl,r.pool)}function Q_(){var i=zm();return i===null?null:{parent:_n._currentValue,pool:i}}var _c=Error(s(460)),Um=Error(s(474)),nd=Error(s(542)),id={then:function(){}};function X_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function J_(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Zn,Zn),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,tv(i),i;default:if(typeof r.status=="string")r.then(Zn,Zn);else{if(i=zt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=h}},function(h){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,tv(i),i}throw _l=r,_c}}function yl(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(_l=l,_c):l}}var _l=null;function ev(){if(_l===null)throw Error(s(459));var i=_l;return _l=null,i}function tv(i){if(i===_c||i===nd)throw Error(s(483))}var vc=null,vu=0;function sd(i){var r=vu;return vu+=1,vc===null&&(vc=[]),J_(vc,i,r)}function bu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function rd(i,r){throw r.$$typeof===N?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function nv(i){function r(te,Q){if(i){var oe=te.deletions;oe===null?(te.deletions=[Q],te.flags|=16):oe.push(Q)}}function l(te,Q){if(!i)return null;for(;Q!==null;)r(te,Q),Q=Q.sibling;return null}function h(te){for(var Q=new Map;te!==null;)te.key!==null?Q.set(te.key,te):Q.set(te.index,te),te=te.sibling;return Q}function y(te,Q){return te=Cs(te,Q),te.index=0,te.sibling=null,te}function b(te,Q,oe){return te.index=oe,i?(oe=te.alternate,oe!==null?(oe=oe.index,oe<Q?(te.flags|=67108866,Q):oe):(te.flags|=67108866,Q)):(te.flags|=1048576,Q)}function A(te){return i&&te.alternate===null&&(te.flags|=67108866),te}function M(te,Q,oe,be){return Q===null||Q.tag!==6?(Q=fc(oe,te.mode,be),Q.return=te,Q):(Q=y(Q,oe),Q.return=te,Q)}function W(te,Q,oe,be){var ze=oe.type;return ze===z?_e(te,Q,oe.props.children,be,oe.key):Q!==null&&(Q.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===I&&yl(ze)===Q.type)?(Q=y(Q,oe.props),bu(Q,oe),Q.return=te,Q):(Q=dl(oe.type,oe.key,oe.props,null,te.mode,be),bu(Q,oe),Q.return=te,Q)}function le(te,Q,oe,be){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=mu(oe,te.mode,be),Q.return=te,Q):(Q=y(Q,oe.children||[]),Q.return=te,Q)}function _e(te,Q,oe,be,ze){return Q===null||Q.tag!==7?(Q=Xr(oe,te.mode,be,ze),Q.return=te,Q):(Q=y(Q,oe),Q.return=te,Q)}function Ee(te,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=fc(""+Q,te.mode,oe),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return oe=dl(Q.type,Q.key,Q.props,null,te.mode,oe),bu(oe,Q),oe.return=te,oe;case j:return Q=mu(Q,te.mode,oe),Q.return=te,Q;case I:return Q=yl(Q),Ee(te,Q,oe)}if(Ne(Q)||Y(Q))return Q=Xr(Q,te.mode,oe,null),Q.return=te,Q;if(typeof Q.then=="function")return Ee(te,sd(Q),oe);if(Q.$$typeof===$)return Ee(te,ed(te,Q),oe);rd(te,Q)}return null}function ue(te,Q,oe,be){var ze=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return ze!==null?null:M(te,Q,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return oe.key===ze?W(te,Q,oe,be):null;case j:return oe.key===ze?le(te,Q,oe,be):null;case I:return oe=yl(oe),ue(te,Q,oe,be)}if(Ne(oe)||Y(oe))return ze!==null?null:_e(te,Q,oe,be,null);if(typeof oe.then=="function")return ue(te,Q,sd(oe),be);if(oe.$$typeof===$)return ue(te,Q,ed(te,oe),be);rd(te,oe)}return null}function fe(te,Q,oe,be,ze){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return te=te.get(oe)||null,M(Q,te,""+be,ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case R:return te=te.get(be.key===null?oe:be.key)||null,W(Q,te,be,ze);case j:return te=te.get(be.key===null?oe:be.key)||null,le(Q,te,be,ze);case I:return be=yl(be),fe(te,Q,oe,be,ze)}if(Ne(be)||Y(be))return te=te.get(oe)||null,_e(Q,te,be,ze,null);if(typeof be.then=="function")return fe(te,Q,oe,sd(be),ze);if(be.$$typeof===$)return fe(te,Q,oe,ed(Q,be),ze);rd(Q,be)}return null}function De(te,Q,oe,be){for(var ze=null,wt=null,je=Q,nt=Q=0,dt=null;je!==null&&nt<oe.length;nt++){je.index>nt?(dt=je,je=null):dt=je.sibling;var Et=ue(te,je,oe[nt],be);if(Et===null){je===null&&(je=dt);break}i&&je&&Et.alternate===null&&r(te,je),Q=b(Et,Q,nt),wt===null?ze=Et:wt.sibling=Et,wt=Et,je=dt}if(nt===oe.length)return l(te,je),ot&&Ve(te,nt),ze;if(je===null){for(;nt<oe.length;nt++)je=Ee(te,oe[nt],be),je!==null&&(Q=b(je,Q,nt),wt===null?ze=je:wt.sibling=je,wt=je);return ot&&Ve(te,nt),ze}for(je=h(je);nt<oe.length;nt++)dt=fe(je,te,nt,oe[nt],be),dt!==null&&(i&&dt.alternate!==null&&je.delete(dt.key===null?nt:dt.key),Q=b(dt,Q,nt),wt===null?ze=dt:wt.sibling=dt,wt=dt);return i&&je.forEach(function(po){return r(te,po)}),ot&&Ve(te,nt),ze}function Fe(te,Q,oe,be){if(oe==null)throw Error(s(151));for(var ze=null,wt=null,je=Q,nt=Q=0,dt=null,Et=oe.next();je!==null&&!Et.done;nt++,Et=oe.next()){je.index>nt?(dt=je,je=null):dt=je.sibling;var po=ue(te,je,Et.value,be);if(po===null){je===null&&(je=dt);break}i&&je&&po.alternate===null&&r(te,je),Q=b(po,Q,nt),wt===null?ze=po:wt.sibling=po,wt=po,je=dt}if(Et.done)return l(te,je),ot&&Ve(te,nt),ze;if(je===null){for(;!Et.done;nt++,Et=oe.next())Et=Ee(te,Et.value,be),Et!==null&&(Q=b(Et,Q,nt),wt===null?ze=Et:wt.sibling=Et,wt=Et);return ot&&Ve(te,nt),ze}for(je=h(je);!Et.done;nt++,Et=oe.next())Et=fe(je,te,nt,Et.value,be),Et!==null&&(i&&Et.alternate!==null&&je.delete(Et.key===null?nt:Et.key),Q=b(Et,Q,nt),wt===null?ze=Et:wt.sibling=Et,wt=Et);return i&&je.forEach(function(mA){return r(te,mA)}),ot&&Ve(te,nt),ze}function Ot(te,Q,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===z&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:e:{for(var ze=oe.key;Q!==null;){if(Q.key===ze){if(ze=oe.type,ze===z){if(Q.tag===7){l(te,Q.sibling),be=y(Q,oe.props.children),be.return=te,te=be;break e}}else if(Q.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===I&&yl(ze)===Q.type){l(te,Q.sibling),be=y(Q,oe.props),bu(be,oe),be.return=te,te=be;break e}l(te,Q);break}else r(te,Q);Q=Q.sibling}oe.type===z?(be=Xr(oe.props.children,te.mode,be,oe.key),be.return=te,te=be):(be=dl(oe.type,oe.key,oe.props,null,te.mode,be),bu(be,oe),be.return=te,te=be)}return A(te);case j:e:{for(ze=oe.key;Q!==null;){if(Q.key===ze)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){l(te,Q.sibling),be=y(Q,oe.children||[]),be.return=te,te=be;break e}else{l(te,Q);break}else r(te,Q);Q=Q.sibling}be=mu(oe,te.mode,be),be.return=te,te=be}return A(te);case I:return oe=yl(oe),Ot(te,Q,oe,be)}if(Ne(oe))return De(te,Q,oe,be);if(Y(oe)){if(ze=Y(oe),typeof ze!="function")throw Error(s(150));return oe=ze.call(oe),Fe(te,Q,oe,be)}if(typeof oe.then=="function")return Ot(te,Q,sd(oe),be);if(oe.$$typeof===$)return Ot(te,Q,ed(te,oe),be);rd(te,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Q!==null&&Q.tag===6?(l(te,Q.sibling),be=y(Q,oe),be.return=te,te=be):(l(te,Q),be=fc(oe,te.mode,be),be.return=te,te=be),A(te)):l(te,Q)}return function(te,Q,oe,be){try{vu=0;var ze=Ot(te,Q,oe,be);return vc=null,ze}catch(je){if(je===_c||je===nd)throw je;var wt=Qn(29,je,null,te.mode);return wt.lanes=be,wt.return=te,wt}}}var vl=nv(!0),iv=nv(!1),Qa=!1;function Bm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Xa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ja(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Tt&2)!==0){var y=h.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),h.pending=r,r=hl(i),Ka(i,null,l),r}return xr(i,h,r,l),hl(i)}function xu(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}function Hm(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,l=l.next}while(l!==null);b===null?y=b=r:b=b.next=r}else y=b=r;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Fm=!1;function wu(){if(Fm){var i=yc;if(i!==null)throw i}}function Eu(i,r,l,h){Fm=!1;var y=i.updateQueue;Qa=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var W=M,le=W.next;W.next=null,A===null?b=le:A.next=le,A=W;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,M=_e.lastBaseUpdate,M!==A&&(M===null?_e.firstBaseUpdate=le:M.next=le,_e.lastBaseUpdate=W))}if(b!==null){var Ee=y.baseState;A=0,_e=le=W=null,M=b;do{var ue=M.lane&-536870913,fe=ue!==M.lane;if(fe?(ht&ue)===ue:(h&ue)===ue){ue!==0&&ue===gc&&(Fm=!0),_e!==null&&(_e=_e.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var De=i,Fe=M;ue=r;var Ot=l;switch(Fe.tag){case 1:if(De=Fe.payload,typeof De=="function"){Ee=De.call(Ot,Ee,ue);break e}Ee=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Fe.payload,ue=typeof De=="function"?De.call(Ot,Ee,ue):De,ue==null)break e;Ee=E({},Ee,ue);break e;case 2:Qa=!0}}ue=M.callback,ue!==null&&(i.flags|=64,fe&&(i.flags|=8192),fe=y.callbacks,fe===null?y.callbacks=[ue]:fe.push(ue))}else fe={lane:ue,tag:M.tag,payload:M.payload,callback:M.callback,next:null},_e===null?(le=_e=fe,W=Ee):_e=_e.next=fe,A|=ue;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;fe=M,M=fe.next,fe.next=null,y.lastBaseUpdate=fe,y.shared.pending=null}}while(!0);_e===null&&(W=Ee),y.baseState=W,y.firstBaseUpdate=le,y.lastBaseUpdate=_e,b===null&&(y.shared.lanes=0),so|=A,i.lanes=A,i.memoizedState=Ee}}function sv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function rv(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)sv(l[i],r)}var bc=D(null),ad=D(0);function av(i,r){i=ca,me(ad,i),me(bc,r),ca=i|r.baseLanes}function Gm(){me(ad,ca),me(bc,bc.current)}function Zm(){ca=ad.current,X(bc),X(ad)}var Qi=D(null),Ns=null;function eo(i){var r=i.alternate;me(dn,dn.current&1),me(Qi,i),Ns===null&&(r===null||bc.current!==null||r.memoizedState!==null)&&(Ns=i)}function $m(i){me(dn,dn.current),me(Qi,i),Ns===null&&(Ns=i)}function ov(i){i.tag===22?(me(dn,dn.current),me(Qi,i),Ns===null&&(Ns=i)):to()}function to(){me(dn,dn.current),me(Qi,Qi.current)}function Xi(i){X(Qi),Ns===i&&(Ns=null),X(dn)}var dn=D(0);function od(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Jp(l)||eg(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ta=0,et=null,Mt=null,vn=null,ld=!1,xc=!1,bl=!1,cd=0,Tu=0,wc=null,s2=0;function sn(){throw Error(s(321))}function Ym(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!On(i[l],r[l]))return!1;return!0}function Km(i,r,l,h,y,b){return ta=b,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,re.H=i===null||i.memoizedState===null?Fv:up,bl=!1,b=l(h,y),bl=!1,xc&&(b=cv(r,l,h,y)),lv(i),b}function lv(i){re.H=Cu;var r=Mt!==null&&Mt.next!==null;if(ta=0,vn=Mt=et=null,ld=!1,Tu=0,wc=null,r)throw Error(s(300));i===null||bn||(i=i.dependencies,i!==null&&Jh(i)&&(bn=!0))}function cv(i,r,l,h){et=i;var y=0;do{if(xc&&(wc=null),Tu=0,xc=!1,25<=y)throw Error(s(301));if(y+=1,vn=Mt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}re.H=Gv,b=r(l,h)}while(xc);return b}function r2(){var i=re.H,r=i.useState()[0];return r=typeof r.then=="function"?Su(r):r,i=i.useState()[0],(Mt!==null?Mt.memoizedState:null)!==i&&(et.flags|=1024),r}function Wm(){var i=cd!==0;return cd=0,i}function Qm(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Xm(i){if(ld){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ld=!1}ta=0,vn=Mt=et=null,xc=!1,Tu=cd=0,wc=null}function ui(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?et.memoizedState=vn=i:vn=vn.next=i,vn}function fn(){if(Mt===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var r=vn===null?et.memoizedState:vn.next;if(r!==null)vn=r,Mt=i;else{if(i===null)throw et.alternate===null?Error(s(467)):Error(s(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},vn===null?et.memoizedState=vn=i:vn=vn.next=i}return vn}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(i){var r=Tu;return Tu+=1,wc===null&&(wc=[]),i=J_(wc,i,r),r=et,(vn===null?r.memoizedState:vn.next)===null&&(r=r.alternate,re.H=r===null||r.memoizedState===null?Fv:up),i}function hd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Su(i);if(i.$$typeof===$)return Un(i)}throw Error(s(438,String(i)))}function Jm(i){var r=null,l=et.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=ud(),et.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=F;return r.index++,l}function na(i,r){return typeof r=="function"?r(i):r}function dd(i){var r=fn();return ep(r,Mt,i)}function ep(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var y=i.baseQueue,b=h.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}r.baseQueue=y=b,h.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{r=y.next;var M=A=null,W=null,le=r,_e=!1;do{var Ee=le.lane&-536870913;if(Ee!==le.lane?(ht&Ee)===Ee:(ta&Ee)===Ee){var ue=le.revertLane;if(ue===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ee===gc&&(_e=!0);else if((ta&ue)===ue){le=le.next,ue===gc&&(_e=!0);continue}else Ee={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(M=W=Ee,A=b):W=W.next=Ee,et.lanes|=ue,so|=ue;Ee=le.action,bl&&l(b,Ee),b=le.hasEagerState?le.eagerState:l(b,Ee)}else ue={lane:Ee,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(M=W=ue,A=b):W=W.next=ue,et.lanes|=Ee,so|=Ee;le=le.next}while(le!==null&&le!==r);if(W===null?A=b:W.next=M,!On(b,i.memoizedState)&&(bn=!0,_e&&(l=yc,l!==null)))throw l;i.memoizedState=b,i.baseState=A,i.baseQueue=W,h.lastRenderedState=b}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function tp(i){var r=fn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,b=r.memoizedState;if(y!==null){l.pending=null;var A=y=y.next;do b=i(b,A.action),A=A.next;while(A!==y);On(b,r.memoizedState)||(bn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,h]}function uv(i,r,l){var h=et,y=fn(),b=ot;if(b){if(l===void 0)throw Error(s(407));l=l()}else l=r();var A=!On((Mt||y).memoizedState,l);if(A&&(y.memoizedState=l,bn=!0),y=y.queue,sp(fv.bind(null,h,y,i),[i]),y.getSnapshot!==r||A||vn!==null&&vn.memoizedState.tag&1){if(h.flags|=2048,Ec(9,{destroy:void 0},dv.bind(null,h,y,l,r),null),zt===null)throw Error(s(349));b||(ta&127)!==0||hv(h,r,l)}return l}function hv(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=et.updateQueue,r===null?(r=ud(),et.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function dv(i,r,l,h){r.value=l,r.getSnapshot=h,mv(r)&&pv(i)}function fv(i,r,l){return l(function(){mv(r)&&pv(i)})}function mv(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!On(i,l)}catch{return!0}}function pv(i){var r=As(i,2);r!==null&&Di(r,i,2)}function np(i){var r=ui();if(typeof i=="function"){var l=i;if(i=l(),bl){si(!0);try{l()}finally{si(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:i},r}function gv(i,r,l,h){return i.baseState=l,ep(i,Mt,typeof h=="function"?h:na)}function a2(i,r,l,h,y){if(pd(i))throw Error(s(485));if(i=r.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};re.T!==null?l(!0):b.isTransition=!1,h(b),l=r.pending,l===null?(b.next=r.pending=b,yv(r,b)):(b.next=l.next,r.pending=l.next=b)}}function yv(i,r){var l=r.action,h=r.payload,y=i.state;if(r.isTransition){var b=re.T,A={};re.T=A;try{var M=l(y,h),W=re.S;W!==null&&W(A,M),_v(i,r,M)}catch(le){ip(i,r,le)}finally{b!==null&&A.types!==null&&(b.types=A.types),re.T=b}}else try{b=l(y,h),_v(i,r,b)}catch(le){ip(i,r,le)}}function _v(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){vv(i,r,h)},function(h){return ip(i,r,h)}):vv(i,r,l)}function vv(i,r,l){r.status="fulfilled",r.value=l,bv(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,yv(i,l)))}function ip(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,bv(r),r=r.next;while(r!==h)}i.action=null}function bv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function xv(i,r){return r}function wv(i,r){if(ot){var l=zt.formState;if(l!==null){e:{var h=et;if(ot){if(xt){t:{for(var y=xt,b=Ii;y.nodeType!==8;){if(!b){y=null;break t}if(y=Rs(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){xt=Rs(y.nextSibling),h=y.data==="F!";break e}}Er(h)}h=!1}h&&(r=l[0])}}return l=ui(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:r},l.queue=h,l=Bv.bind(null,et,h),h.dispatch=l,h=np(!1),b=cp.bind(null,et,!1,h.queue),h=ui(),y={state:r,dispatch:null,action:i,pending:null},h.queue=y,l=a2.bind(null,et,y,b,l),y.dispatch=l,h.memoizedState=i,[r,l,!1]}function Ev(i){var r=fn();return Tv(r,Mt,i)}function Tv(i,r,l){if(r=ep(i,r,xv)[0],i=dd(na)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=Su(r)}catch(A){throw A===_c?nd:A}else h=r;r=fn();var y=r.queue,b=y.dispatch;return l!==r.memoizedState&&(et.flags|=2048,Ec(9,{destroy:void 0},o2.bind(null,y,l),null)),[h,b,i]}function o2(i,r){i.action=r}function Sv(i){var r=fn(),l=Mt;if(l!==null)return Tv(r,l,i);fn(),r=r.memoizedState,l=fn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function Ec(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=et.updateQueue,r===null&&(r=ud(),et.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function Av(){return fn().memoizedState}function fd(i,r,l,h){var y=ui();et.flags|=i,y.memoizedState=Ec(1|r,{destroy:void 0},l,h===void 0?null:h)}function md(i,r,l,h){var y=fn();h=h===void 0?null:h;var b=y.memoizedState.inst;Mt!==null&&h!==null&&Ym(h,Mt.memoizedState.deps)?y.memoizedState=Ec(r,b,l,h):(et.flags|=i,y.memoizedState=Ec(1|r,b,l,h))}function Cv(i,r){fd(8390656,8,i,r)}function sp(i,r){md(2048,8,i,r)}function l2(i){et.flags|=4;var r=et.updateQueue;if(r===null)r=ud(),et.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function Nv(i){var r=fn().memoizedState;return l2({ref:r,nextImpl:i}),function(){if((Tt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Rv(i,r){return md(4,2,i,r)}function Iv(i,r){return md(4,4,i,r)}function Pv(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Mv(i,r,l){l=l!=null?l.concat([i]):null,md(4,4,Pv.bind(null,r,i),l)}function rp(){}function Lv(i,r){var l=fn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Ym(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function Ov(i,r){var l=fn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Ym(r,h[1]))return h[0];if(h=i(),bl){si(!0);try{i()}finally{si(!1)}}return l.memoizedState=[h,r],h}function ap(i,r,l){return l===void 0||(ta&1073741824)!==0&&(ht&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=D0(),et.lanes|=i,so|=i,l)}function Dv(i,r,l,h){return On(l,r)?l:bc.current!==null?(i=ap(i,l,h),On(i,r)||(bn=!0),i):(ta&42)===0||(ta&1073741824)!==0&&(ht&261930)===0?(bn=!0,i.memoizedState=l):(i=D0(),et.lanes|=i,so|=i,r)}function kv(i,r,l,h,y){var b=Se.p;Se.p=b!==0&&8>b?b:8;var A=re.T,M={};re.T=M,cp(i,!1,r,l);try{var W=y(),le=re.S;if(le!==null&&le(M,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var _e=i2(W,h);Au(i,r,_e,ts(i))}else Au(i,r,h,ts(i))}catch(Ee){Au(i,r,{then:function(){},status:"rejected",reason:Ee},ts())}finally{Se.p=b,A!==null&&M.types!==null&&(A.types=M.types),re.T=A}}function c2(){}function op(i,r,l,h){if(i.tag!==5)throw Error(s(476));var y=jv(i).queue;kv(i,y,r,ae,l===null?c2:function(){return Vv(i),l(h)})}function jv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:ae},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Vv(i){var r=jv(i);r.next===null&&(r=i.alternate.memoizedState),Au(i,r.next.queue,{},ts())}function lp(){return Un(Hu)}function zv(){return fn().memoizedState}function Uv(){return fn().memoizedState}function u2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ts();i=Xa(l);var h=Ja(r,i,l);h!==null&&(Di(h,r,l),xu(h,r,l)),r={cache:jm()},i.payload=r;return}r=r.return}}function h2(i,r,l){var h=ts();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pd(i)?qv(r,l):(l=hu(i,r,l,h),l!==null&&(Di(l,i,h),Hv(l,r,h)))}function Bv(i,r,l){var h=ts();Au(i,r,l,h)}function Au(i,r,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(pd(i))qv(r,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var A=r.lastRenderedState,M=b(A,l);if(y.hasEagerState=!0,y.eagerState=M,On(M,A))return xr(i,r,y,0),zt===null&&ul(),!1}catch{}if(l=hu(i,r,y,h),l!==null)return Di(l,i,h),Hv(l,r,h),!0}return!1}function cp(i,r,l,h){if(h={lane:2,revertLane:Bp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},pd(i)){if(r)throw Error(s(479))}else r=hu(i,l,h,2),r!==null&&Di(r,i,2)}function pd(i){var r=i.alternate;return i===et||r!==null&&r===et}function qv(i,r){xc=ld=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function Hv(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}var Cu={readContext:Un,use:hd,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};Cu.useEffectEvent=sn;var Fv={readContext:Un,use:hd,useCallback:function(i,r){return ui().memoizedState=[i,r===void 0?null:r],i},useContext:Un,useEffect:Cv,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,fd(4194308,4,Pv.bind(null,r,i),l)},useLayoutEffect:function(i,r){return fd(4194308,4,i,r)},useInsertionEffect:function(i,r){fd(4,2,i,r)},useMemo:function(i,r){var l=ui();r=r===void 0?null:r;var h=i();if(bl){si(!0);try{i()}finally{si(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=ui();if(l!==void 0){var y=l(r);if(bl){si(!0);try{l(r)}finally{si(!1)}}}else y=r;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=h2.bind(null,et,i),[h.memoizedState,i]},useRef:function(i){var r=ui();return i={current:i},r.memoizedState=i},useState:function(i){i=np(i);var r=i.queue,l=Bv.bind(null,et,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:rp,useDeferredValue:function(i,r){var l=ui();return ap(l,i,r)},useTransition:function(){var i=np(!1);return i=kv.bind(null,et,i.queue,!0,!1),ui().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=et,y=ui();if(ot){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),zt===null)throw Error(s(349));(ht&127)!==0||hv(h,r,l)}y.memoizedState=l;var b={value:l,getSnapshot:r};return y.queue=b,Cv(fv.bind(null,h,b,i),[i]),h.flags|=2048,Ec(9,{destroy:void 0},dv.bind(null,h,b,l,r),null),l},useId:function(){var i=ui(),r=zt.identifierPrefix;if(ot){var l=Ie,h=we;l=(h&~(1<<32-Yt(h)-1)).toString(32)+l,r="_"+r+"R_"+l,l=cd++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=s2++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:lp,useFormState:wv,useActionState:wv,useOptimistic:function(i){var r=ui();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=cp.bind(null,et,!0,l),l.dispatch=r,[i,r]},useMemoCache:Jm,useCacheRefresh:function(){return ui().memoizedState=u2.bind(null,et)},useEffectEvent:function(i){var r=ui(),l={impl:i};return r.memoizedState=l,function(){if((Tt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},up={readContext:Un,use:hd,useCallback:Lv,useContext:Un,useEffect:sp,useImperativeHandle:Mv,useInsertionEffect:Rv,useLayoutEffect:Iv,useMemo:Ov,useReducer:dd,useRef:Av,useState:function(){return dd(na)},useDebugValue:rp,useDeferredValue:function(i,r){var l=fn();return Dv(l,Mt.memoizedState,i,r)},useTransition:function(){var i=dd(na)[0],r=fn().memoizedState;return[typeof i=="boolean"?i:Su(i),r]},useSyncExternalStore:uv,useId:zv,useHostTransitionStatus:lp,useFormState:Ev,useActionState:Ev,useOptimistic:function(i,r){var l=fn();return gv(l,Mt,i,r)},useMemoCache:Jm,useCacheRefresh:Uv};up.useEffectEvent=Nv;var Gv={readContext:Un,use:hd,useCallback:Lv,useContext:Un,useEffect:sp,useImperativeHandle:Mv,useInsertionEffect:Rv,useLayoutEffect:Iv,useMemo:Ov,useReducer:tp,useRef:Av,useState:function(){return tp(na)},useDebugValue:rp,useDeferredValue:function(i,r){var l=fn();return Mt===null?ap(l,i,r):Dv(l,Mt.memoizedState,i,r)},useTransition:function(){var i=tp(na)[0],r=fn().memoizedState;return[typeof i=="boolean"?i:Su(i),r]},useSyncExternalStore:uv,useId:zv,useHostTransitionStatus:lp,useFormState:Sv,useActionState:Sv,useOptimistic:function(i,r){var l=fn();return Mt!==null?gv(l,Mt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Jm,useCacheRefresh:Uv};Gv.useEffectEvent=Nv;function hp(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var dp={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=ts(),y=Xa(h);y.payload=r,l!=null&&(y.callback=l),r=Ja(i,y,h),r!==null&&(Di(r,i,h),xu(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=ts(),y=Xa(h);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=Ja(i,y,h),r!==null&&(Di(r,i,h),xu(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ts(),h=Xa(l);h.tag=2,r!=null&&(h.callback=r),r=Ja(i,h,l),r!==null&&(Di(r,i,l),xu(r,i,l))}};function Zv(i,r,l,h,y,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,A):r.prototype&&r.prototype.isPureReactComponent?!Ga(l,h)||!Ga(y,b):!0}function $v(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&dp.enqueueReplaceState(r,r.state,null)}function xl(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function Yv(i){cl(i)}function Kv(i){console.error(i)}function Wv(i){cl(i)}function gd(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function Qv(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function fp(i,r,l){return l=Xa(l),l.tag=3,l.payload={element:null},l.callback=function(){gd(i,r)},l}function Xv(i){return i=Xa(i),i.tag=3,i}function Jv(i,r,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;i.payload=function(){return y(b)},i.callback=function(){Qv(r,l,h)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Qv(r,l,h),typeof y!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function d2(i,r,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&pc(r,l,y,!0),l=Qi.current,l!==null){switch(l.tag){case 31:case 13:return Ns===null?Nd():l.alternate===null&&rn===0&&(rn=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===id?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),Vp(i,h,y)),!1;case 22:return l.flags|=65536,h===id?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),Vp(i,h,y)),!1}throw Error(s(435,l.tag))}return Vp(i,h,y),Nd(),!1}if(ot)return r=Qi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,h!==mc&&(i=Error(s(422),{cause:h}),fl(u(i,l)))):(h!==mc&&(r=Error(s(423),{cause:h}),fl(u(r,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=u(h,l),y=fp(i.stateNode,h,y),Hm(i,y),rn!==4&&(rn=2)),!1;var b=Error(s(520),{cause:h});if(b=u(b,l),Du===null?Du=[b]:Du.push(b),rn!==4&&(rn=2),r===null)return!0;h=u(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=fp(l.stateNode,h,i),Hm(l,i),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ro===null||!ro.has(b))))return l.flags|=65536,y&=-y,l.lanes|=y,y=Xv(y),Jv(y,i,l,h),Hm(l,y),!1}l=l.return}while(l!==null);return!1}var mp=Error(s(461)),bn=!1;function Bn(i,r,l,h){r.child=i===null?iv(r,null,l,h):vl(r,i.child,l,h)}function e0(i,r,l,h,y){l=l.render;var b=r.ref;if("ref"in h){var A={};for(var M in h)M!=="ref"&&(A[M]=h[M])}else A=h;return pl(r),h=Km(i,r,l,A,b,y),M=Wm(),i!==null&&!bn?(Qm(i,r,y),ia(i,r,y)):(ot&&M&&Sn(r),r.flags|=1,Bn(i,r,h,y),r.child)}function t0(i,r,l,h,y){if(i===null){var b=l.type;return typeof b=="function"&&!dc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,n0(i,r,b,h,y)):(i=dl(l.type,null,h,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(b=i.child,!wp(i,y)){var A=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ga,l(A,h)&&i.ref===r.ref)return ia(i,r,y)}return r.flags|=1,i=Cs(b,h),i.ref=r.ref,i.return=r,r.child=i}function n0(i,r,l,h,y){if(i!==null){var b=i.memoizedProps;if(Ga(b,h)&&i.ref===r.ref)if(bn=!1,r.pendingProps=h=b,wp(i,y))(i.flags&131072)!==0&&(bn=!0);else return r.lanes=i.lanes,ia(i,r,y)}return pp(i,r,l,h,y)}function i0(i,r,l,h){var y=h.children,b=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(h=r.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,r.child=null;return s0(i,r,b,l,h)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&td(r,b!==null?b.cachePool:null),b!==null?av(r,b):Gm(),ov(r);else return h=r.lanes=536870912,s0(i,r,b!==null?b.baseLanes|l:l,l,h)}else b!==null?(td(r,b.cachePool),av(r,b),to(),r.memoizedState=null):(i!==null&&td(r,null),Gm(),to());return Bn(i,r,y,l),r.child}function Nu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function s0(i,r,l,h,y){var b=zm();return b=b===null?null:{parent:_n._currentValue,pool:b},r.memoizedState={baseLanes:l,cachePool:b},i!==null&&td(r,null),Gm(),ov(r),i!==null&&pc(i,r,h,!0),r.childLanes=y,null}function yd(i,r){return r=vd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function r0(i,r,l){return vl(r,i.child,null,l),i=yd(r,r.pendingProps),i.flags|=2,Xi(r),r.memoizedState=null,i}function f2(i,r,l){var h=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ot){if(h.mode==="hidden")return i=yd(r,h),r.lanes=536870912,Nu(null,i);if($m(r),(i=xt)?(i=yb(i,Ii),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:we,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},l=fu(i),l.return=r,r.child=l,bt=r,xt=null)):i=null,i===null)throw Er(r);return r.lanes=536870912,null}return yd(r,h)}var b=i.memoizedState;if(b!==null){var A=b.dehydrated;if($m(r),y)if(r.flags&256)r.flags&=-257,r=r0(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(bn||pc(i,r,l,!1),y=(l&i.childLanes)!==0,bn||y){if(h=zt,h!==null&&(A=Fo(h,l),A!==0&&A!==b.retryLane))throw b.retryLane=A,As(i,A),Di(h,i,A),mp;Nd(),r=r0(i,r,l)}else i=b.treeContext,xt=Rs(A.nextSibling),bt=r,ot=!0,wr=null,Ii=!1,i!==null&&ci(r,i),r=yd(r,h),r.flags|=4096;return r}return i=Cs(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function _d(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function pp(i,r,l,h,y){return pl(r),l=Km(i,r,l,h,void 0,y),h=Wm(),i!==null&&!bn?(Qm(i,r,y),ia(i,r,y)):(ot&&h&&Sn(r),r.flags|=1,Bn(i,r,l,y),r.child)}function a0(i,r,l,h,y,b){return pl(r),r.updateQueue=null,l=cv(r,h,l,y),lv(i),h=Wm(),i!==null&&!bn?(Qm(i,r,b),ia(i,r,b)):(ot&&h&&Sn(r),r.flags|=1,Bn(i,r,l,b),r.child)}function o0(i,r,l,h,y){if(pl(r),r.stateNode===null){var b=Qr,A=l.contextType;typeof A=="object"&&A!==null&&(b=Un(A)),b=new l(h,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=dp,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=h,b.state=r.memoizedState,b.refs={},Bm(r),A=l.contextType,b.context=typeof A=="object"&&A!==null?Un(A):Qr,b.state=r.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(hp(r,l,A,h),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&dp.enqueueReplaceState(b,b.state,null),Eu(r,h,b,y),wu(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){b=r.stateNode;var M=r.memoizedProps,W=xl(l,M);b.props=W;var le=b.context,_e=l.contextType;A=Qr,typeof _e=="object"&&_e!==null&&(A=Un(_e));var Ee=l.getDerivedStateFromProps;_e=typeof Ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,_e||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||le!==A)&&$v(r,b,h,A),Qa=!1;var ue=r.memoizedState;b.state=ue,Eu(r,h,b,y),wu(),le=r.memoizedState,M||ue!==le||Qa?(typeof Ee=="function"&&(hp(r,l,Ee,h),le=r.memoizedState),(W=Qa||Zv(r,l,W,h,ue,le,A))?(_e||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=le),b.props=h,b.state=le,b.context=A,h=W):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{b=r.stateNode,qm(i,r),A=r.memoizedProps,_e=xl(l,A),b.props=_e,Ee=r.pendingProps,ue=b.context,le=l.contextType,W=Qr,typeof le=="object"&&le!==null&&(W=Un(le)),M=l.getDerivedStateFromProps,(le=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==Ee||ue!==W)&&$v(r,b,h,W),Qa=!1,ue=r.memoizedState,b.state=ue,Eu(r,h,b,y),wu();var fe=r.memoizedState;A!==Ee||ue!==fe||Qa||i!==null&&i.dependencies!==null&&Jh(i.dependencies)?(typeof M=="function"&&(hp(r,l,M,h),fe=r.memoizedState),(_e=Qa||Zv(r,l,_e,h,ue,fe,W)||i!==null&&i.dependencies!==null&&Jh(i.dependencies))?(le||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,fe,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,fe,W)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=fe),b.props=h,b.state=fe,b.context=W,h=_e):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),h=!1)}return b=h,_d(i,r),h=(r.flags&128)!==0,b||h?(b=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,i!==null&&h?(r.child=vl(r,i.child,null,y),r.child=vl(r,null,l,y)):Bn(i,r,l,y),r.memoizedState=b.state,i=r.child):i=ia(i,r,y),i}function l0(i,r,l,h){return Jr(),r.flags|=256,Bn(i,r,l,h),r.child}var gp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yp(i){return{baseLanes:i,cachePool:Q_()}}function _p(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=es),i}function c0(i,r,l){var h=r.pendingProps,y=!1,b=(r.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(dn.current&2)!==0),A&&(y=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if(ot){if(y?eo(r):to(),(i=xt)?(i=yb(i,Ii),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:we,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},l=fu(i),l.return=r,r.child=l,bt=r,xt=null)):i=null,i===null)throw Er(r);return eg(i)?r.lanes=32:r.lanes=536870912,null}var M=h.children;return h=h.fallback,y?(to(),y=r.mode,M=vd({mode:"hidden",children:M},y),h=Xr(h,y,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,h=r.child,h.memoizedState=yp(l),h.childLanes=_p(i,A,l),r.memoizedState=gp,Nu(null,h)):(eo(r),vp(r,M))}var W=i.memoizedState;if(W!==null&&(M=W.dehydrated,M!==null)){if(b)r.flags&256?(eo(r),r.flags&=-257,r=bp(i,r,l)):r.memoizedState!==null?(to(),r.child=i.child,r.flags|=128,r=null):(to(),M=h.fallback,y=r.mode,h=vd({mode:"visible",children:h.children},y),M=Xr(M,y,l,null),M.flags|=2,h.return=r,M.return=r,h.sibling=M,r.child=h,vl(r,i.child,null,l),h=r.child,h.memoizedState=yp(l),h.childLanes=_p(i,A,l),r.memoizedState=gp,r=Nu(null,h));else if(eo(r),eg(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var le=A.dgst;A=le,h=Error(s(419)),h.stack="",h.digest=A,fl({value:h,source:null,stack:null}),r=bp(i,r,l)}else if(bn||pc(i,r,l,!1),A=(l&i.childLanes)!==0,bn||A){if(A=zt,A!==null&&(h=Fo(A,l),h!==0&&h!==W.retryLane))throw W.retryLane=h,As(i,h),Di(A,i,h),mp;Jp(M)||Nd(),r=bp(i,r,l)}else Jp(M)?(r.flags|=192,r.child=i.child,r=null):(i=W.treeContext,xt=Rs(M.nextSibling),bt=r,ot=!0,wr=null,Ii=!1,i!==null&&ci(r,i),r=vp(r,h.children),r.flags|=4096);return r}return y?(to(),M=h.fallback,y=r.mode,W=i.child,le=W.sibling,h=Cs(W,{mode:"hidden",children:h.children}),h.subtreeFlags=W.subtreeFlags&65011712,le!==null?M=Cs(le,M):(M=Xr(M,y,l,null),M.flags|=2),M.return=r,h.return=r,h.sibling=M,r.child=h,Nu(null,h),h=r.child,M=i.child.memoizedState,M===null?M=yp(l):(y=M.cachePool,y!==null?(W=_n._currentValue,y=y.parent!==W?{parent:W,pool:W}:y):y=Q_(),M={baseLanes:M.baseLanes|l,cachePool:y}),h.memoizedState=M,h.childLanes=_p(i,A,l),r.memoizedState=gp,Nu(i.child,h)):(eo(r),l=i.child,i=l.sibling,l=Cs(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=l,r.memoizedState=null,l)}function vp(i,r){return r=vd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function vd(i,r){return i=Qn(22,i,null,r),i.lanes=0,i}function bp(i,r,l){return vl(r,i.child,null,l),i=vp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function u0(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Dm(i.return,r,l)}function xp(i,r,l,h,y,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:b}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=l,A.tailMode=y,A.treeForkCount=b)}function h0(i,r,l){var h=r.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var A=dn.current,M=(A&2)!==0;if(M?(A=A&1|2,r.flags|=128):A&=1,me(dn,A),Bn(i,r,h,l),h=ot?P:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&u0(i,l,r);else if(i.tag===19)u0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)i=l.alternate,i!==null&&od(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),xp(r,!1,y,l,b,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&od(i)===null){r.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}xp(r,!0,l,null,b,h);break;case"together":xp(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function ia(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),so|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(pc(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Cs(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Cs(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function wp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Jh(i)))}function m2(i,r,l){switch(r.tag){case 3:At(r,r.stateNode.containerInfo),Wa(r,_n,i.memoizedState.cache),Jr();break;case 27:case 5:ji(r);break;case 4:At(r,r.stateNode.containerInfo);break;case 10:Wa(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,$m(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(eo(r),r.flags|=128,null):(l&r.child.childLanes)!==0?c0(i,r,l):(eo(r),i=ia(i,r,l),i!==null?i.sibling:null);eo(r);break;case 19:var y=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(pc(i,r,l,!1),h=(l&r.childLanes)!==0),y){if(h)return h0(i,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),me(dn,dn.current),h)break;return null;case 22:return r.lanes=0,i0(i,r,l,r.pendingProps);case 24:Wa(r,_n,i.memoizedState.cache)}return ia(i,r,l)}function d0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)bn=!0;else{if(!wp(i,l)&&(r.flags&128)===0)return bn=!1,m2(i,r,l);bn=(i.flags&131072)!==0}else bn=!1,ot&&(r.flags&1048576)!==0&&tt(r,P,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(i=yl(r.elementType),r.type=i,typeof i=="function")dc(i)?(h=xl(i,h),r.tag=1,r=o0(null,r,i,h,l)):(r.tag=0,r=pp(null,r,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===ee){r.tag=11,r=e0(null,r,i,h,l);break e}else if(y===B){r.tag=14,r=t0(null,r,i,h,l);break e}}throw r=de(i)||i,Error(s(306,r,""))}}return r;case 0:return pp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,y=xl(h,r.pendingProps),o0(i,r,h,y,l);case 3:e:{if(At(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var b=r.memoizedState;y=b.element,qm(i,r),Eu(r,h,null,l);var A=r.memoizedState;if(h=A.cache,Wa(r,_n,h),h!==b.cache&&km(r,[_n],l,!0),wu(),h=A.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=l0(i,r,h,l);break e}else if(h!==y){y=u(Error(s(424)),r),fl(y),r=l0(i,r,h,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,xt=Rs(i.firstChild),bt=r,ot=!0,wr=null,Ii=!0,l=iv(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Jr(),h===y){r=ia(i,r,l);break e}Bn(i,r,h,l)}r=r.child}return r;case 26:return _d(i,r),i===null?(l=Eb(r.type,null,r.pendingProps,null))?r.memoizedState=l:ot||(l=r.type,i=r.pendingProps,h=Dd(Ce.current).createElement(l),h[Wt]=r,h[en]=i,qn(h,l,i),tn(h),r.stateNode=h):r.memoizedState=Eb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ji(r),i===null&&ot&&(h=r.stateNode=bb(r.type,r.pendingProps,Ce.current),bt=r,Ii=!0,y=xt,co(r.type)?(tg=y,xt=Rs(h.firstChild)):xt=y),Bn(i,r,r.pendingProps.children,l),_d(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ot&&((y=h=xt)&&(h=F2(h,r.type,r.pendingProps,Ii),h!==null?(r.stateNode=h,bt=r,xt=Rs(h.firstChild),Ii=!1,y=!0):y=!1),y||Er(r)),ji(r),y=r.type,b=r.pendingProps,A=i!==null?i.memoizedProps:null,h=b.children,Wp(y,b)?h=null:A!==null&&Wp(y,A)&&(r.flags|=32),r.memoizedState!==null&&(y=Km(i,r,r2,null,null,l),Hu._currentValue=y),_d(i,r),Bn(i,r,h,l),r.child;case 6:return i===null&&ot&&((i=l=xt)&&(l=G2(l,r.pendingProps,Ii),l!==null?(r.stateNode=l,bt=r,xt=null,i=!0):i=!1),i||Er(r)),null;case 13:return c0(i,r,l);case 4:return At(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=vl(r,null,h,l):Bn(i,r,h,l),r.child;case 11:return e0(i,r,r.type,r.pendingProps,l);case 7:return Bn(i,r,r.pendingProps,l),r.child;case 8:return Bn(i,r,r.pendingProps.children,l),r.child;case 12:return Bn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,Wa(r,r.type,h.value),Bn(i,r,h.children,l),r.child;case 9:return y=r.type._context,h=r.pendingProps.children,pl(r),y=Un(y),h=h(y),r.flags|=1,Bn(i,r,h,l),r.child;case 14:return t0(i,r,r.type,r.pendingProps,l);case 15:return n0(i,r,r.type,r.pendingProps,l);case 19:return h0(i,r,l);case 31:return f2(i,r,l);case 22:return i0(i,r,l,r.pendingProps);case 24:return pl(r),h=Un(_n),i===null?(y=zm(),y===null&&(y=zt,b=jm(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=l),y=b),r.memoizedState={parent:h,cache:y},Bm(r),Wa(r,_n,y)):((i.lanes&l)!==0&&(qm(i,r),Eu(r,null,null,l),wu()),y=i.memoizedState,b=r.memoizedState,y.parent!==h?(y={parent:h,cache:h},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Wa(r,_n,h)):(h=b.cache,Wa(r,_n,h),h!==y.cache&&km(r,[_n],l,!0))),Bn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function sa(i){i.flags|=4}function Ep(i,r,l,h,y){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(z0())i.flags|=8192;else throw _l=id,Um}else i.flags&=-16777217}function f0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Nb(r))if(z0())i.flags|=8192;else throw _l=id,Um}function bd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Xl():536870912,i.lanes|=r,Cc|=r)}function Ru(i,r){if(!ot)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ft(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function p2(i,r,l){var h=r.pendingProps;switch(nn(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(r),null;case 1:return Ft(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),ea(_n),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ks(r)?sa(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gu())),Ft(r),null;case 26:var y=r.type,b=r.memoizedState;return i===null?(sa(r),b!==null?(Ft(r),f0(r,b)):(Ft(r),Ep(r,y,null,h,l))):b?b!==i.memoizedState?(sa(r),Ft(r),f0(r,b)):(Ft(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&sa(r),Ft(r),Ep(r,y,i,h,l)),null;case 27:if(ls(r),l=Ce.current,y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&sa(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}i=ve.current,Ks(r)?pu(r):(i=bb(y,h,l),r.stateNode=i,sa(r))}return Ft(r),null;case 5:if(ls(r),y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&sa(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}if(b=ve.current,Ks(r))pu(r);else{var A=Dd(Ce.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?A.createElement(y,{is:h.is}):A.createElement(y)}}b[Wt]=r,b[en]=h;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=b;e:switch(qn(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&sa(r)}}return Ft(r),Ep(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&sa(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ce.current,Ks(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,y=bt,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Wt]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||cb(i.nodeValue,l)),i||Er(r,!0)}else i=Dd(i).createTextNode(h),i[Wt]=r,r.stateNode=i}return Ft(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(h=Ks(r),l!==null){if(i===null){if(!h)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Wt]=r}else Jr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),i=!1}else l=gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(Xi(r),r):(Xi(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ft(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Ks(r),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Wt]=r}else Jr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),y=!1}else y=gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(Xi(r),r):(Xi(r),null)}return Xi(r),(r.flags&128)!==0?(r.lanes=l,r):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=r.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),bd(r,r.updateQueue),Ft(r),null);case 4:return Ct(),i===null&&Gp(r.stateNode.containerInfo),Ft(r),null;case 10:return ea(r.type),Ft(r),null;case 19:if(X(dn),h=r.memoizedState,h===null)return Ft(r),null;if(y=(r.flags&128)!==0,b=h.rendering,b===null)if(y)Ru(h,!1);else{if(rn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(b=od(i),b!==null){for(r.flags|=128,Ru(h,!1),i=b.updateQueue,r.updateQueue=i,bd(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)du(l,i),l=l.sibling;return me(dn,dn.current&1|2),ot&&Ve(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&kt()>Sd&&(r.flags|=128,y=!0,Ru(h,!1),r.lanes=4194304)}else{if(!y)if(i=od(b),i!==null){if(r.flags|=128,y=!0,i=i.updateQueue,r.updateQueue=i,bd(r,i),Ru(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!ot)return Ft(r),null}else 2*kt()-h.renderingStartTime>Sd&&l!==536870912&&(r.flags|=128,y=!0,Ru(h,!1),r.lanes=4194304);h.isBackwards?(b.sibling=r.child,r.child=b):(i=h.last,i!==null?i.sibling=b:r.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=kt(),i.sibling=null,l=dn.current,me(dn,y?l&1|2:l&1),ot&&Ve(r,h.treeForkCount),i):(Ft(r),null);case 22:case 23:return Xi(r),Zm(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(Ft(r),r.subtreeFlags&6&&(r.flags|=8192)):Ft(r),l=r.updateQueue,l!==null&&bd(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&X(gl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ea(_n),Ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function g2(i,r){switch(nn(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ea(_n),Ct(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ls(r),null;case 31:if(r.memoizedState!==null){if(Xi(r),r.alternate===null)throw Error(s(340));Jr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Xi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Jr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return X(dn),null;case 4:return Ct(),null;case 10:return ea(r.type),null;case 22:case 23:return Xi(r),Zm(),i!==null&&X(gl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ea(_n),null;case 25:return null;default:return null}}function m0(i,r){switch(nn(r),r.tag){case 3:ea(_n),Ct();break;case 26:case 27:case 5:ls(r);break;case 4:Ct();break;case 31:r.memoizedState!==null&&Xi(r);break;case 13:Xi(r);break;case 19:X(dn);break;case 10:ea(r.type);break;case 22:case 23:Xi(r),Zm(),i!==null&&X(gl);break;case 24:ea(_n)}}function Iu(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var b=l.create,A=l.inst;h=b(),A.destroy=h}l=l.next}while(l!==y)}}catch(M){Pt(r,r.return,M)}}function no(i,r,l){try{var h=r.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&i)===i){var A=h.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,y=r;var W=l,le=M;try{le()}catch(_e){Pt(y,W,_e)}}}h=h.next}while(h!==b)}}catch(_e){Pt(r,r.return,_e)}}function p0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{rv(r,l)}catch(h){Pt(i,i.return,h)}}}function g0(i,r,l){l.props=xl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Pt(i,r,h)}}function Pu(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){Pt(i,r,y)}}function Sr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){Pt(i,r,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Pt(i,r,y)}else l.current=null}function y0(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){Pt(i,i.return,y)}}function Tp(i,r,l){try{var h=i.stateNode;V2(h,i.type,l,r),h[en]=r}catch(y){Pt(i,i.return,y)}}function _0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&co(i.type)||i.tag===4}function Sp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&co(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ap(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Zn));else if(h!==4&&(h===27&&co(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Ap(i,r,l),i=i.sibling;i!==null;)Ap(i,r,l),i=i.sibling}function xd(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&co(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(xd(i,r,l),i=i.sibling;i!==null;)xd(i,r,l),i=i.sibling}function v0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);qn(r,h,l),r[Wt]=i,r[en]=l}catch(b){Pt(i,i.return,b)}}var ra=!1,xn=!1,Cp=!1,b0=typeof WeakSet=="function"?WeakSet:Set,kn=null;function y2(i,r){if(i=i.containerInfo,Yp=qd,i=rl(i),yr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var A=0,M=-1,W=-1,le=0,_e=0,Ee=i,ue=null;t:for(;;){for(var fe;Ee!==l||y!==0&&Ee.nodeType!==3||(M=A+y),Ee!==b||h!==0&&Ee.nodeType!==3||(W=A+h),Ee.nodeType===3&&(A+=Ee.nodeValue.length),(fe=Ee.firstChild)!==null;)ue=Ee,Ee=fe;for(;;){if(Ee===i)break t;if(ue===l&&++le===y&&(M=A),ue===b&&++_e===h&&(W=A),(fe=Ee.nextSibling)!==null)break;Ee=ue,ue=Ee.parentNode}Ee=fe}l=M===-1||W===-1?null:{start:M,end:W}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kp={focusedElem:i,selectionRange:l},qd=!1,kn=r;kn!==null;)if(r=kn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,kn=i;else for(;kn!==null;){switch(r=kn,b=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=r,y=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var De=xl(l.type,y);i=h.getSnapshotBeforeUpdate(De,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){Pt(l,l.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Xp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Xp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,kn=i;break}kn=r.return}}function x0(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:oa(i,l),h&4&&Iu(5,l);break;case 1:if(oa(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(A){Pt(l,l.return,A)}else{var y=xl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(y,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Pt(l,l.return,A)}}h&64&&p0(l),h&512&&Pu(l,l.return);break;case 3:if(oa(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{rv(i,r)}catch(A){Pt(l,l.return,A)}}break;case 27:r===null&&h&4&&v0(l);case 26:case 5:oa(i,l),r===null&&h&4&&y0(l),h&512&&Pu(l,l.return);break;case 12:oa(i,l);break;case 31:oa(i,l),h&4&&T0(i,l);break;case 13:oa(i,l),h&4&&S0(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=A2.bind(null,l),Z2(i,l))));break;case 22:if(h=l.memoizedState!==null||ra,!h){r=r!==null&&r.memoizedState!==null||xn,y=ra;var b=xn;ra=h,(xn=r)&&!b?la(i,l,(l.subtreeFlags&8772)!==0):oa(i,l),ra=y,xn=b}break;case 30:break;default:oa(i,l)}}function w0(i){var r=i.alternate;r!==null&&(i.alternate=null,w0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ma(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,Pi=!1;function aa(i,r,l){for(l=l.child;l!==null;)E0(i,r,l),l=l.sibling}function E0(i,r,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(_i,l)}catch{}switch(l.tag){case 26:xn||Sr(l,r),aa(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xn||Sr(l,r);var h=Zt,y=Pi;co(l.type)&&(Zt=l.stateNode,Pi=!1),aa(i,r,l),Uu(l.stateNode),Zt=h,Pi=y;break;case 5:xn||Sr(l,r);case 6:if(h=Zt,y=Pi,Zt=null,aa(i,r,l),Zt=h,Pi=y,Zt!==null)if(Pi)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(l.stateNode)}catch(b){Pt(l,r,b)}else try{Zt.removeChild(l.stateNode)}catch(b){Pt(l,r,b)}break;case 18:Zt!==null&&(Pi?(i=Zt,pb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Dc(i)):pb(Zt,l.stateNode));break;case 4:h=Zt,y=Pi,Zt=l.stateNode.containerInfo,Pi=!0,aa(i,r,l),Zt=h,Pi=y;break;case 0:case 11:case 14:case 15:no(2,l,r),xn||no(4,l,r),aa(i,r,l);break;case 1:xn||(Sr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&g0(l,r,h)),aa(i,r,l);break;case 21:aa(i,r,l);break;case 22:xn=(h=xn)||l.memoizedState!==null,aa(i,r,l),xn=h;break;default:aa(i,r,l)}}function T0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Dc(i)}catch(l){Pt(r,r.return,l)}}}function S0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dc(i)}catch(l){Pt(r,r.return,l)}}function _2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new b0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new b0),r;default:throw Error(s(435,i.tag))}}function wd(i,r){var l=_2(i);r.forEach(function(h){if(!l.has(h)){l.add(h);var y=C2.bind(null,i,h);h.then(y,y)}})}function Mi(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],b=i,A=r,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(co(M.type)){Zt=M.stateNode,Pi=!1;break e}break;case 5:Zt=M.stateNode,Pi=!1;break e;case 3:case 4:Zt=M.stateNode.containerInfo,Pi=!0;break e}M=M.return}if(Zt===null)throw Error(s(160));E0(b,A,y),Zt=null,Pi=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)A0(r,i),r=r.sibling}var Qs=null;function A0(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Mi(r,i),Li(i),h&4&&(no(3,i,i.return),Iu(3,i),no(5,i,i.return));break;case 1:Mi(r,i),Li(i),h&512&&(xn||l===null||Sr(l,l.return)),h&64&&ra&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=Qs;if(Mi(r,i),Li(i),h&512&&(xn||l===null||Sr(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[ps]||b[Wt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),qn(b,h,l),b[Wt]=i,tn(b),h=b;break e;case"link":var A=Ab("link","href",y).get(h+(l.href||""));if(A){for(var M=0;M<A.length;M++)if(b=A[M],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(M,1);break t}}b=y.createElement(h),qn(b,h,l),y.head.appendChild(b);break;case"meta":if(A=Ab("meta","content",y).get(h+(l.content||""))){for(M=0;M<A.length;M++)if(b=A[M],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(M,1);break t}}b=y.createElement(h),qn(b,h,l),y.head.appendChild(b);break;default:throw Error(s(468,h))}b[Wt]=i,tn(b),h=b}i.stateNode=h}else Cb(y,i.type,i.stateNode);else i.stateNode=Sb(y,h,i.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?Cb(y,i.type,i.stateNode):Sb(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Tp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Mi(r,i),Li(i),h&512&&(xn||l===null||Sr(l,l.return)),l!==null&&h&4&&Tp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Mi(r,i),Li(i),h&512&&(xn||l===null||Sr(l,l.return)),i.flags&32){y=i.stateNode;try{gn(y,"")}catch(De){Pt(i,i.return,De)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,Tp(i,y,l!==null?l.memoizedProps:y)),h&1024&&(Cp=!0);break;case 6:if(Mi(r,i),Li(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){Pt(i,i.return,De)}}break;case 3:if(Vd=null,y=Qs,Qs=kd(r.containerInfo),Mi(r,i),Qs=y,Li(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Dc(r.containerInfo)}catch(De){Pt(i,i.return,De)}Cp&&(Cp=!1,C0(i));break;case 4:h=Qs,Qs=kd(i.stateNode.containerInfo),Mi(r,i),Li(i),Qs=h;break;case 12:Mi(r,i),Li(i);break;case 31:Mi(r,i),Li(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 13:Mi(r,i),Li(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Td=kt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 22:y=i.memoizedState!==null;var W=l!==null&&l.memoizedState!==null,le=ra,_e=xn;if(ra=le||y,xn=_e||W,Mi(r,i),xn=_e,ra=le,Li(i),h&8192)e:for(r=i.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||W||ra||xn||wl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){W=l=r;try{if(b=W.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=W.stateNode;var Ee=W.memoizedProps.style,ue=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;M.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(De){Pt(W,W.return,De)}}}else if(r.tag===6){if(l===null){W=r;try{W.stateNode.nodeValue=y?"":W.memoizedProps}catch(De){Pt(W,W.return,De)}}}else if(r.tag===18){if(l===null){W=r;try{var fe=W.stateNode;y?gb(fe,!0):gb(W.stateNode,!1)}catch(De){Pt(W,W.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,wd(i,l))));break;case 19:Mi(r,i),Li(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 30:break;case 21:break;default:Mi(r,i),Li(i)}}function Li(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(_0(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var y=l.stateNode,b=Sp(i);xd(i,b,y);break;case 5:var A=l.stateNode;l.flags&32&&(gn(A,""),l.flags&=-33);var M=Sp(i);xd(i,M,A);break;case 3:case 4:var W=l.stateNode.containerInfo,le=Sp(i);Ap(i,le,W);break;default:throw Error(s(161))}}catch(_e){Pt(i,i.return,_e)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function C0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;C0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function oa(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)x0(i,r.alternate,r),r=r.sibling}function wl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:no(4,r,r.return),wl(r);break;case 1:Sr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&g0(r,r.return,l),wl(r);break;case 27:Uu(r.stateNode);case 26:case 5:Sr(r,r.return),wl(r);break;case 22:r.memoizedState===null&&wl(r);break;case 30:wl(r);break;default:wl(r)}i=i.sibling}}function la(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,y=i,b=r,A=b.flags;switch(b.tag){case 0:case 11:case 15:la(y,b,l),Iu(4,b);break;case 1:if(la(y,b,l),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(le){Pt(h,h.return,le)}if(h=b,y=h.updateQueue,y!==null){var M=h.stateNode;try{var W=y.shared.hiddenCallbacks;if(W!==null)for(y.shared.hiddenCallbacks=null,y=0;y<W.length;y++)sv(W[y],M)}catch(le){Pt(h,h.return,le)}}l&&A&64&&p0(b),Pu(b,b.return);break;case 27:v0(b);case 26:case 5:la(y,b,l),l&&h===null&&A&4&&y0(b),Pu(b,b.return);break;case 12:la(y,b,l);break;case 31:la(y,b,l),l&&A&4&&T0(y,b);break;case 13:la(y,b,l),l&&A&4&&S0(y,b);break;case 22:b.memoizedState===null&&la(y,b,l),Pu(b,b.return);break;case 30:break;default:la(y,b,l)}r=r.sibling}}function Np(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&yu(l))}function Rp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yu(i))}function Xs(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N0(i,r,l,h),r=r.sibling}function N0(i,r,l,h){var y=r.flags;switch(r.tag){case 0:case 11:case 15:Xs(i,r,l,h),y&2048&&Iu(9,r);break;case 1:Xs(i,r,l,h);break;case 3:Xs(i,r,l,h),y&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yu(i)));break;case 12:if(y&2048){Xs(i,r,l,h),i=r.stateNode;try{var b=r.memoizedProps,A=b.id,M=b.onPostCommit;typeof M=="function"&&M(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(W){Pt(r,r.return,W)}}else Xs(i,r,l,h);break;case 31:Xs(i,r,l,h);break;case 13:Xs(i,r,l,h);break;case 23:break;case 22:b=r.stateNode,A=r.alternate,r.memoizedState!==null?b._visibility&2?Xs(i,r,l,h):Mu(i,r):b._visibility&2?Xs(i,r,l,h):(b._visibility|=2,Tc(i,r,l,h,(r.subtreeFlags&10256)!==0||!1)),y&2048&&Np(A,r);break;case 24:Xs(i,r,l,h),y&2048&&Rp(r.alternate,r);break;default:Xs(i,r,l,h)}}function Tc(i,r,l,h,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=i,A=r,M=l,W=h,le=A.flags;switch(A.tag){case 0:case 11:case 15:Tc(b,A,M,W,y),Iu(8,A);break;case 23:break;case 22:var _e=A.stateNode;A.memoizedState!==null?_e._visibility&2?Tc(b,A,M,W,y):Mu(b,A):(_e._visibility|=2,Tc(b,A,M,W,y)),y&&le&2048&&Np(A.alternate,A);break;case 24:Tc(b,A,M,W,y),y&&le&2048&&Rp(A.alternate,A);break;default:Tc(b,A,M,W,y)}r=r.sibling}}function Mu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,y=h.flags;switch(h.tag){case 22:Mu(l,h),y&2048&&Np(h.alternate,h);break;case 24:Mu(l,h),y&2048&&Rp(h.alternate,h);break;default:Mu(l,h)}r=r.sibling}}var Lu=8192;function Sc(i,r,l){if(i.subtreeFlags&Lu)for(i=i.child;i!==null;)R0(i,r,l),i=i.sibling}function R0(i,r,l){switch(i.tag){case 26:Sc(i,r,l),i.flags&Lu&&i.memoizedState!==null&&sA(l,Qs,i.memoizedState,i.memoizedProps);break;case 5:Sc(i,r,l);break;case 3:case 4:var h=Qs;Qs=kd(i.stateNode.containerInfo),Sc(i,r,l),Qs=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Lu,Lu=16777216,Sc(i,r,l),Lu=h):Sc(i,r,l));break;default:Sc(i,r,l)}}function I0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ou(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];kn=h,M0(h,i)}I0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P0(i),i=i.sibling}function P0(i){switch(i.tag){case 0:case 11:case 15:Ou(i),i.flags&2048&&no(9,i,i.return);break;case 3:Ou(i);break;case 12:Ou(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ed(i)):Ou(i);break;default:Ou(i)}}function Ed(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];kn=h,M0(h,i)}I0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:no(8,r,r.return),Ed(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Ed(r));break;default:Ed(r)}i=i.sibling}}function M0(i,r){for(;kn!==null;){var l=kn;switch(l.tag){case 0:case 11:case 15:no(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,kn=h;else e:for(l=i;kn!==null;){h=kn;var y=h.sibling,b=h.return;if(w0(h),h===l){kn=null;break e}if(y!==null){y.return=b,kn=y;break e}kn=b}}}var v2={getCacheForType:function(i){var r=Un(_n),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return Un(_n).controller.signal}},b2=typeof WeakMap=="function"?WeakMap:Map,Tt=0,zt=null,lt=null,ht=0,It=0,Ji=null,io=!1,Ac=!1,Ip=!1,ca=0,rn=0,so=0,El=0,Pp=0,es=0,Cc=0,Du=null,Oi=null,Mp=!1,Td=0,L0=0,Sd=1/0,Ad=null,ro=null,An=0,ao=null,Nc=null,ua=0,Lp=0,Op=null,O0=null,ku=0,Dp=null;function ts(){return(Tt&2)!==0&&ht!==0?ht&-ht:re.T!==null?Bp():Go()}function D0(){if(es===0)if((ht&536870912)===0||ot){var i=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),es=i}else es=536870912;return i=Qi.current,i!==null&&(i.flags|=32),es}function Di(i,r,l){(i===zt&&(It===2||It===9)||i.cancelPendingCommit!==null)&&(Rc(i,0),oo(i,ht,es,!1)),Vs(i,l),((Tt&2)===0||i!==zt)&&(i===zt&&((Tt&2)===0&&(El|=l),rn===4&&oo(i,ht,es,!1)),Ar(i))}function k0(i,r,l){if((Tt&6)!==0)throw Error(s(327));var h=!l&&(r&127)===0&&(r&i.expiredLanes)===0||zi(i,r),y=h?E2(i,r):jp(i,r,!0),b=h;do{if(y===0){Ac&&!h&&oo(i,r,0,!1);break}else{if(l=i.current.alternate,b&&!x2(l)){y=jp(i,r,!1),b=!1;continue}if(y===2){if(b=r,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var M=i;y=Du;var W=M.current.memoizedState.isDehydrated;if(W&&(Rc(M,A).flags|=256),A=jp(M,A,!1),A!==2){if(Ip&&!W){M.errorRecoveryDisabledLanes|=b,El|=b,y=4;break e}b=Oi,Oi=y,b!==null&&(Oi===null?Oi=b:Oi.push.apply(Oi,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){Rc(i,0),oo(i,r,0,!0);break}e:{switch(h=i,b=y,b){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:oo(h,r,es,!io);break e;case 2:Oi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(y=Td+300-kt(),10<y)){if(oo(h,r,es,!io),fs(h,0,!0)!==0)break e;ua=r,h.timeoutHandle=fb(j0.bind(null,h,l,Oi,Ad,Mp,r,es,El,Cc,io,b,"Throttled",-0,0),y);break e}j0(h,l,Oi,Ad,Mp,r,es,El,Cc,io,b,null,-0,0)}}break}while(!0);Ar(i)}function j0(i,r,l,h,y,b,A,M,W,le,_e,Ee,ue,fe){if(i.timeoutHandle=-1,Ee=r.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},R0(r,b,Ee);var De=(b&62914560)===b?Td-kt():(b&4194048)===b?L0-kt():0;if(De=rA(Ee,De),De!==null){ua=b,i.cancelPendingCommit=De(G0.bind(null,i,r,b,l,h,y,A,M,W,_e,Ee,null,ue,fe)),oo(i,b,A,!le);return}}G0(i,r,b,l,h,y,A,M,W)}function x2(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],b=y.getSnapshot;y=y.value;try{if(!On(b(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function oo(i,r,l,h){r&=~Pp,r&=~El,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var y=r;0<y;){var b=31-Yt(y),A=1<<b;h[b]=-1,y&=~A}l!==0&&qr(i,l,r)}function Cd(){return(Tt&6)===0?(ju(0),!1):!0}function kp(){if(lt!==null){if(It===0)var i=lt.return;else i=lt,Ws=Tr=null,Xm(i),vc=null,vu=0,i=lt;for(;i!==null;)m0(i.alternate,i),i=i.return;lt=null}}function Rc(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,B2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ua=0,kp(),zt=i,lt=l=Cs(i.current,null),ht=r,It=0,Ji=null,io=!1,Ac=zi(i,r),Ip=!1,Cc=es=Pp=El=so=rn=0,Oi=Du=null,Mp=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var y=31-Yt(h),b=1<<y;r|=i[y],h&=~b}return ca=r,ul(),l}function V0(i,r){et=null,re.H=Cu,r===_c||r===nd?(r=ev(),It=3):r===Um?(r=ev(),It=4):It=r===mp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ji=r,lt===null&&(rn=1,gd(i,u(r,i.current)))}function z0(){var i=Qi.current;return i===null?!0:(ht&4194048)===ht?Ns===null:(ht&62914560)===ht||(ht&536870912)!==0?i===Ns:!1}function U0(){var i=re.H;return re.H=Cu,i===null?Cu:i}function B0(){var i=re.A;return re.A=v2,i}function Nd(){rn=4,io||(ht&4194048)!==ht&&Qi.current!==null||(Ac=!0),(so&134217727)===0&&(El&134217727)===0||zt===null||oo(zt,ht,es,!1)}function jp(i,r,l){var h=Tt;Tt|=2;var y=U0(),b=B0();(zt!==i||ht!==r)&&(Ad=null,Rc(i,r)),r=!1;var A=rn;e:do try{if(It!==0&&lt!==null){var M=lt,W=Ji;switch(It){case 8:kp(),A=6;break e;case 3:case 2:case 9:case 6:Qi.current===null&&(r=!0);var le=It;if(It=0,Ji=null,Ic(i,M,W,le),l&&Ac){A=0;break e}break;default:le=It,It=0,Ji=null,Ic(i,M,W,le)}}w2(),A=rn;break}catch(_e){V0(i,_e)}while(!0);return r&&i.shellSuspendCounter++,Ws=Tr=null,Tt=h,re.H=y,re.A=b,lt===null&&(zt=null,ht=0,ul()),A}function w2(){for(;lt!==null;)q0(lt)}function E2(i,r){var l=Tt;Tt|=2;var h=U0(),y=B0();zt!==i||ht!==r?(Ad=null,Sd=kt()+500,Rc(i,r)):Ac=zi(i,r);e:do try{if(It!==0&&lt!==null){r=lt;var b=Ji;t:switch(It){case 1:It=0,Ji=null,Ic(i,r,b,1);break;case 2:case 9:if(X_(b)){It=0,Ji=null,H0(r);break}r=function(){It!==2&&It!==9||zt!==i||(It=7),Ar(i)},b.then(r,r);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:X_(b)?(It=0,Ji=null,H0(r)):(It=0,Ji=null,Ic(i,r,b,7));break;case 5:var A=null;switch(lt.tag){case 26:A=lt.memoizedState;case 5:case 27:var M=lt;if(A?Nb(A):M.stateNode.complete){It=0,Ji=null;var W=M.sibling;if(W!==null)lt=W;else{var le=M.return;le!==null?(lt=le,Rd(le)):lt=null}break t}}It=0,Ji=null,Ic(i,r,b,5);break;case 6:It=0,Ji=null,Ic(i,r,b,6);break;case 8:kp(),rn=6;break e;default:throw Error(s(462))}}T2();break}catch(_e){V0(i,_e)}while(!0);return Ws=Tr=null,re.H=h,re.A=y,Tt=l,lt!==null?0:(zt=null,ht=0,ul(),rn)}function T2(){for(;lt!==null&&!rt();)q0(lt)}function q0(i){var r=d0(i.alternate,i,ca);i.memoizedProps=i.pendingProps,r===null?Rd(i):lt=r}function H0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=a0(l,r,r.pendingProps,r.type,void 0,ht);break;case 11:r=a0(l,r,r.pendingProps,r.type.render,r.ref,ht);break;case 5:Xm(r);default:m0(l,r),r=lt=du(r,ca),r=d0(l,r,ca)}i.memoizedProps=i.pendingProps,r===null?Rd(i):lt=r}function Ic(i,r,l,h){Ws=Tr=null,Xm(r),vc=null,vu=0;var y=r.return;try{if(d2(i,y,r,l,ht)){rn=1,gd(i,u(l,i.current)),lt=null;return}}catch(b){if(y!==null)throw lt=y,b;rn=1,gd(i,u(l,i.current)),lt=null;return}r.flags&32768?(ot||h===1?i=!0:Ac||(ht&536870912)!==0?i=!1:(io=i=!0,(h===2||h===9||h===3||h===6)&&(h=Qi.current,h!==null&&h.tag===13&&(h.flags|=16384))),F0(r,i)):Rd(r)}function Rd(i){var r=i;do{if((r.flags&32768)!==0){F0(r,io);return}i=r.return;var l=p2(r.alternate,r,ca);if(l!==null){lt=l;return}if(r=r.sibling,r!==null){lt=r;return}lt=r=i}while(r!==null);rn===0&&(rn=5)}function F0(i,r){do{var l=g2(i.alternate,i);if(l!==null){l.flags&=32767,lt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){lt=i;return}lt=i=l}while(i!==null);rn=6,lt=null}function G0(i,r,l,h,y,b,A,M,W){i.cancelPendingCommit=null;do Id();while(An!==0);if((Tt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(b=r.lanes|r.childLanes,b|=hc,uu(i,l,b,A,M,W),i===zt&&(lt=zt=null,ht=0),Nc=r,ao=i,ua=l,Lp=b,Op=y,O0=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,N2(js,function(){return W0(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=re.T,re.T=null,y=Se.p,Se.p=2,A=Tt,Tt|=4;try{y2(i,r,l)}finally{Tt=A,Se.p=y,re.T=h}}An=1,Z0(),$0(),Y0()}}function Z0(){if(An===1){An=0;var i=ao,r=Nc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=re.T,re.T=null;var h=Se.p;Se.p=2;var y=Tt;Tt|=4;try{A0(r,i);var b=Kp,A=rl(i.containerInfo),M=b.focusedElem,W=b.selectionRange;if(A!==M&&M&&M.ownerDocument&&oc(M.ownerDocument.documentElement,M)){if(W!==null&&yr(M)){var le=W.start,_e=W.end;if(_e===void 0&&(_e=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(_e,M.value.length);else{var Ee=M.ownerDocument||document,ue=Ee&&Ee.defaultView||window;if(ue.getSelection){var fe=ue.getSelection(),De=M.textContent.length,Fe=Math.min(W.start,De),Ot=W.end===void 0?Fe:Math.min(W.end,De);!fe.extend&&Fe>Ot&&(A=Ot,Ot=Fe,Fe=A);var te=sl(M,Fe),Q=sl(M,Ot);if(te&&Q&&(fe.rangeCount!==1||fe.anchorNode!==te.node||fe.anchorOffset!==te.offset||fe.focusNode!==Q.node||fe.focusOffset!==Q.offset)){var oe=Ee.createRange();oe.setStart(te.node,te.offset),fe.removeAllRanges(),Fe>Ot?(fe.addRange(oe),fe.extend(Q.node,Q.offset)):(oe.setEnd(Q.node,Q.offset),fe.addRange(oe))}}}}for(Ee=[],fe=M;fe=fe.parentNode;)fe.nodeType===1&&Ee.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ee.length;M++){var be=Ee[M];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}qd=!!Yp,Kp=Yp=null}finally{Tt=y,Se.p=h,re.T=l}}i.current=r,An=2}}function $0(){if(An===2){An=0;var i=ao,r=Nc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=re.T,re.T=null;var h=Se.p;Se.p=2;var y=Tt;Tt|=4;try{x0(i,r.alternate,r)}finally{Tt=y,Se.p=h,re.T=l}}An=3}}function Y0(){if(An===4||An===3){An=0,zn();var i=ao,r=Nc,l=ua,h=O0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?An=5:(An=0,Nc=ao=null,K0(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(ro=null),Oe(l),r=r.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(_i,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=re.T,y=Se.p,Se.p=2,re.T=null;try{for(var b=i.onRecoverableError,A=0;A<h.length;A++){var M=h[A];b(M.value,{componentStack:M.stack})}}finally{re.T=r,Se.p=y}}(ua&3)!==0&&Id(),Ar(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===Dp?ku++:(ku=0,Dp=i):ku=0,ju(0)}}function K0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,yu(r)))}function Id(){return Z0(),$0(),Y0(),W0()}function W0(){if(An!==5)return!1;var i=ao,r=Lp;Lp=0;var l=Oe(ua),h=re.T,y=Se.p;try{Se.p=32>l?32:l,re.T=null,l=Op,Op=null;var b=ao,A=ua;if(An=0,Nc=ao=null,ua=0,(Tt&6)!==0)throw Error(s(331));var M=Tt;if(Tt|=4,P0(b.current),N0(b,b.current,A,l),Tt=M,ju(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(_i,b)}catch{}return!0}finally{Se.p=y,re.T=h,K0(i,r)}}function Q0(i,r,l){r=u(l,r),r=fp(i.stateNode,r,2),i=Ja(i,r,2),i!==null&&(Vs(i,2),Ar(i))}function Pt(i,r,l){if(i.tag===3)Q0(i,i,l);else for(;r!==null;){if(r.tag===3){Q0(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ro===null||!ro.has(h))){i=u(l,i),l=Xv(2),h=Ja(r,l,2),h!==null&&(Jv(l,h,r,i),Vs(h,2),Ar(h));break}}r=r.return}}function Vp(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new b2;var y=new Set;h.set(r,y)}else y=h.get(r),y===void 0&&(y=new Set,h.set(r,y));y.has(l)||(Ip=!0,y.add(l),i=S2.bind(null,i,r,l),r.then(i,i))}function S2(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,zt===i&&(ht&l)===l&&(rn===4||rn===3&&(ht&62914560)===ht&&300>kt()-Td?(Tt&2)===0&&Rc(i,0):Pp|=l,Cc===ht&&(Cc=0)),Ar(i)}function X0(i,r){r===0&&(r=Xl()),i=As(i,r),i!==null&&(Vs(i,r),Ar(i))}function A2(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),X0(i,l)}function C2(i,r){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),X0(i,l)}function N2(i,r){return ke(i,r)}var Pd=null,Pc=null,zp=!1,Md=!1,Up=!1,lo=0;function Ar(i){i!==Pc&&i.next===null&&(Pc===null?Pd=Pc=i:Pc=Pc.next=i),Md=!0,zp||(zp=!0,I2())}function ju(i,r){if(!Up&&Md){Up=!0;do for(var l=!1,h=Pd;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var A=h.suspendedLanes,M=h.pingedLanes;b=(1<<31-Yt(42|i)+1)-1,b&=y&~(A&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,nb(h,b))}else b=ht,b=fs(h,h===zt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||zi(h,b)||(l=!0,nb(h,b));h=h.next}while(l);Up=!1}}function R2(){J0()}function J0(){Md=zp=!1;var i=0;lo!==0&&U2()&&(i=lo);for(var r=kt(),l=null,h=Pd;h!==null;){var y=h.next,b=eb(h,r);b===0?(h.next=null,l===null?Pd=y:l.next=y,y===null&&(Pc=l)):(l=h,(i!==0||(b&3)!==0)&&(Md=!0)),h=y}An!==0&&An!==5||ju(i),lo!==0&&(lo=0)}function eb(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-Yt(b),M=1<<A,W=y[A];W===-1?((M&l)===0||(M&h)!==0)&&(y[A]=cu(M,r)):W<=r&&(i.expiredLanes|=M),b&=~M}if(r=zt,l=ht,l=fs(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(It===2||It===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Je(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||zi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Je(h),Oe(l)){case 2:case 8:l=Ia;break;case 32:l=js;break;case 268435456:l=Bo;break;default:l=js}return h=tb.bind(null,i),l=ke(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Je(h),i.callbackPriority=2,i.callbackNode=null,2}function tb(i,r){if(An!==0&&An!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Id()&&i.callbackNode!==l)return null;var h=ht;return h=fs(i,i===zt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(k0(i,h,r),eb(i,kt()),i.callbackNode!=null&&i.callbackNode===l?tb.bind(null,i):null)}function nb(i,r){if(Id())return null;k0(i,r,!0)}function I2(){q2(function(){(Tt&6)!==0?ke(Br,R2):J0()})}function Bp(){if(lo===0){var i=gc;i===0&&(i=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),lo=i}return lo}function ib(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:dr(""+i)}function sb(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function P2(i,r,l,h,y){if(r==="submit"&&l&&l.stateNode===y){var b=ib((y[en]||null).action),A=h.submitter;A&&(r=(r=A[en]||null)?ib(r.formAction):A.getAttribute("formAction"),r!==null&&(b=r,A=null));var M=new ws("action","action",null,h,y);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(lo!==0){var W=A?sb(y,A):new FormData(y);op(l,{pending:!0,data:W,method:y.method,action:b},null,W)}}else typeof b=="function"&&(M.preventDefault(),W=A?sb(y,A):new FormData(y),op(l,{pending:!0,data:W,method:y.method,action:b},b,W))},currentTarget:y}]})}}for(var qp=0;qp<br.length;qp++){var Hp=br[qp],M2=Hp.toLowerCase(),L2=Hp[0].toUpperCase()+Hp.slice(1);Ni(M2,"on"+L2)}Ni(ol,"onAnimationEnd"),Ni(Wh,"onAnimationIteration"),Ni(ll,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Mm,"onTransitionRun"),Ni(Qh,"onTransitionStart"),Ni(Lm,"onTransitionCancel"),Ni(Ya,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ys("onBeforeInput",["compositionend","keypress","textInput","paste"]),ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function rb(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var b=void 0;if(r)for(var A=h.length-1;0<=A;A--){var M=h[A],W=M.instance,le=M.currentTarget;if(M=M.listener,W!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=le;try{b(y)}catch(_e){cl(_e)}y.currentTarget=null,b=W}else for(A=0;A<h.length;A++){if(M=h[A],W=M.instance,le=M.currentTarget,M=M.listener,W!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=le;try{b(y)}catch(_e){cl(_e)}y.currentTarget=null,b=W}}}}function ct(i,r){var l=r[Bi];l===void 0&&(l=r[Bi]=new Set);var h=i+"__bubble";l.has(h)||(ab(r,i,2,!1),l.add(h))}function Fp(i,r,l){var h=0;r&&(h|=4),ab(l,i,h,r)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Gp(i){if(!i[Ld]){i[Ld]=!0,Zo.forEach(function(l){l!=="selectionchange"&&(O2.has(l)||Fp(l,!1,i),Fp(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ld]||(r[Ld]=!0,Fp("selectionchange",!1,r))}}function ab(i,r,l,h){switch(Db(r)){case 2:var y=lA;break;case 8:y=cA;break;default:y=ag}l=y.bind(null,r,l,i),y=void 0,!qs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(r,l,{capture:!0,passive:y}):i.addEventListener(r,l,!0):y!==void 0?i.addEventListener(r,l,{passive:y}):i.addEventListener(r,l,!1)}function Zp(i,r,l,h,y){var b=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===y)break;if(A===4)for(A=h.return;A!==null;){var W=A.tag;if((W===3||W===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;M!==null;){if(A=qi(M),A===null)return;if(W=A.tag,W===5||W===6||W===26||W===27){h=b=A;continue e}M=M.parentNode}}h=h.return}Bs(function(){var le=b,_e=$n(l),Ee=[];e:{var ue=Xh.get(i);if(ue!==void 0){var fe=ws,De=i;switch(i){case"keypress":if(mr(l)===0)break e;case"keydown":case"keyup":fe=Jo;break;case"focusin":De="focus",fe=Yr;break;case"focusout":De="blur",fe=Yr;break;case"beforeblur":case"afterblur":fe=Yr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=T;break;case ol:case Wh:case ll:fe=Va;break;case Ya:fe=V;break;case"scroll":case"scrollend":fe=it;break;case"wheel":fe=he;break;case"copy":case"cut":case"paste":fe=oi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Zs;break;case"toggle":case"beforetoggle":fe=Ye}var Fe=(r&4)!==0,Ot=!Fe&&(i==="scroll"||i==="scrollend"),te=Fe?ue!==null?ue+"Capture":null:ue;Fe=[];for(var Q=le,oe;Q!==null;){var be=Q;if(oe=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||oe===null||te===null||(be=ai(Q,te),be!=null&&Fe.push(zu(Q,be,oe))),Ot)break;Q=Q.return}0<Fe.length&&(ue=new fe(ue,De,null,l,_e),Ee.push({event:ue,listeners:Fe}))}}if((r&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ue&&l!==ja&&(De=l.relatedTarget||l.fromElement)&&(qi(De)||De[Ui]))break e;if((fe||ue)&&(ue=_e.window===_e?_e:(ue=_e.ownerDocument)?ue.defaultView||ue.parentWindow:window,fe?(De=l.relatedTarget||l.toElement,fe=le,De=De?qi(De):null,De!==null&&(Ot=c(De),Fe=De.tag,De!==Ot||Fe!==5&&Fe!==27&&Fe!==6)&&(De=null)):(fe=null,De=le),fe!==De)){if(Fe=Yo,be="onMouseLeave",te="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=Zs,be="onPointerLeave",te="onPointerEnter",Q="pointer"),Ot=fe==null?ue:In(fe),oe=De==null?ue:In(De),ue=new Fe(be,Q+"leave",fe,l,_e),ue.target=Ot,ue.relatedTarget=oe,be=null,qi(_e)===le&&(Fe=new Fe(te,Q+"enter",De,l,_e),Fe.target=oe,Fe.relatedTarget=Ot,be=Fe),Ot=be,fe&&De)t:{for(Fe=D2,te=fe,Q=De,oe=0,be=te;be;be=Fe(be))oe++;be=0;for(var ze=Q;ze;ze=Fe(ze))be++;for(;0<oe-be;)te=Fe(te),oe--;for(;0<be-oe;)Q=Fe(Q),be--;for(;oe--;){if(te===Q||Q!==null&&te===Q.alternate){Fe=te;break t}te=Fe(te),Q=Fe(Q)}Fe=null}else Fe=null;fe!==null&&ob(Ee,ue,fe,Fe,!1),De!==null&&Ot!==null&&ob(Ee,Ot,De,Fe,!0)}}e:{if(ue=le?In(le):window,fe=ue.nodeName&&ue.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ue.type==="file")var wt=il;else if(Es(ue))if(Gh)wt=Pm;else{wt=Im;var je=$s}else fe=ue.nodeName,!fe||fe.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&hr(le.elementType)&&(wt=il):wt=Fa;if(wt&&(wt=wt(i,le))){Fh(Ee,wt,l,_e);break e}je&&je(i,ue,le),i==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&Hi(ue,"number",ue.value)}switch(je=le?In(le):window,i){case"focusin":(Es(je)||je.contentEditable==="true")&&(_r=je,cc=le,al=null);break;case"focusout":al=cc=_r=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,Yh(Ee,l,_e);break;case"selectionchange":if(lc)break;case"keydown":case"keyup":Yh(Ee,l,_e)}var nt;if(yt)e:{switch(i){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Ba?Kr(i,l)&&(dt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(dt="onCompositionStart");dt&&(Ci&&l.locale!=="ko"&&(Ba||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Ba&&(nt=Fi()):(Si=_e,Hs="value"in Si?Si.value:Si.textContent,Ba=!0)),je=Od(le,dt),0<je.length&&(dt=new $i(dt,i,null,l,_e),Ee.push({event:dt,listeners:je}),nt?dt.data=nt:(nt=Wr(l),nt!==null&&(dt.data=nt)))),(nt=Ai?Wi(i,l):qa(i,l))&&(dt=Od(le,"onBeforeInput"),0<dt.length&&(je=new $i("onBeforeInput","beforeinput",null,l,_e),Ee.push({event:je,listeners:dt}),je.data=nt)),P2(Ee,i,le,l,_e)}rb(Ee,r)})}function zu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Od(i,r){for(var l=r+"Capture",h=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=ai(i,l),y!=null&&h.unshift(zu(i,y,b)),y=ai(i,r),y!=null&&h.push(zu(i,y,b))),i.tag===3)return h;i=i.return}return[]}function D2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ob(i,r,l,h,y){for(var b=r._reactName,A=[];l!==null&&l!==h;){var M=l,W=M.alternate,le=M.stateNode;if(M=M.tag,W!==null&&W===h)break;M!==5&&M!==26&&M!==27||le===null||(W=le,y?(le=ai(l,b),le!=null&&A.unshift(zu(l,le,W))):y||(le=ai(l,b),le!=null&&A.push(zu(l,le,W)))),l=l.return}A.length!==0&&i.push({event:r,listeners:A})}var k2=/\r\n?/g,j2=/\u0000|\uFFFD/g;function lb(i){return(typeof i=="string"?i:""+i).replace(k2,`
`).replace(j2,"")}function cb(i,r){return r=lb(r),lb(i)===r}function Lt(i,r,l,h,y,b){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||gn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&gn(i,""+h);break;case"className":at(i,"class",h);break;case"tabIndex":at(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":at(i,l,h);break;case"style":Gr(i,h,b);break;case"data":if(r!=="object"){at(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=dr(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Lt(i,r,"name",y.name,y,null),Lt(i,r,"formEncType",y.formEncType,y,null),Lt(i,r,"formMethod",y.formMethod,y,null),Lt(i,r,"formTarget",y.formTarget,y,null)):(Lt(i,r,"encType",y.encType,y,null),Lt(i,r,"method",y.method,y,null),Lt(i,r,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=dr(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Zn);break;case"onScroll":h!=null&&ct("scroll",i);break;case"onScrollEnd":h!=null&&ct("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=dr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ct("beforetoggle",i),ct("toggle",i),st(i,"popover",h);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":st(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zr.get(l)||l,st(i,l,h))}}function $p(i,r,l,h,y,b){switch(l){case"style":Gr(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?gn(i,h):(typeof h=="number"||typeof h=="bigint")&&gn(i,""+h);break;case"onScroll":h!=null&&ct("scroll",i);break;case"onScrollEnd":h!=null&&ct("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),b=i[en]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(r,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):st(i,l,h)}}}function qn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",i),ct("load",i);var h=!1,y=!1,b;for(b in l)if(l.hasOwnProperty(b)){var A=l[b];if(A!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Lt(i,r,b,A,l,null)}}y&&Lt(i,r,"srcSet",l.srcSet,l,null),h&&Lt(i,r,"src",l.src,l,null);return;case"input":ct("invalid",i);var M=b=A=y=null,W=null,le=null;for(h in l)if(l.hasOwnProperty(h)){var _e=l[h];if(_e!=null)switch(h){case"name":y=_e;break;case"type":A=_e;break;case"checked":W=_e;break;case"defaultChecked":le=_e;break;case"value":b=_e;break;case"defaultValue":M=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,r));break;default:Lt(i,r,h,_e,l,null)}}Fr(i,b,M,W,le,A,y,!1);return;case"select":ct("invalid",i),h=A=b=null;for(y in l)if(l.hasOwnProperty(y)&&(M=l[y],M!=null))switch(y){case"value":b=M;break;case"defaultValue":A=M;break;case"multiple":h=M;default:Lt(i,r,y,M,l,null)}r=b,l=A,i.multiple=!!h,r!=null?Rt(i,!!h,r,!1):l!=null&&Rt(i,!!h,l,!0);return;case"textarea":ct("invalid",i),b=y=h=null;for(A in l)if(l.hasOwnProperty(A)&&(M=l[A],M!=null))switch(A){case"value":h=M;break;case"defaultValue":y=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Lt(i,r,A,M,l,null)}Ti(i,h,y,b);return;case"option":for(W in l)l.hasOwnProperty(W)&&(h=l[W],h!=null)&&(W==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":Lt(i,r,W,h,l,null));return;case"dialog":ct("beforetoggle",i),ct("toggle",i),ct("cancel",i),ct("close",i);break;case"iframe":case"object":ct("load",i);break;case"video":case"audio":for(h=0;h<Vu.length;h++)ct(Vu[h],i);break;case"image":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"embed":case"source":case"link":ct("error",i),ct("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in l)if(l.hasOwnProperty(le)&&(h=l[le],h!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Lt(i,r,le,h,l,null)}return;default:if(hr(r)){for(_e in l)l.hasOwnProperty(_e)&&(h=l[_e],h!==void 0&&$p(i,r,_e,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&Lt(i,r,M,h,l,null))}function V2(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,M=null,W=null,le=null,_e=null;for(fe in l){var Ee=l[fe];if(l.hasOwnProperty(fe)&&Ee!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":W=Ee;default:h.hasOwnProperty(fe)||Lt(i,r,fe,null,h,Ee)}}for(var ue in h){var fe=h[ue];if(Ee=l[ue],h.hasOwnProperty(ue)&&(fe!=null||Ee!=null))switch(ue){case"type":b=fe;break;case"name":y=fe;break;case"checked":le=fe;break;case"defaultChecked":_e=fe;break;case"value":A=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,r));break;default:fe!==Ee&&Lt(i,r,ue,fe,h,Ee)}}Da(i,A,M,W,le,_e,b,y);return;case"select":fe=A=M=ue=null;for(b in l)if(W=l[b],l.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":fe=W;default:h.hasOwnProperty(b)||Lt(i,r,b,null,h,W)}for(y in h)if(b=h[y],W=l[y],h.hasOwnProperty(y)&&(b!=null||W!=null))switch(y){case"value":ue=b;break;case"defaultValue":M=b;break;case"multiple":A=b;default:b!==W&&Lt(i,r,y,b,h,W)}r=M,l=A,h=fe,ue!=null?Rt(i,!!l,ue,!1):!!h!=!!l&&(r!=null?Rt(i,!!l,r,!0):Rt(i,!!l,l?[]:"",!1));return;case"textarea":fe=ue=null;for(M in l)if(y=l[M],l.hasOwnProperty(M)&&y!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Lt(i,r,M,null,h,y)}for(A in h)if(y=h[A],b=l[A],h.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":ue=y;break;case"defaultValue":fe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==b&&Lt(i,r,A,y,h,b)}vs(i,ue,fe);return;case"option":for(var De in l)ue=l[De],l.hasOwnProperty(De)&&ue!=null&&!h.hasOwnProperty(De)&&(De==="selected"?i.selected=!1:Lt(i,r,De,null,h,ue));for(W in h)ue=h[W],fe=l[W],h.hasOwnProperty(W)&&ue!==fe&&(ue!=null||fe!=null)&&(W==="selected"?i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol":Lt(i,r,W,ue,h,fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)ue=l[Fe],l.hasOwnProperty(Fe)&&ue!=null&&!h.hasOwnProperty(Fe)&&Lt(i,r,Fe,null,h,ue);for(le in h)if(ue=h[le],fe=l[le],h.hasOwnProperty(le)&&ue!==fe&&(ue!=null||fe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:Lt(i,r,le,ue,h,fe)}return;default:if(hr(r)){for(var Ot in l)ue=l[Ot],l.hasOwnProperty(Ot)&&ue!==void 0&&!h.hasOwnProperty(Ot)&&$p(i,r,Ot,void 0,h,ue);for(_e in h)ue=h[_e],fe=l[_e],!h.hasOwnProperty(_e)||ue===fe||ue===void 0&&fe===void 0||$p(i,r,_e,ue,h,fe);return}}for(var te in l)ue=l[te],l.hasOwnProperty(te)&&ue!=null&&!h.hasOwnProperty(te)&&Lt(i,r,te,null,h,ue);for(Ee in h)ue=h[Ee],fe=l[Ee],!h.hasOwnProperty(Ee)||ue===fe||ue==null&&fe==null||Lt(i,r,Ee,ue,h,fe)}function ub(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],b=y.transferSize,A=y.initiatorType,M=y.duration;if(b&&M&&ub(A)){for(A=0,M=y.responseEnd,h+=1;h<l.length;h++){var W=l[h],le=W.startTime;if(le>M)break;var _e=W.transferSize,Ee=W.initiatorType;_e&&ub(Ee)&&(W=W.responseEnd,A+=_e*(W<M?1:(M-le)/(W-le)))}if(--h,r+=8*(b+A)/(y.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Yp=null,Kp=null;function Dd(i){return i.nodeType===9?i:i.ownerDocument}function hb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function db(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Wp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qp=null;function U2(){var i=window.event;return i&&i.type==="popstate"?i===Qp?!1:(Qp=i,!0):(Qp=null,!1)}var fb=typeof setTimeout=="function"?setTimeout:void 0,B2=typeof clearTimeout=="function"?clearTimeout:void 0,mb=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof mb<"u"?function(i){return mb.resolve(null).then(i).catch(H2)}:fb;function H2(i){setTimeout(function(){throw i})}function co(i){return i==="head"}function pb(i,r){var l=r,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),Dc(r);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Uu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Uu(l);for(var b=l.firstChild;b;){var A=b.nextSibling,M=b.nodeName;b[ps]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=A}}else l==="body"&&Uu(i.ownerDocument.body);l=y}while(l);Dc(r)}function gb(i,r){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Xp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Xp(l),Ma(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function F2(i,r,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ps])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Rs(i.nextSibling),i===null)break}return null}function G2(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Rs(i.nextSibling),i===null))return null;return i}function yb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Rs(i.nextSibling),i===null))return null;return i}function Jp(i){return i.data==="$?"||i.data==="$~"}function eg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Z2(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Rs(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var tg=null;function _b(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Rs(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function vb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function bb(i,r,l){switch(r=Dd(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Uu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ma(i)}var Is=new Map,xb=new Set;function kd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ha=Se.d;Se.d={f:$2,r:Y2,D:K2,C:W2,L:Q2,m:X2,X:eA,S:J2,M:tA};function $2(){var i=ha.f(),r=Cd();return i||r}function Y2(i){var r=xi(i);r!==null&&r.tag===5&&r.type==="form"?Vv(r):ha.r(i)}var Mc=typeof document>"u"?null:document;function wb(i,r,l){var h=Mc;if(h&&typeof r=="string"&&r){var y=jt(r);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),xb.has(y)||(xb.add(y),i={rel:i,crossOrigin:l,href:r},h.querySelector(y)===null&&(r=h.createElement("link"),qn(r,"link",i),tn(r),h.head.appendChild(r)))}}function K2(i){ha.D(i),wb("dns-prefetch",i,null)}function W2(i,r){ha.C(i,r),wb("preconnect",i,r)}function Q2(i,r,l){ha.L(i,r,l);var h=Mc;if(h&&i&&r){var y='link[rel="preload"][as="'+jt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+jt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+jt(l.imageSizes)+'"]')):y+='[href="'+jt(i)+'"]';var b=y;switch(r){case"style":b=Lc(i);break;case"script":b=Oc(i)}Is.has(b)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Is.set(b,i),h.querySelector(y)!==null||r==="style"&&h.querySelector(Bu(b))||r==="script"&&h.querySelector(qu(b))||(r=h.createElement("link"),qn(r,"link",i),tn(r),h.head.appendChild(r)))}}function X2(i,r){ha.m(i,r);var l=Mc;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+jt(h)+'"][href="'+jt(i)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Oc(i)}if(!Is.has(b)&&(i=E({rel:"modulepreload",href:i},r),Is.set(b,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qu(b)))return}h=l.createElement("link"),qn(h,"link",i),tn(h),l.head.appendChild(h)}}}function J2(i,r,l){ha.S(i,r,l);var h=Mc;if(h&&i){var y=gs(h).hoistableStyles,b=Lc(i);r=r||"default";var A=y.get(b);if(!A){var M={loading:0,preload:null};if(A=h.querySelector(Bu(b)))M.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Is.get(b))&&ng(i,l);var W=A=h.createElement("link");tn(W),qn(W,"link",i),W._p=new Promise(function(le,_e){W.onload=le,W.onerror=_e}),W.addEventListener("load",function(){M.loading|=1}),W.addEventListener("error",function(){M.loading|=2}),M.loading|=4,jd(A,r,h)}A={type:"stylesheet",instance:A,count:1,state:M},y.set(b,A)}}}function eA(i,r){ha.X(i,r);var l=Mc;if(l&&i){var h=gs(l).hoistableScripts,y=Oc(i),b=h.get(y);b||(b=l.querySelector(qu(y)),b||(i=E({src:i,async:!0},r),(r=Is.get(y))&&ig(i,r),b=l.createElement("script"),tn(b),qn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function tA(i,r){ha.M(i,r);var l=Mc;if(l&&i){var h=gs(l).hoistableScripts,y=Oc(i),b=h.get(y);b||(b=l.querySelector(qu(y)),b||(i=E({src:i,async:!0,type:"module"},r),(r=Is.get(y))&&ig(i,r),b=l.createElement("script"),tn(b),qn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function Eb(i,r,l,h){var y=(y=Ce.current)?kd(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Lc(l.href),l=gs(y).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Lc(l.href);var b=gs(y).hoistableStyles,A=b.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=y.querySelector(Bu(i)))&&!b._p&&(A.instance=b,A.state.loading=5),Is.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Is.set(i,l),b||nA(y,i,l,A.state))),r&&h===null)throw Error(s(528,""));return A}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Oc(l),l=gs(y).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Lc(i){return'href="'+jt(i)+'"'}function Bu(i){return'link[rel="stylesheet"]['+i+"]"}function Tb(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function nA(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),qn(r,"link",l),tn(r),i.head.appendChild(r))}function Oc(i){return'[src="'+jt(i)+'"]'}function qu(i){return"script[async]"+i}function Sb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+jt(l.href)+'"]');if(h)return r.instance=h,tn(h),h;var y=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),tn(h),qn(h,"style",y),jd(h,l.precedence,i),r.instance=h;case"stylesheet":y=Lc(l.href);var b=i.querySelector(Bu(y));if(b)return r.state.loading|=4,r.instance=b,tn(b),b;h=Tb(l),(y=Is.get(y))&&ng(h,y),b=(i.ownerDocument||i).createElement("link"),tn(b);var A=b;return A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),qn(b,"link",h),r.state.loading|=4,jd(b,l.precedence,i),r.instance=b;case"script":return b=Oc(l.src),(y=i.querySelector(qu(b)))?(r.instance=y,tn(y),y):(h=l,(y=Is.get(b))&&(h=E({},l),ig(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),tn(y),qn(y,"link",h),i.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,jd(h,l.precedence,i));return r.instance}function jd(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,A=0;A<h.length;A++){var M=h[A];if(M.dataset.precedence===r)b=M;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ig(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Vd=null;function Ab(i,r,l){if(Vd===null){var h=new Map,y=Vd=new Map;y.set(l,h)}else y=Vd,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var b=l[y];if(!(b[ps]||b[Wt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(r)||"";A=i+A;var M=h.get(A);M?M.push(b):h.set(A,[b])}}return h}function Cb(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function iA(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Nb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function sA(i,r,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Lc(h.href),b=r.querySelector(Bu(y));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=zd.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=b,tn(b);return}b=r.ownerDocument||r,h=Tb(h),(y=Is.get(y))&&ng(h,y),b=b.createElement("link"),tn(b);var A=b;A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),qn(b,"link",h),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=zd.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var sg=0;function rA(i,r){return i.stylesheets&&i.count===0&&Bd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+r);0<i.imgBytes&&sg===0&&(sg=62500*z2());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>sg?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ud=null;function Bd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ud=new Map,r.forEach(aA,i),Ud=null,zd.call(i))}function aA(i,r){if(!(r.state.loading&4)){var l=Ud.get(i);if(l)var h=l.get(null);else{l=new Map,Ud.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),h=A)}h&&l.set(null,h)}y=r.instance,A=y.getAttribute("data-precedence"),b=l.get(A)||h,b===h&&l.set(null,y),l.set(A,y),this.count++,h=zd.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),r.state.loading|=4}}var Hu={$$typeof:$,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function oA(i,r,l,h,y,b,A,M,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.hiddenUpdates=ms(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Rb(i,r,l,h,y,b,A,M,W,le,_e,Ee){return i=new oA(i,r,l,A,W,le,_e,Ee,M),r=1,b===!0&&(r|=24),b=Qn(3,null,null,r),i.current=b,b.stateNode=i,r=jm(),r.refCount++,i.pooledCache=r,r.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:r},Bm(b),i}function Ib(i){return i?(i=Qr,i):Qr}function Pb(i,r,l,h,y,b){y=Ib(y),h.context===null?h.context=y:h.pendingContext=y,h=Xa(r),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=Ja(i,h,r),l!==null&&(Di(l,i,r),xu(l,i,r))}function Mb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function rg(i,r){Mb(i,r),(i=i.alternate)&&Mb(i,r)}function Lb(i){if(i.tag===13||i.tag===31){var r=As(i,67108864);r!==null&&Di(r,i,67108864),rg(i,67108864)}}function Ob(i){if(i.tag===13||i.tag===31){var r=ts();r=Rn(r);var l=As(i,r);l!==null&&Di(l,i,r),rg(i,r)}}var qd=!0;function lA(i,r,l,h){var y=re.T;re.T=null;var b=Se.p;try{Se.p=2,ag(i,r,l,h)}finally{Se.p=b,re.T=y}}function cA(i,r,l,h){var y=re.T;re.T=null;var b=Se.p;try{Se.p=8,ag(i,r,l,h)}finally{Se.p=b,re.T=y}}function ag(i,r,l,h){if(qd){var y=og(h);if(y===null)Zp(i,r,h,Hd,l),kb(i,h);else if(hA(y,i,r,l,h))h.stopPropagation();else if(kb(i,h),r&4&&-1<uA.indexOf(i)){for(;y!==null;){var b=xi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=ds(b.pendingLanes);if(A!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var W=1<<31-Yt(A);M.entanglements[1]|=W,A&=~W}Ar(b),(Tt&6)===0&&(Sd=kt()+500,ju(0))}}break;case 31:case 13:M=As(b,2),M!==null&&Di(M,b,2),Cd(),rg(b,2)}if(b=og(h),b===null&&Zp(i,r,h,Hd,l),b===y)break;y=b}y!==null&&h.stopPropagation()}else Zp(i,r,h,null,l)}}function og(i){return i=$n(i),lg(i)}var Hd=null;function lg(i){if(Hd=null,i=qi(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=d(r),i!==null)return i;i=null}else if(l===31){if(i=_(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Hd=i,null}function Db(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case Br:return 2;case Ia:return 8;case js:case lu:return 32;case Bo:return 268435456;default:return 32}default:return 32}}var cg=!1,uo=null,ho=null,fo=null,Fu=new Map,Gu=new Map,mo=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kb(i,r){switch(i){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":Fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(r.pointerId)}}function Zu(i,r,l,h,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},r!==null&&(r=xi(r),r!==null&&Lb(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function hA(i,r,l,h,y){switch(r){case"focusin":return uo=Zu(uo,i,r,l,h,y),!0;case"dragenter":return ho=Zu(ho,i,r,l,h,y),!0;case"mouseover":return fo=Zu(fo,i,r,l,h,y),!0;case"pointerover":var b=y.pointerId;return Fu.set(b,Zu(Fu.get(b)||null,i,r,l,h,y)),!0;case"gotpointercapture":return b=y.pointerId,Gu.set(b,Zu(Gu.get(b)||null,i,r,l,h,y)),!0}return!1}function jb(i){var r=qi(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=d(l),r!==null){i.blockedOn=r,vi(i.priority,function(){Ob(l)});return}}else if(r===31){if(r=_(l),r!==null){i.blockedOn=r,vi(i.priority,function(){Ob(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=og(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ja=h,l.target.dispatchEvent(h),ja=null}else return r=xi(l),r!==null&&Lb(r),i.blockedOn=l,!1;r.shift()}return!0}function Vb(i,r,l){Fd(i)&&l.delete(r)}function dA(){cg=!1,uo!==null&&Fd(uo)&&(uo=null),ho!==null&&Fd(ho)&&(ho=null),fo!==null&&Fd(fo)&&(fo=null),Fu.forEach(Vb),Gu.forEach(Vb)}function Gd(i,r){i.blockedOn===r&&(i.blockedOn=null,cg||(cg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dA)))}var Zd=null;function zb(i){Zd!==i&&(Zd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zd===i&&(Zd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],y=i[r+2];if(typeof h!="function"){if(lg(h||l)===null)continue;break}var b=xi(l);b!==null&&(i.splice(r,3),r-=3,op(b,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Dc(i){function r(W){return Gd(W,i)}uo!==null&&Gd(uo,i),ho!==null&&Gd(ho,i),fo!==null&&Gd(fo,i),Fu.forEach(r),Gu.forEach(r);for(var l=0;l<mo.length;l++){var h=mo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<mo.length&&(l=mo[0],l.blockedOn===null);)jb(l),l.blockedOn===null&&mo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],b=l[h+1],A=y[en]||null;if(typeof b=="function")A||zb(l);else if(A){var M=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[en]||null)M=A.formAction;else if(lg(y)!==null)continue}else M=A.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),zb(l)}}}function Ub(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function ug(i){this._internalRoot=i}$d.prototype.render=ug.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=ts();Pb(l,h,i,r,null,null)},$d.prototype.unmount=ug.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Pb(i.current,2,null,i,null,null),Cd(),r[Ui]=null}};function $d(i){this._internalRoot=i}$d.prototype.unstable_scheduleHydration=function(i){if(i){var r=Go();i={blockedOn:null,target:i,priority:r};for(var l=0;l<mo.length&&r!==0&&r<mo[l].priority;l++);mo.splice(l,0,i),l===0&&jb(i)}};var Bb=e.version;if(Bb!=="19.2.4")throw Error(s(527,Bb,"19.2.4"));Se.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var fA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{_i=Yd.inject(fA),hn=Yd}catch{}}return Yu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",y=Yv,b=Kv,A=Wv;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=Rb(i,1,!1,null,null,l,h,null,y,b,A,Ub),i[Ui]=r.current,Gp(i),new ug(r)},Yu.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,y="",b=Yv,A=Kv,M=Wv,W=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(W=l.formState)),r=Rb(i,1,!0,r,l??null,h,y,W,b,A,M,Ub),r.context=Ib(null),l=r.current,h=ts(),h=Rn(h),y=Xa(h),y.callback=null,Ja(l,y,h),l=h,r.current.lanes=l,Vs(r,l),Ar(r),i[Ui]=r.current,Gp(i),new $d(r)},Yu.version="19.2.4",Yu}var Qb;function wA(){if(Qb)return fg.exports;Qb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fg.exports=xA(),fg.exports}var EA=wA();var Xb="popstate";function TA(n={}){function e(o,c){let{pathname:d="/",search:_="",hash:p=""}=Fl(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Zg("",{pathname:d,search:_,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let d=o.document.querySelector("base"),_="";if(d&&d.getAttribute("href")){let p=o.location.href,v=p.indexOf("#");_=v===-1?p:p.slice(0,v)}return _+"#"+(typeof c=="string"?c:ph(c))}function s(o,c){as(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return AA(e,t,s,n)}function $t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function as(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SA(){return Math.random().toString(36).substring(2,10)}function Jb(n,e){return{usr:n.state,key:n.key,idx:e}}function Zg(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fl(e):e,state:t,key:e&&e.key||s||SA()}}function ph({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function AA(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,_="POP",p=null,v=w();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function w(){return(d.state||{idx:null}).idx}function E(){_="POP";let k=w(),O=k==null?null:k-v;v=k,p&&p({action:_,location:z.location,delta:O})}function N(k,O){_="PUSH";let q=Zg(z.location,k,O);t&&t(q,k),v=w()+1;let $=Jb(q,v),ee=z.createHref(q);try{d.pushState($,"",ee)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(ee)}c&&p&&p({action:_,location:z.location,delta:1})}function R(k,O){_="REPLACE";let q=Zg(z.location,k,O);t&&t(q,k),v=w();let $=Jb(q,v),ee=z.createHref(q);d.replaceState($,"",ee),c&&p&&p({action:_,location:z.location,delta:0})}function j(k){return CA(k)}let z={get action(){return _},get location(){return n(o,d)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Xb,E),p=k,()=>{o.removeEventListener(Xb,E),p=null}},createHref(k){return e(o,k)},createURL:j,encodeLocation(k){let O=j(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:N,replace:R,go(k){return d.go(k)}};return z}function CA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$t(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ph(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function a1(n,e,t="/"){return NA(n,e,t,!1)}function NA(n,e,t,s){let o=typeof e=="string"?Fl(e):e,c=va(o.pathname||"/",t);if(c==null)return null;let d=o1(n);RA(d);let _=null;for(let p=0;_==null&&p<d.length;++p){let v=UA(c);_=VA(d[p],v,s)}return _}function o1(n,e=[],t=[],s="",o=!1){let c=(d,_,p=o,v)=>{let w={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:_,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&p)return;$t(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let E=_a([s,w.relativePath]),N=t.concat(w);d.children&&d.children.length>0&&($t(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),o1(d.children,e,N,E,p)),!(d.path==null&&!d.index)&&e.push({path:E,score:kA(E,d.index),routesMeta:N})};return n.forEach((d,_)=>{if(d.path===""||!d.path?.includes("?"))c(d,_);else for(let p of l1(d.path))c(d,_,!0,p)}),e}function l1(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=l1(s.join("/")),_=[];return _.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&_.push(...d),_.map(p=>n.startsWith("/")&&p===""?"/":p)}function RA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:jA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var IA=/^:[\w-]+$/,PA=3,MA=2,LA=1,OA=10,DA=-2,ex=n=>n==="*";function kA(n,e){let t=n.split("/"),s=t.length;return t.some(ex)&&(s+=DA),e&&(s+=MA),t.filter(o=>!ex(o)).reduce((o,c)=>o+(IA.test(c)?PA:c===""?LA:OA),s)}function jA(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function VA(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",d=[];for(let _=0;_<s.length;++_){let p=s[_],v=_===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",E=xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},w),N=p.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:_a([c,E.pathname]),pathnameBase:FA(_a([c,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(c=_a([c,E.pathnameBase]))}return d}function xf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=zA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),_=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:E},N)=>{if(w==="*"){let j=_[N]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const R=_[N];return E&&!R?v[w]=void 0:v[w]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:d,pattern:n}}function zA(n,e=!1,t=!0){as(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,_,p)=>(s.push({paramName:_,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function UA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return as(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function va(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var BA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function qA(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Fl(n):n,c;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?c=tx(t.substring(1),"/"):c=tx(t,e)):c=e,{pathname:c,search:GA(s),hash:ZA(o)}}function tx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function yg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Iy(n){let e=HA(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Py(n,e,t,s=!1){let o;typeof n=="string"?o=Fl(n):(o={...n},$t(!o.pathname||!o.pathname.includes("?"),yg("?","pathname","search",o)),$t(!o.pathname||!o.pathname.includes("#"),yg("#","pathname","hash",o)),$t(!o.search||!o.search.includes("#"),yg("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,_;if(d==null)_=t;else{let E=e.length-1;if(!s&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),E-=1;o.pathname=N.join("/")}_=E>=0?e[E]:"/"}let p=qA(o,_),v=d&&d!=="/"&&d.endsWith("/"),w=(c||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||w)&&(p.pathname+="/"),p}var _a=n=>n.join("/").replace(/\/\/+/g,"/"),FA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,$A=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function YA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function KA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var c1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function u1(n,e){let t=n;if(typeof t!="string"||!BA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(c1)try{let c=new URL(window.location.href),d=t.startsWith("//")?new URL(c.protocol+t):new URL(t),_=va(d.pathname,e);d.origin===c.origin&&_!=null?t=_+d.search+d.hash:o=!0}catch{as(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var h1=["POST","PUT","PATCH","DELETE"];new Set(h1);var WA=["GET",...h1];new Set(WA);var Xc=U.createContext(null);Xc.displayName="DataRouter";var Jf=U.createContext(null);Jf.displayName="DataRouterState";var QA=U.createContext(!1),d1=U.createContext({isTransitioning:!1});d1.displayName="ViewTransition";var XA=U.createContext(new Map);XA.displayName="Fetchers";var JA=U.createContext(null);JA.displayName="Await";var os=U.createContext(null);os.displayName="Navigation";var Nh=U.createContext(null);Nh.displayName="Location";var rr=U.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var My=U.createContext(null);My.displayName="RouteError";var f1="REACT_ROUTER_ERROR",eC="REDIRECT",tC="ROUTE_ERROR_RESPONSE";function nC(n){if(n.startsWith(`${f1}:${eC}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function iC(n){if(n.startsWith(`${f1}:${tC}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $A(e.status,e.statusText,e.data)}catch{}}function sC(n,{relative:e}={}){$t(Jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(os),{hash:o,pathname:c,search:d}=Rh(n,{relative:e}),_=c;return t!=="/"&&(_=c==="/"?t:_a([t,c])),s.createHref({pathname:_,search:d,hash:o})}function Jc(){return U.useContext(Nh)!=null}function Os(){return $t(Jc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Nh).location}var m1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p1(n){U.useContext(os).static||U.useLayoutEffect(n)}function Gl(){let{isDataRoute:n}=U.useContext(rr);return n?_C():rC()}function rC(){$t(Jc(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(Xc),{basename:e,navigator:t}=U.useContext(os),{matches:s}=U.useContext(rr),{pathname:o}=Os(),c=JSON.stringify(Iy(s)),d=U.useRef(!1);return p1(()=>{d.current=!0}),U.useCallback((p,v={})=>{if(as(d.current,m1),!d.current)return;if(typeof p=="number"){t.go(p);return}let w=Py(p,JSON.parse(c),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:_a([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,c,o,n])}U.createContext(null);function aC(){let{matches:n}=U.useContext(rr),e=n[n.length-1];return e?e.params:{}}function Rh(n,{relative:e}={}){let{matches:t}=U.useContext(rr),{pathname:s}=Os(),o=JSON.stringify(Iy(t));return U.useMemo(()=>Py(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function oC(n,e){return g1(n,e)}function g1(n,e,t,s,o){$t(Jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(os),{matches:d}=U.useContext(rr),_=d[d.length-1],p=_?_.params:{},v=_?_.pathname:"/",w=_?_.pathnameBase:"/",E=_&&_.route;{let q=E&&E.path||"";_1(v,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let N=Os(),R;if(e){let q=typeof e=="string"?Fl(e):e;$t(w==="/"||q.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${q.pathname}" was given in the \`location\` prop.`),R=q}else R=N;let j=R.pathname||"/",z=j;if(w!=="/"){let q=w.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=a1(n,{pathname:z});as(E||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),as(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=dC(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:_a([w,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?w:_a([w,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),d,t,s,o);return e&&O?U.createElement(Nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},O):O}function lC(){let n=yC(),e=YA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,d)}var cC=U.createElement(lC,null),y1=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=iC(n.digest);t&&(n=t)}let e=n!==void 0?U.createElement(rr.Provider,{value:this.props.routeContext},U.createElement(My.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?U.createElement(uC,{error:n},e):e}};y1.contextType=QA;var _g=new WeakMap;function uC({children:n,error:e}){let{basename:t}=U.useContext(os);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=nC(e.digest);if(s){let o=_g.get(e);if(o)throw o;let c=u1(s.location,t);if(c1&&!_g.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw _g.set(e,d),d}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function hC({routeContext:n,match:e,children:t}){let s=U.useContext(Xc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(rr.Provider,{value:n},t)}function dC(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=t?.errors;if(d!=null){let w=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);$t(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let _=!1,p=-1;if(t)for(let w=0;w<c.length;w++){let E=c[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=w),E.route.id){let{loaderData:N,errors:R}=t,j=E.route.loader&&!N.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||j){_=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let v=t&&s?(w,E)=>{s(w,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:KA(t.matches),errorInfo:E})}:void 0;return c.reduceRight((w,E,N)=>{let R,j=!1,z=null,k=null;t&&(R=d&&E.route.id?d[E.route.id]:void 0,z=E.route.errorElement||cC,_&&(p<0&&N===0?(_1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):p===N&&(j=!0,k=E.route.hydrateFallbackElement||null)));let O=e.concat(c.slice(0,N+1)),q=()=>{let $;return R?$=z:j?$=k:E.route.Component?$=U.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=w,U.createElement(hC,{match:E,routeContext:{outlet:w,matches:O,isDataRoute:t!=null},children:$})};return t&&(E.route.ErrorBoundary||E.route.errorElement||N===0)?U.createElement(y1,{location:t.location,revalidation:t.revalidation,component:z,error:R,children:q(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:v}):q()},null)}function Ly(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fC(n){let e=U.useContext(Xc);return $t(e,Ly(n)),e}function mC(n){let e=U.useContext(Jf);return $t(e,Ly(n)),e}function pC(n){let e=U.useContext(rr);return $t(e,Ly(n)),e}function Oy(n){let e=pC(n),t=e.matches[e.matches.length-1];return $t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gC(){return Oy("useRouteId")}function yC(){let n=U.useContext(My),e=mC("useRouteError"),t=Oy("useRouteError");return n!==void 0?n:e.errors?.[t]}function _C(){let{router:n}=fC("useNavigate"),e=Oy("useNavigate"),t=U.useRef(!1);return p1(()=>{t.current=!0}),U.useCallback(async(o,c={})=>{as(t.current,m1),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var nx={};function _1(n,e,t){!e&&!nx[n]&&(nx[n]=!0,as(!1,t))}U.memo(vC);function vC({routes:n,future:e,state:t,onError:s}){return g1(n,void 0,t,s,e)}function vg({to:n,replace:e,state:t,relative:s}){$t(Jc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(os);as(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext(rr),{pathname:d}=Os(),_=Gl(),p=Py(n,Iy(c),d,s==="path"),v=JSON.stringify(p);return U.useEffect(()=>{_(JSON.parse(v),{replace:e,state:t,relative:s})},[_,v,s,e,t]),null}function ns(n){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bC({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){$t(!Jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=n.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:_,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[_,o,c,d]);typeof t=="string"&&(t=Fl(t));let{pathname:v="/",search:w="",hash:E="",state:N=null,key:R="default"}=t,j=U.useMemo(()=>{let z=va(v,_);return z==null?null:{location:{pathname:z,search:w,hash:E,state:N,key:R},navigationType:s}},[_,v,w,E,N,R,s]);return as(j!=null,`<Router basename="${_}"> is not able to match the URL "${v}${w}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:U.createElement(os.Provider,{value:p},U.createElement(Nh.Provider,{children:e,value:j}))}function xC({children:n,location:e}){return oC($g(n),e)}function $g(n,e=[]){let t=[];return U.Children.forEach(n,(s,o)=>{if(!U.isValidElement(s))return;let c=[...e,o];if(s.type===U.Fragment){t.push.apply(t,$g(s.props.children,c));return}$t(s.type===ns,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=$g(s.props.children,c)),t.push(d)}),t}var of="get",lf="application/x-www-form-urlencoded";function em(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function wC(n){return em(n)&&n.tagName.toLowerCase()==="button"}function EC(n){return em(n)&&n.tagName.toLowerCase()==="form"}function TC(n){return em(n)&&n.tagName.toLowerCase()==="input"}function SC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AC(n,e){return n.button===0&&(!e||e==="_self")&&!SC(n)}function Yg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function CC(n,e){let t=Yg(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var Kd=null;function NC(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var RC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bg(n){return n!=null&&!RC.has(n)?(as(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):n}function IC(n,e){let t,s,o,c,d;if(EC(n)){let _=n.getAttribute("action");s=_?va(_,e):null,t=n.getAttribute("method")||of,o=bg(n.getAttribute("enctype"))||lf,c=new FormData(n)}else if(wC(n)||TC(n)&&(n.type==="submit"||n.type==="image")){let _=n.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||_.getAttribute("action");if(s=p?va(p,e):null,t=n.getAttribute("formmethod")||_.getAttribute("method")||of,o=bg(n.getAttribute("formenctype"))||bg(_.getAttribute("enctype"))||lf,c=new FormData(_,n),!NC()){let{name:v,type:w,value:E}=n;if(w==="image"){let N=v?`${v}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else v&&c.append(v,E)}}else{if(em(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=of,s=null,o=lf,d=n}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function PC(n,e,t,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&va(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function MC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function OC(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await MC(c,t);return d.links?d.links():[]}return[]}));return VC(s.flat(1).filter(LC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ix(n,e,t,s,o,c){let d=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,_=(p,v)=>t[v].pathname!==p.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,v)=>d(p,v)||_(p,v)):c==="data"?e.filter((p,v)=>{let w=s.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(d(p,v)||_(p,v))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function DC(n,e,{includeHydrateFallback:t}={}){return kC(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function kC(n){return[...new Set(n)]}function jC(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function VC(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(jC(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function v1(){let n=U.useContext(Xc);return Dy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zC(){let n=U.useContext(Jf);return Dy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ky=U.createContext(void 0);ky.displayName="FrameworkContext";function b1(){let n=U.useContext(ky);return Dy(n,"You must render this element inside a <HydratedRouter> element"),n}function UC(n,e){let t=U.useContext(ky),[s,o]=U.useState(!1),[c,d]=U.useState(!1),{onFocus:_,onBlur:p,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,N=U.useRef(null);U.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let z=O=>{O.forEach(q=>{d(q.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return N.current&&k.observe(N.current),()=>{k.disconnect()}}},[n]),U.useEffect(()=>{if(s){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[s]);let R=()=>{o(!0)},j=()=>{o(!1),d(!1)};return t?n!=="intent"?[c,N,{}]:[c,N,{onFocus:Ku(_,R),onBlur:Ku(p,j),onMouseEnter:Ku(v,R),onMouseLeave:Ku(w,j),onTouchStart:Ku(E,R)}]:[!1,N,{}]}function Ku(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BC({page:n,...e}){let{router:t}=v1(),s=U.useMemo(()=>a1(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?U.createElement(HC,{page:n,matches:s,...e}):null}function qC(n){let{manifest:e,routeModules:t}=b1(),[s,o]=U.useState([]);return U.useEffect(()=>{let c=!1;return OC(n,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[n,e,t]),s}function HC({page:n,matches:e,...t}){let s=Os(),{future:o,manifest:c,routeModules:d}=b1(),{basename:_}=v1(),{loaderData:p,matches:v}=zC(),w=U.useMemo(()=>ix(n,e,v,c,s,"data"),[n,e,v,c,s]),E=U.useMemo(()=>ix(n,e,v,c,s,"assets"),[n,e,v,c,s]),N=U.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let z=new Set,k=!1;if(e.forEach(q=>{let $=c.routes[q.route.id];!$||!$.hasLoader||(!w.some(ee=>ee.route.id===q.route.id)&&q.route.id in p&&d[q.route.id]?.shouldRevalidate||$.hasClientLoader?k=!0:z.add(q.route.id))}),z.size===0)return[];let O=PC(n,_,o.unstable_trailingSlashAwareDataRequests,"data");return k&&z.size>0&&O.searchParams.set("_routes",e.filter(q=>z.has(q.route.id)).map(q=>q.route.id).join(",")),[O.pathname+O.search]},[_,o.unstable_trailingSlashAwareDataRequests,p,s,c,w,e,n,d]),R=U.useMemo(()=>DC(E,c),[E,c]),j=qC(E);return U.createElement(U.Fragment,null,N.map(z=>U.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),R.map(z=>U.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),j.map(({key:z,link:k})=>U.createElement("link",{key:z,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function FC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GC&&(window.__reactRouterVersion="7.13.0")}catch{}function ZC({basename:n,children:e,unstable_useTransitions:t,window:s}){let o=U.useRef();o.current==null&&(o.current=TA({window:s,v5Compat:!0}));let c=o.current,[d,_]=U.useState({action:c.action,location:c.location}),p=U.useCallback(v=>{t===!1?_(v):U.startTransition(()=>_(v))},[t]);return U.useLayoutEffect(()=>c.listen(p),[c,p]),U.createElement(bC,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:t})}var x1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:_,target:p,to:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:N,...R},j){let{basename:z,unstable_useTransitions:k}=U.useContext(os),O=typeof v=="string"&&x1.test(v),q=u1(v,z);v=q.to;let $=sC(v,{relative:o}),[ee,ne,ye]=UC(s,R),B=WC(v,{replace:d,state:_,target:p,preventScrollReset:w,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:N,unstable_useTransitions:k});function I(F){e&&e(F),F.defaultPrevented||B(F)}let Z=U.createElement("a",{...R,...ye,href:q.absoluteURL||$,onClick:q.isExternal||c?e:I,ref:FC(j,ne),target:p,"data-discover":!O&&t==="render"?"true":void 0});return ee&&!O?U.createElement(U.Fragment,null,Z,U.createElement(BC,{page:$})):Z});Xt.displayName="Link";var $C=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:_,children:p,...v},w){let E=Rh(d,{relative:v.relative}),N=Os(),R=U.useContext(Jf),{navigator:j,basename:z}=U.useContext(os),k=R!=null&&nN(E)&&_===!0,O=j.encodeLocation?j.encodeLocation(E).pathname:E.pathname,q=N.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(q=q.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&z&&($=va($,z)||$);const ee=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ne=q===O||!o&&q.startsWith(O)&&q.charAt(ee)==="/",ye=$!=null&&($===O||!o&&$.startsWith(O)&&$.charAt(O.length)==="/"),B={isActive:ne,isPending:ye,isTransitioning:k},I=ne?e:void 0,Z;typeof s=="function"?Z=s(B):Z=[s,ne?"active":null,ye?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let F=typeof c=="function"?c(B):c;return U.createElement(Xt,{...v,"aria-current":I,className:Z,ref:w,style:F,to:d,viewTransition:_},typeof p=="function"?p(B):p)});$C.displayName="NavLink";var YC=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:d=of,action:_,onSubmit:p,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:N,...R},j)=>{let{unstable_useTransitions:z}=U.useContext(os),k=eN(),O=tN(_,{relative:v}),q=d.toLowerCase()==="get"?"get":"post",$=typeof _=="string"&&x1.test(_),ee=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let ye=ne.nativeEvent.submitter,B=ye?.getAttribute("formmethod")||d,I=()=>k(ye||ne.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:o,state:c,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:N});z&&t!==!1?U.startTransition(()=>I()):I()};return U.createElement("form",{ref:j,method:q,action:O,onSubmit:s?p:ee,...R,"data-discover":!$&&n==="render"?"true":void 0})});YC.displayName="Form";function KC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w1(n){let e=U.useContext(Xc);return $t(e,KC(n)),e}function WC(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:_,unstable_useTransitions:p}={}){let v=Gl(),w=Os(),E=Rh(n,{relative:c});return U.useCallback(N=>{if(AC(N,e)){N.preventDefault();let R=t!==void 0?t:ph(w)===ph(E),j=()=>v(n,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:_});p?U.startTransition(()=>j()):j()}},[w,v,E,t,s,e,n,o,c,d,_,p])}function QC(n){as(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=U.useRef(Yg(n)),t=U.useRef(!1),s=Os(),o=U.useMemo(()=>CC(s.search,t.current?null:e.current),[s.search]),c=Gl(),d=U.useCallback((_,p)=>{const v=Yg(typeof _=="function"?_(new URLSearchParams(o)):_);t.current=!0,c("?"+v,p)},[c,o]);return[o,d]}var XC=0,JC=()=>`__${String(++XC)}__`;function eN(){let{router:n}=w1("useSubmit"),{basename:e}=U.useContext(os),t=gC(),s=n.fetch,o=n.navigate;return U.useCallback(async(c,d={})=>{let{action:_,method:p,encType:v,formData:w,body:E}=IC(c,e);if(d.navigate===!1){let N=d.fetcherKey||JC();await s(N,t,d.action||_,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:E,formMethod:d.method||p,formEncType:d.encType||v,flushSync:d.flushSync})}else await o(d.action||_,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:E,formMethod:d.method||p,formEncType:d.encType||v,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,t])}function tN(n,{relative:e}={}){let{basename:t}=U.useContext(os),s=U.useContext(rr);$t(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Rh(n||".",{relative:e})},d=Os();if(n==null){c.search=d.search;let _=new URLSearchParams(c.search),p=_.getAll("index");if(p.some(w=>w==="")){_.delete("index"),p.filter(E=>E).forEach(E=>_.append("index",E));let w=_.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:_a([t,c.pathname])),ph(c)}function nN(n,{relative:e}={}){let t=U.useContext(d1);$t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=w1("useViewTransitionState"),o=Rh(n,{relative:e});if(!t.isTransitioning)return!1;let c=va(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=va(t.nextLocation.pathname,s)||t.nextLocation.pathname;return xf(o.pathname,d)!=null||xf(o.pathname,c)!=null}r1();const iN=()=>{};var sx={};const E1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},sN=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],d=n[t++],_=n[t++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|_&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=n[t++],d=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},T1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],d=o+1<n.length,_=d?n[o+1]:0,p=o+2<n.length,v=p?n[o+2]:0,w=c>>2,E=(c&3)<<4|_>>4;let N=(_&15)<<2|v>>6,R=v&63;p||(R=64,d||(N=64)),s.push(t[w],t[E],t[N],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(E1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],_=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||_==null||v==null||E==null)throw new rN;const N=c<<2|_>>4;if(s.push(N),v!==64){const R=_<<4&240|v>>2;if(s.push(R),E!==64){const j=v<<6&192|E;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aN=function(n){const e=E1(n);return T1.encodeByteArray(e,!0)},wf=function(n){return aN(n).replace(/\./g,"")},S1=function(n){try{return T1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lN=()=>oN().__FIREBASE_DEFAULTS__,cN=()=>{if(typeof process>"u"||typeof sx>"u")return;const n=sx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&S1(n[1]);return e&&JSON.parse(e)},tm=()=>{try{return iN()||lN()||cN()||uN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},A1=n=>tm()?.emulatorHosts?.[n],C1=n=>{const e=A1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},N1=()=>tm()?.config,R1=n=>tm()?.[`_${n}`];class hN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function jo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jy(n){return(await fetch(n,{credentials:"include"})).ok}function I1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wf(JSON.stringify(t)),wf(JSON.stringify(d)),""].join(".")}const ah={};function dN(){const n={prod:[],emulator:[]};for(const e of Object.keys(ah))ah[e]?n.emulator.push(e):n.prod.push(e);return n}function fN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let rx=!1;function Vy(n,e){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||ah[n]===e||ah[n]||rx)return;ah[n]=e;function t(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=dN().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function _(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,R){N.setAttribute("width","24"),N.setAttribute("id",R),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{rx=!0,d()},N}function w(N,R){N.setAttribute("id",R),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function E(){const N=fN(s),R=t("text"),j=document.getElementById(R)||document.createElement("span"),z=t("learnmore"),k=document.getElementById(z)||document.createElement("a"),O=t("preprendIcon"),q=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const $=N.element;_($),w(k,z);const ee=v();p(q,O),$.append(q,j,k,ee),document.body.appendChild($)}c?(j.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ii())}function pN(){const n=tm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _N(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vN(){const n=ii();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bN(){return!pN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xN(){try{return typeof indexedDB=="object"}catch{return!1}}function wN(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const EN="FirebaseError";class Ur extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=EN,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?TN(c,s):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new Ur(o,_,s)}}function TN(n,e){return n.replace(SN,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SN=/\{\$([^}]+)}/g;function AN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ll(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],d=e[o];if(ax(c)&&ax(d)){if(!Ll(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ax(n){return n!==null&&typeof n=="object"}function Ph(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function eh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CN(n,e){const t=new NN(n,e);return t.subscribe.bind(t)}class NN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");RN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=xg),o.error===void 0&&(o.error=xg),o.complete===void 0&&(o.complete=xg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xg(){}function Dt(n){return n&&n._delegate?n._delegate:n}class Io{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sl="[DEFAULT]";class IN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new hN;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MN(e))try{this.getOrInitializeService({instanceIdentifier:Sl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sl){return this.instances.has(e)}getOptions(e=Sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PN(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Sl){return this.component?this.component.multipleInstances?e:Sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PN(n){return n===Sl?void 0:n}function MN(n){return n.instantiationMode==="EAGER"}class LN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const ON={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},DN=ft.INFO,kN={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},jN=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=kN[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zy{constructor(e){this.name=e,this._logLevel=DN,this._logHandler=jN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ON[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const VN=(n,e)=>e.some(t=>n instanceof t);let ox,lx;function zN(){return ox||(ox=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UN(){return lx||(lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,Kg=new WeakMap,M1=new WeakMap,wg=new WeakMap,Uy=new WeakMap;function BN(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{t(Ao(n.result)),o()},d=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&P1.set(t,n)}).catch(()=>{}),Uy.set(e,n),e}function qN(n){if(Kg.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});Kg.set(n,e)}let Wg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||M1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ao(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HN(n){Wg=n(Wg)}function FN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Eg(this),e,...t);return M1.set(s,e.sort?e.sort():[e]),Ao(s)}:UN().includes(n)?function(...e){return n.apply(Eg(this),e),Ao(P1.get(this))}:function(...e){return Ao(n.apply(Eg(this),e))}}function GN(n){return typeof n=="function"?FN(n):(n instanceof IDBTransaction&&qN(n),VN(n,zN())?new Proxy(n,Wg):n)}function Ao(n){if(n instanceof IDBRequest)return BN(n);if(wg.has(n))return wg.get(n);const e=GN(n);return e!==n&&(wg.set(n,e),Uy.set(e,n)),e}const Eg=n=>Uy.get(n);function ZN(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(n,e),_=Ao(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Ao(d.result),p.oldVersion,p.newVersion,Ao(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),_.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const $N=["get","getKey","getAll","getAllKeys","count"],YN=["put","add","delete","clear"],Tg=new Map;function cx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=YN.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$N.includes(t)))return;const c=async function(d,..._){const p=this.transaction(d,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(_.shift())),(await Promise.all([v[t](..._),o&&p.done]))[0]};return Tg.set(e,c),c}HN(n=>({...n,get:(e,t,s)=>cx(e,t)||n.get(e,t,s),has:(e,t)=>!!cx(e,t)||n.has(e,t)}));class KN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WN(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function WN(n){return n.getComponent()?.type==="VERSION"}const Qg="@firebase/app",ux="0.14.8";const ba=new zy("@firebase/app"),QN="@firebase/app-compat",XN="@firebase/analytics-compat",JN="@firebase/analytics",eR="@firebase/app-check-compat",tR="@firebase/app-check",nR="@firebase/auth",iR="@firebase/auth-compat",sR="@firebase/database",rR="@firebase/data-connect",aR="@firebase/database-compat",oR="@firebase/functions",lR="@firebase/functions-compat",cR="@firebase/installations",uR="@firebase/installations-compat",hR="@firebase/messaging",dR="@firebase/messaging-compat",fR="@firebase/performance",mR="@firebase/performance-compat",pR="@firebase/remote-config",gR="@firebase/remote-config-compat",yR="@firebase/storage",_R="@firebase/storage-compat",vR="@firebase/firestore",bR="@firebase/ai",xR="@firebase/firestore-compat",wR="firebase",ER="12.9.0";const Xg="[DEFAULT]",TR={[Qg]:"fire-core",[QN]:"fire-core-compat",[JN]:"fire-analytics",[XN]:"fire-analytics-compat",[tR]:"fire-app-check",[eR]:"fire-app-check-compat",[nR]:"fire-auth",[iR]:"fire-auth-compat",[sR]:"fire-rtdb",[rR]:"fire-data-connect",[aR]:"fire-rtdb-compat",[oR]:"fire-fn",[lR]:"fire-fn-compat",[cR]:"fire-iid",[uR]:"fire-iid-compat",[hR]:"fire-fcm",[dR]:"fire-fcm-compat",[fR]:"fire-perf",[mR]:"fire-perf-compat",[pR]:"fire-rc",[gR]:"fire-rc-compat",[yR]:"fire-gcs",[_R]:"fire-gcs-compat",[vR]:"fire-fst",[xR]:"fire-fst-compat",[bR]:"fire-vertex","fire-js":"fire-js",[wR]:"fire-js-all"};const Ef=new Map,SR=new Map,Jg=new Map;function hx(n,e){try{n.container.addComponent(e)}catch(t){ba.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ol(n){const e=n.name;if(Jg.has(e))return ba.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,n);for(const t of Ef.values())hx(t,n);for(const t of SR.values())hx(t,n);return!0}function nm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function di(n){return n==null?!1:n.settings!==void 0}const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Ih("app","Firebase",AR);class CR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}const Zl=ER;function L1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Xg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Co.create("bad-app-name",{appName:String(o)});if(t||(t=N1()),!t)throw Co.create("no-options");const c=Ef.get(o);if(c){if(Ll(t,c.options)&&Ll(s,c.config))return c;throw Co.create("duplicate-app",{appName:o})}const d=new LN(o);for(const p of Jg.values())d.addComponent(p);const _=new CR(t,s,d);return Ef.set(o,_),_}function By(n=Xg){const e=Ef.get(n);if(!e&&n===Xg&&N1())return L1();if(!e)throw Co.create("no-app",{appName:n});return e}function Pr(n,e,t){let s=TR[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ba.warn(d.join(" "));return}Ol(new Io(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const NR="firebase-heartbeat-database",RR=1,gh="firebase-heartbeat-store";let Sg=null;function O1(){return Sg||(Sg=ZN(NR,RR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Co.create("idb-open",{originalErrorMessage:n.message})})),Sg}async function IR(n){try{const t=(await O1()).transaction(gh),s=await t.objectStore(gh).get(D1(n));return await t.done,s}catch(e){if(e instanceof Ur)ba.warn(e.message);else{const t=Co.create("idb-get",{originalErrorMessage:e?.message});ba.warn(t.message)}}}async function dx(n,e){try{const s=(await O1()).transaction(gh,"readwrite");await s.objectStore(gh).put(e,D1(n)),await s.done}catch(t){if(t instanceof Ur)ba.warn(t.message);else{const s=Co.create("idb-set",{originalErrorMessage:t?.message});ba.warn(s.message)}}}function D1(n){return`${n.name}!${n.options.appId}`}const PR=1024,MR=30;class LR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>MR){const o=kR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ba.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fx(),{heartbeatsToSend:t,unsentEntries:s}=OR(this._heartbeatsCache.heartbeats),o=wf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ba.warn(e),""}}}function fx(){return new Date().toISOString().substring(0,10)}function OR(n,e=PR){const t=[];let s=n.slice();for(const o of n){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),mx(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),mx(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class DR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xN()?wN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await IR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mx(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}function kR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function jR(n){Ol(new Io("platform-logger",e=>new KN(e),"PRIVATE")),Ol(new Io("heartbeat",e=>new LR(e),"PRIVATE")),Pr(Qg,ux,n),Pr(Qg,ux,"esm2020"),Pr("fire-js","")}jR("");var VR="firebase",zR="12.9.0";Pr(VR,zR,"app");function k1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UR=k1,j1=new Ih("auth","Firebase",k1());const Tf=new zy("@firebase/auth");function BR(n,...e){Tf.logLevel<=ft.WARN&&Tf.warn(`Auth (${Zl}): ${n}`,...e)}function cf(n,...e){Tf.logLevel<=ft.ERROR&&Tf.error(`Auth (${Zl}): ${n}`,...e)}function Ls(n,...e){throw Hy(n,...e)}function tr(n,...e){return Hy(n,...e)}function qy(n,e,t){const s={...UR(),[e]:t};return new Ih("auth","Firebase",s).create(e,{appName:n.name})}function Mr(n){return qy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qR(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ls(n,"argument-error"),qy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hy(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return j1.create(n,...e)}function Ge(n,e,...t){if(!n)throw Hy(e,...t)}function ga(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cf(e),new Error(e)}function xa(n,e){n||ga(e)}function ey(){return typeof self<"u"&&self.location?.href||""}function HR(){return px()==="http:"||px()==="https:"}function px(){return typeof self<"u"&&self.location?.protocol||null}function FR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||yN()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Mh{constructor(e,t){this.shortDelay=e,this.longDelay=t,xa(t>e,"Short delay should be less than long delay!"),this.isMobile=mN()||_N()}get(){return FR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fy(n,e){xa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class V1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $R=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new Mh(3e4,6e4);function Aa(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ar(n,e,t,s,o={}){return z1(n,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const _=Ph({key:n.config.apiKey,...d}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:p,...c};return gN()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&jo(n.emulatorConfig.host)&&(v.credentials="include"),V1.fetch()(await U1(n,n.config.apiHost,t,_),v)})}async function z1(n,e,t){n._canInitEmulator=!1;const s={...ZR,...e};try{const o=new WR(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Wd(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const _=c.ok?d.errorMessage:d.error.message,[p,v]=_.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Wd(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw Wd(n,"user-disabled",d);const w=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw qy(n,w,v);Ls(n,w)}}catch(o){if(o instanceof Ur)throw o;Ls(n,"network-request-failed",{message:String(o)})}}async function Lh(n,e,t,s,o={}){const c=await ar(n,e,t,s,o);return"mfaPendingCredential"in c&&Ls(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function U1(n,e,t,s){const o=`${e}${t}?${s}`,c=n,d=c.config.emulator?Fy(n.config,o):`${n.config.apiScheme}://${o}`;return $R.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function KR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),YR.get())})}}function Wd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=tr(n,e,s);return o.customData._tokenResponse=t,o}function gx(n){return n!==void 0&&n.enterprise!==void 0}class QR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XR(n,e){return ar(n,"GET","/v2/recaptchaConfig",Aa(n,e))}async function JR(n,e){return ar(n,"POST","/v1/accounts:delete",e)}async function Sf(n,e){return ar(n,"POST","/v1/accounts:lookup",e)}function oh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eI(n,e=!1){const t=Dt(n),s=await t.getIdToken(e),o=Gy(s);Ge(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:oh(Ag(o.auth_time)),issuedAtTime:oh(Ag(o.iat)),expirationTime:oh(Ag(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ag(n){return Number(n)*1e3}function Gy(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const o=S1(t);return o?JSON.parse(o):(cf("Failed to decode base64 JWT payload"),null)}catch(o){return cf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function yx(n){const e=Gy(n);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Dl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ur&&tI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function tI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class nI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ty{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=oh(this.lastLoginAt),this.creationTime=oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Af(n){const e=n.auth,t=await n.getIdToken(),s=await Dl(n,Sf(e,{idToken:t}));Ge(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?B1(o.providerUserInfo):[],d=sI(n.providerData,c),_=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!d?.length,v=_?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ty(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function iI(n){const e=Dt(n);await Af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sI(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function B1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function rI(n,e){const t=await z1(n,{},async()=>{const s=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,d=await U1(n,o,"/v1/token",`key=${c}`),_=await n._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:_,body:s};return n.emulatorConfig&&jo(n.emulatorConfig.host)&&(p.credentials="include"),V1.fetch()(d,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aI(n,e){return ar(n,"POST","/v2/accounts:revokeToken",Aa(n,e))}class Uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const t=yx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await rI(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,d=new Uc;return s&&(Ge(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ge(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ge(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uc,this.toJSON())}_performRefresh(){return ga("not implemented")}}function go(n,e){Ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new nI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ty(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return Ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eI(this,e)}reload(){return iI(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Af(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await Dl(this,JR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,_=t.tenantId??void 0,p=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:N,isAnonymous:R,providerData:j,stsTokenManager:z}=t;Ge(E&&z,e,"internal-error");const k=Uc.fromJSON(this.name,z);Ge(typeof E=="string",e,"internal-error"),go(s,e.name),go(o,e.name),Ge(typeof N=="boolean",e,"internal-error"),Ge(typeof R=="boolean",e,"internal-error"),go(c,e.name),go(d,e.name),go(_,e.name),go(p,e.name),go(v,e.name),go(w,e.name);const O=new er({uid:E,auth:e,email:o,emailVerified:N,displayName:s,isAnonymous:R,photoURL:d,phoneNumber:c,tenantId:_,stsTokenManager:k,createdAt:v,lastLoginAt:w});return j&&Array.isArray(j)&&(O.providerData=j.map(q=>({...q}))),p&&(O._redirectEventId=p),O}static async _fromIdTokenResponse(e,t,s=!1){const o=new Uc;o.updateFromServerResponse(t);const c=new er({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Af(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ge(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?B1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,_=new Uc;_.updateFromIdToken(s);const p=new er({uid:o.localId,auth:e,stsTokenManager:_,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ty(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,v),p}}const _x=new Map;function ya(n){xa(n instanceof Function,"Expected a class definition");let e=_x.get(n);return e?(xa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_x.set(n,e),e)}class q1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}q1.type="NONE";const vx=q1;function uf(n,e,t){return`firebase:${n}:${e}:${t}`}class Bc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=uf(this.userKey,o.apiKey,c),this.fullPersistenceKey=uf("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sf(this.auth,{idToken:e}).catch(()=>{});return t?er._fromGetAccountInfoResponse(this.auth,t,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Bc(ya(vx),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||ya(vx);const d=uf(s,e.config.apiKey,e.name);let _=null;for(const v of t)try{const w=await v._get(d);if(w){let E;if(typeof w=="string"){const N=await Sf(e,{idToken:w}).catch(()=>{});if(!N)break;E=await er._fromGetAccountInfoResponse(e,N,w)}else E=er._fromJSON(e,w);v!==c&&(_=E),c=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Bc(c,e,s):(c=p[0],_&&await c._set(d,_.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Bc(c,e,s))}}function bx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y1(e))return"Blackberry";if(K1(e))return"Webos";if(F1(e))return"Safari";if((e.includes("chrome/")||G1(e))&&!e.includes("edge/"))return"Chrome";if($1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function H1(n=ii()){return/firefox\//i.test(n)}function F1(n=ii()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G1(n=ii()){return/crios\//i.test(n)}function Z1(n=ii()){return/iemobile/i.test(n)}function $1(n=ii()){return/android/i.test(n)}function Y1(n=ii()){return/blackberry/i.test(n)}function K1(n=ii()){return/webos/i.test(n)}function Zy(n=ii()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oI(n=ii()){return Zy(n)&&!!window.navigator?.standalone}function lI(){return vN()&&document.documentMode===10}function W1(n=ii()){return Zy(n)||$1(n)||K1(n)||Y1(n)||/windows phone/i.test(n)||Z1(n)}function Q1(n,e=[]){let t;switch(n){case"Browser":t=bx(ii());break;case"Worker":t=`${bx(ii())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zl}/${s}`}class cI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,_)=>{try{const p=e(c);d(p)}catch(p){_(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uI(n,e={}){return ar(n,"GET","/v2/passwordPolicy",Aa(n,e))}const hI=6;class dI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??hI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class fI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xx(this),this.idTokenSubscription=new xx(this),this.beforeStateQueue=new cI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ya(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Bc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sf(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,_=await this.tryRedirectSignIn(e);(!c||c===d)&&_?.user&&(s=_.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Af(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Mr(this));const t=e?Dt(e):null;return t&&Ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ya(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uI(this),t=new dI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ih("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await aI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ya(e)||this._popupRedirectResolver;Ge(t,this,"argument-error"),this.redirectPersistenceManager=await Bc.create(this,[ya(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(_,this,"internal-error"),_.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ca(n){return Dt(n)}class xx{constructor(e){this.auth=e,this.observer=null,this.addObserver=CN(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mI(n){im=n}function X1(n){return im.loadJS(n)}function pI(){return im.recaptchaEnterpriseScript}function gI(){return im.gapiScript}function yI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _I{constructor(){this.enterprise=new vI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bI="recaptcha-enterprise",J1="NO_RECAPTCHA";class xI{constructor(e){this.type=bI,this.auth=Ca(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,_)=>{XR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const v=new QR(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(p=>{_(p)})})}function o(c,d,_){const p=window.grecaptcha;gx(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(J1)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _I().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(_=>{if(!t&&gx(window.grecaptcha))o(_,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pI();p.length!==0&&(p+=_),X1(p).then(()=>{o(_,c,d)}).catch(v=>{d(v)})}}).catch(_=>{d(_)})})}}async function wx(n,e,t,s=!1,o=!1){const c=new xI(n);let d;if(o)d=J1;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const _={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const p=_.phoneEnrollmentInfo.phoneNumber,v=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const p=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return s?Object.assign(_,{captchaResp:d}):Object.assign(_,{captchaResponse:d}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function Cf(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wx(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await wx(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}function wI(n,e){const t=nm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Ll(c,e??{}))return o;Ls(o,"already-initialized")}return t.initialize({options:e})}function EI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(ya);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function TI(n,e,t){const s=Ca(n);Ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=eE(e),{host:d,port:_}=SI(e),p=_===null?"":`:${_}`,v={url:`${c}//${d}${p}/`},w=Object.freeze({host:d,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ge(Ll(v,s.config.emulator)&&Ll(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,jo(d)?(jy(`${c}//${d}${p}`),Vy("Auth",!0)):AI()}function eE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SI(n){const e=eE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Ex(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Ex(d)}}}function Ex(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function AI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class $y{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ga("not implemented")}_getIdTokenResponse(e){return ga("not implemented")}_linkToIdToken(e,t){return ga("not implemented")}_getReauthenticationResolver(e){return ga("not implemented")}}async function CI(n,e){return ar(n,"POST","/v1/accounts:update",e)}async function NI(n,e){return ar(n,"POST","/v1/accounts:signUp",e)}async function RI(n,e){return Lh(n,"POST","/v1/accounts:signInWithPassword",Aa(n,e))}async function II(n,e){return ar(n,"POST","/v1/accounts:sendOobCode",Aa(n,e))}async function PI(n,e){return II(n,e)}async function MI(n,e){return Lh(n,"POST","/v1/accounts:signInWithEmailLink",Aa(n,e))}async function LI(n,e){return Lh(n,"POST","/v1/accounts:signInWithEmailLink",Aa(n,e))}class yh extends $y{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new yh(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new yh(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,t,"signInWithPassword",RI);case"emailLink":return MI(e,{email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,s,"signUpPassword",NI);case"emailLink":return LI(e,{idToken:t,email:this._email,oobCode:this._password});default:Ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qc(n,e){return Lh(n,"POST","/v1/accounts:signInWithIdp",Aa(n,e))}const OI="http://localhost";class wa extends $y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ls("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const d=new wa(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return qc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,qc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qc(e,t)}buildRequest(){const e={requestUri:OI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ph(t)}return e}}function DI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kI(n){const e=Ju(eh(n)).link,t=e?Ju(eh(e)).deep_link_id:null,s=Ju(eh(n)).deep_link_id;return(s?Ju(eh(s)).link:null)||s||t||e||n}class Yy{constructor(e){const t=Ju(eh(e)),s=t.apiKey??null,o=t.oobCode??null,c=DI(t.mode??null);Ge(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=kI(e);try{return new Yy(t)}catch{return null}}}class eu{constructor(){this.providerId=eu.PROVIDER_ID}static credential(e,t){return yh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Yy.parseLink(t);return Ge(s,"argument-error"),yh._fromEmailAndCode(e,s.code,s.tenantId)}}eu.PROVIDER_ID="password";eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ky{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends Ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lh extends tu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Ge("providerId"in t&&"signInMethod"in t,"argument-error"),wa._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Ge(e.idToken||e.accessToken,"argument-error"),wa._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return lh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return lh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:d,providerId:_}=e;if(!s&&!o&&!t&&!c||!_)return null;try{return new lh(_)._credential({idToken:t,accessToken:s,nonce:d,pendingToken:c})}catch{return null}}}class _o extends tu{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.FACEBOOK_SIGN_IN_METHOD="facebook.com";_o.PROVIDER_ID="facebook.com";class pa extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wa._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return pa.credential(t,s)}catch{return null}}}pa.GOOGLE_SIGN_IN_METHOD="google.com";pa.PROVIDER_ID="google.com";class vo extends tu{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";class bo extends tu{constructor(){super("twitter.com")}static credential(e,t){return wa._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return bo.credential(t,s)}catch{return null}}}bo.TWITTER_SIGN_IN_METHOD="twitter.com";bo.PROVIDER_ID="twitter.com";async function jI(n,e){return Lh(n,"POST","/v1/accounts:signUp",Aa(n,e))}class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await er._fromIdTokenResponse(e,s,o),d=Tx(s);return new kl({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Tx(s);return new kl({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Tx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Nf extends Ur{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nf(e,t,s,o)}}function tE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(n,c,e,s):c})}async function VI(n,e,t=!1){const s=await Dl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return kl._forOperation(n,"link",s)}async function zI(n,e,t=!1){const{auth:s}=n;if(di(s.app))return Promise.reject(Mr(s));const o="reauthenticate";try{const c=await Dl(n,tE(s,o,e,n),t);Ge(c.idToken,s,"internal-error");const d=Gy(c.idToken);Ge(d,s,"internal-error");const{sub:_}=d;return Ge(n.uid===_,s,"user-mismatch"),kl._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ls(s,"user-mismatch"),c}}async function nE(n,e,t=!1){if(di(n.app))return Promise.reject(Mr(n));const s="signIn",o=await tE(n,s,e),c=await kl._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function UI(n,e){return nE(Ca(n),e)}async function iE(n){const e=Ca(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BI(n,e,t){const s=Ca(n);await Cf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",PI)}async function qI(n,e,t){if(di(n.app))return Promise.reject(Mr(n));const s=Ca(n),d=await Cf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&iE(n),p}),_=await kl._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(_.user),_}function HI(n,e,t){return di(n.app)?Promise.reject(Mr(n)):UI(Dt(n),eu.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iE(n),s})}async function FI(n,e){return ar(n,"POST","/v1/accounts:update",e)}async function ny(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Dt(n),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Dl(s,FI(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const _=s.providerData.find(({providerId:p})=>p==="password");_&&(_.displayName=s.displayName,_.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function GI(n,e){const t=Dt(n);return di(t.auth.app)?Promise.reject(Mr(t.auth)):sE(t,e,null)}function ZI(n,e){return sE(Dt(n),null,e)}async function sE(n,e,t){const{auth:s}=n,c={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(c.email=e),t&&(c.password=t);const d=await Dl(n,CI(s,c));await n._updateTokensIfNecessary(d,!0)}function $I(n,e,t,s){return Dt(n).onIdTokenChanged(e,t,s)}function YI(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function KI(n,e,t,s){return Dt(n).onAuthStateChanged(e,t,s)}function WI(n){return Dt(n).signOut()}const Rf="__sak";class rE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const QI=1e3,XI=10;class aE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,_,p)=>{this.notifyListeners(d,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);lI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aE.type="LOCAL";const JI=aE;class oE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oE.type="SESSION";const lE=oE;function eP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new sm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const _=Array.from(d).map(async v=>v(t.origin,c)),p=await eP(_);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sm.receivers=[];function Wy(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class tP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((_,p)=>{const v=Wy("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(E){const N=E;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(N.data.response);break;default:clearTimeout(w),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Lr(){return window}function nP(n){Lr().location.href=n}function cE(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function iP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sP(){return navigator?.serviceWorker?.controller||null}function rP(){return cE()?self:null}const uE="firebaseLocalStorageDb",aP=1,If="firebaseLocalStorage",hE="fbase_key";class Oh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rm(n,e){return n.transaction([If],e?"readwrite":"readonly").objectStore(If)}function oP(){const n=indexedDB.deleteDatabase(uE);return new Oh(n).toPromise()}function iy(){const n=indexedDB.open(uE,aP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(If,{keyPath:hE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(If)?e(s):(s.close(),await oP(),e(await iy()))})})}async function Sx(n,e,t){const s=rm(n,!0).put({[hE]:e,value:t});return new Oh(s).toPromise()}async function lP(n,e){const t=rm(n,!1).get(e),s=await new Oh(t).toPromise();return s===void 0?null:s.value}function Ax(n,e){const t=rm(n,!0).delete(e);return new Oh(t).toPromise()}const cP=800,uP=3;class dE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>uP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sm._getInstance(rP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iP(),!this.activeServiceWorker)return;this.sender=new tP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iy();return await Sx(e,Rf,"1"),await Ax(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Sx(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>lP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ax(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=rm(o,!1).getAll();return new Oh(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dE.type="LOCAL";const hP=dE;new Mh(3e4,6e4);function fE(n,e){return e?ya(e):(Ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Qy extends $y{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dP(n){return nE(n.auth,new Qy(n),n.bypassAuthState)}function fP(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),zI(t,new Qy(n),n.bypassAuthState)}async function mP(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),VI(t,new Qy(n),n.bypassAuthState)}class mE{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:d,type:_}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dP;case"linkViaPopup":case"linkViaRedirect":return mP;case"reauthViaPopup":case"reauthViaRedirect":return fP;default:Ls(this.auth,"internal-error")}}resolve(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pP=new Mh(2e3,1e4);async function Cx(n,e,t){if(di(n.app))return Promise.reject(tr(n,"operation-not-supported-in-this-environment"));const s=Ca(n);qR(n,e,Ky);const o=fE(s,t);return new Al(s,"signInViaPopup",e,o).executeNotNull()}class Al extends mE{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){xa(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pP.get())};e()}}Al.currentPopupAction=null;const gP="pendingRedirect",hf=new Map;class yP extends mE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const s=await _P(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _P(n,e){const t=xP(e),s=bP(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function vP(n,e){hf.set(n._key(),e)}function bP(n){return ya(n._redirectPersistence)}function xP(n){return uf(gP,n.config.apiKey,n.name)}async function wP(n,e,t=!1){if(di(n.app))return Promise.reject(Mr(n));const s=Ca(n),o=fE(s,e),d=await new yP(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const EP=600*1e3;class TP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(tr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nx(e))}saveEventToCache(e){this.cachedEventUids.add(Nx(e)),this.lastProcessedEventTime=Date.now()}}function Nx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function SP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(n);default:return!1}}async function AP(n,e={}){return ar(n,"GET","/v1/projects",e)}const CP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NP=/^https?/;async function RP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AP(n);for(const t of e)try{if(IP(t))return}catch{}Ls(n,"unauthorized-domain")}function IP(n){const e=ey(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!NP.test(t))return!1;if(CP.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const PP=new Mh(3e4,6e4);function Rx(){const n=Lr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function MP(n){return new Promise((e,t)=>{function s(){Rx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rx(),t(tr(n,"network-request-failed"))},timeout:PP.get()})}if(Lr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Lr().gapi?.load)s();else{const o=yI("iframefcb");return Lr()[o]=()=>{gapi.load?s():t(tr(n,"network-request-failed"))},X1(`${gI()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw df=null,e})}let df=null;function LP(n){return df=df||MP(n),df}const OP=new Mh(5e3,15e3),DP="__/auth/iframe",kP="emulator/auth/iframe",jP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zP(n){const e=n.config;Ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fy(e,kP):`https://${n.config.authDomain}/${DP}`,s={apiKey:e.apiKey,appName:n.name,v:Zl},o=VP.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Ph(s).slice(1)}`}async function UP(n){const e=await LP(n),t=Lr().gapi;return Ge(t,n,"internal-error"),e.open({where:document.body,url:zP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jP,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=tr(n,"network-request-failed"),_=Lr().setTimeout(()=>{c(d)},OP.get());function p(){Lr().clearTimeout(_),o(s)}s.ping(p).then(p,()=>{c(d)})}))}const BP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qP=500,HP=600,FP="_blank",GP="http://localhost";class Ix{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZP(n,e,t,s=qP,o=HP){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const p={...BP,width:s.toString(),height:o.toString(),top:c,left:d},v=ii().toLowerCase();t&&(_=G1(v)?FP:t),H1(v)&&(e=e||GP,p.scrollbars="yes");const w=Object.entries(p).reduce((N,[R,j])=>`${N}${R}=${j},`,"");if(oI(v)&&_!=="_self")return $P(e||"",_),new Ix(null);const E=window.open(e||"",_,w);Ge(E,n,"popup-blocked");try{E.focus()}catch{}return new Ix(E)}function $P(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const YP="__/auth/handler",KP="emulator/auth/handler",WP=encodeURIComponent("fac");async function Px(n,e,t,s,o,c){Ge(n.config.authDomain,n,"auth-domain-config-required"),Ge(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Zl,eventId:o};if(e instanceof Ky){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",AN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))d[w]=E}if(e instanceof tu){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const _=d;for(const w of Object.keys(_))_[w]===void 0&&delete _[w];const p=await n._getAppCheckToken(),v=p?`#${WP}=${encodeURIComponent(p)}`:"";return`${QP(n)}?${Ph(_).slice(1)}${v}`}function QP({config:n}){return n.emulator?Fy(n,KP):`https://${n.authDomain}/${YP}`}const Cg="webStorageSupport";class XP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=wP,this._overrideRedirectResult=vP}async _openPopup(e,t,s,o){xa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Px(e,t,s,ey(),o);return ZP(e,c,Wy())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Px(e,t,s,ey(),o);return nP(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(xa(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await UP(e),s=new TP(e);return t.register("authEvent",o=>(Ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cg,{type:Cg},o=>{const c=o?.[0]?.[Cg];c!==void 0&&t(!!c),Ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W1()||F1()||Zy()}}const JP=XP;var Mx="@firebase/auth",Lx="1.12.0";class eM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nM(n){Ol(new Io("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=s.options;Ge(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:_,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q1(n)},v=new fI(s,o,c,p);return EI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ol(new Io("auth-internal",e=>{const t=Ca(e.getProvider("auth").getImmediate());return(s=>new eM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(Mx,Lx,tM(n)),Pr(Mx,Lx,"esm2020")}const iM=300,sM=R1("authIdTokenMaxAge")||iM;let Ox=null;const rM=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>sM)return;const o=t?.token;Ox!==o&&(Ox=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aM(n=By()){const e=nm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wI(n,{popupRedirectResolver:JP,persistence:[hP,JI,lE]}),s=R1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=rM(c.toString());YI(t,d,()=>d(t.currentUser)),$I(t,_=>d(_))}}const o=A1("auth");return o&&TI(t,`http://${o}`),t}function oM(){return document.getElementsByTagName("head")?.[0]??document}mI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=tr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",oM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nM("Browser");var Dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var No,gE;(function(){var n;function e(B,I){function Z(){}Z.prototype=I.prototype,B.F=I.prototype,B.prototype=new Z,B.prototype.constructor=B,B.D=function(F,H,Y){for(var G=Array(arguments.length-2),de=2;de<arguments.length;de++)G[de-2]=arguments[de];return I.prototype[H].apply(F,G)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(B,I,Z){Z||(Z=0);const F=Array(16);if(typeof I=="string")for(var H=0;H<16;++H)F[H]=I.charCodeAt(Z++)|I.charCodeAt(Z++)<<8|I.charCodeAt(Z++)<<16|I.charCodeAt(Z++)<<24;else for(H=0;H<16;++H)F[H]=I[Z++]|I[Z++]<<8|I[Z++]<<16|I[Z++]<<24;I=B.g[0],Z=B.g[1],H=B.g[2];let Y=B.g[3],G;G=I+(Y^Z&(H^Y))+F[0]+3614090360&4294967295,I=Z+(G<<7&4294967295|G>>>25),G=Y+(H^I&(Z^H))+F[1]+3905402710&4294967295,Y=I+(G<<12&4294967295|G>>>20),G=H+(Z^Y&(I^Z))+F[2]+606105819&4294967295,H=Y+(G<<17&4294967295|G>>>15),G=Z+(I^H&(Y^I))+F[3]+3250441966&4294967295,Z=H+(G<<22&4294967295|G>>>10),G=I+(Y^Z&(H^Y))+F[4]+4118548399&4294967295,I=Z+(G<<7&4294967295|G>>>25),G=Y+(H^I&(Z^H))+F[5]+1200080426&4294967295,Y=I+(G<<12&4294967295|G>>>20),G=H+(Z^Y&(I^Z))+F[6]+2821735955&4294967295,H=Y+(G<<17&4294967295|G>>>15),G=Z+(I^H&(Y^I))+F[7]+4249261313&4294967295,Z=H+(G<<22&4294967295|G>>>10),G=I+(Y^Z&(H^Y))+F[8]+1770035416&4294967295,I=Z+(G<<7&4294967295|G>>>25),G=Y+(H^I&(Z^H))+F[9]+2336552879&4294967295,Y=I+(G<<12&4294967295|G>>>20),G=H+(Z^Y&(I^Z))+F[10]+4294925233&4294967295,H=Y+(G<<17&4294967295|G>>>15),G=Z+(I^H&(Y^I))+F[11]+2304563134&4294967295,Z=H+(G<<22&4294967295|G>>>10),G=I+(Y^Z&(H^Y))+F[12]+1804603682&4294967295,I=Z+(G<<7&4294967295|G>>>25),G=Y+(H^I&(Z^H))+F[13]+4254626195&4294967295,Y=I+(G<<12&4294967295|G>>>20),G=H+(Z^Y&(I^Z))+F[14]+2792965006&4294967295,H=Y+(G<<17&4294967295|G>>>15),G=Z+(I^H&(Y^I))+F[15]+1236535329&4294967295,Z=H+(G<<22&4294967295|G>>>10),G=I+(H^Y&(Z^H))+F[1]+4129170786&4294967295,I=Z+(G<<5&4294967295|G>>>27),G=Y+(Z^H&(I^Z))+F[6]+3225465664&4294967295,Y=I+(G<<9&4294967295|G>>>23),G=H+(I^Z&(Y^I))+F[11]+643717713&4294967295,H=Y+(G<<14&4294967295|G>>>18),G=Z+(Y^I&(H^Y))+F[0]+3921069994&4294967295,Z=H+(G<<20&4294967295|G>>>12),G=I+(H^Y&(Z^H))+F[5]+3593408605&4294967295,I=Z+(G<<5&4294967295|G>>>27),G=Y+(Z^H&(I^Z))+F[10]+38016083&4294967295,Y=I+(G<<9&4294967295|G>>>23),G=H+(I^Z&(Y^I))+F[15]+3634488961&4294967295,H=Y+(G<<14&4294967295|G>>>18),G=Z+(Y^I&(H^Y))+F[4]+3889429448&4294967295,Z=H+(G<<20&4294967295|G>>>12),G=I+(H^Y&(Z^H))+F[9]+568446438&4294967295,I=Z+(G<<5&4294967295|G>>>27),G=Y+(Z^H&(I^Z))+F[14]+3275163606&4294967295,Y=I+(G<<9&4294967295|G>>>23),G=H+(I^Z&(Y^I))+F[3]+4107603335&4294967295,H=Y+(G<<14&4294967295|G>>>18),G=Z+(Y^I&(H^Y))+F[8]+1163531501&4294967295,Z=H+(G<<20&4294967295|G>>>12),G=I+(H^Y&(Z^H))+F[13]+2850285829&4294967295,I=Z+(G<<5&4294967295|G>>>27),G=Y+(Z^H&(I^Z))+F[2]+4243563512&4294967295,Y=I+(G<<9&4294967295|G>>>23),G=H+(I^Z&(Y^I))+F[7]+1735328473&4294967295,H=Y+(G<<14&4294967295|G>>>18),G=Z+(Y^I&(H^Y))+F[12]+2368359562&4294967295,Z=H+(G<<20&4294967295|G>>>12),G=I+(Z^H^Y)+F[5]+4294588738&4294967295,I=Z+(G<<4&4294967295|G>>>28),G=Y+(I^Z^H)+F[8]+2272392833&4294967295,Y=I+(G<<11&4294967295|G>>>21),G=H+(Y^I^Z)+F[11]+1839030562&4294967295,H=Y+(G<<16&4294967295|G>>>16),G=Z+(H^Y^I)+F[14]+4259657740&4294967295,Z=H+(G<<23&4294967295|G>>>9),G=I+(Z^H^Y)+F[1]+2763975236&4294967295,I=Z+(G<<4&4294967295|G>>>28),G=Y+(I^Z^H)+F[4]+1272893353&4294967295,Y=I+(G<<11&4294967295|G>>>21),G=H+(Y^I^Z)+F[7]+4139469664&4294967295,H=Y+(G<<16&4294967295|G>>>16),G=Z+(H^Y^I)+F[10]+3200236656&4294967295,Z=H+(G<<23&4294967295|G>>>9),G=I+(Z^H^Y)+F[13]+681279174&4294967295,I=Z+(G<<4&4294967295|G>>>28),G=Y+(I^Z^H)+F[0]+3936430074&4294967295,Y=I+(G<<11&4294967295|G>>>21),G=H+(Y^I^Z)+F[3]+3572445317&4294967295,H=Y+(G<<16&4294967295|G>>>16),G=Z+(H^Y^I)+F[6]+76029189&4294967295,Z=H+(G<<23&4294967295|G>>>9),G=I+(Z^H^Y)+F[9]+3654602809&4294967295,I=Z+(G<<4&4294967295|G>>>28),G=Y+(I^Z^H)+F[12]+3873151461&4294967295,Y=I+(G<<11&4294967295|G>>>21),G=H+(Y^I^Z)+F[15]+530742520&4294967295,H=Y+(G<<16&4294967295|G>>>16),G=Z+(H^Y^I)+F[2]+3299628645&4294967295,Z=H+(G<<23&4294967295|G>>>9),G=I+(H^(Z|~Y))+F[0]+4096336452&4294967295,I=Z+(G<<6&4294967295|G>>>26),G=Y+(Z^(I|~H))+F[7]+1126891415&4294967295,Y=I+(G<<10&4294967295|G>>>22),G=H+(I^(Y|~Z))+F[14]+2878612391&4294967295,H=Y+(G<<15&4294967295|G>>>17),G=Z+(Y^(H|~I))+F[5]+4237533241&4294967295,Z=H+(G<<21&4294967295|G>>>11),G=I+(H^(Z|~Y))+F[12]+1700485571&4294967295,I=Z+(G<<6&4294967295|G>>>26),G=Y+(Z^(I|~H))+F[3]+2399980690&4294967295,Y=I+(G<<10&4294967295|G>>>22),G=H+(I^(Y|~Z))+F[10]+4293915773&4294967295,H=Y+(G<<15&4294967295|G>>>17),G=Z+(Y^(H|~I))+F[1]+2240044497&4294967295,Z=H+(G<<21&4294967295|G>>>11),G=I+(H^(Z|~Y))+F[8]+1873313359&4294967295,I=Z+(G<<6&4294967295|G>>>26),G=Y+(Z^(I|~H))+F[15]+4264355552&4294967295,Y=I+(G<<10&4294967295|G>>>22),G=H+(I^(Y|~Z))+F[6]+2734768916&4294967295,H=Y+(G<<15&4294967295|G>>>17),G=Z+(Y^(H|~I))+F[13]+1309151649&4294967295,Z=H+(G<<21&4294967295|G>>>11),G=I+(H^(Z|~Y))+F[4]+4149444226&4294967295,I=Z+(G<<6&4294967295|G>>>26),G=Y+(Z^(I|~H))+F[11]+3174756917&4294967295,Y=I+(G<<10&4294967295|G>>>22),G=H+(I^(Y|~Z))+F[2]+718787259&4294967295,H=Y+(G<<15&4294967295|G>>>17),G=Z+(Y^(H|~I))+F[9]+3951481745&4294967295,B.g[0]=B.g[0]+I&4294967295,B.g[1]=B.g[1]+(H+(G<<21&4294967295|G>>>11))&4294967295,B.g[2]=B.g[2]+H&4294967295,B.g[3]=B.g[3]+Y&4294967295}s.prototype.v=function(B,I){I===void 0&&(I=B.length);const Z=I-this.blockSize,F=this.C;let H=this.h,Y=0;for(;Y<I;){if(H==0)for(;Y<=Z;)o(this,B,Y),Y+=this.blockSize;if(typeof B=="string"){for(;Y<I;)if(F[H++]=B.charCodeAt(Y++),H==this.blockSize){o(this,F),H=0;break}}else for(;Y<I;)if(F[H++]=B[Y++],H==this.blockSize){o(this,F),H=0;break}}this.h=H,this.o+=I},s.prototype.A=function(){var B=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);B[0]=128;for(var I=1;I<B.length-8;++I)B[I]=0;I=this.o*8;for(var Z=B.length-8;Z<B.length;++Z)B[Z]=I&255,I/=256;for(this.v(B),B=Array(16),I=0,Z=0;Z<4;++Z)for(let F=0;F<32;F+=8)B[I++]=this.g[Z]>>>F&255;return B};function c(B,I){var Z=_;return Object.prototype.hasOwnProperty.call(Z,B)?Z[B]:Z[B]=I(B)}function d(B,I){this.h=I;const Z=[];let F=!0;for(let H=B.length-1;H>=0;H--){const Y=B[H]|0;F&&Y==I||(Z[H]=Y,F=!1)}this.g=Z}var _={};function p(B){return-128<=B&&B<128?c(B,function(I){return new d([I|0],I<0?-1:0)}):new d([B|0],B<0?-1:0)}function v(B){if(isNaN(B)||!isFinite(B))return E;if(B<0)return k(v(-B));const I=[];let Z=1;for(let F=0;B>=Z;F++)I[F]=B/Z|0,Z*=4294967296;return new d(I,0)}function w(B,I){if(B.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(B.charAt(0)=="-")return k(w(B.substring(1),I));if(B.indexOf("-")>=0)throw Error('number format error: interior "-" character');const Z=v(Math.pow(I,8));let F=E;for(let Y=0;Y<B.length;Y+=8){var H=Math.min(8,B.length-Y);const G=parseInt(B.substring(Y,Y+H),I);H<8?(H=v(Math.pow(I,H)),F=F.j(H).add(v(G))):(F=F.j(Z),F=F.add(v(G)))}return F}var E=p(0),N=p(1),R=p(16777216);n=d.prototype,n.m=function(){if(z(this))return-k(this).m();let B=0,I=1;for(let Z=0;Z<this.g.length;Z++){const F=this.i(Z);B+=(F>=0?F:4294967296+F)*I,I*=4294967296}return B},n.toString=function(B){if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(j(this))return"0";if(z(this))return"-"+k(this).toString(B);const I=v(Math.pow(B,6));var Z=this;let F="";for(;;){const H=ee(Z,I).g;Z=O(Z,H.j(I));let Y=((Z.g.length>0?Z.g[0]:Z.h)>>>0).toString(B);if(Z=H,j(Z))return Y+F;for(;Y.length<6;)Y="0"+Y;F=Y+F}},n.i=function(B){return B<0?0:B<this.g.length?this.g[B]:this.h};function j(B){if(B.h!=0)return!1;for(let I=0;I<B.g.length;I++)if(B.g[I]!=0)return!1;return!0}function z(B){return B.h==-1}n.l=function(B){return B=O(this,B),z(B)?-1:j(B)?0:1};function k(B){const I=B.g.length,Z=[];for(let F=0;F<I;F++)Z[F]=~B.g[F];return new d(Z,~B.h).add(N)}n.abs=function(){return z(this)?k(this):this},n.add=function(B){const I=Math.max(this.g.length,B.g.length),Z=[];let F=0;for(let H=0;H<=I;H++){let Y=F+(this.i(H)&65535)+(B.i(H)&65535),G=(Y>>>16)+(this.i(H)>>>16)+(B.i(H)>>>16);F=G>>>16,Y&=65535,G&=65535,Z[H]=G<<16|Y}return new d(Z,Z[Z.length-1]&-2147483648?-1:0)};function O(B,I){return B.add(k(I))}n.j=function(B){if(j(this)||j(B))return E;if(z(this))return z(B)?k(this).j(k(B)):k(k(this).j(B));if(z(B))return k(this.j(k(B)));if(this.l(R)<0&&B.l(R)<0)return v(this.m()*B.m());const I=this.g.length+B.g.length,Z=[];for(var F=0;F<2*I;F++)Z[F]=0;for(F=0;F<this.g.length;F++)for(let H=0;H<B.g.length;H++){const Y=this.i(F)>>>16,G=this.i(F)&65535,de=B.i(H)>>>16,Ne=B.i(H)&65535;Z[2*F+2*H]+=G*Ne,q(Z,2*F+2*H),Z[2*F+2*H+1]+=Y*Ne,q(Z,2*F+2*H+1),Z[2*F+2*H+1]+=G*de,q(Z,2*F+2*H+1),Z[2*F+2*H+2]+=Y*de,q(Z,2*F+2*H+2)}for(B=0;B<I;B++)Z[B]=Z[2*B+1]<<16|Z[2*B];for(B=I;B<2*I;B++)Z[B]=0;return new d(Z,0)};function q(B,I){for(;(B[I]&65535)!=B[I];)B[I+1]+=B[I]>>>16,B[I]&=65535,I++}function $(B,I){this.g=B,this.h=I}function ee(B,I){if(j(I))throw Error("division by zero");if(j(B))return new $(E,E);if(z(B))return I=ee(k(B),I),new $(k(I.g),k(I.h));if(z(I))return I=ee(B,k(I)),new $(k(I.g),I.h);if(B.g.length>30){if(z(B)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var Z=N,F=I;F.l(B)<=0;)Z=ne(Z),F=ne(F);var H=ye(Z,1),Y=ye(F,1);for(F=ye(F,2),Z=ye(Z,2);!j(F);){var G=Y.add(F);G.l(B)<=0&&(H=H.add(Z),Y=G),F=ye(F,1),Z=ye(Z,1)}return I=O(B,H.j(I)),new $(H,I)}for(H=E;B.l(I)>=0;){for(Z=Math.max(1,Math.floor(B.m()/I.m())),F=Math.ceil(Math.log(Z)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),Y=v(Z),G=Y.j(I);z(G)||G.l(B)>0;)Z-=F,Y=v(Z),G=Y.j(I);j(Y)&&(Y=N),H=H.add(Y),B=O(B,G)}return new $(H,B)}n.B=function(B){return ee(this,B).h},n.and=function(B){const I=Math.max(this.g.length,B.g.length),Z=[];for(let F=0;F<I;F++)Z[F]=this.i(F)&B.i(F);return new d(Z,this.h&B.h)},n.or=function(B){const I=Math.max(this.g.length,B.g.length),Z=[];for(let F=0;F<I;F++)Z[F]=this.i(F)|B.i(F);return new d(Z,this.h|B.h)},n.xor=function(B){const I=Math.max(this.g.length,B.g.length),Z=[];for(let F=0;F<I;F++)Z[F]=this.i(F)^B.i(F);return new d(Z,this.h^B.h)};function ne(B){const I=B.g.length+1,Z=[];for(let F=0;F<I;F++)Z[F]=B.i(F)<<1|B.i(F-1)>>>31;return new d(Z,B.h)}function ye(B,I){const Z=I>>5;I%=32;const F=B.g.length-Z,H=[];for(let Y=0;Y<F;Y++)H[Y]=I>0?B.i(Y+Z)>>>I|B.i(Y+Z+1)<<32-I:B.i(Y+Z);return new d(H,B.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,gE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,No=d}).apply(typeof Dx<"u"?Dx:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,th,_E,ff,sy,vE,bE,xE;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var T=0;T<f.length;++T){var C=f[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=t(this);function o(f,T){if(T)e:{var C=s;f=f.split(".");for(var V=0;V<f.length-1;V++){var se=f[V];if(!(se in C))break e;C=C[se]}f=f[f.length-1],V=C[f],T=T(V),T!=V&&T!=null&&e(C,f,{configurable:!0,writable:!0,value:T})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(T){var C=[],V;for(V in T)Object.prototype.hasOwnProperty.call(T,V)&&C.push([V,T[V]]);return C}});var c=c||{},d=this||self;function _(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function p(f,T,C){return f.call.apply(f.bind,arguments)}function v(f,T,C){return v=p,v.apply(null,arguments)}function w(f,T){var C=Array.prototype.slice.call(arguments,1);return function(){var V=C.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function E(f,T){function C(){}C.prototype=T.prototype,f.Z=T.prototype,f.prototype=new C,f.prototype.constructor=f,f.Ob=function(V,se,he){for(var Re=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Re[Ye-2]=arguments[Ye];return T.prototype[se].apply(V,Re)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function R(f){const T=f.length;if(T>0){const C=Array(T);for(let V=0;V<T;V++)C[V]=f[V];return C}return[]}function j(f,T){for(let V=1;V<arguments.length;V++){const se=arguments[V];var C=typeof se;if(C=C!="object"?C:se?Array.isArray(se)?"array":C:"null",C=="array"||C=="object"&&typeof se.length=="number"){C=f.length||0;const he=se.length||0;f.length=C+he;for(let Re=0;Re<he;Re++)f[C+Re]=se[Re]}else f.push(se)}}class z{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function k(f){d.setTimeout(()=>{throw f},0)}function O(){var f=B;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class q{constructor(){this.h=this.g=null}add(T,C){const V=$.get();V.set(T,C),this.h?this.h.next=V:this.g=V,this.h=V}}var $=new z(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ye=!1,B=new q,I=()=>{const f=Promise.resolve(void 0);ne=()=>{f.then(Z)}};function Z(){for(var f;f=O();){try{f.h.call(f.g)}catch(C){k(C)}var T=$;T.j(f),T.h<100&&(T.h++,f.next=T.g,T.g=f)}ye=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};d.addEventListener("test",C,T),d.removeEventListener("test",C,T)}catch{}return f})();function G(f){return/^[\s\xa0]*$/.test(f)}function de(f,T){H.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,T)}E(de,H),de.prototype.init=function(f,T){const C=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget,T||(C=="mouseover"?T=f.fromElement:C=="mouseout"&&(T=f.toElement)),this.relatedTarget=T,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),re=0;function Se(f,T,C,V,se){this.listener=f,this.proxy=null,this.src=T,this.type=C,this.capture=!!V,this.ha=se,this.key=++re,this.da=this.fa=!1}function ae(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f,T,C){for(const V in f)T.call(C,f[V],V,f)}function pe(f,T){for(const C in f)T.call(void 0,f[C],C,f)}function D(f){const T={};for(const C in f)T[C]=f[C];return T}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(f,T){let C,V;for(let se=1;se<arguments.length;se++){V=arguments[se];for(C in V)f[C]=V[C];for(let he=0;he<X.length;he++)C=X[he],Object.prototype.hasOwnProperty.call(V,C)&&(f[C]=V[C])}}function ve(f){this.src=f,this.g={},this.h=0}ve.prototype.add=function(f,T,C,V,se){const he=f.toString();f=this.g[he],f||(f=this.g[he]=[],this.h++);const Re=Ce(f,T,V,se);return Re>-1?(T=f[Re],C||(T.fa=!1)):(T=new Se(T,this.src,he,!!V,se),T.fa=C,f.push(T)),T};function Ae(f,T){const C=T.type;if(C in f.g){var V=f.g[C],se=Array.prototype.indexOf.call(V,T,void 0),he;(he=se>=0)&&Array.prototype.splice.call(V,se,1),he&&(ae(T),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Ce(f,T,C,V){for(let se=0;se<f.length;++se){const he=f[se];if(!he.da&&he.listener==T&&he.capture==!!C&&he.ha==V)return se}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),At={};function Ct(f,T,C,V,se){if(Array.isArray(T)){for(let he=0;he<T.length;he++)Ct(f,T[he],C,V,se);return null}return C=hs(C),f&&f[Ne]?f.J(T,C,_(V)?!!V.capture:!1,se):ji(f,T,C,!1,V,se)}function ji(f,T,C,V,se,he){if(!T)throw Error("Invalid event type");const Re=_(se)?!!se.capture:!!se;let Ye=us(f);if(Ye||(f[qe]=Ye=new ve(f)),C=Ye.add(T,C,V,Re,he),C.proxy)return C;if(V=ls(),C.proxy=V,V.src=f,V.listener=C,f.addEventListener)Y||(se=Re),se===void 0&&(se=!1),f.addEventListener(T.toString(),V,se);else if(f.attachEvent)f.attachEvent(yi(T.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return C}function ls(){function f(C){return T.call(f.src,f.listener,C)}const T=or;return f}function gi(f,T,C,V,se){if(Array.isArray(T))for(var he=0;he<T.length;he++)gi(f,T[he],C,V,se);else V=_(V)?!!V.capture:!!V,C=hs(C),f&&f[Ne]?(f=f.i,he=String(T).toString(),he in f.g&&(T=f.g[he],C=Ce(T,C,V,se),C>-1&&(ae(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete f.g[he],f.h--)))):f&&(f=us(f))&&(T=f.g[T.toString()],f=-1,T&&(f=Ce(T,C,V,se)),(C=f>-1?T[f]:null)&&cs(C))}function cs(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[Ne])Ae(T.i,f);else{var C=f.type,V=f.proxy;T.removeEventListener?T.removeEventListener(C,V,f.capture):T.detachEvent?T.detachEvent(yi(C),V):T.addListener&&T.removeListener&&T.removeListener(V),(C=us(T))?(Ae(C,f),C.h==0&&(C.src=null,T[qe]=null)):ae(f)}}}function yi(f){return f in At?At[f]:At[f]="on"+f}function or(f,T){if(f.da)f=!0;else{T=new de(T,this);const C=f.listener,V=f.ha||f.src;f.fa&&cs(f),f=C.call(V,T)}return f}function us(f){return f=f[qe],f instanceof ve?f:null}var Ds="__closure_events_fn_"+(Math.random()*1e9>>>0);function hs(f){return typeof f=="function"?f:(f[Ds]||(f[Ds]=function(T){return f.handleEvent(T)}),f[Ds])}function J(){F.call(this),this.i=new ve(this),this.M=this,this.G=null}E(J,F),J.prototype[Ne]=!0,J.prototype.removeEventListener=function(f,T,C,V){gi(this,f,T,C,V)};function ke(f,T){var C,V=f.G;if(V)for(C=[];V;V=V.G)C.push(V);if(f=f.M,V=T.type||T,typeof T=="string")T=new H(T,f);else if(T instanceof H)T.target=T.target||f;else{var se=T;T=new H(V,f),me(T,se)}se=!0;let he,Re;if(C)for(Re=C.length-1;Re>=0;Re--)he=T.g=C[Re],se=Je(he,V,!0,T)&&se;if(he=T.g=f,se=Je(he,V,!0,T)&&se,se=Je(he,V,!1,T)&&se,C)for(Re=0;Re<C.length;Re++)he=T.g=C[Re],se=Je(he,V,!1,T)&&se}J.prototype.N=function(){if(J.Z.N.call(this),this.i){var f=this.i;for(const T in f.g){const C=f.g[T];for(let V=0;V<C.length;V++)ae(C[V]);delete f.g[T],f.h--}}this.G=null},J.prototype.J=function(f,T,C,V){return this.i.add(String(f),T,!1,C,V)},J.prototype.K=function(f,T,C,V){return this.i.add(String(f),T,!0,C,V)};function Je(f,T,C,V){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();let se=!0;for(let he=0;he<T.length;++he){const Re=T[he];if(Re&&!Re.da&&Re.capture==C){const Ye=Re.listener,gt=Re.ha||Re.src;Re.fa&&Ae(f.i,Re),se=Ye.call(gt,V)!==!1&&se}}return se&&!V.defaultPrevented}function rt(f,T){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:d.setTimeout(f,T||0)}function zn(f){f.g=rt(()=>{f.g=null,f.i&&(f.i=!1,zn(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class kt extends F{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(f){F.call(this),this.h=f,this.g={}}E(ks,F);var Br=[];function Ia(f){ge(f.g,function(T,C){this.g.hasOwnProperty(C)&&cs(T)},f),f.g={}}ks.prototype.N=function(){ks.Z.N.call(this),Ia(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var js=d.JSON.stringify,lu=d.JSON.parse,Bo=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function qo(){}function Wl(){}var _i={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hn(){H.call(this,"d")}E(hn,H);function si(){H.call(this,"c")}E(si,H);var Yt={},lr=null;function Pa(){return lr=lr||new J}Yt.Ia="serverreachability";function Ql(f){H.call(this,Yt.Ia,f)}E(Ql,H);function Vi(f){const T=Pa();ke(T,new Ql(T))}Yt.STAT_EVENT="statevent";function cr(f,T){H.call(this,Yt.STAT_EVENT,f),this.stat=T}E(cr,H);function Kt(f){const T=Pa();ke(T,new cr(T,f))}Yt.Ja="timingevent";function ds(f,T){H.call(this,Yt.Ja,f),this.size=T}E(ds,H);function fs(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},T)}function zi(){this.g=!0}zi.prototype.ua=function(){this.g=!1};function cu(f,T,C,V,se,he){f.info(function(){if(f.g)if(he){var Re="",Ye=he.split("&");for(let yt=0;yt<Ye.length;yt++){var gt=Ye[yt].split("=");if(gt.length>1){const Vt=gt[0];gt=gt[1];const Ai=Vt.split("_");Re=Ai.length>=2&&Ai[1]=="type"?Re+(Vt+"="+gt+"&"):Re+(Vt+"=redacted&")}}}else Re=null;else Re=he;return"XMLHTTP REQ ("+V+") [attempt "+se+"]: "+T+`
`+C+`
`+Re})}function Xl(f,T,C,V,se,he,Re){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+se+"]: "+T+`
`+C+`
`+he+" "+Re})}function ms(f,T,C,V){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+uu(f,C)+(V?" "+V:"")})}function Vs(f,T){f.info(function(){return"TIMEOUT: "+T})}zi.prototype.info=function(){};function uu(f,T){if(!f.g)return T;if(!T)return null;try{const he=JSON.parse(T);if(he){for(f=0;f<he.length;f++)if(Array.isArray(he[f])){var C=he[f];if(!(C.length<2)){var V=C[1];if(Array.isArray(V)&&!(V.length<1)){var se=V[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Re=1;Re<V.length;Re++)V[Re]=""}}}}return js(he)}catch{return T}}var qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Rn(){}E(Rn,qo),Rn.prototype.g=function(){return new XMLHttpRequest},Fo=new Rn;function Oe(f){return encodeURIComponent(String(f))}function Go(f){var T=1;f=f.split(":");const C=[];for(;T>0&&f.length;)C.push(f.shift()),T--;return f.length&&C.push(f.join(":")),C}function vi(f,T,C,V){this.j=f,this.i=T,this.l=C,this.S=V||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}var Wt={},en={};function Ui(f,T,C){f.M=1,f.A=Nt(Bt(T)),f.u=C,f.R=!0,Bi(f,null)}function Bi(f,T){f.F=Date.now(),ps(f),f.B=Bt(f.A);var C=f.B,V=f.S;Array.isArray(V)||(V=[String(V)]),hr(C.i,"t",V),f.C=0,C=f.j.L,f.h=new bi,f.g=Xo(f.j,C?T:null,!f.u),f.P>0&&(f.O=new kt(v(f.Y,f,f.g),f.P)),T=f.V,C=f.g,V=f.ba;var se="readystatechange";Array.isArray(se)||(se&&(Br[0]=se.toString()),se=Br);for(let he=0;he<se.length;he++){const Re=Ct(C,se[he],V||T.handleEvent,!1,T.h||T);if(!Re)break;T.g[Re.key]=Re}T=f.J?D(f.J):{},f.u?(f.v||(f.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,T)):(f.v="GET",f.g.ea(f.B,f.v,null,T)),Vi(),cu(f.i,f.v,f.B,f.l,f.S,f.u)}vi.prototype.ba=function(f){f=f.target;const T=this.O;T&&Gi(f)==3?T.j():this.Y(f)},vi.prototype.Y=function(f){try{if(f==this.g)e:{const Ye=Gi(this.g),gt=this.g.ya(),yt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||Ye!=4||gt==7||(gt==8||yt<=0?Vi(3):Vi(2)),qi(this);var T=this.g.ca();this.X=T;var C=Jl(this);if(this.o=T==200,Xl(this.i,this.v,this.B,this.l,this.S,Ye,T),this.o){if(this.U&&!this.L){t:{if(this.g){var V,se=this.g;if((V=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(V)){var he=V;break t}}he=null}if(f=he)ms(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gs(this,f);else{this.o=!1,this.m=3,Kt(12),In(this),xi(this);break e}}if(this.R){f=!0;let Vt;for(;!this.K&&this.C<C.length;)if(Vt=tc(this,C),Vt==en){Ye==4&&(this.m=4,Kt(14),f=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==Wt){this.m=4,Kt(15),ms(this.i,this.l,C,"[Invalid Chunk]"),f=!1;break}else ms(this.i,this.l,Vt,null),gs(this,Vt);if(ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||C.length!=0||this.h.h||(this.m=1,Kt(16),f=!1),this.o=this.o&&f,!f)ms(this.i,this.l,C,"[Invalid Chunked Response]"),In(this),xi(this);else if(C.length>0&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.aa&&!Re.P&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Wo(Re),Re.P=!0,Kt(11))}}else ms(this.i,this.l,C,null),gs(this,C);Ye==4&&In(this),this.o&&!this.K&&(Ye==4?oi(this.j,this):(this.o=!1,ps(this)))}else Zi(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),In(this),xi(this)}}}catch{}};function Jl(f){if(!ec(f))return f.g.la();const T=yn(f.g);if(T==="")return"";let C="";const V=T.length,se=Gi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return In(f),xi(f),"";f.h.i=new d.TextDecoder}for(let he=0;he<V;he++)f.h.h=!0,C+=f.h.i.decode(T[he],{stream:!(se&&he==V-1)});return T.length=0,f.h.g+=C,f.C=0,f.h.g}function ec(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function tc(f,T){var C=f.C,V=T.indexOf(`
`,C);return V==-1?en:(C=Number(T.substring(C,V)),isNaN(C)?Wt:(V+=1,V+C>T.length?en:(T=T.slice(V,V+C),f.C=V+C,T)))}vi.prototype.cancel=function(){this.K=!0,In(this)};function ps(f){f.T=Date.now()+f.H,Ma(f,f.H)}function Ma(f,T){if(f.D!=null)throw Error("WatchDog timer not null");f.D=fs(v(f.aa,f),T)}function qi(f){f.D&&(d.clearTimeout(f.D),f.D=null)}vi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(Vi(),Kt(17)),In(this),this.m=2,xi(this)):Ma(this,this.T-f)};function xi(f){f.j.I==0||f.K||oi(f.j,f)}function In(f){qi(f);var T=f.O;T&&typeof T.dispose=="function"&&T.dispose(),f.O=null,Ia(f.V),f.g&&(T=f.g,f.g=null,T.abort(),T.dispose())}function gs(f,T){try{var C=f.j;if(C.I!=0&&(C.g==f||wi(C.h,f))){if(!f.L&&wi(C.h,f)&&C.I==3){try{var V=C.Ba.g.parse(T)}catch{V=null}if(Array.isArray(V)&&V.length==3){var se=V;if(se[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<f.F)za(C),pr(C);else break e;Yr(C),Kt(18)}}else C.xa=se[1],0<C.xa-C.K&&se[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=fs(v(C.Va,C),6e3));ys(C.h)<=1&&C.ta&&(C.ta=void 0)}else $i(C,11)}else if((f.L||C.g==f)&&za(C),!G(T))for(se=C.Ba.g.parse(T),T=0;T<se.length;T++){let yt=se[T];const Vt=yt[0];if(!(Vt<=C.K))if(C.K=Vt,yt=yt[1],C.I==2)if(yt[0]=="c"){C.M=yt[1],C.ba=yt[2];const Ai=yt[3];Ai!=null&&(C.ka=Ai,C.j.info("VER="+C.ka));const Ci=yt[4];Ci!=null&&(C.za=Ci,C.j.info("SVER="+C.za));const li=yt[5];li!=null&&typeof li=="number"&&li>0&&(V=1.5*li,C.O=V,C.j.info("backChannelRequestTimeoutMs_="+V)),V=C;const Ki=f.g;if(Ki){const Kr=Ki.g?Ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var he=V.h;he.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(zs(he,he.h),he.h=null))}if(V.G){const Wr=Ki.g?Ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Wr&&(V.wa=Wr,Me(V.J,V.G,Wr))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-f.F,C.j.info("Handshake RTT: "+C.T+"ms")),V=C;var Re=f;if(V.na=Qo(V,V.L?V.ba:null,V.W),Re.L){La(V.h,Re);var Ye=Re,gt=V.O;gt&&(Ye.H=gt),Ye.D&&(qi(Ye),ps(Ye)),V.g=Re}else Ko(V);C.i.length>0&&Kn(C)}else yt[0]!="stop"&&yt[0]!="close"||$i(C,7);else C.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?$i(C,7):it(C):yt[0]!="noop"&&C.l&&C.l.qa(yt),C.A=0)}}Vi(4)}catch{}}var tn=class{constructor(f,T){this.g=f,this.map=T}};function Zo(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ys(f){return f.h?1:f.g?f.g.size:0}function wi(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function zs(f,T){f.g?f.g.add(T):f.h=T}function La(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}Zo.prototype.cancel=function(){if(this.i=Oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Oa(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const C of f.g.values())T=T.concat(C.G);return T}return R(f.i)}var ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(f,T){if(f){f=f.split("&");for(let C=0;C<f.length;C++){const V=f[C].indexOf("=");let se,he=null;V>=0?(se=f[C].substring(0,V),he=f[C].substring(V+1)):se=f[C],T(se,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function at(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;f instanceof at?(this.l=f.l,qt(this,f.j),this.o=f.o,this.g=f.g,ri(this,f.u),this.h=f.h,Hr(this,Zr(f.i)),this.m=f.m):f&&(T=String(f).match(ur))?(this.l=!1,qt(this,T[1]||"",!0),this.o=Ei(T[2]||""),this.g=Ei(T[3]||"",!0),ri(this,T[4]),this.h=Ei(T[5]||"",!0),Hr(this,T[6]||"",!0),this.m=Ei(T[7]||"")):(this.l=!1,this.i=new Ti(null,this.l))}at.prototype.toString=function(){const f=[];var T=this.j;T&&f.push(_s(T,Da,!0),":");var C=this.g;return(C||T=="file")&&(f.push("//"),(T=this.o)&&f.push(_s(T,Da,!0),"@"),f.push(Oe(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&f.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(_s(C,C.charAt(0)=="/"?Hi:Fr,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",_s(C,vs)),f.join("")},at.prototype.resolve=function(f){const T=Bt(this);let C=!!f.j;C?qt(T,f.j):C=!!f.o,C?T.o=f.o:C=!!f.g,C?T.g=f.g:C=f.u!=null;var V=f.h;if(C)ri(T,f.u);else if(C=!!f.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var se=T.h.lastIndexOf("/");se!=-1&&(V=T.h.slice(0,se+1)+V)}if(se=V,se==".."||se==".")V="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){V=se.lastIndexOf("/",0)==0,se=se.split("/");const he=[];for(let Re=0;Re<se.length;){const Ye=se[Re++];Ye=="."?V&&Re==se.length&&he.push(""):Ye==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),V&&Re==se.length&&he.push("")):(he.push(Ye),V=!0)}V=he.join("/")}else V=se}return C?T.h=V:C=f.i.toString()!=="",C?Hr(T,Zr(f.i)):C=!!f.m,C&&(T.m=f.m),T};function Bt(f){return new at(f)}function qt(f,T,C){f.j=C?Ei(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function ri(f,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);f.u=T}else f.u=null}function Hr(f,T,C){T instanceof Ti?(f.i=T,dr(f.i,f.l)):(C||(T=_s(T,Rt)),f.i=new Ti(T,f.l))}function Me(f,T,C){f.i.set(T,C)}function Nt(f){return Me(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ei(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _s(f,T,C){return typeof f=="string"?(f=encodeURI(f).replace(T,jt),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function jt(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Da=/[#\/\?@]/g,Fr=/[#\?:]/g,Hi=/[#\?]/g,Rt=/[#\?@]/g,vs=/#/g;function Ti(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function gn(f){f.g||(f.g=new Map,f.h=0,f.i&&st(f.i,function(T,C){f.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}n=Ti.prototype,n.add=function(f,T){gn(this),this.i=null,f=bs(this,f);let C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(T),this.h+=1,this};function ka(f,T){gn(f),T=bs(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function Us(f,T){return gn(f),T=bs(f,T),f.g.has(T)}n.forEach=function(f,T){gn(this),this.g.forEach(function(C,V){C.forEach(function(se){f.call(T,se,V,this)},this)},this)};function Gr(f,T){gn(f);let C=[];if(typeof T=="string")Us(f,T)&&(C=C.concat(f.g.get(bs(f,T))));else for(f=Array.from(f.g.values()),T=0;T<f.length;T++)C=C.concat(f[T]);return C}n.set=function(f,T){return gn(this),this.i=null,f=bs(this,f),Us(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},n.get=function(f,T){return f?(f=Gr(this,f),f.length>0?String(f[0]):T):T};function hr(f,T,C){ka(f,T),C.length>0&&(f.i=null,f.g.set(bs(f,T),R(C)),f.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(let V=0;V<T.length;V++){var C=T[V];const se=Oe(C);C=Gr(this,C);for(let he=0;he<C.length;he++){let Re=se;C[he]!==""&&(Re+="="+Oe(C[he])),f.push(Re)}}return this.i=f.join("&")};function Zr(f){const T=new Ti;return T.i=f.i,f.g&&(T.g=new Map(f.g),T.h=f.h),T}function bs(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function dr(f,T){T&&!f.j&&(gn(f),f.i=null,f.g.forEach(function(C,V){const se=V.toLowerCase();V!=se&&(ka(this,V),hr(this,se,C))},f)),f.j=T}function Zn(f,T){const C=new zi;if(d.Image){const V=new Image;V.onload=w($n,C,"TestLoadImage: loaded",!0,T,V),V.onerror=w($n,C,"TestLoadImage: error",!1,T,V),V.onabort=w($n,C,"TestLoadImage: abort",!1,T,V),V.ontimeout=w($n,C,"TestLoadImage: timeout",!1,T,V),d.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else T(!1)}function ja(f,T){const C=new zi,V=new AbortController,se=setTimeout(()=>{V.abort(),$n(C,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:V.signal}).then(he=>{clearTimeout(se),he.ok?$n(C,"TestPingServer: ok",!0,T):$n(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(se),$n(C,"TestPingServer: error",!1,T)})}function $n(f,T,C,V,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),V(C)}catch{}}function fr(){this.g=new Bo}function He(f){this.i=f.Sb||null,this.h=f.ab||!1}E(He,qo),He.prototype.g=function(){return new Pn(this.i,this.h)};function Pn(f,T){J.call(this),this.H=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Pn,J),n=Pn.prototype,n.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=T,this.readyState=1,ai(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(T.body=f),(this.H||d).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vt(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function vt(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?Bs(this):ai(this),this.readyState==3&&vt(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Bs(this))},n.Na=function(f){this.g&&(this.response=f,Bs(this))},n.ga=function(){this.g&&Bs(this)};function Bs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ai(f)}n.setRequestHeader=function(f,T){this.A.append(f,T)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=T.next();return f.join(`\r
`)};function ai(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yn(f){let T="";return ge(f,function(C,V){T+=V,T+=":",T+=C,T+=`\r
`}),T}function qs(f,T,C){e:{for(V in C){var V=!1;break e}V=!0}V||(C=Yn(C),typeof f=="string"?C!=null&&Oe(C):Me(f,T,C))}function ut(f){J.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ut,J);var Si=/^https?$/i,Hs=["POST","PUT"];n=ut.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,T,C,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=N(v(this.Ca,this));try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(he){Ht(this,he);return}if(f=C||"",C=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var se in V)C.set(se,V[se]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const he of V.keys())C.set(he,V.get(he));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(C.keys()).find(he=>he.toLowerCase()=="content-type"),se=d.FormData&&f instanceof d.FormData,!(Array.prototype.indexOf.call(Hs,T,void 0)>=0)||V||se||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Re]of C)this.g.setRequestHeader(he,Re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(he){Ht(this,he)}};function Ht(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.o=5,Fi(f),xs(f)}function Fi(f){f.A||(f.A=!0,ke(f,"complete"),ke(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,ke(this,"complete"),ke(this,"abort"),xs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),ut.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?mr(this):this.Xa())},n.Xa=function(){mr(this)};function mr(f){if(f.h&&typeof c<"u"){if(f.v&&Gi(f)==4)setTimeout(f.Ca.bind(f),0);else if(ke(f,"readystatechange"),Gi(f)==4){f.h=!1;try{const he=f.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var V;if(V=he===0){let Re=String(f.D).match(ur)[1]||null;!Re&&d.self&&d.self.location&&(Re=d.self.location.protocol.slice(0,-1)),V=!Si.test(Re?Re.toLowerCase():"")}C=V}if(C)ke(f,"complete"),ke(f,"success");else{f.o=6;try{var se=Gi(f)>2?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.ca()+"]",Fi(f)}}finally{xs(f)}}}}function xs(f,T){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const C=f.g;f.g=null,T||ke(f,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Gi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),lu(T)}};function yn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(f){const T={};f=(f.g&&Gi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(G(f[V]))continue;var C=Go(f[V]);const se=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const he=T[se]||[];T[se]=he,he.push(C)}pe(T,function(V){return V.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(f,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||T}function Fs(f){this.za=0,this.i=[],this.j=new zi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ws("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ws("baseRetryDelayMs",5e3,f),this.Za=ws("retryDelaySeedMs",1e4,f),this.Ta=ws("forwardChannelMaxRetries",2,f),this.va=ws("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(f&&f.concurrentRequestLimit),this.Ba=new fr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Fs.prototype,n.ka=8,n.I=1,n.connect=function(f,T,C,V){Kt(0),this.W=f,this.H=T||{},C&&V!==void 0&&(this.H.OSID=C,this.H.OAID=V),this.F=this.X,this.J=Qo(this,null,this.W),Kn(this)};function it(f){if(Mn(f),f.I==3){var T=f.V++,C=Bt(f.J);if(Me(C,"SID",f.M),Me(C,"RID",T),Me(C,"TYPE","terminate"),Gs(f,C),T=new vi(f,f.j,T),T.M=2,T.A=Nt(Bt(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&d.Image&&(new Image().src=T.A,C=!0),C||(T.g=Xo(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ps(T)}Yi(f)}function pr(f){f.g&&(Wo(f),f.g.cancel(),f.g=null)}function Mn(f){pr(f),f.v&&(d.clearTimeout(f.v),f.v=null),za(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&d.clearTimeout(f.m),f.m=null)}function Kn(f){if(!$o(f.h)&&!f.m){f.m=!0;var T=f.Ea;ne||I(),ye||(ne(),ye=!0),B.add(T,f),f.D=0}}function $r(f,T){return ys(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=T.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=fs(v(f.Ea,f,T),ic(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const se=new vi(this,this.j,f);let he=this.o;if(this.U&&(he?(he=D(he),me(he,this.U)):he=this.U),this.u!==null||this.R||(se.J=he,he=null),this.S)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var V=this.i[C];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(T+=V,T>4096){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=nc(this,se,T),C=Bt(this.J),Me(C,"RID",f),Me(C,"CVER",22),this.G&&Me(C,"X-HTTP-Session-Id",this.G),Gs(this,C),he&&(this.R?T="headers="+Oe(Yn(he))+"&"+T:this.u&&qs(C,this.u,he)),zs(this.h,se),this.Ra&&Me(C,"TYPE","init"),this.S?(Me(C,"$req",T),Me(C,"SID","null"),se.U=!0,Ui(se,C,null)):Ui(se,C,T),this.I=2}}else this.I==3&&(f?Yo(this,f):this.i.length==0||$o(this.h)||Yo(this))};function Yo(f,T){var C;T?C=T.l:C=f.V++;const V=Bt(f.J);Me(V,"SID",f.M),Me(V,"RID",C),Me(V,"AID",f.K),Gs(f,V),f.u&&f.o&&qs(V,f.u,f.o),C=new vi(f,f.j,C,f.D+1),f.u===null&&(C.J=f.o),T&&(f.i=T.G.concat(f.i)),T=nc(f,C,1e3),C.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),zs(f.h,C),Ui(C,V,T)}function Gs(f,T){f.H&&ge(f.H,function(C,V){Me(T,V,C)}),f.l&&ge({},function(C,V){Me(T,V,C)})}function nc(f,T,C){C=Math.min(f.i.length,C);const V=f.l?v(f.l.Ka,f.l,f):null;e:{var se=f.i;let Ye=-1;for(;;){const gt=["count="+C];Ye==-1?C>0?(Ye=se[0].g,gt.push("ofs="+Ye)):Ye=0:gt.push("ofs="+Ye);let yt=!0;for(let Vt=0;Vt<C;Vt++){var he=se[Vt].g;const Ai=se[Vt].map;if(he-=Ye,he<0)Ye=Math.max(0,se[Vt].g-100),yt=!1;else try{he="req"+he+"_"||"";try{var Re=Ai instanceof Map?Ai:Object.entries(Ai);for(const[Ci,li]of Re){let Ki=li;_(li)&&(Ki=js(li)),gt.push(he+Ci+"="+encodeURIComponent(Ki))}}catch(Ci){throw gt.push(he+"type="+encodeURIComponent("_badmap")),Ci}}catch{V&&V(Ai)}}if(yt){Re=gt.join("&");break e}}Re=void 0}return f=f.i.splice(0,C),T.G=f,Re}function Ko(f){if(!f.g&&!f.v){f.Y=1;var T=f.Da;ne||I(),ye||(ne(),ye=!0),B.add(T,f),f.A=0}}function Yr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=fs(v(f.Da,f),ic(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Va(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=fs(v(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),pr(this),Va(this))};function Wo(f){f.B!=null&&(d.clearTimeout(f.B),f.B=null)}function Va(f){f.g=new vi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var T=Bt(f.na);Me(T,"RID","rpc"),Me(T,"SID",f.M),Me(T,"AID",f.K),Me(T,"CI",f.F?"0":"1"),!f.F&&f.ia&&Me(T,"TO",f.ia),Me(T,"TYPE","xmlhttp"),Gs(f,T),f.u&&f.o&&qs(T,f.u,f.o),f.O&&(f.g.H=f.O);var C=f.g;f=f.ba,C.M=1,C.A=Nt(Bt(T)),C.u=null,C.R=!0,Bi(C,f)}n.Va=function(){this.C!=null&&(this.C=null,pr(this),Yr(this),Kt(19))};function za(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function oi(f,T){var C=null;if(f.g==T){za(f),Wo(f),f.g=null;var V=2}else if(wi(f.h,T))C=T.G,La(f.h,T),V=1;else return;if(f.I!=0){if(T.o)if(V==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var se=f.D;V=Pa(),ke(V,new ds(V,C)),Kn(f)}else Ko(f);else if(se=T.m,se==3||se==0&&T.X>0||!(V==1&&$r(f,T)||V==2&&Yr(f)))switch(C&&C.length>0&&(T=f.h,T.i=T.i.concat(C)),se){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function ic(f,T){let C=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(C*=2),C*T}function $i(f,T){if(f.j.info("Error code "+T),T==2){var C=v(f.bb,f),V=f.Ua;const se=!V;V=new at(V||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(V,"https"),Nt(V),se?Zn(V.toString(),C):ja(V.toString(),C)}else Kt(2);f.I=0,f.l&&f.l.pa(T),Yi(f),Mn(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Yi(f){if(f.I=0,f.ja=[],f.l){const T=Oa(f.h);(T.length!=0||f.i.length!=0)&&(j(f.ja,T),j(f.ja,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.oa()}}function Qo(f,T,C){var V=C instanceof at?Bt(C):new at(C);if(V.g!="")T&&(V.g=T+"."+V.g),ri(V,V.u);else{var se=d.location;V=se.protocol,T=T?T+"."+se.hostname:se.hostname,se=+se.port;const he=new at(null);V&&qt(he,V),T&&(he.g=T),se&&ri(he,se),C&&(he.h=C),V=he}return C=f.G,T=f.wa,C&&T&&Me(V,C,T),Me(V,"VER",f.ka),Gs(f,V),V}function Xo(f,T,C){if(T&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Aa&&!f.ma?new ut(new He({ab:C})):new ut(f.ma),T.Fa(f.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ua(){}n=Ua.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function gr(){}gr.prototype.g=function(f,T){return new Ln(f,T)};function Ln(f,T){J.call(this),this.g=new Fs(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(f?f["X-WebChannel-Client-Profile"]=T.sa:f={"X-WebChannel-Client-Profile":T.sa}),this.g.U=f,(f=T&&T.Qb)&&!G(f)&&(this.g.u=f),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!G(T)&&(this.g.G=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new Zs(this)}E(Ln,J),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){it(this.g)},Ln.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.v&&(C={},C.__data__=js(f),f=C);T.i.push(new tn(T.Ya++,f)),T.I==3&&Kn(T)},Ln.prototype.N=function(){this.g.l=null,delete this.j,it(this.g),delete this.g,Ln.Z.N.call(this)};function Jo(f){hn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){e:{for(const C in T){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}E(Jo,hn);function sc(){si.call(this),this.status=1}E(sc,si);function Zs(f){this.g=f}E(Zs,Ua),Zs.prototype.ra=function(){ke(this.g,"a")},Zs.prototype.qa=function(f){ke(this.g,new Jo(f))},Zs.prototype.pa=function(f){ke(this.g,new sc)},Zs.prototype.oa=function(){ke(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,xE=function(){return new gr},bE=function(){return Pa()},vE=Yt,sy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,ff=qr,Ho.COMPLETE="complete",_E=Ho,Wl.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",J.prototype.listen=J.prototype.J,th=Wl,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,yE=ut}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});let ei=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let nu="12.9.0";function lM(n){nu=n}const jl=new zy("@firebase/firestore");function jc(){return jl.logLevel}function Le(n,...e){if(jl.logLevel<=ft.DEBUG){const t=e.map(Xy);jl.debug(`Firestore (${nu}): ${n}`,...t)}}function Ea(n,...e){if(jl.logLevel<=ft.ERROR){const t=e.map(Xy);jl.error(`Firestore (${nu}): ${n}`,...t)}}function Vl(n,...e){if(jl.logLevel<=ft.WARN){const t=e.map(Xy);jl.warn(`Firestore (${nu}): ${n}`,...t)}}function Xy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function $e(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,wE(n,s,t)}function wE(n,e,t){let s=`FIRESTORE (${nu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ea(s),new Error(s)}function St(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||wE(e,o,s)}function Ke(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class EE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ei.UNAUTHENTICATED)))}shutdown(){}}class uM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Or,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},_=p=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>_(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?_(p):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Or)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(St(typeof s.accessToken=="string",31837,{l:s}),new EE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new ei(e)}}class dM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ei.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class fM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new dM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ei.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){St(this.o===void 0,3512);const s=c=>{c.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(St(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class Jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pM(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function mt(n,e){return n<e?-1:n>e?1:0}function ry(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Ng(o)===Ng(c)?mt(o,c):Ng(o)?1:-1}return mt(n.length,e.length)}const gM=55296,yM=57343;function Ng(n){const e=n.charCodeAt(0);return e>=gM&&e<=yM}function Zc(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const jx="__name__";class Cr{constructor(e,t,s){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&$e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Cr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return mt(e.length,t.length)}static compareSegments(e,t){const s=Cr.isNumericId(e),o=Cr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Cr.extractNumericId(e).compare(Cr.extractNumericId(t)):ry(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return No.fromString(e.substring(4,e.length-2))}}class Ut extends Cr{construct(e,t,s){return new Ut(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Pe(xe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ut(t)}static emptyPath(){return new Ut([])}}const _M=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Cr{construct(e,t,s){return new Fn(e,t,s)}static isValidIdentifier(e){return _M.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jx}static keyField(){return new Fn([jx])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Pe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new Pe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Pe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(s+=_,o++):(c(),o++)}if(c(),d)throw new Pe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(t)}static emptyPath(){return new Fn([])}}class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Ut.fromString(e))}static fromName(e){return new Be(Ut.fromString(e).popFirst(5))}static empty(){return new Be(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Ut(e.slice()))}}function TE(n,e,t){if(!t)throw new Pe(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vM(n,e,t,s){if(e===!0&&s===!0)throw new Pe(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vx(n){if(!Be.isDocumentKey(n))throw new Pe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zx(n){if(Be.isDocumentKey(n))throw new Pe(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function am(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function ni(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=am(n);throw new Pe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Tn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Dh(n,e){if(!SE(n))throw new Pe(xe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const d=n[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Pe(xe.INVALID_ARGUMENT,t);return!0}const Ux=-62135596800,Bx=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Bx);return new Gt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ux)throw new Pe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bx}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dh(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ux;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:Tn("string",Gt._jsonSchemaVersion),seconds:Tn("number"),nanoseconds:Tn("number")};class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Gt(0,0))}static max(){return new We(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _h=-1;function bM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=We.fromTimestamp(s===1e9?new Gt(t+1,0):new Gt(t,s));return new Po(o,Be.empty(),e)}function xM(n){return new Po(n.readTime,n.key,_h)}class Po{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Po(We.min(),Be.empty(),_h)}static max(){return new Po(We.max(),Be.empty(),_h)}}function wM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:mt(n.largestBatchId,e.largestBatchId))}const EM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function iu(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==EM)throw n;Le("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,s)=>{t(e)}))}static reject(e){return new Te(((t,s)=>{s(e)}))}static waitFor(e){return new Te(((t,s)=>{let o=0,c=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++c,d&&c===o&&t()}),(p=>s(p)))})),d=!0,c===o&&t()}))}static or(e){let t=Te.resolve(!1);for(const s of e)t=t.next((o=>o?Te.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new Te(((s,o)=>{const c=e.length,d=new Array(c);let _=0;for(let p=0;p<c;p++){const v=p;t(e[v]).next((w=>{d[v]=w,++_,_===c&&s(d)}),(w=>o(w)))}}))}static doWhile(e,t){return new Te(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function SM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(n){return n.name==="IndexedDbTransactionError"}class om{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}om.ce=-1;const e_=-1;function lm(n){return n==null}function Pf(n){return n===0&&1/n==-1/0}function AM(n){return typeof n=="number"&&Number.isInteger(n)&&!Pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const AE="";function CM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qx(e)),e=NM(n.get(t),e);return qx(e)}function NM(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case AE:t+="";break;default:t+=c}}return t}function qx(n){return n+AE+""}function Hx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RM(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function CE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jt{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new Jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??Hn.RED,this.left=o??Hn.EMPTY,this.right=c??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new Hn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Hn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fx(this.data.getIterator())}getIteratorFrom(e){return new Fx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class Fx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ss{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new ss([])}unionWith(e){let t=new Nn(Fn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zc(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new NE("Invalid base64 string: "+c):c}})(e);return new Gn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const IM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mo(n){if(St(!!n,39018),typeof n=="string"){let e=0;const t=IM.exec(n);if(St(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pn(n.seconds),nanos:pn(n.nanos)}}function pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Lo(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}const RE="server_timestamp",IE="__type__",PE="__previous_value__",ME="__local_write_time__";function t_(n){return(n?.mapValue?.fields||{})[IE]?.stringValue===RE}function cm(n){const e=n.mapValue.fields[PE];return t_(e)?cm(e):e}function vh(n){const e=Mo(n.mapValue.fields[ME].timestampValue);return new Gt(e.seconds,e.nanos)}class PM{constructor(e,t,s,o,c,d,_,p,v,w,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=E}}const Mf="(default)";class bh{constructor(e,t){this.projectId=e,this.database=t||Mf}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}function MM(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Pe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(n.options.projectId,e)}const LE="__type__",LM="__max__",Jd={mapValue:{}},OE="__vector__",Lf="value";function Oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?t_(n)?4:DM(n)?9007199254740991:OM(n)?10:11:$e(28295,{value:n})}function zr(n,e){if(n===e)return!0;const t=Oo(n);if(t!==Oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vh(n).isEqual(vh(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Mo(o.timestampValue),_=Mo(c.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return Lo(o.bytesValue).isEqual(Lo(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return pn(o.geoPointValue.latitude)===pn(c.geoPointValue.latitude)&&pn(o.geoPointValue.longitude)===pn(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return pn(o.integerValue)===pn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=pn(o.doubleValue),_=pn(c.doubleValue);return d===_?Pf(d)===Pf(_):isNaN(d)&&isNaN(_)}return!1})(n,e);case 9:return Zc(n.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},_=c.mapValue.fields||{};if(Hx(d)!==Hx(_))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(_[p]===void 0||!zr(d[p],_[p])))return!1;return!0})(n,e);default:return $e(52216,{left:n})}}function xh(n,e){return(n.values||[]).find((t=>zr(t,e)))!==void 0}function $c(n,e){if(n===e)return 0;const t=Oo(n),s=Oo(e);if(t!==s)return mt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return mt(n.booleanValue,e.booleanValue);case 2:return(function(c,d){const _=pn(c.integerValue||c.doubleValue),p=pn(d.integerValue||d.doubleValue);return _<p?-1:_>p?1:_===p?0:isNaN(_)?isNaN(p)?0:-1:1})(n,e);case 3:return Gx(n.timestampValue,e.timestampValue);case 4:return Gx(vh(n),vh(e));case 5:return ry(n.stringValue,e.stringValue);case 6:return(function(c,d){const _=Lo(c),p=Lo(d);return _.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(c,d){const _=c.split("/"),p=d.split("/");for(let v=0;v<_.length&&v<p.length;v++){const w=mt(_[v],p[v]);if(w!==0)return w}return mt(_.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,d){const _=mt(pn(c.latitude),pn(d.latitude));return _!==0?_:mt(pn(c.longitude),pn(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Zx(n.arrayValue,e.arrayValue);case 10:return(function(c,d){const _=c.fields||{},p=d.fields||{},v=_[Lf]?.arrayValue,w=p[Lf]?.arrayValue,E=mt(v?.values?.length||0,w?.values?.length||0);return E!==0?E:Zx(v,w)})(n.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Jd.mapValue&&d===Jd.mapValue)return 0;if(c===Jd.mapValue)return 1;if(d===Jd.mapValue)return-1;const _=c.fields||{},p=Object.keys(_),v=d.fields||{},w=Object.keys(v);p.sort(),w.sort();for(let E=0;E<p.length&&E<w.length;++E){const N=ry(p[E],w[E]);if(N!==0)return N;const R=$c(_[p[E]],v[w[E]]);if(R!==0)return R}return mt(p.length,w.length)})(n.mapValue,e.mapValue);default:throw $e(23264,{he:t})}}function Gx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return mt(n,e);const t=Mo(n),s=Mo(e),o=mt(t.seconds,s.seconds);return o!==0?o:mt(t.nanos,s.nanos)}function Zx(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=$c(t[o],s[o]);if(c)return c}return mt(t.length,s.length)}function Yc(n){return ay(n)}function ay(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Mo(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Lo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=ay(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${ay(t.fields[d])}`;return o+"}"})(n.mapValue):$e(61005,{value:n})}function mf(n){switch(Oo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cm(n);return e?16+mf(e):16;case 5:return 2*n.stringValue.length;case 6:return Lo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+mf(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Vo(s.fields,((c,d)=>{o+=c.length+mf(d)})),o})(n.mapValue);default:throw $e(13486,{value:n})}}function $x(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function oy(n){return!!n&&"integerValue"in n}function n_(n){return!!n&&"arrayValue"in n}function Yx(n){return!!n&&"nullValue"in n}function Kx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pf(n){return!!n&&"mapValue"in n}function OM(n){return(n?.mapValue?.fields||{})[LE]?.stringValue===OE}function ch(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Vo(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ch(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ch(n.arrayValue.values[t]);return e}return{...n}}function DM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LM}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(t)}setAll(e){let t=Fn.emptyPath(),s={},o=[];e.forEach(((d,_)=>{if(!t.isImmediateParentOf(_)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=_.popLast()}d?s[_.lastSegment()]=ch(d):o.push(_.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Vo(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new fi(ch(this.value))}}function DE(n){const e=[];return Vo(n.fields,((t,s)=>{const o=new Fn([t]);if(pf(s)){const c=DE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new ss(e)}class ti{constructor(e,t,s,o,c,d,_){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(e){return new ti(e,0,We.min(),We.min(),We.min(),fi.empty(),0)}static newFoundDocument(e,t,s,o){return new ti(e,1,t,We.min(),s,o,0)}static newNoDocument(e,t){return new ti(e,2,t,We.min(),We.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new ti(e,3,t,We.min(),We.min(),fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(e,t){this.position=e,this.inclusive=t}}function Wx(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(c.field.isKeyField()?s=Be.comparator(Be.fromName(d.referenceValue),t.key):s=$c(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zr(n.position[t],e.position[t]))return!1;return!0}class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function kM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kE{}class En extends kE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new VM(e,t,s):t==="array-contains"?new BM(e,s):t==="in"?new qM(e,s):t==="not-in"?new HM(e,s):t==="array-contains-any"?new FM(e,s):new En(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new zM(e,s):new UM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($c(t,this.value)):t!==null&&Oo(this.value)===Oo(t)&&this.matchesComparison($c(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends kE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ir(e,t)}matches(e){return jE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jE(n){return n.op==="and"}function VE(n){return jM(n)&&jE(n)}function jM(n){for(const e of n.filters)if(e instanceof ir)return!1;return!0}function ly(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+Yc(n.value);if(VE(n))return n.filters.map((e=>ly(e))).join(",");{const e=n.filters.map((t=>ly(t))).join(",");return`${n.op}(${e})`}}function zE(n,e){return n instanceof En?(function(s,o){return o instanceof En&&s.op===o.op&&s.field.isEqual(o.field)&&zr(s.value,o.value)})(n,e):n instanceof ir?(function(s,o){return o instanceof ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,_)=>c&&zE(d,o.filters[_])),!0):!1})(n,e):void $e(19439)}function UE(n){return n instanceof En?(function(t){return`${t.field.canonicalString()} ${t.op} ${Yc(t.value)}`})(n):n instanceof ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(UE).join(" ,")+"}"})(n):"Filter"}class VM extends En{constructor(e,t,s){super(e,t,s),this.key=Be.fromName(s.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class zM extends En{constructor(e,t){super(e,"in",t),this.keys=BE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UM extends En{constructor(e,t){super(e,"not-in",t),this.keys=BE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function BE(n,e){return(e.arrayValue?.values||[]).map((t=>Be.fromName(t.referenceValue)))}class BM extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return n_(t)&&xh(t.arrayValue,this.value)}}class qM extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xh(this.value.arrayValue,t)}}class HM extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xh(this.value.arrayValue,t)}}class FM extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!n_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>xh(this.value.arrayValue,s)))}}class GM{constructor(e,t=null,s=[],o=[],c=null,d=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=_,this.Te=null}}function Xx(n,e=null,t=[],s=[],o=null,c=null,d=null){return new GM(n,e,t,s,o,c,d)}function i_(n){const e=Ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>ly(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),lm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Yc(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Yc(s))).join(",")),e.Te=t}return e.Te}function s_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qx(n.startAt,e.startAt)&&Qx(n.endAt,e.endAt)}function cy(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ru{constructor(e,t=null,s=[],o=[],c=null,d="F",_=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZM(n,e,t,s,o,c,d,_){return new ru(n,e,t,s,o,c,d,_)}function um(n){return new ru(n)}function Jx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $M(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function qE(n){return n.collectionGroup!==null}function uh(n){const e=Ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Nn(Fn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new wh(c,s))})),t.has(Fn.keyField().canonicalString())||e.Ie.push(new wh(Fn.keyField(),s))}return e.Ie}function Dr(n){const e=Ke(n);return e.Ee||(e.Ee=HE(e,uh(n))),e.Ee}function YM(n){const e=Ke(n);return e.Re||(e.Re=HE(e,n.explicitOrderBy)),e.Re}function HE(n,e){if(n.limitType==="F")return Xx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new wh(o.field,c)}));const t=n.endAt?new Of(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Of(n.startAt.position,n.startAt.inclusive):null;return Xx(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function uy(n,e){const t=n.filters.concat([e]);return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function KM(n,e){const t=n.explicitOrderBy.concat([e]);return new ru(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Df(n,e,t){return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hm(n,e){return s_(Dr(n),Dr(e))&&n.limitType===e.limitType}function FE(n){return`${i_(Dr(n))}|lt:${n.limitType}`}function Vc(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>UE(o))).join(", ")}]`),lm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Yc(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Yc(o))).join(",")),`Target(${s})`})(Dr(n))}; limitType=${n.limitType})`}function dm(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Be.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of uh(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(d,_,p){const v=Wx(d,_,p);return d.inclusive?v<=0:v<0})(s.startAt,uh(s),o)||s.endAt&&!(function(d,_,p){const v=Wx(d,_,p);return d.inclusive?v>=0:v>0})(s.endAt,uh(s),o))})(n,e)}function WM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GE(n){return(e,t)=>{let s=!1;for(const o of uh(n)){const c=QM(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function QM(n,e,t){const s=n.field.isKeyField()?Be.comparator(e.key,t.key):(function(c,d,_){const p=d.data.field(c),v=_.data.field(c);return p!==null&&v!==null?$c(p,v):$e(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return $e(19790,{direction:n.dir})}}class $l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return CE(this.inner)}size(){return this.innerSize}}const XM=new Jt(Be.comparator);function Ta(){return XM}const ZE=new Jt(Be.comparator);function nh(...n){let e=ZE;for(const t of n)e=e.insert(t.key,t);return e}function $E(n){let e=ZE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Cl(){return hh()}function YE(){return hh()}function hh(){return new $l((n=>n.toString()),((n,e)=>n.isEqual(e)))}const JM=new Jt(Be.comparator),eL=new Nn(Be.comparator);function pt(...n){let e=eL;for(const t of n)e=e.add(t);return e}const tL=new Nn(mt);function nL(){return tL}function r_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function KE(n){return{integerValue:""+n}}function WE(n,e){return AM(e)?KE(e):r_(n,e)}class fm{constructor(){this._=void 0}}function iL(n,e,t){return n instanceof kf?(function(o,c){const d={fields:{[IE]:{stringValue:RE},[ME]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&t_(c)&&(c=cm(c)),c&&(d.fields[PE]=c),{mapValue:d}})(t,e):n instanceof Eh?XE(n,e):n instanceof Th?JE(n,e):(function(o,c){const d=QE(o,c),_=ew(d)+ew(o.Ae);return oy(d)&&oy(o.Ae)?KE(_):r_(o.serializer,_)})(n,e)}function sL(n,e,t){return n instanceof Eh?XE(n,e):n instanceof Th?JE(n,e):t}function QE(n,e){return n instanceof Sh?(function(s){return oy(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class kf extends fm{}class Eh extends fm{constructor(e){super(),this.elements=e}}function XE(n,e){const t=eT(e);for(const s of n.elements)t.some((o=>zr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Th extends fm{constructor(e){super(),this.elements=e}}function JE(n,e){let t=eT(e);for(const s of n.elements)t=t.filter((o=>!zr(o,s)));return{arrayValue:{values:t}}}class Sh extends fm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ew(n){return pn(n.integerValue||n.doubleValue)}function eT(n){return n_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rL{constructor(e,t){this.field=e,this.transform=t}}function aL(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Eh&&o instanceof Eh||s instanceof Th&&o instanceof Th?Zc(s.elements,o.elements,zr):s instanceof Sh&&o instanceof Sh?zr(s.Ae,o.Ae):s instanceof kf&&o instanceof kf})(n.transform,e.transform)}class oL{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mm{}function tT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pm(n.key,mi.none()):new kh(n.key,n.data,mi.none());{const t=n.data,s=fi.empty();let o=new Nn(Fn.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new zo(n.key,s,new ss(o.toArray()),mi.none())}}function lL(n,e,t){n instanceof kh?(function(o,c,d){const _=o.value.clone(),p=nw(o.fieldTransforms,c,d.transformResults);_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(n,e,t):n instanceof zo?(function(o,c,d){if(!gf(o.precondition,c))return void c.convertToUnknownDocument(d.version);const _=nw(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(nT(o)),p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(n,e,t):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function dh(n,e,t,s){return n instanceof kh?(function(c,d,_,p){if(!gf(c.precondition,d))return _;const v=c.value.clone(),w=iw(c.fieldTransforms,p,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof zo?(function(c,d,_,p){if(!gf(c.precondition,d))return _;const v=iw(c.fieldTransforms,p,d),w=d.data;return w.setAll(nT(c)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(c,d,_){return gf(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(n,e,t)}function cL(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=QE(s.transform,o||null);c!=null&&(t===null&&(t=fi.empty()),t.set(s.field,c))}return t||null}function tw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Zc(s,o,((c,d)=>aL(c,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kh extends mm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zo extends mm{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function nT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function nw(n,e,t){const s=new Map;St(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,_=e.data.field(c.field);s.set(c.field,sL(d,_,t[o]))}return s}function iw(n,e,t){const s=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);s.set(o.field,iL(c,d,e))}return s}class pm extends mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uL extends mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hL{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&lL(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=YE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=t.has(o.key)?null:_;const p=tT(d,_);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(We.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Zc(this.mutations,e.mutations,((t,s)=>tw(t,s)))&&Zc(this.baseMutations,e.baseMutations,((t,s)=>tw(t,s)))}}class a_{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){St(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return JM})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new a_(e,t,s,o)}}class dL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fL{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}class mL{constructor(e,t){this.count=e,this.unchangedNames=t}}var wn,_t;function pL(n){switch(n){case xe.OK:return $e(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function iT(n){if(n===void 0)return Ea("GRPC error has no .code"),xe.UNKNOWN;switch(n){case wn.OK:return xe.OK;case wn.CANCELLED:return xe.CANCELLED;case wn.UNKNOWN:return xe.UNKNOWN;case wn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case wn.INTERNAL:return xe.INTERNAL;case wn.UNAVAILABLE:return xe.UNAVAILABLE;case wn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case wn.NOT_FOUND:return xe.NOT_FOUND;case wn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case wn.ABORTED:return xe.ABORTED;case wn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case wn.DATA_LOSS:return xe.DATA_LOSS;default:return $e(39323,{code:n})}}(_t=wn||(wn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";function gL(){return new TextEncoder}const yL=new No([4294967295,4294967295],0);function sw(n){const e=gL().encode(n),t=new gE;return t.update(e),new Uint8Array(t.digest())}function rw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new No([t,s],0),new No([o,c],0)]}class o_{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ih(`Invalid padding: ${t}`);if(s<0)throw new ih(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ih(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=No.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(No.fromNumber(s)));return o.compare(yL)===1&&(o=new No([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=sw(e),[s,o]=rw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new o_(c,o,t);return s.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const t=sw(e),[s,o]=rw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.be(d)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gm{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,jh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new gm(We.min(),o,new Jt(mt),Ta(),pt())}}class jh{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new jh(s,t,pt(),pt(),pt())}}class yf{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class sT{constructor(e,t){this.targetId=e,this.Ce=t}}class rT{constructor(e,t,s=Gn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class aw{constructor(){this.ve=0,this.Fe=ow(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),t=pt(),s=pt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:$e(38017,{changeType:c})}})),new jh(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=ow()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _L{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ta(),this.He=ef(),this.Je=ef(),this.Ze=new Jt(mt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(cy(c))if(s===0){const d=new Be(c.path);this.et(t,d,ti.newNoDocument(d,We.min()))}else St(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const _=this.ut(e),p=_?this.ct(_,e,d):1;if(p!==0){this.it(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let d,_;try{d=Lo(s).toUint8Array()}catch(p){if(p instanceof NE)return Vl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{_=new o_(d,o,c)}catch(p){return Vl(p instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return _.ge===0?null:_}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,d)=>{const _=this.ot(d);if(_){if(c.current&&cy(_.target)){const p=new Be(_.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,ti.newNoDocument(p,e))}c.Be&&(t.set(d,c.ke()),c.Ke())}}));let s=pt();this.Je.forEach(((c,d)=>{let _=!0;d.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new gm(e,t,this.Ze,this.je,s);return this.je=Ta(),this.He=ef(),this.Je=ef(),this.Ze=new Jt(mt),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new aw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Nn(mt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Nn(mt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ef(){return new Jt(Be.comparator)}function ow(){return new Jt(Be.comparator)}const vL={asc:"ASCENDING",desc:"DESCENDING"},bL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xL={and:"AND",or:"OR"};class wL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hy(n,e){return n.useProto3Json||lm(e)?e:{value:e}}function jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EL(n,e){return jf(n,e.toTimestamp())}function kr(n){return St(!!n,49232),We.fromTimestamp((function(t){const s=Mo(t);return new Gt(s.seconds,s.nanos)})(n))}function l_(n,e){return dy(n,e).canonicalString()}function dy(n,e){const t=(function(o){return new Ut(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function oT(n){const e=Ut.fromString(n);return St(fT(e),10190,{key:e.toString()}),e}function fy(n,e){return l_(n.databaseId,e.path)}function Rg(n,e){const t=oT(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(cT(t))}function lT(n,e){return l_(n.databaseId,e)}function TL(n){const e=oT(n);return e.length===4?Ut.emptyPath():cT(e)}function my(n){return new Ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cT(n){return St(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lw(n,e,t){return{name:fy(n,e),fields:t.value.mapValue.fields}}function SL(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:$e(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(St(w===void 0||typeof w=="string",58123),Gn.fromBase64String(w||"")):(St(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Gn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(v){const w=v.code===void 0?xe.UNKNOWN:iT(v.code);return new Pe(w,v.message||"")})(d);t=new rT(s,o,c,_||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rg(n,s.document.name),c=kr(s.document.updateTime),d=s.document.createTime?kr(s.document.createTime):We.min(),_=new fi({mapValue:{fields:s.document.fields}}),p=ti.newFoundDocument(o,c,d,_),v=s.targetIds||[],w=s.removedTargetIds||[];t=new yf(v,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rg(n,s.document),c=s.readTime?kr(s.readTime):We.min(),d=ti.newNoDocument(o,c),_=s.removedTargetIds||[];t=new yf([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rg(n,s.document),c=s.removedTargetIds||[];t=new yf([],c,o,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new mL(o,c),_=s.targetId;t=new sT(_,d)}}return t}function AL(n,e){let t;if(e instanceof kh)t={update:lw(n,e.key,e.value)};else if(e instanceof pm)t={delete:fy(n,e.key)};else if(e instanceof zo)t={update:lw(n,e.key,e.data),updateMask:DL(e.fieldMask)};else{if(!(e instanceof uL))return $e(16599,{dt:e.type});t={verify:fy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const _=d.transform;if(_ instanceof kf)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Eh)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Th)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Sh)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw $e(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:EL(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:$e(27497)})(n,e.precondition)),t}function CL(n,e){return n&&n.length>0?(St(e!==void 0,14353),n.map((t=>(function(o,c){let d=o.updateTime?kr(o.updateTime):kr(c);return d.isEqual(We.min())&&(d=kr(c)),new oL(d,o.transformResults||[])})(t,e)))):[]}function NL(n,e){return{documents:[lT(n,e.path)]}}function uT(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=lT(n,o);const c=(function(v){if(v.length!==0)return dT(ir.create(v,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((w=>(function(N){return{field:xo(N.field),direction:ML(N.dir)}})(w)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=hy(n,e.limit);return _!==null&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function RL(n,e,t,s){const{ft:o,parent:c}=uT(n,e),d={},_=[];let p=0;return t.forEach((v=>{const w="aggregate_"+p++;d[w]=v.alias,v.aggregateType==="count"?_.push({alias:w,count:{}}):v.aggregateType==="avg"?_.push({alias:w,avg:{field:xo(v.fieldPath)}}):v.aggregateType==="sum"&&_.push({alias:w,sum:{field:xo(v.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:_,structuredQuery:o.structuredQuery},parent:o.parent},gt:d,parent:c}}function IL(n){let e=TL(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){St(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(E){const N=hT(E);return N instanceof ir&&VE(N)?N.getFilters():[N]})(t.where));let d=[];t.orderBy&&(d=(function(E){return E.map((N=>(function(j){return new wh(zc(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(N)))})(t.orderBy));let _=null;t.limit&&(_=(function(E){let N;return N=typeof E=="object"?E.value:E,lm(N)?null:N})(t.limit));let p=null;t.startAt&&(p=(function(E){const N=!!E.before,R=E.values||[];return new Of(R,N)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const N=!E.before,R=E.values||[];return new Of(R,N)})(t.endAt)),ZM(e,o,d,c,_,"F",p,v)}function PL(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=zc(t.unaryFilter.field);return En.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=zc(t.unaryFilter.field);return En.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=zc(t.unaryFilter.field);return En.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=zc(t.unaryFilter.field);return En.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return En.create(zc(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ir.create(t.compositeFilter.filters.map((s=>hT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(t.compositeFilter.op))})(n):$e(30097,{filter:n})}function ML(n){return vL[n]}function LL(n){return bL[n]}function OL(n){return xL[n]}function xo(n){return{fieldPath:n.canonicalString()}}function zc(n){return Fn.fromServerFormat(n.fieldPath)}function dT(n){return n instanceof En?(function(t){if(t.op==="=="){if(Kx(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(Yx(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Kx(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(Yx(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:LL(t.op),value:t.value}}})(n):n instanceof ir?(function(t){const s=t.getFilters().map((o=>dT(o)));return s.length===1?s[0]:{compositeFilter:{op:OL(t.op),filters:s}}})(n):$e(54877,{filter:n})}function DL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function fT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function mT(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class To{constructor(e,t,s,o,c=We.min(),d=We.min(),_=Gn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=p}withSequenceNumber(e){return new To(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kL{constructor(e){this.yt=e}}function jL(n){const e=IL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Df(e,e.limit,"L"):e}class VL{constructor(){this.Sn=new zL}addToCollectionParentIndex(e,t){return this.Sn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(Po.min())}updateCollectionGroup(e,t,s){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class zL{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Nn(Ut.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nn(Ut.comparator)).toArray()}}const cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class ki{static withCacheSize(e){return new ki(e,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(pT,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);class Kc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Kc(0)}static ar(){return new Kc(-1)}}const uw="LruGarbageCollector",UL=1048576;function hw([n,e],[t,s]){const o=mt(n,t);return o===0?mt(e,s):o}class BL{constructor(e){this.Pr=e,this.buffer=new Nn(hw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qL{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Le(uw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){su(t)?Le(uw,"Ignoring IndexedDB error during garbage collection: ",t):await iu(t)}await this.Ar(3e5)}))}}class HL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(om.ce);const s=new BL(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(cw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,c,d,_,p,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,_=Date.now(),this.removeTargets(e,s,t)))).next((E=>(c=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),jc()<=ft.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${c} targets in `+(p-_)+`ms
	Removed ${E} documents in `+(v-p)+`ms
Total Duration: ${v-w}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function FL(n,e){return new HL(n,e)}class GL{constructor(){this.changes=new $l((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $L{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&dh(s.mutation,o,ss.empty(),Gt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,pt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=pt()){const o=Cl();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let d=nh();return c.forEach(((_,p)=>{d=d.insert(_,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=Cl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,pt())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,_)=>{t.set(d,_)}))}))}computeViews(e,t,s,o){let c=Ta();const d=hh(),_=(function(){return hh()})();return t.forEach(((p,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof zo)?c=c.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),dh(w.mutation,v,w.mutation.getFieldMask(),Gt.now())):d.set(v.key,ss.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((v,w)=>d.set(v,w))),t.forEach(((v,w)=>_.set(v,new ZL(w,d.get(v)??null)))),_)))}recalculateAndSaveOverlays(e,t){const s=hh();let o=new Jt(((d,_)=>d-_)),c=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const _ of d)_.keys().forEach((p=>{const v=t.get(p);if(v===null)return;let w=s.get(p)||ss.empty();w=_.applyToLocalView(v,w),s.set(p,w);const E=(o.get(_.batchId)||pt()).add(p);o=o.insert(_.batchId,E)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const p=_.getNext(),v=p.key,w=p.value,E=YE();w.forEach((N=>{if(!c.has(N)){const R=tT(t.get(N),s.get(N));R!==null&&E.set(N,R),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,E))}return Te.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return $M(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):Te.resolve(Cl());let _=_h,p=c;return d.next((v=>Te.forEach(v,((w,E)=>(_<E.largestBatchId&&(_=E.largestBatchId),c.get(w)?Te.resolve():this.remoteDocumentCache.getEntry(e,w).next((N=>{p=p.insert(w,N)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,p,v,pt()))).next((w=>({batchId:_,changes:$E(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next((s=>{let o=nh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let d=nh();return this.indexManager.getCollectionParents(e,c).next((_=>Te.forEach(_,(p=>{const v=(function(E,N){return new ru(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((E,N)=>{d=d.insert(E,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((d=>{c.forEach(((p,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,ti.newInvalidDocument(w)))}));let _=nh();return d.forEach(((p,v)=>{const w=c.get(p);w!==void 0&&dh(w.mutation,v,ss.empty(),Gt.now()),dm(t,v)&&(_=_.insert(p,v))})),_}))}}class YL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Te.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}})(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:jL(o.bundledQuery),readTime:kr(o.readTime)}})(t)),Te.resolve()}}class KL{constructor(){this.overlays=new Jt(Be.comparator),this.Lr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Cl();return Te.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.bt(e,t,c)})),Te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Te.resolve()}getOverlaysForCollection(e,t,s){const o=Cl(),c=t.length+1,d=new Be(t.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const p=_.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new Jt(((v,w)=>v-w));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Cl(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const _=Cl(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,w)=>_.set(v,w))),!(_.size()>=o)););return Te.resolve(_)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new dL(t,s));let c=this.Lr.get(t);c===void 0&&(c=pt(),this.Lr.set(t,c)),this.Lr.set(t,c.add(s.key))}}class WL{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class c_{constructor(){this.kr=new Nn(jn.Kr),this.qr=new Nn(jn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new jn(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new jn(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new Be(new Ut([])),s=new jn(t,e),o=new jn(t,e+1),c=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Be(new Ut([])),s=new jn(t,e),o=new jn(t,e+1);let c=pt();return this.qr.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const t=new jn(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Be.comparator(e.key,t.key)||mt(e.Hr,t.Hr)}static Ur(e,t){return mt(e.Hr,t.Hr)||Be.comparator(e.key,t.key)}}class QL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Nn(jn.Kr)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hL(c,t,s,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new jn(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Te.resolve(d)}lookupMutationBatch(e,t){return Te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),c=o<0?0:o;return Te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?e_:this.Yn-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jn(t,0),o=new jn(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(d=>{const _=this.Zr(d.Hr);c.push(_)})),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Nn(mt);return t.forEach((o=>{const c=new jn(o,0),d=new jn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(_=>{s=s.add(_.Hr)}))})),Te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Be.isDocumentKey(c)||(c=c.child(""));const d=new jn(new Be(c),0);let _=new Nn(mt);return this.Jr.forEachWhile((p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(_=_.add(p.Hr)),!0)}),d),Te.resolve(this.Yr(_))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){St(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Te.forEach(t.mutations,(o=>{const c=new jn(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new jn(t,0),o=this.Jr.firstAfterOrEqual(s);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class XL{constructor(e){this.ti=e,this.docs=(function(){return new Jt(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,d=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Te.resolve(s?s.document.mutableCopy():ti.newInvalidDocument(t))}getEntries(e,t){let s=Ta();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ti.newInvalidDocument(o))})),Te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Ta();const d=t.path,_=new Be(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(_);for(;p.hasNext();){const{key:v,value:{document:w}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||wM(xM(w),s)<=0||(o.has(w.key)||dm(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return Te.resolve(c)}getAllFromCollectionGroup(e,t,s,o){$e(9500)}ni(e,t){return Te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new JL(this)}getSize(e){return Te.resolve(this.size)}}class JL extends GL{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Te.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class eO{constructor(e){this.persistence=e,this.ri=new $l((t=>i_(t)),s_),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ii=0,this.si=new c_,this.targetCount=0,this.oi=Kc._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),Te.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Kc(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.lr(t),Te.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=t&&s.get(_.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),Te.waitFor(c).next((()=>o))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return Te.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),Te.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Te.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return Te.resolve(s)}containsKey(e,t){return Te.resolve(this.si.containsKey(t))}}class gT{constructor(e,t){this._i={},this.overlays={},this.ai=new om(0),this.ui=!1,this.ui=!0,this.ci=new WL,this.referenceDelegate=e(this),this.li=new eO(this),this.indexManager=new VL,this.remoteDocumentCache=(function(o){return new XL(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new kL(t),this.Pi=new YL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new QL(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){Le("MemoryPersistence","Starting transaction:",e);const o=new tO(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,t){return Te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class tO extends TM{constructor(e){super(),this.currentSequenceNumber=e}}class u_{constructor(e){this.persistence=e,this.Ri=new c_,this.Ai=null}static Vi(e){return new u_(e)}get di(){if(this.Ai)return this.Ai;throw $e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),Te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.di,(s=>{const o=Be.fromPath(s);return this.mi(e,o).next((c=>{c||t.removeEntry(o,We.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Vf{constructor(e,t){this.persistence=e,this.fi=new $l((s=>CM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=FL(this,t)}static Vi(e,t){return new Vf(e,t)}Ti(){}Ii(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return Te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?Te.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,t).next((_=>{_||(s++,c.removeEntry(d,We.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mf(e.data.value)),t}wr(e,t,s){return Te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return Te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class h_{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=pt(),o=pt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new h_(e,t.fromCache,s,o)}}class nO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return bN()?8:SM(ii())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.gs(e,t).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,t,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new nO;return this.ys(e,t,d).next((_=>{if(c.result=_,this.As)return this.ws(e,t,d,_.size)}))})).next((()=>c.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(jc()<=ft.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Vc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Te.resolve()):(jc()<=ft.DEBUG&&Le("QueryEngine","Query:",Vc(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(jc()<=ft.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Vc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):Te.resolve())}gs(e,t){if(Jx(t))return Te.resolve(null);let s=Dr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Df(t,null,"F"),s=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=pt(...c);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,s).next((p=>{const v=this.bs(t,_);return this.Ss(t,v,d,p.readTime)?this.gs(e,Df(t,null,"F")):this.Ds(e,v,t,p)}))))})))))}ps(e,t,s,o){return Jx(t)||o.isEqual(We.min())?Te.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(t,c);return this.Ss(t,d,s,o)?Te.resolve(null):(jc()<=ft.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vc(t)),this.Ds(e,d,t,bM(o,_h)).next((_=>_)))}))}bs(e,t){let s=new Nn(GE(e));return t.forEach(((o,c)=>{dm(e,c)&&(s=s.add(c))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,t,s){return jc()<=ft.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Vc(t)),this.fs.getDocumentsMatchingQuery(e,t,Po.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const d_="LocalStore",sO=3e8;class rO{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new Jt(mt),this.Fs=new $l((c=>i_(c)),s_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $L(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function aO(n,e,t,s){return new rO(n,e,t,s)}async function yT(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],_=[];let p=pt();for(const v of o){d.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}for(const v of c){_.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(s,p).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:_})))}))}))}function oO(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(_,p,v,w){const E=v.batch,N=E.keys();let R=Te.resolve();return N.forEach((j=>{R=R.next((()=>w.getEntry(p,j))).next((z=>{const k=v.docVersions.get(j);St(k!==null,48541),z.version.compareTo(k)<0&&(E.applyToRemoteDocument(z,v),z.isValidDocument()&&(z.setReadTime(v.commitVersion),w.addEntry(z)))}))})),R.next((()=>_.mutationQueue.removeMutationBatch(p,E)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(_){let p=pt();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(p=p.add(_.batch.mutations[v].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function _T(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function lO(n,e){const t=Ke(n),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const _=[];e.targetChanges.forEach(((w,E)=>{const N=o.get(E);if(!N)return;_.push(t.li.removeMatchingKeys(c,w.removedDocuments,E).next((()=>t.li.addMatchingKeys(c,w.addedDocuments,E))));let R=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Gn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,s)),o=o.insert(E,R),(function(z,k,O){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=sO?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(N,R,w)&&_.push(t.li.updateTargetData(c,R))}));let p=Ta(),v=pt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),_.push(cO(c,d,e.documentUpdates).next((w=>{p=w.Bs,v=w.Ls}))),!s.isEqual(We.min())){const w=t.li.getLastRemoteSnapshotVersion(c).next((E=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));_.push(w)}return Te.waitFor(_).next((()=>d.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(t.vs=o,c)))}function cO(n,e,t){let s=pt(),o=pt();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let d=Ta();return t.forEach(((_,p)=>{const v=c.get(_);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(_)),p.isNoDocument()&&p.version.isEqual(We.min())?(e.removeEntry(_,p.readTime),d=d.insert(_,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),d=d.insert(_,p)):Le(d_,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",p.version)})),{Bs:d,Ls:o}}))}function uO(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=e_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function hO(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((c=>c?(o=c,Te.resolve(o)):t.li.allocateTargetId(s).next((d=>(o=new To(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function py(n,e,t){const s=Ke(n),o=s.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!su(d))throw d;Le(d_,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function dw(n,e,t){const s=Ke(n);let o=We.min(),c=pt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,v,w){const E=Ke(p),N=E.Fs.get(w);return N!==void 0?Te.resolve(E.vs.get(N)):E.li.getTargetData(v,w)})(s,d,Dr(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,_.targetId).next((p=>{c=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,t?o:We.min(),t?c:pt()))).next((_=>(dO(s,WM(e),_),{documents:_,ks:c})))))}function dO(n,e,t){let s=n.Ms.get(e)||We.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Ms.set(e,s)}class fw{constructor(){this.activeTargetIds=nL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fO{constructor(){this.vo=new fw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new fw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mO{Mo(e){}shutdown(){}}const mw="ConnectivityMonitor";class pw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Le(mw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Le(mw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tf=null;function gy(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}const Ig="RestConnection",pO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class gO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Mf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,c){const d=gy(),_=this.Qo(e,t.toUriEncodedString());Le(Ig,`Sending RPC '${e}' ${d}:`,_,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:v}=new URL(_),w=jo(v);return this.zo(e,_,p,s,w).then((E=>(Le(Ig,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw Vl(Ig,`RPC '${e}' ${d} failed with error: `,E,"url: ",_,"request:",s),E}))}jo(e,t,s,o,c,d){return this.Wo(e,t,s,o,c)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,t){const s=pO[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class yO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Jn="WebChannelConnection",Wu=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Hc extends gO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Hc.c_){const e=bE();Wu(e,vE.STAT_EVENT,(t=>{t.stat===sy.PROXY?Le(Jn,"STAT_EVENT: detected buffering proxy"):t.stat===sy.NOPROXY&&Le(Jn,"STAT_EVENT: detected no buffering proxy")})),Hc.c_=!0}}zo(e,t,s,o,c){const d=gy();return new Promise(((_,p)=>{const v=new yE;v.setWithCredentials(!0),v.listenOnce(_E.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ff.NO_ERROR:const E=v.getResponseJson();Le(Jn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),_(E);break;case ff.TIMEOUT:Le(Jn,`RPC '${e}' ${d} timed out`),p(new Pe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const N=v.getStatus();if(Le(Jn,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const j=R?.error;if(j&&j.status&&j.message){const z=(function(O){const q=O.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(q)>=0?q:xe.UNKNOWN})(j.status);p(new Pe(z,j.message))}else p(new Pe(xe.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Pe(xe.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Le(Jn,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);Le(Jn,`RPC '${e}' ${d} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=gy(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,t,s),_.encodeInitMessageHeaders=!0;const v=c.join("");Le(Jn,`Creating RPC '${e}' stream ${o}: ${v}`,_);const w=d.createWebChannel(v,_);this.I_(w);let E=!1,N=!1;const R=new yO({Ho:j=>{N?Le(Jn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(E||(Le(Jn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),Le(Jn,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Jo:()=>w.close()});return Wu(w,th.EventType.OPEN,(()=>{N||(Le(Jn,`RPC '${e}' stream ${o} transport opened.`),R.i_())})),Wu(w,th.EventType.CLOSE,(()=>{N||(N=!0,Le(Jn,`RPC '${e}' stream ${o} transport closed`),R.o_(),this.E_(w))})),Wu(w,th.EventType.ERROR,(j=>{N||(N=!0,Vl(Jn,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),R.o_(new Pe(xe.UNAVAILABLE,"The operation could not be completed")))})),Wu(w,th.EventType.MESSAGE,(j=>{if(!N){const z=j.data[0];St(!!z,16349);const k=z,O=k?.error||k[0]?.error;if(O){Le(Jn,`RPC '${e}' stream ${o} received error:`,O);const q=O.status;let $=(function(ye){const B=wn[ye];if(B!==void 0)return iT(B)})(q),ee=O.message;q==="NOT_FOUND"&&ee.includes("database")&&ee.includes("does not exist")&&ee.includes(this.databaseId.database)&&Vl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=xe.INTERNAL,ee="Unknown error status: "+q+" with message "+O.message),N=!0,R.o_(new Pe($,ee)),w.close()}else Le(Jn,`RPC '${e}' stream ${o} received:`,z),R.__(z)}})),Hc.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xE()}}function _O(n){return new Hc(n)}function Pg(){return typeof document<"u"?document:null}function ym(n){return new wL(n,!0)}Hc.c_=!1;class vT{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const gw="PersistentStream";class bT{constructor(e,t,s,o,c,d,_,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(Ea(t.toString()),Ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Pe(xe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(gw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Le(gw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vO extends bT{constructor(e,t,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=SL(this.serializer,e),s=(function(c){if(!("targetChange"in c))return We.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?We.min():d.readTime?kr(d.readTime):We.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=my(this.serializer),t.addTarget=(function(c,d){let _;const p=d.target;if(_=cy(p)?{documents:NL(c,p)}:{query:uT(c,p).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=aT(c,d.resumeToken);const v=hy(c,d.expectedCount);v!==null&&(_.expectedCount=v)}else if(d.snapshotVersion.compareTo(We.min())>0){_.readTime=jf(c,d.snapshotVersion.toTimestamp());const v=hy(c,d.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,e);const s=PL(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=my(this.serializer),t.removeTarget=e,this.K_(t)}}class bO extends bT{constructor(e,t,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=CL(e.writeResults,e.commitTime),s=kr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=my(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>AL(this.serializer,s)))};this.K_(t)}}class xO{}class wO extends xO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Pe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,dy(t,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(xe.UNKNOWN,c.toString())}))}jo(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,dy(t,s),o,d,_,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Pe(xe.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function EO(n,e,t,s){return new wO(n,e,t,s)}class TO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ea(t),this.aa=!1):Le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const zl="RemoteStore";class SO{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Yl(this)&&(Le(zl,"Restarting streams for network reachability change."),await(async function(p){const v=Ke(p);v.Ea.add(4),await Vh(v),v.Va.set("Unknown"),v.Ea.delete(4),await _m(v)})(this))}))})),this.Va=new TO(s,o)}}async function _m(n){if(Yl(n))for(const e of n.Ra)await e(!0)}async function Vh(n){for(const e of n.Ra)await e(!1)}function xT(n,e){const t=Ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),g_(t)?p_(t):au(t).O_()&&m_(t,e))}function f_(n,e){const t=Ke(n),s=au(t);t.Ia.delete(e),s.O_()&&wT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Yl(t)&&t.Va.set("Unknown"))}function m_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(n).Z_(e)}function wT(n,e){n.da.$e(e),au(n).X_(e)}function p_(n){n.da=new _L({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),au(n).start(),n.Va.ua()}function g_(n){return Yl(n)&&!au(n).x_()&&n.Ia.size>0}function Yl(n){return Ke(n).Ea.size===0}function ET(n){n.da=void 0}async function AO(n){n.Va.set("Online")}async function CO(n){n.Ia.forEach(((e,t)=>{m_(n,e)}))}async function NO(n,e){ET(n),g_(n)?(n.Va.ha(e),p_(n)):n.Va.set("Unknown")}async function RO(n,e,t){if(n.Va.set("Online"),e instanceof rT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const _ of c.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(n,e)}catch(s){Le(zl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zf(n,s)}else if(e instanceof yf?n.da.Xe(e):e instanceof sT?n.da.st(e):n.da.tt(e),!t.isEqual(We.min()))try{const s=await _T(n.localStore);t.compareTo(s)>=0&&await(function(c,d){const _=c.da.Tt(d);return _.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(p.resumeToken,d))}})),_.targetMismatches.forEach(((p,v)=>{const w=c.Ia.get(p);if(!w)return;c.Ia.set(p,w.withResumeToken(Gn.EMPTY_BYTE_STRING,w.snapshotVersion)),wT(c,p);const E=new To(w.target,p,v,w.sequenceNumber);m_(c,E)})),c.remoteSyncer.applyRemoteEvent(_)})(n,t)}catch(s){Le(zl,"Failed to raise snapshot:",s),await zf(n,s)}}async function zf(n,e,t){if(!su(e))throw e;n.Ea.add(1),await Vh(n),n.Va.set("Offline"),t||(t=()=>_T(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Le(zl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await _m(n)}))}function TT(n,e){return e().catch((t=>zf(n,t,e)))}async function vm(n){const e=Ke(n),t=Do(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:e_;for(;IO(e);)try{const o=await uO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,PO(e,o)}catch(o){await zf(e,o)}ST(e)&&AT(e)}function IO(n){return Yl(n)&&n.Ta.length<10}function PO(n,e){n.Ta.push(e);const t=Do(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function ST(n){return Yl(n)&&!Do(n).x_()&&n.Ta.length>0}function AT(n){Do(n).start()}async function MO(n){Do(n).ra()}async function LO(n){const e=Do(n);for(const t of n.Ta)e.ea(t.mutations)}async function OO(n,e,t){const s=n.Ta.shift(),o=a_.from(s,e,t);await TT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await vm(n)}async function DO(n,e){e&&Do(n).Y_&&await(async function(s,o){if((function(d){return pL(d)&&d!==xe.ABORTED})(o.code)){const c=s.Ta.shift();Do(s).B_(),await TT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await vm(s)}})(n,e),ST(n)&&AT(n)}async function yw(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Le(zl,"RemoteStore received new credentials");const s=Yl(t);t.Ea.add(3),await Vh(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _m(t)}async function kO(n,e){const t=Ke(n);e?(t.Ea.delete(2),await _m(t)):e||(t.Ea.add(2),await Vh(t),t.Va.set("Unknown"))}function au(n){return n.ma||(n.ma=(function(t,s,o){const c=Ke(t);return c.sa(),new vO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:AO.bind(null,n),Yo:CO.bind(null,n),t_:NO.bind(null,n),J_:RO.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),g_(n)?p_(n):n.Va.set("Unknown")):(await n.ma.stop(),ET(n))}))),n.ma}function Do(n){return n.fa||(n.fa=(function(t,s,o){const c=Ke(t);return c.sa(),new bO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MO.bind(null,n),t_:DO.bind(null,n),ta:LO.bind(null,n),na:OO.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await vm(n)):(await n.fa.stop(),n.Ta.length>0&&(Le(zl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class y_{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const d=Date.now()+s,_=new y_(e,t,d,o,c);return _.start(s),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __(n,e){if(Ea("AsyncQueue",`${e}: ${n}`),su(n))return new Pe(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class Fc{static emptySet(e){return new Fc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Be.comparator(t.key,s.key):(t,s)=>Be.comparator(t.key,s.key),this.keyedMap=nh(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Fc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class _w{constructor(){this.ga=new Jt(Be.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Wc{constructor(e,t,s,o,c,d,_,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,c){const d=[];return t.forEach((_=>{d.push({type:0,doc:_})})),new Wc(e,t,Fc.emptySet(t),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class jO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class VO{constructor(){this.queries=vw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ke(t),c=o.queries;o.queries=vw(),c.forEach(((d,_)=>{for(const p of _.ba)p.onError(s)}))})(this,new Pe(xe.ABORTED,"Firestore shutting down"))}}function vw(){return new $l((n=>FE(n)),hm)}async function v_(n,e){const t=Ke(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new jO,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const _=__(d,`Initialization of query '${Vc(e.query)}' failed`);return void e.onError(_)}t.queries.set(o,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&x_(t)}async function b_(n,e){const t=Ke(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function zO(n,e){const t=Ke(n);let s=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const _ of d.ba)_.Fa(o)&&(s=!0);d.wa=o}}s&&x_(t)}function UO(n,e,t){const s=Ke(n),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(t);s.queries.delete(e)}function x_(n){n.Ca.forEach((e=>{e.next()}))}var yy,bw;(bw=yy||(yy={})).Ma="default",bw.Cache="cache";class w_{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Wc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yy.Cache}}class CT{constructor(e){this.key=e}}class NT{constructor(e){this.key=e}}class BO{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pt(),this.mutatedKeys=pt(),this.eu=GE(e),this.tu=new Fc(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new _w,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,_=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const N=o.get(w),R=dm(this.query,E)?E:null,j=!!N&&this.mutatedKeys.has(N.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;N&&R?N.data.isEqual(R.data)?j!==z&&(s.track({type:3,doc:R}),k=!0):this.su(N,R)||(s.track({type:2,doc:R}),k=!0,(p&&this.eu(R,p)>0||v&&this.eu(R,v)<0)&&(_=!0)):!N&&R?(s.track({type:0,doc:R}),k=!0):N&&!R&&(s.track({type:1,doc:N}),k=!0,(p||v)&&(_=!0)),k&&(R?(d=d.add(R),c=z?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Ss:_,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,E)=>(function(R,j){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:k})}};return z(R)-z(j)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),o=o??!1;const _=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,v=p!==this.Xa;return this.Xa=p,d.length!==0||v?{snapshot:new Wc(this.query,e.tu,c,d,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _w,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new NT(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new CT(s))})),t}cu(e){this.Za=e.ks,this.Ya=pt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Wc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const E_="SyncEngine";class qO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class HO{constructor(e){this.key=e,this.hu=!1}}class FO{constructor(e,t,s,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $l((_=>FE(_)),hm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jt(Be.comparator),this.Au=new Map,this.Vu=new c_,this.du={},this.mu=new Map,this.fu=Kc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GO(n,e,t=!0){const s=OT(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await RT(s,e,t,!0),o}async function ZO(n,e){const t=OT(n);await RT(t,e,!0,!1)}async function RT(n,e,t,s){const o=await hO(n.localStore,Dr(e)),c=o.targetId,d=n.sharedClientState.addLocalQueryTarget(c,t);let _;return s&&(_=await $O(n,e,c,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&xT(n.remoteStore,o),_}async function $O(n,e,t,s,o){n.pu=(E,N,R)=>(async function(z,k,O,q){let $=k.view.ru(O);$.Ss&&($=await dw(z.localStore,k.query,!1).then((({documents:B})=>k.view.ru(B,$))));const ee=q&&q.targetChanges.get(k.targetId),ne=q&&q.targetMismatches.get(k.targetId)!=null,ye=k.view.applyChanges($,z.isPrimaryClient,ee,ne);return ww(z,k.targetId,ye.au),ye.snapshot})(n,E,N,R);const c=await dw(n.localStore,e,!0),d=new BO(e,c.ks),_=d.ru(c.documents),p=jh.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=d.applyChanges(_,n.isPrimaryClient,p);ww(n,t,v.au);const w=new qO(e,t,d);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function YO(n,e,t){const s=Ke(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!hm(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await py(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&f_(s.remoteStore,o.targetId),_y(s,o.targetId)})).catch(iu)):(_y(s,o.targetId),await py(s.localStore,o.targetId,!0))}async function KO(n,e){const t=Ke(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),f_(t.remoteStore,s.targetId))}async function WO(n,e,t){const s=iD(n);try{const o=await(function(d,_){const p=Ke(d),v=Gt.now(),w=_.reduce(((R,j)=>R.add(j.key)),pt());let E,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let j=Ta(),z=pt();return p.xs.getEntries(R,w).next((k=>{j=k,j.forEach(((O,q)=>{q.isValidDocument()||(z=z.add(O))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,j))).next((k=>{E=k;const O=[];for(const q of _){const $=cL(q,E.get(q.key).overlayedDocument);$!=null&&O.push(new zo(q.key,$,DE($.value.mapValue),mi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,v,O,_)})).next((k=>{N=k;const O=k.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(R,k.batchId,O)}))})).then((()=>({batchId:N.batchId,changes:$E(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,_,p){let v=d.du[d.currentUser.toKey()];v||(v=new Jt(mt)),v=v.insert(_,p),d.du[d.currentUser.toKey()]=v})(s,o.batchId,t),await zh(s,o.changes),await vm(s.remoteStore)}catch(o){const c=__(o,"Failed to persist write");t.reject(c)}}async function IT(n,e){const t=Ke(n);try{const s=await lO(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=t.Au.get(c);d&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?St(d.hu,14607):o.removedDocuments.size>0&&(St(d.hu,42227),d.hu=!1))})),await zh(t,s,e)}catch(s){await iu(s)}}function xw(n,e,t){const s=Ke(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const p=Ke(d);p.onlineState=_;let v=!1;p.queries.forEach(((w,E)=>{for(const N of E.ba)N.va(_)&&(v=!0)})),v&&x_(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function QO(n,e,t){const s=Ke(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new Jt(Be.comparator);d=d.insert(c,ti.newNoDocument(c,We.min()));const _=pt().add(c),p=new gm(We.min(),new Map,new Jt(mt),d,_);await IT(s,p),s.Ru=s.Ru.remove(c),s.Au.delete(e),T_(s)}else await py(s.localStore,e,!1).then((()=>_y(s,e,t))).catch(iu)}async function XO(n,e){const t=Ke(n),s=e.batch.batchId;try{const o=await oO(t.localStore,e);MT(t,s,null),PT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await zh(t,o)}catch(o){await iu(o)}}async function JO(n,e,t){const s=Ke(n);try{const o=await(function(d,_){const p=Ke(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return p.mutationQueue.lookupMutationBatch(v,_).next((E=>(St(E!==null,37113),w=E.keys(),p.mutationQueue.removeMutationBatch(v,E)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,w,_))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>p.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);MT(s,e,t),PT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await zh(s,o)}catch(o){await iu(o)}}function PT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function MT(n,e,t){const s=Ke(n);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function _y(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||LT(n,s)}))}function LT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(f_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),T_(n))}function ww(n,e,t){for(const s of t)s instanceof CT?(n.Vu.addReference(s.key,e),eD(n,s)):s instanceof NT?(Le(E_,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||LT(n,s.key)):$e(19791,{wu:s})}function eD(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(Le(E_,"New document in limbo: "+t),n.Eu.add(s),T_(n))}function T_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Be(Ut.fromString(e)),s=n.fu.next();n.Au.set(s,new HO(t)),n.Ru=n.Ru.insert(t,s),xT(n.remoteStore,new To(Dr(um(t.path)),s,"TargetPurposeLimboResolution",om.ce))}}async function zh(n,e,t){const s=Ke(n),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((_,p)=>{d.push(s.pu(p,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(v){o.push(v);const w=h_.Es(p.targetId,v);c.push(w)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(p,v){const w=Ke(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Te.forEach(v,(N=>Te.forEach(N.Ts,(R=>w.persistence.referenceDelegate.addReference(E,N.targetId,R))).next((()=>Te.forEach(N.Is,(R=>w.persistence.referenceDelegate.removeReference(E,N.targetId,R)))))))))}catch(E){if(!su(E))throw E;Le(d_,"Failed to update sequence numbers: "+E)}for(const E of v){const N=E.targetId;if(!E.fromCache){const R=w.vs.get(N),j=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(j);w.vs=w.vs.insert(N,z)}}})(s.localStore,c))}async function tD(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Le(E_,"User change. New user:",e.toKey());const s=await yT(t.localStore,e);t.currentUser=e,(function(c,d){c.mu.forEach((_=>{_.forEach((p=>{p.reject(new Pe(xe.CANCELLED,d))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zh(t,s.Ns)}}function nD(n,e){const t=Ke(n),s=t.Au.get(e);if(s&&s.hu)return pt().add(s.key);{let o=pt();const c=t.Iu.get(e);if(!c)return o;for(const d of c){const _=t.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function OT(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QO.bind(null,e),e.Pu.J_=zO.bind(null,e.eventManager),e.Pu.yu=UO.bind(null,e.eventManager),e}function iD(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JO.bind(null,e),e}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ym(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return aO(this.persistence,new iO,e.initialUser,this.serializer)}Cu(e){return new gT(u_.Vi,this.serializer)}Du(e){return new fO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class sD extends Uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){St(this.persistence.referenceDelegate instanceof Vf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new qL(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new gT((s=>Vf.Vi(s,t)),this.serializer)}}class vy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tD.bind(null,this.syncEngine),await kO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VO})()}createDatastore(e){const t=ym(e.databaseInfo.databaseId),s=_O(e.databaseInfo);return EO(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,d,_){return new SO(s,o,c,d,_)})(this.localStore,this.datastore,e.asyncQueue,(t=>xw(this.syncEngine,t,0)),(function(){return pw.v()?new pw:new mO})())}createSyncEngine(e,t){return(function(o,c,d,_,p,v,w){const E=new FO(o,c,d,_,p,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ke(t);Le(zl,"RemoteStore shutting down."),s.Ea.add(5),await Vh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vy.provider={build:()=>new vy};class S_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ko="FirestoreClient";class rD{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=ei.UNAUTHENTICATED,this.clientId=Jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{Le(ko,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Le(ko,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=__(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Mg(n,e){n.asyncQueue.verifyOperationInProgress(),Le(ko,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await yT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Ew(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aD(n);Le(ko,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>yw(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>yw(e.remoteStore,o))),n._onlineComponents=e}async function aD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le(ko,"Using user provided OfflineComponentProvider");try{await Mg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===xe.FAILED_PRECONDITION||o.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Vl("Error using user provided cache. Falling back to memory cache: "+t),await Mg(n,new Uf)}}else Le(ko,"Using default OfflineComponentProvider"),await Mg(n,new sD(void 0));return n._offlineComponents}async function A_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le(ko,"Using user provided OnlineComponentProvider"),await Ew(n,n._uninitializedComponentsProvider._online)):(Le(ko,"Using default OnlineComponentProvider"),await Ew(n,new vy))),n._onlineComponents}function oD(n){return A_(n).then((e=>e.syncEngine))}function lD(n){return A_(n).then((e=>e.datastore))}async function Bf(n){const e=await A_(n),t=e.eventManager;return t.onListen=GO.bind(null,e.syncEngine),t.onUnlisten=YO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ZO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KO.bind(null,e.syncEngine),t}function cD(n,e,t,s){const o=new S_(s),c=new w_(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>v_(await Bf(n),c))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>b_(await Bf(n),c)))}}function uD(n,e,t={}){const s=new Or;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,p,v){const w=new S_({next:N=>{w.Nu(),d.enqueueAndForget((()=>b_(c,E)));const R=N.docs.has(_);!R&&N.fromCache?v.reject(new Pe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&N.fromCache&&p&&p.source==="server"?v.reject(new Pe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),E=new w_(um(_.path),w,{includeMetadataChanges:!0,Ka:!0});return v_(c,E)})(await Bf(n),n.asyncQueue,e,t,s))),s.promise}function hD(n,e,t={}){const s=new Or;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,p,v){const w=new S_({next:N=>{w.Nu(),d.enqueueAndForget((()=>b_(c,E))),N.fromCache&&p.source==="server"?v.reject(new Pe(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),E=new w_(_,w,{includeMetadataChanges:!0,Ka:!0});return v_(c,E)})(await Bf(n),n.asyncQueue,e,t,s))),s.promise}function dD(n,e,t){const s=new Or;return n.asyncQueue.enqueueAndForget((async()=>{try{const o=await lD(n);s.resolve((async function(d,_,p){const v=Ke(d),{request:w,gt:E,parent:N}=RL(v.serializer,YM(_),p);v.connection.Ko||delete w.parent;const R=(await v.jo("RunAggregationQuery",v.serializer.databaseId,N,w,1)).filter((z=>!!z.result));St(R.length===1,64727);const j=R[0].result?.aggregateFields;return Object.keys(j).reduce(((z,k)=>(z[E[k]]=j[k],z)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}function fD(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((async()=>WO(await oD(n),e,t))),t.promise}function DT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const mD="ComponentProvider",Tw=new Map;function pD(n,e,t,s,o){return new PM(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,DT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const kT="firestore.googleapis.com",Sw=!0;class Aw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=Sw}else this.host=e.host,this.ssl=e.ssl??Sw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UL)throw new Pe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new cM;switch(s.type){case"firstParty":return new fM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Pe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Tw.get(t);s&&(Le(mD,"Removing Datastore"),Tw.delete(t),s.terminate())})(this),Promise.resolve()}}function gD(n,e,t,s={}){n=ni(n,bm);const o=jo(e),c=n._getSettings(),d={...c,emulatorOptions:n._getEmulatorOptions()},_=`${e}:${t}`;o&&(jy(`https://${_}`),Vy("Firestore",!0)),c.host!==kT&&c.host!==_&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:_,ssl:o,emulatorOptions:s};if(!Ll(p,d)&&(n._setSettings(p),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=ei.MOCK_USER;else{v=I1(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new Pe(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ei(E)}n._authCredentials=new uM(new EE(v,w))}}class Na{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Na(this.firestore,e,this._query)}}class ln{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Dh(t,ln._jsonSchema))return new ln(e,s||null,new Be(Ut.fromString(t.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Tn("string",ln._jsonSchemaVersion),referencePath:Tn("string")};class Ro extends Na{constructor(e,t,s){super(e,t,um(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Be(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function mn(n,e,...t){if(n=Dt(n),TE("collection","path",e),n instanceof bm){const s=Ut.fromString(e,...t);return zx(s),new Ro(n,null,s)}{if(!(n instanceof ln||n instanceof Ro))throw new Pe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ut.fromString(e,...t));return zx(s),new Ro(n.firestore,null,s)}}function on(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=Jy.newId()),TE("doc","path",e),n instanceof bm){const s=Ut.fromString(e,...t);return Vx(s),new ln(n,null,new Be(s))}{if(!(n instanceof ln||n instanceof Ro))throw new Pe(xe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ut.fromString(e,...t));return Vx(s),new ln(n.firestore,n instanceof Ro?n.converter:null,new Be(s))}}const Cw="AsyncQueue";class Nw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vT(this,"async_queue_retry"),this._c=()=>{const s=Pg();s&&Le(Cw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!su(e))throw e;Le(Cw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ea("INTERNAL UNHANDLED ERROR: ",Rw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=y_.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&$e(47125,{Pc:Rw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Rw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class sr extends bm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Nw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nw(e),this._firestoreClient=void 0,await e}}}function yD(n,e){const t=typeof n=="object"?n:By(),s=typeof n=="string"?n:Mf,o=nm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=C1("firestore");c&&gD(o,...c)}return o}function ou(n){if(n._terminated)throw new Pe(xe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_D(n),n._firestoreClient}function _D(n){const e=n._freezeSettings(),t=pD(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new rD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(Gn.fromBase64String(e))}catch(t){throw new Pe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ms(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ms._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dh(e,Ms._jsonSchema))return Ms.fromBase64String(e.bytes)}}Ms._jsonSchemaVersion="firestore/bytes/1.0",Ms._jsonSchema={type:Tn("string",Ms._jsonSchemaVersion),bytes:Tn("string")};class xm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wm{constructor(e){this._methodName=e}}class jr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(e){if(Dh(e,jr._jsonSchema))return new jr(e.latitude,e.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:Tn("string",jr._jsonSchemaVersion),latitude:Tn("number"),longitude:Tn("number")};class nr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dh(e,nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new nr(e.vectorValues);throw new Pe(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:Tn("string",nr._jsonSchemaVersion),vectorValues:Tn("object")};const vD=/^__.*__$/;class bD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new zo(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}class jT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new zo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{dataSource:n})}}class C_{constructor(e,t,s,o,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new C_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VT(this.dataSource)&&vD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class xD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||ym(e)}createContext(e,t,s,o=!1){return new C_({dataSource:e,methodName:t,targetDoc:s,path:Fn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(n){const e=n._freezeSettings(),t=ym(n._databaseId);return new xD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function N_(n,e,t,s,o,c={}){const d=n.createContext(c.merge||c.mergeFields?2:0,e,t,o);I_("Data must be an object, but it was:",d,s);const _=BT(s,d);let p,v;if(c.merge)p=new ss(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const E of c.mergeFields){const N=Ul(e,E,t);if(!d.contains(N))throw new Pe(xe.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);FT(w,N)||w.push(N)}p=new ss(w),v=d.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,v=d.fieldTransforms;return new bD(new fi(_),p,v)}class Em extends wm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Em}}class R_ extends wm{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Sh(e.serializer,WE(e.serializer,this.Vc));return new rL(e.path,t)}isEqual(e){return e instanceof R_&&this.Vc===e.Vc}}function zT(n,e,t,s){const o=n.createContext(1,e,t);I_("Data must be an object, but it was:",o,s);const c=[],d=fi.empty();Vo(s,((p,v)=>{const w=HT(e,p,t);v=Dt(v);const E=o.childContextForFieldPath(w);if(v instanceof Em)c.push(w);else{const N=Bh(v,E);N!=null&&(c.push(w),d.set(w,N))}}));const _=new ss(c);return new jT(d,_,o.fieldTransforms)}function UT(n,e,t,s,o,c){const d=n.createContext(1,e,t),_=[Ul(e,s,t)],p=[o];if(c.length%2!=0)throw new Pe(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)_.push(Ul(e,c[N])),p.push(c[N+1]);const v=[],w=fi.empty();for(let N=_.length-1;N>=0;--N)if(!FT(v,_[N])){const R=_[N];let j=p[N];j=Dt(j);const z=d.childContextForFieldPath(R);if(j instanceof Em)v.push(R);else{const k=Bh(j,z);k!=null&&(v.push(R),w.set(R,k))}}const E=new ss(v);return new jT(w,E,d.fieldTransforms)}function wD(n,e,t,s=!1){return Bh(t,n.createContext(s?4:3,e))}function Bh(n,e){if(qT(n=Dt(n)))return I_("Unsupported field value:",e,n),BT(n,e);if(n instanceof wm)return(function(s,o){if(!VT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const _ of s){let p=Bh(_,o.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=Dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WE(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Gt.fromDate(s);return{timestampValue:jf(o.serializer,c)}}if(s instanceof Gt){const c=new Gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jf(o.serializer,c)}}if(s instanceof jr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ms)return{bytesValue:aT(o.serializer,s._byteString)};if(s instanceof ln){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:l_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof nr)return(function(d,_){const p=d instanceof nr?d.toArray():d;return{mapValue:{fields:{[LE]:{stringValue:OE},[Lf]:{arrayValue:{values:p.map((w=>{if(typeof w!="number")throw _.createError("VectorValues must only contain numeric values.");return r_(_.serializer,w)}))}}}}}})(s,o);if(mT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${am(s)}`)})(n,e)}function BT(n,e){const t={};return CE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(n,((s,o)=>{const c=Bh(o,e.childContextForField(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function qT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Gt||n instanceof jr||n instanceof Ms||n instanceof ln||n instanceof wm||n instanceof nr||mT(n))}function I_(n,e,t){if(!qT(t)||!SE(t)){const s=am(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Ul(n,e,t){if((e=Dt(e))instanceof xm)return e._internalPath;if(typeof e=="string")return HT(n,e);throw qf("Field path arguments must be of type string or ",n,!1,void 0,t)}const ED=new RegExp("[~\\*/\\[\\]]");function HT(n,e,t){if(e.search(ED)>=0)throw qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xm(...e.split("."))._internalPath}catch{throw qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qf(n,e,t,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new Pe(xe.INVALID_ARGUMENT,_+n+p)}function FT(n,e){return n.some((t=>t.isEqual(e)))}class TD{convertValue(e,t="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Vo(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Lf].arrayValue?.values?.map((s=>pn(s.doubleValue)));return new nr(t)}convertGeoPoint(e){return new jr(pn(e.latitude),pn(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=cm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const t=Mo(e);return new Gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ut.fromString(e);St(fT(s),9688,{name:e});const o=new bh(s.get(1),s.get(3)),c=new Be(s.popFirst(5));return o.isEqual(t)||Ea(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Tm extends TD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}function SD(n){return new R_("increment",n)}const Iw="@firebase/firestore",Pw="4.11.0";function Mw(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class AD{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class CD{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new fi({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class GT{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Ul("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ND extends GT{data(){return super.data()}}function ZT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_{}class M_ extends P_{}function Ps(n,e,...t){let s=[];e instanceof P_&&s.push(e),s=s.concat(t),(function(c){const d=c.filter((p=>p instanceof L_)).length,_=c.filter((p=>p instanceof Sm)).length;if(d>1||d>0&&_>0)throw new Pe(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Sm extends M_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Sm(e,t,s)}_apply(e){const t=this._parse(e);return YT(e._query,t),new Na(e.firestore,e.converter,uy(e._query,t))}_parse(e){const t=Uh(e.firestore);return(function(c,d,_,p,v,w,E){let N;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Pe(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Ow(E,w);const j=[];for(const z of E)j.push(Lw(p,c,z));N={arrayValue:{values:j}}}else N=Lw(p,c,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Ow(E,w),N=wD(_,d,E,w==="in"||w==="not-in");return En.create(v,w,N)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ma(n,e,t){const s=e,o=Ul("where",n);return Sm._create(o,s,t)}class L_ extends P_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new L_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let d=o;const _=c.getFlattenedFilters();for(const p of _)YT(d,p),d=uy(d,p)})(e._query,t),new Na(e.firestore,e.converter,uy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O_ extends M_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new O_(e,t)}_apply(e){const t=(function(o,c,d){if(o.startAt!==null)throw new Pe(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Pe(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wh(c,d)})(e._query,this._field,this._direction);return new Na(e.firestore,e.converter,KM(e._query,t))}}function $T(n,e="asc"){const t=e,s=Ul("orderBy",n);return O_._create(s,t)}class D_ extends M_{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new D_(e,t,s)}_apply(e){return new Na(e.firestore,e.converter,Df(e._query,this._limit,this._limitType))}}function RD(n){return D_._create("limit",n,"F")}function Lw(n,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new Pe(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qE(e)&&t.indexOf("/")!==-1)throw new Pe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ut.fromString(t));if(!Be.isDocumentKey(s))throw new Pe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $x(n,new Be(s))}if(t instanceof ln)return $x(n,t._key);throw new Pe(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${am(t)}.`)}function Ow(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YT(n,e){const t=(function(o,c){for(const d of o)for(const _ of d.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Pe(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function k_(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}function ID(){return new AD("count")}function Dw(n){return PD(n,{count:ID()})}function PD(n,e){const t=ni(n.firestore,sr),s=ou(t),o=RM(e,((c,d)=>new fL(d,c.aggregateType,c._internalFieldPath)));return dD(s,n._query,o).then((c=>(function(_,p,v){const w=new Tm(_);return new CD(p,w,v)})(t,n,c)))}class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nl extends GT{constructor(e,t,s,o,c,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ul("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Nl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nl._jsonSchema={type:Tn("string",Nl._jsonSchemaVersion),bundleSource:Tn("string","DocumentSnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class _f extends Nl{data(e={}){return super.data(e)}}class Rl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new sh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new _f(this._firestore,this._userDataWriter,s.key,s,new sh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const p=new _f(o._firestore,o._userDataWriter,_.doc.key,_.doc,new sh(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const p=new _f(o._firestore,o._userDataWriter,_.doc.key,_.doc,new sh(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return _.type!==0&&(v=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),w=d.indexOf(_.doc.key)),{type:MD(_.type),doc:p,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:Tn("string",Rl._jsonSchemaVersion),bundleSource:Tn("string","QuerySnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class LD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Uh(e)}set(e,t,s){this._verifyNotCommitted();const o=Lg(e,this._firestore),c=k_(o.converter,t,s),d=N_(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,mi.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const c=Lg(e,this._firestore);let d;return d=typeof(t=Dt(t))=="string"||t instanceof xm?UT(this._dataReader,"WriteBatch.update",c._key,t,s,o):zT(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lg(e,this._firestore);return this._mutations=this._mutations.concat(new pm(t._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lg(n,e){if((n=Dt(n)).firestore!==e)throw new Pe(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Il(n){n=ni(n,ln);const e=ni(n.firestore,sr),t=ou(e);return uD(t,n._key).then((s=>KT(e,n,s)))}function Js(n){n=ni(n,Na);const e=ni(n.firestore,sr),t=ou(e),s=new Tm(e);return ZT(n._query),hD(t,n._query).then((o=>new Rl(e,s,n,o)))}function Og(n,e,t){n=ni(n,ln);const s=ni(n.firestore,sr),o=k_(n.converter,e,t),c=Uh(s);return qh(s,[N_(c,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,mi.none())])}function yo(n,e,t,...s){n=ni(n,ln);const o=ni(n.firestore,sr),c=Uh(o);let d;return d=typeof(e=Dt(e))=="string"||e instanceof xm?UT(c,"updateDoc",n._key,e,t,s):zT(c,"updateDoc",n._key,e),qh(o,[d.toMutation(n._key,mi.exists(!0))])}function Hf(n){return qh(ni(n.firestore,sr),[new pm(n._key,mi.none())])}function Pl(n,e){const t=ni(n.firestore,sr),s=on(n),o=k_(n.converter,e),c=Uh(n.firestore);return qh(t,[N_(c,"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,mi.exists(!1))]).then((()=>s))}function OD(n,...e){n=Dt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Mw(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Mw(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let c,d,_;if(n instanceof ln)d=ni(n.firestore,sr),_=um(n._key.path),c={next:v=>{e[s]&&e[s](KT(d,n,v))},error:e[s+1],complete:e[s+2]};else{const v=ni(n,Na);d=ni(v.firestore,sr),_=v._query;const w=new Tm(d);c={next:E=>{e[s]&&e[s](new Rl(d,w,v,E))},error:e[s+1],complete:e[s+2]},ZT(n._query)}const p=ou(d);return cD(p,_,o,c)}function qh(n,e){const t=ou(n);return fD(t,e)}function KT(n,e,t){const s=t.docs.get(e._key),o=new Tm(n);return new Nl(n,o,e._key,s,new sh(t.hasPendingWrites,t.fromCache),e.converter)}function DD(n){return n=ni(n,sr),ou(n),new LD(n,(e=>qh(n,e)))}(function(e,t=!0){lM(Zl),Ol(new Io("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),_=new sr(new hM(s.getProvider("auth-internal")),new mM(d,s.getProvider("app-check-internal")),MM(d,o),d);return c={useFetchStreams:t,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),Pr(Iw,Pw,e),Pr(Iw,Pw,"esm2020")})();const WT="firebasestorage.googleapis.com",QT="storageBucket",kD=120*1e3,jD=600*1e3;class un extends Ur{constructor(e,t,s=0){super(Dg(e),`Firebase Storage: ${t} (${Dg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,un.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var cn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(cn||(cn={}));function Dg(n){return"storage/"+n}function j_(){const n="An unknown error occurred, please check the error payload for server response.";return new un(cn.UNKNOWN,n)}function VD(n){return new un(cn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function zD(n){return new un(cn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new un(cn.UNAUTHENTICATED,n)}function BD(){return new un(cn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qD(n){return new un(cn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function HD(){return new un(cn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FD(){return new un(cn.CANCELED,"User canceled the upload/download.")}function GD(n){return new un(cn.INVALID_URL,"Invalid URL '"+n+"'.")}function ZD(n){return new un(cn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $D(){return new un(cn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QT+"' property when initializing the app?")}function YD(){return new un(cn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KD(){return new un(cn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function WD(n){return new un(cn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function by(n){return new un(cn.INVALID_ARGUMENT,n)}function XT(){return new un(cn.APP_DELETED,"The Firebase app was deleted.")}function QD(n){return new un(cn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fh(n,e){return new un(cn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Qu(n){throw new un(cn.INTERNAL_ERROR,"Internal error: "+n)}class rs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=rs.makeFromUrl(e,t)}catch{return new rs(e,"")}if(s.path==="")return s;throw ZD(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const d="(/(.*))?$",_=new RegExp("^gs://"+o+d,"i"),p={bucket:1,path:3};function v(ee){ee.path_=decodeURIComponent(ee.path)}const w="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${w}/b/${o}/o${N}`,"i"),j={bucket:1,path:3},z=t===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",O=new RegExp(`^https?://${z}/${o}/${k}`,"i"),$=[{regex:_,indices:p,postModify:c},{regex:R,indices:j,postModify:v},{regex:O,indices:{bucket:1,path:2},postModify:v}];for(let ee=0;ee<$.length;ee++){const ne=$[ee],ye=ne.regex.exec(e);if(ye){const B=ye[ne.indices.bucket];let I=ye[ne.indices.path];I||(I=""),s=new rs(B,I),ne.postModify(s);break}}if(s==null)throw GD(e);return s}}class XD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function JD(n,e,t){let s=1,o=null,c=null,d=!1,_=0;function p(){return _===2}let v=!1;function w(...k){v||(v=!0,e.apply(null,k))}function E(k){o=setTimeout(()=>{o=null,n(R,p())},k)}function N(){c&&clearTimeout(c)}function R(k,...O){if(v){N();return}if(k){N(),w.call(null,k,...O);return}if(p()||d){N(),w.call(null,k,...O);return}s<64&&(s*=2);let $;_===1?(_=2,$=0):$=(s+Math.random())*1e3,E($)}let j=!1;function z(k){j||(j=!0,N(),!v&&(o!==null?(k||(_=2),clearTimeout(o),E(0)):k||(_=1)))}return E(0),c=setTimeout(()=>{d=!0,z(!0)},t),z}function ek(n){n(!1)}function tk(n){return n!==void 0}function nk(n){return typeof n=="object"&&!Array.isArray(n)}function V_(n){return typeof n=="string"||n instanceof String}function kw(n){return z_()&&n instanceof Blob}function z_(){return typeof Blob<"u"}function jw(n,e,t,s){if(s<e)throw by(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw by(`Invalid value for '${n}'. Expected ${t} or less.`)}function U_(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function JT(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ml;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ml||(Ml={}));function ik(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}class sk{constructor(e,t,s,o,c,d,_,p,v,w,E,N=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=_,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=E,this.retry=N,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,z)=>{this.resolve_=j,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nf(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=_=>{const p=_.loaded,v=_.lengthComputable?_.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const _=c.getErrorCode()===Ml.NO_ERROR,p=c.getStatus();if(!_||ik(p,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Ml.ABORT;s(!1,new nf(!1,null,w));return}const v=this.successCodes_.indexOf(p)!==-1;s(!0,new nf(v,c))})},t=(s,o)=>{const c=this.resolve_,d=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(_,_.getResponse());tk(p)?c(p):c()}catch(p){d(p)}else if(_!==null){const p=j_();p.serverResponse=_.getErrorText(),this.errorCallback_?d(this.errorCallback_(_,p)):d(p)}else if(o.canceled){const p=this.appDelete_?XT():FD();d(p)}else{const p=HD();d(p)}};this.canceled_?t(!1,new nf(!1,null,!0)):this.backoffId_=JD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ek(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nf{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function rk(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function ak(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ok(n,e){e&&(n["X-Firebase-GMPID"]=e)}function lk(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ck(n,e,t,s,o,c,d=!0,_=!1){const p=JT(n.urlParams),v=n.url+p,w=Object.assign({},n.headers);return ok(w,e),rk(w,t),ak(w,c),lk(w,s),new sk(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,d,_)}function uk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hk(...n){const e=uk();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(z_())return new Blob(n);throw new un(cn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dk(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function fk(n){if(typeof atob>"u")throw WD("base-64");return atob(n)}const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kg{constructor(e,t){this.data=e,this.contentType=t||null}}function mk(n,e){switch(n){case Nr.RAW:return new kg(eS(e));case Nr.BASE64:case Nr.BASE64URL:return new kg(tS(n,e));case Nr.DATA_URL:return new kg(gk(e),yk(e))}throw j_()}function eS(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=s,d=n.charCodeAt(++t);s=65536|(c&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function pk(n){let e;try{e=decodeURIComponent(n)}catch{throw fh(Nr.DATA_URL,"Malformed data URL.")}return eS(e)}function tS(n,e){switch(n){case Nr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw fh(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw fh(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=fk(e)}catch(o){throw o.message.includes("polyfill")?o:fh(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class nS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw fh(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=_k(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function gk(n){const e=new nS(n);return e.base64?tS(Nr.BASE64,e.rest):pk(e.rest)}function yk(n){return new nS(n).contentType}function _k(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class wo{constructor(e,t){let s=0,o="";kw(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(kw(this.data_)){const s=this.data_,o=dk(s,e,t);return o===null?null:new wo(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new wo(s,!0)}}static getBlob(...e){if(z_()){const t=e.map(s=>s instanceof wo?s.data_:s);return new wo(hk.apply(null,t))}else{const t=e.map(d=>V_(d)?mk(Nr.RAW,d).data:d.data_);let s=0;t.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return t.forEach(d=>{for(let _=0;_<d.length;_++)o[c++]=d[_]}),new wo(o,!0)}}uploadData(){return this.data_}}function iS(n){let e;try{e=JSON.parse(n)}catch{return null}return nk(e)?e:null}function vk(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function bk(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function sS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function xk(n,e){return e}class hi{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||xk}}let sf=null;function wk(n){return!V_(n)||n.length<2?n:sS(n)}function rS(){if(sf)return sf;const n=[];n.push(new hi("bucket")),n.push(new hi("generation")),n.push(new hi("metageneration")),n.push(new hi("name","fullPath",!0));function e(c,d){return wk(d)}const t=new hi("name");t.xform=e,n.push(t);function s(c,d){return d!==void 0?Number(d):d}const o=new hi("size");return o.xform=s,n.push(o),n.push(new hi("timeCreated")),n.push(new hi("updated")),n.push(new hi("md5Hash",null,!0)),n.push(new hi("cacheControl",null,!0)),n.push(new hi("contentDisposition",null,!0)),n.push(new hi("contentEncoding",null,!0)),n.push(new hi("contentLanguage",null,!0)),n.push(new hi("contentType",null,!0)),n.push(new hi("metadata","customMetadata",!0)),sf=n,sf}function Ek(n,e){function t(){const s=n.bucket,o=n.fullPath,c=new rs(s,o);return e._makeStorageReference(c)}Object.defineProperty(n,"ref",{get:t})}function Tk(n,e,t){const s={};s.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];s[d.local]=d.xform(s,e[d.server])}return Ek(s,n),s}function aS(n,e,t){const s=iS(e);return s===null?null:Tk(n,s,t)}function Sk(n,e,t,s){const o=iS(e);if(o===null||!V_(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(v=>{const w=n.bucket,E=n.fullPath,N="/b/"+d(w)+"/o/"+d(E),R=U_(N,t,s),j=JT({alt:"media",token:v});return R+j})[0]}function Ak(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}class oS{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function lS(n){if(!n)throw j_()}function Ck(n,e){function t(s,o){const c=aS(n,o,e);return lS(c!==null),c}return t}function Nk(n,e){function t(s,o){const c=aS(n,o,e);return lS(c!==null),Sk(c,o,n.host,n._protocol)}return t}function cS(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=BD():o=UD():t.getStatus()===402?o=zD(n.bucket):t.getStatus()===403?o=qD(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Rk(n){const e=cS(n);function t(s,o){let c=e(s,o);return s.getStatus()===404&&(c=VD(n.path)),c.serverResponse=o.serverResponse,c}return t}function Ik(n,e,t){const s=e.fullServerUrl(),o=U_(s,n.host,n._protocol),c="GET",d=n.maxOperationRetryTime,_=new oS(o,c,Nk(n,t),d);return _.errorHandler=Rk(e),_}function Pk(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Mk(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=Pk(null,e)),s}function Lk(n,e,t,s,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function _(){let $="";for(let ee=0;ee<2;ee++)$=$+Math.random().toString().slice(2);return $}const p=_();d["Content-Type"]="multipart/related; boundary="+p;const v=Mk(e,s,o),w=Ak(v,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+v.contentType+`\r
\r
`,N=`\r
--`+p+"--",R=wo.getBlob(E,s,N);if(R===null)throw YD();const j={name:v.fullPath},z=U_(c,n.host,n._protocol),k="POST",O=n.maxUploadRetryTime,q=new oS(z,k,Ck(n,t),O);return q.urlParams=j,q.headers=d,q.body=R.uploadData(),q.errorHandler=cS(e),q}class Ok{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ml.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ml.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ml.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,c){if(this.sent_)throw Qu("cannot .send() more than once");if(jo(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Dk extends Ok{initXhr(){this.xhr_.responseType="text"}}function uS(){return new Dk}class Bl{constructor(e,t){this._service=e,t instanceof rs?this._location=t:this._location=rs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bl(e,t)}get root(){const e=new rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sS(this._location.path)}get storage(){return this._service}get parent(){const e=vk(this._location.path);if(e===null)return null;const t=new rs(this._location.bucket,e);return new Bl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw QD(e)}}function kk(n,e,t){n._throwIfRoot("uploadBytes");const s=Lk(n.storage,n._location,rS(),new wo(e,!0),t);return n.storage.makeRequestWithTokens(s,uS).then(o=>({metadata:o,ref:n}))}function jk(n){n._throwIfRoot("getDownloadURL");const e=Ik(n.storage,n._location,rS());return n.storage.makeRequestWithTokens(e,uS).then(t=>{if(t===null)throw KD();return t})}function Vk(n,e){const t=bk(n._location.path,e),s=new rs(n._location.bucket,t);return new Bl(n.storage,s)}function zk(n){return/^[A-Za-z]+:\/\//.test(n)}function Uk(n,e){return new Bl(n,e)}function hS(n,e){if(n instanceof B_){const t=n;if(t._bucket==null)throw $D();const s=new Bl(t,t._bucket);return e!=null?hS(s,e):s}else return e!==void 0?Vk(n,e):n}function Bk(n,e){if(e&&zk(e)){if(n instanceof B_)return Uk(n,e);throw by("To use ref(service, url), the first argument must be a Storage instance.")}else return hS(n,e)}function Vw(n,e){const t=e?.[QT];return t==null?null:rs.makeFromBucketSpec(t,n)}function qk(n,e,t,s={}){n.host=`${e}:${t}`;const o=jo(e);o&&(jy(`https://${n.host}/b`),Vy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:I1(c,n.app.options.projectId))}class B_{constructor(e,t,s,o,c,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kD,this._maxUploadRetryTime=jD,this._requests=new Set,o!=null?this._bucket=rs.makeFromBucketSpec(o,this._host):this._bucket=Vw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rs.makeFromBucketSpec(this._url,e):this._bucket=Vw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bl(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new XD(XT());{const d=ck(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const zw="@firebase/storage",Uw="0.14.0";const dS="storage";function Bw(n,e,t){return n=Dt(n),kk(n,e,t)}function qw(n){return n=Dt(n),jk(n)}function Hw(n,e){return n=Dt(n),Bk(n,e)}function Hk(n=By(),e){n=Dt(n);const s=nm(n,dS).getImmediate({identifier:e}),o=C1("storage");return o&&Fk(s,...o),s}function Fk(n,e,t,s={}){qk(n,e,t,s)}function Gk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new B_(t,s,o,e,Zl)}function Zk(){Ol(new Io(dS,Gk,"PUBLIC").setMultipleInstances(!0)),Pr(zw,Uw,""),Pr(zw,Uw,"esm2020")}Zk();const $k={apiKey:"AIzaSyDhATfuTR03Z0MDHK6LdVtePzvnOlw2RYs",authDomain:"inmobiliaria-89dca.firebaseapp.com",projectId:"inmobiliaria-89dca",storageBucket:"inmobiliaria-89dca.firebasestorage.app",messagingSenderId:"264339137867",appId:"1:264339137867:web:721f347d175208451c34ce",measurementId:"G-71P9DV29GB"},q_=L1($k),Tl=aM(q_),Xe=yD(q_),Fw=Hk(q_),Yk=new pa,Kk=new lh("apple.com");let Wk={data:""},Qk=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||Wk},Xk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Jk=/\/\*[^]*?\*\/|  +/g,Gw=/\n+/g,Eo=(n,e)=>{let t="",s="",o="";for(let c in n){let d=n[c];c[0]=="@"?c[1]=="i"?t=c+" "+d+";":s+=c[1]=="f"?Eo(d,c):c+"{"+Eo(d,c[1]=="k"?"":e)+"}":typeof d=="object"?s+=Eo(d,e?e.replace(/([^,])+/g,_=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,_):_?_+" "+p:p)):c):d!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Eo.p?Eo.p(c,d):c+":"+d+";")}return t+(e&&o?e+"{"+o+"}":o)+s},da={},fS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+fS(n[t]);return e}return n},e5=(n,e,t,s,o)=>{let c=fS(n),d=da[c]||(da[c]=(p=>{let v=0,w=11;for(;v<p.length;)w=101*w+p.charCodeAt(v++)>>>0;return"go"+w})(c));if(!da[d]){let p=c!==n?n:(v=>{let w,E,N=[{}];for(;w=Xk.exec(v.replace(Jk,""));)w[4]?N.shift():w[3]?(E=w[3].replace(Gw," ").trim(),N.unshift(N[0][E]=N[0][E]||{})):N[0][w[1]]=w[2].replace(Gw," ").trim();return N[0]})(n);da[d]=Eo(o?{["@keyframes "+d]:p}:p,t?"":"."+d)}let _=t&&da.g?da.g:null;return t&&(da.g=da[d]),((p,v,w,E)=>{E?v.data=v.data.replace(E,p):v.data.indexOf(p)===-1&&(v.data=w?p+v.data:v.data+p)})(da[d],e,s,_),d},t5=(n,e,t)=>n.reduce((s,o,c)=>{let d=e[c];if(d&&d.call){let _=d(t),p=_&&_.props&&_.props.className||/^go/.test(_)&&_;d=p?"."+p:_&&typeof _=="object"?_.props?"":Eo(_,""):_===!1?"":_}return s+o+(d??"")},"");function Am(n){let e=this||{},t=n.call?n(e.p):n;return e5(t.unshift?t.raw?t5(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,Qk(e.target),e.g,e.o,e.k)}let mS,xy,wy;Am.bind({g:1});let Sa=Am.bind({k:1});function n5(n,e,t,s){Eo.p=e,mS=n,xy=t,wy=s}function Uo(n,e){let t=this||{};return function(){let s=arguments;function o(c,d){let _=Object.assign({},c),p=_.className||o.className;t.p=Object.assign({theme:xy&&xy()},_),t.o=/ *go\d+/.test(p),_.className=Am.apply(t,s)+(p?" "+p:"");let v=n;return n[0]&&(v=_.as||n,delete _.as),wy&&v[0]&&wy(_),mS(v,_)}return o}}var i5=n=>typeof n=="function",Ff=(n,e)=>i5(n)?n(e):n,s5=(()=>{let n=0;return()=>(++n).toString()})(),pS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),r5=20,H_="default",gS=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(d=>d.id===e.toast.id?{...d,...e.toast}:d)};case 2:let{toast:s}=e;return gS(n,{type:n.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(d=>d.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let c=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+c}))}}},vf=[],yS={toasts:[],pausedAt:void 0,settings:{toastLimit:r5}},Rr={},_S=(n,e=H_)=>{Rr[e]=gS(Rr[e]||yS,n),vf.forEach(([t,s])=>{t===e&&s(Rr[e])})},vS=n=>Object.keys(Rr).forEach(e=>_S(n,e)),a5=n=>Object.keys(Rr).find(e=>Rr[e].toasts.some(t=>t.id===n)),Cm=(n=H_)=>e=>{_S(e,n)},o5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},l5=(n={},e=H_)=>{let[t,s]=U.useState(Rr[e]||yS),o=U.useRef(Rr[e]);U.useEffect(()=>(o.current!==Rr[e]&&s(Rr[e]),vf.push([e,s]),()=>{let d=vf.findIndex(([_])=>_===e);d>-1&&vf.splice(d,1)}),[e]);let c=t.toasts.map(d=>{var _,p,v;return{...n,...n[d.type],...d,removeDelay:d.removeDelay||((_=n[d.type])==null?void 0:_.removeDelay)||n?.removeDelay,duration:d.duration||((p=n[d.type])==null?void 0:p.duration)||n?.duration||o5[d.type],style:{...n.style,...(v=n[d.type])==null?void 0:v.style,...d.style}}});return{...t,toasts:c}},c5=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||s5()}),Hh=n=>(e,t)=>{let s=c5(e,n,t);return Cm(s.toasterId||a5(s.id))({type:2,toast:s}),s.id},Cn=(n,e)=>Hh("blank")(n,e);Cn.error=Hh("error");Cn.success=Hh("success");Cn.loading=Hh("loading");Cn.custom=Hh("custom");Cn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Cm(e)(t):vS(t)};Cn.dismissAll=n=>Cn.dismiss(void 0,n);Cn.remove=(n,e)=>{let t={type:4,toastId:n};e?Cm(e)(t):vS(t)};Cn.removeAll=n=>Cn.remove(void 0,n);Cn.promise=(n,e,t)=>{let s=Cn.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?Ff(e.success,o):void 0;return c?Cn.success(c,{id:s,...t,...t?.success}):Cn.dismiss(s),o}).catch(o=>{let c=e.error?Ff(e.error,o):void 0;c?Cn.error(c,{id:s,...t,...t?.error}):Cn.dismiss(s)}),n};var u5=1e3,h5=(n,e="default")=>{let{toasts:t,pausedAt:s}=l5(n,e),o=U.useRef(new Map).current,c=U.useCallback((E,N=u5)=>{if(o.has(E))return;let R=setTimeout(()=>{o.delete(E),d({type:4,toastId:E})},N);o.set(E,R)},[]);U.useEffect(()=>{if(s)return;let E=Date.now(),N=t.map(R=>{if(R.duration===1/0)return;let j=(R.duration||0)+R.pauseDuration-(E-R.createdAt);if(j<0){R.visible&&Cn.dismiss(R.id);return}return setTimeout(()=>Cn.dismiss(R.id,e),j)});return()=>{N.forEach(R=>R&&clearTimeout(R))}},[t,s,e]);let d=U.useCallback(Cm(e),[e]),_=U.useCallback(()=>{d({type:5,time:Date.now()})},[d]),p=U.useCallback((E,N)=>{d({type:1,toast:{id:E,height:N}})},[d]),v=U.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),w=U.useCallback((E,N)=>{let{reverseOrder:R=!1,gutter:j=8,defaultPosition:z}=N||{},k=t.filter($=>($.position||z)===(E.position||z)&&$.height),O=k.findIndex($=>$.id===E.id),q=k.filter(($,ee)=>ee<O&&$.visible).length;return k.filter($=>$.visible).slice(...R?[q+1]:[0,q]).reduce(($,ee)=>$+(ee.height||0)+j,0)},[t]);return U.useEffect(()=>{t.forEach(E=>{if(E.dismissed)c(E.id,E.removeDelay);else{let N=o.get(E.id);N&&(clearTimeout(N),o.delete(E.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:p,startPause:_,endPause:v,calculateOffset:w}}},d5=Sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,f5=Sa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,m5=Sa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,p5=Uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${d5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${f5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${m5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,g5=Sa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,y5=Uo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${g5} 1s linear infinite;
`,_5=Sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,v5=Sa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,b5=Uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${v5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,x5=Uo("div")`
  position: absolute;
`,w5=Uo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,E5=Sa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,T5=Uo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${E5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,S5=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?U.createElement(T5,null,e):e:t==="blank"?null:U.createElement(w5,null,U.createElement(y5,{...s}),t!=="loading"&&U.createElement(x5,null,t==="error"?U.createElement(p5,{...s}):U.createElement(b5,{...s})))},A5=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,C5=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,N5="0%{opacity:0;} 100%{opacity:1;}",R5="0%{opacity:1;} 100%{opacity:0;}",I5=Uo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,P5=Uo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,M5=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=pS()?[N5,R5]:[A5(t),C5(t)];return{animation:e?`${Sa(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Sa(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},L5=U.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?M5(n.position||e||"top-center",n.visible):{opacity:0},c=U.createElement(S5,{toast:n}),d=U.createElement(P5,{...n.ariaProps},Ff(n.message,n));return U.createElement(I5,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:c,message:d}):U.createElement(U.Fragment,null,c,d))});n5(U.createElement);var O5=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=U.useCallback(d=>{if(d){let _=()=>{let p=d.getBoundingClientRect().height;s(n,p)};_(),new MutationObserver(_).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return U.createElement("div",{ref:c,className:e,style:t},o)},D5=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},k5=Am`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,rf=16,j5=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:d,containerClassName:_})=>{let{toasts:p,handlers:v}=h5(t,c);return U.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:rf,left:rf,right:rf,bottom:rf,pointerEvents:"none",...d},className:_,onMouseEnter:v.startPause,onMouseLeave:v.endPause},p.map(w=>{let E=w.position||e,N=v.calculateOffset(w,{reverseOrder:n,gutter:s,defaultPosition:e}),R=D5(E,N);return U.createElement(O5,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?k5:"",style:R},w.type==="custom"?Ff(w.message,w):o?o(w):U.createElement(L5,{toast:w,position:E}))}))},Ue=Cn;const bS=U.createContext();function Ra(){return U.useContext(bS)}function V5({children:n}){const[e,t]=U.useState(null),[s,o]=U.useState(null),[c,d]=U.useState(!0),_=async(z,k,O="cliente",q="",$="")=>{try{const ee=await qI(Tl,z,k);return await ny(ee.user,{displayName:q}),await Og(on(Xe,"users",ee.user.uid),{email:z,role:O,displayName:q,phoneNumber:$,createdAt:new Date}),ee}catch(ee){throw console.error("Signup error",ee),R(ee)}},p=(z,k)=>HI(Tl,z,k).catch(O=>{throw R(O)}),v=async(z="cliente")=>{try{const k=await Cx(Tl,Yk);return(await Il(on(Xe,"users",k.user.uid))).exists()||await Og(on(Xe,"users",k.user.uid),{email:k.user.email,displayName:k.user.displayName,phoneNumber:k.user.phoneNumber||"",role:z,createdAt:new Date}),k}catch(k){throw R(k)}},w=async(z="cliente")=>{try{const k=await Cx(Tl,Kk);return(await Il(on(Xe,"users",k.user.uid))).exists()||await Og(on(Xe,"users",k.user.uid),{email:k.user.email,displayName:k.user.displayName,phoneNumber:k.user.phoneNumber||"",role:z,createdAt:new Date}),k}catch(k){throw R(k)}},E=()=>WI(Tl),N=z=>BI(Tl,z).catch(k=>{throw R(k)}),R=z=>{let k="Ocurri un error inesperado. Por favor intenta de nuevo.";return z.code==="auth/email-already-in-use"&&(k="Este correo ya est registrado."),z.code==="auth/invalid-email"&&(k="El correo no es vlido."),z.code==="auth/user-not-found"&&(k="No encontramos una cuenta con este correo."),z.code==="auth/wrong-password"&&(k="La contrasea es incorrecta."),z.code==="auth/weak-password"&&(k="La contrasea debe tener al menos 6 caracteres."),new Error(k)};U.useEffect(()=>KI(Tl,async k=>{if(t(k),k){const O=await Il(on(Xe,"users",k.uid));O.exists()&&o(O.data())}else o(null);d(!1)}),[]);const j={user:e,userData:s,signup:_,login:p,loginWithGoogle:v,loginWithApple:w,logout:E,resetPassword:N};return m.jsxs(bS.Provider,{value:j,children:[!c&&n,m.jsx(j5,{position:"top-center"})]})}const jg=({children:n,allowedRoles:e})=>{const{user:t,userData:s,loading:o}=Ra();return o?m.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?e&&s&&!e.includes(s.role)?s.role==="agente"?m.jsx(vg,{to:"/agent-dashboard"}):m.jsx(vg,{to:"/client-dashboard"}):n:m.jsx(vg,{to:"/login"})};const xS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const z5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const U5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const Zw=n=>{const e=U5(n);return e.charAt(0).toUpperCase()+e.slice(1)};var B5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const q5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const H5=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,..._},p)=>U.createElement("svg",{ref:p,...B5,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:xS("lucide",o),...!c&&!q5(_)&&{"aria-hidden":"true"},..._},[...d.map(([v,w])=>U.createElement(v,w)),...Array.isArray(c)?c:[c]]));const Ze=(n,e)=>{const t=U.forwardRef(({className:s,...o},c)=>U.createElement(H5,{ref:c,iconNode:e,className:xS(`lucide-${z5(Zw(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Zw(n),t};const F5=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],G5=Ze("armchair",F5);const Z5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$5=Ze("arrow-left",Z5);const Y5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],K5=Ze("arrow-right",Y5);const W5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Q5=Ze("arrow-up-down",W5);const X5=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],J5=Ze("arrow-up-from-line",X5);const e4=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],t4=Ze("bath",e4);const n4=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],i4=Ze("bed-double",n4);const s4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],r4=Ze("briefcase",s4);const a4=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],o4=Ze("building-2",a4);const l4=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],c4=Ze("building",l4);const u4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],h4=Ze("calendar",u4);const d4=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],f4=Ze("car",d4);const m4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],p4=Ze("circle-user",m4);const g4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],y4=Ze("clock",g4);const _4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],v4=Ze("copy",_4);const b4=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],x4=Ze("dumbbell",b4);const w4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gf=Ze("eye",w4);const E4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],T4=Ze("facebook",E4);const S4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],A4=Ze("file-text",S4);const C4=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],N4=Ze("heart-handshake",C4);const R4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Zf=Ze("heart",R4);const I4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],wS=Ze("house",I4);const P4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],M4=Ze("instagram",P4);const L4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$f=Ze("key",L4);const O4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],D4=Ze("layers",O4);const k4=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],j4=Ze("lightbulb",k4);const V4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],z4=Ze("linkedin",V4);const U4=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],B4=Ze("list-filter",U4);const q4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ah=Ze("loader-circle",q4);const H4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],F4=Ze("lock",H4);const G4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ES=Ze("mail",G4);const Z4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vr=Ze("map-pin",Z4);const $4=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Y4=Ze("maximize",$4);const K4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],W4=Ze("message-circle",K4);const Q4=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],X4=Ze("mountain",Q4);const J4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],TS=Ze("phone",J4);const ej=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vg=Ze("refresh-cw",ej);const tj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qc=Ze("search",tj);const nj=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],$w=Ze("share",nj);const ij=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SS=Ze("shield-check",ij);const sj=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],rj=Ze("sliders-horizontal",sj);const aj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],oj=Ze("star",aj);const lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cj=Ze("target",lj);const uj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ey=Ze("trash-2",uj);const hj=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],dj=Ze("tree-palm",hj);const fj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yw=Ze("upload",fj);const mj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ty=Ze("user",mj);const pj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AS=Ze("users",pj);const gj=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],yj=Ze("warehouse",gj);const _j=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],CS=Ze("waves",_j);const vj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ql=Ze("x",vj),NS=({property:n})=>{const[t,s]=U.useState(0),[o,c]=U.useState(!1),d=n.currency||"USD",_=typeof n.price=="number"?n.price:parseFloat(n.price);let p,v;d==="USD"?(p=_,v=_*3.75):(v=_,p=_/3.75);const w=(N,R)=>N?N.toLocaleString("en-US",{style:"currency",currency:R,maximumFractionDigits:0}):"0";U.useEffect(()=>{let N;return o&&n.images&&n.images.length>1?N=setInterval(()=>{s(R=>(R+1)%n.images.length)},1e3):s(0),()=>clearInterval(N)},[o,n.images]);const E=n.images?.[t]||n.images?.[0]||"https://placehold.co/400x300/e2e8f0/94a3b8?text=Sin+Imagen";return m.jsxs(Xt,{to:`/properties/${n.id}`,className:"group block relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[m.jsxs("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[m.jsx("img",{src:E,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),n.isPromoted&&m.jsx("div",{className:"absolute top-3 left-3 bg-[#fc7f51] text-white px-2 py-1 rounded-md text-xs font-bold shadow-md z-10",children:"DESTACADO"}),m.jsx("button",{className:"absolute top-3 right-3 text-white/70 hover:scale-110 transition z-10",children:m.jsx(Zf,{className:"w-6 h-6 fill-black/50 text-white stroke-[2px]"})}),m.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 backdrop-blur-md px-3 py-1 rounded-lg text-white text-xs font-bold uppercase",children:n.type})]}),m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("h3",{className:"font-semibold text-gray-500 truncate pr-2 text-xs uppercase tracking-wide",children:n.location||n.address}),m.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",title:"Vistas",children:[m.jsx(Gf,{className:"w-3 h-3 text-[#fc7f51]"}),m.jsx("span",{className:"text-xs font-bold text-gray-700",children:n.views||0})]})]}),m.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Agente: ",n.agentName||"Inmuvete"]}),m.jsx("p",{className:"text-gray-800 text-sm font-semibold mb-1 line-clamp-1",children:n.title}),m.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[m.jsx("span",{className:"font-bold text-[#fc7f51] text-lg",children:w(p,"USD")}),m.jsx("span",{className:"text-xs text-gray-400 font-medium",children:w(v,"PEN")})]})]})},bj=[{icon:c4,label:"Departamentos"},{icon:yj,label:"Casas"},{icon:dj,label:"Terrenos"},{icon:X4,label:"Campestres"},{icon:CS,label:"Playa"}],xj=()=>{const n=Gl(),[e,t]=U.useState("venta"),[s,o]=U.useState(""),[c,d]=U.useState("departamento"),[_,p]=U.useState("USD"),[v,w]=U.useState(""),[E,N]=U.useState(""),[R,j]=U.useState(!1),[z,k]=U.useState(!1),[O,q]=U.useState({location:"",footage:"",price:""}),$=()=>{const ge=`Hola, quiero vender mi propiedad.

 Ubicacin: ${O.location}
 Metraje: ${O.footage} m
 Precio Estimado: $${O.price}

Solicito ms informacin.`,pe=`https://wa.me/51999999999?text=${encodeURIComponent(ge)}`;window.open(pe,"_blank"),k(!1),q({location:"",footage:"",price:""})},ee=["Lima","Arequipa","Cusco","Trujillo","Piura","Ica","Tacna"],[ne,ye]=U.useState([]),[B,I]=U.useState(!1),Z=ge=>{const pe=ge.target.value;if(o(pe),pe.length>0){const D=ee.filter(X=>X.toLowerCase().includes(pe.toLowerCase()));ye(D),I(!0)}else I(!1)},F=ge=>{o(ge),I(!1)},[H,Y]=U.useState([]),[G,de]=U.useState(!0);U.useEffect(()=>{de(!0);const ge=Ps(mn(Xe,"properties")),pe=OD(ge,D=>{const X=D.docs.map(me=>({id:me.id,...me.data()}));X.sort((me,ve)=>{if(me.isPromoted&&!ve.isPromoted)return-1;if(!me.isPromoted&&ve.isPromoted)return 1;const Ae=me.createdAt?.seconds||0;return(ve.createdAt?.seconds||0)-Ae}),Y(X),de(!1)},D=>{console.error("Error fetching properties:",D),de(!1)});return()=>pe()},[]);const[Ne,re]=U.useState([]),[Se,ae]=U.useState(!0);return U.useEffect(()=>{(async()=>{try{const pe=Ps(mn(Xe,"tips"),RD(3)),X=(await Js(pe)).docs.map(me=>({id:me.id,...me.data()}));X.sort((me,ve)=>(ve.createdAt?.seconds||0)-(me.createdAt?.seconds||0)),re(X)}catch(pe){console.error("Error fetching tips:",pe)}finally{ae(!1)}})()},[]),m.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[m.jsxs("div",{className:"relative h-[85vh] min-h-[700px] flex items-center pt-20",children:[m.jsxs("div",{className:"absolute inset-0 z-0",children:[m.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",alt:"Hero",className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/20"})]}),m.jsxs("div",{className:"relative z-10 container mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center",children:[m.jsxs("div",{className:"lg:col-span-5 bg-white rounded-3xl shadow-2xl overflow-hidden animate-fadeIn",children:[m.jsxs("div",{className:"p-8 pb-4 bg-[#262626] text-white",children:[m.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",style:{color:"#ffffff"},children:"Encuentra tu prximo hogar"}),m.jsx("p",{className:"text-gray-300 text-sm",children:"Explora propiedades nicas para vivir o invertir."})]}),m.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[m.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["venta","alquiler","anticresis"].map(ge=>m.jsx("button",{onClick:()=>t(ge),className:`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${e===ge?"bg-white text-[#fc7f51] shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700"}`,children:ge},ge))}),m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"En dnde buscas?"}),m.jsxs("div",{className:"relative",children:[m.jsx(Vr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),m.jsx("input",{type:"text",value:s,onChange:Z,onFocus:()=>s&&I(!0),placeholder:"Ciudad, distrito o zona...",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"}),B&&ne.length>0&&m.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:ne.map(ge=>m.jsxs("div",{onClick:()=>F(ge),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-2 text-gray-700 font-medium",children:[m.jsx(Vr,{className:"w-4 h-4 text-[#fc7f51]"}),ge]},ge))})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo de Inmueble"}),m.jsxs("div",{className:"relative",children:[m.jsx(wS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),m.jsxs("select",{value:c,onChange:ge=>d(ge.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none appearance-none font-medium cursor-pointer",children:[m.jsx("option",{value:"departamento",children:"Departamento"}),m.jsx("option",{value:"casa",children:"Casa"}),m.jsx("option",{value:"terreno",children:"Terreno"}),m.jsx("option",{value:"oficina",children:"Oficina"}),m.jsx("option",{value:"local",children:"Local Comercial"}),m.jsx("option",{value:"otro",children:"Otro"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),m.jsx("div",{className:"relative",children:m.jsxs("div",{className:"flex bg-gray-50 rounded-xl border border-gray-200 p-1 h-[58px] items-center",children:[m.jsx("button",{onClick:()=>p("USD"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="USD"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"$ USD"}),m.jsx("button",{onClick:()=>p("PEN"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="PEN"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"S/ PEN"})]})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Rango de Precio"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("input",{type:"number",placeholder:"Mnimo",value:v,onChange:ge=>w(ge.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"}),m.jsx("input",{type:"number",placeholder:"Mximo",value:E,onChange:ge=>N(ge.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"})]})]}),m.jsxs("button",{onClick:()=>j(!R),className:"flex items-center gap-2 text-[#fc7f51] font-bold text-sm hover:underline",children:[m.jsx(B4,{className:"w-4 h-4"}),R?"Menos filtros":"Ms filtros (Habitaciones, Baos, rea...)"]}),R&&m.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fadeIn",children:[m.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),m.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[m.jsx("option",{value:"",children:"Cualquiera"}),m.jsx("option",{value:"1",children:"1+"}),m.jsx("option",{value:"2",children:"2+"}),m.jsx("option",{value:"3",children:"3+"}),m.jsx("option",{value:"4",children:"4+"})]})]}),m.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),m.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[m.jsx("option",{value:"",children:"Cualquiera"}),m.jsx("option",{value:"1",children:"1+"}),m.jsx("option",{value:"2",children:"2+"}),m.jsx("option",{value:"3",children:"3+"})]})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"rea Mnima (m)"}),m.jsx("input",{type:"number",placeholder:"Ej: 80",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none"})]})]}),m.jsxs("button",{onClick:()=>{const ge=new URLSearchParams;e&&ge.set("operation",e),s&&ge.set("location",s),c&&ge.set("propertyType",c),_&&ge.set("currency",_),v&&ge.set("priceMin",v),E&&ge.set("priceMax",E),n(`/search?${ge.toString()}`)},className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2",children:[m.jsx(Qc,{className:"w-6 h-6"}),"BUSCAR PROPIEDADES"]})]})]}),m.jsx("div",{className:"hidden lg:block lg:col-span-7",children:m.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[m.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-[#fc7f51] transform hover:-translate-x-2 transition cursor-pointer",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:m.jsx(r4,{className:"w-6 h-6 text-[#fc7f51]"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Eres Propietario?"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros y vndela ms rpido."})]})]}),m.jsx(Xt,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),m.jsx("button",{onClick:()=>k(!0),className:"block w-full text-left bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-blue-500 transform hover:-translate-x-2 transition cursor-pointer delay-100",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:m.jsx($f,{className:"w-6 h-6 text-blue-500"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Vendes tu Propiedad?"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos para vender rpido y seguro al mejor precio."})]})]})})]})})]})]}),z&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden animate-fadeIn",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[m.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Vende con nosotros"}),m.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:m.jsx(ql,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ingresa los datos de tu propiedad para enviarlos a un agente."}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin / Distrito"}),m.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: Miraflores, Lima",value:O.location,onChange:ge=>q({...O,location:ge.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metraje Aprox. (m)"}),m.jsx("input",{type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 120",value:O.footage,onChange:ge=>q({...O,footage:ge.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto Estimado de Venta"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),m.jsx("input",{type:"number",className:"w-full pl-8 pr-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 150000",value:O.price,onChange:ge=>q({...O,price:ge.target.value})})]})]}),m.jsxs("button",{onClick:$,disabled:!O.location||!O.footage||!O.price,className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3 rounded-lg shadow-lg hover:shadow-green-500/30 transition flex items-center justify-center gap-2 mt-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx($f,{className:"w-5 h-5"}),"Enviar por WhatsApp"]})]})]})}),m.jsx("div",{className:"bg-gray-50 py-10 border-b border-gray-200",children:m.jsx("div",{className:"container mx-auto px-6",children:m.jsx("div",{className:"flex gap-4 md:gap-12 overflow-x-auto no-scrollbar items-center justify-start md:justify-center py-2",children:bj.map((ge,pe)=>m.jsxs("div",{onClick:()=>n(`/search?propertyType=${ge.label.toLowerCase()}`),className:"flex flex-col items-center gap-3 min-w-[100px] cursor-pointer group opacity-60 hover:opacity-100 transition-all duration-300 hover:-translate-y-1",children:[m.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-md border border-gray-100 group-hover:border-[#fc7f51]/30 transition",children:m.jsx(ge.icon,{className:"w-7 h-7 text-[#262626] group-hover:text-[#fc7f51] transition",strokeWidth:1.5})}),m.jsx("span",{className:"text-sm font-semibold text-[#262626] group-hover:text-[#fc7f51] whitespace-nowrap transition",children:ge.label})]},pe))})})}),m.jsxs("main",{id:"properties",className:"container mx-auto px-6 py-20",children:[m.jsxs("div",{className:"flex justify-between items-end mb-12",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Oportunidades"}),m.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Propiedades Destacadas"})]}),m.jsxs(Xt,{to:"/properties",className:"hidden md:flex items-center gap-2 text-[#262626] font-semibold hover:text-[#fc7f51] transition group",children:["Ver todo ",m.jsx(K5,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:G?m.jsxs("div",{className:"col-span-full py-20 text-center",children:[m.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"}),m.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando propiedades..."})]}):H.length===0?m.jsx("div",{className:"col-span-full py-20 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:m.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propiedades disponibles en este momento."})}):H.filter(ge=>{if(e&&ge.type!==e)return!1;if(c){if(c==="terreno"){if(ge.category!=="terreno")return!1}else if(c!=="otro"&&ge.category==="terreno")return!1}if(s&&!ge.location?.toLowerCase().includes(s.toLowerCase())&&!ge.address?.toLowerCase().includes(s.toLowerCase()))return!1;const pe=parseFloat(ge.price);return!(v&&pe<parseFloat(v)||E&&pe>parseFloat(E)||_&&ge.currency!==_)}).sort((ge,pe)=>(pe.isExclusive===!0?1:0)-(ge.isExclusive===!0?1:0)).map(ge=>m.jsx(NS,{property:ge},ge.id))}),m.jsx("div",{className:"mt-12 text-center md:hidden",children:m.jsx("button",{className:"bg-white border border-gray-300 text-[#262626] px-8 py-3 rounded-full font-bold shadow-sm hover:bg-gray-50 transition",children:"Ver todas las propiedades"})})]}),m.jsx("section",{className:"bg-gray-50 py-20 border-t border-gray-200",children:m.jsxs("div",{className:"container mx-auto px-6",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Consejos de Expertos"}),m.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Tips Inmobiliarios"})]}),Se?m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})}):Ne.length>0?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Ne.map(ge=>m.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center mb-6 text-[#fc7f51] group-hover:bg-[#fc7f51] group-hover:text-white transition",children:m.jsx(j4,{className:"w-6 h-6"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-[#fc7f51] transition",children:ge.title}),m.jsx("p",{className:"text-gray-600 leading-relaxed text-sm mb-4 line-clamp-4",children:ge.content}),m.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["Por ",ge.agentName||"Agente","  ",ge.createdAt?.seconds?new Date(ge.createdAt.seconds*1e3).toLocaleDateString():"Reciente"]})]},ge.id))}):m.jsx("div",{className:"text-center text-gray-500",children:"Pronto publicaremos consejos tiles para ti."})]})}),m.jsxs("section",{className:"py-24 bg-[#16151a] text-white relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#fc7f51] rounded-full opacity-10 blur-[100px] translate-x-1/3 -translate-y-1/3"}),m.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[m.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Listo para dar el siguiente paso?"}),m.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-2xl mx-auto",children:"Ya sea que busques comprar, vender o invertir, en Inmuvete tenemos el equipo y la experiencia para hacerlo posible."}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[m.jsx(Xt,{to:"/contact",className:"bg-[#fc7f51] text-white px-8 py-4 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg hover:shadow-orange-500/20",children:"Contctanos Ahora"}),m.jsx(Xt,{to:"/about",className:"bg-transparent border border-gray-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-[#262626] hover:border-white transition",children:"Conoce Ms"})]})]})]})]})};function Kw(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function F_(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Kw(e[s])&&Kw(n[s])&&Object.keys(e[s]).length>0&&F_(n[s],e[s])})}const RS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Kl(){const n=typeof document<"u"?document:{};return F_(n,RS),n}const wj={document:RS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function pi(){const n=typeof window<"u"?window:{};return F_(n,wj),n}function Ej(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function Tj(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function IS(n,e=0){return setTimeout(n,e)}function Yf(){return Date.now()}function Sj(n){const e=pi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Aj(n,e="x"){const t=pi();let s,o,c;const d=Sj(n);return t.WebKitCSSMatrix?(o=d.transform||d.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(_=>_.replace(",",".")).join(", ")),c=new t.WebKitCSSMatrix(o==="none"?"":o)):(c=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=c.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?o=c.m41:s.length===16?o=parseFloat(s[12]):o=parseFloat(s[4])),e==="y"&&(t.WebKitCSSMatrix?o=c.m42:s.length===16?o=parseFloat(s[13]):o=parseFloat(s[5])),o||0}function af(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Cj(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function is(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<n.length;s+=1){const o=n[s];if(o!=null&&!Cj(o)){const c=Object.keys(Object(o)).filter(d=>t.indexOf(d)<0);for(let d=0,_=c.length;d<_;d+=1){const p=c[d],v=Object.getOwnPropertyDescriptor(o,p);v!==void 0&&v.enumerable&&(af(e[p])&&af(o[p])?o[p].__swiper__?e[p]=o[p]:is(e[p],o[p]):!af(e[p])&&af(o[p])?(e[p]={},o[p].__swiper__?e[p]=o[p]:is(e[p],o[p])):e[p]=o[p])}}}return e}function kc(n,e,t){n.style.setProperty(e,t)}function PS({swiper:n,targetPosition:e,side:t}){const s=pi(),o=-n.translate;let c=null,d;const _=n.params.speed;n.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(n.cssModeFrameID);const p=e>o?"next":"prev",v=(E,N)=>p==="next"&&E>=N||p==="prev"&&E<=N,w=()=>{d=new Date().getTime(),c===null&&(c=d);const E=Math.max(Math.min((d-c)/_,1),0),N=.5-Math.cos(E*Math.PI)/2;let R=o+N*(e-o);if(v(R,e)&&(R=e),n.wrapperEl.scrollTo({[t]:R}),v(R,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:R})}),s.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=s.requestAnimationFrame(w)};w()}function Ir(n,e=""){const t=pi(),s=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&s.push(...n.assignedElements()),e?s.filter(o=>o.matches(e)):s}function Nj(n,e){const t=[e];for(;t.length>0;){const s=t.shift();if(n===s)return!0;t.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function Rj(n,e){const t=pi();let s=e.contains(n);return!s&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(n),s||(s=Nj(n,e))),s}function Kf(n){try{console.warn(n);return}catch{}}function Wf(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Ej(e)),t}function Ij(n,e){const t=[];for(;n.previousElementSibling;){const s=n.previousElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function Pj(n,e){const t=[];for(;n.nextElementSibling;){const s=n.nextElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function So(n,e){return pi().getComputedStyle(n,null).getPropertyValue(e)}function Qf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function MS(n,e){const t=[];let s=n.parentElement;for(;s;)e?s.matches(e)&&t.push(s):t.push(s),s=s.parentElement;return t}function Sy(n,e,t){const s=pi();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Vn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Ch(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let zg;function Mj(){const n=pi(),e=Kl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function LS(){return zg||(zg=Mj()),zg}let Ug;function Lj({userAgent:n}={}){const e=LS(),t=pi(),s=t.navigator.platform,o=n||t.navigator.userAgent,c={ios:!1,android:!1},d=t.screen.width,_=t.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let v=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const w=o.match(/(iPod)(.*OS\s([\d_]+))?/),E=!v&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),N=s==="Win32";let R=s==="MacIntel";const j=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&R&&e.touch&&j.indexOf(`${d}x${_}`)>=0&&(v=o.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),R=!1),p&&!N&&(c.os="android",c.android=!0),(v||E||w)&&(c.os="ios",c.ios=!0),c}function OS(n={}){return Ug||(Ug=Lj(n)),Ug}let Bg;function Oj(){const n=pi(),e=OS();let t=!1;function s(){const _=n.navigator.userAgent.toLowerCase();return _.indexOf("safari")>=0&&_.indexOf("chrome")<0&&_.indexOf("android")<0}if(s()){const _=String(n.navigator.userAgent);if(_.includes("Version/")){const[p,v]=_.split("Version/")[1].split(" ")[0].split(".").map(w=>Number(w));t=p<16||p===16&&v<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),c=s(),d=c||o&&e.ios;return{isSafari:t||c,needPerspectiveFix:t,need3dFix:d,isWebView:o}}function DS(){return Bg||(Bg=Oj()),Bg}function Dj({swiper:n,on:e,emit:t}){const s=pi();let o=null,c=null;const d=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},_=()=>{!n||n.destroyed||!n.initialized||(o=new ResizeObserver(w=>{c=s.requestAnimationFrame(()=>{const{width:E,height:N}=n;let R=E,j=N;w.forEach(({contentBoxSize:z,contentRect:k,target:O})=>{O&&O!==n.el||(R=k?k.width:(z[0]||z).inlineSize,j=k?k.height:(z[0]||z).blockSize)}),(R!==E||j!==N)&&d()})}),o.observe(n.el))},p=()=>{c&&s.cancelAnimationFrame(c),o&&o.unobserve&&n.el&&(o.unobserve(n.el),o=null)},v=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof s.ResizeObserver<"u"){_();return}s.addEventListener("resize",d),s.addEventListener("orientationchange",v)}),e("destroy",()=>{p(),s.removeEventListener("resize",d),s.removeEventListener("orientationchange",v)})}function kj({swiper:n,extendParams:e,on:t,emit:s}){const o=[],c=pi(),d=(v,w={})=>{const E=c.MutationObserver||c.WebkitMutationObserver,N=new E(R=>{if(n.__preventObserver__)return;if(R.length===1){s("observerUpdate",R[0]);return}const j=function(){s("observerUpdate",R[0])};c.requestAnimationFrame?c.requestAnimationFrame(j):c.setTimeout(j,0)});N.observe(v,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:n.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),o.push(N)},_=()=>{if(n.params.observer){if(n.params.observeParents){const v=MS(n.hostEl);for(let w=0;w<v.length;w+=1)d(v[w])}d(n.hostEl,{childList:n.params.observeSlideChildren}),d(n.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(v=>{v.disconnect()}),o.splice(0,o.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",_),t("destroy",p)}var jj={on(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const o=t?"unshift":"push";return n.split(" ").forEach(c=>{s.eventsListeners[c]||(s.eventsListeners[c]=[]),s.eventsListeners[c][o](e)}),s},once(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function o(...c){s.off(n,o),o.__emitterProxy&&delete o.__emitterProxy,e.apply(s,c)}return o.__emitterProxy=e,s.on(n,o,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const s=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[s](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(s=>{typeof e>"u"?t.eventsListeners[s]=[]:t.eventsListeners[s]&&t.eventsListeners[s].forEach((o,c)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&t.eventsListeners[s].splice(c,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,s,o;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],s=n.slice(1,n.length),o=e):(t=n[0].events,s=n[0].data,o=n[0].context||e),s.unshift(o),(Array.isArray(t)?t:t.split(" ")).forEach(d=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(_=>{_.apply(o,[d,...s])}),e.eventsListeners&&e.eventsListeners[d]&&e.eventsListeners[d].forEach(_=>{_.apply(o,s)})}),e}};function Vj(){const n=this;let e,t;const s=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=s.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=s.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(So(s,"padding-left")||0,10)-parseInt(So(s,"padding-right")||0,10),t=t-parseInt(So(s,"padding-top")||0,10)-parseInt(So(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function zj(){const n=this;function e(F,H){return parseFloat(F.getPropertyValue(n.getDirectionLabel(H))||0)}const t=n.params,{wrapperEl:s,slidesEl:o,rtlTranslate:c,wrongRTL:d}=n,_=n.virtual&&t.virtual.enabled,p=_?n.virtual.slides.length:n.slides.length,v=Ir(o,`.${n.params.slideClass}, swiper-slide`),w=_?n.virtual.slides.length:v.length;let E=[];const N=[],R=[];let j=t.slidesOffsetBefore;typeof j=="function"&&(j=t.slidesOffsetBefore.call(n));let z=t.slidesOffsetAfter;typeof z=="function"&&(z=t.slidesOffsetAfter.call(n));const k=n.snapGrid.length,O=n.slidesGrid.length,q=n.size-j-z;let $=t.spaceBetween,ee=-j,ne=0,ye=0;if(typeof q>"u")return;typeof $=="string"&&$.indexOf("%")>=0?$=parseFloat($.replace("%",""))/100*q:typeof $=="string"&&($=parseFloat($)),n.virtualSize=-$-j-z,v.forEach(F=>{c?F.style.marginLeft="":F.style.marginRight="",F.style.marginBottom="",F.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(kc(s,"--swiper-centered-offset-before",""),kc(s,"--swiper-centered-offset-after","")),t.cssMode&&(kc(s,"--swiper-slides-offset-before",`${j}px`),kc(s,"--swiper-slides-offset-after",`${z}px`));const B=t.grid&&t.grid.rows>1&&n.grid;B?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let I;const Z=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(F=>typeof t.breakpoints[F].slidesPerView<"u").length>0;for(let F=0;F<w;F+=1){I=0;const H=v[F];if(!(H&&(B&&n.grid.updateSlide(F,H,v),So(H,"display")==="none"))){if(_&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(I=t.virtual.slidesPerViewAutoSlideSize),I&&H&&(t.roundLengths&&(I=Math.floor(I)),H.style[n.getDirectionLabel("width")]=`${I}px`);else if(t.slidesPerView==="auto"){Z&&(H.style[n.getDirectionLabel("width")]="");const Y=getComputedStyle(H),G=H.style.transform,de=H.style.webkitTransform;if(G&&(H.style.transform="none"),de&&(H.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?Sy(H,"width"):Sy(H,"height");else{const Ne=e(Y,"width"),re=e(Y,"padding-left"),Se=e(Y,"padding-right"),ae=e(Y,"margin-left"),ge=e(Y,"margin-right"),pe=Y.getPropertyValue("box-sizing");if(pe&&pe==="border-box")I=Ne+ae+ge;else{const{clientWidth:D,offsetWidth:X}=H;I=Ne+re+Se+ae+ge+(X-D)}}G&&(H.style.transform=G),de&&(H.style.webkitTransform=de),t.roundLengths&&(I=Math.floor(I))}else I=(q-(t.slidesPerView-1)*$)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),H&&(H.style[n.getDirectionLabel("width")]=`${I}px`);H&&(H.swiperSlideSize=I),R.push(I),t.centeredSlides?(ee=ee+I/2+ne/2+$,ne===0&&F!==0&&(ee=ee-q/2-$),F===0&&(ee=ee-q/2-$),Math.abs(ee)<1/1e3&&(ee=0),t.roundLengths&&(ee=Math.floor(ee)),ye%t.slidesPerGroup===0&&E.push(ee),N.push(ee)):(t.roundLengths&&(ee=Math.floor(ee)),(ye-Math.min(n.params.slidesPerGroupSkip,ye))%n.params.slidesPerGroup===0&&E.push(ee),N.push(ee),ee=ee+I+$),n.virtualSize+=I+$,ne=I,ye+=1}}if(n.virtualSize=Math.max(n.virtualSize,q)+z,c&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(s.style.width=`${n.virtualSize+$}px`),t.setWrapperSize&&(s.style[n.getDirectionLabel("width")]=`${n.virtualSize+$}px`),B&&n.grid.updateWrapperSize(I,E),!t.centeredSlides){const F=t.slidesPerView!=="auto"&&t.slidesPerView%1!==0,H=t.snapToSlideEdge&&!t.loop&&(t.slidesPerView==="auto"||F);let Y=E.length;if(H){let de;if(t.slidesPerView==="auto"){de=1;let Ne=0;for(let re=R.length-1;re>=0&&(Ne+=R[re]+(re<R.length-1?$:0),Ne<=q);re-=1)de=R.length-re}else de=Math.floor(t.slidesPerView);Y=Math.max(w-de,0)}const G=[];for(let de=0;de<E.length;de+=1){let Ne=E[de];t.roundLengths&&(Ne=Math.floor(Ne)),H?de<=Y&&G.push(Ne):E[de]<=n.virtualSize-q&&G.push(Ne)}E=G,Math.floor(n.virtualSize-q)-Math.floor(E[E.length-1])>1&&(H||E.push(n.virtualSize-q))}if(_&&t.loop){const F=R[0]+$;if(t.slidesPerGroup>1){const H=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),Y=F*t.slidesPerGroup;for(let G=0;G<H;G+=1)E.push(E[E.length-1]+Y)}for(let H=0;H<n.virtual.slidesBefore+n.virtual.slidesAfter;H+=1)t.slidesPerGroup===1&&E.push(E[E.length-1]+F),N.push(N[N.length-1]+F),n.virtualSize+=F}if(E.length===0&&(E=[0]),$!==0){const F=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");v.filter((H,Y)=>!t.cssMode||t.loop?!0:Y!==v.length-1).forEach(H=>{H.style[F]=`${$}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let F=0;R.forEach(Y=>{F+=Y+($||0)}),F-=$;const H=F>q?F-q:0;E=E.map(Y=>Y<=0?-j:Y>H?H+z:Y)}if(t.centerInsufficientSlides){let F=0;R.forEach(Y=>{F+=Y+($||0)}),F-=$;const H=(j||0)+(z||0);if(F+H<q){const Y=(q-F-H)/2;E.forEach((G,de)=>{E[de]=G-Y}),N.forEach((G,de)=>{N[de]=G+Y})}}if(Object.assign(n,{slides:v,snapGrid:E,slidesGrid:N,slidesSizesGrid:R}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){kc(s,"--swiper-centered-offset-before",`${-E[0]}px`),kc(s,"--swiper-centered-offset-after",`${n.size/2-R[R.length-1]/2}px`);const F=-n.snapGrid[0],H=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(Y=>Y+F),n.slidesGrid=n.slidesGrid.map(Y=>Y+H)}if(w!==p&&n.emit("slidesLengthChange"),E.length!==k&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),N.length!==O&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!_&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const F=`${t.containerModifierClass}backface-hidden`,H=n.el.classList.contains(F);w<=t.maxBackfaceHiddenSlides?H||n.el.classList.add(F):H&&n.el.classList.remove(F)}}function Uj(n){const e=this,t=[],s=e.virtual&&e.params.virtual.enabled;let o=0,c;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const d=_=>s?e.slides[e.getSlideIndexByData(_)]:e.slides[_];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(_=>{t.push(_)});else for(c=0;c<Math.ceil(e.params.slidesPerView);c+=1){const _=e.activeIndex+c;if(_>e.slides.length&&!s)break;t.push(d(_))}else t.push(d(e.activeIndex));for(c=0;c<t.length;c+=1)if(typeof t[c]<"u"){const _=t[c].offsetHeight;o=_>o?_:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function Bj(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(n.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-t-n.cssOverflowAdjustment()}const Ww=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function qj(n=this&&this.translate||0){const e=this,t=e.params,{slides:s,rtlTranslate:o,snapGrid:c}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let d=-n;o&&(d=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let _=t.spaceBetween;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*e.size:typeof _=="string"&&(_=parseFloat(_));for(let p=0;p<s.length;p+=1){const v=s[p];let w=v.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(w-=s[0].swiperSlideOffset);const E=(d+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),N=(d-c[0]+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),R=-(d-w),j=R+e.slidesSizesGrid[p],z=R>=0&&R<=e.size-e.slidesSizesGrid[p],k=R>=0&&R<e.size-1||j>1&&j<=e.size||R<=0&&j>=e.size;k&&(e.visibleSlides.push(v),e.visibleSlidesIndexes.push(p)),Ww(v,k,t.slideVisibleClass),Ww(v,z,t.slideFullyVisibleClass),v.progress=o?-E:E,v.originalProgress=o?-N:N}}function Hj(n){const e=this;if(typeof n>"u"){const w=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*w||0}const t=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:c,isEnd:d,progressLoop:_}=e;const p=c,v=d;if(s===0)o=0,c=!0,d=!0;else{o=(n-e.minTranslate())/s;const w=Math.abs(n-e.minTranslate())<1,E=Math.abs(n-e.maxTranslate())<1;c=w||o<=0,d=E||o>=1,w&&(o=0),E&&(o=1)}if(t.loop){const w=e.getSlideIndexByData(0),E=e.getSlideIndexByData(e.slides.length-1),N=e.slidesGrid[w],R=e.slidesGrid[E],j=e.slidesGrid[e.slidesGrid.length-1],z=Math.abs(n);z>=N?_=(z-N)/j:_=(z+j-R)/j,_>1&&(_-=1)}Object.assign(e,{progress:o,progressLoop:_,isBeginning:c,isEnd:d}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),c&&!p&&e.emit("reachBeginning toEdge"),d&&!v&&e.emit("reachEnd toEdge"),(p&&!c||v&&!d)&&e.emit("fromEdge"),e.emit("progress",o)}const qg=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Fj(){const n=this,{slides:e,params:t,slidesEl:s,activeIndex:o}=n,c=n.virtual&&t.virtual.enabled,d=n.grid&&t.grid&&t.grid.rows>1,_=E=>Ir(s,`.${t.slideClass}${E}, swiper-slide${E}`)[0];let p,v,w;if(c)if(t.loop){let E=o-n.virtual.slidesBefore;E<0&&(E=n.virtual.slides.length+E),E>=n.virtual.slides.length&&(E-=n.virtual.slides.length),p=_(`[data-swiper-slide-index="${E}"]`)}else p=_(`[data-swiper-slide-index="${o}"]`);else d?(p=e.find(E=>E.column===o),w=e.find(E=>E.column===o+1),v=e.find(E=>E.column===o-1)):p=e[o];p&&(d||(w=Pj(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!w&&(w=e[0]),v=Ij(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v===0&&(v=e[e.length-1]))),e.forEach(E=>{qg(E,E===p,t.slideActiveClass),qg(E,E===w,t.slideNextClass),qg(E,E===v,t.slidePrevClass)}),n.emitSlidesClasses()}const bf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,s=e.closest(t());if(s){let o=s.querySelector(`.${n.params.lazyPreloaderClass}`);!o&&n.isElement&&(s.shadowRoot?o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),o&&!o.lazyPreloaderManaged&&o.remove())})),o&&!o.lazyPreloaderManaged&&o.remove()}},Hg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Ay=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const s=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),o=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const d=o,_=[d-e];_.push(...Array.from({length:e}).map((p,v)=>d+s+v)),n.slides.forEach((p,v)=>{_.includes(p.column)&&Hg(n,v)});return}const c=o+s-1;if(n.params.rewind||n.params.loop)for(let d=o-e;d<=c+e;d+=1){const _=(d%t+t)%t;(_<o||_>c)&&Hg(n,_)}else for(let d=Math.max(o-e,0);d<=Math.min(c+e,t-1);d+=1)d!==o&&(d>c||d<o)&&Hg(n,d)};function Gj(n){const{slidesGrid:e,params:t}=n,s=n.rtlTranslate?n.translate:-n.translate;let o;for(let c=0;c<e.length;c+=1)typeof e[c+1]<"u"?s>=e[c]&&s<e[c+1]-(e[c+1]-e[c])/2?o=c:s>=e[c]&&s<e[c+1]&&(o=c+1):s>=e[c]&&(o=c);return t.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function Zj(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:o,activeIndex:c,realIndex:d,snapIndex:_}=e;let p=n,v;const w=R=>{let j=R-e.virtual.slidesBefore;return j<0&&(j=e.virtual.slides.length+j),j>=e.virtual.slides.length&&(j-=e.virtual.slides.length),j};if(typeof p>"u"&&(p=Gj(e)),s.indexOf(t)>=0)v=s.indexOf(t);else{const R=Math.min(o.slidesPerGroupSkip,p);v=R+Math.floor((p-R)/o.slidesPerGroup)}if(v>=s.length&&(v=s.length-1),p===c&&!e.params.loop){v!==_&&(e.snapIndex=v,e.emit("snapIndexChange"));return}if(p===c&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=w(p);return}const E=e.grid&&o.grid&&o.grid.rows>1;let N;if(e.virtual&&o.virtual.enabled)o.loop?N=w(p):N=p;else if(E){const R=e.slides.find(z=>z.column===p);let j=parseInt(R.getAttribute("data-swiper-slide-index"),10);Number.isNaN(j)&&(j=Math.max(e.slides.indexOf(R),0)),N=Math.floor(j/o.grid.rows)}else if(e.slides[p]){const R=e.slides[p].getAttribute("data-swiper-slide-index");R?N=parseInt(R,10):N=p}else N=p;Object.assign(e,{previousSnapIndex:_,snapIndex:v,previousRealIndex:d,realIndex:N,previousIndex:c,activeIndex:p}),e.initialized&&Ay(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(d!==N&&e.emit("realIndexChange"),e.emit("slideChange"))}function $j(n,e){const t=this,s=t.params;let o=n.closest(`.${s.slideClass}, swiper-slide`);!o&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(_=>{!o&&_.matches&&_.matches(`.${s.slideClass}, swiper-slide`)&&(o=_)});let c=!1,d;if(o){for(let _=0;_<t.slides.length;_+=1)if(t.slides[_]===o){c=!0,d=_;break}}if(o&&c)t.clickedSlide=o,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Yj={updateSize:Vj,updateSlides:zj,updateAutoHeight:Uj,updateSlidesOffset:Bj,updateSlidesProgress:qj,updateProgress:Hj,updateSlidesClasses:Fj,updateActiveIndex:Zj,updateClickedSlide:$j};function Kj(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:s,translate:o,wrapperEl:c}=e;if(t.virtualTranslate)return s?-o:o;if(t.cssMode)return o;let d=Aj(c,n);return d+=e.cssOverflowAdjustment(),s&&(d=-d),d||0}function Wj(n,e){const t=this,{rtlTranslate:s,params:o,wrapperEl:c,progress:d}=t;let _=0,p=0;const v=0;t.isHorizontal()?_=s?-n:n:p=n,o.roundLengths&&(_=Math.floor(_),p=Math.floor(p)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?_:p,o.cssMode?c[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-_:-p:o.virtualTranslate||(t.isHorizontal()?_-=t.cssOverflowAdjustment():p-=t.cssOverflowAdjustment(),c.style.transform=`translate3d(${_}px, ${p}px, ${v}px)`);let w;const E=t.maxTranslate()-t.minTranslate();E===0?w=0:w=(n-t.minTranslate())/E,w!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function Qj(){return-this.snapGrid[0]}function Xj(){return-this.snapGrid[this.snapGrid.length-1]}function Jj(n=0,e=this.params.speed,t=!0,s=!0,o){const c=this,{params:d,wrapperEl:_}=c;if(c.animating&&d.preventInteractionOnTransition)return!1;const p=c.minTranslate(),v=c.maxTranslate();let w;if(s&&n>p?w=p:s&&n<v?w=v:w=n,c.updateProgress(w),d.cssMode){const E=c.isHorizontal();if(e===0)_[E?"scrollLeft":"scrollTop"]=-w;else{if(!c.support.smoothScroll)return PS({swiper:c,targetPosition:-w,side:E?"left":"top"}),!0;_.scrollTo({[E?"left":"top"]:-w,behavior:"smooth"})}return!0}return e===0?(c.setTransition(0),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionEnd"))):(c.setTransition(e),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(N){!c||c.destroyed||N.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,c.animating=!1,t&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}var e3={getTranslate:Kj,setTranslate:Wj,minTranslate:Qj,maxTranslate:Xj,translateTo:Jj};function t3(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function kS({swiper:n,runCallbacks:e,direction:t,step:s}){const{activeIndex:o,previousIndex:c}=n;let d=t;d||(o>c?d="next":o<c?d="prev":d="reset"),n.emit(`transition${s}`),e&&d==="reset"?n.emit(`slideResetTransition${s}`):e&&o!==c&&(n.emit(`slideChangeTransition${s}`),d==="next"?n.emit(`slideNextTransition${s}`):n.emit(`slidePrevTransition${s}`))}function n3(n=!0,e){const t=this,{params:s}=t;s.cssMode||(s.autoHeight&&t.updateAutoHeight(),kS({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function i3(n=!0,e){const t=this,{params:s}=t;t.animating=!1,!s.cssMode&&(t.setTransition(0),kS({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var s3={setTransition:t3,transitionStart:n3,transitionEnd:i3};function r3(n=0,e,t=!0,s,o){typeof n=="string"&&(n=parseInt(n,10));const c=this;let d=n;d<0&&(d=0);const{params:_,snapGrid:p,slidesGrid:v,previousIndex:w,activeIndex:E,rtlTranslate:N,wrapperEl:R,enabled:j}=c;if(!j&&!s&&!o||c.destroyed||c.animating&&_.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=c.params.speed);const z=Math.min(c.params.slidesPerGroupSkip,d);let k=z+Math.floor((d-z)/c.params.slidesPerGroup);k>=p.length&&(k=p.length-1);const O=-p[k];if(_.normalizeSlideIndex)for(let B=0;B<v.length;B+=1){const I=-Math.floor(O*100),Z=Math.floor(v[B]*100),F=Math.floor(v[B+1]*100);typeof v[B+1]<"u"?I>=Z&&I<F-(F-Z)/2?d=B:I>=Z&&I<F&&(d=B+1):I>=Z&&(d=B)}if(c.initialized&&d!==E&&(!c.allowSlideNext&&(N?O>c.translate&&O>c.minTranslate():O<c.translate&&O<c.minTranslate())||!c.allowSlidePrev&&O>c.translate&&O>c.maxTranslate()&&(E||0)!==d))return!1;d!==(w||0)&&t&&c.emit("beforeSlideChangeStart"),c.updateProgress(O);let q;d>E?q="next":d<E?q="prev":q="reset";const $=c.virtual&&c.params.virtual.enabled;if(!($&&o)&&(N&&-O===c.translate||!N&&O===c.translate))return c.updateActiveIndex(d),_.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),_.effect!=="slide"&&c.setTranslate(O),q!=="reset"&&(c.transitionStart(t,q),c.transitionEnd(t,q)),!1;if(_.cssMode){const B=c.isHorizontal(),I=N?O:-O;if(e===0)$&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),$&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{R[B?"scrollLeft":"scrollTop"]=I})):R[B?"scrollLeft":"scrollTop"]=I,$&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1});else{if(!c.support.smoothScroll)return PS({swiper:c,targetPosition:I,side:B?"left":"top"}),!0;R.scrollTo({[B?"left":"top"]:I,behavior:"smooth"})}return!0}const ye=DS().isSafari;return $&&!o&&ye&&c.isElement&&c.virtual.update(!1,!1,d),c.setTransition(e),c.setTranslate(O),c.updateActiveIndex(d),c.updateSlidesClasses(),c.emit("beforeTransitionStart",e,s),c.transitionStart(t,q),e===0?c.transitionEnd(t,q):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(I){!c||c.destroyed||I.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(t,q))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0}function a3(n=0,e,t=!0,s){typeof n=="string"&&(n=parseInt(n,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const c=o.grid&&o.params.grid&&o.params.grid.rows>1;let d=n;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)d=d+o.virtual.slidesBefore;else{let _;if(c){const z=d*o.params.grid.rows;_=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===z).column}else _=o.getSlideIndexByData(d);const p=c?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:v,slidesOffsetBefore:w,slidesOffsetAfter:E}=o.params,N=v||!!w||!!E;let R=o.params.slidesPerView;R==="auto"?R=o.slidesPerViewDynamic():(R=Math.ceil(parseFloat(o.params.slidesPerView,10)),N&&R%2===0&&(R=R+1));let j=p-_<R;if(N&&(j=j||_<Math.ceil(R/2)),s&&N&&o.params.slidesPerView!=="auto"&&!c&&(j=!1),j){const z=N?_<o.activeIndex?"prev":"next":_-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:z,slideTo:!0,activeSlideIndex:z==="next"?_+1:_-p+1,slideRealIndex:z==="next"?o.realIndex:void 0})}if(c){const z=d*o.params.grid.rows;d=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===z).column}else d=o.getSlideIndexByData(d)}return requestAnimationFrame(()=>{o.slideTo(d,e,t,s)}),o}function o3(n,e=!0,t){const s=this,{enabled:o,params:c,animating:d}=s;if(!o||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);let _=c.slidesPerGroup;c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(_=Math.max(s.slidesPerViewDynamic("current",!0),1));const p=s.activeIndex<c.slidesPerGroupSkip?1:_,v=s.virtual&&c.virtual.enabled;if(c.loop){if(d&&!v&&c.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&c.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+p,n,e,t)}),!0}return c.rewind&&s.isEnd?s.slideTo(0,n,e,t):s.slideTo(s.activeIndex+p,n,e,t)}function l3(n,e=!0,t){const s=this,{params:o,snapGrid:c,slidesGrid:d,rtlTranslate:_,enabled:p,animating:v}=s;if(!p||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);const w=s.virtual&&o.virtual.enabled;if(o.loop){if(v&&!w&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const E=_?s.translate:-s.translate;function N(q){return q<0?-Math.floor(Math.abs(q)):Math.floor(q)}const R=N(E),j=c.map(q=>N(q)),z=o.freeMode&&o.freeMode.enabled;let k=c[j.indexOf(R)-1];if(typeof k>"u"&&(o.cssMode||z)){let q;c.forEach(($,ee)=>{R>=$&&(q=ee)}),typeof q<"u"&&(k=z?c[q]:c[q>0?q-1:q])}let O=0;if(typeof k<"u"&&(O=d.indexOf(k),O<0&&(O=s.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(O=O-s.slidesPerViewDynamic("previous",!0)+1,O=Math.max(O,0))),o.rewind&&s.isBeginning){const q=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(q,n,e,t)}else if(o.loop&&s.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(O,n,e,t)}),!0;return s.slideTo(O,n,e,t)}function c3(n,e=!0,t){const s=this;if(!s.destroyed)return typeof n>"u"&&(n=s.params.speed),s.slideTo(s.activeIndex,n,e,t)}function u3(n,e=!0,t,s=.5){const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);let c=o.activeIndex;const d=Math.min(o.params.slidesPerGroupSkip,c),_=d+Math.floor((c-d)/o.params.slidesPerGroup),p=o.rtlTranslate?o.translate:-o.translate;if(p>=o.snapGrid[_]){const v=o.snapGrid[_],w=o.snapGrid[_+1];p-v>(w-v)*s&&(c+=o.params.slidesPerGroup)}else{const v=o.snapGrid[_-1],w=o.snapGrid[_];p-v<=(w-v)*s&&(c-=o.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,o.slidesGrid.length-1),o.slideTo(c,n,e,t)}function h3(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,s=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let o=n.getSlideIndexWhenGrid(n.clickedIndex),c;const d=n.isElement?"swiper-slide":`.${e.slideClass}`,_=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;c=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(c):o>(_?(n.slides.length-s)/2-(n.params.grid.rows-1):n.slides.length-s)?(n.loopFix(),o=n.getSlideIndex(Ir(t,`${d}[data-swiper-slide-index="${c}"]`)[0]),IS(()=>{n.slideTo(o)})):n.slideTo(o)}else n.slideTo(o)}var d3={slideTo:r3,slideToLoop:a3,slideNext:o3,slidePrev:l3,slideReset:c3,slideToClosest:u3,slideToClickedSlide:h3};function f3(n,e){const t=this,{params:s,slidesEl:o}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;const c=()=>{Ir(o,`.${s.slideClass}, swiper-slide`).forEach((j,z)=>{j.setAttribute("data-swiper-slide-index",z)})},d=()=>{const R=Ir(o,`.${s.slideBlankClass}`);R.forEach(j=>{j.remove()}),R.length>0&&(t.recalcSlides(),t.updateSlides())},_=t.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||_)&&d();const p=s.slidesPerGroup*(_?s.grid.rows:1),v=t.slides.length%p!==0,w=_&&t.slides.length%s.grid.rows!==0,E=R=>{for(let j=0;j<R;j+=1){const z=t.isElement?Wf("swiper-slide",[s.slideBlankClass]):Wf("div",[s.slideClass,s.slideBlankClass]);t.slidesEl.append(z)}};if(v){if(s.loopAddBlankSlides){const R=p-t.slides.length%p;E(R),t.recalcSlides(),t.updateSlides()}else Kf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else if(w){if(s.loopAddBlankSlides){const R=s.grid.rows-t.slides.length%s.grid.rows;E(R),t.recalcSlides(),t.updateSlides()}else Kf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else c();const N=s.centeredSlides||!!s.slidesOffsetBefore||!!s.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:N?void 0:"next",initial:e})}function m3({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:s,activeSlideIndex:o,initial:c,byController:d,byMousewheel:_}={}){const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:v,allowSlidePrev:w,allowSlideNext:E,slidesEl:N,params:R}=p,{centeredSlides:j,slidesOffsetBefore:z,slidesOffsetAfter:k,initialSlide:O}=R,q=j||!!z||!!k;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&R.virtual.enabled){e&&(!q&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):q&&p.snapIndex<R.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=E,p.emit("loopFix");return}let $=R.slidesPerView;$==="auto"?$=p.slidesPerViewDynamic():($=Math.ceil(parseFloat(R.slidesPerView,10)),q&&$%2===0&&($=$+1));const ee=R.slidesPerGroupAuto?$:R.slidesPerGroup;let ne=q?Math.max(ee,Math.ceil($/2)):ee;ne%ee!==0&&(ne+=ee-ne%ee),ne+=R.loopAdditionalSlides,p.loopedSlides=ne;const ye=p.grid&&R.grid&&R.grid.rows>1;v.length<$+ne||p.params.effect==="cards"&&v.length<$+ne*2?Kf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):ye&&R.grid.fill==="row"&&Kf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const B=[],I=[],Z=ye?Math.ceil(v.length/R.grid.rows):v.length,F=c&&Z-O<$&&!q;let H=F?O:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(v.find(ae=>ae.classList.contains(R.slideActiveClass))):H=o;const Y=t==="next"||!t,G=t==="prev"||!t;let de=0,Ne=0;const Se=(ye?v[o].column:o)+(q&&typeof s>"u"?-$/2+.5:0);if(Se<ne){de=Math.max(ne-Se,ee);for(let ae=0;ae<ne-Se;ae+=1){const ge=ae-Math.floor(ae/Z)*Z;if(ye){const pe=Z-ge-1;for(let D=v.length-1;D>=0;D-=1)v[D].column===pe&&B.push(D)}else B.push(Z-ge-1)}}else if(Se+$>Z-ne){Ne=Math.max(Se-(Z-ne*2),ee),F&&(Ne=Math.max(Ne,$-Z+O+1));for(let ae=0;ae<Ne;ae+=1){const ge=ae-Math.floor(ae/Z)*Z;ye?v.forEach((pe,D)=>{pe.column===ge&&I.push(D)}):I.push(ge)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&v.length<$+ne*2&&(I.includes(o)&&I.splice(I.indexOf(o),1),B.includes(o)&&B.splice(B.indexOf(o),1)),G&&B.forEach(ae=>{v[ae].swiperLoopMoveDOM=!0,N.prepend(v[ae]),v[ae].swiperLoopMoveDOM=!1}),Y&&I.forEach(ae=>{v[ae].swiperLoopMoveDOM=!0,N.append(v[ae]),v[ae].swiperLoopMoveDOM=!1}),p.recalcSlides(),R.slidesPerView==="auto"?p.updateSlides():ye&&(B.length>0&&G||I.length>0&&Y)&&p.slides.forEach((ae,ge)=>{p.grid.updateSlide(ge,ae,p.slides)}),R.watchSlidesProgress&&p.updateSlidesOffset(),e){if(B.length>0&&G){if(typeof n>"u"){const ae=p.slidesGrid[H],pe=p.slidesGrid[H+de]-ae;_?p.setTranslate(p.translate-pe):(p.slideTo(H+Math.ceil(de),0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-pe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-pe))}else if(s){const ae=ye?B.length/R.grid.rows:B.length;p.slideTo(p.activeIndex+ae,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(I.length>0&&Y)if(typeof n>"u"){const ae=p.slidesGrid[H],pe=p.slidesGrid[H-Ne]-ae;_?p.setTranslate(p.translate-pe):(p.slideTo(H-Ne,0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-pe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-pe))}else{const ae=ye?I.length/R.grid.rows:I.length;p.slideTo(p.activeIndex-ae,0,!1,!0)}}if(p.allowSlidePrev=w,p.allowSlideNext=E,p.controller&&p.controller.control&&!d){const ae={slideRealIndex:n,direction:t,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(ge=>{!ge.destroyed&&ge.params.loop&&ge.loopFix({...ae,slideTo:ge.params.slidesPerView===R.slidesPerView?e:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...ae,slideTo:p.controller.control.params.slidesPerView===R.slidesPerView?e:!1})}p.emit("loopFix")}function p3(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const s=[];n.slides.forEach(o=>{const c=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;s[c]=o}),n.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),s.forEach(o=>{t.append(o)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var g3={loopCreate:f3,loopFix:m3,loopDestroy:p3};function y3(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function _3(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var v3={setGrabCursor:y3,unsetGrabCursor:_3};function b3(n,e=this){function t(s){if(!s||s===Kl()||s===pi())return null;s.assignedSlot&&(s=s.assignedSlot);const o=s.closest(n);return!o&&!s.getRootNode?null:o||t(s.getRootNode().host)}return t(e)}function Qw(n,e,t){const s=pi(),{params:o}=n,c=o.edgeSwipeDetection,d=o.edgeSwipeThreshold;return c&&(t<=d||t>=s.innerWidth-d)?c==="prevent"?(e.preventDefault(),!0):!1:!0}function x3(n){const e=this,t=Kl();let s=n;s.originalEvent&&(s=s.originalEvent);const o=e.touchEventsData;if(s.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(o.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){Qw(e,s,s.targetTouches[0].pageX);return}const{params:c,touches:d,enabled:_}=e;if(!_||!c.simulateTouch&&s.pointerType==="mouse"||e.animating&&c.preventInteractionOnTransition)return;!e.animating&&c.cssMode&&c.loop&&e.loopFix();let p=s.target;if(c.touchEventsTarget==="wrapper"&&!Rj(p,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||o.isTouched&&o.isMoved)return;const v=!!c.noSwipingClass&&c.noSwipingClass!=="",w=s.composedPath?s.composedPath():s.path;v&&s.target&&s.target.shadowRoot&&w&&(p=w[0]);const E=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`,N=!!(s.target&&s.target.shadowRoot);if(c.noSwiping&&(N?b3(E,p):p.closest(E))){e.allowClick=!0;return}if(c.swipeHandler&&!p.closest(c.swipeHandler))return;d.currentX=s.pageX,d.currentY=s.pageY;const R=d.currentX,j=d.currentY;if(!Qw(e,s,R))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=R,d.startY=j,o.touchStartTime=Yf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,c.threshold>0&&(o.allowThresholdMove=!1);let z=!0;p.matches(o.focusableElements)&&(z=!1,p.nodeName==="SELECT"&&(o.isTouched=!1)),t.activeElement&&t.activeElement.matches(o.focusableElements)&&t.activeElement!==p&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!p.matches(o.focusableElements))&&t.activeElement.blur();const k=z&&e.allowTouchMove&&c.touchStartPreventDefault;(c.touchStartForcePreventDefault||k)&&!p.isContentEditable&&s.preventDefault(),c.freeMode&&c.freeMode.enabled&&e.freeMode&&e.animating&&!c.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function w3(n){const e=Kl(),t=this,s=t.touchEventsData,{params:o,touches:c,rtlTranslate:d,enabled:_}=t;if(!_||!o.simulateTouch&&n.pointerType==="mouse")return;let p=n;if(p.originalEvent&&(p=p.originalEvent),p.type==="pointermove"&&(s.touchId!==null||p.pointerId!==s.pointerId))return;let v;if(p.type==="touchmove"){if(v=[...p.changedTouches].find(ne=>ne.identifier===s.touchId),!v||v.identifier!==s.touchId)return}else v=p;if(!s.isTouched){s.startMoving&&s.isScrolling&&t.emit("touchMoveOpposite",p);return}const w=v.pageX,E=v.pageY;if(p.preventedByNestedSwiper){c.startX=w,c.startY=E;return}if(!t.allowTouchMove){p.target.matches(s.focusableElements)||(t.allowClick=!1),s.isTouched&&(Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E}),s.touchStartTime=Yf());return}if(o.touchReleaseOnEdges&&!o.loop)if(t.isVertical()){if(E<c.startY&&t.translate<=t.maxTranslate()||E>c.startY&&t.translate>=t.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(d&&(w>c.startX&&-t.translate<=t.maxTranslate()||w<c.startX&&-t.translate>=t.minTranslate()))return;if(!d&&(w<c.startX&&t.translate<=t.maxTranslate()||w>c.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==p.target&&p.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&p.target===e.activeElement&&p.target.matches(s.focusableElements)){s.isMoved=!0,t.allowClick=!1;return}s.allowTouchCallbacks&&t.emit("touchMove",p),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=w,c.currentY=E;const N=c.currentX-c.startX,R=c.currentY-c.startY;if(t.params.threshold&&Math.sqrt(N**2+R**2)<t.params.threshold)return;if(typeof s.isScrolling>"u"){let ne;t.isHorizontal()&&c.currentY===c.startY||t.isVertical()&&c.currentX===c.startX?s.isScrolling=!1:N*N+R*R>=25&&(ne=Math.atan2(Math.abs(R),Math.abs(N))*180/Math.PI,s.isScrolling=t.isHorizontal()?ne>o.touchAngle:90-ne>o.touchAngle)}if(s.isScrolling&&t.emit("touchMoveOpposite",p),typeof s.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(s.startMoving=!0),s.isScrolling||p.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;t.allowClick=!1,!o.cssMode&&p.cancelable&&p.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&p.stopPropagation();let j=t.isHorizontal()?N:R,z=t.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;o.oneWayMovement&&(j=Math.abs(j)*(d?1:-1),z=Math.abs(z)*(d?1:-1)),c.diff=j,j*=o.touchRatio,d&&(j=-j,z=-z);const k=t.touchesDirection;t.swipeDirection=j>0?"prev":"next",t.touchesDirection=z>0?"prev":"next";const O=t.params.loop&&!o.cssMode,q=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!s.isMoved){if(O&&q&&t.loopFix({direction:t.swipeDirection}),s.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const ne=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ne)}s.allowMomentumBounce=!1,o.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",p)}if(new Date().getTime(),o._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&k!==t.touchesDirection&&O&&q&&Math.abs(j)>=1){Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}t.emit("sliderMove",p),s.isMoved=!0,s.currentTranslate=j+s.startTranslate;let $=!0,ee=o.resistanceRatio;if(o.touchReleaseOnEdges&&(ee=0),j>0?(O&&q&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>t.minTranslate()&&($=!1,o.resistance&&(s.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+s.startTranslate+j)**ee))):j<0&&(O&&q&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(o.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<t.maxTranslate()&&($=!1,o.resistance&&(s.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-s.startTranslate-j)**ee))),$&&(p.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0)if(Math.abs(j)>o.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,s.currentTranslate=s.startTranslate,c.diff=t.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY;return}}else{s.currentTranslate=s.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&t.freeMode||o.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(s.currentTranslate),t.setTranslate(s.currentTranslate))}function E3(n){const e=this,t=e.touchEventsData;let s=n;s.originalEvent&&(s=s.originalEvent);let o;if(s.type==="touchend"||s.type==="touchcancel"){if(o=[...s.changedTouches].find(ne=>ne.identifier===t.touchId),!o||o.identifier!==t.touchId)return}else{if(t.touchId!==null||s.pointerId!==t.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:d,touches:_,rtlTranslate:p,slidesGrid:v,enabled:w}=e;if(!w||!d.simulateTouch&&s.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",s),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&d.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}d.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const E=Yf(),N=E-t.touchStartTime;if(e.allowClick){const ne=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(ne&&ne[0]||s.target,ne),e.emit("tap click",s),N<300&&E-t.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(t.lastClickTime=Yf(),IS(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||_.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let R;if(d.followFinger?R=p?e.translate:-e.translate:R=-t.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:R});return}const j=R>=-e.maxTranslate()&&!e.params.loop;let z=0,k=e.slidesSizesGrid[0];for(let ne=0;ne<v.length;ne+=ne<d.slidesPerGroupSkip?1:d.slidesPerGroup){const ye=ne<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof v[ne+ye]<"u"?(j||R>=v[ne]&&R<v[ne+ye])&&(z=ne,k=v[ne+ye]-v[ne]):(j||R>=v[ne])&&(z=ne,k=v[v.length-1]-v[v.length-2])}let O=null,q=null;d.rewind&&(e.isBeginning?q=d.virtual&&d.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(O=0));const $=(R-v[z])/k,ee=z<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(N>d.longSwipesMs){if(!d.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&($>=d.longSwipesRatio?e.slideTo(d.rewind&&e.isEnd?O:z+ee):e.slideTo(z)),e.swipeDirection==="prev"&&($>1-d.longSwipesRatio?e.slideTo(z+ee):q!==null&&$<0&&Math.abs($)>d.longSwipesRatio?e.slideTo(q):e.slideTo(z))}else{if(!d.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(z+ee):e.slideTo(z):(e.swipeDirection==="next"&&e.slideTo(O!==null?O:z+ee),e.swipeDirection==="prev"&&e.slideTo(q!==null?q:z))}}function Xw(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:c}=n,d=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const _=d&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!_?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!d?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=o,n.allowSlideNext=s,n.params.watchOverflow&&c!==n.snapGrid&&n.checkOverflow()}function T3(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function S3(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:s}=n;if(!s)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let o;const c=n.maxTranslate()-n.minTranslate();c===0?o=0:o=(n.translate-n.minTranslate())/c,o!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function A3(n){const e=this;bf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function C3(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const jS=(n,e)=>{const t=Kl(),{params:s,el:o,wrapperEl:c,device:d}=n,_=!!s.nested,p=e==="on"?"addEventListener":"removeEventListener",v=e;!o||typeof o=="string"||(t[p]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:_}),o[p]("touchstart",n.onTouchStart,{passive:!1}),o[p]("pointerdown",n.onTouchStart,{passive:!1}),t[p]("touchmove",n.onTouchMove,{passive:!1,capture:_}),t[p]("pointermove",n.onTouchMove,{passive:!1,capture:_}),t[p]("touchend",n.onTouchEnd,{passive:!0}),t[p]("pointerup",n.onTouchEnd,{passive:!0}),t[p]("pointercancel",n.onTouchEnd,{passive:!0}),t[p]("touchcancel",n.onTouchEnd,{passive:!0}),t[p]("pointerout",n.onTouchEnd,{passive:!0}),t[p]("pointerleave",n.onTouchEnd,{passive:!0}),t[p]("contextmenu",n.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[p]("click",n.onClick,!0),s.cssMode&&c[p]("scroll",n.onScroll),s.updateOnWindowResize?n[v](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",Xw,!0):n[v]("observerUpdate",Xw,!0),o[p]("load",n.onLoad,{capture:!0}))};function N3(){const n=this,{params:e}=n;n.onTouchStart=x3.bind(n),n.onTouchMove=w3.bind(n),n.onTouchEnd=E3.bind(n),n.onDocumentTouchStart=C3.bind(n),e.cssMode&&(n.onScroll=S3.bind(n)),n.onClick=T3.bind(n),n.onLoad=A3.bind(n),jS(n,"on")}function R3(){jS(this,"off")}var I3={attachEvents:N3,detachEvents:R3};const Jw=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function P3(){const n=this,{realIndex:e,initialized:t,params:s,el:o}=n,c=s.breakpoints;if(!c||c&&Object.keys(c).length===0)return;const d=Kl(),_=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",p=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?n.el:d.querySelector(s.breakpointsBase),v=n.getBreakpoint(c,_,p);if(!v||n.currentBreakpoint===v)return;const E=(v in c?c[v]:void 0)||n.originalParams,N=Jw(n,s),R=Jw(n,E),j=n.params.grabCursor,z=E.grabCursor,k=s.enabled;N&&!R?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),n.emitContainerClasses()):!N&&R&&(o.classList.add(`${s.containerModifierClass}grid`),(E.grid.fill&&E.grid.fill==="column"||!E.grid.fill&&s.grid.fill==="column")&&o.classList.add(`${s.containerModifierClass}grid-column`),n.emitContainerClasses()),j&&!z?n.unsetGrabCursor():!j&&z&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ye=>{if(typeof E[ye]>"u")return;const B=s[ye]&&s[ye].enabled,I=E[ye]&&E[ye].enabled;B&&!I&&n[ye].disable(),!B&&I&&n[ye].enable()});const O=E.direction&&E.direction!==s.direction,q=s.loop&&(E.slidesPerView!==s.slidesPerView||O),$=s.loop;O&&t&&n.changeDirection(),is(n.params,E);const ee=n.params.enabled,ne=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),k&&!ee?n.disable():!k&&ee&&n.enable(),n.currentBreakpoint=v,n.emit("_beforeBreakpoint",E),t&&(q?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!$&&ne?(n.loopCreate(e),n.updateSlides()):$&&!ne&&n.loopDestroy()),n.emit("breakpoint",E)}function M3(n,e="window",t){if(!n||e==="container"&&!t)return;let s=!1;const o=pi(),c=e==="window"?o.innerHeight:t.clientHeight,d=Object.keys(n).map(_=>{if(typeof _=="string"&&_.indexOf("@")===0){const p=parseFloat(_.substr(1));return{value:c*p,point:_}}return{value:_,point:_}});d.sort((_,p)=>parseInt(_.value,10)-parseInt(p.value,10));for(let _=0;_<d.length;_+=1){const{point:p,value:v}=d[_];e==="window"?o.matchMedia(`(min-width: ${v}px)`).matches&&(s=p):v<=t.clientWidth&&(s=p)}return s||"max"}var L3={setBreakpoint:P3,getBreakpoint:M3};function O3(n,e){const t=[];return n.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(o=>{s[o]&&t.push(e+o)}):typeof s=="string"&&t.push(e+s)}),t}function D3(){const n=this,{classNames:e,params:t,rtl:s,el:o,device:c}=n,d=O3(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:s},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:c.android},{ios:c.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),o.classList.add(...e),n.emitContainerClasses()}function k3(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var j3={addClasses:D3,removeClasses:k3};function V3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:s}=t;if(s){const o=n.slides.length-1,c=n.slidesGrid[o]+n.slidesSizesGrid[o]+s*2;n.isLocked=n.size>c}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var z3={checkOverflow:V3},Cy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function U3(n,e){return function(s={}){const o=Object.keys(s)[0],c=s[o];if(typeof c!="object"||c===null){is(e,s);return}if(n[o]===!0&&(n[o]={enabled:!0}),o==="navigation"&&n[o]&&n[o].enabled&&!n[o].prevEl&&!n[o].nextEl&&(n[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&n[o]&&n[o].enabled&&!n[o].el&&(n[o].auto=!0),!(o in n&&"enabled"in c)){is(e,s);return}typeof n[o]=="object"&&!("enabled"in n[o])&&(n[o].enabled=!0),n[o]||(n[o]={enabled:!1}),is(e,s)}}const Fg={eventsEmitter:jj,update:Yj,translate:e3,transition:s3,slide:d3,loop:g3,grabCursor:v3,events:I3,breakpoints:L3,checkOverflow:z3,classes:j3},Gg={};let G_=class fa{constructor(...e){let t,s;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?s=e[0]:[t,s]=e,s||(s={}),s=is({},s),t&&!s.el&&(s.el=t);const o=Kl();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){const p=[];return o.querySelectorAll(s.el).forEach(v=>{const w=is({},s,{el:v});p.push(new fa(w))}),p}const c=this;c.__swiper__=!0,c.support=LS(),c.device=OS({userAgent:s.userAgent}),c.browser=DS(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],s.modules&&Array.isArray(s.modules)&&c.modules.push(...s.modules);const d={};c.modules.forEach(p=>{p({params:s,swiper:c,extendParams:U3(s,d),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const _=is({},Cy,d);return c.params=is({},_,Gg,s),c.originalParams=is({},c.params),c.passedParams=is({},s),c.params&&c.params.on&&Object.keys(c.params.on).forEach(p=>{c.on(p,c.params.on[p])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,o=Ir(t,`.${s.slideClass}, swiper-slide`),c=Qf(o[0]);return Qf(e)-c}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:s}=e;e.slides=Ir(t,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const o=s.minTranslate(),d=(s.maxTranslate()-o)*e+o;s.translateTo(d,typeof t>"u"?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const o=e.getSlideClasses(s);t.push({slideEl:s,classNames:o}),e.emit("_slideClass",s,o)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const s=this,{params:o,slides:c,slidesGrid:d,slidesSizesGrid:_,size:p,activeIndex:v}=s;let w=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let E=c[v]?Math.ceil(c[v].swiperSlideSize):0,N;for(let R=v+1;R<c.length;R+=1)c[R]&&!N&&(E+=Math.ceil(c[R].swiperSlideSize),w+=1,E>p&&(N=!0));for(let R=v-1;R>=0;R-=1)c[R]&&!N&&(E+=c[R].swiperSlideSize,w+=1,E>p&&(N=!0))}else if(e==="current")for(let E=v+1;E<c.length;E+=1)(t?d[E]+_[E]-d[v]<p:d[E]-d[v]<p)&&(w+=1);else for(let E=v-1;E>=0;E-=1)d[v]-d[E]<p&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&bf(e,d)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const d=e.rtlTranslate?e.translate*-1:e.translate,_=Math.min(Math.max(d,e.maxTranslate()),e.minTranslate());e.setTranslate(_),e.updateActiveIndex(),e.updateSlidesClasses()}let c;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)o(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const d=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;c=e.slideTo(d.length-1,0,!1,!0)}else c=e.slideTo(e.activeIndex,0,!1,!0);c||o()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,o=s.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${o}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(c=>{e==="vertical"?c.style.width="":c.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const o=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(o()):Ir(s,o())[0];return!d&&t.params.createElements&&(d=Wf("div",t.params.wrapperClass),s.append(d),Ir(s,`.${t.params.slideClass}`).forEach(_=>{d.append(_)})),Object.assign(t,{el:s,wrapperEl:d,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:d,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||So(s,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||So(s,"direction")==="rtl"),wrongRTL:So(d,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const o=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&o.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(c=>{c.complete?bf(t,c):c.addEventListener("load",d=>{bf(t,d.target)})}),Ay(t),t.initialized=!0,Ay(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const s=this,{params:o,el:c,wrapperEl:d,slides:_}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),t&&(s.removeClasses(),c&&typeof c!="string"&&c.removeAttribute("style"),d&&d.removeAttribute("style"),_&&_.length&&_.forEach(p=>{p.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(p=>{s.off(p)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),Tj(s)),s.destroyed=!0),null}static extendDefaults(e){is(Gg,e)}static get extendedDefaults(){return Gg}static get defaults(){return Cy}static installModule(e){fa.prototype.__modules__||(fa.prototype.__modules__=[]);const t=fa.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>fa.installModule(t)),fa):(fa.installModule(e),fa)}};Object.keys(Fg).forEach(n=>{Object.keys(Fg[n]).forEach(e=>{G_.prototype[e]=Fg[n][e]})});G_.use([Dj,kj]);const VS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Hl(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Gc(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Hl(e[s])&&Hl(n[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?n[s]=e[s]:Gc(n[s],e[s]):n[s]=e[s]})}function zS(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function US(n={}){return n.pagination&&typeof n.pagination.el>"u"}function BS(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function qS(n=""){const e=n.split(" ").map(s=>s.trim()).filter(s=>!!s),t=[];return e.forEach(s=>{t.indexOf(s)<0&&t.push(s)}),t.join(" ")}function B3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function q3({swiper:n,slides:e,passedParams:t,changedParams:s,nextEl:o,prevEl:c,scrollbarEl:d,paginationEl:_}){const p=s.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:v,pagination:w,navigation:E,scrollbar:N,virtual:R,thumbs:j}=n;let z,k,O,q,$,ee,ne,ye;s.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(z=!0),s.includes("controller")&&t.controller&&t.controller.control&&v.controller&&!v.controller.control&&(k=!0),s.includes("pagination")&&t.pagination&&(t.pagination.el||_)&&(v.pagination||v.pagination===!1)&&w&&!w.el&&(O=!0),s.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||d)&&(v.scrollbar||v.scrollbar===!1)&&N&&!N.el&&(q=!0),s.includes("navigation")&&t.navigation&&(t.navigation.prevEl||c)&&(t.navigation.nextEl||o)&&(v.navigation||v.navigation===!1)&&E&&!E.prevEl&&!E.nextEl&&($=!0);const B=I=>{n[I]&&(n[I].destroy(),I==="navigation"?(n.isElement&&(n[I].prevEl.remove(),n[I].nextEl.remove()),v[I].prevEl=void 0,v[I].nextEl=void 0,n[I].prevEl=void 0,n[I].nextEl=void 0):(n.isElement&&n[I].el.remove(),v[I].el=void 0,n[I].el=void 0))};s.includes("loop")&&n.isElement&&(v.loop&&!t.loop?ee=!0:!v.loop&&t.loop?ne=!0:ye=!0),p.forEach(I=>{if(Hl(v[I])&&Hl(t[I]))Object.assign(v[I],t[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in t[I]&&!t[I].enabled&&B(I);else{const Z=t[I];(Z===!0||Z===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?Z===!1&&B(I):v[I]=t[I]}}),p.includes("controller")&&!k&&n.controller&&n.controller.control&&v.controller&&v.controller.control&&(n.controller.control=v.controller.control),s.includes("children")&&e&&R&&v.virtual.enabled?(R.slides=e,R.update(!0)):s.includes("virtual")&&R&&v.virtual.enabled&&(e&&(R.slides=e),R.update(!0)),s.includes("children")&&e&&v.loop&&(ye=!0),z&&j.init()&&j.update(!0),k&&(n.controller.control=v.controller.control),O&&(n.isElement&&(!_||typeof _=="string")&&(_=document.createElement("div"),_.classList.add("swiper-pagination"),_.part.add("pagination"),n.el.appendChild(_)),_&&(v.pagination.el=_),w.init(),w.render(),w.update()),q&&(n.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),n.el.appendChild(d)),d&&(v.scrollbar.el=d),N.init(),N.updateSize(),N.setTranslate()),$&&(n.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Ch(o,n.navigation.arrowSvg),o.part.add("button-next"),n.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),Ch(c,n.navigation.arrowSvg),c.part.add("button-prev"),n.el.appendChild(c))),o&&(v.navigation.nextEl=o),c&&(v.navigation.prevEl=c),E.init(),E.update()),s.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),s.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),s.includes("direction")&&n.changeDirection(t.direction,!1),(ee||ye)&&n.loopDestroy(),(ne||ye)&&n.loopCreate(),n.update()}function H3(n={},e=!0){const t={on:{}},s={},o={};Gc(t,Cy),t._emitClasses=!0,t.init=!1;const c={},d=VS.map(p=>p.replace(/_/,"")),_=Object.assign({},n);return Object.keys(_).forEach(p=>{typeof n[p]>"u"||(d.indexOf(p)>=0?Hl(n[p])?(t[p]={},o[p]={},Gc(t[p],n[p]),Gc(o[p],n[p])):(t[p]=n[p],o[p]=n[p]):p.search(/on[A-Z]/)===0&&typeof n[p]=="function"?e?s[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:t.on[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:c[p]=n[p])}),["navigation","pagination","scrollbar"].forEach(p=>{t[p]===!0&&(t[p]={}),t[p]===!1&&delete t[p]}),{params:t,passedParams:o,rest:c,events:s}}function F3({el:n,nextEl:e,prevEl:t,paginationEl:s,scrollbarEl:o,swiper:c},d){zS(d)&&e&&t&&(c.params.navigation.nextEl=e,c.originalParams.navigation.nextEl=e,c.params.navigation.prevEl=t,c.originalParams.navigation.prevEl=t),US(d)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),BS(d)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(n)}function G3(n,e,t,s,o){const c=[];if(!e)return c;const d=p=>{c.indexOf(p)<0&&c.push(p)};if(t&&s){const p=s.map(o),v=t.map(o);p.join("")!==v.join("")&&d("children"),s.length!==t.length&&d("children")}return VS.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in n&&p in e)if(Hl(n[p])&&Hl(e[p])){const v=Object.keys(n[p]),w=Object.keys(e[p]);v.length!==w.length?d(p):(v.forEach(E=>{n[p][E]!==e[p][E]&&d(p)}),w.forEach(E=>{n[p][E]!==e[p][E]&&d(p)}))}else n[p]!==e[p]&&d(p)}),c}const Z3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Xf(){return Xf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Xf.apply(this,arguments)}function HS(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function FS(n){const e=[];return an.Children.toArray(n).forEach(t=>{HS(t)?e.push(t):t.props&&t.props.children&&FS(t.props.children).forEach(s=>e.push(s))}),e}function $3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return an.Children.toArray(n).forEach(s=>{if(HS(s))e.push(s);else if(s.props&&s.props.slot&&t[s.props.slot])t[s.props.slot].push(s);else if(s.props&&s.props.children){const o=FS(s.props.children);o.length>0?o.forEach(c=>e.push(c)):t["container-end"].push(s)}else t["container-end"].push(s)}),{slides:e,slots:t}}function Y3(n,e,t){if(!t)return null;const s=w=>{let E=w;return w<0?E=e.length+w:E>=e.length&&(E=E-e.length),E},o=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:c,to:d}=t,_=n.params.loop?-e.length:0,p=n.params.loop?e.length*2:e.length,v=[];for(let w=_;w<p;w+=1)w>=c&&w<=d&&v.push(e[s(w)]);return v.map((w,E)=>an.cloneElement(w,{swiper:n,style:o,key:w.props.virtualIndex||w.key||`slide-${E}`}))}function mh(n,e){return typeof window>"u"?U.useEffect(n,e):U.useLayoutEffect(n,e)}const e1=U.createContext(null),K3=U.createContext(null),GS=U.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:s,onSwiper:o,...c}={},d)=>{let _=!1;const[p,v]=U.useState("swiper"),[w,E]=U.useState(null),[N,R]=U.useState(!1),j=U.useRef(!1),z=U.useRef(null),k=U.useRef(null),O=U.useRef(null),q=U.useRef(null),$=U.useRef(null),ee=U.useRef(null),ne=U.useRef(null),ye=U.useRef(null),{params:B,passedParams:I,rest:Z,events:F}=H3(c),{slides:H,slots:Y}=$3(s),G=()=>{R(!N)};Object.assign(B.on,{_containerClasses(ae,ge){v(ge)}});const de=()=>{Object.assign(B.on,F),_=!0;const ae={...B};if(delete ae.wrapperClass,k.current=new G_(ae),k.current.virtual&&k.current.params.virtual.enabled){k.current.virtual.slides=H;const ge={cache:!1,slides:H,renderExternal:E,renderExternalUpdate:!1};Gc(k.current.params.virtual,ge),Gc(k.current.originalParams.virtual,ge)}};z.current||de(),k.current&&k.current.on("_beforeBreakpoint",G);const Ne=()=>{_||!F||!k.current||Object.keys(F).forEach(ae=>{k.current.on(ae,F[ae])})},re=()=>{!F||!k.current||Object.keys(F).forEach(ae=>{k.current.off(ae,F[ae])})};U.useEffect(()=>()=>{k.current&&k.current.off("_beforeBreakpoint",G)}),U.useEffect(()=>{!j.current&&k.current&&(k.current.emitSlidesClasses(),j.current=!0)}),mh(()=>{if(d&&(d.current=z.current),!!z.current)return k.current.destroyed&&de(),F3({el:z.current,nextEl:$.current,prevEl:ee.current,paginationEl:ne.current,scrollbarEl:ye.current,swiper:k.current},B),o&&!k.current.destroyed&&o(k.current),()=>{k.current&&!k.current.destroyed&&k.current.destroy(!0,!1)}},[]),mh(()=>{Ne();const ae=G3(I,O.current,H,q.current,ge=>ge.key);return O.current=I,q.current=H,ae.length&&k.current&&!k.current.destroyed&&q3({swiper:k.current,slides:H,passedParams:I,changedParams:ae,nextEl:$.current,prevEl:ee.current,scrollbarEl:ye.current,paginationEl:ne.current}),()=>{re()}}),mh(()=>{Z3(k.current)},[w]);function Se(){return B.virtual?Y3(k.current,H,w):H.map((ae,ge)=>an.cloneElement(ae,{swiper:k.current,swiperSlideIndex:ge}))}return an.createElement(e,Xf({ref:z,className:qS(`${p}${n?` ${n}`:""}`)},Z),an.createElement(K3.Provider,{value:k.current},Y["container-start"],an.createElement(t,{className:B3(B.wrapperClass)},Y["wrapper-start"],Se(),Y["wrapper-end"]),zS(B)&&an.createElement(an.Fragment,null,an.createElement("div",{ref:ee,className:"swiper-button-prev"}),an.createElement("div",{ref:$,className:"swiper-button-next"})),BS(B)&&an.createElement("div",{ref:ye,className:"swiper-scrollbar"}),US(B)&&an.createElement("div",{ref:ne,className:"swiper-pagination"}),Y["container-end"]))});GS.displayName="Swiper";const Ny=U.forwardRef(({tag:n="div",children:e,className:t="",swiper:s,zoom:o,lazy:c,virtualIndex:d,swiperSlideIndex:_,...p}={},v)=>{const w=U.useRef(null),[E,N]=U.useState("swiper-slide"),[R,j]=U.useState(!1);function z($,ee,ne){ee===w.current&&N(ne)}mh(()=>{if(typeof _<"u"&&(w.current.swiperSlideIndex=_),v&&(v.current=w.current),!(!w.current||!s)){if(s.destroyed){E!=="swiper-slide"&&N("swiper-slide");return}return s.on("_slideClass",z),()=>{s&&s.off("_slideClass",z)}}}),mh(()=>{s&&w.current&&!s.destroyed&&N(s.getSlideClasses(w.current))},[s]);const k={isActive:E.indexOf("swiper-slide-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0},O=()=>typeof e=="function"?e(k):e,q=()=>{j(!0)};return an.createElement(n,Xf({ref:w,className:qS(`${E}${t?` ${t}`:""}`),"data-swiper-slide-index":d,onLoad:q},p),o&&an.createElement(e1.Provider,{value:k},an.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},O(),c&&!R&&an.createElement("div",{className:"swiper-lazy-preloader",ref:$=>{$&&($.lazyPreloaderManaged=!0)}}))),!o&&an.createElement(e1.Provider,{value:k},O(),c&&!R&&an.createElement("div",{className:"swiper-lazy-preloader",ref:$=>{$&&($.lazyPreloaderManaged=!0)}})))});Ny.displayName="SwiperSlide";function ZS(n,e,t,s){return n.params.createElements&&Object.keys(s).forEach(o=>{if(!t[o]&&t.auto===!0){let c=Ir(n.el,`.${s[o]}`)[0];c||(c=Wf("div",s[o]),c.className=s[o],n.el.append(c)),t[o]=c,e[o]=c}}),t}const t1='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function W3({swiper:n,extendParams:e,on:t,emit:s}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null,arrowSvg:t1};function o(R){let j;return R&&typeof R=="string"&&n.isElement&&(j=n.el.querySelector(R)||n.hostEl.querySelector(R),j)?j:(R&&(typeof R=="string"&&(j=[...document.querySelectorAll(R)]),n.params.uniqueNavElements&&typeof R=="string"&&j&&j.length>1&&n.el.querySelectorAll(R).length===1?j=n.el.querySelector(R):j&&j.length===1&&(j=j[0])),R&&!j?R:j)}function c(R,j){const z=n.params.navigation;R=Vn(R),R.forEach(k=>{k&&(k.classList[j?"add":"remove"](...z.disabledClass.split(" ")),k.tagName==="BUTTON"&&(k.disabled=j),n.params.watchOverflow&&n.enabled&&k.classList[n.isLocked?"add":"remove"](z.lockClass))})}function d(){const{nextEl:R,prevEl:j}=n.navigation;if(n.params.loop){c(j,!1),c(R,!1);return}c(j,n.isBeginning&&!n.params.rewind),c(R,n.isEnd&&!n.params.rewind)}function _(R){R.preventDefault(),!(n.isBeginning&&!n.params.loop&&!n.params.rewind)&&(n.slidePrev(),s("navigationPrev"))}function p(R){R.preventDefault(),!(n.isEnd&&!n.params.loop&&!n.params.rewind)&&(n.slideNext(),s("navigationNext"))}function v(){const R=n.params.navigation;if(n.params.navigation=ZS(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(R.nextEl||R.prevEl))return;let j=o(R.nextEl),z=o(R.prevEl);Object.assign(n.navigation,{nextEl:j,prevEl:z}),j=Vn(j),z=Vn(z);const k=(O,q)=>{if(O){if(R.addIcons&&O.matches(".swiper-button-next,.swiper-button-prev")&&!O.querySelector("svg")){const $=document.createElement("div");Ch($,t1),O.appendChild($.querySelector("svg")),$.remove()}O.addEventListener("click",q==="next"?p:_)}!n.enabled&&O&&O.classList.add(...R.lockClass.split(" "))};j.forEach(O=>k(O,"next")),z.forEach(O=>k(O,"prev"))}function w(){let{nextEl:R,prevEl:j}=n.navigation;R=Vn(R),j=Vn(j);const z=(k,O)=>{k.removeEventListener("click",O==="next"?p:_),k.classList.remove(...n.params.navigation.disabledClass.split(" "))};R.forEach(k=>z(k,"next")),j.forEach(k=>z(k,"prev"))}t("init",()=>{n.params.navigation.enabled===!1?N():(v(),d())}),t("toEdge fromEdge lock unlock",()=>{d()}),t("destroy",()=>{w()}),t("enable disable",()=>{let{nextEl:R,prevEl:j}=n.navigation;if(R=Vn(R),j=Vn(j),n.enabled){d();return}[...R,...j].filter(z=>!!z).forEach(z=>z.classList.add(n.params.navigation.lockClass))}),t("click",(R,j)=>{let{nextEl:z,prevEl:k}=n.navigation;z=Vn(z),k=Vn(k);const O=j.target;let q=k.includes(O)||z.includes(O);if(n.isElement&&!q){const $=j.path||j.composedPath&&j.composedPath();$&&(q=$.find(ee=>z.includes(ee)||k.includes(ee)))}if(n.params.navigation.hideOnClick&&!q){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===O||n.pagination.el.contains(O)))return;let $;z.length?$=z[0].classList.contains(n.params.navigation.hiddenClass):k.length&&($=k[0].classList.contains(n.params.navigation.hiddenClass)),s($===!0?"navigationShow":"navigationHide"),[...z,...k].filter(ee=>!!ee).forEach(ee=>ee.classList.toggle(n.params.navigation.hiddenClass))}});const E=()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),v(),d()},N=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(n.navigation,{enable:E,disable:N,update:d,init:v,destroy:w})}function Xu(n=""){return`.${n.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function Q3({swiper:n,extendParams:e,on:t,emit:s}){const o="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:O=>O,formatFractionTotal:O=>O,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),n.pagination={el:null,bullets:[]};let c,d=0;function _(){return!n.params.pagination.el||!n.pagination.el||Array.isArray(n.pagination.el)&&n.pagination.el.length===0}function p(O,q){const{bulletActiveClass:$}=n.params.pagination;O&&(O=O[`${q==="prev"?"previous":"next"}ElementSibling`],O&&(O.classList.add(`${$}-${q}`),O=O[`${q==="prev"?"previous":"next"}ElementSibling`],O&&O.classList.add(`${$}-${q}-${q}`)))}function v(O,q,$){if(O=O%$,q=q%$,q===O+1)return"next";if(q===O-1)return"previous"}function w(O){const q=O.target.closest(Xu(n.params.pagination.bulletClass));if(!q)return;O.preventDefault();const $=Qf(q)*n.params.slidesPerGroup;if(n.params.loop){if(n.realIndex===$)return;const ee=v(n.realIndex,$,n.slides.length);ee==="next"?n.slideNext():ee==="previous"?n.slidePrev():n.slideToLoop($)}else n.slideTo($)}function E(){const O=n.rtl,q=n.params.pagination;if(_())return;let $=n.pagination.el;$=Vn($);let ee,ne;const ye=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,B=n.params.loop?Math.ceil(ye/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(ne=n.previousRealIndex||0,ee=n.params.slidesPerGroup>1?Math.floor(n.realIndex/n.params.slidesPerGroup):n.realIndex):typeof n.snapIndex<"u"?(ee=n.snapIndex,ne=n.previousSnapIndex):(ne=n.previousIndex||0,ee=n.activeIndex||0),q.type==="bullets"&&n.pagination.bullets&&n.pagination.bullets.length>0){const I=n.pagination.bullets;let Z,F,H;if(q.dynamicBullets&&(c=Sy(I[0],n.isHorizontal()?"width":"height"),$.forEach(Y=>{Y.style[n.isHorizontal()?"width":"height"]=`${c*(q.dynamicMainBullets+4)}px`}),q.dynamicMainBullets>1&&ne!==void 0&&(d+=ee-(ne||0),d>q.dynamicMainBullets-1?d=q.dynamicMainBullets-1:d<0&&(d=0)),Z=Math.max(ee-d,0),F=Z+(Math.min(I.length,q.dynamicMainBullets)-1),H=(F+Z)/2),I.forEach(Y=>{const G=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(de=>`${q.bulletActiveClass}${de}`)].map(de=>typeof de=="string"&&de.includes(" ")?de.split(" "):de).flat();Y.classList.remove(...G)}),$.length>1)I.forEach(Y=>{const G=Qf(Y);G===ee?Y.classList.add(...q.bulletActiveClass.split(" ")):n.isElement&&Y.setAttribute("part","bullet"),q.dynamicBullets&&(G>=Z&&G<=F&&Y.classList.add(...`${q.bulletActiveClass}-main`.split(" ")),G===Z&&p(Y,"prev"),G===F&&p(Y,"next"))});else{const Y=I[ee];if(Y&&Y.classList.add(...q.bulletActiveClass.split(" ")),n.isElement&&I.forEach((G,de)=>{G.setAttribute("part",de===ee?"bullet-active":"bullet")}),q.dynamicBullets){const G=I[Z],de=I[F];for(let Ne=Z;Ne<=F;Ne+=1)I[Ne]&&I[Ne].classList.add(...`${q.bulletActiveClass}-main`.split(" "));p(G,"prev"),p(de,"next")}}if(q.dynamicBullets){const Y=Math.min(I.length,q.dynamicMainBullets+4),G=(c*Y-c)/2-H*c,de=O?"right":"left";I.forEach(Ne=>{Ne.style[n.isHorizontal()?de:"top"]=`${G}px`})}}$.forEach((I,Z)=>{if(q.type==="fraction"&&(I.querySelectorAll(Xu(q.currentClass)).forEach(F=>{F.textContent=q.formatFractionCurrent(ee+1)}),I.querySelectorAll(Xu(q.totalClass)).forEach(F=>{F.textContent=q.formatFractionTotal(B)})),q.type==="progressbar"){let F;q.progressbarOpposite?F=n.isHorizontal()?"vertical":"horizontal":F=n.isHorizontal()?"horizontal":"vertical";const H=(ee+1)/B;let Y=1,G=1;F==="horizontal"?Y=H:G=H,I.querySelectorAll(Xu(q.progressbarFillClass)).forEach(de=>{de.style.transform=`translate3d(0,0,0) scaleX(${Y}) scaleY(${G})`,de.style.transitionDuration=`${n.params.speed}ms`})}q.type==="custom"&&q.renderCustom?(Ch(I,q.renderCustom(n,ee+1,B)),Z===0&&s("paginationRender",I)):(Z===0&&s("paginationRender",I),s("paginationUpdate",I)),n.params.watchOverflow&&n.enabled&&I.classList[n.isLocked?"add":"remove"](q.lockClass)})}function N(){const O=n.params.pagination;if(_())return;const q=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.grid&&n.params.grid.rows>1?n.slides.length/Math.ceil(n.params.grid.rows):n.slides.length;let $=n.pagination.el;$=Vn($);let ee="";if(O.type==="bullets"){let ne=n.params.loop?Math.ceil(q/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&ne>q&&(ne=q);for(let ye=0;ye<ne;ye+=1)O.renderBullet?ee+=O.renderBullet.call(n,ye,O.bulletClass):ee+=`<${O.bulletElement} ${n.isElement?'part="bullet"':""} class="${O.bulletClass}"></${O.bulletElement}>`}O.type==="fraction"&&(O.renderFraction?ee=O.renderFraction.call(n,O.currentClass,O.totalClass):ee=`<span class="${O.currentClass}"></span> / <span class="${O.totalClass}"></span>`),O.type==="progressbar"&&(O.renderProgressbar?ee=O.renderProgressbar.call(n,O.progressbarFillClass):ee=`<span class="${O.progressbarFillClass}"></span>`),n.pagination.bullets=[],$.forEach(ne=>{O.type!=="custom"&&Ch(ne,ee||""),O.type==="bullets"&&n.pagination.bullets.push(...ne.querySelectorAll(Xu(O.bulletClass)))}),O.type!=="custom"&&s("paginationRender",$[0])}function R(){n.params.pagination=ZS(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const O=n.params.pagination;if(!O.el)return;let q;typeof O.el=="string"&&n.isElement&&(q=n.el.querySelector(O.el)),!q&&typeof O.el=="string"&&(q=[...document.querySelectorAll(O.el)]),q||(q=O.el),!(!q||q.length===0)&&(n.params.uniqueNavElements&&typeof O.el=="string"&&Array.isArray(q)&&q.length>1&&(q=[...n.el.querySelectorAll(O.el)],q.length>1&&(q=q.find($=>MS($,".swiper")[0]===n.el))),Array.isArray(q)&&q.length===1&&(q=q[0]),Object.assign(n.pagination,{el:q}),q=Vn(q),q.forEach($=>{O.type==="bullets"&&O.clickable&&$.classList.add(...(O.clickableClass||"").split(" ")),$.classList.add(O.modifierClass+O.type),$.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.type==="bullets"&&O.dynamicBullets&&($.classList.add(`${O.modifierClass}${O.type}-dynamic`),d=0,O.dynamicMainBullets<1&&(O.dynamicMainBullets=1)),O.type==="progressbar"&&O.progressbarOpposite&&$.classList.add(O.progressbarOppositeClass),O.clickable&&$.addEventListener("click",w),n.enabled||$.classList.add(O.lockClass)}))}function j(){const O=n.params.pagination;if(_())return;let q=n.pagination.el;q&&(q=Vn(q),q.forEach($=>{$.classList.remove(O.hiddenClass),$.classList.remove(O.modifierClass+O.type),$.classList.remove(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.clickable&&($.classList.remove(...(O.clickableClass||"").split(" ")),$.removeEventListener("click",w))})),n.pagination.bullets&&n.pagination.bullets.forEach($=>$.classList.remove(...O.bulletActiveClass.split(" ")))}t("changeDirection",()=>{if(!n.pagination||!n.pagination.el)return;const O=n.params.pagination;let{el:q}=n.pagination;q=Vn(q),q.forEach($=>{$.classList.remove(O.horizontalClass,O.verticalClass),$.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass)})}),t("init",()=>{n.params.pagination.enabled===!1?k():(R(),N(),E())}),t("activeIndexChange",()=>{typeof n.snapIndex>"u"&&E()}),t("snapIndexChange",()=>{E()}),t("snapGridLengthChange",()=>{N(),E()}),t("destroy",()=>{j()}),t("enable disable",()=>{let{el:O}=n.pagination;O&&(O=Vn(O),O.forEach(q=>q.classList[n.enabled?"remove":"add"](n.params.pagination.lockClass)))}),t("lock unlock",()=>{E()}),t("click",(O,q)=>{const $=q.target,ee=Vn(n.pagination.el);if(n.params.pagination.el&&n.params.pagination.hideOnClick&&ee&&ee.length>0&&!$.classList.contains(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&$===n.navigation.nextEl||n.navigation.prevEl&&$===n.navigation.prevEl))return;const ne=ee[0].classList.contains(n.params.pagination.hiddenClass);s(ne===!0?"paginationShow":"paginationHide"),ee.forEach(ye=>ye.classList.toggle(n.params.pagination.hiddenClass))}});const z=()=>{n.el.classList.remove(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=Vn(O),O.forEach(q=>q.classList.remove(n.params.pagination.paginationDisabledClass))),R(),N(),E()},k=()=>{n.el.classList.add(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=Vn(O),O.forEach(q=>q.classList.add(n.params.pagination.paginationDisabledClass))),j()};Object.assign(n.pagination,{enable:z,disable:k,render:N,update:E,init:R,destroy:j})}const X3=()=>{const{id:n}=aC(),e=Gl(),t=Os(),{user:s,userData:o}=Ra(),[c,d]=U.useState(null),[_,p]=U.useState(!0),[v,w]=U.useState(!1),[E,N]=U.useState(!1),R=U.useRef(!1),[j,z]=U.useState(!1),[k,O]=U.useState(""),[q,$]=U.useState(""),[ee,ne]=U.useState(!1),[ye,B]=U.useState({name:"",phone:"",message:"Hola, estoy interesado en esta propiedad y me gustara recibir ms informacin."}),I=async pe=>{pe.preventDefault(),N(!0);try{await Pl(mn(Xe,"inquiries"),{propertyId:c.id,propertyTitle:c.title,agentId:c.agentId,clientName:ye.name,clientPhone:ye.phone,clientMessage:ye.message,timestamp:new Date,status:"pending"}),Ue.success("Tu solicitud ha sido enviada! El agente te contactar pronto."),w(!1),B({name:"",phone:"",message:""})}catch(D){console.error("Error sending inquiry:",D),Ue.error("Hubo un error al enviar tu solicitud.")}finally{N(!1)}},Z=()=>{if(!s){Ue.error("Debes iniciar sesin para agendar una visita."),e("/login",{state:{from:t.pathname}});return}z(!0)},F=async pe=>{pe.preventDefault(),ne(!0);try{await Pl(mn(Xe,"visits"),{propertyId:c.id,propertyTitle:c.title,agentId:c.agentId,clientId:s.uid,clientName:o?.displayName||s.displayName||"Cliente",clientPhone:o?.phoneNumber||"No especificado",clientEmail:s.email,visitDate:k,visitTime:q,status:"pending",timestamp:new Date}),Ue.success("Visita agendada con xito! El agente confirmar la fecha."),z(!1),O(""),$("")}catch(D){console.error("Error scheduling visit:",D),Ue.error("Error al agendar la visita.")}finally{ne(!1)}},H=async()=>{if(!c)return;let pe="51999999999";try{if(c.agentId){const me=await Il(on(Xe,"users",c.agentId));if(me.exists()){const ve=me.data();ve.phoneNumber&&(pe=ve.phoneNumber.replace(/[\s\-\+]/g,""),pe.startsWith("51")||(pe="51"+pe))}}}catch(me){console.error("Error fetching agent phone:",me)}const D=`Hola, estoy interesado en la propiedad: ${c.title}
 ${c.location}`,X=`https://wa.me/${pe}?text=${encodeURIComponent(D)}`;window.open(X,"_blank")},Y=async()=>{const pe={title:c?.title||"Propiedad en Inmuvete",text:`Mira esta propiedad: ${c?.title} - ${c?.location}`,url:window.location.href};try{navigator.share?await navigator.share(pe):(await navigator.clipboard.writeText(window.location.href),Ue.success("Enlace copiado al portapapeles!"))}catch(D){D.name!=="AbortError"&&(await navigator.clipboard.writeText(window.location.href),Ue.success("Enlace copiado al portapapeles!"))}},G=()=>{Ue.success("Propiedad guardada en favoritos!")};if(U.useEffect(()=>{(async()=>{try{if(!n)return;const D=on(Xe,"properties",n),X=await Il(D);if(X.exists()){const me=X.data();R.current||(R.current=!0,yo(D,{views:SD(1)}).catch(ve=>console.error("Error incrementing views",ve)),me.views=(me.views||0)+1),d({id:X.id,...me})}else console.log("No such document!")}catch(D){console.error("Error fetching property:",D)}finally{p(!1)}})()},[n]),_)return m.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:m.jsx("div",{className:"w-16 h-16 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})});if(!c)return m.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Propiedad no encontrada"}),m.jsx(Xt,{to:"/",className:"text-[#fc7f51] hover:underline",children:"Volver al inicio"})]});const de=3.75,Ne=typeof c.price=="number"?c.price:parseFloat(c.price),re=c.currency||"USD";let Se,ae;re==="USD"?(Se=Ne,ae=Ne*de):(ae=Ne,Se=Ne/de);const ge=c.lat&&c.lng?`https://www.google.com/maps/search/?api=1&query=${c.lat},${c.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(c.location)}`;return m.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[m.jsxs("main",{className:"container mx-auto px-6 pt-32 pb-12",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:c.title}),m.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center text-sm gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium overflow-hidden",children:[m.jsx(Vr,{className:"w-4 h-4 text-[#fc7f51] flex-shrink-0"}),m.jsx("a",{href:ge,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#fc7f51] truncate",children:c.location})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:Y,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[m.jsx($w,{className:"w-4 h-4"})," Compartir"]}),m.jsxs("button",{onClick:Y,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[m.jsx($w,{className:"w-4 h-4"})," Compartir"]}),m.jsxs("button",{onClick:G,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[m.jsx(Zf,{className:"w-4 h-4"})," Guardar"]}),m.jsxs("button",{onClick:Z,className:"flex items-center gap-2 bg-[#fc7f51] text-white hover:bg-[#e56b3e] px-4 py-1.5 rounded-lg font-bold text-sm transition shadow-sm",children:[m.jsx(h4,{className:"w-4 h-4"})," Agendar Visita"]})]})]})]}),m.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 shadow-2xl relative h-[400px] md:h-[600px] bg-gray-100 group",children:m.jsx(GS,{modules:[W3,Q3],navigation:!0,pagination:{clickable:!0},className:"h-full w-full",loop:!0,children:c.images&&c.images.length>0?c.images.map((pe,D)=>m.jsx(Ny,{children:m.jsx("img",{src:pe,alt:`Property ${D+1}`,className:"w-full h-full object-cover"})},D)):m.jsx(Ny,{children:m.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-400",children:"No hay imgenes disponibles"})})})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["Publicado por ",c.agentName||"Agente Inmuvete"]}),m.jsxs("p",{className:"text-gray-600 mb-0",children:[c.bedrooms||0," Habitaciones  ",c.bathrooms||0," Baos  ",c.footage," m"]})]}),m.jsx("div",{className:"w-14 h-14 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden border-2 border-white shadow-md",children:m.jsx(Ty,{className:"w-8 h-8 text-gray-400"})})]}),m.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[m.jsx("h3",{className:"text-lg font-bold mb-4",children:"Caractersticas"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-y-4 gap-x-6",children:[m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(Y4,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsxs("span",{children:[c.footage," m"]})]}),m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(i4,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsxs("span",{children:[c.bedrooms||0," Habitaciones"]})]}),m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(t4,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsxs("span",{children:[c.bathrooms||0," Baos"]})]}),c.parking&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(f4,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:"Cochera"})]}),c.isDuplex&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(D4,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:"Dplex"})]}),c.floor&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(J5,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsxs("span",{children:["Piso ",c.floor]})]}),c.isInBuilding&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(o4,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:"En Edificio"})]}),c.elevator&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(Q5,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:"Ascensor"})]}),c.furnished&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(G5,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:"Amoblado"})]}),c.pool&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(CS,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:"Piscina"})]}),c.gym&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(x4,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:"Gimnasio"})]}),c.security&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(SS,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:"Seguridad 24/7"})]}),c.isExclusive&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(oj,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:"Exclusivo"})]}),c.antiquity&&m.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[m.jsx(y4,{className:"w-5 h-5 text-[#fc7f51]"}),m.jsx("span",{children:c.antiquity==="estreno"?"Estreno":c.antiquity})]})]})]}),m.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Descripcin"}),m.jsx("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-line",children:c.description})]}),m.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Detalles"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[m.jsx("span",{className:"text-gray-500",children:"Tipo"}),m.jsx("span",{className:"font-semibold capitalize",children:c.type})]}),m.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[m.jsx("span",{className:"text-gray-500",children:"Categora"}),m.jsx("span",{className:"font-semibold capitalize",children:c.category})]}),m.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[m.jsx("span",{className:"text-gray-500",children:"rea"}),m.jsxs("span",{className:"font-semibold",children:[c.footage," m"]})]}),m.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[m.jsx("span",{className:"text-gray-500",children:"Estado"}),m.jsx("span",{className:`font-semibold capitalize ${c.status==="disponible"?"text-green-600":"text-red-500"}`,children:c.status})]}),m.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[m.jsx("span",{className:"text-gray-500",children:"Antigedad"}),m.jsx("span",{className:"font-semibold capitalize",children:c.antiquity==="estreno"?"A estrenar":c.antiquity==="preventa"?"En Preventa":c.antiquity==="up_to_5"?"Hasta 5 aos":c.antiquity==="5_to_10"?"5 a 10 aos":c.antiquity==="10_to_20"?"10 a 20 aos":c.antiquity==="more_than_20"?"Ms de 20 aos":c.antiquity||"No especificado"})]}),c.floor&&m.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[m.jsx("span",{className:"text-gray-500",children:"Piso"}),m.jsxs("span",{className:"font-semibold",children:[c.floor,""]})]}),m.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[m.jsx("span",{className:"text-gray-500",children:"Ascensor"}),m.jsx("span",{className:"font-semibold",children:c.elevator?"S":"No"})]}),m.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[m.jsx("span",{className:"text-gray-500",children:"Cochera"}),m.jsx("span",{className:"font-semibold",children:c.parking?"S":"No"})]})]})]}),m.jsxs("div",{className:"pt-4",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ubicacin"}),m.jsx("p",{className:"text-gray-500 mb-4",children:c.location}),m.jsxs("div",{className:"h-96 w-full rounded-xl overflow-hidden bg-gray-100 shadow-inner relative group",children:[c.lat&&c.lng?m.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${c.lat},${c.lng}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):c.location?m.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${encodeURIComponent(c.location)}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):m.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-200",children:[m.jsx(Vr,{className:"w-12 h-12 text-gray-400 mb-2"}),m.jsx("p",{className:"text-gray-500",children:"Mapa no disponible para esta ubicacin."})]}),m.jsxs("a",{href:ge,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-lg text-sm font-bold flex items-center gap-2 hover:bg-[#fc7f51] hover:text-white transition",children:[m.jsx(Vr,{className:"w-4 h-4"}),"Abrir en Google Maps"]})]})]})]}),m.jsx("div",{className:"lg:col-span-1",children:m.jsxs("div",{className:"sticky top-32 bg-white rounded-xl shadow-card border border-gray-200 p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("span",{className:"block text-3xl font-bold text-[#fc7f51]",children:Se.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})}),m.jsx("span",{className:"block text-xl font-bold text-gray-400 mt-1",children:ae.toLocaleString("en-US",{style:"currency",currency:"PEN",maximumFractionDigits:0})}),c.type==="alquiler"&&m.jsx("span",{className:"text-gray-500 text-sm block mt-1",children:"Precio por mes"})]}),m.jsxs("button",{onClick:H,className:"w-full bg-[#25D366] text-white font-bold text-lg py-3 rounded-lg hover:bg-[#20bd5a] transition mb-4 shadow-lg shadow-green-500/30 flex items-center justify-center gap-2",children:[m.jsx(TS,{className:"w-5 h-5"}),"Contactar por WhatsApp"]}),m.jsxs("button",{onClick:()=>w(!0),className:"w-full bg-white border-2 border-gray-200 text-gray-700 font-bold py-3 rounded-lg hover:border-[#fc7f51] hover:text-[#fc7f51] transition mb-6 flex items-center justify-center gap-2",children:[m.jsx(ES,{className:"w-5 h-5"}),"Solicitar Informacin"]}),m.jsx("div",{className:"text-center text-xs text-gray-400",children:"* Al contactar aceptas nuestros trminos y condiciones."})]})})]})]}),v&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[m.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Solicitar Informacin"}),m.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:m.jsx(ql,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),m.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre completo",value:ye.name,onChange:pe=>B({...ye,name:pe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono / WhatsApp"}),m.jsx("input",{required:!0,type:"tel",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: +51 999 999 999",value:ye.phone,onChange:pe=>B({...ye,phone:pe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),m.jsx("textarea",{required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition h-32 resize-none",value:ye.message,onChange:pe=>B({...ye,message:pe.target.value})})]}),m.jsx("button",{type:"submit",disabled:E,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-70",children:E?m.jsx(Ah,{className:"animate-spin"}):"Enviar Solicitud"})]})]})}),j&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative p-8",children:[m.jsx("button",{onClick:()=>z(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition",children:m.jsx(ql,{className:"w-6 h-6"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Agendar Visita"}),m.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Selecciona una fecha y hora preferida para visitar la propiedad."}),m.jsxs("form",{onSubmit:F,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha"}),m.jsx("input",{type:"date",required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:k,onChange:pe=>O(pe.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora"}),m.jsx("input",{type:"time",required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:q,onChange:pe=>$(pe.target.value)})]}),m.jsx("button",{type:"submit",disabled:ee,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-lg hover:bg-[#e56b3e] transition mt-4",children:ee?"Agendando...":"Confirmar Solicitud"})]})]})})]})},Z_="/inmobiliaria/assets/logo-9PyExb9b.png",J3=()=>m.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[m.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:m.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20",alt:"About Hero"})}),m.jsxs("div",{className:"relative z-10 text-center px-6",children:[m.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:["Ms que una ",m.jsx("span",{className:"text-[#fc7f51]",children:"inmobiliaria"})]}),m.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Inspiramos movimiento. Impulsamos a las personas a dar el paso hacia nuevas etapas de su vida."})]})]}),m.jsxs("div",{className:"container mx-auto px-6 py-20",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center mb-24",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Quines Somos"}),m.jsx("img",{src:Z_,alt:"Inmuvete",className:"h-16 mb-6 object-contain"}),m.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 leading-tight",children:"Concepto de Marca"}),m.jsxs("p",{className:"text-[#878787] text-lg leading-relaxed mb-6",children:["Ms que vender inmuebles, inspiramos movimiento. ",m.jsx("strong",{className:"text-[#262626]",children:"Inmuvete"})," es la inmobiliaria que impulsa a las personas a dar el paso hacia nuevas etapas de su vida: un nuevo hogar, una inversin segura o un espacio para crecer."]}),m.jsx("p",{className:"text-[#878787] text-lg leading-relaxed",children:"Nuestro enfoque combina confianza, transparencia y dinamismo, convirtiendo cada transaccin en una experiencia cercana, gil y motivadora."})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("img",{src:"https://images.unsplash.com/photo-1600596542815-e3287135f5cf?q=80&w=2072&auto=format&fit=crop",className:"rounded-tl-[40px] rounded-br-[40px] w-full h-64 object-cover shadow-card",alt:"Concept 1"}),m.jsx("img",{src:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2053&auto=format&fit=crop",className:"rounded-tr-[40px] rounded-bl-[40px] w-full h-64 object-cover shadow-card mt-8",alt:"Concept 2"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-24",children:[m.jsxs("div",{className:"bg-[#f9f9f9] p-10 rounded-2xl hover:shadow-lg transition border-l-4 border-[#fc7f51] group",children:[m.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] group-hover:text-white transition",children:m.jsx(cj,{className:"w-7 h-7"})}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Misin"}),m.jsx("p",{className:"text-[#878787] leading-relaxed",children:'"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles, ofreciendo un servicio cercano que transforma cada proceso en una experiencia sencilla y segura."'})]}),m.jsxs("div",{className:"bg-[#262626] p-10 rounded-2xl text-white shadow-xl relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#fc7f51] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"}),m.jsx("div",{className:"w-14 h-14 bg-[#333] rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] transition",children:m.jsx(Gf,{className:"w-7 h-7"})}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visin"}),m.jsx("p",{className:"text-gray-300 leading-relaxed",children:'"Ser la inmobiliaria de referencia en la regin, reconocida por la confianza, innovacin y cercana con nuestros clientes, ofreciendo experiencias inmobiliarias que impulsen el desarrollo personal, familiar y empresarial."'})]})]}),m.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[m.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Nuestra Esencia"}),m.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Nuestros Valores"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:m.jsx(SS,{className:"w-10 h-10"})}),m.jsx("h4",{className:"text-xl font-bold mb-3",children:"Integridad"}),m.jsx("p",{className:"text-[#878787] text-sm",children:"Actuamos con honestidad y transparencia en cada paso."})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:m.jsx(N4,{className:"w-10 h-10"})}),m.jsx("h4",{className:"text-xl font-bold mb-3",children:"Compromiso"}),m.jsx("p",{className:"text-[#878787] text-sm",children:"Nos dedicamos a cumplir y superar las expectativas."})]}),m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:m.jsx(AS,{className:"w-10 h-10"})}),m.jsx("h4",{className:"text-xl font-bold mb-3",children:"Confianza"}),m.jsx("p",{className:"text-[#878787] text-sm",children:"Construimos relaciones duraderas basadas en la seguridad."})]})]})]})]})]}),e6=()=>{const{user:n,userData:e,logout:t}=Ra(),o=Os().pathname==="/about";return m.jsx("nav",{className:"fixed w-full z-50 bg-[#16151a] border-b border-gray-800 shadow-lg",children:m.jsxs("div",{className:"container mx-auto px-6 h-24 flex justify-between items-center",children:[m.jsxs(Xt,{to:"/",className:"flex items-center gap-3 group",children:[m.jsx("img",{src:Z_,alt:"Inmuvete",className:`${o?"block":"hidden md:block"} h-12 w-auto object-contain`}),!o&&m.jsx("img",{src:"/favicon.png",alt:"Inmuvete",className:"block md:hidden h-10 w-auto object-contain"})]}),m.jsxs("div",{className:"hidden lg:flex items-center bg-white rounded-full py-2 pl-6 pr-2 shadow-xl hover:shadow-orange-500/5 transition cursor-pointer gap-4 min-w-[420px]",children:[m.jsx("input",{type:"text",placeholder:"Buscar por zona, ciudad o tipo...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm"}),m.jsx("div",{className:"bg-[#fc7f51] p-2.5 rounded-full text-white hover:bg-[#e56b3e] transition shadow-md",children:m.jsx(Qc,{className:"w-5 h-5",strokeWidth:2.5})})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[m.jsx(Xt,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),m.jsx(Xt,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),e?.role!=="agente"&&m.jsxs(m.Fragment,{children:[m.jsx(Xt,{to:"/about",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Nosotros"}),m.jsx(Xt,{to:"/contact",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Contacto"})]})]}),n?m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(Xt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",className:"text-white hover:text-[#fc7f51] transition font-medium mr-2",children:["Hola, ",n.displayName?n.displayName.split(" ")[0]:e?.role==="agente"?"Agente":"Usuario"]}),m.jsx("button",{onClick:t,className:"bg-[#262626] border border-gray-600 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition",children:"Salir"}),m.jsx(Xt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",children:m.jsx("div",{className:"bg-gray-600 rounded-full p-0.5 cursor-pointer",children:m.jsx(p4,{className:"w-8 h-8 text-white fill-gray-600"})})})]}):m.jsx(Xt,{to:"/login",className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-full font-bold transition shadow-lg shadow-orange-500/20",children:"Ingresar"})]})]})})},t6=()=>m.jsxs("footer",{className:"bg-[#16151a] text-white py-16",children:[m.jsxs("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("img",{src:Z_,alt:"Inmuvete",className:"h-12"}),m.jsxs("span",{className:"text-2xl font-bold font-[Montserrat] text-white",children:["Inmu",m.jsx("span",{className:"text-[#fc7f51]",children:"vete"})]})]}),m.jsx("p",{className:"text-[#878787] text-sm leading-relaxed mb-6",children:"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles."}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"in"}),m.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"ig"}),m.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"fb"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Nuestros Valores"}),m.jsxs("ul",{className:"space-y-4 text-sm text-[#878787]",children:[m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Integridad"]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Compromiso"]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Confianza"]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Contacto"}),m.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"Oficina Central, Ciudad"}),m.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"contacto@inmuevete.com"}),m.jsx("p",{className:"text-[#878787] text-sm",children:"+51 123 456 789"})]})]}),m.jsx("div",{className:"border-t border-[#262626] mt-12 pt-8 text-center text-[#878787] text-xs",children:" 2024 Inmuvete. Todos los derechos reservados."})]}),n6=()=>{const[n,e]=U.useState({name:"",phone:"+51 ",email:"",subject:"Informacin general",message:""}),t=d=>{e({...n,[d.target.name]:d.target.value})},s=d=>{let _=d.target.value;_.startsWith("+51 ")||(_="+51 "+_.replace(/^\+51\s*/,"")),e({...n,phone:_})},o=()=>{const d="+51965355700";let _=n.message.trim();return _||(_=`Hola, me gustara ${n.subject==="Comprar una propiedad"?"Comprar":n.subject==="Vender una propiedad"?"Vender":n.subject==="Alquileres"?"Alquilar":"obtener Informacin general sobre"} un inmueble.`),_+=`

- Nombre: ${n.name}
- Telfono: ${n.phone}
- Email: ${n.email}
- Asunto: ${n.subject}`,`https://wa.me/${d}?text=${encodeURIComponent(_)}`},c=d=>{if(d.preventDefault(),!n.name||!n.email){Ue.error("Por favor completa nombre y email.");return}const _=o();Ue.success("Redirigiendo a WhatsApp..."),setTimeout(()=>{window.open(_,"_blank")},1e3)};return m.jsx("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:m.jsxs("div",{className:"pt-24 pb-20 container mx-auto px-6",children:[m.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[m.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Hablamos?"}),m.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#262626]",children:"Contctanos"}),m.jsx("p",{className:"text-[#878787] text-lg",children:"Estamos aqu para ayudarte a encontrar tu espacio ideal. Escrbenos y un asesor se pondr en contacto contigo a la brevedad."})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[m.jsxs("div",{className:"bg-[#16151a] text-white p-10 rounded-3xl shadow-xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-20 blur-3xl"}),m.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-10 blur-3xl"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Informacin de Contacto"}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:m.jsx(TS,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-lg mb-1",children:"Telfono"}),m.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"+51 965355700"})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:m.jsx(ES,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-lg mb-1",children:"Email"}),m.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"contacto@inmuevete.com"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"ventas@inmuevete.com"})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:m.jsx(Vr,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-lg mb-1",children:"Oficina Central"}),m.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Av. Principal 123, Oficina 404",m.jsx("br",{}),"Centro Empresarial, Ciudad",m.jsx("br",{}),"Per"]})]})]})]}),m.jsxs("div",{className:"mt-12",children:[m.jsx("h4",{className:"font-bold text-lg mb-4",children:"Sguenos"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:m.jsx(M4,{className:"w-5 h-5"})}),m.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:m.jsx(T4,{className:"w-5 h-5"})}),m.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:m.jsx(z4,{className:"w-5 h-5"})})]})]})]})]}),m.jsx("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-card border border-gray-100",children:m.jsxs("form",{onSubmit:c,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Nombre"}),m.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,placeholder:"Tu nombre completo",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Telfono"}),m.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:s,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Email"}),m.jsx("input",{type:"email",name:"email",value:n.email,onChange:t,placeholder:"ejemplo@correo.com",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Asunto"}),m.jsxs("select",{name:"subject",value:n.subject,onChange:t,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition text-gray-600 bg-white",children:[m.jsx("option",{value:"Informacin general",children:"Informacin general"}),m.jsx("option",{value:"Comprar una propiedad",children:"Comprar una propiedad"}),m.jsx("option",{value:"Vender una propiedad",children:"Vender una propiedad"}),m.jsx("option",{value:"Alquileres",children:"Alquileres"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Mensaje"}),m.jsx("textarea",{name:"message",value:n.message,onChange:t,rows:"4",placeholder:"Cmo podemos ayudarte?",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),m.jsxs("button",{type:"submit",className:"w-full bg-[#128C7E] hover:bg-[#075E54] text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2 group",children:["Contactar por WhatsApp",m.jsx(W4,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})]})]})})},n1=3.75,i6=()=>{const[n,e]=QC(),[t,s]=U.useState(n.get("operation")||"venta"),[o,c]=U.useState(n.get("location")||""),[d,_]=U.useState(n.get("propertyType")||""),[p,v]=U.useState(n.get("currency")||"USD"),[w,E]=U.useState(n.get("priceMin")||""),[N,R]=U.useState(n.get("priceMax")||""),[j,z]=U.useState(n.get("bedrooms")||""),[k,O]=U.useState(n.get("bathrooms")||""),[q,$]=U.useState(n.get("floor")||""),[ee,ne]=U.useState(n.get("parking")==="true"),[ye,B]=U.useState(n.get("isDuplex")==="true"),[I,Z]=U.useState([]),[F,H]=U.useState([]),[Y,G]=U.useState(!0),[de,Ne]=U.useState(!1),[re,Se]=U.useState("newest");U.useEffect(()=>{(async()=>{G(!0);try{const me=(await Js(mn(Xe,"properties"))).docs.map(ve=>({id:ve.id,...ve.data()}));Z(me)}catch(X){console.error("Error fetching properties:",X)}finally{G(!1)}})()},[]),U.useEffect(()=>{let D=[...I];if(t&&(D=D.filter(X=>X.type?.toLowerCase()===t.toLowerCase())),o){const X=o.toLowerCase();D=D.filter(me=>me.location?.toLowerCase().includes(X)||me.address?.toLowerCase().includes(X)||me.title?.toLowerCase().includes(X))}if(d){const X=d.toLowerCase();D=D.filter(me=>{const ve=me.title?.toLowerCase()||"",Ae=me.category?.toLowerCase()||"",Ce=me.location?.toLowerCase()||"";return X==="departamento"||X==="departamentos"?ve.includes("departamento")||ve.includes("depa"):X==="casa"||X==="casas"?ve.includes("casa"):X==="terreno"||X==="terrenos"?Ae==="terreno"||ve.includes("terreno")||ve.includes("lote"):X==="oficina"||X==="oficinas"?ve.includes("oficina"):X==="local"||X==="locales"?ve.includes("local"):X==="campestre"||X==="campestres"?ve.includes("campestre")||ve.includes("campo")||Ce.includes("campo"):X==="playa"?ve.includes("playa")||Ce.includes("playa"):!0})}if(w||N){const X=w?parseFloat(w):0,me=N?parseFloat(N):1/0;D=D.filter(ve=>{const Ae=typeof ve.price=="number"?ve.price:parseFloat(ve.price)||0,Ce=ve.currency||"USD";let qe;return Ce===p?qe=Ae:p==="USD"&&Ce==="PEN"?qe=Ae/n1:p==="PEN"&&Ce==="USD"?qe=Ae*n1:qe=Ae,qe>=X&&qe<=me})}if(j){const X=parseInt(j);D=D.filter(me=>(parseInt(me.bedrooms)||0)>=X)}if(k){const X=parseInt(k);D=D.filter(me=>(parseInt(me.bathrooms)||0)>=X)}ee&&(D=D.filter(X=>X.parking===!0)),ye&&(D=D.filter(X=>X.isDuplex===!0)),q&&(D=D.filter(X=>X.floor?.toString().toLowerCase()===q.toLowerCase())),D=D.filter(X=>X.status==="disponible"),re==="newest"?D.sort((X,me)=>(me.createdAt?.seconds||0)-(X.createdAt?.seconds||0)):re==="price_asc"?D.sort((X,me)=>(parseFloat(X.price)||0)-(parseFloat(me.price)||0)):re==="price_desc"&&D.sort((X,me)=>(parseFloat(me.price)||0)-(parseFloat(X.price)||0)),D.sort((X,me)=>X.isPromoted&&!me.isPromoted?-1:!X.isPromoted&&me.isPromoted?1:0),H(D)},[I,t,o,d,p,w,N,j,k,ee,ye,q,re]);const ae=()=>{const D={};t&&(D.operation=t),o&&(D.location=o),d&&(D.propertyType=d),p&&(D.currency=p),w&&(D.priceMin=w),N&&(D.priceMax=N),j&&(D.bedrooms=j),k&&(D.bathrooms=k),q&&(D.floor=q),ee&&(D.parking="true"),ye&&(D.isDuplex="true"),e(D)},ge=()=>{s("venta"),c(""),_(""),v("USD"),E(""),R(""),z(""),O(""),$(""),ne(!1),B(!1),e({})},pe=[t,o,d,w,N,j,k,q,ee,ye].filter(Boolean).length;return m.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-[#262626]",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 pt-24 pb-6 sticky top-0 z-30",children:m.jsxs("div",{className:"container mx-auto px-6",children:[m.jsxs(Xt,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-[#fc7f51] transition mb-4",children:[m.jsx($5,{className:"w-4 h-4"}),"Volver al inicio"]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[m.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl flex-shrink-0",children:["venta","alquiler","anticresis"].map(D=>m.jsx("button",{onClick:()=>s(D),className:`px-4 py-2 text-sm font-bold capitalize rounded-lg transition-all ${t===D?"bg-white text-[#fc7f51] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:D},D))}),m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(Vr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),m.jsx("input",{type:"text",value:o,onChange:D=>c(D.target.value),onKeyDown:D=>D.key==="Enter"&&ae(),placeholder:"Buscar por ubicacin, zona o nombre...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"})]}),m.jsxs("button",{onClick:()=>Ne(!de),className:`flex items-center gap-2 px-4 py-3 rounded-xl border font-bold text-sm transition flex-shrink-0 ${de?"bg-[#fc7f51] text-white border-[#fc7f51]":"bg-white text-gray-700 border-gray-200 hover:border-[#fc7f51]"}`,children:[m.jsx(rj,{className:"w-4 h-4"}),"Filtros",pe>1&&m.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${de?"bg-white/20 text-white":"bg-[#fc7f51] text-white"}`,children:pe})]}),m.jsxs("button",{onClick:ae,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-8 py-3 rounded-xl font-bold text-sm shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2 flex-shrink-0",children:[m.jsx(Qc,{className:"w-4 h-4"}),"Buscar"]})]}),de&&m.jsxs("div",{className:"mt-4 p-6 bg-gray-50 rounded-2xl border border-gray-200 animate-fadeIn",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo Inmueble"}),m.jsxs("select",{value:d,onChange:D=>_(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[m.jsx("option",{value:"",children:"Todos"}),m.jsx("option",{value:"departamento",children:"Departamento"}),m.jsx("option",{value:"casa",children:"Casa"}),m.jsx("option",{value:"terreno",children:"Terreno"}),m.jsx("option",{value:"oficina",children:"Oficina"}),m.jsx("option",{value:"local",children:"Local Comercial"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),m.jsxs("div",{className:"flex bg-white rounded-lg border border-gray-200 p-0.5 h-[42px]",children:[m.jsx("button",{onClick:()=>v("USD"),className:`flex-1 rounded-md text-xs font-bold transition ${p==="USD"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"$ USD"}),m.jsx("button",{onClick:()=>v("PEN"),className:`flex-1 rounded-md text-xs font-bold transition ${p==="PEN"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"S/ PEN"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mn."}),m.jsx("input",{type:"number",placeholder:"0",value:w,onChange:D=>E(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mx."}),m.jsx("input",{type:"number",placeholder:"Sin lmite",value:N,onChange:D=>R(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),m.jsxs("select",{value:j,onChange:D=>z(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[m.jsx("option",{value:"",children:"Cualquiera"}),m.jsx("option",{value:"1",children:"1+"}),m.jsx("option",{value:"2",children:"2+"}),m.jsx("option",{value:"3",children:"3+"}),m.jsx("option",{value:"4",children:"4+"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),m.jsxs("select",{value:k,onChange:D=>O(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[m.jsx("option",{value:"",children:"Cualquiera"}),m.jsx("option",{value:"1",children:"1+"}),m.jsx("option",{value:"2",children:"2+"}),m.jsx("option",{value:"3",children:"3+"})]})]})]}),m.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 border-t border-gray-100 pt-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Piso"}),m.jsx("input",{type:"text",placeholder:"Ej. 1",value:q,onChange:D=>$(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),m.jsxs("div",{className:"flex flex-col gap-2 justify-center h-full pt-1",children:[m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:ee,onChange:D=>ne(D.target.checked)}),m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Con Cochera"})]}),m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:ye,onChange:D=>B(D.target.checked)}),m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Dplex"})]})]})]}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsxs("button",{onClick:ge,className:"text-sm text-gray-500 hover:text-red-500 font-medium flex items-center gap-1 transition",children:[m.jsx(ql,{className:"w-4 h-4"}),"Limpiar filtros"]}),m.jsx("button",{onClick:()=>{ae(),Ne(!1)},className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-lg font-bold text-sm transition",children:"Aplicar Filtros"})]})]})]})}),m.jsxs("div",{className:"container mx-auto px-6 py-8",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:Y?"Buscando...":`${F.length} propiedad${F.length!==1?"es":""} encontrada${F.length!==1?"s":""}`}),(o||d)&&m.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[t&&m.jsx("span",{className:"capitalize",children:t}),d&&m.jsxs("span",{children:["  ",d]}),o&&m.jsxs("span",{children:[" en ",m.jsx("strong",{children:o})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-sm text-gray-500 font-medium",children:"Ordenar por:"}),m.jsxs("select",{value:re,onChange:D=>Se(D.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium focus:border-[#fc7f51] outline-none cursor-pointer",children:[m.jsx("option",{value:"newest",children:"Ms recientes"}),m.jsx("option",{value:"price_asc",children:"Precio: menor a mayor"}),m.jsx("option",{value:"price_desc",children:"Precio: mayor a menor"})]})]})]}),Y?m.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[m.jsx(Ah,{className:"w-12 h-12 animate-spin text-[#fc7f51] mb-4"}),m.jsx("p",{className:"text-gray-500 font-medium",children:"Buscando propiedades..."})]}):F.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[m.jsx("div",{className:"w-24 h-24 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:m.jsx(Qc,{className:"w-12 h-12 text-[#fc7f51]/50"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No encontramos propiedades"}),m.jsx("p",{className:"text-gray-500 max-w-md mb-6",children:"No hay propiedades que coincidan con tus criterios de bsqueda. Intenta ajustar los filtros o buscar en otra ubicacin."}),m.jsx("button",{onClick:ge,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold transition",children:"Limpiar Filtros"})]}):m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:F.map(D=>m.jsx(NS,{property:D},D.id))})]})]})},s6=()=>{const[n,e]=U.useState(""),[t,s]=U.useState(""),{login:o,loginWithGoogle:c,loginWithApple:d}=Ra(),_=Gl(),p=async N=>{try{const R=await Il(on(Xe,"users",N));if(R.exists()){const j=R.data();j.role==="agente"?_("/agent-dashboard"):j.role==="superadmin"?_("/superadmin"):_("/client-dashboard")}else _("/")}catch(R){console.error("Error redirecting:",R)}},v=async N=>{N.preventDefault();try{const R=await o(n,t);Ue.success("Bienvenido de nuevo!"),p(R.user.uid)}catch(R){Ue.error(R.message)}},w=async()=>{try{const N=await c();Ue.success("Bienvenido!"),p(N.user.uid)}catch(N){Ue.error(N.message)}},E=async()=>{try{const N=await d();Ue.success("Bienvenido!"),p(N.user.uid)}catch(N){Ue.error(N.message)}};return m.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:m.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[m.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Iniciar Sesin"}),m.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Accede a tu cuenta de Inmuvete"}),m.jsxs("form",{onSubmit:v,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),m.jsx("input",{type:"email",value:n,onChange:N=>e(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),m.jsx("input",{type:"password",value:t,onChange:N=>s(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"",required:!0})]}),m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsxs("label",{className:"flex items-center text-gray-600",children:[m.jsx("input",{type:"checkbox",className:"mr-2 text-[#fc7f51] focus:ring-[#fc7f51] rounded border-gray-300"}),"Recordarme"]}),m.jsx(Xt,{to:"/forgot-password",className:"text-[#fc7f51] hover:underline font-medium",children:"Olvidaste tu contrasea?"})]}),m.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Ingresar"})]}),m.jsxs("div",{className:"my-6 flex items-center",children:[m.jsx("div",{className:"flex-grow border-t border-gray-200"}),m.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O contina con"}),m.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[m.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),m.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),m.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["No tienes una cuenta?"," ",m.jsx(Xt,{to:"/register",className:"text-[#fc7f51] font-bold hover:underline",children:"Regstrate aqu"})]})]})})},r6=()=>{const[n,e]=U.useState(""),[t,s]=U.useState(""),[o,c]=U.useState(""),[d,_]=U.useState(""),[p,v]=U.useState("cliente"),{signup:w,loginWithGoogle:E,loginWithApple:N}=Ra(),R=Gl(),j=async O=>{O.preventDefault();try{await w(n,t,p,o,d),Ue.success("Cuenta creada exitosamente!"),R(p==="agente"?"/agent-dashboard":"/client-dashboard")}catch(q){Ue.error(q.message)}},z=async()=>{try{await E(p),Ue.success("Cuenta creada exitosamente!"),R(p==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Ue.error(O.message)}},k=async()=>{try{await N(p),Ue.success("Cuenta creada exitosamente!"),R(p==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Ue.error(O.message)}};return m.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:m.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[m.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Crear una Cuenta"}),m.jsx("p",{className:"text-center text-gray-500 mb-8",children:"nete y encuentra tu prximo hogar"}),m.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),m.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),m.jsx("input",{type:"tel",value:d,onChange:O=>_(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"+51 999 999 999",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),m.jsx("input",{type:"email",value:n,onChange:O=>e(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),m.jsx("input",{type:"password",value:t,onChange:O=>s(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Crea una contrasea segura",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Qu buscas hacer?"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("button",{type:"button",onClick:()=>v("cliente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${p==="cliente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[m.jsx("span",{className:"font-bold",children:"Buscar Propiedades"}),m.jsx("span",{className:"text-xs mt-1",children:"Soy Cliente"})]}),m.jsxs("button",{type:"button",onClick:()=>v("agente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${p==="agente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[m.jsx("span",{className:"font-bold",children:"Publicar Inmuebles"}),m.jsx("span",{className:"text-xs mt-1",children:"Soy Agente"})]})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Registrarme"})]}),m.jsxs("div",{className:"my-6 flex items-center",children:[m.jsx("div",{className:"flex-grow border-t border-gray-200"}),m.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O regstrate con"}),m.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:z,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[m.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),m.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),m.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Ya tienes cuenta?"," ",m.jsx(Xt,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Inicia Sesin"})]})]})})},a6=()=>{const[n,e]=U.useState(""),{resetPassword:t}=Ra(),[s,o]=U.useState(!1),c=async d=>{d.preventDefault(),o(!0);try{await t(n),Ue.success("Te hemos enviado un correo para restablecer tu contrasea.")}catch(_){Ue.error(_.message)}finally{o(!1)}};return m.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:m.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[m.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Recuperar Contrasea"}),m.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Ingresa tu correo y te enviaremos las instrucciones"}),m.jsxs("form",{onSubmit:c,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),m.jsx("input",{type:"email",value:n,onChange:d=>e(d.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),m.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:s?"Enviando...":"Enviar Instrucciones"})]}),m.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Te acordaste?"," ",m.jsx(Xt,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Volver a Iniciar Sesin"})]})]})})};function o6(n,e){const t=U.useRef(e);U.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const l6=1;function c6(n){return Object.freeze({__version:l6,map:n})}function u6(n,e){return Object.freeze({...n,...e})}const $_=U.createContext(null);function $S(){const n=U.use($_);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function h6(n){function e(t,s){const{instance:o,context:c}=n(t).current;U.useImperativeHandle(s,()=>o);const{children:d}=t;return d==null?null:an.createElement($_,{value:c},d)}return U.forwardRef(e)}function d6(n){function e(t,s){const{instance:o}=n(t).current;return U.useImperativeHandle(s,()=>o),null}return U.forwardRef(e)}function f6(n,e){const t=U.useRef(void 0);U.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function YS(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}var rh={exports:{}};var m6=rh.exports,i1;function p6(){return i1||(i1=1,(function(n,e){(function(t,s){s(e)})(m6,(function(t){var s="1.9.4";function o(a){var u,g,x,S;for(g=1,x=arguments.length;g<x;g++){S=arguments[g];for(u in S)a[u]=S[u]}return a}var c=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function d(a,u){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var x=g.call(arguments,2);return function(){return a.apply(u,x.length?x.concat(g.call(arguments)):arguments)}}var _=0;function p(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function v(a,u,g){var x,S,P,K;return K=function(){x=!1,S&&(P.apply(g,S),S=!1)},P=function(){x?S=arguments:(a.apply(g,arguments),setTimeout(K,u),x=!0)},P}function w(a,u,g){var x=u[1],S=u[0],P=x-S;return a===x&&g?a:((a-S)%P+P)%P+S}function E(){return!1}function N(a,u){if(u===!1)return a;var g=Math.pow(10,u===void 0?6:u);return Math.round(a*g)/g}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function j(a){return R(a).split(/\s+/)}function z(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var g in u)a.options[g]=u[g];return a.options}function k(a,u,g){var x=[];for(var S in a)x.push(encodeURIComponent(g?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function q(a,u){return a.replace(O,function(g,x){var S=u[x];if(S===void 0)throw new Error("No value provided for variable "+g);return typeof S=="function"&&(S=S(u)),S})}var $=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function ee(a,u){for(var g=0;g<a.length;g++)if(a[g]===u)return g;return-1}var ne="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ye(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var B=0;function I(a){var u=+new Date,g=Math.max(0,16-(u-B));return B=u+g,window.setTimeout(a,g)}var Z=window.requestAnimationFrame||ye("RequestAnimationFrame")||I,F=window.cancelAnimationFrame||ye("CancelAnimationFrame")||ye("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function H(a,u,g){if(g&&Z===I)a.call(u);else return Z.call(window,d(a,u))}function Y(a){a&&F.call(window,a)}var G={__proto__:null,extend:o,create:c,bind:d,get lastId(){return _},stamp:p,throttle:v,wrapNum:w,falseFn:E,formatNum:N,trim:R,splitWords:j,setOptions:z,getParamString:k,template:q,isArray:$,indexOf:ee,emptyImageUrl:ne,requestFn:Z,cancelFn:F,requestAnimFrame:H,cancelAnimFrame:Y};function de(){}de.extend=function(a){var u=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=u.__super__=this.prototype,x=c(g);x.constructor=u,u.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&o(u,a.statics),a.includes&&(Ne(a.includes),o.apply(null,[x].concat(a.includes))),o(x,a),delete x.statics,delete x.includes,x.options&&(x.options=g.options?c(g.options):{},o(x.options,a.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,K=x._initHooks.length;P<K;P++)x._initHooks[P].call(this)}},u},de.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},de.mergeOptions=function(a){return o(this.prototype.options,a),this},de.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function Ne(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=$(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(a,u,g){if(typeof a=="object")for(var x in a)this._on(x,a[x],u);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g)}return this},off:function(a,u,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var x in a)this._off(x,a[x],u);else{a=j(a);for(var S=arguments.length===1,P=0,K=a.length;P<K;P++)S?this._off(a[P]):this._off(a[P],u,g)}return this},_on:function(a,u,g,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,g)===!1){g===this&&(g=void 0);var S={fn:u,ctx:g};x&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,g){var x,S,P;if(this._events&&(x=this._events[a],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,P=x.length;S<P;S++)x[S].fn=E;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var K=this._listens(a,u,g);if(K!==!1){var ie=x[K];this._firingCount&&(ie.fn=E,this._events[a]=x=x.slice()),x.splice(K,1)}}},fire:function(a,u,g){if(!this.listens(a,g))return this;var x=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,K=S.length;P<K;P++){var ie=S[P],ce=ie.fn;ie.once&&this.off(a,ce,ie.ctx),ce.call(ie.ctx||this,x)}this._firingCount--}}return g&&this._propagateEvent(x),this},listens:function(a,u,g,x){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(x=!!u,S=void 0,g=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,g)!==!1)return!0;if(x){for(var K in this._eventParents)if(this._eventParents[K].listens(a,u,g,x))return!0}return!1},_listens:function(a,u,g){if(!this._events)return!1;var x=this._events[a]||[];if(!u)return!!x.length;g===this&&(g=void 0);for(var S=0,P=x.length;S<P;S++)if(x[S].fn===u&&x[S].ctx===g)return S;return!1},once:function(a,u,g){if(typeof a=="object")for(var x in a)this._on(x,a[x],u,!0);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[p(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[p(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var Se=de.extend(re);function ae(a,u,g){this.x=g?Math.round(a):a,this.y=g?Math.round(u):u}var ge=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(a){return this.clone()._add(pe(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(pe(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ae(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ae(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ge(this.x),this.y=ge(this.y),this},distanceTo:function(a){a=pe(a);var u=a.x-this.x,g=a.y-this.y;return Math.sqrt(u*u+g*g)},equals:function(a){return a=pe(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=pe(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function pe(a,u,g){return a instanceof ae?a:$(a)?new ae(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ae(a.x,a.y):new ae(a,u,g)}function D(a,u){if(a)for(var g=u?[a,u]:a,x=0,S=g.length;x<S;x++)this.extend(g[x])}D.prototype={extend:function(a){var u,g;if(!a)return this;if(a instanceof ae||typeof a[0]=="number"||"x"in a)u=g=pe(a);else if(a=X(a),u=a.min,g=a.max,!u||!g)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=g.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return pe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return pe(this.min.x,this.max.y)},getTopRight:function(){return pe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,g;return typeof a[0]=="number"||a instanceof ae?a=pe(a):a=X(a),a instanceof D?(u=a.min,g=a.max):u=g=a,u.x>=this.min.x&&g.x<=this.max.x&&u.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=X(a);var u=this.min,g=this.max,x=a.min,S=a.max,P=S.x>=u.x&&x.x<=g.x,K=S.y>=u.y&&x.y<=g.y;return P&&K},overlaps:function(a){a=X(a);var u=this.min,g=this.max,x=a.min,S=a.max,P=S.x>u.x&&x.x<g.x,K=S.y>u.y&&x.y<g.y;return P&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,g=this.max,x=Math.abs(u.x-g.x)*a,S=Math.abs(u.y-g.y)*a;return X(pe(u.x-x,u.y-S),pe(g.x+x,g.y+S))},equals:function(a){return a?(a=X(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function X(a,u){return!a||a instanceof D?a:new D(a,u)}function me(a,u){if(a)for(var g=u?[a,u]:a,x=0,S=g.length;x<S;x++)this.extend(g[x])}me.prototype={extend:function(a){var u=this._southWest,g=this._northEast,x,S;if(a instanceof Ae)x=a,S=a;else if(a instanceof me){if(x=a._southWest,S=a._northEast,!x||!S)return this}else return a?this.extend(Ce(a)||ve(a)):this;return!u&&!g?(this._southWest=new Ae(x.lat,x.lng),this._northEast=new Ae(S.lat,S.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),g.lat=Math.max(S.lat,g.lat),g.lng=Math.max(S.lng,g.lng)),this},pad:function(a){var u=this._southWest,g=this._northEast,x=Math.abs(u.lat-g.lat)*a,S=Math.abs(u.lng-g.lng)*a;return new me(new Ae(u.lat-x,u.lng-S),new Ae(g.lat+x,g.lng+S))},getCenter:function(){return new Ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ae||"lat"in a?a=Ce(a):a=ve(a);var u=this._southWest,g=this._northEast,x,S;return a instanceof me?(x=a.getSouthWest(),S=a.getNorthEast()):x=S=a,x.lat>=u.lat&&S.lat<=g.lat&&x.lng>=u.lng&&S.lng<=g.lng},intersects:function(a){a=ve(a);var u=this._southWest,g=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=u.lat&&x.lat<=g.lat,K=S.lng>=u.lng&&x.lng<=g.lng;return P&&K},overlaps:function(a){a=ve(a);var u=this._southWest,g=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>u.lat&&x.lat<g.lat,K=S.lng>u.lng&&x.lng<g.lng;return P&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=ve(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ve(a,u){return a instanceof me?a:new me(a,u)}function Ae(a,u,g){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,g!==void 0&&(this.alt=+g)}Ae.prototype={equals:function(a,u){if(!a)return!1;a=Ce(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return At.distance(this,Ce(a))},wrap:function(){return At.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,g=u/Math.cos(Math.PI/180*this.lat);return ve([this.lat-u,this.lng-g],[this.lat+u,this.lng+g])},clone:function(){return new Ae(this.lat,this.lng,this.alt)}};function Ce(a,u,g){return a instanceof Ae?a:$(a)&&typeof a[0]!="object"?a.length===3?new Ae(a[0],a[1],a[2]):a.length===2?new Ae(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ae(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Ae(a,u,g)}var qe={latLngToPoint:function(a,u){var g=this.projection.project(a),x=this.scale(u);return this.transformation._transform(g,x)},pointToLatLng:function(a,u){var g=this.scale(u),x=this.transformation.untransform(a,g);return this.projection.unproject(x)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,g=this.scale(a),x=this.transformation.transform(u.min,g),S=this.transformation.transform(u.max,g);return new D(x,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,x=a.alt;return new Ae(g,u,x)},wrapLatLngBounds:function(a){var u=a.getCenter(),g=this.wrapLatLng(u),x=u.lat-g.lat,S=u.lng-g.lng;if(x===0&&S===0)return a;var P=a.getSouthWest(),K=a.getNorthEast(),ie=new Ae(P.lat-x,P.lng-S),ce=new Ae(K.lat-x,K.lng-S);return new me(ie,ce)}},At=o({},qe,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var g=Math.PI/180,x=a.lat*g,S=u.lat*g,P=Math.sin((u.lat-a.lat)*g/2),K=Math.sin((u.lng-a.lng)*g/2),ie=P*P+Math.cos(x)*Math.cos(S)*K*K,ce=2*Math.atan2(Math.sqrt(ie),Math.sqrt(1-ie));return this.R*ce}}),Ct=6378137,ji={R:Ct,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,g=this.MAX_LATITUDE,x=Math.max(Math.min(g,a.lat),-g),S=Math.sin(x*u);return new ae(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new Ae((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Ct*Math.PI;return new D([-a,-a],[a,a])})()};function ls(a,u,g,x){if($(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=g,this._d=x}ls.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new ae((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function gi(a,u,g,x){return new ls(a,u,g,x)}var cs=o({},At,{code:"EPSG:3857",projection:ji,transformation:(function(){var a=.5/(Math.PI*ji.R);return gi(a,.5,-a,.5)})()}),yi=o({},cs,{code:"EPSG:900913"});function or(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function us(a,u){var g="",x,S,P,K,ie,ce;for(x=0,P=a.length;x<P;x++){for(ie=a[x],S=0,K=ie.length;S<K;S++)ce=ie[S],g+=(S?"L":"M")+ce.x+" "+ce.y;g+=u?Oe.svg?"z":"x":""}return g||"M0 0"}var Ds=document.documentElement.style,hs="ActiveXObject"in window,J=hs&&!document.addEventListener,ke="msLaunchUri"in navigator&&!("documentMode"in document),Je=Rn("webkit"),rt=Rn("android"),zn=Rn("android 2")||Rn("android 3"),kt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ks=rt&&Rn("Google")&&kt<537&&!("AudioNode"in window),Br=!!window.opera,Ia=!ke&&Rn("chrome"),js=Rn("gecko")&&!Je&&!Br&&!hs,lu=!Ia&&Rn("safari"),Bo=Rn("phantom"),qo="OTransition"in Ds,Wl=navigator.platform.indexOf("Win")===0,_i=hs&&"transition"in Ds,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zn,si="MozPerspective"in Ds,Yt=!window.L_DISABLE_3D&&(_i||hn||si)&&!qo&&!Bo,lr=typeof orientation<"u"||Rn("mobile"),Pa=lr&&Je,Ql=lr&&hn,Vi=!window.PointerEvent&&window.MSPointerEvent,cr=!!(window.PointerEvent||Vi),Kt="ontouchstart"in window||!!window.TouchEvent,ds=!window.L_NO_TOUCH&&(Kt||cr),fs=lr&&Br,zi=lr&&js,cu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xl=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",E,u),window.removeEventListener("testPassiveEventSupport",E,u)}catch{}return a})(),ms=(function(){return!!document.createElement("canvas").getContext})(),Vs=!!(document.createElementNS&&or("svg").createSVGRect),uu=!!Vs&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),qr=!Vs&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Ho=navigator.platform.indexOf("Mac")===0,Fo=navigator.platform.indexOf("Linux")===0;function Rn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Oe={ie:hs,ielt9:J,edge:ke,webkit:Je,android:rt,android23:zn,androidStock:ks,opera:Br,chrome:Ia,gecko:js,safari:lu,phantom:Bo,opera12:qo,win:Wl,ie3d:_i,webkit3d:hn,gecko3d:si,any3d:Yt,mobile:lr,mobileWebkit:Pa,mobileWebkit3d:Ql,msPointer:Vi,pointer:cr,touch:ds,touchNative:Kt,mobileOpera:fs,mobileGecko:zi,retina:cu,passiveEvents:Xl,canvas:ms,svg:Vs,vml:qr,inlineSvg:uu,mac:Ho,linux:Fo},Go=Oe.msPointer?"MSPointerDown":"pointerdown",vi=Oe.msPointer?"MSPointerMove":"pointermove",bi=Oe.msPointer?"MSPointerUp":"pointerup",Wt=Oe.msPointer?"MSPointerCancel":"pointercancel",en={touchstart:Go,touchmove:vi,touchend:bi,touchcancel:Wt},Ui={touchstart:gs,touchmove:In,touchend:In,touchcancel:In},Bi={},Jl=!1;function ec(a,u,g){return u==="touchstart"&&xi(),Ui[u]?(g=Ui[u].bind(this,g),a.addEventListener(en[u],g,!1),g):(console.warn("wrong event specified:",u),E)}function tc(a,u,g){if(!en[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(en[u],g,!1)}function ps(a){Bi[a.pointerId]=a}function Ma(a){Bi[a.pointerId]&&(Bi[a.pointerId]=a)}function qi(a){delete Bi[a.pointerId]}function xi(){Jl||(document.addEventListener(Go,ps,!0),document.addEventListener(vi,Ma,!0),document.addEventListener(bi,qi,!0),document.addEventListener(Wt,qi,!0),Jl=!0)}function In(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var g in Bi)u.touches.push(Bi[g]);u.changedTouches=[u],a(u)}}function gs(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ht(u),In(a,u)}function tn(a){var u={},g,x;for(x in a)g=a[x],u[x]=g&&g.bind?g.bind(a):g;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Zo=200;function $o(a,u){a.addEventListener("dblclick",u);var g=0,x;function S(P){if(P.detail!==1){x=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var K=mr(P);if(!(K.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!K.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var ie=Date.now();ie-g<=Zo?(x++,x===2&&u(tn(P))):x=1,g=ie}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function ys(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var wi=Fr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zs=Fr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),La=zs==="webkitTransition"||zs==="OTransition"?zs+"End":"transitionend";function Oa(a){return typeof a=="string"?document.getElementById(a):a}function ur(a,u){var g=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!g||g==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(a,null);g=x?x[u]:null}return g==="auto"?null:g}function st(a,u,g){var x=document.createElement(a);return x.className=u||"",g&&g.appendChild(x),x}function at(a){var u=a.parentNode;u&&u.removeChild(a)}function Bt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function qt(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function ri(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Hr(a,u){if(a.classList!==void 0)return a.classList.contains(u);var g=_s(a);return g.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(g)}function Me(a,u){if(a.classList!==void 0)for(var g=j(u),x=0,S=g.length;x<S;x++)a.classList.add(g[x]);else if(!Hr(a,u)){var P=_s(a);Ei(a,(P?P+" ":"")+u)}}function Nt(a,u){a.classList!==void 0?a.classList.remove(u):Ei(a,R((" "+_s(a)+" ").replace(" "+u+" "," ")))}function Ei(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function _s(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function jt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Da(a,u)}function Da(a,u){var g=!1,x="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),g?(g.Enabled=u!==100,g.Opacity=u):a.style.filter+=" progid:"+x+"(opacity="+u+")"}function Fr(a){for(var u=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in u)return a[g];return!1}function Hi(a,u,g){var x=u||new ae(0,0);a.style[wi]=(Oe.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(g?" scale("+g+")":"")}function Rt(a,u){a._leaflet_pos=u,Oe.any3d?Hi(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function vs(a){return a._leaflet_pos||new ae(0,0)}var Ti,gn,ka;if("onselectstart"in document)Ti=function(){He(window,"selectstart",Ht)},gn=function(){vt(window,"selectstart",Ht)};else{var Us=Fr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ti=function(){if(Us){var a=document.documentElement.style;ka=a[Us],a[Us]="none"}},gn=function(){Us&&(document.documentElement.style[Us]=ka,ka=void 0)}}function Gr(){He(window,"dragstart",Ht)}function hr(){vt(window,"dragstart",Ht)}var Zr,bs;function dr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Zn(),Zr=a,bs=a.style.outlineStyle,a.style.outlineStyle="none",He(window,"keydown",Zn))}function Zn(){Zr&&(Zr.style.outlineStyle=bs,Zr=void 0,bs=void 0,vt(window,"keydown",Zn))}function ja(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function $n(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var fr={__proto__:null,TRANSFORM:wi,TRANSITION:zs,TRANSITION_END:La,get:Oa,getStyle:ur,create:st,remove:at,empty:Bt,toFront:qt,toBack:ri,hasClass:Hr,addClass:Me,removeClass:Nt,setClass:Ei,getClass:_s,setOpacity:jt,testProp:Fr,setTransform:Hi,setPosition:Rt,getPosition:vs,get disableTextSelection(){return Ti},get enableTextSelection(){return gn},disableImageDrag:Gr,enableImageDrag:hr,preventOutline:dr,restoreOutline:Zn,getSizedParentNode:ja,getScale:$n};function He(a,u,g,x){if(u&&typeof u=="object")for(var S in u)Yn(a,S,u[S],g);else{u=j(u);for(var P=0,K=u.length;P<K;P++)Yn(a,u[P],g,x)}return this}var Pn="_leaflet_events";function vt(a,u,g,x){if(arguments.length===1)Bs(a),delete a[Pn];else if(u&&typeof u=="object")for(var S in u)qs(a,S,u[S],g);else if(u=j(u),arguments.length===2)Bs(a,function(ie){return ee(u,ie)!==-1});else for(var P=0,K=u.length;P<K;P++)qs(a,u[P],g,x);return this}function Bs(a,u){for(var g in a[Pn]){var x=g.split(/\d/)[0];(!u||u(x))&&qs(a,x,null,null,g)}}var ai={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yn(a,u,g,x){var S=u+p(g)+(x?"_"+p(x):"");if(a[Pn]&&a[Pn][S])return this;var P=function(ie){return g.call(x||a,ie||window.event)},K=P;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?P=ec(a,u,P):Oe.touch&&u==="dblclick"?P=$o(a,P):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(ai[u]||u,P,Oe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(P=function(ie){ie=ie||window.event,Zi(a,ie)&&K(ie)},a.addEventListener(ai[u],P,!1)):a.addEventListener(u,K,!1):a.attachEvent("on"+u,P),a[Pn]=a[Pn]||{},a[Pn][S]=P}function qs(a,u,g,x,S){S=S||u+p(g)+(x?"_"+p(x):"");var P=a[Pn]&&a[Pn][S];if(!P)return this;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?tc(a,u,P):Oe.touch&&u==="dblclick"?ys(a,P):"removeEventListener"in a?a.removeEventListener(ai[u]||u,P,!1):a.detachEvent("on"+u,P),a[Pn][S]=null}function ut(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Si(a){return Yn(a,"wheel",ut),this}function Hs(a){return He(a,"mousedown touchstart dblclick contextmenu",ut),a._leaflet_disable_click=!0,this}function Ht(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Fi(a){return Ht(a),ut(a),this}function mr(a){if(a.composedPath)return a.composedPath();for(var u=[],g=a.target;g;)u.push(g),g=g.parentNode;return u}function xs(a,u){if(!u)return new ae(a.clientX,a.clientY);var g=$n(u),x=g.boundingClientRect;return new ae((a.clientX-x.left)/g.x-u.clientLeft,(a.clientY-x.top)/g.y-u.clientTop)}var Gi=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yn(a){return Oe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Gi:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Zi(a,u){var g=u.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var ws={__proto__:null,on:He,off:vt,stopPropagation:ut,disableScrollPropagation:Si,disableClickPropagation:Hs,preventDefault:Ht,stop:Fi,getPropagationPath:mr,getMousePosition:xs,getWheelDelta:yn,isExternalTarget:Zi,addListener:He,removeListener:vt},Fs=Se.extend({run:function(a,u,g,x){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=vs(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,g=this._duration*1e3;u<g?this._runFrame(this._easeOut(u/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var g=this._startPos.add(this._offset.multiplyBy(a));u&&g._round(),Rt(this._el,g),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),it=Se.extend({options:{crs:cs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=z(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ce(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zs&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),He(this._proxy,La,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,g){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Ce(a),u,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=o({animate:g.animate},g.zoom),g.pan=o({animate:g.animate,duration:g.duration},g.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,g.zoom):this._tryAnimatedPan(a,g.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,g){var x=this.getZoomScale(u),S=this.getSize().divideBy(2),P=a instanceof ae?a:this.latLngToContainerPoint(a),K=P.subtract(S).multiplyBy(1-1/x),ie=this.containerPointToLatLng(S.add(K));return this.setView(ie,u,{zoom:g})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():ve(a);var g=pe(u.paddingTopLeft||u.padding||[0,0]),x=pe(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,g.add(x));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=x.subtract(g).divideBy(2),K=this.project(a.getSouthWest(),S),ie=this.project(a.getNorthEast(),S),ce=this.unproject(K.add(ie).divideBy(2).add(P),S);return{center:ce,zoom:S}},fitBounds:function(a,u){if(a=ve(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,u);return this.setView(g.center,g.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=pe(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Me(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,g){if(g=g||{},g.animate===!1||!Oe.any3d)return this.setView(a,u,g);this._stop();var x=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),K=this._zoom;a=Ce(a),u=u===void 0?K:u;var ie=Math.max(P.x,P.y),ce=ie*this.getZoomScale(K,u),we=S.distanceTo(x)||1,Ie=1.42,Ve=Ie*Ie;function tt(Qt){var Ks=Qt?-1:1,Jr=Qt?ce:ie,gu=ce*ce-ie*ie+Ks*Ve*Ve*we*we,fl=2*Jr*Ve*we,ml=gu/fl,Tr=Math.sqrt(ml*ml+1)-ml,Ws=Tr<1e-9?-18:Math.log(Tr);return Ws}function Sn(Qt){return(Math.exp(Qt)-Math.exp(-Qt))/2}function nn(Qt){return(Math.exp(Qt)+Math.exp(-Qt))/2}function ci(Qt){return Sn(Qt)/nn(Qt)}var bt=tt(0);function xt(Qt){return ie*(nn(bt)/nn(bt+Ie*Qt))}function ot(Qt){return ie*(nn(bt)*ci(bt+Ie*Qt)-Sn(bt))/Ve}function wr(Qt){return 1-Math.pow(1-Qt,1.5)}var Ii=Date.now(),mc=(tt(1)-bt)/Ie,Er=g.duration?1e3*g.duration:1e3*mc*.8;function pu(){var Qt=(Date.now()-Ii)/Er,Ks=wr(Qt)*mc;Qt<=1?(this._flyToFrame=H(pu,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(ot(Ks)/we)),K),this.getScaleZoom(ie/xt(Ks),K),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),pu.call(this),this},flyToBounds:function(a,u){var g=this._getBoundsCenterZoom(a,u);return this.flyTo(g.center,g.zoom,u)},setMaxBounds:function(a){return a=ve(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var g=this.getCenter(),x=this._limitCenter(g,this._zoom,ve(a));return g.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var g=pe(u.paddingTopLeft||u.padding||[0,0]),x=pe(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),K=this.getPixelBounds(),ie=X([K.min.add(g),K.max.subtract(x)]),ce=ie.getSize();if(!ie.contains(P)){this._enforcingBounds=!0;var we=P.subtract(ie.getCenter()),Ie=ie.extend(P).getSize().subtract(ce);S.x+=we.x<0?-Ie.x:Ie.x,S.y+=we.y<0?-Ie.y:Ie.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),x=u.divideBy(2).round(),S=g.divideBy(2).round(),P=x.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),g=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,g,a):navigator.geolocation.getCurrentPosition(u,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,g=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,g=a.coords.longitude,x=new Ae(u,g),S=x.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var K=this.getBoundsZoom(S);this.setView(x,P.maxZoom?Math.min(K,P.maxZoom):K)}var ie={latlng:x,bounds:S,timestamp:a.timestamp};for(var ce in a.coords)typeof a.coords[ce]=="number"&&(ie[ce]=a.coords[ce]);this.fire("locationfound",ie)}},addHandler:function(a,u){if(!u)return this;var g=this[a]=new u(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)at(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),x=st("div",g,u||this._mapPane);return a&&(this._panes[a]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new me(u,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,g){a=ve(a),g=pe(g||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),K=a.getNorthWest(),ie=a.getSouthEast(),ce=this.getSize().subtract(g),we=X(this.project(ie,x),this.project(K,x)).getSize(),Ie=Oe.any3d?this.options.zoomSnap:1,Ve=ce.x/we.x,tt=ce.y/we.y,Sn=u?Math.max(Ve,tt):Math.min(Ve,tt);return x=this.getScaleZoom(Sn,x),Ie&&(x=Math.round(x/(Ie/100))*(Ie/100),x=u?Math.ceil(x/Ie)*Ie:Math.floor(x/Ie)*Ie),Math.max(S,Math.min(P,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var g=this._getTopLeftPoint(a,u);return new D(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var g=this.options.crs;return u=u===void 0?this._zoom:u,g.scale(a)/g.scale(u)},getScaleZoom:function(a,u){var g=this.options.crs;u=u===void 0?this._zoom:u;var x=g.zoom(a*g.scale(u));return isNaN(x)?1/0:x},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ce(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(pe(a),u)},layerPointToLatLng:function(a){var u=pe(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Ce(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ce(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ve(a))},distance:function(a,u){return this.options.crs.distance(Ce(a),Ce(u))},containerPointToLayerPoint:function(a){return pe(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return pe(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(pe(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ce(a)))},mouseEventToContainerPoint:function(a){return xs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Oa(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");He(u,"scroll",this._onScroll,this),this._containerId=p(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Me(a,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ur(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Rt(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Me(a.markerPane,"leaflet-zoom-hide"),Me(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,g){Rt(this._mapPane,new ae(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,g)._move(a,u)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,g,x){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),x?g&&g.pinch&&this.fire("zoom",g):((S||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Rt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[p(this._container)]=this;var u=a?vt:He;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var g=[],x,S=u==="mouseout"||u==="mouseover",P=a.target||a.srcElement,K=!1;P;){if(x=this._targets[p(P)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){K=!0;break}if(x&&x.listens(u,!0)&&(S&&!Zi(P,a)||(g.push(x),S))||P===this._container)break;P=P.parentNode}return!g.length&&!K&&!S&&this.listens(u,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var g=a.type;g==="mousedown"&&dr(u),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,g){if(a.type==="click"){var x=o({},a);x.type="preclick",this._fireDOMEvent(x,x.type,g)}var S=this._findEventTargets(a,u);if(g){for(var P=[],K=0;K<g.length;K++)g[K].listens(u,!0)&&P.push(g[K]);S=P.concat(S)}if(S.length){u==="contextmenu"&&Ht(a);var ie=S[0],ce={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var we=ie.getLatLng&&(!ie._radius||ie._radius<=10);ce.containerPoint=we?this.latLngToContainerPoint(ie.getLatLng()):this.mouseEventToContainerPoint(a),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=we?ie.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(K=0;K<S.length;K++)if(S[K].fire(u,ce,!0),ce.originalEvent._stopped||S[K].options.bubblingMouseEvents===!1&&ee(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return vs(this._mapPane)||new ae(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var g=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var g=this.getSize()._divideBy(2);return this.project(a,u)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,g){var x=this._getNewPixelOrigin(g,u);return this.project(a,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(a,u,g){var x=this._getNewPixelOrigin(g,u);return X([this.project(a.getSouthWest(),u)._subtract(x),this.project(a.getNorthWest(),u)._subtract(x),this.project(a.getSouthEast(),u)._subtract(x),this.project(a.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,g){if(!g)return a;var x=this.project(a,u),S=this.getSize().divideBy(2),P=new D(x.subtract(S),x.add(S)),K=this._getBoundsOffset(P,g,u);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?a:this.unproject(x.add(K),u)},_limitOffset:function(a,u){if(!u)return a;var g=this.getPixelBounds(),x=new D(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(a,u,g){var x=X(this.project(u.getNorthEast(),g),this.project(u.getSouthWest(),g)),S=x.min.subtract(a.min),P=x.max.subtract(a.max),K=this._rebound(S.x,-P.x),ie=this._rebound(S.y,-P.y);return new ae(K,ie)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),g=this.getMaxZoom(),x=Oe.any3d?this.options.zoomSnap:1;return x&&(a=Math.round(a/x)*x),Math.max(u,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var g=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,u),!0)},_createAnimProxy:function(){var a=this._proxy=st("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var g=wi,x=this._proxy.style[g];Hi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Hi(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/x);return g.animate!==!0&&!this.getSize().contains(S)?!1:(H(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,g,x){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pr(a,u){return new it(a,u)}var Mn=de.extend({options:{position:"topright"},initialize:function(a){z(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),g=this.getPosition(),x=a._controlCorners[g];return Me(u,"leaflet-control"),g.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Kn=function(a){return new Mn(a)};it.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",g=this._controlContainer=st("div",u+"control-container",this._container);function x(S,P){var K=u+S+" "+u+P;a[S+P]=st("div",K,g)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)at(this._controlCorners[a]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $r=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,g,x){return g<x?-1:x<g?1:0}},initialize:function(a,u,g){z(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in a)this._addLayer(a[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Mn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(p(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=st("div",a),g=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Hs(u),Si(u);var x=this._section=st("section",a+"-list");g&&(this._map.on("click",this.collapse,this),He(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=st("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),He(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Ht(P),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=st("div",a+"-base",x),this._separator=st("div",a+"-separator",x),this._overlaysList=st("div",a+"-overlays",x),u.appendChild(x)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&p(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:g}),this.options.sortLayers&&this._layers.sort(d(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bt(this._baseLayersList),Bt(this._overlaysList),this._layerControlInputs=[];var a,u,g,x,S=0;for(g=0;g<this._layers.length;g++)x=this._layers[g],this._addItem(x),u=u||x.overlay,a=a||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(p(a.target)),g=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,u)},_createRadioElement:function(a,u){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=g,x.firstChild},_addItem:function(a){var u=document.createElement("label"),g=this._map.hasLayer(a.layer),x;a.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=g):x=this._createRadioElement("leaflet-base-layers_"+p(this),g),this._layerControlInputs.push(x),x.layerId=p(a.layer),He(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");u.appendChild(P),P.appendChild(x),P.appendChild(S);var K=a.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,g,x=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)u=a[P],g=this._getLayer(u.layerId).layer,u.checked?x.push(g):u.checked||S.push(g);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<x.length;P++)this._map.hasLayer(x[P])||this._map.addLayer(x[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,g,x=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],g=this._getLayer(u.layerId).layer,u.disabled=g.options.minZoom!==void 0&&x<g.options.minZoom||g.options.maxZoom!==void 0&&x>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,He(a,"click",Ht),this.expand();var u=this;setTimeout(function(){vt(a,"click",Ht),u._preventClick=!1})}}),Yo=function(a,u,g){return new $r(a,u,g)},Gs=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",g=st("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,g,x,S){var P=st("a",g,x);return P.innerHTML=a,P.href="#",P.title=u,P.setAttribute("role","button"),P.setAttribute("aria-label",u),Hs(P),He(P,"click",Fi),He(P,"click",S,this),He(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Nt(this._zoomInButton,u),Nt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Me(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Me(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});it.mergeOptions({zoomControl:!0}),it.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gs,this.addControl(this.zoomControl))});var nc=function(a){return new Gs(a)},Ko=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",g=st("div",u),x=this.options;return this._addScales(x,u+"-line",g),a.on(x.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,g){a.metric&&(this._mScale=st("div",u,g)),a.imperial&&(this._iScale=st("div",u,g))},_update:function(){var a=this._map,u=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),g=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,g,u/a)},_updateImperial:function(a){var u=a*3.2808399,g,x,S;u>5280?(g=u/5280,x=this._getRoundNum(g),this._updateScale(this._iScale,x+" mi",x/g)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),g=a/u;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,u*g}}),Yr=function(a){return new Ko(a)},Wo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Va=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?Wo+" ":"")+"Leaflet</a>"},initialize:function(a){z(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=st("div","leaflet-control-attribution"),Hs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});it.mergeOptions({attributionControl:!0}),it.addInitHook(function(){this.options.attributionControl&&new Va().addTo(this)});var za=function(a){return new Va(a)};Mn.Layers=$r,Mn.Zoom=Gs,Mn.Scale=Ko,Mn.Attribution=Va,Kn.layers=Yo,Kn.zoom=nc,Kn.scale=Yr,Kn.attribution=za;var oi=de.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});oi.addTo=function(a,u){return a.addHandler(u,this),this};var ic={Events:re},$i=Oe.touch?"touchstart mousedown":"mousedown",Yi=Se.extend({options:{clickTolerance:3},initialize:function(a,u,g,x){z(this,x),this._element=a,this._dragStartTarget=u||a,this._preventOutline=g},enable:function(){this._enabled||(He(this._dragStartTarget,$i,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yi._dragging===this&&this.finishDrag(!0),vt(this._dragStartTarget,$i,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Hr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Yi._dragging===this&&this.finishDrag();return}if(!(Yi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Yi._dragging=this,this._preventOutline&&dr(this._element),Gr(),Ti(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,g=ja(this._element);this._startPoint=new ae(u.clientX,u.clientY),this._startPos=vs(this._element),this._parentScale=$n(g);var x=a.type==="mousedown";He(document,x?"mousemove":"touchmove",this._onMove,this),He(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,g=new ae(u.clientX,u.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Ht(a),this._moved||(this.fire("dragstart"),this._moved=!0,Me(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Rt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Nt(document.body,"leaflet-dragging"),this._lastTarget&&(Nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),vt(document,"mousemove touchmove",this._onMove,this),vt(document,"mouseup touchend touchcancel",this._onUp,this),hr(),gn();var u=this._moved&&this._moving;this._moving=!1,Yi._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Qo(a,u,g){var x,S=[1,4,2,8],P,K,ie,ce,we,Ie,Ve,tt;for(P=0,Ie=a.length;P<Ie;P++)a[P]._code=he(a[P],u);for(ie=0;ie<4;ie++){for(Ve=S[ie],x=[],P=0,Ie=a.length,K=Ie-1;P<Ie;K=P++)ce=a[P],we=a[K],ce._code&Ve?we._code&Ve||(tt=se(we,ce,Ve,u,g),tt._code=he(tt,u),x.push(tt)):(we._code&Ve&&(tt=se(we,ce,Ve,u,g),tt._code=he(tt,u),x.push(tt)),x.push(ce));a=x}return a}function Xo(a,u){var g,x,S,P,K,ie,ce,we,Ie;if(!a||a.length===0)throw new Error("latlngs not passed");gt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ve=Ce([0,0]),tt=ve(a),Sn=tt.getNorthWest().distanceTo(tt.getSouthWest())*tt.getNorthEast().distanceTo(tt.getNorthWest());Sn<1700&&(Ve=Ua(a));var nn=a.length,ci=[];for(g=0;g<nn;g++){var bt=Ce(a[g]);ci.push(u.project(Ce([bt.lat-Ve.lat,bt.lng-Ve.lng])))}for(ie=ce=we=0,g=0,x=nn-1;g<nn;x=g++)S=ci[g],P=ci[x],K=S.y*P.x-P.y*S.x,ce+=(S.x+P.x)*K,we+=(S.y+P.y)*K,ie+=K*3;ie===0?Ie=ci[0]:Ie=[ce/ie,we/ie];var xt=u.unproject(pe(Ie));return Ce([xt.lat+Ve.lat,xt.lng+Ve.lng])}function Ua(a){for(var u=0,g=0,x=0,S=0;S<a.length;S++){var P=Ce(a[S]);u+=P.lat,g+=P.lng,x++}return Ce([u/x,g/x])}var gr={__proto__:null,clipPolygon:Qo,polygonCenter:Xo,centroid:Ua};function Ln(a,u){if(!u||!a.length)return a.slice();var g=u*u;return a=T(a,g),a=Zs(a,g),a}function Jo(a,u,g){return Math.sqrt(Ye(a,u,g,!0))}function sc(a,u,g){return Ye(a,u,g)}function Zs(a,u){var g=a.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(g);S[0]=S[g-1]=1,f(a,S,u,0,g-1);var P,K=[];for(P=0;P<g;P++)S[P]&&K.push(a[P]);return K}function f(a,u,g,x,S){var P=0,K,ie,ce;for(ie=x+1;ie<=S-1;ie++)ce=Ye(a[ie],a[x],a[S],!0),ce>P&&(K=ie,P=ce);P>g&&(u[K]=1,f(a,u,g,x,K),f(a,u,g,K,S))}function T(a,u){for(var g=[a[0]],x=1,S=0,P=a.length;x<P;x++)Re(a[x],a[S])>u&&(g.push(a[x]),S=x);return S<P-1&&g.push(a[P-1]),g}var C;function V(a,u,g,x,S){var P=x?C:he(a,g),K=he(u,g),ie,ce,we;for(C=K;;){if(!(P|K))return[a,u];if(P&K)return!1;ie=P||K,ce=se(a,u,ie,g,S),we=he(ce,g),ie===P?(a=ce,P=we):(u=ce,K=we)}}function se(a,u,g,x,S){var P=u.x-a.x,K=u.y-a.y,ie=x.min,ce=x.max,we,Ie;return g&8?(we=a.x+P*(ce.y-a.y)/K,Ie=ce.y):g&4?(we=a.x+P*(ie.y-a.y)/K,Ie=ie.y):g&2?(we=ce.x,Ie=a.y+K*(ce.x-a.x)/P):g&1&&(we=ie.x,Ie=a.y+K*(ie.x-a.x)/P),new ae(we,Ie,S)}function he(a,u){var g=0;return a.x<u.min.x?g|=1:a.x>u.max.x&&(g|=2),a.y<u.min.y?g|=4:a.y>u.max.y&&(g|=8),g}function Re(a,u){var g=u.x-a.x,x=u.y-a.y;return g*g+x*x}function Ye(a,u,g,x){var S=u.x,P=u.y,K=g.x-S,ie=g.y-P,ce=K*K+ie*ie,we;return ce>0&&(we=((a.x-S)*K+(a.y-P)*ie)/ce,we>1?(S=g.x,P=g.y):we>0&&(S+=K*we,P+=ie*we)),K=a.x-S,ie=a.y-P,x?K*K+ie*ie:new ae(S,P)}function gt(a){return!$(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function yt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gt(a)}function Vt(a,u){var g,x,S,P,K,ie,ce,we;if(!a||a.length===0)throw new Error("latlngs not passed");gt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ie=Ce([0,0]),Ve=ve(a),tt=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());tt<1700&&(Ie=Ua(a));var Sn=a.length,nn=[];for(g=0;g<Sn;g++){var ci=Ce(a[g]);nn.push(u.project(Ce([ci.lat-Ie.lat,ci.lng-Ie.lng])))}for(g=0,x=0;g<Sn-1;g++)x+=nn[g].distanceTo(nn[g+1])/2;if(x===0)we=nn[0];else for(g=0,P=0;g<Sn-1;g++)if(K=nn[g],ie=nn[g+1],S=K.distanceTo(ie),P+=S,P>x){ce=(P-x)/S,we=[ie.x-ce*(ie.x-K.x),ie.y-ce*(ie.y-K.y)];break}var bt=u.unproject(pe(we));return Ce([bt.lat+Ie.lat,bt.lng+Ie.lng])}var Ai={__proto__:null,simplify:Ln,pointToSegmentDistance:Jo,closestPointOnSegment:sc,clipSegment:V,_getEdgeIntersection:se,_getBitCode:he,_sqClosestPointOnSegment:Ye,isFlat:gt,_flat:yt,polylineCenter:Vt},Ci={project:function(a){return new ae(a.lng,a.lat)},unproject:function(a){return new Ae(a.y,a.x)},bounds:new D([-180,-90],[180,90])},li={R:6378137,R_MINOR:6356752314245179e-9,bounds:new D([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,g=this.R,x=a.lat*u,S=this.R_MINOR/g,P=Math.sqrt(1-S*S),K=P*Math.sin(x),ie=Math.tan(Math.PI/4-x/2)/Math.pow((1-K)/(1+K),P/2);return x=-g*Math.log(Math.max(ie,1e-10)),new ae(a.lng*u*g,x)},unproject:function(a){for(var u=180/Math.PI,g=this.R,x=this.R_MINOR/g,S=Math.sqrt(1-x*x),P=Math.exp(-a.y/g),K=Math.PI/2-2*Math.atan(P),ie=0,ce=.1,we;ie<15&&Math.abs(ce)>1e-7;ie++)we=S*Math.sin(K),we=Math.pow((1-we)/(1+we),S/2),ce=Math.PI/2-2*Math.atan(P*we)-K,K+=ce;return new Ae(K*u,a.x*u/g)}},Ki={__proto__:null,LonLat:Ci,Mercator:li,SphericalMercator:ji},Kr=o({},At,{code:"EPSG:3395",projection:li,transformation:(function(){var a=.5/(Math.PI*li.R);return gi(a,.5,-a,.5)})()}),Wr=o({},At,{code:"EPSG:4326",projection:Ci,transformation:gi(1/180,1,-1/180,.5)}),Ba=o({},qe,{projection:Ci,transformation:gi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var g=u.lng-a.lng,x=u.lat-a.lat;return Math.sqrt(g*g+x*x)},infinite:!0});qe.Earth=At,qe.EPSG3395=Kr,qe.EPSG3857=cs,qe.EPSG900913=yi,qe.EPSG4326=Wr,qe.Simple=Ba;var Wi=Se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[p(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[p(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var g=this.getEvents();u.on(g,this),this.once("remove",function(){u.off(g,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});it.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=p(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=p(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return p(a)in this._layers},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},_addLayers:function(a){a=a?$(a)?a:[a]:[];for(var u=0,g=a.length;u<g;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[p(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=p(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,g=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qa=Wi.extend({initialize:function(a,u){z(this,u),this._layers={};var g,x;if(a)for(g=0,x=a.length;g<x;g++)this.addLayer(a[g])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),g,x;for(g in this._layers)x=this._layers[g],x[a]&&x[a].apply(x,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return p(a)}}),Rm=function(a,u){return new qa(a,u)},Es=qa.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),qa.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),qa.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new me;for(var u in this._layers){var g=this._layers[u];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),Fh=function(a,u){return new Es(a,u)},Ts=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){z(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(g,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(a,u){var g=this.options,x=g[u+"Size"];typeof x=="number"&&(x=[x,x]);var S=pe(x),P=pe(u==="shadow"&&g.shadowAnchor||g.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(g.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Oe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function el(a){return new Ts(a)}var tl=Ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof tl.imagePath!="string"&&(tl.imagePath=this._detectIconPath()),(this.options.imagePath||tl.imagePath)+Ts.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(g,x,S){var P=x.exec(g);return P&&P[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=st("div","leaflet-default-icon-path",document.body),u=ur(a,"background-image")||ur(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),nl=oi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Yi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Me(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,g=u._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=vs(u._icon),K=g.getPixelBounds(),ie=g.getPixelOrigin(),ce=X(K.min._subtract(ie).add(S),K.max._subtract(ie).subtract(S));if(!ce.contains(P)){var we=pe((Math.max(ce.max.x,P.x)-ce.max.x)/(K.max.x-ce.max.x)-(Math.min(ce.min.x,P.x)-ce.min.x)/(K.min.x-ce.min.x),(Math.max(ce.max.y,P.y)-ce.max.y)/(K.max.y-ce.max.y)-(Math.min(ce.min.y,P.y)-ce.min.y)/(K.min.y-ce.min.y)).multiplyBy(x);g.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),Rt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=H(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,g=u._shadow,x=vs(u._icon),S=u._map.layerPointToLatLng(x);g&&Rt(g,x),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),il=Wi.extend({options:{icon:new tl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){z(this,u),this._latlng=Ce(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Ce(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),x=!1;g!==this._icon&&(this._icon&&this._removeIcon(),x=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),Me(g,u),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&He(g,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(Me(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Rt(this._icon,a),this._shadow&&Rt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&jt(this._icon,a),this._shadow&&jt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,g=u.iconSize?pe(u.iconSize):pe(0,0),x=u.iconAnchor?pe(u.iconAnchor):pe(0,0);a.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:g.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gh(a,u){return new il(a,u)}var Ss=Wi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return z(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ha=Ss.extend({options:{fill:!0,radius:10},initialize:function(a,u){z(this,u),this._latlng=Ce(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Ce(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Ss.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,g=this._clickTolerance(),x=[a+g,u+g];this._pxBounds=new D(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zh(a,u){return new Ha(a,u)}var rc=Ha.extend({initialize:function(a,u,g){if(typeof u=="number"&&(u=o({},g,{radius:u})),z(this,u),this._latlng=Ce(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ss.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,g=this._map,x=g.options.crs;if(x.distance===At.distance){var S=Math.PI/180,P=this._mRadius/At.R/S,K=g.project([u+P,a]),ie=g.project([u-P,a]),ce=K.add(ie).divideBy(2),we=g.unproject(ce).lat,Ie=Math.acos((Math.cos(P*S)-Math.sin(u*S)*Math.sin(we*S))/(Math.cos(u*S)*Math.cos(we*S)))/S;(isNaN(Ie)||Ie===0)&&(Ie=P/Math.cos(Math.PI/180*u)),this._point=ce.subtract(g.getPixelOrigin()),this._radius=isNaN(Ie)?0:ce.x-g.project([we,a-Ie]).x,this._radiusY=ce.y-K.y}else{var Ve=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ve).x}this._updateBounds()}});function $h(a,u,g){return new rc(a,u,g)}var $s=Ss.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){z(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,g=null,x=Ye,S,P,K=0,ie=this._parts.length;K<ie;K++)for(var ce=this._parts[K],we=1,Ie=ce.length;we<Ie;we++){S=ce[we-1],P=ce[we];var Ve=x(a,S,P,!0);Ve<u&&(u=Ve,g=x(a,S,P))}return g&&(g.distance=Math.sqrt(u)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Ce(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new me,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],g=gt(a),x=0,S=a.length;x<S;x++)g?(u[x]=Ce(a[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(a[x]);return u},_project:function(){var a=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new ae(a,a);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,g){var x=a[0]instanceof Ae,S=a.length,P,K;if(x){for(K=[],P=0;P<S;P++)K[P]=this._map.latLngToLayerPoint(a[P]),g.extend(K[P]);u.push(K)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],u,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,g,x,S,P,K,ie,ce;for(g=0,S=0,P=this._rings.length;g<P;g++)for(ce=this._rings[g],x=0,K=ce.length;x<K-1;x++)ie=V(ce[x],ce[x+1],a,x,!0),ie&&(u[S]=u[S]||[],u[S].push(ie[0]),(ie[1]!==ce[x+1]||x===K-2)&&(u[S].push(ie[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,g=0,x=a.length;g<x;g++)a[g]=Ln(a[g],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var g,x,S,P,K,ie,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,P=this._parts.length;g<P;g++)for(ie=this._parts[g],x=0,K=ie.length,S=K-1;x<K;S=x++)if(!(!u&&x===0)&&Jo(a,ie[S],ie[x])<=ce)return!0;return!1}});function Im(a,u){return new $s(a,u)}$s._flat=yt;var Fa=$s.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=$s.prototype._convertLatLngs.call(this,a),g=u.length;return g>=2&&u[0]instanceof Ae&&u[0].equals(u[g-1])&&u.pop(),u},_setLatLngs:function(a){$s.prototype._setLatLngs.call(this,a),gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,g=new ae(u,u);if(a=new D(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,P;x<S;x++)P=Qo(this._rings[x],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,g,x,S,P,K,ie,ce,we;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,ce=this._parts.length;P<ce;P++)for(g=this._parts[P],K=0,we=g.length,ie=we-1;K<we;ie=K++)x=g[K],S=g[ie],x.y>a.y!=S.y>a.y&&a.x<(S.x-x.x)*(a.y-x.y)/(S.y-x.y)+x.x&&(u=!u);return u||$s.prototype._containsPoint.call(this,a,!0)}});function Pm(a,u){return new Fa(a,u)}var Ys=Es.extend({initialize:function(a,u){z(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=$(a)?a:a.features,g,x,S;if(u){for(g=0,x=u.length;g<x;g++)S=u[g],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var K=On(a,P);return K?(K.feature=lc(a),K.defaultOptions=K.options,this.resetStyle(K),P.onEachFeature&&P.onEachFeature(a,K),this.addLayer(K)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function On(a,u){var g=a.type==="Feature"?a.geometry:a,x=g?g.coordinates:null,S=[],P=u&&u.pointToLayer,K=u&&u.coordsToLatLng||ac,ie,ce,we,Ie;if(!x&&!g)return null;switch(g.type){case"Point":return ie=K(x),Ga(P,a,ie,u);case"MultiPoint":for(we=0,Ie=x.length;we<Ie;we++)ie=K(x[we]),S.push(Ga(P,a,ie,u));return new Es(S);case"LineString":case"MultiLineString":return ce=sl(x,g.type==="LineString"?0:1,K),new $s(ce,u);case"Polygon":case"MultiPolygon":return ce=sl(x,g.type==="Polygon"?1:2,K),new Fa(ce,u);case"GeometryCollection":for(we=0,Ie=g.geometries.length;we<Ie;we++){var Ve=On({geometry:g.geometries[we],type:"Feature",properties:a.properties},u);Ve&&S.push(Ve)}return new Es(S);case"FeatureCollection":for(we=0,Ie=g.features.length;we<Ie;we++){var tt=On(g.features[we],u);tt&&S.push(tt)}return new Es(S);default:throw new Error("Invalid GeoJSON object.")}}function Ga(a,u,g,x){return a?a(u,g):new il(g,x&&x.markersInheritOptions&&x)}function ac(a){return new Ae(a[1],a[0],a[2])}function sl(a,u,g){for(var x=[],S=0,P=a.length,K;S<P;S++)K=u?sl(a[S],u-1,g):(g||ac)(a[S]),x.push(K);return x}function oc(a,u){return a=Ce(a),a.alt!==void 0?[N(a.lng,u),N(a.lat,u),N(a.alt,u)]:[N(a.lng,u),N(a.lat,u)]}function rl(a,u,g,x){for(var S=[],P=0,K=a.length;P<K;P++)S.push(u?rl(a[P],gt(a[P])?0:u-1,g,x):oc(a[P],x));return!u&&g&&S.length>0&&S.push(S[0].slice()),S}function yr(a,u){return a.feature?o({},a.feature,{geometry:u}):lc(u)}function lc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var _r={toGeoJSON:function(a){return yr(this,{type:"Point",coordinates:oc(this.getLatLng(),a)})}};il.include(_r),rc.include(_r),Ha.include(_r),$s.include({toGeoJSON:function(a){var u=!gt(this._latlngs),g=rl(this._latlngs,u?1:0,!1,a);return yr(this,{type:(u?"Multi":"")+"LineString",coordinates:g})}}),Fa.include({toGeoJSON:function(a){var u=!gt(this._latlngs),g=u&&!gt(this._latlngs[0]),x=rl(this._latlngs,g?2:u?1:0,!0,a);return u||(x=[x]),yr(this,{type:(g?"Multi":"")+"Polygon",coordinates:x})}}),qa.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(g){u.push(g.toGeoJSON(a).geometry.coordinates)}),yr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var g=u==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(g)x.push(P.geometry);else{var K=lc(P);K.type==="FeatureCollection"?x.push.apply(x,K.features):x.push(K)}}}),g?yr(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function cc(a,u){return new Ys(a,u)}var al=cc,Za=Wi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,g){this._url=a,this._bounds=ve(u),z(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&qt(this._image),this},bringToBack:function(){return this._map&&ri(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ve(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:st("img");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Hi(this._image,g,u)},_reset:function(){var a=this._image,u=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=u.getSize();Rt(a,u.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Yh=function(a,u,g){return new Za(a,u,g)},vr=Za.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:st("video");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onloadeddata=d(this.fire,this,"load"),a){for(var g=u.getElementsByTagName("source"),x=[],S=0;S<g.length;S++)x.push(g[S].src);this._url=g.length>0?x:[u.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var K=st("source");K.src=this._url[P],u.appendChild(K)}}});function $a(a,u,g){return new vr(a,u,g)}var uc=Za.extend({_initImage:function(){var a=this._image=this._url;Me(a,"leaflet-image-layer"),this._zoomAnimated&&Me(a,"leaflet-zoom-animated"),this.options.className&&Me(a,this.options.className),a.onselectstart=E,a.onmousemove=E}});function Kh(a,u,g){return new uc(a,u,g)}var Dn=Wi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Ae||$(a))?(this._latlng=Ce(a),z(this,u)):(z(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&jt(this._container,1),this.bringToFront(),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(jt(this._container,0),this._removeTimeout=setTimeout(d(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ce(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qt(this._container),this},bringToBack:function(){return this._map&&ri(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Es){u=null;var g=this._source._layers;for(var x in g)if(g[x]._map){u=g[x];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=pe(this.options.offset),g=this._getAnchor();this._zoomAnimated?Rt(this._container,a.add(g)):u=u.add(a).add(g);var x=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});it.include({_initOverlay:function(a,u,g,x){var S=u;return S instanceof a||(S=new a(x).setContent(u)),g&&S.setLatLng(g),S}}),Wi.include({_initOverlay:function(a,u,g,x){var S=g;return S instanceof a?(z(S,x),S._source=this):(S=u&&!x?u:new a(x,this),S.setContent(g)),S}});var ol=Dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Dn.prototype.openOn.call(this,a)},onAdd:function(a){Dn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ss||this._source.on("preclick",ut))},onRemove:function(a){Dn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ss||this._source.off("preclick",ut))},getEvents:function(){var a=Dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=st("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=st("div",a+"-content-wrapper",u);if(this._contentNode=st("div",a+"-content",g),Hs(u),Si(this._contentNode),He(u,"contextmenu",ut),this._tipContainer=st("div",a+"-tip-container",u),this._tip=st("div",a+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=st("a",a+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',He(x,"click",function(S){Ht(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),u.width=g+1+"px",u.whiteSpace="",u.height="";var x=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&x>S?(u.height=S+"px",Me(a,P)):Nt(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();Rt(this._container,u.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(ur(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+u,x=this._containerWidth,S=new ae(this._containerLeft,-g-this._containerBottom);S._add(vs(this._container));var P=a.layerPointToContainerPoint(S),K=pe(this.options.autoPanPadding),ie=pe(this.options.autoPanPaddingTopLeft||K),ce=pe(this.options.autoPanPaddingBottomRight||K),we=a.getSize(),Ie=0,Ve=0;P.x+x+ce.x>we.x&&(Ie=P.x+x-we.x+ce.x),P.x-Ie-ie.x<0&&(Ie=P.x-ie.x),P.y+g+ce.y>we.y&&(Ve=P.y+g-we.y+ce.y),P.y-Ve-ie.y<0&&(Ve=P.y-ie.y),(Ie||Ve)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ie,Ve]))}},_getAnchor:function(){return pe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wh=function(a,u){return new ol(a,u)};it.mergeOptions({closePopupOnClick:!0}),it.include({openPopup:function(a,u,g){return this._initOverlay(ol,a,u,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Wi.include({bindPopup:function(a,u){return this._popup=this._initOverlay(ol,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Es||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Fi(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Ss)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ll=Dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Dn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Dn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Dn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=st("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,g,x=this._map,S=this._container,P=x.latLngToContainerPoint(x.getCenter()),K=x.layerPointToContainerPoint(a),ie=this.options.direction,ce=S.offsetWidth,we=S.offsetHeight,Ie=pe(this.options.offset),Ve=this._getAnchor();ie==="top"?(u=ce/2,g=we):ie==="bottom"?(u=ce/2,g=0):ie==="center"?(u=ce/2,g=we/2):ie==="right"?(u=0,g=we/2):ie==="left"?(u=ce,g=we/2):K.x<P.x?(ie="right",u=0,g=we/2):(ie="left",u=ce+(Ie.x+Ve.x)*2,g=we/2),a=a.subtract(pe(u,g,!0)).add(Ie).add(Ve),Nt(S,"leaflet-tooltip-right"),Nt(S,"leaflet-tooltip-left"),Nt(S,"leaflet-tooltip-top"),Nt(S,"leaflet-tooltip-bottom"),Me(S,"leaflet-tooltip-"+ie),Rt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&jt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return pe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mm=function(a,u){return new ll(a,u)};it.include({openTooltip:function(a,u,g){return this._initOverlay(ll,a,u,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Wi.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ll,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[u](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Es||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(He(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),He(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,g,x;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),x=this._map.containerPointToLayerPoint(g),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Qh=Ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Bt(u),u.appendChild(g.html)):u.innerHTML=g.html!==!1?g.html:"",g.bgPos){var x=pe(g.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Lm(a){return new Qh(a)}Ts.Default=tl;var Ya=Wi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){z(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),at(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ri(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ae?a:new ae(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,g=-a(-1/0,1/0),x=0,S=u.length,P;x<S;x++)P=u[x].style.zIndex,u[x]!==this._container&&P&&(g=a(g,+P));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){jt(this._container,this.options.opacity);var a=+new Date,u=!1,g=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);jt(S.el,P),P<1?u=!0:(S.active?g=!0:this._onOpaqueTile(S),S.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),u&&(Y(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=st("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=u-Math.abs(a-g),this._onUpdateLevel(g)):(at(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var x=this._levels[a],S=this._map;return x||(x=this._levels[a]={},x.el=st("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),x.zoom=a,this._setZoomTransform(x,S.getCenter(),S.getZoom()),E(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var a,u,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)at(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,g,x){var S=Math.floor(a/2),P=Math.floor(u/2),K=g-1,ie=new ae(+S,+P);ie.z=+K;var ce=this._tileCoordsToKey(ie),we=this._tiles[ce];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),K>x?this._retainParent(S,P,K,x):!1)},_retainChildren:function(a,u,g,x){for(var S=2*a;S<2*a+2;S++)for(var P=2*u;P<2*u+2;P++){var K=new ae(S,P);K.z=g+1;var ie=this._tileCoordsToKey(K),ce=this._tiles[ie];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);g+1<x&&this._retainChildren(S,P,g+1,x)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,g,x){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,u)},_setZoomTransform:function(a,u,g){var x=this._map.getZoomScale(g,a.zoom),S=a.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,g)).round();Oe.any3d?Hi(a.el,S,x):Rt(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,g=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],x).x/g.x),Math.ceil(a.project([0,u.wrapLng[1]],x).x/g.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],x).y/g.x),Math.ceil(a.project([u.wrapLat[1],0],x).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,g=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(g,this._tileZoom),S=u.project(a,this._tileZoom).floor(),P=u.getSize().divideBy(x*2);return new D(S.subtract(P),S.add(P))},_update:function(a){var u=this._map;if(u){var g=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(x),P=S.getCenter(),K=[],ie=this.options.keepBuffer,ce=new D(S.getBottomLeft().subtract([ie,-ie]),S.getTopRight().add([ie,-ie]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Ie=this._tiles[we].coords;(Ie.z!==this._tileZoom||!ce.contains(new ae(Ie.x,Ie.y)))&&(this._tiles[we].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var Ve=S.min.y;Ve<=S.max.y;Ve++)for(var tt=S.min.x;tt<=S.max.x;tt++){var Sn=new ae(tt,Ve);if(Sn.z=this._tileZoom,!!this._isValidTile(Sn)){var nn=this._tiles[this._tileCoordsToKey(Sn)];nn?nn.current=!0:K.push(Sn)}}if(K.sort(function(bt,xt){return bt.distanceTo(P)-xt.distanceTo(P)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ci=document.createDocumentFragment();for(tt=0;tt<K.length;tt++)this._addTile(K[tt],ci);this._level.el.appendChild(ci)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var g=this._globalTileRange;if(!u.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!u.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(a);return ve(this.options.bounds).overlaps(x)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,g=this.getTileSize(),x=a.scaleBy(g),S=x.add(g),P=u.unproject(x,a.z),K=u.unproject(S,a.z);return[P,K]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),g=new me(u[0],u[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),g=new ae(+u[0],+u[1]);return g.z=+u[2],g},_removeTile:function(a){var u=this._tiles[a];u&&(at(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Me(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=E,a.onmousemove=E,Oe.ielt9&&this.options.opacity<1&&jt(a,this.options.opacity)},_addTile:function(a,u){var g=this._getTilePos(a),x=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&H(d(this._tileReady,this,a,null,S)),Rt(S,g),this._tiles[x]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,g){u&&this.fire("tileerror",{error:u,tile:g,coords:a});var x=this._tileCoordsToKey(a);g=this._tiles[x],g&&(g.loaded=+new Date,this._map._fadeAnimated?(jt(g.el,0),Y(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),u||(Me(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new ae(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new D(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Xh(a){return new Ya(a)}var br=Ya.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=z(this,u),u.detectRetina&&Oe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var g=document.createElement("img");return He(g,"load",d(this._tileOnLoad,this,u,g)),He(g,"error",d(this._tileOnError,this,u,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var u={r:Oe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=g),u["-y"]=g}return q(this._url,o(u,this.options))},_tileOnLoad:function(a,u){Oe.ielt9?setTimeout(d(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,g){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),a(g,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,g=this.options.zoomReverse,x=this.options.zoomOffset;return g&&(a=u-a),a+x},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=E,u.onerror=E,!u.complete)){u.src=ne;var g=this._tiles[a].coords;at(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:g})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",ne),Ya.prototype._removeTile.call(this,a)},_tileReady:function(a,u,g){if(!(!this._map||g&&g.getAttribute("src")===ne))return Ya.prototype._tileReady.call(this,a,u,g)}});function Ni(a,u){return new br(a,u)}var cl=br.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var g=o({},this.defaultWmsParams);for(var x in u)x in this.options||(g[x]=u[x]);u=z(this,u);var S=u.detectRetina&&Oe.retina?2:1,P=this.getTileSize();g.width=P.x*S,g.height=P.y*S,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,br.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),g=this._crs,x=X(g.project(u[0]),g.project(u[1])),S=x.min,P=x.max,K=(this._wmsVersion>=1.3&&this._crs===Wr?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),ie=br.prototype.getTileUrl.call(this,a);return ie+k(this.wmsParams,ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function Ri(a,u){return new cl(a,u)}br.WMS=cl,Ni.wms=Ri;var Wn=Wi.extend({options:{padding:.1},initialize:function(a){z(this,a),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var g=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),P=x.multiplyBy(-g).add(S).subtract(this._map._getNewPixelOrigin(a,u));Oe.any3d?Hi(this._container,P,g):Rt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),g=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new D(g,g.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),hc=Wn.extend({options:{tolerance:0},getEvents:function(){var a=Wn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");He(a,"mousemove",this._onMouseMove,this),He(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),He(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,at(this._container),vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wn.prototype._update.call(this);var a=this._bounds,u=this._container,g=a.getSize(),x=Oe.retina?2:1;Rt(u,a.min),u.width=x*g.x,u.height=x*g.y,u.style.width=g.x+"px",u.style.height=g.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Wn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[p(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,g=u.next,x=u.prev;g?g.prev=x:this._drawLast=x,x?x.next=g:this._drawFirst=g,delete a._order,delete this._layers[p(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),g=[],x,S;for(S=0;S<u.length;S++){if(x=Number(u[S]),isNaN(x))return;g.push(x)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var g=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)a=x.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var g,x,S,P,K=a._parts,ie=K.length,ce=this._ctx;if(ie){for(ce.beginPath(),g=0;g<ie;g++){for(x=0,S=K[g].length;x<S;x++)P=K[g][x],ce[x?"lineTo":"moveTo"](P.x,P.y);u&&ce.closePath()}this._fillStroke(ce,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,g=this._ctx,x=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||x)/x;S!==1&&(g.save(),g.scale(1,S)),g.beginPath(),g.arc(u.x,u.y/S,x,0,Math.PI*2,!1),S!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,u){var g=u.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),g,x,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(x=g);this._fireEvent(x?[x]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var g,x,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(x=g);x!==this._hoveredLayer&&(this._handleMouseOut(a),x&&(Me(this._container,"leaflet-interactive"),this._fireEvent([x],a,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,g){this._map._fireDOMEvent(u,g||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var g=u.next,x=u.prev;if(g)g.prev=x;else return;x?x.next=g:g&&(this._drawFirst=g),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var g=u.next,x=u.prev;if(x)x.next=g;else return;g?g.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function ul(a){return Oe.canvas?new hc(a):null}var xr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),hu={_initContainer:function(){this._container=st("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=xr("shape");Me(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=xr("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;at(u),a.removeInteractiveTarget(u),delete this._layers[p(a)]},_updateStyle:function(a){var u=a._stroke,g=a._fill,x=a.options,S=a._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(u||(u=a._stroke=xr("stroke")),S.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=$(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(S.removeChild(u),a._stroke=null),x.fill?(g||(g=a._fill=xr("fill")),S.appendChild(g),g.color=x.fillColor||x.color,g.opacity=x.fillOpacity):g&&(S.removeChild(g),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),g=Math.round(a._radius),x=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+g+","+x+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){qt(a._container)},_bringToBack:function(a){ri(a._container)}},As=Oe.vml?xr:or,Ka=Wn.extend({_initContainer:function(){this._container=As("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=As("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wn.prototype._update.call(this);var a=this._bounds,u=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,g.setAttribute("width",u.x),g.setAttribute("height",u.y)),Rt(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=As("path");a.options.className&&Me(u,a.options.className),a.options.interactive&&Me(u,"leaflet-interactive"),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){at(a._path),a.removeInteractiveTarget(a._path),delete this._layers[p(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,g=a.options;u&&(g.stroke?(u.setAttribute("stroke",g.color),u.setAttribute("stroke-opacity",g.opacity),u.setAttribute("stroke-width",g.weight),u.setAttribute("stroke-linecap",g.lineCap),u.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?u.setAttribute("stroke-dasharray",g.dashArray):u.removeAttribute("stroke-dasharray"),g.dashOffset?u.setAttribute("stroke-dashoffset",g.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),g.fill?(u.setAttribute("fill",g.fillColor||g.color),u.setAttribute("fill-opacity",g.fillOpacity),u.setAttribute("fill-rule",g.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,us(a._parts,u))},_updateCircle:function(a){var u=a._point,g=Math.max(Math.round(a._radius),1),x=Math.max(Math.round(a._radiusY),1)||g,S="a"+g+","+x+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(u.x-g)+","+u.y+S+g*2+",0 "+S+-g*2+",0 ";this._setPath(a,P)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){qt(a._path)},_bringToBack:function(a){ri(a._path)}});Oe.vml&&Ka.include(hu);function hl(a){return Oe.svg||Oe.vml?new Ka(a):null}it.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&ul(a)||hl(a)}});var Qr=Fa.extend({initialize:function(a,u){Fa.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ve(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Om(a,u){return new Qr(a,u)}Ka.create=As,Ka.pointsToPath=us,Ys.geometryToLayer=On,Ys.coordsToLatLng=ac,Ys.coordsToLatLngs=sl,Ys.latLngToCoords=oc,Ys.latLngsToCoords=rl,Ys.getFeature=yr,Ys.asFeature=lc,it.mergeOptions({boxZoom:!0});var Qn=oi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){He(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ti(),Gr(),this._startPoint=this._map.mouseEventToContainerPoint(a),He(document,{contextmenu:Fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=st("div","leaflet-zoom-box",this._container),Me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new D(this._point,this._startPoint),g=u.getSize();Rt(this._box,u.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(at(this._box),Nt(this._container,"leaflet-crosshair")),gn(),hr(),vt(document,{contextmenu:Fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});it.addInitHook("addHandler","boxZoom",Qn),it.mergeOptions({doubleClickZoom:!0});var dc=oi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,g=u.getZoom(),x=u.options.zoomDelta,S=a.originalEvent.shiftKey?g-x:g+x;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});it.addInitHook("addHandler","doubleClickZoom",dc),it.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cs=oi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Yi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nt(this._map._container,"leaflet-grab"),Nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ve(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),g=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-u+g)%a+u-g,P=(x+u+g)%a-u-g,K=Math.abs(S+g)<Math.abs(P+g)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(a){var u=this._map,g=u.options,x=!g.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),x)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,K=g.easeLinearity,ie=S.multiplyBy(K/P),ce=ie.distanceTo([0,0]),we=Math.min(g.inertiaMaxSpeed,ce),Ie=ie.multiplyBy(we/ce),Ve=we/(g.inertiaDeceleration*K),tt=Ie.multiplyBy(-Ve/2).round();!tt.x&&!tt.y?u.fire("moveend"):(tt=u._limitOffset(tt,u.options.maxBounds),H(function(){u.panBy(tt,{duration:Ve,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});it.addInitHook("addHandler","dragging",Cs),it.mergeOptions({keyboard:!0,keyboardPanDelta:80});var du=oi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),He(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,g=a.scrollTop||u.scrollTop,x=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},g=this.keyCodes,x,S;for(x=0,S=g.left.length;x<S;x++)u[g.left[x]]=[-1*a,0];for(x=0,S=g.right.length;x<S;x++)u[g.right[x]]=[a,0];for(x=0,S=g.down.length;x<S;x++)u[g.down[x]]=[0,a];for(x=0,S=g.up.length;x<S;x++)u[g.up[x]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},g=this.keyCodes,x,S;for(x=0,S=g.zoomIn.length;x<S;x++)u[g.zoomIn[x]]=a;for(x=0,S=g.zoomOut.length;x<S;x++)u[g.zoomOut[x]]=-a},_addHooks:function(){He(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,g=this._map,x;if(u in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(x=this._panKeys[u],a.shiftKey&&(x=pe(x).multiplyBy(3)),g.options.maxBounds&&(x=g._limitOffset(pe(x),g.options.maxBounds)),g.options.worldCopyJump){var S=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(x)));g.panTo(S)}else g.panBy(x)}else if(u in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Fi(a)}}});it.addInitHook("addHandler","keyboard",du),it.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dl=oi.extend({addHooks:function(){He(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=yn(a),g=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var x=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),x),Fi(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,P=g?Math.ceil(S/g)*g:S,K=a._limitZoom(u+(this._delta>0?P:-P))-u;this._delta=0,this._startTime=null,K&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+K):a.setZoomAround(this._lastMousePos,u+K))}});it.addInitHook("addHandler","scrollWheelZoom",dl);var Xr=600;it.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var fc=oi.extend({addHooks:function(){He(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new ae(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(He(document,"touchend",Ht),He(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Xr),He(document,"touchend touchcancel contextmenu",this._cancel,this),He(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){vt(document,"touchend",Ht),vt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new ae(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});g._simulated=!0,u.target.dispatchEvent(g)}});it.addInitHook("addHandler","tapHold",fc),it.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var fu=oi.extend({addHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),He(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var g=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(g.add(x)._divideBy(2))),this._startDist=g.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),He(document,"touchmove",this._onTouchMove,this),He(document,"touchend touchcancel",this._onTouchEnd,this),Ht(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,g=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]),S=g.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=g._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var K=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(K,this,!0),Ht(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});it.addInitHook("addHandler","touchZoom",fu),it.BoxZoom=Qn,it.DoubleClickZoom=dc,it.Drag=Cs,it.Keyboard=du,it.ScrollWheelZoom=dl,it.TapHold=fc,it.TouchZoom=fu,t.Bounds=D,t.Browser=Oe,t.CRS=qe,t.Canvas=hc,t.Circle=rc,t.CircleMarker=Ha,t.Class=de,t.Control=Mn,t.DivIcon=Qh,t.DivOverlay=Dn,t.DomEvent=ws,t.DomUtil=fr,t.Draggable=Yi,t.Evented=Se,t.FeatureGroup=Es,t.GeoJSON=Ys,t.GridLayer=Ya,t.Handler=oi,t.Icon=Ts,t.ImageOverlay=Za,t.LatLng=Ae,t.LatLngBounds=me,t.Layer=Wi,t.LayerGroup=qa,t.LineUtil=Ai,t.Map=it,t.Marker=il,t.Mixin=ic,t.Path=Ss,t.Point=ae,t.PolyUtil=gr,t.Polygon=Fa,t.Polyline=$s,t.Popup=ol,t.PosAnimation=Fs,t.Projection=Ki,t.Rectangle=Qr,t.Renderer=Wn,t.SVG=Ka,t.SVGOverlay=uc,t.TileLayer=br,t.Tooltip=ll,t.Transformation=ls,t.Util=G,t.VideoOverlay=vr,t.bind=d,t.bounds=X,t.canvas=ul,t.circle=$h,t.circleMarker=Zh,t.control=Kn,t.divIcon=Lm,t.extend=o,t.featureGroup=Fh,t.geoJSON=cc,t.geoJson=al,t.gridLayer=Xh,t.icon=el,t.imageOverlay=Yh,t.latLng=Ce,t.latLngBounds=ve,t.layerGroup=Rm,t.map=pr,t.marker=Gh,t.point=pe,t.polygon=Pm,t.polyline=Im,t.popup=Wh,t.rectangle=Om,t.setOptions=z,t.stamp=p,t.svg=hl,t.svgOverlay=Kh,t.tileLayer=Ni,t.tooltip=Mm,t.transformation=gi,t.version=s,t.videoOverlay=$a;var mu=window.L;t.noConflict=function(){return window.L=mu,this},window.L=t}))})(rh,rh.exports)),rh.exports}var Nm=p6();const KS=s1(Nm);function WS(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function QS(n,e){return e==null?function(s,o){const c=U.useRef(void 0);return c.current||(c.current=n(s,o)),c}:function(s,o){const c=U.useRef(void 0);c.current||(c.current=n(s,o));const d=U.useRef(s),{instance:_}=c.current;return U.useEffect(function(){d.current!==s&&(e(_,s,d.current),d.current=s)},[_,s,e]),c}}function g6(n,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function XS(n){return function(t){const s=$S(),o=n(YS(t,s),s);return o6(s.map,t.attribution),f6(o.current,t.eventHandlers),g6(o.current,s),o}}function y6(n,e){const t=QS(n,e),s=XS(t);return h6(s)}function _6(n,e){const t=QS(n,e),s=XS(t);return d6(s)}function v6(n,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function b6(){return $S().map}function x6(n){const e=b6();return U.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function w6({bounds:n,boundsOptions:e,center:t,children:s,className:o,id:c,placeholder:d,style:_,whenReady:p,zoom:v,...w},E){const[N]=U.useState({className:o,id:c,style:_}),[R,j]=U.useState(null),z=U.useRef(void 0);U.useImperativeHandle(E,()=>R?.map??null,[R]);const k=U.useCallback(q=>{if(q!==null&&!z.current){const $=new Nm.Map(q,w);z.current=$,t!=null&&v!=null?$.setView(t,v):n!=null&&$.fitBounds(n,e),p!=null&&$.whenReady(p),j(c6($))}},[]);U.useEffect(()=>()=>{R?.map.remove()},[R]);const O=R?an.createElement($_,{value:R},s):d??null;return an.createElement("div",{...N,ref:k},O)}const E6=U.forwardRef(w6),T6=y6(function({position:e,...t},s){const o=new Nm.Marker(e,t);return WS(o,u6(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),S6=_6(function({url:e,...t},s){const o=new Nm.TileLayer(e,YS(t,s));return WS(o,s)},function(e,t,s){v6(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)});delete KS.Icon.Default.prototype._getIconUrl;KS.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function A6({position:n,setPosition:e,setAddress:t}){const s=x6({click(o){e(o.latlng),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.latlng.lat}&lon=${o.latlng.lng}`).then(c=>c.json()).then(c=>{c&&c.display_name&&t(c.display_name)}).catch(c=>console.error("Error reverse geocoding",c))}});return U.useEffect(()=>{n&&s.flyTo(n,16)},[n,s]),n===null?null:m.jsx(T6,{position:n})}const C6=({onConfirm:n,initialLocation:e})=>{const[t,s]=U.useState(e?{lat:e.lat,lng:e.lng}:null),[o,c]=U.useState(e?.address||""),[d,_]=U.useState(""),[p,v]=U.useState(!1),w=[-12.0464,-77.0428],E=async R=>{if(R.preventDefault(),!!d){v(!0);try{const z=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(d)}`)).json();if(z&&z.length>0){const k=z[0],O={lat:parseFloat(k.lat),lng:parseFloat(k.lon)};s(O),c(k.display_name)}else console.log("No location found")}catch(j){console.error("Search error:",j)}finally{v(!1)}}},N=()=>{t&&n({lat:t.lat,lng:t.lng,address:o})};return m.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[m.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[m.jsxs("form",{onSubmit:E,className:"relative flex gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx("input",{type:"text",value:d,onChange:R=>_(R.target.value),placeholder:"Buscar ciudad, calle o lugar...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-[#fc7f51] focus:ring-1 focus:ring-[#fc7f51] outline-none text-sm"}),m.jsx(Qc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),m.jsx("button",{type:"submit",disabled:p,className:"bg-[#262626] text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-black transition disabled:opacity-70",children:p?m.jsx(Ah,{className:"w-4 h-4 animate-spin"}):"Buscar"})]}),o&&m.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-start gap-1",children:[m.jsx(Vr,{className:"w-3 h-3 mt-0.5 text-[#fc7f51]"}),m.jsx("span",{className:"line-clamp-2",children:o})]})]}),m.jsx("div",{className:"flex-grow min-h-[300px] relative z-0",children:m.jsxs(E6,{center:w,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[m.jsx(S6,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),m.jsx(A6,{position:t,setPosition:s,setAddress:c})]})}),m.jsx("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-end",children:m.jsx("button",{type:"button",onClick:N,disabled:!t,className:"bg-[#fc7f51] text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-[#e56b3e] transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ubicacin"})})]})},N6=()=>{const{user:n,userData:e}=Ra(),[t,s]=U.useState(!1),[o,c]=U.useState(!1),[d,_]=U.useState(null),[p,v]=U.useState("properties"),[w,E]=U.useState(""),[N,R]=U.useState(!1),[j,z]=U.useState({displayName:"",email:"",phoneNumber:"",newPassword:""}),[k,O]=U.useState(!1),[q,$]=U.useState([]),[ee,ne]=U.useState({title:"",content:""}),[ye,B]=U.useState(null),[I,Z]=U.useState(!1),[F,H]=U.useState([]),[Y,G]=U.useState([]),[de,Ne]=U.useState({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,security:!1}),[re,Se]=U.useState([]),[ae,ge]=U.useState([]),[pe,D]=U.useState(!0),[X,me]=U.useState(null),ve=async()=>{if(n){D(!0);try{const J=Ps(mn(Xe,"properties"),ma("agentId","==",n.uid)),Je=(await Js(J)).docs.map(rt=>({id:rt.id,...rt.data()}));Je.sort((rt,zn)=>(zn.createdAt?.seconds||0)-(rt.createdAt?.seconds||0)),Se(Je)}catch(J){console.error("Error fetching properties:",J)}finally{D(!1)}}},Ae=async()=>{if(n){Z(!0);try{const J=Ps(mn(Xe,"tips"),ma("agentId","==",n.uid),$T("createdAt","desc")),ke=await Js(J);$(ke.docs.map(Je=>({id:Je.id,...Je.data()})))}catch(J){console.error("Error fetching tips:",J)}finally{Z(!1)}}};U.useEffect(()=>{e?.isActivated&&(ve(),(async()=>{try{const ke=Ps(mn(Xe,"visits"),ma("agentId","==",n.uid)),Je=await Js(ke);ge(Je.docs.map(rt=>({id:rt.id,...rt.data()})))}catch(ke){console.error("Error fetching visits:",ke)}})(),Ae()),z({displayName:e?.displayName||n?.displayName||"",email:e?.email||n?.email||"",phoneNumber:e?.phoneNumber||"",newPassword:"",photoURL:e?.photoURL||n?.photoURL||""})},[n,e]);const Ce=async J=>{if(window.confirm("Ests seguro de que deseas eliminar esta propiedad?"))try{await Hf(on(Xe,"properties",J)),Ue.success("Propiedad eliminada correctamente."),ve()}catch(ke){console.error("Error deleting property:",ke),Ue.error("Error al eliminar la propiedad.")}},qe=async J=>{J.preventDefault(),R(!0);try{const ke=Ps(mn(Xe,"activation_codes"),ma("code","==",w),ma("used","==",!1)),Je=await Js(ke);if(Je.empty){Ue.error("Cdigo invlido o ya usado."),R(!1);return}const rt=Je.docs[0];await yo(on(Xe,"activation_codes",rt.id),{used:!0,usedBy:n.uid,usedAt:new Date}),await yo(on(Xe,"users",n.uid),{isActivated:!0,activationCode:w}),Ue.success("Cuenta activada con xito! Recargando..."),setTimeout(()=>window.location.reload(),1500)}catch(ke){console.error("Error activating account:",ke),Ue.error("Error al activar la cuenta.")}finally{R(!1)}},At=async J=>{J.preventDefault(),O(!0);try{j.displayName!==n.displayName&&await ny(n,{displayName:j.displayName}),j.email!==n.email&&await GI(n,j.email);let ke=n.photoURL;if(X){const kt=Hw(Fw,`profile_photos/${n.uid}/${Date.now()}_${X.name}`),ks=await Bw(kt,X);ke=await qw(ks.ref),await ny(n,{photoURL:ke})}if(await yo(on(Xe,"users",n.uid),{displayName:j.displayName,email:j.email,phoneNumber:j.phoneNumber,photoURL:ke}),j.newPassword){if(j.newPassword.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");await ZI(n,j.newPassword),z(kt=>({...kt,newPassword:""})),Ue.success("Contrasea actualizada.")}const Je=DD(Xe),rt=Ps(mn(Xe,"properties"),ma("agentId","==",n.uid));(await Js(rt)).forEach(kt=>{Je.update(kt.ref,{agentName:j.displayName})}),await Je.commit(),Ue.success("Perfil actualizado correctamente."),ve()}catch(ke){console.error("Error updating profile:",ke),Ue.error("Error al actualizar perfil. Si cambiaste el email, podras necesitar volver a iniciar sesin.")}finally{O(!1)}},Ct=async J=>{J.preventDefault(),Z(!0);try{ye?(await yo(on(Xe,"tips",ye),{...ee,updatedAt:new Date}),Ue.success("Tip actualizado.")):(await Pl(mn(Xe,"tips"),{...ee,agentId:n.uid,agentName:n.displayName||"Agente",createdAt:new Date,likes:0}),Ue.success("Tip publicado.")),ne({title:"",content:""}),B(null),Ae()}catch(ke){console.error("Error saving tip:",ke),ke.code==="failed-precondition"?Ue.error("El ndice de base de datos se est creando. Intenta de nuevo en unos minutos."):Ue.error("Error al guardar el tip.")}finally{Z(!1)}},ji=async J=>{if(window.confirm("Seguro que quieres eliminar este tip?"))try{await Hf(on(Xe,"tips",J)),$(ke=>ke.filter(Je=>Je.id!==J)),Ue.success("Tip eliminado.")}catch(ke){console.error("Error deleting tip:",ke)}},ls=J=>{ne({title:J.title||"",content:J.content||""}),B(J.id),v("tips")},gi=async(J,ke)=>{const Je=ke==="disponible"?"tomada":"disponible";try{await yo(on(Xe,"properties",J),{status:Je}),Ue.success(`Estado actualizado a: ${Je==="disponible"?"Disponible":"No Disponible"}`)}catch(rt){console.error("Error updating status:",rt),Ue.error("No se pudo actualizar el estado.")}},cs=J=>{const ke=Array.from(J.target.files),Je=ke.map(rt=>URL.createObjectURL(rt));G(rt=>[...rt,...Je]),H(rt=>[...rt,...ke])},yi=J=>{if(Y[J].startsWith("blob:")){const Je=Y.slice(0,J).filter(rt=>rt.startsWith("blob:")).length;H(rt=>rt.filter((zn,kt)=>kt!==Je))}G(Je=>Je.filter((rt,zn)=>zn!==J))},or=J=>{_(J.id),Ne({title:J.title,description:J.description,type:J.type,currency:J.currency||"USD",price:J.price,category:J.category,location:J.location,footage:J.footage,bedrooms:J.bedrooms||"",bathrooms:J.bathrooms||"",antiquityType:J.antiquityType||"estreno",antiquityYears:J.antiquityYears||"",lat:J.lat||"",lng:J.lng||"",antiquity:J.antiquity||"estreno",floor:J.floor||"",elevator:J.elevator||!1,parking:J.parking||!1,isExclusive:J.isExclusive||!1,isInBuilding:J.isInBuilding||!1,isDuplex:J.isDuplex||!1,elevator:J.elevator||!1,furnished:J.furnished||!1,pool:J.pool||!1,gym:J.gym||!1,security:J.security||!1}),G(J.images||[]),H([]),v("properties"),window.scrollTo({top:0,behavior:"smooth"})},us=()=>{_(null),Ne({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,security:!1}),G([]),H([])},Ds=async J=>{J.preventDefault(),s(!0);try{const ke=F.map(async rt=>{const zn=Hw(Fw,`properties/${n.uid}/${Date.now()}_${rt.name}`),kt=await Bw(zn,rt);return await qw(kt.ref)}),Je=await Promise.all(ke);if(d){const rt={...de,price:parseFloat(de.price),footage:parseFloat(de.footage),bedrooms:de.category==="construido"?parseInt(de.bedrooms):0,bathrooms:de.category==="construido"?parseInt(de.bathrooms):0};Je.length>0&&(rt.images=[...Y.filter(zn=>zn.startsWith("http")),...Je]),await yo(on(Xe,"properties",d),rt),Ue.success("Propiedad actualizada con xito!")}else await Pl(mn(Xe,"properties"),{...de,agentId:n.uid,agentName:e.displayName||"Agente",images:Je,createdAt:new Date,status:"disponible",views:0,isPromoted:!1,price:parseFloat(de.price),footage:parseFloat(de.footage),bedrooms:de.category==="construido"?parseInt(de.bedrooms):0,bathrooms:de.category==="construido"?parseInt(de.bathrooms):0}),Ue.success("Propiedad publicada con xito!"),Ne({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,security:!1}),H([]),G([]),_(null),ve()}catch(ke){console.error("Error adding property: ",ke),Ue.error("Hubo un error al publicar la propiedad.")}finally{s(!1)}};U.useEffect(()=>{if(e?.role!=="superadmin")return;(async()=>{try{const ke=Ps(mn(Xe,"activation_codes"),ma("code","==","AGENT2024"));(await Js(ke)).empty&&await Pl(mn(Xe,"activation_codes"),{code:"AGENT2024",used:!1,createdAt:new Date,type:"standard"})}catch{console.debug("Skipping code creation (not authorized)")}})()},[e]);const hs=e?.isActivated;return m.jsx("div",{className:"min-h-screen bg-gray-50 pt-28 pb-12 px-6",children:m.jsxs("div",{className:"container mx-auto max-w-6xl",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold font-[Montserrat] text-gray-800 mb-6",children:"Panel de Agente"}),m.jsxs("div",{className:"flex flex-wrap gap-4 border-b border-gray-200",children:[m.jsx("button",{onClick:()=>v("properties"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="properties"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mis Propiedades"}),m.jsx("button",{onClick:()=>v("inquiries"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="inquiries"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Visitas Agendadas"}),m.jsx("button",{onClick:()=>v("tips"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="tips"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tips Inmobiliarios"}),m.jsx("button",{onClick:()=>v("profile"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="profile"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mi Perfil"})]})]}),hs?m.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[p==="properties"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 h-fit",children:[m.jsx("div",{className:"bg-[#16151a] p-6 text-white",children:m.jsx("h2",{className:"text-xl font-bold",children:d?"Editar Propiedad":"Nueva Propiedad"})}),m.jsxs("form",{onSubmit:Ds,className:"p-8 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),m.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none uppercase",placeholder:"Ej: Departamento en Miraflores",value:de.title,onChange:J=>Ne({...de,title:J.target.value})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),m.jsxs("div",{className:"flex",children:[m.jsxs("select",{className:"w-24 px-2 py-3 rounded-l-lg border border-r-0 border-gray-200 bg-gray-50 text-sm font-bold",value:de.currency,onChange:J=>Ne({...de,currency:J.target.value}),children:[m.jsx("option",{value:"USD",children:"USD"}),m.jsx("option",{value:"PEN",children:"PEN"})]}),m.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-r-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"0.00",value:de.price,onChange:J=>Ne({...de,price:J.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operacin"}),m.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.type,onChange:J=>Ne({...de,type:J.target.value}),children:[m.jsx("option",{value:"venta",children:"Venta"}),m.jsx("option",{value:"alquiler",children:"Alquiler"}),m.jsx("option",{value:"alquiler",children:"Anticresis"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),m.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.category,onChange:J=>Ne({...de,category:J.target.value}),children:[m.jsx("option",{value:"construido",children:"Construido"}),m.jsx("option",{value:"terreno",children:"Terreno"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metraje (m)"}),m.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"120",value:de.footage,onChange:J=>Ne({...de,footage:J.target.value})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Antigedad"}),m.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.antiquity,onChange:J=>Ne({...de,antiquity:J.target.value}),children:[m.jsx("option",{value:"estreno",children:"Estreno"}),m.jsx("option",{value:"preventa",children:"Pre-Venta"}),m.jsx("option",{value:"up_to_5",children:"Hasta 5 aos"}),m.jsx("option",{value:"5_to_10",children:"5 a 10 aos"}),m.jsx("option",{value:"more_than_10",children:"Ms de 10 aos"}),m.jsx("option",{value:"more_than_20",children:"Ms de 20 aos"})]})]}),m.jsxs("div",{className:"flex flex-col gap-3 pt-8",children:[m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.isExclusive,onChange:J=>Ne({...de,isExclusive:J.target.checked})}),m.jsx("span",{className:"font-bold text-[#fc7f51]",children:"Es Exclusiva?"})]}),m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.parking,onChange:J=>Ne({...de,parking:J.target.checked})}),m.jsx("span",{className:"font-medium text-gray-700",children:"Tiene Cochera"})]}),de.category==="construido"&&m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.isInBuilding,onChange:J=>Ne({...de,isInBuilding:J.target.checked})}),m.jsx("span",{className:"font-medium text-gray-700",children:"Es Edificio / Departamento"})]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[m.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-3 uppercase tracking-wider",children:"Caractersticas Adicionales"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.elevator,onChange:J=>Ne({...de,elevator:J.target.checked})}),m.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Ascensor"})]}),m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.furnished,onChange:J=>Ne({...de,furnished:J.target.checked})}),m.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amoblado"})]}),m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.pool,onChange:J=>Ne({...de,pool:J.target.checked})}),m.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Piscina"})]}),m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.gym,onChange:J=>Ne({...de,gym:J.target.checked})}),m.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Gimnasio"})]}),m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.security,onChange:J=>Ne({...de,security:J.target.checked})}),m.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Seguridad 24/7"})]})]})]}),de.category==="construido"&&m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaciones"}),m.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:de.bedrooms,onChange:J=>Ne({...de,bedrooms:J.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Baos"}),m.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:de.bathrooms,onChange:J=>Ne({...de,bathrooms:J.target.value})})]})]}),de.category==="construido"&&de.isInBuilding&&m.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-orange-50 p-4 rounded-xl border border-orange-100",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piso"}),m.jsx("input",{type:"text",placeholder:"Ej. 5",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.floor,onChange:J=>Ne({...de,floor:J.target.value})})]}),m.jsx("div",{className:"flex items-center pt-8",children:m.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[m.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.isDuplex,onChange:J=>Ne({...de,isDuplex:J.target.checked})}),m.jsx("span",{className:"font-medium text-gray-700",children:"Es Dplex?"})]})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),m.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition uppercase",placeholder:"Direccin o Link Maps",value:de.location,onChange:J=>Ne({...de,location:J.target.value})})]}),m.jsx("button",{type:"button",onClick:()=>c(!0),className:"bg-[#262626] text-white px-4 rounded-lg hover:bg-black transition flex items-center justify-center",title:"Buscar en Mapa",children:m.jsx(Vr,{className:"w-5 h-5"})})]})]}),o&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-[600px] flex flex-col overflow-hidden relative",children:[m.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[m.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Seleccionar Ubicacin"}),m.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:m.jsx(ql,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-grow p-0",children:m.jsx(C6,{onConfirm:J=>{Ne({...de,location:J.address||`${J.lat}, ${J.lng}`,lat:J.lat,lng:J.lng}),c(!1)}})})]})}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),m.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-24 resize-none",value:de.description,onChange:J=>Ne({...de,description:J.target.value})})]}),m.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[m.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:cs,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),m.jsx(Yw,{className:"h-6 w-6 text-[#fc7f51] mx-auto mb-2"}),m.jsx("p",{className:"text-gray-500 text-sm",children:"Subir fotos"})]}),Y.length>0&&m.jsx("div",{className:"grid grid-cols-4 gap-2",children:Y.map((J,ke)=>m.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[m.jsx("img",{src:J,alt:"",className:"w-full h-full object-cover"}),m.jsx("button",{type:"button",onClick:()=>yi(ke),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5",children:m.jsx(ql,{className:"w-3 h-3"})})]},ke))}),m.jsxs("div",{className:"flex gap-2",children:[d&&m.jsx("button",{type:"button",onClick:us,className:"flex-1 bg-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2",children:t?m.jsx(Ah,{className:"animate-spin"}):d?"Actualizar Propiedad":"Publicar Propiedad"})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Propiedades"}),m.jsxs("span",{className:"bg-orange-100 text-[#fc7f51] px-3 py-1 rounded-full text-sm font-bold",children:[re.length," Total"]})]}),pe?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ah,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):re.length===0?m.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No has publicado ninguna propiedad an."}):m.jsx("div",{className:"grid gap-4",children:re.map(J=>m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4",children:[m.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:m.jsx("img",{src:J.images?.[0]||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Sin+Img",alt:J.title,className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"flex-grow",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:J.title}),m.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${J.status==="disponible"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:J.status})]}),m.jsx("p",{className:"text-gray-500 text-xs mt-1",children:J.location}),m.jsxs("p",{className:"text-[#fc7f51] font-bold text-sm mt-1",children:["$",J.price?.toLocaleString()]}),m.jsxs("div",{className:"mt-3 flex gap-2",children:[m.jsx("button",{onClick:()=>gi(J.id,J.status),className:`tx-xs px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 text-center ${J.status==="disponible"?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:J.status==="disponible"?"Marcar Vendido/Alquilado":"Marcar Disponible"}),m.jsx("button",{onClick:()=>or(J),className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-100 transition",children:"Editar"}),m.jsx("button",{onClick:()=>Ce(J.id),className:"bg-red-50 text-red-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-red-100 transition",children:m.jsx(Ey,{className:"w-4 h-4"})})]})]})]},J.id))})]})]}),p==="profile"&&m.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl",children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[m.jsx(Ty,{className:"w-6 h-6 text-[#fc7f51]"})," Editar Perfil"]}),m.jsxs("form",{onSubmit:At,className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col items-center mb-6",children:[m.jsxs("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 border-2 border-white shadow-md relative group",children:[m.jsx("img",{src:X?URL.createObjectURL(X):j.photoURL||n.photoURL||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Perfil",alt:"Profile",className:"w-full h-full object-cover"}),m.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer transition",children:[m.jsx(Yw,{className:"w-6 h-6 text-white"}),m.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:J=>J.target.files?.[0]&&me(J.target.files[0])})]})]}),m.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Click para cambiar foto"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Publico"}),m.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.displayName,onChange:J=>z({...j,displayName:J.target.value}),required:!0}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este nombre aparecer en todas tus propiedades publicadas."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),m.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.email,onChange:J=>z({...j,email:J.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),m.jsx("input",{type:"tel",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.phoneNumber,onChange:J=>z({...j,phoneNumber:J.target.value})})]}),m.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea (Opcional)"}),m.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Dejar vaca para mantener la actual",value:j.newPassword||"",onChange:J=>z({...j,newPassword:J.target.value})}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres."})]}),m.jsx("button",{type:"submit",disabled:k,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-xl hover:bg-[#e56b3e] transition disabled:opacity-70",children:k?"Guardando...":"Guardar Cambios"})]})]}),p==="inquiries"&&m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Visitas Agendadas"}),ae.length===0?m.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No tienes visitas programadas."}):m.jsx("div",{className:"space-y-4",children:ae.map(J=>m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-gray-800 text-lg uppercase",children:J.propertyTitle}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx(Ty,{className:"w-4 h-4 text-[#fc7f51]"}),m.jsx("span",{className:"font-medium text-gray-700",children:J.clientName})]}),m.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-500",children:[m.jsx(Phone,{className:"w-3 h-3"})," ",J.clientPhone]})]}),m.jsxs("div",{className:"text-right bg-orange-50 px-4 py-2 rounded-lg border border-orange-100",children:[m.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:"Fecha de Visita"}),m.jsx("div",{className:"font-bold text-[#fc7f51] text-lg",children:J.visitDate?new Date(J.visitDate).toLocaleDateString():"Por definir"}),m.jsx("div",{className:"text-sm font-medium text-gray-700",children:J.visitTime||"Hora por definir"})]})]},J.id))})]}),p==="tips"&&m.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsx("div",{className:"md:col-span-1",children:m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-24",children:[m.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:ye?"Editar Tip":"Nuevo Tip"}),m.jsxs("form",{onSubmit:Ct,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Ttulo del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:ee.title,onChange:J=>ne({...ee,title:J.target.value}),required:!0}),m.jsx("textarea",{placeholder:"Contenido del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-32 resize-none",value:ee.content,onChange:J=>ne({...ee,content:J.target.value}),required:!0}),m.jsx("button",{type:"submit",disabled:I,className:"w-full bg-[#fc7f51] text-white font-bold py-2 rounded-lg hover:bg-[#e56b3e] transition",children:ye?"Actualizar":"Publicar"}),ye&&m.jsx("button",{type:"button",onClick:()=>{B(null),ne({title:"",content:""})},className:"w-full bg-gray-100 text-gray-600 font-bold py-2 rounded-lg hover:bg-gray-200 transition",children:"Cancelar"})]})]})}),m.jsxs("div",{className:"md:col-span-2 space-y-4",children:[m.jsxs("h3",{className:"font-bold text-gray-800 mb-4",children:["Tips Publicados (",q.length,")"]}),q.length===0?m.jsx("p",{className:"text-gray-500 text-center py-10",children:"No has publicado tips an."}):q.map(J=>m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative group",children:[m.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:J.title}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:J.content}),m.jsx("div",{className:"text-xs text-gray-400",children:J.createdAt?.seconds?new Date(J.createdAt.seconds*1e3).toLocaleDateString():"Reciente"}),m.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[m.jsx("button",{onClick:()=>ls(J),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:m.jsx(A4,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>ji(J.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:m.jsx(Ey,{className:"w-4 h-4"})})]})]},J.id))]})]})]}):m.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:m.jsx(F4,{className:"w-8 h-8 text-[#fc7f51]"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cuenta Inactiva"}),m.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Ingresa tu cdigo de activacin para acceder al panel."}),m.jsxs("form",{onSubmit:qe,className:"w-full space-y-4",children:[m.jsx("input",{type:"text",value:w,onChange:J=>E(J.target.value.toUpperCase()),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition text-center font-mono text-lg tracking-widest uppercase",placeholder:"CDIGO",required:!0}),m.jsx("button",{type:"submit",disabled:N,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition disabled:opacity-70",children:N?"Verificando...":"Activar Cuenta"})]})]})]})})},R6=()=>{const{user:n}=Ra(),[e,t]=U.useState([]),[s,o]=U.useState(!0);return U.useEffect(()=>{(async()=>{try{const d=Ps(mn(Xe,"properties")),p=(await Js(d)).docs.map(v=>({id:v.id,...v.data()}));console.log("ClientDashboard Fetched properties:",p),t(p)}catch(d){console.error("Error fetching properties:",d)}finally{o(!1)}})()},[n]),m.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:m.jsxs("div",{className:"container mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:["Hola, ",n?.displayName||"Usuario"]}),m.jsx("p",{className:"text-gray-500 mt-2",children:"Bienvenido a tu panel personal. Aqu encontrars las propiedades que te interesan."})]}),m.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1",children:[m.jsx("button",{className:"px-4 py-2 text-[#fc7f51] border-b-2 border-[#fc7f51] font-bold",children:"Mis Favoritos"}),m.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Vistos Recientemente"}),m.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Alertas"})]}),s?m.jsx("div",{className:"flex justify-center py-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#fc7f51]"})}):e.length>0?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden group border border-gray-100",children:[m.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[m.jsx("img",{src:c.images?.[0]||"https://images.unsplash.com/photo-1600596542815-9ad4dc2f2072?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),m.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500",children:m.jsx(Zf,{className:"w-5 h-5 fill-current"})}),m.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider",children:c.type})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:c.title}),m.jsxs("span",{className:"text-[#fc7f51] font-bold text-lg",children:["$",c.price?.toLocaleString()]})]}),m.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.location}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-4",children:[c.category==="construido"?m.jsxs(m.Fragment,{children:[m.jsxs("span",{children:[c.bedrooms," Hab"]}),m.jsx("span",{children:""}),m.jsxs("span",{children:[c.bathrooms," Baos"]}),m.jsx("span",{children:""})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Terreno"}),m.jsx("span",{children:""})]}),m.jsxs("span",{children:[c.footage," m"]})]}),m.jsx(Xt,{to:`/properties/${c.id}`,className:"mt-4 block w-full py-3 bg-gray-50 hover:bg-[#fc7f51] hover:text-white text-gray-600 font-bold text-center rounded-xl transition text-sm",children:"Ver Detalles"})]})]},c.id))}):m.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[m.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:m.jsx(Zf,{className:"w-8 h-8 text-[#fc7f51]"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"An no tienes favoritos"}),m.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explora nuestro catlogo y guarda las propiedades que ms te gusten para verlas aqu."}),m.jsxs(Xt,{to:"/",className:"inline-flex items-center gap-2 bg-[#fc7f51] text-white px-8 py-3 rounded-full font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:[m.jsx(Qc,{className:"w-5 h-5"}),"Explorar Propiedades"]})]})]})})},I6=()=>{const[n,e]=U.useState({totalAgents:0,totalProperties:0,activeCodes:0}),[t,s]=U.useState([]),[o,c]=U.useState(!0),[d,_]=U.useState(!1),[p,v]=U.useState(null),[w,E]=U.useState([]),[N,R]=U.useState(!1),[j,z]=U.useState(!1),k=async()=>{try{const ne=Ps(mn(Xe,"users"),ma("role","==","agente")),ye=await Dw(ne),B=await Dw(mn(Xe,"properties")),I=Ps(mn(Xe,"activation_codes"),$T("createdAt","desc")),F=(await Js(I)).docs.map(H=>({id:H.id,...H.data()}));s(F),e({totalAgents:ye.data().count,totalProperties:B.data().count,activeCodes:F.filter(H=>!H.used).length})}catch(ne){console.error("Error fetching admin stats:",ne),Ue.error("Error al cargar estadsticas")}finally{c(!1)}};U.useEffect(()=>{k()},[]);const O=async()=>{_(!0);try{const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ye="";for(let B=0;B<8;B++)ye+=ne.charAt(Math.floor(Math.random()*ne.length));await Pl(mn(Xe,"activation_codes"),{code:ye,used:!1,createdAt:new Date,usedBy:null,usedAt:null}),Ue.success("Cdigo generado correctamente!"),k()}catch(ne){console.error("Error generating code:",ne),Ue.error("No se pudo generar el cdigo")}finally{_(!1)}},q=ne=>{navigator.clipboard.writeText(ne),Ue.success("Cdigo copiado al portapapeles")},$=async ne=>{if(ne){R(!0),z(!0),E([]);try{const ye=await Il(on(Xe,"users",ne));if(ye.exists())v({id:ye.id,...ye.data()});else{v(null),Ue.error("Usuario no encontrado (probablemente ya eliminado).");return}const B=Ps(mn(Xe,"properties"),ma("agentId","==",ne)),Z=(await Js(B)).docs.map(F=>({id:F.id,...F.data()}));E(Z)}catch(ye){console.error("Error details:",ye),Ue.error("Error al cargar detalles")}finally{R(!1)}}},ee=async()=>{if(!(!p||!window.confirm(`Ests seguro de que quieres eliminar a ${p.displayName||"este usuario"} y todas sus propiedades? Esta accin no se puede deshacer.`)))try{const ne=w.map(ye=>Hf(on(Xe,"properties",ye.id)));await Promise.all(ne),await Hf(on(Xe,"users",p.id)),Ue.success("Usuario y sus propiedades eliminados."),z(!1),k()}catch(ne){console.error("Error deleting user:",ne),Ue.error("Error al eliminar usuario.")}};return o?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx(Vg,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):m.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:[m.jsxs("div",{className:"container mx-auto max-w-6xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:"Panel Super Admin"}),m.jsx("p",{className:"text-gray-500 mt-2",children:"Gestin general de la plataforma"})]}),m.jsx("button",{onClick:k,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition shadow-sm",children:m.jsx(Vg,{className:"w-5 h-5 text-gray-500"})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[m.jsx("div",{className:"bg-orange-50 p-4 rounded-xl",children:m.jsx(AS,{className:"w-8 h-8 text-[#fc7f51]"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Agentes Registrados"}),m.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalAgents})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[m.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:m.jsx(wS,{className:"w-8 h-8 text-blue-500"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Inmuebles Publicados"}),m.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalProperties})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[m.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:m.jsx($f,{className:"w-8 h-8 text-green-500"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Cdigos Disponibles"}),m.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.activeCodes})]})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[m.jsxs("div",{className:"p-8 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cdigos de Activacin"}),m.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Genera cdigos nicos para activar cuentas de agentes."})]}),m.jsxs("button",{onClick:O,disabled:d,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/20 transition flex items-center gap-2 disabled:opacity-70",children:[d?m.jsx(Vg,{className:"w-5 h-5 animate-spin"}):m.jsx($f,{className:"w-5 h-5"}),"Generar Nuevo Cdigo"]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CDIGO"}),m.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ESTADO"}),m.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CREADO EL"}),m.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"USADO POR"}),m.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ACCIONES"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-50",children:t.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"5",className:"px-8 py-8 text-center text-gray-400",children:"No hay cdigos generados an."})}):t.map(ne=>m.jsxs("tr",{className:"hover:bg-gray-50/50 transition",children:[m.jsx("td",{className:"px-8 py-4",children:m.jsx("span",{className:"font-mono font-bold text-lg text-gray-700 tracking-wider",children:ne.code})}),m.jsx("td",{className:"px-8 py-4",children:ne.used?m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Usado"}):m.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Disponible"})}),m.jsx("td",{className:"px-8 py-4 text-sm text-gray-500",children:ne.createdAt?.toDate().toLocaleDateString()}),m.jsx("td",{className:"px-8 py-4 text-sm text-gray-500 relative group cursor-pointer",onClick:()=>ne.usedBy&&$(ne.usedBy),children:ne.usedBy?m.jsxs("div",{className:"flex items-center gap-2 hover:text-[#fc7f51] transition",children:[m.jsx("span",{children:ne.usedBy}),m.jsx(Gf,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}):"-"}),m.jsx("td",{className:"px-8 py-4",children:ne.used?m.jsx("button",{onClick:()=>$(ne.usedBy),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition",title:"Ver Detalles",children:m.jsx(Gf,{className:"w-5 h-5"})}):m.jsx("button",{onClick:()=>q(ne.code),className:"text-[#fc7f51] hover:text-[#e56b3e] p-2 hover:bg-orange-50 rounded-lg transition",title:"Copiar cdigo",children:m.jsx(v4,{className:"w-5 h-5"})})})]},ne.id))})]})})]})]}),j&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Detalles del Agente"}),m.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-gray-200 rounded-full transition",children:m.jsx(ql,{className:"w-5 h-5 text-gray-500"})})]}),m.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:N?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Loader2,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):p?m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-lg font-bold text-gray-800",children:p.displayName||"Sin Nombre"}),m.jsx("p",{className:"text-gray-500",children:p.email}),m.jsx("p",{className:"text-gray-500 text-sm mt-1",children:p.phoneNumber||"Sin Telfono"}),m.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-orange-100 text-[#fc7f51] text-xs font-bold rounded-lg uppercase",children:p.role})]}),m.jsxs("button",{onClick:ee,className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition",children:[m.jsx(Ey,{className:"w-4 h-4"}),"Eliminar Usuario"]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:["Propiedades Publicadas (",w.length,")"]}),w.length===0?m.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Este usuario no tiene propiedades."}):m.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map(ne=>m.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex gap-3 hover:bg-gray-50 transition",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:ne.images?.[0]&&m.jsx("img",{src:ne.images[0],className:"w-full h-full object-cover"})}),m.jsxs("div",{className:"overflow-hidden",children:[m.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:ne.title}),m.jsx("p",{className:"text-xs text-gray-500 truncate",children:ne.location}),m.jsxs("p",{className:"text-[#fc7f51] font-bold text-xs mt-1",children:["$",ne.price?.toLocaleString()]})]})]},ne.id))})]})]}):m.jsx("p",{className:"text-center text-red-500",children:"No se pudo cargar la informacin."})})]})})]})},P6=()=>{const{user:n}=Ra(),[e,t]=U.useState(!1),s=async()=>{t(!0);try{const c=[{title:"Modern Apartment in Downtown",price:25e4,location:"Downtown City Center",type:"venta",category:"construido",bedrooms:2,bathrooms:2,footage:85,description:"Stunning view of the city.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"]},{title:"Cozy Family Home",price:1500,location:"Suburban Area",type:"alquiler",category:"construido",bedrooms:3,bathrooms:2,footage:120,description:"Ideal for a small family.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1560184897-ae75f418493e"]}];for(const d of c)await Pl(mn(Xe,"properties"),d);Ue.success("Propiedades de demostracin creadas!")}catch(c){console.error("Error creating demo props:",c),Ue.error("Error al crear propiedades demo")}finally{t(!1)}},o=async()=>{if(!n){Ue.error("Debes iniciar sesin primero.");return}t(!0);try{const c=on(Xe,"users",n.uid);await yo(c,{role:"superadmin",isActivated:!0}),Ue.success(`Rol actualizado! Ahora eres Super Admin: ${n.email}`),setTimeout(()=>window.location.reload(),1500)}catch(c){console.error("Error making superadmin:",c),Ue.error("Error al actualizar rol")}finally{t(!1)}};return m.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 space-y-8",children:m.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg border border-gray-100 text-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Configuracin Inicial"}),m.jsx("p",{className:"text-gray-500 mb-8",children:"Usa estas herramientas para inicializar tu base de datos."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:[m.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"1. Configurar Admin"}),m.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Convierte tu usuario actual (",n?.email||"No logueado",") en Super Admin."]}),m.jsx("button",{onClick:o,disabled:e||!n,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Hacerme Super Admin"})]}),m.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[m.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"2. Datos de Prueba"}),m.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crea propiedades de ejemplo para ver cmo luce el dashboard."}),m.jsx("button",{onClick:s,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Crear Propiedades Demo"})]})]}),m.jsx("p",{className:"mt-8 text-xs text-gray-400",children:"Nota: Esta pgina debe ser eliminada o asegurada antes de produccin."})]})})};function M6(){const e=Os().pathname==="/superadmin";return m.jsx(V5,{children:m.jsxs("div",{className:"flex flex-col min-h-screen",children:[!e&&m.jsx(e6,{}),m.jsx("main",{className:"flex-grow",children:m.jsxs(xC,{children:[m.jsx(ns,{path:"/",element:m.jsx(xj,{})}),m.jsx(ns,{path:"/about",element:m.jsx(J3,{})}),m.jsx(ns,{path:"/contact",element:m.jsx(n6,{})}),m.jsx(ns,{path:"/properties/:id",element:m.jsx(X3,{})}),m.jsx(ns,{path:"/search",element:m.jsx(i6,{})}),m.jsx(ns,{path:"/login",element:m.jsx(s6,{})}),m.jsx(ns,{path:"/register",element:m.jsx(r6,{})}),m.jsx(ns,{path:"/forgot-password",element:m.jsx(a6,{})}),m.jsx(ns,{path:"/setup",element:m.jsx(P6,{})}),m.jsx(ns,{path:"/agent-dashboard",element:m.jsx(jg,{allowedRoles:["agente"],children:m.jsx(N6,{})})}),m.jsx(ns,{path:"/client-dashboard",element:m.jsx(jg,{allowedRoles:["cliente"],children:m.jsx(R6,{})})}),m.jsx(ns,{path:"/superadmin",element:m.jsx(jg,{allowedRoles:["superadmin"],children:m.jsx(I6,{})})})]})}),!e&&m.jsx(t6,{})]})})}EA.createRoot(document.getElementById("root")).render(m.jsx(U.StrictMode,{children:m.jsx(ZC,{children:m.jsx(M6,{})})}));
