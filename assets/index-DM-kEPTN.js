(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var zm={exports:{}},tc={};var N0;function C2(){if(N0)return tc;N0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:u,ref:o!==void 0?o:null,props:c}}return tc.Fragment=e,tc.jsx=n,tc.jsxs=n,tc}var C0;function I2(){return C0||(C0=1,zm.exports=C2()),zm.exports}var p=I2(),Bm={exports:{}},we={};var I0;function D2(){if(I0)return we;I0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function j(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,P={};function Q(V,te,oe){this.props=V,this.context=te,this.refs=P,this.updater=oe||G}Q.prototype.isReactComponent={},Q.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},Q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=Q.prototype;function re(V,te,oe){this.props=V,this.context=te,this.refs=P,this.updater=oe||G}var le=re.prototype=new W;le.constructor=re,B(le,Q.prototype),le.isPureReactComponent=!0;var ie=Array.isArray;function fe(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function S(V,te,oe){var he=oe.ref;return{$$typeof:r,type:V,key:te,ref:he!==void 0?he:null,props:oe}}function O(V,te){return S(V.type,te,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return te[oe]})}var C=/\/+/g;function ot(V,te){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):te.toString(36)}function Pt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(fe,fe):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,te,oe,he,Ee){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,X(Ue(V._payload),te,oe,he,Ee)}}if(Ue)return Ee=Ee(V),Ue=he===""?"."+ot(V,0):he,ie(Ee)?(oe="",Ue!=null&&(oe=Ue.replace(C,"$&/")+"/"),X(Ee,te,oe,"",function(Ls){return Ls})):Ee!=null&&(D(Ee)&&(Ee=O(Ee,oe+(Ee.key==null||V&&V.key===Ee.key?"":(""+Ee.key).replace(C,"$&/")+"/")+Ue)),te.push(Ee)),1;Ue=0;var Lt=he===""?".":he+":";if(ie(V))for(var lt=0;lt<V.length;lt++)he=V[lt],Re=Lt+ot(he,lt),Ue+=X(he,te,oe,Re,Ee);else if(lt=j(V),typeof lt=="function")for(V=lt.call(V),lt=0;!(he=V.next()).done;)he=he.value,Re=Lt+ot(he,lt++),Ue+=X(he,te,oe,Re,Ee);else if(Re==="object"){if(typeof V.then=="function")return X(Pt(V),te,oe,he,Ee);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(V,te,oe){if(V==null)return V;var he=[],Ee=0;return X(V,he,"","",function(Re){return te.call(oe,Re,Ee++)}),he}function ye(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var Be=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ke={map:ae,forEach:function(V,te,oe){ae(V,function(){te.apply(this,arguments)},oe)},count:function(V){var te=0;return ae(V,function(){te++}),te},toArray:function(V){return ae(V,function(te){return te})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return we.Activity=x,we.Children=Ke,we.Component=Q,we.Fragment=n,we.Profiler=o,we.PureComponent=re,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},we.cache=function(V){return function(){return V.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(V,te,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=B({},V.props),Ee=V.key;if(te!=null)for(Re in te.key!==void 0&&(Ee=""+te.key),te)!R.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(he[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)he.children=oe;else if(1<Re){for(var Ue=Array(Re),Lt=0;Lt<Re;Lt++)Ue[Lt]=arguments[Lt+2];he.children=Ue}return S(V.type,Ee,he)},we.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},we.createElement=function(V,te,oe){var he,Ee={},Re=null;if(te!=null)for(he in te.key!==void 0&&(Re=""+te.key),te)R.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=te[he]);var Ue=arguments.length-2;if(Ue===1)Ee.children=oe;else if(1<Ue){for(var Lt=Array(Ue),lt=0;lt<Ue;lt++)Lt[lt]=arguments[lt+2];Ee.children=Lt}if(V&&V.defaultProps)for(he in Ue=V.defaultProps,Ue)Ee[he]===void 0&&(Ee[he]=Ue[he]);return S(V,Re,Ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(V){return{$$typeof:m,render:V}},we.isValidElement=D,we.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ye}},we.memo=function(V,te){return{$$typeof:y,type:V,compare:te===void 0?null:te}},we.startTransition=function(V){var te=N.T,oe={};N.T=oe;try{var he=V(),Ee=N.S;Ee!==null&&Ee(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(fe,Be)}catch(Re){Be(Re)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),N.T=te}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(V){return N.H.use(V)},we.useActionState=function(V,te,oe){return N.H.useActionState(V,te,oe)},we.useCallback=function(V,te){return N.H.useCallback(V,te)},we.useContext=function(V){return N.H.useContext(V)},we.useDebugValue=function(){},we.useDeferredValue=function(V,te){return N.H.useDeferredValue(V,te)},we.useEffect=function(V,te){return N.H.useEffect(V,te)},we.useEffectEvent=function(V){return N.H.useEffectEvent(V)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(V,te,oe){return N.H.useImperativeHandle(V,te,oe)},we.useInsertionEffect=function(V,te){return N.H.useInsertionEffect(V,te)},we.useLayoutEffect=function(V,te){return N.H.useLayoutEffect(V,te)},we.useMemo=function(V,te){return N.H.useMemo(V,te)},we.useOptimistic=function(V,te){return N.H.useOptimistic(V,te)},we.useReducer=function(V,te,oe){return N.H.useReducer(V,te,oe)},we.useRef=function(V){return N.H.useRef(V)},we.useState=function(V){return N.H.useState(V)},we.useSyncExternalStore=function(V,te,oe){return N.H.useSyncExternalStore(V,te,oe)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.4",we}var D0;function Kp(){return D0||(D0=1,Bm.exports=D2()),Bm.exports}var M=Kp(),qm={exports:{}},nc={},Hm={exports:{}},Fm={};var O0;function O2(){return O0||(O0=1,(function(r){function e(X,ae){var ye=X.length;X.push(ae);e:for(;0<ye;){var Be=ye-1>>>1,Ke=X[Be];if(0<o(Ke,ae))X[Be]=ae,X[ye]=Ke,ye=Be;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],ye=X.pop();if(ye!==ae){X[0]=ye;e:for(var Be=0,Ke=X.length,V=Ke>>>1;Be<V;){var te=2*(Be+1)-1,oe=X[te],he=te+1,Ee=X[he];if(0>o(oe,ye))he<Ke&&0>o(Ee,oe)?(X[Be]=Ee,X[he]=ye,Be=he):(X[Be]=oe,X[te]=ye,Be=te);else if(he<Ke&&0>o(Ee,ye))X[Be]=Ee,X[he]=ye,Be=he;else break e}}return ae}function o(X,ae){var ye=X.sortIndex-ae.sortIndex;return ye!==0?ye:X.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();r.unstable_now=function(){return u.now()-m}}var g=[],y=[],E=1,x=null,w=3,j=!1,G=!1,B=!1,P=!1,Q=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function le(X){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=X)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function ie(X){if(B=!1,le(X),!G)if(n(g)!==null)G=!0,fe||(fe=!0,L());else{var ae=n(y);ae!==null&&Pt(ie,ae.startTime-X)}}var fe=!1,N=-1,R=5,S=-1;function O(){return P?!0:!(r.unstable_now()-S<R)}function D(){if(P=!1,fe){var X=r.unstable_now();S=X;var ae=!0;try{e:{G=!1,B&&(B=!1,W(N),N=-1),j=!0;var ye=w;try{t:{for(le(X),x=n(g);x!==null&&!(x.expirationTime>X&&O());){var Be=x.callback;if(typeof Be=="function"){x.callback=null,w=x.priorityLevel;var Ke=Be(x.expirationTime<=X);if(X=r.unstable_now(),typeof Ke=="function"){x.callback=Ke,le(X),ae=!0;break t}x===n(g)&&s(g),le(X)}else s(g);x=n(g)}if(x!==null)ae=!0;else{var V=n(y);V!==null&&Pt(ie,V.startTime-X),ae=!1}}break e}finally{x=null,w=ye,j=!1}ae=void 0}}finally{ae?L():fe=!1}}}var L;if(typeof re=="function")L=function(){re(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ot=C.port2;C.port1.onmessage=D,L=function(){ot.postMessage(null)}}else L=function(){Q(D,0)};function Pt(X,ae){N=Q(function(){X(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var ye=w;w=ae;try{return X()}finally{w=ye}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ye=w;w=X;try{return ae()}finally{w=ye}},r.unstable_scheduleCallback=function(X,ae,ye){var Be=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Be+ye:Be):ye=Be,X){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,X={id:E++,callback:ae,priorityLevel:X,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Be?(X.sortIndex=ye,e(y,X),n(g)===null&&X===n(y)&&(B?(W(N),N=-1):B=!0,Pt(ie,ye-Be))):(X.sortIndex=Ke,e(g,X),G||j||(G=!0,fe||(fe=!0,L()))),X},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(X){var ae=w;return function(){var ye=w;w=ae;try{return X.apply(this,arguments)}finally{w=ye}}}})(Fm)),Fm}var j0;function j2(){return j0||(j0=1,Hm.exports=O2()),Hm.exports}var Gm={exports:{}},nn={};var M0;function M2(){if(M0)return nn;M0=1;var r=Kp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:E}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},nn.flushSync=function(g){var y=u.T,E=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=y,s.p=E,s.d.f()}},nn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},nn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},nn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,x=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:j}):E==="script"&&s.d.X(g,{crossOrigin:x,integrity:w,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},nn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,x=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},nn.requestFormReset=function(g){s.d.r(g)},nn.unstable_batchedUpdates=function(g,y){return g(y)},nn.useFormState=function(g,y,E){return u.H.useFormState(g,y,E)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var k0;function k2(){if(k0)return Gm.exports;k0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=M2(),Gm.exports}var V0;function V2(){if(V0)return nc;V0=1;var r=j2(),e=Kp(),n=k2();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),re=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case Q:return"Profiler";case P:return"StrictMode";case ie:return"Suspense";case fe:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ot(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ot(t(i))}catch{}}return null}var Pt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Be=[],Ke=-1;function V(t){return{current:t}}function te(t){0>Ke||(t.current=Be[Ke],Be[Ke]=null,Ke--)}function oe(t,i){Ke++,Be[Ke]=t.current,t.current=i}var he=V(null),Ee=V(null),Re=V(null),Ue=V(null);function Lt(t,i){switch(oe(Re,i),oe(Ee,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Wv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Wv(i),t=Jv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),oe(he,t)}function lt(){te(he),te(Ee),te(Re)}function Ls(t){t.memoizedState!==null&&oe(Ue,t);var i=he.current,a=Jv(i,t.type);i!==a&&(oe(Ee,t),oe(he,a))}function ka(t){Ee.current===t&&(te(he),te(Ee)),Ue.current===t&&(te(Ue),Wl._currentValue=ye)}var Va,Pa;function _r(t){if(Va===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Va=i&&i[1]||"",Pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+t+Pa}var Wo=!1;function Us(t,i){if(!t||Wo)return"";Wo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var F=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){F=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){F=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var I=v.split(`
`),H=T.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===H.length)for(l=I.length-1,d=H.length-1;1<=l&&0<=d&&I[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==H[d]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=d);break}}}finally{Wo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_r(a):""}function Jo(t,i){switch(t.tag){case 26:case 27:case 5:return _r(t.type);case 16:return _r("Lazy");case 13:return t.child!==i&&i!==null?_r("Suspense Fallback"):_r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return Us(t.type,!1);case 11:return Us(t.type.render,!1);case 1:return Us(t.type,!0);case 31:return _r("Activity");default:return""}}function Zo(t){try{var i="",a=null;do i+=Jo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,ji=r.unstable_cancelCallback,Bd=r.unstable_shouldYield,Fc=r.unstable_requestPaint,ln=r.unstable_now,zs=r.unstable_getCurrentPriorityLevel,el=r.unstable_ImmediatePriority,tl=r.unstable_UserBlockingPriority,Mi=r.unstable_NormalPriority,qd=r.unstable_LowPriority,Gc=r.unstable_IdlePriority,$c=r.log,Kc=r.unstable_setDisableYieldValue,er=null,Kt=null;function Vn(t){if(typeof $c=="function"&&Kc(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(er,t)}catch{}}var _t=Math.clz32?Math.clz32:Yc,Qc=Math.log,La=Math.LN2;function Yc(t){return t>>>=0,t===0?32:31-(Qc(t)/La|0)|0}var vr=256,Bs=262144,At=4194304;function br(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Er(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=br(l):(v&=T,v!==0?d=br(v):a||(a=T&~t,a!==0&&(d=br(a))))):(T=l&~f,T!==0?d=br(T):v!==0?d=br(v):a||(a=l&~t,a!==0&&(d=br(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function tr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Hd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xc(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function xr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function qs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fd(t,i,a,l,d,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-_t(a),ee=1<<Y;T[Y]=0,I[Y]=-1;var F=H[Y];if(F!==null)for(H[Y]=null,Y=0;Y<F.length;Y++){var K=F[Y];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&Hs(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function Hs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function nl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function rl(t,i){var a=i&-i;return a=(a&42)!==0?1:Fs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Fs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wc(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:E0(t.type))}function nr(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var rr=Math.random().toString(36).slice(2),St="__reactFiber$"+rr,Ht="__reactProps$"+rr,Tr="__reactContainer$"+rr,Ua="__reactEvents$"+rr,Gd="__reactListeners$"+rr,Jc="__reactHandles$"+rr,Zc="__reactResources$"+rr,wr="__reactMarker$"+rr;function za(t){delete t[St],delete t[Ht],delete t[Ua],delete t[Gd],delete t[Jc]}function Ar(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Tr]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=s0(t);t!==null;){if(a=t[St])return a;t=s0(t)}return i}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[St]||t[Tr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Tn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Sr(t){var i=t[Zc];return i||(i=t[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(t){t[wr]=!0}var il=new Set,sl={};function Rr(t,i){Nr(t,i),Nr(t+"Capture",i)}function Nr(t,i){for(sl[t]=i,t=0;t<i.length;t++)il.add(i[t])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ll={};function eu(t){return wt.call(ll,t)?!0:wt.call(ol,t)?!1:al.test(t)?ll[t]=!0:(ol[t]=!0,!1)}function Ba(t,i,a){if(eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function wn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Nt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ki(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=ki(t)?"checked":"value";t._valueTracker=cl(t,i,""+t[i])}}function Gs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ki(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Cr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $s=/[\n"\\]/g;function fn(t){return t.replace($s,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qa(t,i,a,l,d,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ft(i)):t.value!==""+Ft(i)&&(t.value=""+Ft(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ul(t,v,Ft(i)):a!=null?ul(t,v,Ft(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ft(T):t.removeAttribute("name")}function tu(t,i,a,l,d,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Ft(a):"",i=i!=null?""+Ft(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Qe(t)}function ul(t,i,a){i==="number"&&Cr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vi(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function nu(t,i,a){if(i!=null&&(i=""+Ft(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ft(a):""}function Pi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Pt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ft(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function mn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ru.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function dl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&hl(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&hl(t,f,i[f])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Li=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return Li.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ir(){}var fl=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,Ir=null;function Ks(t){var i=Pn(t);if(i&&(t=i.stateNode)){var a=t[Ht]||null;e:switch(t=i.stateNode,i.type){case"input":if(qa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Ht]||null;if(!d)throw Error(s(90));qa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Gs(l)}break e;case"textarea":nu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Vi(t,!!a.multiple,i,!1)}}}var Ga=!1;function zi(t,i,a){if(Ga)return t(i,a);Ga=!0;try{var l=t(i);return l}finally{if(Ga=!1,(Ui!==null||Ir!==null)&&(Wu(),Ui&&(i=Ui,t=Ir,Ir=Ui=null,Ks(i),t)))for(i=0;i<t.length;i++)Ks(t[i])}}function sr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ht]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qs=!1;if(Un)try{var We={};Object.defineProperty(We,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Qs=!1}var Dr=null,ml=null,Ys=null;function pl(){if(Ys)return Ys;var t,i=ml,a=i.length,l,d="value"in Dr?Dr.value:Dr.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===d[f-l];l++);return Ys=d.slice(t,1<l?1-l:void 0)}function Xs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Zr(){return!0}function ar(){return!1}function Qt(t){function i(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zr:ar,this.isPropagationStopped=ar,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),i}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Or=Qt(ei),Bi=x({},ei,{view:0,detail:0}),gl=Qt(Bi),qi,$a,jr,Ka=x({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jr&&(jr&&t.type==="mousemove"?(qi=t.screenX-jr.screenX,$a=t.screenY-jr.screenY):$a=qi=0,jr=t),qi)},movementY:function(t){return"movementY"in t?t.movementY:$a}}),yl=Qt(Ka),Ws=x({},Ka,{dataTransfer:0}),su=Qt(Ws),au=x({},Bi,{relatedTarget:0}),Js=Qt(au),_l=x({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=Qt(_l),Qa=x({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lu=Qt(Qa),cu=x({},ei,{data:0}),Mr=Qt(cu),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=du[t])?!!i[t]:!1}function Hi(){return fu}var cn=x({},Bi,{key:function(t){if(t.key){var i=uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mu=Qt(cn),pu=x({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ti=Qt(pu),h=x({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),_=Qt(h),b=x({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qt(b),z=x({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Qt(z),se=x({},ei,{newState:0,oldState:0}),Ae=Qt(se),vt=[9,13,27,32],Fe=Un&&"CompositionEvent"in window,ct=null;Un&&"documentMode"in document&&(ct=document.documentMode);var zn=Un&&"TextEvent"in window&&!ct,kr=Un&&(!Fe||ct&&8<ct&&11>=ct),or=" ",lr=!1;function Zs(t,i){switch(t){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function ZT(t,i){switch(t){case"compositionend":return Ya(i);case"keypress":return i.which!==32?null:(lr=!0,or);case"textInput":return t=i.data,t===or&&lr?null:t;default:return null}}function ew(t,i){if(Xa)return t==="compositionend"||!Fe&&Zs(t,i)?(t=pl(),Ys=ml=Dr=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return kr&&i.locale!=="ko"?null:i.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!tw[t.type]:i==="textarea"}function cy(t,i,a,l){Ui?Ir?Ir.push(l):Ir=[l]:Ui=l,i=ih(i,"onChange"),0<i.length&&(a=new Or("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var vl=null,bl=null;function nw(t){Gv(t,0)}function gu(t){var i=Tn(t);if(Gs(i))return t}function uy(t,i){if(t==="change")return i}var hy=!1;if(Un){var $d;if(Un){var Kd="oninput"in document;if(!Kd){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),Kd=typeof dy.oninput=="function"}$d=Kd}else $d=!1;hy=$d&&(!document.documentMode||9<document.documentMode)}function fy(){vl&&(vl.detachEvent("onpropertychange",my),bl=vl=null)}function my(t){if(t.propertyName==="value"&&gu(bl)){var i=[];cy(i,bl,t,Ln(t)),zi(nw,i)}}function rw(t,i,a){t==="focusin"?(fy(),vl=i,bl=a,vl.attachEvent("onpropertychange",my)):t==="focusout"&&fy()}function iw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gu(bl)}function sw(t,i){if(t==="click")return gu(i)}function aw(t,i){if(t==="input"||t==="change")return gu(i)}function ow(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:ow;function El(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!wt.call(i,d)||!An(t[d],i[d]))return!1}return!0}function py(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gy(t,i){var a=py(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=py(a)}}function yy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?yy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function _y(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Cr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Cr(t.document)}return i}function Qd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var lw=Un&&"documentMode"in document&&11>=document.documentMode,Wa=null,Yd=null,xl=null,Xd=!1;function vy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xd||Wa==null||Wa!==Cr(l)||(l=Wa,"selectionStart"in l&&Qd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&El(xl,l)||(xl=l,l=ih(Yd,"onSelect"),0<l.length&&(i=new Or("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Wa)))}function ea(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ja={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Wd={},by={};Un&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ta(t){if(Wd[t])return Wd[t];if(!Ja[t])return t;var i=Ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in by)return Wd[t]=i[a];return t}var Ey=ta("animationend"),xy=ta("animationiteration"),Ty=ta("animationstart"),cw=ta("transitionrun"),uw=ta("transitionstart"),hw=ta("transitioncancel"),wy=ta("transitionend"),Ay=new Map,Jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jd.push("scrollEnd");function cr(t,i){Ay.set(t,i),Rr(i,[t])}var yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],Za=0,Zd=0;function _u(){for(var t=Za,i=Zd=Za=0;i<t;){var a=Bn[i];Bn[i++]=null;var l=Bn[i];Bn[i++]=null;var d=Bn[i];Bn[i++]=null;var f=Bn[i];if(Bn[i++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&Sy(a,d,f)}}function vu(t,i,a,l){Bn[Za++]=t,Bn[Za++]=i,Bn[Za++]=a,Bn[Za++]=l,Zd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ef(t,i,a,l){return vu(t,i,a,l),bu(t)}function na(t,i){return vu(t,null,null,i),bu(t)}function Sy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-_t(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function bu(t){if(50<Fl)throw Fl=0,um=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var eo={};function dw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,i,a,l){return new dw(t,i,a,l)}function tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ni(t,i){var a=t.alternate;return a===null?(a=Sn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ry(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Eu(t,i,a,l,d,f){var v=0;if(l=t,typeof t=="function")tf(t)&&(v=1);else if(typeof t=="string")v=y2(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=Sn(31,a,i,d),t.elementType=S,t.lanes=f,t;case B:return ra(a.children,d,f,i);case P:v=8,d|=24;break;case Q:return t=Sn(12,a,i,d|2),t.elementType=Q,t.lanes=f,t;case ie:return t=Sn(13,a,i,d),t.elementType=ie,t.lanes=f,t;case fe:return t=Sn(19,a,i,d),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case W:v=9;break e;case le:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Sn(v,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function ra(t,i,a,l){return t=Sn(7,t,l,i),t.lanes=a,t}function nf(t,i,a){return t=Sn(6,t,null,i),t.lanes=a,t}function Ny(t){var i=Sn(18,null,null,0);return i.stateNode=t,i}function rf(t,i,a){return i=Sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cy=new WeakMap;function qn(t,i){if(typeof t=="object"&&t!==null){var a=Cy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Zo(i)},Cy.set(t,i),i)}return{value:t,source:i,stack:Zo(i)}}var to=[],no=0,xu=null,Tl=0,Hn=[],Fn=0,Fi=null,Vr=1,Pr="";function ri(t,i){to[no++]=Tl,to[no++]=xu,xu=t,Tl=i}function Iy(t,i,a){Hn[Fn++]=Vr,Hn[Fn++]=Pr,Hn[Fn++]=Fi,Fi=t;var l=Vr;t=Pr;var d=32-_t(l)-1;l&=~(1<<d),a+=1;var f=32-_t(i)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Vr=1<<32-_t(i)+d|a<<d|l,Pr=f+t}else Vr=1<<f|a<<d|l,Pr=t}function sf(t){t.return!==null&&(ri(t,1),Iy(t,1,0))}function af(t){for(;t===xu;)xu=to[--no],to[no]=null,Tl=to[--no],to[no]=null;for(;t===Fi;)Fi=Hn[--Fn],Hn[Fn]=null,Pr=Hn[--Fn],Hn[Fn]=null,Vr=Hn[--Fn],Hn[Fn]=null}function Dy(t,i){Hn[Fn++]=Vr,Hn[Fn++]=Pr,Hn[Fn++]=Fi,Vr=i.id,Pr=i.overflow,Fi=t}var Yt=null,it=null,Le=!1,Gi=null,Gn=!1,of=Error(s(519));function $i(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(qn(i,t)),of}function Oy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Ht]=l,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<$l.length;a++)Ie($l[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),tu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),Pi(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Yv(i.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),l.onScroll!=null&&Ie("scroll",i),l.onScrollEnd!=null&&Ie("scrollend",i),l.onClick!=null&&(i.onclick=ir),i=!0):i=!1,i||$i(t,!0)}function jy(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Yt=Yt.return}}function ro(t){if(t!==Yt)return!1;if(!Le)return jy(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Am(t.type,t.memoizedProps)),a=!a),a&&it&&$i(t),jy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=i0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=i0(t)}else i===27?(i=it,as(t.type)?(t=Im,Im=null,it=t):it=i):it=Yt?Kn(t.stateNode.nextSibling):null;return!0}function ia(){it=Yt=null,Le=!1}function lf(){var t=Gi;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Gi=null),t}function wl(t){Gi===null?Gi=[t]:Gi.push(t)}var cf=V(null),sa=null,ii=null;function Ki(t,i,a){oe(cf,i._currentValue),i._currentValue=a}function si(t){t._currentValue=cf.current,te(cf)}function uf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function hf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var I=0;I<i.length;I++)if(T.context===i[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),uf(f.return,a,t),l||(v=null);break e}f=T.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),uf(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function io(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=d.type;An(d.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(d===Ue.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Wl):t=[Wl])}d=d.return}t!==null&&hf(i,t,a,l),i.flags|=262144}function Tu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){sa=t,ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return My(sa,t)}function wu(t,i){return sa===null&&aa(t),My(t,i)}function My(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ii===null){if(t===null)throw Error(s(308));ii=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ii=ii.next=i;return a}var fw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},mw=r.unstable_scheduleCallback,pw=r.unstable_NormalPriority,Ct={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new fw,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&mw(pw,function(){t.controller.abort()})}var Sl=null,ff=0,so=0,ao=null;function gw(t,i){if(Sl===null){var a=Sl=[];ff=0,so=gm(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ff++,i.then(ky,ky),i}function ky(){if(--ff===0&&Sl!==null){ao!==null&&(ao.status="fulfilled");var t=Sl;Sl=null,so=0,ao=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function yw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Vy=X.S;X.S=function(t,i){vv=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&gw(t,i),Vy!==null&&Vy(t,i)};var oa=V(null);function mf(){var t=oa.current;return t!==null?t:tt.pooledCache}function Au(t,i){i===null?oe(oa,oa.current):oe(oa,i.pool)}function Py(){var t=mf();return t===null?null:{parent:Ct._currentValue,pool:t}}var oo=Error(s(460)),pf=Error(s(474)),Su=Error(s(542)),Ru={then:function(){}};function Ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Uy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ir,ir),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,By(t),t;default:if(typeof i.status=="string")i.then(ir,ir);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,By(t),t}throw ca=i,oo}}function la(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,oo):a}}var ca=null;function zy(){if(ca===null)throw Error(s(459));var t=ca;return ca=null,t}function By(t){if(t===oo||t===Su)throw Error(s(483))}var lo=null,Rl=0;function Nu(t){var i=Rl;return Rl+=1,lo===null&&(lo=[]),Uy(lo,t,i)}function Nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Cu(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function qy(t){function i(U,k){if(t){var q=U.deletions;q===null?(U.deletions=[k],U.flags|=16):q.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function d(U,k){return U=ni(U,k),U.index=0,U.sibling=null,U}function f(U,k,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<k?(U.flags|=67108866,k):q):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,k,q,J){return k===null||k.tag!==6?(k=nf(q,U.mode,J),k.return=U,k):(k=d(k,q),k.return=U,k)}function I(U,k,q,J){var pe=q.type;return pe===B?Y(U,k,q.props.children,J,q.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&la(pe)===k.type)?(k=d(k,q.props),Nl(k,q),k.return=U,k):(k=Eu(q.type,q.key,q.props,null,U.mode,J),Nl(k,q),k.return=U,k)}function H(U,k,q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=rf(q,U.mode,J),k.return=U,k):(k=d(k,q.children||[]),k.return=U,k)}function Y(U,k,q,J,pe){return k===null||k.tag!==7?(k=ra(q,U.mode,J,pe),k.return=U,k):(k=d(k,q),k.return=U,k)}function ee(U,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=nf(""+k,U.mode,q),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j:return q=Eu(k.type,k.key,k.props,null,U.mode,q),Nl(q,k),q.return=U,q;case G:return k=rf(k,U.mode,q),k.return=U,k;case R:return k=la(k),ee(U,k,q)}if(Pt(k)||L(k))return k=ra(k,U.mode,q,null),k.return=U,k;if(typeof k.then=="function")return ee(U,Nu(k),q);if(k.$$typeof===re)return ee(U,wu(U,k),q);Cu(U,k)}return null}function F(U,k,q,J){var pe=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:T(U,k,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return q.key===pe?I(U,k,q,J):null;case G:return q.key===pe?H(U,k,q,J):null;case R:return q=la(q),F(U,k,q,J)}if(Pt(q)||L(q))return pe!==null?null:Y(U,k,q,J,null);if(typeof q.then=="function")return F(U,k,Nu(q),J);if(q.$$typeof===re)return F(U,k,wu(U,q),J);Cu(U,q)}return null}function K(U,k,q,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(q)||null,T(k,U,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return U=U.get(J.key===null?q:J.key)||null,I(k,U,J,pe);case G:return U=U.get(J.key===null?q:J.key)||null,H(k,U,J,pe);case R:return J=la(J),K(U,k,q,J,pe)}if(Pt(J)||L(J))return U=U.get(q)||null,Y(k,U,J,pe,null);if(typeof J.then=="function")return K(U,k,q,Nu(J),pe);if(J.$$typeof===re)return K(U,k,q,wu(k,J),pe);Cu(k,J)}return null}function de(U,k,q,J){for(var pe=null,qe=null,me=k,Ne=k=0,Oe=null;me!==null&&Ne<q.length;Ne++){me.index>Ne?(Oe=me,me=null):Oe=me.sibling;var He=F(U,me,q[Ne],J);if(He===null){me===null&&(me=Oe);break}t&&me&&He.alternate===null&&i(U,me),k=f(He,k,Ne),qe===null?pe=He:qe.sibling=He,qe=He,me=Oe}if(Ne===q.length)return a(U,me),Le&&ri(U,Ne),pe;if(me===null){for(;Ne<q.length;Ne++)me=ee(U,q[Ne],J),me!==null&&(k=f(me,k,Ne),qe===null?pe=me:qe.sibling=me,qe=me);return Le&&ri(U,Ne),pe}for(me=l(me);Ne<q.length;Ne++)Oe=K(me,U,Ne,q[Ne],J),Oe!==null&&(t&&Oe.alternate!==null&&me.delete(Oe.key===null?Ne:Oe.key),k=f(Oe,k,Ne),qe===null?pe=Oe:qe.sibling=Oe,qe=Oe);return t&&me.forEach(function(hs){return i(U,hs)}),Le&&ri(U,Ne),pe}function _e(U,k,q,J){if(q==null)throw Error(s(151));for(var pe=null,qe=null,me=k,Ne=k=0,Oe=null,He=q.next();me!==null&&!He.done;Ne++,He=q.next()){me.index>Ne?(Oe=me,me=null):Oe=me.sibling;var hs=F(U,me,He.value,J);if(hs===null){me===null&&(me=Oe);break}t&&me&&hs.alternate===null&&i(U,me),k=f(hs,k,Ne),qe===null?pe=hs:qe.sibling=hs,qe=hs,me=Oe}if(He.done)return a(U,me),Le&&ri(U,Ne),pe;if(me===null){for(;!He.done;Ne++,He=q.next())He=ee(U,He.value,J),He!==null&&(k=f(He,k,Ne),qe===null?pe=He:qe.sibling=He,qe=He);return Le&&ri(U,Ne),pe}for(me=l(me);!He.done;Ne++,He=q.next())He=K(me,U,Ne,He.value,J),He!==null&&(t&&He.alternate!==null&&me.delete(He.key===null?Ne:He.key),k=f(He,k,Ne),qe===null?pe=He:qe.sibling=He,qe=He);return t&&me.forEach(function(N2){return i(U,N2)}),Le&&ri(U,Ne),pe}function et(U,k,q,J){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case j:e:{for(var pe=q.key;k!==null;){if(k.key===pe){if(pe=q.type,pe===B){if(k.tag===7){a(U,k.sibling),J=d(k,q.props.children),J.return=U,U=J;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&la(pe)===k.type){a(U,k.sibling),J=d(k,q.props),Nl(J,q),J.return=U,U=J;break e}a(U,k);break}else i(U,k);k=k.sibling}q.type===B?(J=ra(q.props.children,U.mode,J,q.key),J.return=U,U=J):(J=Eu(q.type,q.key,q.props,null,U.mode,J),Nl(J,q),J.return=U,U=J)}return v(U);case G:e:{for(pe=q.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(U,k.sibling),J=d(k,q.children||[]),J.return=U,U=J;break e}else{a(U,k);break}else i(U,k);k=k.sibling}J=rf(q,U.mode,J),J.return=U,U=J}return v(U);case R:return q=la(q),et(U,k,q,J)}if(Pt(q))return de(U,k,q,J);if(L(q)){if(pe=L(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),_e(U,k,q,J)}if(typeof q.then=="function")return et(U,k,Nu(q),J);if(q.$$typeof===re)return et(U,k,wu(U,q),J);Cu(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(U,k.sibling),J=d(k,q),J.return=U,U=J):(a(U,k),J=nf(q,U.mode,J),J.return=U,U=J),v(U)):a(U,k)}return function(U,k,q,J){try{Rl=0;var pe=et(U,k,q,J);return lo=null,pe}catch(me){if(me===oo||me===Su)throw me;var qe=Sn(29,me,null,U.mode);return qe.lanes=J,qe.return=U,qe}}}var ua=qy(!0),Hy=qy(!1),Qi=!1;function gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=bu(t),Sy(t,null,a),i}return vu(t,l,i,a),bu(t)}function Cl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,nl(t,a)}}function _f(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var vf=!1;function Il(){if(vf){var t=ao;if(t!==null)throw t}}function Dl(t,i,a,l){vf=!1;var d=t.updateQueue;Qi=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var I=T,H=I.next;I.next=null,v===null?f=H:v.next=H,v=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=H:T.next=H,Y.lastBaseUpdate=I))}if(f!==null){var ee=d.baseState;v=0,Y=H=I=null,T=f;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(De&F)===F:(l&F)===F){F!==0&&F===so&&(vf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var de=t,_e=T;F=i;var et=a;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){ee=de.call(et,ee,F);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,F=typeof de=="function"?de.call(et,ee,F):de,F==null)break e;ee=x({},ee,F);break e;case 2:Qi=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=d.callbacks,K===null?d.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(H=Y=K,I=ee):Y=Y.next=K,v|=F;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;K=T,T=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);Y===null&&(I=ee),d.baseState=I,d.firstBaseUpdate=H,d.lastBaseUpdate=Y,f===null&&(d.shared.lanes=0),ts|=v,t.lanes=v,t.memoizedState=ee}}function Fy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Gy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fy(a[t],i)}var co=V(null),Iu=V(0);function $y(t,i){t=mi,oe(Iu,t),oe(co,i),mi=t|i.baseLanes}function bf(){oe(Iu,mi),oe(co,co.current)}function Ef(){mi=Iu.current,te(co),te(Iu)}var Rn=V(null),$n=null;function Wi(t){var i=t.alternate;oe(bt,bt.current&1),oe(Rn,t),$n===null&&(i===null||co.current!==null||i.memoizedState!==null)&&($n=t)}function xf(t){oe(bt,bt.current),oe(Rn,t),$n===null&&($n=t)}function Ky(t){t.tag===22?(oe(bt,bt.current),oe(Rn,t),$n===null&&($n=t)):Ji()}function Ji(){oe(bt,bt.current),oe(Rn,Rn.current)}function Nn(t){te(Rn),$n===t&&($n=null),te(bt)}var bt=V(0);function Du(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nm(a)||Cm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ai=0,Se=null,Je=null,It=null,Ou=!1,uo=!1,ha=!1,ju=0,Ol=0,ho=null,_w=0;function mt(){throw Error(s(321))}function Tf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function wf(t,i,a,l,d,f){return ai=f,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?I_:Uf,ha=!1,f=a(l,d),ha=!1,uo&&(f=Yy(i,a,l,d)),Qy(t),f}function Qy(t){X.H=kl;var i=Je!==null&&Je.next!==null;if(ai=0,It=Je=Se=null,Ou=!1,Ol=0,ho=null,i)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&Tu(t)&&(Dt=!0))}function Yy(t,i,a,l){Se=t;var d=0;do{if(uo&&(ho=null),Ol=0,uo=!1,25<=d)throw Error(s(301));if(d+=1,It=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=D_,f=i(a,l)}while(uo);return f}function vw(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?jl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Se.flags|=1024),i}function Af(){var t=ju!==0;return ju=0,t}function Sf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Rf(t){if(Ou){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ou=!1}ai=0,It=Je=Se=null,uo=!1,Ol=ju=0,ho=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Se.memoizedState=It=t:It=It.next=t,It}function Et(){if(Je===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=It===null?Se.memoizedState:It.next;if(i!==null)It=i,Je=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},It===null?Se.memoizedState=It=t:It=It.next=t}return It}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var i=Ol;return Ol+=1,ho===null&&(ho=[]),t=Uy(ho,t,i),i=Se,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?I_:Uf),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===re)return Xt(t)}throw Error(s(438,String(t)))}function Nf(t){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Mu(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function oi(t,i){return typeof i=="function"?i(t):i}function Vu(t){var i=Et();return Cf(i,Je,t)}function Cf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var T=v=null,I=null,H=i,Y=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(De&ee)===ee:(ai&ee)===ee){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===so&&(Y=!0);else if((ai&F)===F){H=H.next,F===so&&(Y=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=ee,v=f):I=I.next=ee,Se.lanes|=F,ts|=F;ee=H.action,ha&&a(f,ee),f=H.hasEagerState?H.eagerState:a(f,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,v=f):I=I.next=F,Se.lanes|=ee,ts|=ee;H=H.next}while(H!==null&&H!==i);if(I===null?v=f:I.next=T,!An(f,t.memoizedState)&&(Dt=!0,Y&&(a=ao,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=I,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function If(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);An(f,i.memoizedState)||(Dt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Xy(t,i,a){var l=Se,d=Et(),f=Le;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!An((Je||d).memoizedState,a);if(v&&(d.memoizedState=a,Dt=!0),d=d.queue,jf(Zy.bind(null,l,d,t),[t]),d.getSnapshot!==i||v||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},Jy.bind(null,l,d,a,i),null),tt===null)throw Error(s(349));f||(ai&127)!==0||Wy(l,i,a)}return a}function Wy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=Mu(),Se.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Jy(t,i,a,l){i.value=a,i.getSnapshot=l,e_(i)&&t_(t)}function Zy(t,i,a){return a(function(){e_(i)&&t_(t)})}function e_(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function t_(t){var i=na(t,2);i!==null&&vn(i,t,2)}function Df(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),ha){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},i}function n_(t,i,a,l){return t.baseState=a,Cf(t,Je,typeof l=="function"?l:oi)}function bw(t,i,a,l,d){if(Uu(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};X.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,r_(i,f)):(f.next=a.next,i.pending=a.next=f)}}function r_(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=X.T,v={};X.T=v;try{var T=a(d,l),I=X.S;I!==null&&I(v,T),i_(t,i,T)}catch(H){Of(t,i,H)}finally{f!==null&&v.types!==null&&(f.types=v.types),X.T=f}}else try{f=a(d,l),i_(t,i,f)}catch(H){Of(t,i,H)}}function i_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){s_(t,i,l)},function(l){return Of(t,i,l)}):s_(t,i,a)}function s_(t,i,a){i.status="fulfilled",i.value=a,a_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,r_(t,a)))}function Of(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,a_(i),i=i.next;while(i!==l)}t.action=null}function a_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function o_(t,i){return i}function l_(t,i){if(Le){var a=tt.formState;if(a!==null){e:{var l=Se;if(Le){if(it){t:{for(var d=it,f=Gn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Kn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){it=Kn(d.nextSibling),l=d.data==="F!";break e}}$i(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:i},a.queue=l,a=R_.bind(null,Se,l),l.dispatch=a,l=Df(!1),f=Lf.bind(null,Se,!1,l.queue),l=un(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=bw.bind(null,Se,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function c_(t){var i=Et();return u_(i,Je,t)}function u_(t,i,a){if(i=Cf(t,i,o_)[0],t=Vu(oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=jl(i)}catch(v){throw v===oo?Su:v}else l=i;i=Et();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(Se.flags|=2048,fo(9,{destroy:void 0},Ew.bind(null,d,a),null)),[l,f,t]}function Ew(t,i){t.action=i}function h_(t){var i=Et(),a=Je;if(a!==null)return u_(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function fo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Se.updateQueue,i===null&&(i=Mu(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function d_(){return Et().memoizedState}function Pu(t,i,a,l){var d=un();Se.flags|=t,d.memoizedState=fo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Lu(t,i,a,l){var d=Et();l=l===void 0?null:l;var f=d.memoizedState.inst;Je!==null&&l!==null&&Tf(l,Je.memoizedState.deps)?d.memoizedState=fo(i,f,a,l):(Se.flags|=t,d.memoizedState=fo(1|i,f,a,l))}function f_(t,i){Pu(8390656,8,t,i)}function jf(t,i){Lu(2048,8,t,i)}function xw(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=Mu(),Se.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function m_(t){var i=Et().memoizedState;return xw({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function p_(t,i){return Lu(4,2,t,i)}function g_(t,i){return Lu(4,4,t,i)}function y_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function __(t,i,a){a=a!=null?a.concat([t]):null,Lu(4,4,y_.bind(null,i,t),a)}function Mf(){}function v_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Tf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function b_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Tf(i,l[1]))return l[0];if(l=t(),ha){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l}function kf(t,i,a){return a===void 0||(ai&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Ev(),Se.lanes|=t,ts|=t,a)}function E_(t,i,a,l){return An(a,i)?a:co.current!==null?(t=kf(t,a,l),An(t,i)||(Dt=!0),t):(ai&42)===0||(ai&1073741824)!==0&&(De&261930)===0?(Dt=!0,t.memoizedState=a):(t=Ev(),Se.lanes|=t,ts|=t,i)}function x_(t,i,a,l,d){var f=ae.p;ae.p=f!==0&&8>f?f:8;var v=X.T,T={};X.T=T,Lf(t,!1,i,a);try{var I=d(),H=X.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=yw(I,l);Ml(t,i,Y,Dn(t))}else Ml(t,i,l,Dn(t))}catch(ee){Ml(t,i,{then:function(){},status:"rejected",reason:ee},Dn())}finally{ae.p=f,v!==null&&T.types!==null&&(v.types=T.types),X.T=v}}function Tw(){}function Vf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=T_(t).queue;x_(t,d,i,ye,a===null?Tw:function(){return w_(t),a(l)})}function T_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function w_(t){var i=T_(t);i.next===null&&(i=t.alternate.memoizedState),Ml(t,i.next.queue,{},Dn())}function Pf(){return Xt(Wl)}function A_(){return Et().memoizedState}function S_(){return Et().memoizedState}function ww(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=Yi(a);var l=Xi(i,t,a);l!==null&&(vn(l,i,a),Cl(l,i,a)),i={cache:df()},t.payload=i;return}i=i.return}}function Aw(t,i,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Uu(t)?N_(i,a):(a=ef(t,i,a,l),a!==null&&(vn(a,t,l),C_(a,i,l)))}function R_(t,i,a){var l=Dn();Ml(t,i,a,l)}function Ml(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uu(t))N_(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,T=f(v,a);if(d.hasEagerState=!0,d.eagerState=T,An(T,v))return vu(t,i,d,0),tt===null&&_u(),!1}catch{}if(a=ef(t,i,d,l),a!==null)return vn(a,t,l),C_(a,i,l),!0}return!1}function Lf(t,i,a,l){if(l={lane:2,revertLane:gm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uu(t)){if(i)throw Error(s(479))}else i=ef(t,a,l,2),i!==null&&vn(i,t,2)}function Uu(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function N_(t,i){uo=Ou=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function C_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,nl(t,a)}}var kl={readContext:Xt,use:ku,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};kl.useEffectEvent=mt;var I_={readContext:Xt,use:ku,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:f_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Pu(4194308,4,y_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Pu(4194308,4,t,i)},useInsertionEffect:function(t,i){Pu(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(ha){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var d=a(i);if(ha){Vn(!0);try{a(i)}finally{Vn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Aw.bind(null,Se,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=Df(t);var i=t.queue,a=R_.bind(null,Se,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(t,i){var a=un();return kf(a,t,i)},useTransition:function(){var t=Df(!1);return t=x_.bind(null,Se,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Se,d=un();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(De&127)!==0||Wy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,f_(Zy.bind(null,l,f,t),[t]),l.flags|=2048,fo(9,{destroy:void 0},Jy.bind(null,l,f,a,i),null),a},useId:function(){var t=un(),i=tt.identifierPrefix;if(Le){var a=Pr,l=Vr;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ju++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=_w++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Pf,useFormState:l_,useActionState:l_,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Lf.bind(null,Se,!0,a),a.dispatch=i,[t,i]},useMemoCache:Nf,useCacheRefresh:function(){return un().memoizedState=ww.bind(null,Se)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Uf={readContext:Xt,use:ku,useCallback:v_,useContext:Xt,useEffect:jf,useImperativeHandle:__,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:b_,useReducer:Vu,useRef:d_,useState:function(){return Vu(oi)},useDebugValue:Mf,useDeferredValue:function(t,i){var a=Et();return E_(a,Je.memoizedState,t,i)},useTransition:function(){var t=Vu(oi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:jl(t),i]},useSyncExternalStore:Xy,useId:A_,useHostTransitionStatus:Pf,useFormState:c_,useActionState:c_,useOptimistic:function(t,i){var a=Et();return n_(a,Je,t,i)},useMemoCache:Nf,useCacheRefresh:S_};Uf.useEffectEvent=m_;var D_={readContext:Xt,use:ku,useCallback:v_,useContext:Xt,useEffect:jf,useImperativeHandle:__,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:b_,useReducer:If,useRef:d_,useState:function(){return If(oi)},useDebugValue:Mf,useDeferredValue:function(t,i){var a=Et();return Je===null?kf(a,t,i):E_(a,Je.memoizedState,t,i)},useTransition:function(){var t=If(oi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:jl(t),i]},useSyncExternalStore:Xy,useId:A_,useHostTransitionStatus:Pf,useFormState:h_,useActionState:h_,useOptimistic:function(t,i){var a=Et();return Je!==null?n_(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:S_};D_.useEffectEvent=m_;function zf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Yi(l);d.payload=i,a!=null&&(d.callback=a),i=Xi(t,d,l),i!==null&&(vn(i,t,l),Cl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),d=Yi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Xi(t,d,l),i!==null&&(vn(i,t,l),Cl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=Yi(a);l.tag=2,i!=null&&(l.callback=i),i=Xi(t,l,a),i!==null&&(vn(i,t,a),Cl(i,t,a))}};function O_(t,i,a,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):i.prototype&&i.prototype.isPureReactComponent?!El(a,l)||!El(d,f):!0}function j_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Bf.enqueueReplaceState(i,i.state,null)}function da(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function M_(t){yu(t)}function k_(t){console.error(t)}function V_(t){yu(t)}function zu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function P_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function qf(t,i,a){return a=Yi(a),a.tag=3,a.payload={element:null},a.callback=function(){zu(t,i)},a}function L_(t){return t=Yi(t),t.tag=3,t}function U_(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){P_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){P_(i,a,l),typeof d!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Sw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&io(i,a,d,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?Ju():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Ru?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),fm(t,l,d)),!1;case 22:return a.flags|=65536,l===Ru?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),fm(t,l,d)),!1}throw Error(s(435,a.tag))}return fm(t,l,d),Ju(),!1}if(Le)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==of&&(t=Error(s(422),{cause:l}),wl(qn(t,a)))):(l!==of&&(i=Error(s(423),{cause:l}),wl(qn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=qn(l,a),d=qf(t.stateNode,l,d),_f(t,d),pt!==4&&(pt=2)),!1;var f=Error(s(520),{cause:l});if(f=qn(f,a),Hl===null?Hl=[f]:Hl.push(f),pt!==4&&(pt=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=qf(a.stateNode,l,t),_f(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ns===null||!ns.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=L_(d),U_(d,t,a,l),_f(a,d),!1}a=a.return}while(a!==null);return!1}var Hf=Error(s(461)),Dt=!1;function Wt(t,i,a,l){i.child=t===null?Hy(i,null,a,l):ua(i,t.child,a,l)}function z_(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return aa(i),l=wf(t,i,a,v,f,d),T=Af(),t!==null&&!Dt?(Sf(t,i,d),li(t,i,d)):(Le&&T&&sf(i),i.flags|=1,Wt(t,i,l,d),i.child)}function B_(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!tf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,q_(t,i,f,l,d)):(t=Eu(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Wf(t,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(v,l)&&t.ref===i.ref)return li(t,i,d)}return i.flags|=1,t=ni(f,l),t.ref=i.ref,t.return=i,i.child=t}function q_(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(El(f,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=f,Wf(t,d))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,li(t,i,d)}return Ff(t,i,a,l,d)}function H_(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return F_(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Au(i,f!==null?f.cachePool:null),f!==null?$y(i,f):bf(),Ky(i);else return l=i.lanes=536870912,F_(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Au(i,f.cachePool),$y(i,f),Ji(),i.memoizedState=null):(t!==null&&Au(i,null),bf(),Ji());return Wt(t,i,d,a),i.child}function Vl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function F_(t,i,a,l,d){var f=mf();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Au(i,null),bf(),Ky(i),t!==null&&io(t,i,l,!0),i.childLanes=d,null}function Bu(t,i){return i=Hu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function G_(t,i,a){return ua(i,t.child,null,a),t=Bu(i,i.pendingProps),t.flags|=2,Nn(i),i.memoizedState=null,t}function Rw(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Bu(i,l),i.lanes=536870912,Vl(null,t);if(xf(i),(t=it)?(t=r0(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Fi!==null?{id:Vr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},a=Ny(t),a.return=i,i.child=a,Yt=i,it=null)):t=null,t===null)throw $i(i);return i.lanes=536870912,null}return Bu(i,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(xf(i),d)if(i.flags&256)i.flags&=-257,i=G_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Dt||io(t,i,a,!1),d=(a&t.childLanes)!==0,Dt||d){if(l=tt,l!==null&&(v=rl(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,na(t,v),vn(l,t,v),Hf;Ju(),i=G_(t,i,a)}else t=f.treeContext,it=Kn(v.nextSibling),Yt=i,Le=!0,Gi=null,Gn=!1,t!==null&&Dy(i,t),i=Bu(i,l),i.flags|=4096;return i}return t=ni(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function qu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ff(t,i,a,l,d){return aa(i),a=wf(t,i,a,l,void 0,d),l=Af(),t!==null&&!Dt?(Sf(t,i,d),li(t,i,d)):(Le&&l&&sf(i),i.flags|=1,Wt(t,i,a,d),i.child)}function $_(t,i,a,l,d,f){return aa(i),i.updateQueue=null,a=Yy(i,l,a,d),Qy(t),l=Af(),t!==null&&!Dt?(Sf(t,i,f),li(t,i,f)):(Le&&l&&sf(i),i.flags|=1,Wt(t,i,a,f),i.child)}function K_(t,i,a,l,d){if(aa(i),i.stateNode===null){var f=eo,v=a.contextType;typeof v=="object"&&v!==null&&(f=Xt(v)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},gf(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Xt(v):eo,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(zf(i,a,v,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Bf.enqueueReplaceState(f,f.state,null),Dl(i,l,f,d),Il(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,I=da(a,T);f.props=I;var H=f.context,Y=a.contextType;v=eo,typeof Y=="object"&&Y!==null&&(v=Xt(Y));var ee=a.getDerivedStateFromProps;Y=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==v)&&j_(i,f,l,v),Qi=!1;var F=i.memoizedState;f.state=F,Dl(i,l,f,d),Il(),H=i.memoizedState,T||F!==H||Qi?(typeof ee=="function"&&(zf(i,a,ee,l),H=i.memoizedState),(I=Qi||O_(i,a,I,l,F,H,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,yf(t,i),v=i.memoizedProps,Y=da(a,v),f.props=Y,ee=i.pendingProps,F=f.context,H=a.contextType,I=eo,typeof H=="object"&&H!==null&&(I=Xt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==ee||F!==I)&&j_(i,f,l,I),Qi=!1,F=i.memoizedState,f.state=F,Dl(i,l,f,d),Il();var K=i.memoizedState;v!==ee||F!==K||Qi||t!==null&&t.dependencies!==null&&Tu(t.dependencies)?(typeof T=="function"&&(zf(i,a,T,l),K=i.memoizedState),(Y=Qi||O_(i,a,Y,l,F,K,I)||t!==null&&t.dependencies!==null&&Tu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),f.props=l,f.state=K,f.context=I,l=Y):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,qu(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ua(i,t.child,null,d),i.child=ua(i,null,a,d)):Wt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=li(t,i,d),t}function Q_(t,i,a,l){return ia(),i.flags|=256,Wt(t,i,a,l),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:Py()}}function Kf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function Y_(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(d?Wi(i):Ji(),(t=it)?(t=r0(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Fi!==null?{id:Vr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},a=Ny(t),a.return=i,i.child=a,Yt=i,it=null)):t=null,t===null)throw $i(i);return Cm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(Ji(),d=i.mode,T=Hu({mode:"hidden",children:T},d),l=ra(l,d,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=$f(a),l.childLanes=Kf(t,v,a),i.memoizedState=Gf,Vl(null,l)):(Wi(i),Qf(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)i.flags&256?(Wi(i),i.flags&=-257,i=Yf(t,i,a)):i.memoizedState!==null?(Ji(),i.child=t.child,i.flags|=128,i=null):(Ji(),T=l.fallback,d=i.mode,l=Hu({mode:"visible",children:l.children},d),T=ra(T,d,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ua(i,t.child,null,a),l=i.child,l.memoizedState=$f(a),l.childLanes=Kf(t,v,a),i.memoizedState=Gf,i=Vl(null,l));else if(Wi(i),Cm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,wl({value:l,source:null,stack:null}),i=Yf(t,i,a)}else if(Dt||io(t,i,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=tt,v!==null&&(l=rl(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,na(t,l),vn(v,t,l),Hf;Nm(T)||Ju(),i=Yf(t,i,a)}else Nm(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,it=Kn(T.nextSibling),Yt=i,Le=!0,Gi=null,Gn=!1,t!==null&&Dy(i,t),i=Qf(i,l.children),i.flags|=4096);return i}return d?(Ji(),T=l.fallback,d=i.mode,I=t.child,H=I.sibling,l=ni(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?T=ni(H,T):(T=ra(T,d,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Vl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=$f(a):(d=T.cachePool,d!==null?(I=Ct._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=Py(),T={baseLanes:T.baseLanes|a,cachePool:d}),l.memoizedState=T,l.childLanes=Kf(t,v,a),i.memoizedState=Gf,Vl(t.child,l)):(Wi(i),a=t.child,t=a.sibling,a=ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Qf(t,i){return i=Hu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Hu(t,i){return t=Sn(22,t,null,i),t.lanes=0,t}function Yf(t,i,a){return ua(i,t.child,null,a),t=Qf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function X_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),uf(t.return,i,a)}function Xf(t,i,a,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function W_(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=bt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,oe(bt,v),Wt(t,i,l,a),l=Le?Tl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X_(t,a,i);else if(t.tag===19)X_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Du(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Xf(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Du(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Xf(i,!0,a,null,f,l);break;case"together":Xf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function li(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ts|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(io(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ni(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ni(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Wf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Tu(t)))}function Nw(t,i,a){switch(i.tag){case 3:Lt(i,i.stateNode.containerInfo),Ki(i,Ct,t.memoizedState.cache),ia();break;case 27:case 5:Ls(i);break;case 4:Lt(i,i.stateNode.containerInfo);break;case 10:Ki(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Y_(t,i,a):(Wi(i),t=li(t,i,a),t!==null?t.sibling:null);Wi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(io(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return W_(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(bt,bt.current),l)break;return null;case 22:return i.lanes=0,H_(t,i,a,i.pendingProps);case 24:Ki(i,Ct,t.memoizedState.cache)}return li(t,i,a)}function J_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Wf(t,a)&&(i.flags&128)===0)return Dt=!1,Nw(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,Le&&(i.flags&1048576)!==0&&Iy(i,Tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=la(i.elementType),i.type=t,typeof t=="function")tf(t)?(l=da(t,l),i.tag=1,i=K_(null,i,t,l,a)):(i.tag=0,i=Ff(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===le){i.tag=11,i=z_(null,i,t,l,a);break e}else if(d===N){i.tag=14,i=B_(null,i,t,l,a);break e}}throw i=ot(t)||t,Error(s(306,i,""))}}return i;case 0:return Ff(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=da(l,i.pendingProps),K_(t,i,l,d,a);case 3:e:{if(Lt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,yf(t,i),Dl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ki(i,Ct,l),l!==f.cache&&hf(i,[Ct],a,!0),Il(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Q_(t,i,l,a);break e}else if(l!==d){d=qn(Error(s(424)),i),wl(d),i=Q_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=Kn(t.firstChild),Yt=i,Le=!0,Gi=null,Gn=!0,a=Hy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ia(),l===d){i=li(t,i,a);break e}Wt(t,i,l,a)}i=i.child}return i;case 26:return qu(t,i),t===null?(a=c0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=sh(Re.current).createElement(a),l[St]=i,l[Ht]=t,Jt(l,a,t),Rt(l),i.stateNode=l):i.memoizedState=c0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ls(i),t===null&&Le&&(l=i.stateNode=a0(i.type,i.pendingProps,Re.current),Yt=i,Gn=!0,d=it,as(i.type)?(Im=d,it=Kn(l.firstChild)):it=d),Wt(t,i,i.pendingProps.children,a),qu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((d=l=it)&&(l=i2(l,i.type,i.pendingProps,Gn),l!==null?(i.stateNode=l,Yt=i,it=Kn(l.firstChild),Gn=!1,d=!0):d=!1),d||$i(i)),Ls(i),d=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Am(d,f)?l=null:v!==null&&Am(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=wf(t,i,vw,null,null,a),Wl._currentValue=d),qu(t,i),Wt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=it)&&(a=s2(a,i.pendingProps,Gn),a!==null?(i.stateNode=a,Yt=i,it=null,t=!0):t=!1),t||$i(i)),null;case 13:return Y_(t,i,a);case 4:return Lt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ua(i,null,l,a):Wt(t,i,l,a),i.child;case 11:return z_(t,i,i.type,i.pendingProps,a);case 7:return Wt(t,i,i.pendingProps,a),i.child;case 8:return Wt(t,i,i.pendingProps.children,a),i.child;case 12:return Wt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ki(i,i.type,l.value),Wt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,aa(i),d=Xt(d),l=l(d),i.flags|=1,Wt(t,i,l,a),i.child;case 14:return B_(t,i,i.type,i.pendingProps,a);case 15:return q_(t,i,i.type,i.pendingProps,a);case 19:return W_(t,i,a);case 31:return Rw(t,i,a);case 22:return H_(t,i,a,i.pendingProps);case 24:return aa(i),l=Xt(Ct),t===null?(d=mf(),d===null&&(d=tt,f=df(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},gf(i),Ki(i,Ct,d)):((t.lanes&a)!==0&&(yf(t,i),Dl(i,null,null,a),Il()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ki(i,Ct,l)):(l=f.cache,Ki(i,Ct,l),l!==d.cache&&hf(i,[Ct],a,!0))),Wt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ci(t){t.flags|=4}function Jf(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Av())t.flags|=8192;else throw ca=Ru,pf}else t.flags&=-16777217}function Z_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m0(i))if(Av())t.flags|=8192;else throw ca=Ru,pf}function Fu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Xc():536870912,t.lanes|=i,yo|=i)}function Pl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Cw(t,i,a){var l=i.pendingProps;switch(af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),si(Ct),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ro(i)?ci(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),st(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(ci(i),f!==null?(st(i),Z_(i,f)):(st(i),Jf(i,d,null,l,a))):f?f!==t.memoizedState?(ci(i),st(i),Z_(i,f)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ci(i),st(i),Jf(i,d,t,l,a)),null;case 27:if(ka(i),a=Re.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ci(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=he.current,ro(i)?Oy(i):(t=a0(d,l,a),i.stateNode=t,ci(i))}return st(i),null;case 5:if(ka(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ci(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(f=he.current,ro(i))Oy(i);else{var v=sh(Re.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[St]=i,f[Ht]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch(Jt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ci(i)}}return st(i),Jf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ci(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,ro(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=Yt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yv(t.nodeValue,a)),t||$i(i,!0)}else t=sh(t).createTextNode(l),t[St]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ro(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=ro(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[St]=i}else ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),d=!1}else d=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Fu(i,i.updateQueue),st(i),null);case 4:return lt(),t===null&&bm(i.stateNode.containerInfo),st(i),null;case 10:return si(i.type),st(i),null;case 19:if(te(bt),l=i.memoizedState,l===null)return st(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Pl(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Du(t),f!==null){for(i.flags|=128,Pl(l,!1),t=f.updateQueue,i.updateQueue=t,Fu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ry(a,t),a=a.sibling;return oe(bt,bt.current&1|2),Le&&ri(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&ln()>Yu&&(i.flags|=128,d=!0,Pl(l,!1),i.lanes=4194304)}else{if(!d)if(t=Du(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,Fu(i,t),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return st(i),null}else 2*ln()-l.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,d=!0,Pl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ln(),t.sibling=null,a=bt.current,oe(bt,d?a&1|2:a&1),Le&&ri(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return Nn(i),Ef(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Fu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(oa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),si(Ct),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Iw(t,i){switch(af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return si(Ct),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ka(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(s(340));ia()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ia()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(bt),null;case 4:return lt(),null;case 10:return si(i.type),null;case 22:case 23:return Nn(i),Ef(),t!==null&&te(oa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return si(Ct),null;case 25:return null;default:return null}}function ev(t,i){switch(af(i),i.tag){case 3:si(Ct),lt();break;case 26:case 27:case 5:ka(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:te(bt);break;case 10:si(i.type);break;case 22:case 23:Nn(i),Ef(),t!==null&&te(oa);break;case 24:si(Ct)}}function Ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(T){Xe(i,i.return,T)}}function Zi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,d=i;var I=a,H=T;try{H()}catch(Y){Xe(d,I,Y)}}}l=l.next}while(l!==f)}}catch(Y){Xe(i,i.return,Y)}}function tv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Gy(i,a)}catch(l){Xe(t,t.return,l)}}}function nv(t,i,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function Ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Xe(t,i,d)}}function Lr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Xe(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Xe(t,i,d)}else a.current=null}function rv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Xe(t,t.return,d)}}function Zf(t,i,a){try{var l=t.stateNode;Jw(l,t.type,a,i),l[Ht]=i}catch(d){Xe(t,t.return,d)}}function iv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&as(t.type)||t.tag===4}function em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&as(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ir));else if(l!==4&&(l===27&&as(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(tm(t,i,a),t=t.sibling;t!==null;)tm(t,i,a),t=t.sibling}function Gu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&as(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Gu(t,i,a),t=t.sibling;t!==null;)Gu(t,i,a),t=t.sibling}function sv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Jt(i,l,a),i[St]=t,i[Ht]=a}catch(f){Xe(t,t.return,f)}}var ui=!1,Ot=!1,nm=!1,av=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Dw(t,i){if(t=t.containerInfo,Tm=dh,t=_y(t),Qd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,H=0,Y=0,ee=t,F=null;t:for(;;){for(var K;ee!==a||d!==0&&ee.nodeType!==3||(T=v+d),ee!==f||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(K=ee.firstChild)!==null;)F=ee,ee=K;for(;;){if(ee===t)break t;if(F===a&&++H===d&&(T=v),F===f&&++Y===l&&(I=v),(K=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=K}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(wm={focusedElem:t,selectionRange:a},dh=!1,Gt=i;Gt!==null;)if(i=Gt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Gt=t;else for(;Gt!==null;){switch(i=Gt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var de=da(a.type,d);t=l.getSnapshotBeforeUpdate(de,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Rm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Gt=t;break}Gt=i.return}}function ov(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:di(t,a),l&4&&Ll(5,a);break;case 1:if(di(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var d=da(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}l&64&&tv(a),l&512&&Ul(a,a.return);break;case 3:if(di(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Gy(t,i)}catch(v){Xe(a,a.return,v)}}break;case 27:i===null&&l&4&&sv(a);case 26:case 5:di(t,a),i===null&&l&4&&rv(a),l&512&&Ul(a,a.return);break;case 12:di(t,a);break;case 31:di(t,a),l&4&&uv(t,a);break;case 13:di(t,a),l&4&&hv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zw.bind(null,a),a2(t,a))));break;case 22:if(l=a.memoizedState!==null||ui,!l){i=i!==null&&i.memoizedState!==null||Ot,d=ui;var f=Ot;ui=l,(Ot=i)&&!f?fi(t,a,(a.subtreeFlags&8772)!==0):di(t,a),ui=d,Ot=f}break;case 30:break;default:di(t,a)}}function lv(t){var i=t.alternate;i!==null&&(t.alternate=null,lv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&za(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,pn=!1;function hi(t,i,a){for(a=a.child;a!==null;)cv(t,i,a),a=a.sibling}function cv(t,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(er,a)}catch{}switch(a.tag){case 26:Ot||Lr(a,i),hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Lr(a,i);var l=ut,d=pn;as(a.type)&&(ut=a.stateNode,pn=!1),hi(t,i,a),Ql(a.stateNode),ut=l,pn=d;break;case 5:Ot||Lr(a,i);case 6:if(l=ut,d=pn,ut=null,hi(t,i,a),ut=l,pn=d,ut!==null)if(pn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){Xe(a,i,f)}else try{ut.removeChild(a.stateNode)}catch(f){Xe(a,i,f)}break;case 18:ut!==null&&(pn?(t=ut,t0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ao(t)):t0(ut,a.stateNode));break;case 4:l=ut,d=pn,ut=a.stateNode.containerInfo,pn=!0,hi(t,i,a),ut=l,pn=d;break;case 0:case 11:case 14:case 15:Zi(2,a,i),Ot||Zi(4,a,i),hi(t,i,a);break;case 1:Ot||(Lr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&nv(a,i,l)),hi(t,i,a);break;case 21:hi(t,i,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,hi(t,i,a),Ot=l;break;default:hi(t,i,a)}}function uv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ao(t)}catch(a){Xe(i,i.return,a)}}}function hv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ao(t)}catch(a){Xe(i,i.return,a)}}function Ow(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new av),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new av),i;default:throw Error(s(435,t.tag))}}function $u(t,i){var a=Ow(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=Bw.bind(null,t,l);l.then(d,d)}})}function gn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(as(T.type)){ut=T.stateNode,pn=!1;break e}break;case 5:ut=T.stateNode,pn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(ut===null)throw Error(s(160));cv(f,v,d),ut=null,pn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dv(i,t),i=i.sibling}var ur=null;function dv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(i,t),yn(t),l&4&&(Zi(3,t,t.return),Ll(3,t),Zi(5,t,t.return));break;case 1:gn(i,t),yn(t),l&512&&(Ot||a===null||Lr(a,a.return)),l&64&&ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ur;if(gn(i,t),yn(t),l&512&&(Ot||a===null||Lr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[wr]||f[St]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Jt(f,l,a),f[St]=t,Rt(f),l=f;break e;case"link":var v=d0("link","href",d).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}f=d.createElement(l),Jt(f,l,a),d.head.appendChild(f);break;case"meta":if(v=d0("meta","content",d).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}f=d.createElement(l),Jt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[St]=t,Rt(f),l=f}t.stateNode=l}else f0(d,t.type,t.stateNode);else t.stateNode=h0(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?f0(d,t.type,t.stateNode):h0(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(i,t),yn(t),l&512&&(Ot||a===null||Lr(a,a.return)),a!==null&&l&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,t),yn(t),l&512&&(Ot||a===null||Lr(a,a.return)),t.flags&32){d=t.stateNode;try{mn(d,"")}catch(de){Xe(t,t.return,de)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Zf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(nm=!0);break;case 6:if(gn(i,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Xe(t,t.return,de)}}break;case 3:if(lh=null,d=ur,ur=ah(i.containerInfo),gn(i,t),ur=d,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ao(i.containerInfo)}catch(de){Xe(t,t.return,de)}nm&&(nm=!1,fv(t));break;case 4:l=ur,ur=ah(t.stateNode.containerInfo),gn(i,t),yn(t),ur=l;break;case 12:gn(i,t),yn(t);break;case 31:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 13:gn(i,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qu=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=ui,Y=Ot;if(ui=H||d,Ot=Y||I,gn(i,t),Ot=Y,ui=H,yn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||I||ui||Ot||fa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(f=I.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(de){Xe(I,I.return,de)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(de){Xe(I,I.return,de)}}}else if(i.tag===18){if(a===null){I=i;try{var K=I.stateNode;d?n0(K,!0):n0(I.stateNode,!1)}catch(de){Xe(I,I.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$u(t,a))));break;case 19:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 30:break;case 21:break;default:gn(i,t),yn(t)}}function yn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(iv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=em(t);Gu(t,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(mn(v,""),a.flags&=-33);var T=em(t);Gu(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,H=em(t);tm(t,H,I);break;default:throw Error(s(161))}}catch(Y){Xe(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function fv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;fv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function di(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ov(t,i.alternate,i),i=i.sibling}function fa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Zi(4,i,i.return),fa(i);break;case 1:Lr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&nv(i,i.return,a),fa(i);break;case 27:Ql(i.stateNode);case 26:case 5:Lr(i,i.return),fa(i);break;case 22:i.memoizedState===null&&fa(i);break;case 30:fa(i);break;default:fa(i)}t=t.sibling}}function fi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:fi(d,f,a),Ll(4,f);break;case 1:if(fi(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Xe(l,l.return,H)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Fy(I[d],T)}catch(H){Xe(l,l.return,H)}}a&&v&64&&tv(f),Ul(f,f.return);break;case 27:sv(f);case 26:case 5:fi(d,f,a),a&&l===null&&v&4&&rv(f),Ul(f,f.return);break;case 12:fi(d,f,a);break;case 31:fi(d,f,a),a&&v&4&&uv(d,f);break;case 13:fi(d,f,a),a&&v&4&&hv(d,f);break;case 22:f.memoizedState===null&&fi(d,f,a),Ul(f,f.return);break;case 30:break;default:fi(d,f,a)}i=i.sibling}}function rm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Al(a))}function im(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Al(t))}function hr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mv(t,i,a,l),i=i.sibling}function mv(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:hr(t,i,a,l),d&2048&&Ll(9,i);break;case 1:hr(t,i,a,l);break;case 3:hr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Al(t)));break;case 12:if(d&2048){hr(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(i,i.return,I)}}else hr(t,i,a,l);break;case 31:hr(t,i,a,l);break;case 13:hr(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?hr(t,i,a,l):zl(t,i):f._visibility&2?hr(t,i,a,l):(f._visibility|=2,mo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&rm(v,i);break;case 24:hr(t,i,a,l),d&2048&&im(i.alternate,i);break;default:hr(t,i,a,l)}}function mo(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,v=i,T=a,I=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:mo(f,v,T,I,d),Ll(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?mo(f,v,T,I,d):zl(f,v):(Y._visibility|=2,mo(f,v,T,I,d)),d&&H&2048&&rm(v.alternate,v);break;case 24:mo(f,v,T,I,d),d&&H&2048&&im(v.alternate,v);break;default:mo(f,v,T,I,d)}i=i.sibling}}function zl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:zl(a,l),d&2048&&rm(l.alternate,l);break;case 24:zl(a,l),d&2048&&im(l.alternate,l);break;default:zl(a,l)}i=i.sibling}}var Bl=8192;function po(t,i,a){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)pv(t,i,a),t=t.sibling}function pv(t,i,a){switch(t.tag){case 26:po(t,i,a),t.flags&Bl&&t.memoizedState!==null&&_2(a,ur,t.memoizedState,t.memoizedProps);break;case 5:po(t,i,a);break;case 3:case 4:var l=ur;ur=ah(t.stateNode.containerInfo),po(t,i,a),ur=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Bl,Bl=16777216,po(t,i,a),Bl=l):po(t,i,a));break;default:po(t,i,a)}}function gv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ql(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,_v(l,t)}gv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yv(t),t=t.sibling}function yv(t){switch(t.tag){case 0:case 11:case 15:ql(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:ql(t);break;case 12:ql(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ku(t)):ql(t);break;default:ql(t)}}function Ku(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,_v(l,t)}gv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Zi(8,i,i.return),Ku(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ku(i));break;default:Ku(i)}t=t.sibling}}function _v(t,i){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:Zi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=t;Gt!==null;){l=Gt;var d=l.sibling,f=l.return;if(lv(l),l===a){Gt=null;break e}if(d!==null){d.return=f,Gt=d;break e}Gt=f}}}var jw={getCacheForType:function(t){var i=Xt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Xt(Ct).controller.signal}},Mw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Ce=null,De=0,Ye=0,Cn=null,es=!1,go=!1,sm=!1,mi=0,pt=0,ts=0,ma=0,am=0,In=0,yo=0,Hl=null,_n=null,om=!1,Qu=0,vv=0,Yu=1/0,Xu=null,ns=null,zt=0,rs=null,_o=null,pi=0,lm=0,cm=null,bv=null,Fl=0,um=null;function Dn(){return(Ge&2)!==0&&De!==0?De&-De:X.T!==null?gm():Wc()}function Ev(){if(In===0)if((De&536870912)===0||Le){var t=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),In=t}else In=536870912;return t=Rn.current,t!==null&&(t.flags|=32),In}function vn(t,i,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(vo(t,0),is(t,De,In,!1)),qs(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(ma|=a),pt===4&&is(t,De,In,!1)),Ur(t))}function xv(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||tr(t,i),d=l?Pw(t,i):dm(t,i,!0),f=l;do{if(d===0){go&&!l&&is(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!kw(a)){d=dm(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;d=Hl;var I=T.current.memoizedState.isDehydrated;if(I&&(vo(T,v).flags|=256),v=dm(T,v,!1),v!==2){if(sm&&!I){T.errorRecoveryDisabledLanes|=f,ma|=f,d=4;break e}f=_n,_n=d,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){vo(t,0),is(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:is(l,i,In,!es);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Qu+300-ln(),10<d)){if(is(l,i,In,!es),Er(l,0,!0)!==0)break e;pi=i,l.timeoutHandle=Zv(Tv.bind(null,l,a,_n,Xu,om,i,In,ma,yo,es,f,"Throttled",-0,0),d);break e}Tv(l,a,_n,Xu,om,i,In,ma,yo,es,f,null,-0,0)}}break}while(!0);Ur(t)}function Tv(t,i,a,l,d,f,v,T,I,H,Y,ee,F,K){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ir},pv(i,f,ee);var de=(f&62914560)===f?Qu-ln():(f&4194048)===f?vv-ln():0;if(de=v2(ee,de),de!==null){pi=f,t.cancelPendingCommit=de(Dv.bind(null,t,i,f,a,l,d,v,T,I,Y,ee,null,F,K)),is(t,f,v,!H);return}}Dv(t,i,f,a,l,d,v,T,I)}function kw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!An(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function is(t,i,a,l){i&=~am,i&=~ma,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-_t(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&Hs(t,a,i)}function Wu(){return(Ge&6)===0?(Gl(0),!1):!0}function hm(){if(Ce!==null){if(Ye===0)var t=Ce.return;else t=Ce,ii=sa=null,Rf(t),lo=null,Rl=0,t=Ce;for(;t!==null;)ev(t.alternate,t),t=t.return;Ce=null}}function vo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,t2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),pi=0,hm(),tt=t,Ce=a=ni(t.current,null),De=i,Ye=0,Cn=null,es=!1,go=tr(t,i),sm=!1,yo=In=am=ma=ts=pt=0,_n=Hl=null,om=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-_t(l),f=1<<d;i|=t[d],l&=~f}return mi=i,_u(),a}function wv(t,i){Se=null,X.H=kl,i===oo||i===Su?(i=zy(),Ye=3):i===pf?(i=zy(),Ye=4):Ye=i===Hf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,Ce===null&&(pt=1,zu(t,qn(i,t.current)))}function Av(){var t=Rn.current;return t===null?!0:(De&4194048)===De?$n===null:(De&62914560)===De||(De&536870912)!==0?t===$n:!1}function Sv(){var t=X.H;return X.H=kl,t===null?kl:t}function Rv(){var t=X.A;return X.A=jw,t}function Ju(){pt=4,es||(De&4194048)!==De&&Rn.current!==null||(go=!0),(ts&134217727)===0&&(ma&134217727)===0||tt===null||is(tt,De,In,!1)}function dm(t,i,a){var l=Ge;Ge|=2;var d=Sv(),f=Rv();(tt!==t||De!==i)&&(Xu=null,vo(t,i)),i=!1;var v=pt;e:do try{if(Ye!==0&&Ce!==null){var T=Ce,I=Cn;switch(Ye){case 8:hm(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var H=Ye;if(Ye=0,Cn=null,bo(t,T,I,H),a&&go){v=0;break e}break;default:H=Ye,Ye=0,Cn=null,bo(t,T,I,H)}}Vw(),v=pt;break}catch(Y){wv(t,Y)}while(!0);return i&&t.shellSuspendCounter++,ii=sa=null,Ge=l,X.H=d,X.A=f,Ce===null&&(tt=null,De=0,_u()),v}function Vw(){for(;Ce!==null;)Nv(Ce)}function Pw(t,i){var a=Ge;Ge|=2;var l=Sv(),d=Rv();tt!==t||De!==i?(Xu=null,Yu=ln()+500,vo(t,i)):go=tr(t,i);e:do try{if(Ye!==0&&Ce!==null){i=Ce;var f=Cn;t:switch(Ye){case 1:Ye=0,Cn=null,bo(t,i,f,1);break;case 2:case 9:if(Ly(f)){Ye=0,Cn=null,Cv(i);break}i=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),Ur(t)},f.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Ly(f)?(Ye=0,Cn=null,Cv(i)):(Ye=0,Cn=null,bo(t,i,f,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var T=Ce;if(v?m0(v):T.stateNode.complete){Ye=0,Cn=null;var I=T.sibling;if(I!==null)Ce=I;else{var H=T.return;H!==null?(Ce=H,Zu(H)):Ce=null}break t}}Ye=0,Cn=null,bo(t,i,f,5);break;case 6:Ye=0,Cn=null,bo(t,i,f,6);break;case 8:hm(),pt=6;break e;default:throw Error(s(462))}}Lw();break}catch(Y){wv(t,Y)}while(!0);return ii=sa=null,X.H=l,X.A=d,Ge=a,Ce!==null?0:(tt=null,De=0,_u(),pt)}function Lw(){for(;Ce!==null&&!Bd();)Nv(Ce)}function Nv(t){var i=J_(t.alternate,t,mi);t.memoizedProps=t.pendingProps,i===null?Zu(t):Ce=i}function Cv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=$_(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=$_(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Rf(i);default:ev(a,i),i=Ce=Ry(i,mi),i=J_(a,i,mi)}t.memoizedProps=t.pendingProps,i===null?Zu(t):Ce=i}function bo(t,i,a,l){ii=sa=null,Rf(i),lo=null,Rl=0;var d=i.return;try{if(Sw(t,d,i,a,De)){pt=1,zu(t,qn(a,t.current)),Ce=null;return}}catch(f){if(d!==null)throw Ce=d,f;pt=1,zu(t,qn(a,t.current)),Ce=null;return}i.flags&32768?(Le||l===1?t=!0:go||(De&536870912)!==0?t=!1:(es=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Iv(i,t)):Zu(i)}function Zu(t){var i=t;do{if((i.flags&32768)!==0){Iv(i,es);return}t=i.return;var a=Cw(i.alternate,i,mi);if(a!==null){Ce=a;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);pt===0&&(pt=5)}function Iv(t,i){do{var a=Iw(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);pt=6,Ce=null}function Dv(t,i,a,l,d,f,v,T,I){t.cancelPendingCommit=null;do eh();while(zt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Zd,Fd(t,a,f,v,T,I),t===tt&&(Ce=tt=null,De=0),_o=i,rs=t,pi=a,lm=f,cm=d,bv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qw(Mi,function(){return Vv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,d=ae.p,ae.p=2,v=Ge,Ge|=4;try{Dw(t,i,a)}finally{Ge=v,ae.p=d,X.T=l}}zt=1,Ov(),jv(),Mv()}}function Ov(){if(zt===1){zt=0;var t=rs,i=_o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var d=Ge;Ge|=4;try{dv(i,t);var f=wm,v=_y(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&yy(T.ownerDocument.documentElement,T)){if(I!==null&&Qd(T)){var H=I.start,Y=I.end;if(Y===void 0&&(Y=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Y,T.value.length);else{var ee=T.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var K=F.getSelection(),de=T.textContent.length,_e=Math.min(I.start,de),et=I.end===void 0?_e:Math.min(I.end,de);!K.extend&&_e>et&&(v=et,et=_e,_e=v);var U=gy(T,_e),k=gy(T,et);if(U&&k&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var q=ee.createRange();q.setStart(U.node,U.offset),K.removeAllRanges(),_e>et?(K.addRange(q),K.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),K.addRange(q))}}}}for(ee=[],K=T;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}dh=!!Tm,wm=Tm=null}finally{Ge=d,ae.p=l,X.T=a}}t.current=i,zt=2}}function jv(){if(zt===2){zt=0;var t=rs,i=_o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var d=Ge;Ge|=4;try{ov(t,i.alternate,i)}finally{Ge=d,ae.p=l,X.T=a}}zt=3}}function Mv(){if(zt===4||zt===3){zt=0,Fc();var t=rs,i=_o,a=pi,l=bv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,_o=rs=null,kv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ns=null),Jr(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(er,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,d=ae.p,ae.p=2,X.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{X.T=i,ae.p=d}}(pi&3)!==0&&eh(),Ur(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===um?Fl++:(Fl=0,um=t):Fl=0,Gl(0)}}function kv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Al(i)))}function eh(){return Ov(),jv(),Mv(),Vv()}function Vv(){if(zt!==5)return!1;var t=rs,i=lm;lm=0;var a=Jr(pi),l=X.T,d=ae.p;try{ae.p=32>a?32:a,X.T=null,a=cm,cm=null;var f=rs,v=pi;if(zt=0,_o=rs=null,pi=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,yv(f.current),mv(f,f.current,v,a),Ge=T,Gl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(er,f)}catch{}return!0}finally{ae.p=d,X.T=l,kv(t,i)}}function Pv(t,i,a){i=qn(a,i),i=qf(t.stateNode,i,2),t=Xi(t,i,2),t!==null&&(qs(t,2),Ur(t))}function Xe(t,i,a){if(t.tag===3)Pv(t,t,a);else for(;i!==null;){if(i.tag===3){Pv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ns===null||!ns.has(l))){t=qn(a,t),a=L_(2),l=Xi(i,a,2),l!==null&&(U_(a,l,i,t),qs(l,2),Ur(l));break}}i=i.return}}function fm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Mw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(sm=!0,d.add(a),t=Uw.bind(null,t,i,a),i.then(t,t))}function Uw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(De&a)===a&&(pt===4||pt===3&&(De&62914560)===De&&300>ln()-Qu?(Ge&2)===0&&vo(t,0):am|=a,yo===De&&(yo=0)),Ur(t)}function Lv(t,i){i===0&&(i=Xc()),t=na(t,i),t!==null&&(qs(t,i),Ur(t))}function zw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Lv(t,a)}function Bw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Lv(t,a)}function qw(t,i){return Ut(t,i)}var th=null,Eo=null,mm=!1,nh=!1,pm=!1,ss=0;function Ur(t){t!==Eo&&t.next===null&&(Eo===null?th=Eo=t:Eo=Eo.next=t),nh=!0,mm||(mm=!0,Fw())}function Gl(t,i){if(!pm&&nh){pm=!0;do for(var a=!1,l=th;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=d&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,qv(l,f))}else f=De,f=Er(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||tr(l,f)||(a=!0,qv(l,f));l=l.next}while(a);pm=!1}}function Hw(){Uv()}function Uv(){nh=mm=!1;var t=0;ss!==0&&e2()&&(t=ss);for(var i=ln(),a=null,l=th;l!==null;){var d=l.next,f=zv(l,i);f===0?(l.next=null,a===null?th=d:a.next=d,d===null&&(Eo=a)):(a=l,(t!==0||(f&3)!==0)&&(nh=!0)),l=d}zt!==0&&zt!==5||Gl(t),ss!==0&&(ss=0)}function zv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-_t(f),T=1<<v,I=d[v];I===-1?((T&a)===0||(T&l)!==0)&&(d[v]=Hd(T,i)):I<=i&&(t.expiredLanes|=T),f&=~T}if(i=tt,a=De,a=Er(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ji(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||tr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ji(l),Jr(a)){case 2:case 8:a=tl;break;case 32:a=Mi;break;case 268435456:a=Gc;break;default:a=Mi}return l=Bv.bind(null,t),a=Ut(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ji(l),t.callbackPriority=2,t.callbackNode=null,2}function Bv(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(eh()&&t.callbackNode!==a)return null;var l=De;return l=Er(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xv(t,l,i),zv(t,ln()),t.callbackNode!=null&&t.callbackNode===a?Bv.bind(null,t):null)}function qv(t,i){if(eh())return null;xv(t,i,!0)}function Fw(){n2(function(){(Ge&6)!==0?Ut(el,Hw):Uv()})}function gm(){if(ss===0){var t=so;t===0&&(t=vr,vr<<=1,(vr&261888)===0&&(vr=256)),ss=t}return ss}function Hv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function Fv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Gw(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=Hv((d[Ht]||null).action),v=l.submitter;v&&(i=(i=v[Ht]||null)?Hv(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var T=new Or("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ss!==0){var I=v?Fv(d,v):new FormData(d);Vf(a,{pending:!0,data:I,method:d.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=v?Fv(d,v):new FormData(d),Vf(a,{pending:!0,data:I,method:d.method,action:f},f,I))},currentTarget:d}]})}}for(var ym=0;ym<Jd.length;ym++){var _m=Jd[ym],$w=_m.toLowerCase(),Kw=_m[0].toUpperCase()+_m.slice(1);cr($w,"on"+Kw)}cr(Ey,"onAnimationEnd"),cr(xy,"onAnimationIteration"),cr(Ty,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(cw,"onTransitionRun"),cr(uw,"onTransitionStart"),cr(hw,"onTransitionCancel"),cr(wy,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Gv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=H;try{f(d)}catch(Y){yu(Y)}d.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,H=T.currentTarget,T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=H;try{f(d)}catch(Y){yu(Y)}d.currentTarget=null,f=I}}}}function Ie(t,i){var a=i[Ua];a===void 0&&(a=i[Ua]=new Set);var l=t+"__bubble";a.has(l)||($v(i,t,2,!1),a.add(l))}function vm(t,i,a){var l=0;i&&(l|=4),$v(a,t,l,i)}var rh="_reactListening"+Math.random().toString(36).slice(2);function bm(t){if(!t[rh]){t[rh]=!0,il.forEach(function(a){a!=="selectionchange"&&(Qw.has(a)||vm(a,!1,t),vm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[rh]||(i[rh]=!0,vm("selectionchange",!1,i))}}function $v(t,i,a,l){switch(E0(i)){case 2:var d=x2;break;case 8:d=T2;break;default:d=km}a=d.bind(null,i,a,t),d=void 0,!Qs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Em(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===d)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;T!==null;){if(v=Ar(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}T=T.parentNode}}l=l.return}zi(function(){var H=f,Y=Ln(a),ee=[];e:{var F=Ay.get(t);if(F!==void 0){var K=Or,de=t;switch(t){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":K=mu;break;case"focusin":de="focus",K=Js;break;case"focusout":de="blur",K=Js;break;case"beforeblur":case"afterblur":K=Js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case Ey:case xy:case Ty:K=ou;break;case wy:K=A;break;case"scroll":case"scrollend":K=gl;break;case"wheel":K=$;break;case"copy":case"cut":case"paste":K=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ti;break;case"toggle":case"beforetoggle":K=Ae}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),U=_e?F!==null?F+"Capture":null:F;_e=[];for(var k=H,q;k!==null;){var J=k;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||U===null||(J=sr(k,U),J!=null&&_e.push(Kl(k,J,q))),et)break;k=k.return}0<_e.length&&(F=new K(F,de,null,a,Y),ee.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==fl&&(de=a.relatedTarget||a.fromElement)&&(Ar(de)||de[Tr]))break e;if((K||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=H,de=de?Ar(de):null,de!==null&&(et=c(de),_e=de.tag,de!==et||_e!==5&&_e!==27&&_e!==6)&&(de=null)):(K=null,de=H),K!==de)){if(_e=yl,J="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=ti,J="onPointerLeave",U="onPointerEnter",k="pointer"),et=K==null?F:Tn(K),q=de==null?F:Tn(de),F=new _e(J,k+"leave",K,a,Y),F.target=et,F.relatedTarget=q,J=null,Ar(Y)===H&&(_e=new _e(U,k+"enter",de,a,Y),_e.target=q,_e.relatedTarget=et,J=_e),et=J,K&&de)t:{for(_e=Yw,U=K,k=de,q=0,J=U;J;J=_e(J))q++;J=0;for(var pe=k;pe;pe=_e(pe))J++;for(;0<q-J;)U=_e(U),q--;for(;0<J-q;)k=_e(k),J--;for(;q--;){if(U===k||k!==null&&U===k.alternate){_e=U;break t}U=_e(U),k=_e(k)}_e=null}else _e=null;K!==null&&Kv(ee,F,K,_e,!1),de!==null&&et!==null&&Kv(ee,et,de,_e,!0)}}e:{if(F=H?Tn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var qe=uy;else if(ly(F))if(hy)qe=aw;else{qe=iw;var me=rw}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ha(H.elementType)&&(qe=uy):qe=sw;if(qe&&(qe=qe(t,H))){cy(ee,qe,a,Y);break e}me&&me(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&ul(F,"number",F.value)}switch(me=H?Tn(H):window,t){case"focusin":(ly(me)||me.contentEditable==="true")&&(Wa=me,Yd=H,xl=null);break;case"focusout":xl=Yd=Wa=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,vy(ee,a,Y);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":vy(ee,a,Y)}var Ne;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Xa?Zs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(kr&&a.locale!=="ko"&&(Xa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Xa&&(Ne=pl()):(Dr=Y,ml="value"in Dr?Dr.value:Dr.textContent,Xa=!0)),me=ih(H,Oe),0<me.length&&(Oe=new Mr(Oe,t,null,a,Y),ee.push({event:Oe,listeners:me}),Ne?Oe.data=Ne:(Ne=Ya(a),Ne!==null&&(Oe.data=Ne)))),(Ne=zn?ZT(t,a):ew(t,a))&&(Oe=ih(H,"onBeforeInput"),0<Oe.length&&(me=new Mr("onBeforeInput","beforeinput",null,a,Y),ee.push({event:me,listeners:Oe}),me.data=Ne)),Gw(ee,t,H,a,Y)}Gv(ee,i)})}function Kl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ih(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=sr(t,a),d!=null&&l.unshift(Kl(t,d,f)),d=sr(t,i),d!=null&&l.push(Kl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Yw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kv(t,i,a,l,d){for(var f=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,d?(H=sr(a,f),H!=null&&v.unshift(Kl(a,H,I))):d||(H=sr(a,f),H!=null&&v.push(Kl(a,H,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Xw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function Qv(t){return(typeof t=="string"?t:""+t).replace(Xw,`
`).replace(Ww,"")}function Yv(t,i){return i=Qv(i),Qv(t)===i}function Ze(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&mn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":dl(t,l,f);break;case"data":if(i!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",d.name,d,null),Ze(t,i,"formEncType",d.formEncType,d,null),Ze(t,i,"formMethod",d.formMethod,d,null),Ze(t,i,"formTarget",d.formTarget,d,null)):(Ze(t,i,"encType",d.encType,d,null),Ze(t,i,"method",d.method,d,null),Ze(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ir);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=iu.get(a)||a,Ba(t,a,l))}}function xm(t,i,a,l,d,f){switch(a){case"style":dl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ir);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[Ht]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ba(t,a,l)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,f,v,a,null)}}d&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Ie("invalid",t);var T=f=v=d=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":H=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Y,a,null)}}tu(t,f,T,I,H,v,d,!1);return;case"select":Ie("invalid",t),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ze(t,i,d,T,a,null)}i=f,a=v,t.multiple=!!l,i!=null?Vi(t,!!l,i,!1):a!=null&&Vi(t,!!l,a,!0);return;case"textarea":Ie("invalid",t),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,i,v,T,a,null)}Pi(t,l,d,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(t,i,I,l,a,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<$l.length;l++)Ie($l[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,H,l,a,null)}return;default:if(Ha(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&xm(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,i,T,l,a,null))}function Jw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,T=null,I=null,H=null,Y=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(K)||Ze(t,i,K,null,l,ee)}}for(var F in l){var K=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(K!=null||ee!=null))switch(F){case"type":f=K;break;case"name":d=K;break;case"checked":H=K;break;case"defaultChecked":Y=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ee&&Ze(t,i,F,K,l,ee)}}qa(t,v,T,I,H,Y,f,d);return;case"select":K=v=T=F=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(f)||Ze(t,i,f,null,l,I)}for(d in l)if(f=l[d],I=a[d],l.hasOwnProperty(d)&&(f!=null||I!=null))switch(d){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==I&&Ze(t,i,d,f,l,I)}i=T,a=v,l=K,F!=null?Vi(t,!!a,F,!1):!!l!=!!a&&(i!=null?Vi(t,!!a,i,!0):Vi(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":F=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&Ze(t,i,v,d,l,f)}nu(t,F,K);return;case"option":for(var de in a)F=a[de],a.hasOwnProperty(de)&&F!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:Ze(t,i,de,null,l,F));for(I in l)F=l[I],K=a[I],l.hasOwnProperty(I)&&F!==K&&(F!=null||K!=null)&&(I==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":Ze(t,i,I,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Ze(t,i,_e,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ze(t,i,H,F,l,K)}return;default:if(Ha(i)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&xm(t,i,et,void 0,l,F);for(Y in l)F=l[Y],K=a[Y],!l.hasOwnProperty(Y)||F===K||F===void 0&&K===void 0||xm(t,i,Y,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Ze(t,i,U,null,l,F);for(ee in l)F=l[ee],K=a[ee],!l.hasOwnProperty(ee)||F===K||F==null&&K==null||Ze(t,i,ee,F,l,K)}function Xv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,v=d.initiatorType,T=d.duration;if(f&&T&&Xv(v)){for(v=0,T=d.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>T)break;var Y=I.transferSize,ee=I.initiatorType;Y&&Xv(ee)&&(I=I.responseEnd,v+=Y*(I<T?1:(T-H)/(I-H)))}if(--l,i+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Tm=null,wm=null;function sh(t){return t.nodeType===9?t:t.ownerDocument}function Wv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Am(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sm=null;function e2(){var t=window.event;return t&&t.type==="popstate"?t===Sm?!1:(Sm=t,!0):(Sm=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,t2=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,n2=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(t){return e0.resolve(null).then(t).catch(r2)}:Zv;function r2(t){setTimeout(function(){throw t})}function as(t){return t==="head"}function t0(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),Ao(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ql(a);for(var f=a.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[wr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Ql(t.ownerDocument.body);a=d}while(a);Ao(i)}function n0(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Rm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rm(a),za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function i2(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function s2(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function r0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function Nm(t){return t.data==="$?"||t.data==="$~"}function Cm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function a2(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Im=null;function i0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function s0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function a0(t,i,a){switch(i=sh(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);za(t)}var Qn=new Map,o0=new Set;function ah(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gi=ae.d;ae.d={f:o2,r:l2,D:c2,C:u2,L:h2,m:d2,X:m2,S:f2,M:p2};function o2(){var t=gi.f(),i=Wu();return t||i}function l2(t){var i=Pn(t);i!==null&&i.tag===5&&i.type==="form"?w_(i):gi.r(t)}var xo=typeof document>"u"?null:document;function l0(t,i,a){var l=xo;if(l&&typeof i=="string"&&i){var d=fn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),o0.has(d)||(o0.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Jt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function c2(t){gi.D(t),l0("dns-prefetch",t,null)}function u2(t,i){gi.C(t,i),l0("preconnect",t,i)}function h2(t,i,a){gi.L(t,i,a);var l=xo;if(l&&t&&i){var d='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+fn(a.imageSizes)+'"]')):d+='[href="'+fn(t)+'"]';var f=d;switch(i){case"style":f=To(t);break;case"script":f=wo(t)}Qn.has(f)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Yl(f))||i==="script"&&l.querySelector(Xl(f))||(i=l.createElement("link"),Jt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function d2(t,i){gi.m(t,i);var a=xo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wo(t)}if(!Qn.has(f)&&(t=x({rel:"modulepreload",href:t},i),Qn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(f)))return}l=a.createElement("link"),Jt(l,"link",t),Rt(l),a.head.appendChild(l)}}}function f2(t,i,a){gi.S(t,i,a);var l=xo;if(l&&t){var d=Sr(l).hoistableStyles,f=To(t);i=i||"default";var v=d.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Yl(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(f))&&Dm(t,a);var I=v=l.createElement("link");Rt(I),Jt(I,"link",t),I._p=new Promise(function(H,Y){I.onload=H,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,oh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},d.set(f,v)}}}function m2(t,i){gi.X(t,i);var a=xo;if(a&&t){var l=Sr(a).hoistableScripts,d=wo(t),f=l.get(d);f||(f=a.querySelector(Xl(d)),f||(t=x({src:t,async:!0},i),(i=Qn.get(d))&&Om(t,i),f=a.createElement("script"),Rt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function p2(t,i){gi.M(t,i);var a=xo;if(a&&t){var l=Sr(a).hoistableScripts,d=wo(t),f=l.get(d);f||(f=a.querySelector(Xl(d)),f||(t=x({src:t,async:!0,type:"module"},i),(i=Qn.get(d))&&Om(t,i),f=a.createElement("script"),Rt(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function c0(t,i,a,l){var d=(d=Re.current)?ah(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=Sr(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=To(a.href);var f=Sr(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(Yl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),f||g2(d,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wo(a),a=Sr(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function To(t){return'href="'+fn(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function u0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function g2(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),Rt(i),t.head.appendChild(i))}function wo(t){return'[src="'+fn(t)+'"]'}function Xl(t){return"script[async]"+t}function h0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,Rt(l),l;var d=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),Jt(l,"style",d),oh(l,a.precedence,t),i.instance=l;case"stylesheet":d=To(a.href);var f=t.querySelector(Yl(d));if(f)return i.state.loading|=4,i.instance=f,Rt(f),f;l=u0(a),(d=Qn.get(d))&&Dm(l,d),f=(t.ownerDocument||t).createElement("link"),Rt(f);var v=f;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Jt(f,"link",l),i.state.loading|=4,oh(f,a.precedence,t),i.instance=f;case"script":return f=wo(a.src),(d=t.querySelector(Xl(f)))?(i.instance=d,Rt(d),d):(l=a,(d=Qn.get(f))&&(l=x({},a),Om(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Rt(d),Jt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,oh(l,a.precedence,t));return i.instance}function oh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var lh=null;function d0(t,i,a){if(lh===null){var l=new Map,d=lh=new Map;d.set(a,l)}else d=lh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[wr]||f[St]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function f0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function y2(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function m0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _2(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=To(l.href),f=i.querySelector(Yl(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ch.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Rt(f);return}f=i.ownerDocument||i,l=u0(l),(d=Qn.get(d))&&Dm(l,d),f=f.createElement("link"),Rt(f);var v=f;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Jt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ch.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var jm=0;function v2(t,i){return t.stylesheets&&t.count===0&&hh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&jm===0&&(jm=62500*Zw());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>jm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uh=null;function hh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uh=new Map,i.forEach(b2,t),uh=null,ch.call(t))}function b2(t,i){if(!(i.state.loading&4)){var a=uh.get(t);if(a)var l=a.get(null);else{a=new Map,uh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=i.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=ch.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Wl={$$typeof:re,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function E2(t,i,a,l,d,f,v,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function p0(t,i,a,l,d,f,v,T,I,H,Y,ee){return t=new E2(t,i,a,v,I,H,Y,ee,T),i=1,f===!0&&(i|=24),f=Sn(3,null,null,i),t.current=f,f.stateNode=t,i=df(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},gf(f),t}function g0(t){return t?(t=eo,t):eo}function y0(t,i,a,l,d,f){d=g0(d),l.context===null?l.context=d:l.pendingContext=d,l=Yi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Xi(t,l,i),a!==null&&(vn(a,t,i),Cl(a,t,i))}function _0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Mm(t,i){_0(t,i),(t=t.alternate)&&_0(t,i)}function v0(t){if(t.tag===13||t.tag===31){var i=na(t,67108864);i!==null&&vn(i,t,67108864),Mm(t,67108864)}}function b0(t){if(t.tag===13||t.tag===31){var i=Dn();i=Fs(i);var a=na(t,i);a!==null&&vn(a,t,i),Mm(t,i)}}var dh=!0;function x2(t,i,a,l){var d=X.T;X.T=null;var f=ae.p;try{ae.p=2,km(t,i,a,l)}finally{ae.p=f,X.T=d}}function T2(t,i,a,l){var d=X.T;X.T=null;var f=ae.p;try{ae.p=8,km(t,i,a,l)}finally{ae.p=f,X.T=d}}function km(t,i,a,l){if(dh){var d=Vm(l);if(d===null)Em(t,i,l,fh,a),x0(t,l);else if(A2(d,t,i,a,l))l.stopPropagation();else if(x0(t,l),i&4&&-1<w2.indexOf(t)){for(;d!==null;){var f=Pn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=br(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-_t(v);T.entanglements[1]|=I,v&=~I}Ur(f),(Ge&6)===0&&(Yu=ln()+500,Gl(0))}}break;case 31:case 13:T=na(f,2),T!==null&&vn(T,f,2),Wu(),Mm(f,2)}if(f=Vm(l),f===null&&Em(t,i,l,fh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Em(t,i,l,null,a)}}function Vm(t){return t=Ln(t),Pm(t)}var fh=null;function Pm(t){if(fh=null,t=Ar(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=u(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return fh=t,null}function E0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zs()){case el:return 2;case tl:return 8;case Mi:case qd:return 32;case Gc:return 268435456;default:return 32}default:return 32}}var Lm=!1,os=null,ls=null,cs=null,Jl=new Map,Zl=new Map,us=[],w2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x0(t,i){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(i.pointerId)}}function ec(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=Pn(i),i!==null&&v0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function A2(t,i,a,l,d){switch(i){case"focusin":return os=ec(os,t,i,a,l,d),!0;case"dragenter":return ls=ec(ls,t,i,a,l,d),!0;case"mouseover":return cs=ec(cs,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return Jl.set(f,ec(Jl.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Zl.set(f,ec(Zl.get(f)||null,t,i,a,l,d)),!0}return!1}function T0(t){var i=Ar(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){t.blockedOn=i,nr(t.priority,function(){b0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,nr(t.priority,function(){b0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Vm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);fl=l,a.target.dispatchEvent(l),fl=null}else return i=Pn(a),i!==null&&v0(i),t.blockedOn=a,!1;i.shift()}return!0}function w0(t,i,a){mh(t)&&a.delete(i)}function S2(){Lm=!1,os!==null&&mh(os)&&(os=null),ls!==null&&mh(ls)&&(ls=null),cs!==null&&mh(cs)&&(cs=null),Jl.forEach(w0),Zl.forEach(w0)}function ph(t,i){t.blockedOn===i&&(t.blockedOn=null,Lm||(Lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,S2)))}var gh=null;function A0(t){gh!==t&&(gh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gh===t&&(gh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Pm(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(i,3),i-=3,Vf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Ao(t){function i(I){return ph(I,t)}os!==null&&ph(os,t),ls!==null&&ph(ls,t),cs!==null&&ph(cs,t),Jl.forEach(i),Zl.forEach(i);for(var a=0;a<us.length;a++){var l=us[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)T0(a),a.blockedOn===null&&us.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[Ht]||null;if(typeof f=="function")v||A0(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Ht]||null)T=v.formAction;else if(Pm(d)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),A0(a)}}}function S0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Um(t){this._internalRoot=t}yh.prototype.render=Um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Dn();y0(a,l,t,i,null,null)},yh.prototype.unmount=Um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;y0(t.current,2,null,t,null,null),Wu(),i[Tr]=null}};function yh(t){this._internalRoot=t}yh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Wc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<us.length&&i!==0&&i<us[a].priority;a++);us.splice(a,0,t),a===0&&T0(t)}};var R0=e.version;if(R0!=="19.2.4")throw Error(s(527,R0,"19.2.4"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var R2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{er=_h.inject(R2),Kt=_h}catch{}}return nc.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=M_,f=k_,v=V_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=p0(t,1,!1,null,null,a,l,null,d,f,v,S0),t[Tr]=i.current,bm(t),new Um(i)},nc.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=M_,v=k_,T=V_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=p0(t,1,!0,i,a??null,l,d,I,f,v,T,S0),i.context=g0(null),a=i.current,l=Dn(),l=Fs(l),d=Yi(l),d.callback=null,Xi(a,d,l),a=l,i.current.lanes=a,qs(i,a),Ur(i),t[Tr]=i.current,bm(t),new yh(i)},nc.version="19.2.4",nc}var P0;function P2(){if(P0)return qm.exports;P0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qm.exports=V2(),qm.exports}var L2=P2();var L0="popstate";function U2(r={}){function e(s,o){let{pathname:c,search:u,hash:m}=s.location;return fp("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:bc(o)}return B2(e,n,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function pr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z2(){return Math.random().toString(36).substring(2,10)}function U0(r,e){return{usr:r.state,key:r.key,idx:e}}function fp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Bo(e):e,state:n,key:e&&e.key||s||z2()}}function bc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function B2(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,m="POP",g=null,y=E();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function E(){return(u.state||{idx:null}).idx}function x(){m="POP";let P=E(),Q=P==null?null:P-y;y=P,g&&g({action:m,location:B.location,delta:Q})}function w(P,Q){m="PUSH";let W=fp(B.location,P,Q);y=E()+1;let re=U0(W,y),le=B.createHref(W);try{u.pushState(re,"",le)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(le)}c&&g&&g({action:m,location:B.location,delta:1})}function j(P,Q){m="REPLACE";let W=fp(B.location,P,Q);y=E();let re=U0(W,y),le=B.createHref(W);u.replaceState(re,"",le),c&&g&&g({action:m,location:B.location,delta:0})}function G(P){return q2(P)}let B={get action(){return m},get location(){return r(o,u)},listen(P){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(L0,x),g=P,()=>{o.removeEventListener(L0,x),g=null}},createHref(P){return e(o,P)},createURL:G,encodeLocation(P){let Q=G(P);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:w,replace:j,go(P){return u.go(P)}};return B}function q2(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:bc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function I1(r,e,n="/"){return H2(r,e,n,!1)}function H2(r,e,n,s){let o=typeof e=="string"?Bo(e):e,c=Ti(o.pathname||"/",n);if(c==null)return null;let u=D1(r);F2(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let y=tA(c);m=Z2(u[g],y,s)}return m}function D1(r,e=[],n=[],s="",o=!1){let c=(u,m,g=o,y)=>{let E={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ht(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let x=Ei([s,E.relativePath]),w=n.concat(E);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),D1(u.children,e,w,x,g)),!(u.path==null&&!u.index)&&e.push({path:x,score:W2(x,u.index),routesMeta:w})};return r.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let g of O1(u.path))c(u,m,!0,g)}),e}function O1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=O1(s.join("/")),m=[];return m.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...u),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function F2(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:J2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var G2=/^:[\w-]+$/,$2=3,K2=2,Q2=1,Y2=10,X2=-2,z0=r=>r==="*";function W2(r,e){let n=r.split("/"),s=n.length;return n.some(z0)&&(s+=X2),e&&(s+=K2),n.filter(o=>!z0(o)).reduce((o,c)=>o+(G2.test(c)?$2:c===""?Q2:Y2),s)}function J2(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Z2(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",u=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",x=Fh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!x&&y&&n&&!s[s.length-1].route.index&&(x=Fh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:Ei([c,x.pathname]),pathnameBase:sA(Ei([c,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(c=Ei([c,x.pathnameBase]))}return u}function Fh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=eA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:x},w)=>{if(E==="*"){let G=m[w]||"";u=c.slice(0,c.length-G.length).replace(/(.)\/+$/,"$1")}const j=m[w];return x&&!j?y[E]=void 0:y[E]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:u,pattern:r}}function eA(r,e=!1,n=!0){pr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function tA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ti(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function rA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Bo(r):r,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=B0(n.substring(1),"/"):c=B0(n,e)):c=e,{pathname:c,search:aA(s),hash:oA(o)}}function B0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $m(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qp(r){let e=iA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Yp(r,e,n,s=!1){let o;typeof r=="string"?o=Bo(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),$m("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),$m("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),$m("#","search","hash",o)));let c=r===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=n;else{let x=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),x-=1;o.pathname=w.join("/")}m=x>=0?e[x]:"/"}let g=rA(o,m),y=u&&u!=="/"&&u.endsWith("/"),E=(c||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Ei=r=>r.join("/").replace(/\/\/+/g,"/"),sA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),aA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,oA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,lA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function uA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function M1(r,e){let n=r;if(typeof n!="string"||!nA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(j1)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=Ti(u.pathname,e);u.origin===c.origin&&m!=null?n=m+u.search+u.hash:o=!0}catch{pr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var k1=["POST","PUT","PATCH","DELETE"];new Set(k1);var hA=["GET",...k1];new Set(hA);var qo=M.createContext(null);qo.displayName="DataRouter";var md=M.createContext(null);md.displayName="DataRouterState";var dA=M.createContext(!1),V1=M.createContext({isTransitioning:!1});V1.displayName="ViewTransition";var fA=M.createContext(new Map);fA.displayName="Fetchers";var mA=M.createContext(null);mA.displayName="Await";var kn=M.createContext(null);kn.displayName="Navigation";var Ic=M.createContext(null);Ic.displayName="Location";var yr=M.createContext({outlet:null,matches:[],isDataRoute:!1});yr.displayName="Route";var Xp=M.createContext(null);Xp.displayName="RouteError";var P1="REACT_ROUTER_ERROR",pA="REDIRECT",gA="ROUTE_ERROR_RESPONSE";function yA(r){if(r.startsWith(`${P1}:${pA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _A(r){if(r.startsWith(`${P1}:${gA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new lA(e.status,e.statusText,e.data)}catch{}}function vA(r,{relative:e}={}){ht(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(kn),{hash:o,pathname:c,search:u}=Dc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Ei([n,c])),s.createHref({pathname:m,search:u,hash:o})}function Ho(){return M.useContext(Ic)!=null}function Ii(){return ht(Ho(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Ic).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U1(r){M.useContext(kn).static||M.useLayoutEffect(r)}function Wp(){let{isDataRoute:r}=M.useContext(yr);return r?jA():bA()}function bA(){ht(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(qo),{basename:e,navigator:n}=M.useContext(kn),{matches:s}=M.useContext(yr),{pathname:o}=Ii(),c=JSON.stringify(Qp(s)),u=M.useRef(!1);return U1(()=>{u.current=!0}),M.useCallback((g,y={})=>{if(pr(u.current,L1),!u.current)return;if(typeof g=="number"){n.go(g);return}let E=Yp(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ei([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,c,o,r])}M.createContext(null);function EA(){let{matches:r}=M.useContext(yr),e=r[r.length-1];return e?e.params:{}}function Dc(r,{relative:e}={}){let{matches:n}=M.useContext(yr),{pathname:s}=Ii(),o=JSON.stringify(Qp(n));return M.useMemo(()=>Yp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function xA(r,e){return z1(r,e)}function z1(r,e,n,s,o){ht(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(kn),{matches:u}=M.useContext(yr),m=u[u.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",x=m&&m.route;{let W=x&&x.path||"";q1(y,!x||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Ii(),j;if(e){let W=typeof e=="string"?Bo(e):e;ht(E==="/"||W.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),j=W}else j=w;let G=j.pathname||"/",B=G;if(E!=="/"){let W=E.replace(/^\//,"").split("/");B="/"+G.replace(/^\//,"").split("/").slice(W.length).join("/")}let P=I1(r,{pathname:B});pr(x||P!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),pr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=RA(P&&P.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:Ei([E,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:Ei([E,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),u,n,s,o);return e&&Q?M.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},Q):Q}function TA(){let r=OA(),e=cA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,u)}var wA=M.createElement(TA,null),B1=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=_A(r.digest);n&&(r=n)}let e=r!==void 0?M.createElement(yr.Provider,{value:this.props.routeContext},M.createElement(Xp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?M.createElement(AA,{error:r},e):e}};B1.contextType=dA;var Km=new WeakMap;function AA({children:r,error:e}){let{basename:n}=M.useContext(kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=yA(e.digest);if(s){let o=Km.get(e);if(o)throw o;let c=M1(s.location,n);if(j1&&!Km.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw Km.set(e,u),u}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function SA({routeContext:r,match:e,children:n}){let s=M.useContext(qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(yr.Provider,{value:r},n)}function RA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,u=n?.errors;if(u!=null){let E=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);ht(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<c.length;E++){let x=c[E];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=E),x.route.id){let{loaderData:w,errors:j}=n,G=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!j||j[x.route.id]===void 0);if(x.route.lazy||G){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&s?(E,x)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:uA(n.matches),errorInfo:x})}:void 0;return c.reduceRight((E,x,w)=>{let j,G=!1,B=null,P=null;n&&(j=u&&x.route.id?u[x.route.id]:void 0,B=x.route.errorElement||wA,m&&(g<0&&w===0?(q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,P=null):g===w&&(G=!0,P=x.route.hydrateFallbackElement||null)));let Q=e.concat(c.slice(0,w+1)),W=()=>{let re;return j?re=B:G?re=P:x.route.Component?re=M.createElement(x.route.Component,null):x.route.element?re=x.route.element:re=E,M.createElement(SA,{match:x,routeContext:{outlet:E,matches:Q,isDataRoute:n!=null},children:re})};return n&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?M.createElement(B1,{location:n.location,revalidation:n.revalidation,component:B,error:j,children:W(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:y}):W()},null)}function Jp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(r){let e=M.useContext(qo);return ht(e,Jp(r)),e}function CA(r){let e=M.useContext(md);return ht(e,Jp(r)),e}function IA(r){let e=M.useContext(yr);return ht(e,Jp(r)),e}function Zp(r){let e=IA(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function DA(){return Zp("useRouteId")}function OA(){let r=M.useContext(Xp),e=CA("useRouteError"),n=Zp("useRouteError");return r!==void 0?r:e.errors?.[n]}function jA(){let{router:r}=NA("useNavigate"),e=Zp("useNavigate"),n=M.useRef(!1);return U1(()=>{n.current=!0}),M.useCallback(async(o,c={})=>{pr(n.current,L1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var q0={};function q1(r,e,n){!e&&!q0[r]&&(q0[r]=!0,pr(!1,n))}M.memo(MA);function MA({routes:r,future:e,state:n,onError:s}){return z1(r,void 0,n,s,e)}function Qm({to:r,replace:e,state:n,relative:s}){ht(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(kn);pr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=M.useContext(yr),{pathname:u}=Ii(),m=Wp(),g=Yp(r,Qp(c),u,s==="path"),y=JSON.stringify(g);return M.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Yn(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){ht(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[m,o,c,u]);typeof n=="string"&&(n=Bo(n));let{pathname:y="/",search:E="",hash:x="",state:w=null,key:j="default"}=n,G=M.useMemo(()=>{let B=Ti(y,m);return B==null?null:{location:{pathname:B,search:E,hash:x,state:w,key:j},navigationType:s}},[m,y,E,x,w,j,s]);return pr(G!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${x}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:M.createElement(kn.Provider,{value:g},M.createElement(Ic.Provider,{children:e,value:G}))}function VA({children:r,location:e}){return xA(mp(r),e)}function mp(r,e=[]){let n=[];return M.Children.forEach(r,(s,o)=>{if(!M.isValidElement(s))return;let c=[...e,o];if(s.type===M.Fragment){n.push.apply(n,mp(s.props.children,c));return}ht(s.type===Yn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=mp(s.props.children,c)),n.push(u)}),n}var Ch="get",Ih="application/x-www-form-urlencoded";function pd(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function PA(r){return pd(r)&&r.tagName.toLowerCase()==="button"}function LA(r){return pd(r)&&r.tagName.toLowerCase()==="form"}function UA(r){return pd(r)&&r.tagName.toLowerCase()==="input"}function zA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function BA(r,e){return r.button===0&&(!e||e==="_self")&&!zA(r)}var vh=null;function qA(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch{vh=!0}return vh}var HA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(r){return r!=null&&!HA.has(r)?(pr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):r}function FA(r,e){let n,s,o,c,u;if(LA(r)){let m=r.getAttribute("action");s=m?Ti(m,e):null,n=r.getAttribute("method")||Ch,o=Ym(r.getAttribute("enctype"))||Ih,c=new FormData(r)}else if(PA(r)||UA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Ti(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ch,o=Ym(r.getAttribute("formenctype"))||Ym(m.getAttribute("enctype"))||Ih,c=new FormData(m,r),!qA()){let{name:y,type:E,value:x}=r;if(E==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,x)}}else{if(pd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,s=null,o=Ih,u=r}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function GA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Ti(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function $A(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function QA(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await $A(c,n);return u.links?u.links():[]}return[]}));return JA(s.flat(1).filter(KA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function H0(r,e,n,s,o,c){let u=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>u(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(u(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function YA(r,e,{includeHydrateFallback:n}={}){return XA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function XA(r){return[...new Set(r)]}function WA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function JA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(WA(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function H1(){let r=M.useContext(qo);return eg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ZA(){let r=M.useContext(md);return eg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tg=M.createContext(void 0);tg.displayName="FrameworkContext";function F1(){let r=M.useContext(tg);return eg(r,"You must render this element inside a <HydratedRouter> element"),r}function eS(r,e){let n=M.useContext(tg),[s,o]=M.useState(!1),[c,u]=M.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:x}=e,w=M.useRef(null);M.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let B=Q=>{Q.forEach(W=>{u(W.isIntersecting)})},P=new IntersectionObserver(B,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[r]),M.useEffect(()=>{if(s){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[s]);let j=()=>{o(!0)},G=()=>{o(!1),u(!1)};return n?r!=="intent"?[c,w,{}]:[c,w,{onFocus:rc(m,j),onBlur:rc(g,G),onMouseEnter:rc(y,j),onMouseLeave:rc(E,G),onTouchStart:rc(x,j)}]:[!1,w,{}]}function rc(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function tS({page:r,...e}){let{router:n}=H1(),s=M.useMemo(()=>I1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?M.createElement(rS,{page:r,matches:s,...e}):null}function nS(r){let{manifest:e,routeModules:n}=F1(),[s,o]=M.useState([]);return M.useEffect(()=>{let c=!1;return QA(r,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[r,e,n]),s}function rS({page:r,matches:e,...n}){let s=Ii(),{future:o,manifest:c,routeModules:u}=F1(),{basename:m}=H1(),{loaderData:g,matches:y}=ZA(),E=M.useMemo(()=>H0(r,e,y,c,s,"data"),[r,e,y,c,s]),x=M.useMemo(()=>H0(r,e,y,c,s,"assets"),[r,e,y,c,s]),w=M.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,P=!1;if(e.forEach(W=>{let re=c.routes[W.route.id];!re||!re.hasLoader||(!E.some(le=>le.route.id===W.route.id)&&W.route.id in g&&u[W.route.id]?.shouldRevalidate||re.hasClientLoader?P=!0:B.add(W.route.id))}),B.size===0)return[];let Q=GA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return P&&B.size>0&&Q.searchParams.set("_routes",e.filter(W=>B.has(W.route.id)).map(W=>W.route.id).join(",")),[Q.pathname+Q.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,c,E,e,r,u]),j=M.useMemo(()=>YA(x,c),[x,c]),G=nS(x);return M.createElement(M.Fragment,null,w.map(B=>M.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),j.map(B=>M.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),G.map(({key:B,link:P})=>M.createElement("link",{key:B,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function iS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sS&&(window.__reactRouterVersion="7.13.0")}catch{}function aS({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=M.useRef();o.current==null&&(o.current=U2({window:s,v5Compat:!0}));let c=o.current,[u,m]=M.useState({action:c.action,location:c.location}),g=M.useCallback(y=>{n===!1?m(y):M.startTransition(()=>m(y))},[n]);return M.useLayoutEffect(()=>c.listen(g),[c,g]),M.createElement(kA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var G1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mt=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:m,target:g,to:y,preventScrollReset:E,viewTransition:x,unstable_defaultShouldRevalidate:w,...j},G){let{basename:B,unstable_useTransitions:P}=M.useContext(kn),Q=typeof y=="string"&&G1.test(y),W=M1(y,B);y=W.to;let re=vA(y,{relative:o}),[le,ie,fe]=eS(s,j),N=uS(y,{replace:u,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:x,unstable_defaultShouldRevalidate:w,unstable_useTransitions:P});function R(O){e&&e(O),O.defaultPrevented||N(O)}let S=M.createElement("a",{...j,...fe,href:W.absoluteURL||re,onClick:W.isExternal||c?e:R,ref:iS(G,ie),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return le&&!Q?M.createElement(M.Fragment,null,S,M.createElement(tS,{page:re})):S});Mt.displayName="Link";var oS=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:m,children:g,...y},E){let x=Dc(u,{relative:y.relative}),w=Ii(),j=M.useContext(md),{navigator:G,basename:B}=M.useContext(kn),P=j!=null&&pS(x)&&m===!0,Q=G.encodeLocation?G.encodeLocation(x).pathname:x.pathname,W=w.pathname,re=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(W=W.toLowerCase(),re=re?re.toLowerCase():null,Q=Q.toLowerCase()),re&&B&&(re=Ti(re,B)||re);const le=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ie=W===Q||!o&&W.startsWith(Q)&&W.charAt(le)==="/",fe=re!=null&&(re===Q||!o&&re.startsWith(Q)&&re.charAt(Q.length)==="/"),N={isActive:ie,isPending:fe,isTransitioning:P},R=ie?e:void 0,S;typeof s=="function"?S=s(N):S=[s,ie?"active":null,fe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(N):c;return M.createElement(Mt,{...y,"aria-current":R,className:S,ref:E,style:O,to:u,viewTransition:m},typeof g=="function"?g(N):g)});oS.displayName="NavLink";var lS=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:u=Ch,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:x,unstable_defaultShouldRevalidate:w,...j},G)=>{let{unstable_useTransitions:B}=M.useContext(kn),P=fS(),Q=mS(m,{relative:y}),W=u.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&G1.test(m),le=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let fe=ie.nativeEvent.submitter,N=fe?.getAttribute("formmethod")||u,R=()=>P(fe||ie.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:x,unstable_defaultShouldRevalidate:w});B&&n!==!1?M.startTransition(()=>R()):R()};return M.createElement("form",{ref:G,method:W,action:Q,onSubmit:s?g:le,...j,"data-discover":!re&&r==="render"?"true":void 0})});lS.displayName="Form";function cS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(r){let e=M.useContext(qo);return ht(e,cS(r)),e}function uS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Wp(),E=Ii(),x=Dc(r,{relative:c});return M.useCallback(w=>{if(BA(w,e)){w.preventDefault();let j=n!==void 0?n:bc(E)===bc(x),G=()=>y(r,{replace:j,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m});g?M.startTransition(()=>G()):G()}},[E,y,x,n,s,e,r,o,c,u,m,g])}var hS=0,dS=()=>`__${String(++hS)}__`;function fS(){let{router:r}=$1("useSubmit"),{basename:e}=M.useContext(kn),n=DA(),s=r.fetch,o=r.navigate;return M.useCallback(async(c,u={})=>{let{action:m,method:g,encType:y,formData:E,body:x}=FA(c,e);if(u.navigate===!1){let w=u.fetcherKey||dS();await s(w,n,u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:E,body:x,formMethod:u.method||g,formEncType:u.encType||y,flushSync:u.flushSync})}else await o(u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:E,body:x,formMethod:u.method||g,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,e,n])}function mS(r,{relative:e}={}){let{basename:n}=M.useContext(kn),s=M.useContext(yr);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Dc(r||".",{relative:e})},u=Ii();if(r==null){c.search=u.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(x=>x).forEach(x=>m.append("index",x));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ei([n,c.pathname])),bc(c)}function pS(r,{relative:e}={}){let n=M.useContext(V1);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$1("useViewTransitionState"),o=Dc(r,{relative:e});if(!n.isTransitioning)return!1;let c=Ti(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ti(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Fh(o.pathname,u)!=null||Fh(o.pathname,c)!=null}const gS=()=>{};var F0={};const K1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},yS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],u=r[n++],m=r[n++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],u=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,m=u?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=c>>2,x=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,j=y&63;g||(j=64,u||(w=64)),s.push(n[E],n[x],n[w],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(K1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const x=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||x==null)throw new _S;const w=c<<2|m>>4;if(s.push(w),y!==64){const j=m<<4&240|y>>2;if(s.push(j),x!==64){const G=y<<6&192|x;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(r){const e=K1(r);return Q1.encodeByteArray(e,!0)},Gh=function(r){return vS(r).replace(/\./g,"")},Y1=function(r){try{return Q1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ES=()=>bS().__FIREBASE_DEFAULTS__,xS=()=>{if(typeof process>"u"||typeof F0>"u")return;const r=F0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Y1(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return gS()||ES()||xS()||TS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},X1=r=>gd()?.emulatorHosts?.[r],W1=r=>{const e=X1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},J1=()=>gd()?.config,Z1=r=>gd()?.[`_${r}`];class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Os(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ng(r){return(await fetch(r,{credentials:"include"})).ok}function eE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gh(JSON.stringify(n)),Gh(JSON.stringify(u)),""].join(".")}const dc={};function AS(){const r={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?r.emulator.push(e):r.prod.push(e);return r}function SS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let G0=!1;function rg(r,e){if(typeof window>"u"||typeof document>"u"||!Os(window.location.host)||dc[r]===e||dc[r]||G0)return;dc[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=AS().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{G0=!0,u()},w}function E(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=SS(s),j=n("text"),G=document.getElementById(j)||document.createElement("span"),B=n("learnmore"),P=document.getElementById(B)||document.createElement("a"),Q=n("preprendIcon"),W=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(P,B);const le=y();g(W,Q),re.append(W,G,P,le),document.body.appendChild(re)}c?(G.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function NS(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const VS="FirebaseError";class Xr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=VS,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oc.prototype.create)}}class Oc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?PS(c,s):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new Xr(o,m,s)}}function PS(r,e){return r.replace(LS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const LS=/\{\$([^}]+)}/g;function US(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],u=e[o];if($0(c)&&$0(u)){if(!Ta(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function $0(r){return r!==null&&typeof r=="object"}function jc(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ac(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function oc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function zS(r,e){const n=new BS(r,e);return n.subscribe.bind(n)}class BS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xm(){}function dt(r){return r&&r._delegate?r._delegate:r}class As{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ga="[DEFAULT]";class HS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new wS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GS(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&u.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FS(r){return r===ga?void 0:r}function GS(r){return r.instantiationMode==="EAGER"}class $S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const KS={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},QS=je.INFO,YS={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},XS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=YS[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=QS,this._logHandler=XS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const WS=(r,e)=>e.some(n=>r instanceof n);let K0,Q0;function JS(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return Q0||(Q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,pp=new WeakMap,nE=new WeakMap,Wm=new WeakMap,sg=new WeakMap;function eR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{n(bs(r.result)),o()},u=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&tE.set(n,r)}).catch(()=>{}),sg.set(e,r),e}function tR(r){if(pp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});pp.set(r,e)}let gp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||nE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nR(r){gp=r(gp)}function rR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jm(this),e,...n);return nE.set(s,e.sort?e.sort():[e]),bs(s)}:ZS().includes(r)?function(...e){return r.apply(Jm(this),e),bs(tE.get(this))}:function(...e){return bs(r.apply(Jm(this),e))}}function iR(r){return typeof r=="function"?rR(r):(r instanceof IDBTransaction&&tR(r),WS(r,JS())?new Proxy(r,gp):r)}function bs(r){if(r instanceof IDBRequest)return eR(r);if(Wm.has(r))return Wm.get(r);const e=iR(r);return e!==r&&(Wm.set(r,e),sg.set(e,r)),e}const Jm=r=>sg.get(r);function sR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),m=bs(u);return s&&u.addEventListener("upgradeneeded",g=>{s(bs(u.result),g.oldVersion,g.newVersion,bs(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const aR=["get","getKey","getAll","getAllKeys","count"],oR=["put","add","delete","clear"],Zm=new Map;function Y0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=oR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aR.includes(n)))return;const c=async function(u,...m){const g=this.transaction(u,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Zm.set(e,c),c}nR(r=>({...r,get:(e,n,s)=>Y0(e,n)||r.get(e,n,s),has:(e,n)=>!!Y0(e,n)||r.has(e,n)}));class lR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cR(r){return r.getComponent()?.type==="VERSION"}const yp="@firebase/app",X0="0.14.8";const wi=new ig("@firebase/app"),uR="@firebase/app-compat",hR="@firebase/analytics-compat",dR="@firebase/analytics",fR="@firebase/app-check-compat",mR="@firebase/app-check",pR="@firebase/auth",gR="@firebase/auth-compat",yR="@firebase/database",_R="@firebase/data-connect",vR="@firebase/database-compat",bR="@firebase/functions",ER="@firebase/functions-compat",xR="@firebase/installations",TR="@firebase/installations-compat",wR="@firebase/messaging",AR="@firebase/messaging-compat",SR="@firebase/performance",RR="@firebase/performance-compat",NR="@firebase/remote-config",CR="@firebase/remote-config-compat",IR="@firebase/storage",DR="@firebase/storage-compat",OR="@firebase/firestore",jR="@firebase/ai",MR="@firebase/firestore-compat",kR="firebase",VR="12.9.0";const _p="[DEFAULT]",PR={[yp]:"fire-core",[uR]:"fire-core-compat",[dR]:"fire-analytics",[hR]:"fire-analytics-compat",[mR]:"fire-app-check",[fR]:"fire-app-check-compat",[pR]:"fire-auth",[gR]:"fire-auth-compat",[yR]:"fire-rtdb",[_R]:"fire-data-connect",[vR]:"fire-rtdb-compat",[bR]:"fire-fn",[ER]:"fire-fn-compat",[xR]:"fire-iid",[TR]:"fire-iid-compat",[wR]:"fire-fcm",[AR]:"fire-fcm-compat",[SR]:"fire-perf",[RR]:"fire-perf-compat",[NR]:"fire-rc",[CR]:"fire-rc-compat",[IR]:"fire-gcs",[DR]:"fire-gcs-compat",[OR]:"fire-fst",[MR]:"fire-fst-compat",[jR]:"fire-vertex","fire-js":"fire-js",[kR]:"fire-js-all"};const $h=new Map,LR=new Map,vp=new Map;function W0(r,e){try{r.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function wa(r){const e=r.name;if(vp.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,r);for(const n of $h.values())W0(n,r);for(const n of LR.values())W0(n,r);return!0}function yd(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function xn(r){return r==null?!1:r.settings!==void 0}const UR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Oc("app","Firebase",UR);class zR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}const Da=VR;function rE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:_p,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Es.create("bad-app-name",{appName:String(o)});if(n||(n=J1()),!n)throw Es.create("no-options");const c=$h.get(o);if(c){if(Ta(n,c.options)&&Ta(s,c.config))return c;throw Es.create("duplicate-app",{appName:o})}const u=new $S(o);for(const g of vp.values())u.addComponent(g);const m=new zR(n,s,u);return $h.set(o,m),m}function ag(r=_p){const e=$h.get(r);if(!e&&r===_p&&J1())return rE();if(!e)throw Es.create("no-app",{appName:r});return e}function Hr(r,e,n){let s=PR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(u.join(" "));return}wa(new As(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const BR="firebase-heartbeat-database",qR=1,Ec="firebase-heartbeat-store";let ep=null;function iE(){return ep||(ep=sR(BR,qR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(r=>{throw Es.create("idb-open",{originalErrorMessage:r.message})})),ep}async function HR(r){try{const n=(await iE()).transaction(Ec),s=await n.objectStore(Ec).get(sE(r));return await n.done,s}catch(e){if(e instanceof Xr)wi.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e?.message});wi.warn(n.message)}}}async function J0(r,e){try{const s=(await iE()).transaction(Ec,"readwrite");await s.objectStore(Ec).put(e,sE(r)),await s.done}catch(n){if(n instanceof Xr)wi.warn(n.message);else{const s=Es.create("idb-set",{originalErrorMessage:n?.message});wi.warn(s.message)}}}function sE(r){return`${r.name}!${r.options.appId}`}const FR=1024,GR=30;class $R{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>GR){const o=YR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Z0(),{heartbeatsToSend:n,unsentEntries:s}=KR(this._heartbeatsCache.heartbeats),o=Gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return wi.warn(e),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function KR(r,e=FR){const n=[];let s=r.slice();for(const o of r){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),eb(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),eb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return J0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return J0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eb(r){return Gh(JSON.stringify({version:2,heartbeats:r})).length}function YR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function XR(r){wa(new As("platform-logger",e=>new lR(e),"PRIVATE")),wa(new As("heartbeat",e=>new $R(e),"PRIVATE")),Hr(yp,X0,r),Hr(yp,X0,"esm2020"),Hr("fire-js","")}XR("");var WR="firebase",JR="12.9.0";Hr(WR,JR,"app");function aE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZR=aE,oE=new Oc("auth","Firebase",aE());const Kh=new ig("@firebase/auth");function eN(r,...e){Kh.logLevel<=je.WARN&&Kh.warn(`Auth (${Da}): ${r}`,...e)}function Dh(r,...e){Kh.logLevel<=je.ERROR&&Kh.error(`Auth (${Da}): ${r}`,...e)}function Jn(r,...e){throw lg(r,...e)}function fr(r,...e){return lg(r,...e)}function og(r,e,n){const s={...ZR(),[e]:n};return new Oc("auth","Firebase",s).create(e,{appName:r.name})}function xi(r){return og(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tN(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Jn(r,"argument-error"),og(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return oE.create(r,...e)}function ve(r,e,...n){if(!r)throw lg(e,...n)}function vi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Dh(e),new Error(e)}function Ai(r,e){r||vi(e)}function bp(){return typeof self<"u"&&self.location?.href||""}function nN(){return tb()==="http:"||tb()==="https:"}function tb(){return typeof self<"u"&&self.location?.protocol||null}function rN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nN()||IS()||"connection"in navigator)?navigator.onLine:!0}function iN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=RS()||DS()}get(){return rN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cg(r,e){Ai(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oN=new Mc(3e4,6e4);function Di(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Wr(r,e,n,s,o={}){return cE(r,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const m=jc({key:r.config.apiKey,...u}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return CS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Os(r.emulatorConfig.host)&&(y.credentials="include"),lE.fetch()(await uE(r,r.config.apiHost,n,m),y)})}async function cE(r,e,n){r._canInitEmulator=!1;const s={...sN,...e};try{const o=new cN(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw bh(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(r,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw bh(r,"email-already-in-use",u);if(g==="USER_DISABLED")throw bh(r,"user-disabled",u);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw og(r,E,y);Jn(r,E)}}catch(o){if(o instanceof Xr)throw o;Jn(r,"network-request-failed",{message:String(o)})}}async function kc(r,e,n,s,o={}){const c=await Wr(r,e,n,s,o);return"mfaPendingCredential"in c&&Jn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function uE(r,e,n,s){const o=`${e}${n}?${s}`,c=r,u=c.config.emulator?cg(r.config,o):`${r.config.apiScheme}://${o}`;return aN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function lN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fr(this.auth,"network-request-failed")),oN.get())})}}function bh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=fr(r,e,s);return o.customData._tokenResponse=n,o}function nb(r){return r!==void 0&&r.enterprise!==void 0}class uN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hN(r,e){return Wr(r,"GET","/v2/recaptchaConfig",Di(r,e))}async function dN(r,e){return Wr(r,"POST","/v1/accounts:delete",e)}async function Qh(r,e){return Wr(r,"POST","/v1/accounts:lookup",e)}function fc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fN(r,e=!1){const n=dt(r),s=await n.getIdToken(e),o=ug(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:fc(tp(o.auth_time)),issuedAtTime:fc(tp(o.iat)),expirationTime:fc(tp(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tp(r){return Number(r)*1e3}function ug(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Y1(n);return o?JSON.parse(o):(Dh("Failed to decode base64 JWT payload"),null)}catch(o){return Dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rb(r){const e=ug(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ko(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Xr&&mN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function mN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class pN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yh(r){const e=r.auth,n=await r.getIdToken(),s=await ko(r,Qh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?hE(o.providerUserInfo):[],u=yN(r.providerData,c),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!u?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function gN(r){const e=dt(r);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function _N(r,e){const n=await cE(r,{},async()=>{const s=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=await uE(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Os(r.emulatorConfig.host)&&(g.credentials="include"),lE.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vN(r,e){return Wr(r,"POST","/v2/accounts:revokeToken",Di(r,e))}class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=rb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await _N(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,u=new Co;return s&&(ve(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(ve(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return vi("not implemented")}}function ds(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class dr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new pN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ko(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fN(this,e)}reload(){return gN(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await ko(this,dN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:x,emailVerified:w,isAnonymous:j,providerData:G,stsTokenManager:B}=n;ve(x&&B,e,"internal-error");const P=Co.fromJSON(this.name,B);ve(typeof x=="string",e,"internal-error"),ds(s,e.name),ds(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof j=="boolean",e,"internal-error"),ds(c,e.name),ds(u,e.name),ds(m,e.name),ds(g,e.name),ds(y,e.name),ds(E,e.name);const Q=new dr({uid:x,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:j,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:P,createdAt:y,lastLoginAt:E});return G&&Array.isArray(G)&&(Q.providerData=G.map(W=>({...W}))),g&&(Q._redirectEventId=g),Q}static async _fromIdTokenResponse(e,n,s=!1){const o=new Co;o.updateFromServerResponse(n);const c=new dr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?hE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,m=new Co;m.updateFromIdToken(s);const g=new dr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const ib=new Map;function bi(r){Ai(r instanceof Function,"Expected a class definition");let e=ib.get(r);return e?(Ai(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ib.set(r,e),e)}class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dE.type="NONE";const sb=dE;function Oh(r,e,n){return`firebase:${r}:${e}:${n}`}class Io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Oh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Oh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qh(this.auth,{idToken:e}).catch(()=>{});return n?dr._fromGetAccountInfoResponse(this.auth,n,e):null}return dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Io(bi(sb),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||bi(sb);const u=Oh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(u);if(E){let x;if(typeof E=="string"){const w=await Qh(e,{idToken:E}).catch(()=>{});if(!w)break;x=await dr._fromGetAccountInfoResponse(e,w,E)}else x=dr._fromJSON(e,E);y!==c&&(m=x),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Io(c,e,s):(c=g[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new Io(c,e,s))}}function ab(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_E(e))return"Blackberry";if(vE(e))return"Webos";if(mE(e))return"Safari";if((e.includes("chrome/")||pE(e))&&!e.includes("edge/"))return"Chrome";if(yE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function fE(r=on()){return/firefox\//i.test(r)}function mE(r=on()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pE(r=on()){return/crios\//i.test(r)}function gE(r=on()){return/iemobile/i.test(r)}function yE(r=on()){return/android/i.test(r)}function _E(r=on()){return/blackberry/i.test(r)}function vE(r=on()){return/webos/i.test(r)}function hg(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bN(r=on()){return hg(r)&&!!window.navigator?.standalone}function EN(){return OS()&&document.documentMode===10}function bE(r=on()){return hg(r)||yE(r)||vE(r)||_E(r)||/windows phone/i.test(r)||gE(r)}function EE(r,e=[]){let n;switch(r){case"Browser":n=ab(on());break;case"Worker":n=`${ab(on())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Da}/${s}`}class xN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((u,m)=>{try{const g=e(c);u(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function TN(r,e={}){return Wr(r,"GET","/v2/passwordPolicy",Di(r,e))}const wN=6;class AN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class SN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ob(this),this.idTokenSubscription=new ob(this),this.beforeStateQueue=new xN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qh(this,{idToken:e}),s=await dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(xi(this));const n=e?dt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TN(this),n=new AN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await vN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&eN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oi(r){return dt(r)}class ob{constructor(e){this.auth=e,this.observer=null,this.addObserver=zS(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RN(r){_d=r}function xE(r){return _d.loadJS(r)}function NN(){return _d.recaptchaEnterpriseScript}function CN(){return _d.gapiScript}function IN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class DN{constructor(){this.enterprise=new ON}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ON{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jN="recaptcha-enterprise",TE="NO_RECAPTCHA";class MN{constructor(e){this.type=jN,this.auth=Oi(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{hN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new uN(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,u(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,u,m){const g=window.grecaptcha;nb(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{u(y)}).catch(()=>{u(TE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DN().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(m=>{if(!n&&nb(window.grecaptcha))o(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=NN();g.length!==0&&(g+=m),xE(g).then(()=>{o(m,c,u)}).catch(y=>{u(y)})}}).catch(m=>{u(m)})})}}async function lb(r,e,n,s=!1,o=!1){const c=new MN(r);let u;if(o)u=TE;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Xh(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await lb(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await lb(r,e,n,n==="getOobCode");return s(r,u)}else return Promise.reject(c)})}function kN(r,e){const n=yd(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ta(c,e??{}))return o;Jn(o,"already-initialized")}return n.initialize({options:e})}function VN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(bi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function PN(r,e,n){const s=Oi(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=wE(e),{host:u,port:m}=LN(e),g=m===null?"":`:${m}`,y={url:`${c}//${u}${g}/`},E=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ta(y,s.config.emulator)&&Ta(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Os(u)?(ng(`${c}//${u}${g}`),rg("Auth",!0)):UN()}function wE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LN(r){const e=wE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:cb(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:cb(u)}}}function cb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function UN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class dg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function zN(r,e){return Wr(r,"POST","/v1/accounts:signUp",e)}async function BN(r,e){return kc(r,"POST","/v1/accounts:signInWithPassword",Di(r,e))}async function qN(r,e){return Wr(r,"POST","/v1/accounts:sendOobCode",Di(r,e))}async function HN(r,e){return qN(r,e)}async function FN(r,e){return kc(r,"POST","/v1/accounts:signInWithEmailLink",Di(r,e))}async function GN(r,e){return kc(r,"POST","/v1/accounts:signInWithEmailLink",Di(r,e))}class xc extends dg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new xc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new xc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,n,"signInWithPassword",BN);case"emailLink":return FN(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xh(e,s,"signUpPassword",zN);case"emailLink":return GN(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Do(r,e){return kc(r,"POST","/v1/accounts:signInWithIdp",Di(r,e))}const $N="http://localhost";class Si extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const u=new Si(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Do(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:$N,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jc(n)}return e}}function KN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QN(r){const e=ac(oc(r)).link,n=e?ac(oc(e)).deep_link_id:null,s=ac(oc(r)).deep_link_id;return(s?ac(oc(s)).link:null)||s||n||e||r}class fg{constructor(e){const n=ac(oc(e)),s=n.apiKey??null,o=n.oobCode??null,c=KN(n.mode??null);ve(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=QN(e);try{return new fg(n)}catch{return null}}}class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fg.parseLink(n);return ve(s,"argument-error"),xc._fromEmailAndCode(e,s.code,s.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Go extends mg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mc extends Go{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ve("providerId"in n&&"signInMethod"in n,"argument-error"),Si._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ve(e.idToken||e.accessToken,"argument-error"),Si._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return mc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return mc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:u,providerId:m}=e;if(!s&&!o&&!n&&!c||!m)return null;try{return new mc(m)._credential({idToken:n,accessToken:s,nonce:u,pendingToken:c})}catch{return null}}}class fs extends Go{constructor(){super("facebook.com")}static credential(e){return Si._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";class _i extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Si._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return _i.credential(n,s)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";class ms extends Go{constructor(){super("github.com")}static credential(e){return Si._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";class ps extends Go{constructor(){super("twitter.com")}static credential(e,n){return Si._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";async function YN(r,e){return kc(r,"POST","/v1/accounts:signUp",Di(r,e))}class Aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await dr._fromIdTokenResponse(e,s,o),u=ub(s);return new Aa({user:c,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ub(s);return new Aa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ub(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Wh extends Xr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Wh(e,n,s,o)}}function AE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(r,c,e,s):c})}async function XN(r,e,n=!1){const s=await ko(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Aa._forOperation(r,"link",s)}async function WN(r,e,n=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(xi(s));const o="reauthenticate";try{const c=await ko(r,AE(s,o,e,r),n);ve(c.idToken,s,"internal-error");const u=ug(c.idToken);ve(u,s,"internal-error");const{sub:m}=u;return ve(r.uid===m,s,"user-mismatch"),Aa._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Jn(s,"user-mismatch"),c}}async function SE(r,e,n=!1){if(xn(r.app))return Promise.reject(xi(r));const s="signIn",o=await AE(r,s,e),c=await Aa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function JN(r,e){return SE(Oi(r),e)}async function RE(r){const e=Oi(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZN(r,e,n){const s=Oi(r);await Xh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",HN)}async function eC(r,e,n){if(xn(r.app))return Promise.reject(xi(r));const s=Oi(r),u=await Xh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&RE(r),g}),m=await Aa._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(m.user),m}function tC(r,e,n){return xn(r.app)?Promise.reject(xi(r)):JN(dt(r),Fo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&RE(r),s})}async function nC(r,e){return Wr(r,"POST","/v1/accounts:update",e)}async function rC(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=dt(r),c={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await ko(s,nC(s.auth,c));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function iC(r,e,n,s){return dt(r).onIdTokenChanged(e,n,s)}function sC(r,e,n){return dt(r).beforeAuthStateChanged(e,n)}function aC(r,e,n,s){return dt(r).onAuthStateChanged(e,n,s)}function oC(r){return dt(r).signOut()}const Jh="__sak";class NE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const lC=1e3,cC=10;class CE extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,g)=>{this.notifyListeners(u,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);EN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CE.type="LOCAL";const uC=CE;class IE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IE.type="SESSION";const DE=IE;function hC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new vd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(u).map(async y=>y(n.origin,c)),g=await hC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];function pg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class dC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,g)=>{const y=pg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(x){const w=x;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Fr(){return window}function fC(r){Fr().location.href=r}function OE(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function mC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pC(){return navigator?.serviceWorker?.controller||null}function gC(){return OE()?self:null}const jE="firebaseLocalStorageDb",yC=1,Zh="firebaseLocalStorage",ME="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(r,e){return r.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function _C(){const r=indexedDB.deleteDatabase(jE);return new Vc(r).toPromise()}function xp(){const r=indexedDB.open(jE,yC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Zh,{keyPath:ME})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Zh)?e(s):(s.close(),await _C(),e(await xp()))})})}async function hb(r,e,n){const s=bd(r,!0).put({[ME]:e,value:n});return new Vc(s).toPromise()}async function vC(r,e){const n=bd(r,!1).get(e),s=await new Vc(n).toPromise();return s===void 0?null:s.value}function db(r,e){const n=bd(r,!0).delete(e);return new Vc(n).toPromise()}const bC=800,EC=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>EC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(gC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xp();return await hb(e,Jh,"1"),await db(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>vC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>db(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=bd(o,!1).getAll();return new Vc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const xC=kE;new Mc(3e4,6e4);function VE(r,e){return e?bi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class gg extends dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TC(r){return SE(r.auth,new gg(r),r.bypassAuthState)}function wC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),WN(n,new gg(r),r.bypassAuthState)}async function AC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),XN(n,new gg(r),r.bypassAuthState)}class PE{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TC;case"linkViaPopup":case"linkViaRedirect":return AC;case"reauthViaPopup":case"reauthViaRedirect":return wC;default:Jn(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SC=new Mc(2e3,1e4);async function fb(r,e,n){if(xn(r.app))return Promise.reject(fr(r,"operation-not-supported-in-this-environment"));const s=Oi(r);tN(r,e,mg);const o=VE(s,n);return new ya(s,"signInViaPopup",e,o).executeNotNull()}class ya extends PE{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SC.get())};e()}}ya.currentPopupAction=null;const RC="pendingRedirect",jh=new Map;class NC extends PE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const s=await CC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CC(r,e){const n=OC(e),s=DC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function IC(r,e){jh.set(r._key(),e)}function DC(r){return bi(r._redirectPersistence)}function OC(r){return Oh(RC,r.config.apiKey,r.name)}async function jC(r,e,n=!1){if(xn(r.app))return Promise.reject(xi(r));const s=Oi(r),o=VE(s,e),u=await new NC(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const MC=600*1e3;class kC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MC&&this.cachedEventUids.clear(),this.cachedEventUids.has(mb(e))}saveEventToCache(e){this.cachedEventUids.add(mb(e)),this.lastProcessedEventTime=Date.now()}}function mb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function VC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(r);default:return!1}}async function PC(r,e={}){return Wr(r,"GET","/v1/projects",e)}const LC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UC=/^https?/;async function zC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await PC(r);for(const n of e)try{if(BC(n))return}catch{}Jn(r,"unauthorized-domain")}function BC(r){const e=bp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!UC.test(n))return!1;if(LC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const qC=new Mc(3e4,6e4);function pb(){const r=Fr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function HC(r){return new Promise((e,n)=>{function s(){pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pb(),n(fr(r,"network-request-failed"))},timeout:qC.get()})}if(Fr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fr().gapi?.load)s();else{const o=IN("iframefcb");return Fr()[o]=()=>{gapi.load?s():n(fr(r,"network-request-failed"))},xE(`${CN()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Mh=null,e})}let Mh=null;function FC(r){return Mh=Mh||HC(r),Mh}const GC=new Mc(5e3,15e3),$C="__/auth/iframe",KC="emulator/auth/iframe",QC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?cg(e,KC):`https://${r.config.authDomain}/${$C}`,s={apiKey:e.apiKey,appName:r.name,v:Da},o=YC.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${jc(s).slice(1)}`}async function WC(r){const e=await FC(r),n=Fr().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:XC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QC,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=fr(r,"network-request-failed"),m=Fr().setTimeout(()=>{c(u)},GC.get());function g(){Fr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{c(u)})}))}const JC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZC=500,eI=600,tI="_blank",nI="http://localhost";class gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rI(r,e,n,s=ZC,o=eI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...JC,width:s.toString(),height:o.toString(),top:c,left:u},y=on().toLowerCase();n&&(m=pE(y)?tI:n),fE(y)&&(e=e||nI,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[j,G])=>`${w}${j}=${G},`,"");if(bN(y)&&m!=="_self")return iI(e||"",m),new gb(null);const x=window.open(e||"",m,E);ve(x,r,"popup-blocked");try{x.focus()}catch{}return new gb(x)}function iI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const sI="__/auth/handler",aI="emulator/auth/handler",oI=encodeURIComponent("fac");async function yb(r,e,n,s,o,c){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Da,eventId:o};if(e instanceof mg){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",US(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,x]of Object.entries({}))u[E]=x}if(e instanceof Go){const E=e.getScopes().filter(x=>x!=="");E.length>0&&(u.scopes=E.join(","))}r.tenantId&&(u.tid=r.tenantId);const m=u;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${oI}=${encodeURIComponent(g)}`:"";return`${lI(r)}?${jc(m).slice(1)}${y}`}function lI({config:r}){return r.emulator?cg(r,aI):`https://${r.authDomain}/${sI}`}const np="webStorageSupport";class cI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=jC,this._overrideRedirectResult=IC}async _openPopup(e,n,s,o){Ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await yb(e,n,s,bp(),o);return rI(e,c,pg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await yb(e,n,s,bp(),o);return fC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ai(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await WC(e),s=new kC(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},o=>{const c=o?.[0]?.[np];c!==void 0&&n(!!c),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bE()||mE()||hg()}}const uI=cI;var _b="@firebase/auth",vb="1.12.0";class hI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fI(r){wa(new As("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;ve(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:u,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EE(r)},y=new SN(s,o,c,g);return VN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),wa(new As("auth-internal",e=>{const n=Oi(e.getProvider("auth").getImmediate());return(s=>new hI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(_b,vb,dI(r)),Hr(_b,vb,"esm2020")}const mI=300,pI=Z1("authIdTokenMaxAge")||mI;let bb=null;const gI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pI)return;const o=n?.token;bb!==o&&(bb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yI(r=ag()){const e=yd(r,"auth");if(e.isInitialized())return e.getImmediate();const n=kN(r,{popupRedirectResolver:uI,persistence:[xC,uC,DE]}),s=Z1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=gI(c.toString());sC(n,u,()=>u(n.currentUser)),iC(n,m=>u(m))}}const o=X1("auth");return o&&PN(n,`http://${o}`),n}function _I(){return document.getElementsByTagName("head")?.[0]??document}RN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=fr("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",_I().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fI("Browser");var Eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xs,UE;(function(){var r;function e(N,R){function S(){}S.prototype=R.prototype,N.F=R.prototype,N.prototype=new S,N.prototype.constructor=N,N.D=function(O,D,L){for(var C=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)C[ot-2]=arguments[ot];return R.prototype[D].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,S){S||(S=0);const O=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)O[D]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(D=0;D<16;++D)O[D]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=N.g[0],S=N.g[1],D=N.g[2];let L=N.g[3],C;C=R+(L^S&(D^L))+O[0]+3614090360&4294967295,R=S+(C<<7&4294967295|C>>>25),C=L+(D^R&(S^D))+O[1]+3905402710&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(S^L&(R^S))+O[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=S+(R^D&(L^R))+O[3]+3250441966&4294967295,S=D+(C<<22&4294967295|C>>>10),C=R+(L^S&(D^L))+O[4]+4118548399&4294967295,R=S+(C<<7&4294967295|C>>>25),C=L+(D^R&(S^D))+O[5]+1200080426&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(S^L&(R^S))+O[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=S+(R^D&(L^R))+O[7]+4249261313&4294967295,S=D+(C<<22&4294967295|C>>>10),C=R+(L^S&(D^L))+O[8]+1770035416&4294967295,R=S+(C<<7&4294967295|C>>>25),C=L+(D^R&(S^D))+O[9]+2336552879&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(S^L&(R^S))+O[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=S+(R^D&(L^R))+O[11]+2304563134&4294967295,S=D+(C<<22&4294967295|C>>>10),C=R+(L^S&(D^L))+O[12]+1804603682&4294967295,R=S+(C<<7&4294967295|C>>>25),C=L+(D^R&(S^D))+O[13]+4254626195&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(S^L&(R^S))+O[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=S+(R^D&(L^R))+O[15]+1236535329&4294967295,S=D+(C<<22&4294967295|C>>>10),C=R+(D^L&(S^D))+O[1]+4129170786&4294967295,R=S+(C<<5&4294967295|C>>>27),C=L+(S^D&(R^S))+O[6]+3225465664&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^S&(L^R))+O[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=S+(L^R&(D^L))+O[0]+3921069994&4294967295,S=D+(C<<20&4294967295|C>>>12),C=R+(D^L&(S^D))+O[5]+3593408605&4294967295,R=S+(C<<5&4294967295|C>>>27),C=L+(S^D&(R^S))+O[10]+38016083&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^S&(L^R))+O[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=S+(L^R&(D^L))+O[4]+3889429448&4294967295,S=D+(C<<20&4294967295|C>>>12),C=R+(D^L&(S^D))+O[9]+568446438&4294967295,R=S+(C<<5&4294967295|C>>>27),C=L+(S^D&(R^S))+O[14]+3275163606&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^S&(L^R))+O[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=S+(L^R&(D^L))+O[8]+1163531501&4294967295,S=D+(C<<20&4294967295|C>>>12),C=R+(D^L&(S^D))+O[13]+2850285829&4294967295,R=S+(C<<5&4294967295|C>>>27),C=L+(S^D&(R^S))+O[2]+4243563512&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^S&(L^R))+O[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=S+(L^R&(D^L))+O[12]+2368359562&4294967295,S=D+(C<<20&4294967295|C>>>12),C=R+(S^D^L)+O[5]+4294588738&4294967295,R=S+(C<<4&4294967295|C>>>28),C=L+(R^S^D)+O[8]+2272392833&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^S)+O[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=S+(D^L^R)+O[14]+4259657740&4294967295,S=D+(C<<23&4294967295|C>>>9),C=R+(S^D^L)+O[1]+2763975236&4294967295,R=S+(C<<4&4294967295|C>>>28),C=L+(R^S^D)+O[4]+1272893353&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^S)+O[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=S+(D^L^R)+O[10]+3200236656&4294967295,S=D+(C<<23&4294967295|C>>>9),C=R+(S^D^L)+O[13]+681279174&4294967295,R=S+(C<<4&4294967295|C>>>28),C=L+(R^S^D)+O[0]+3936430074&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^S)+O[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=S+(D^L^R)+O[6]+76029189&4294967295,S=D+(C<<23&4294967295|C>>>9),C=R+(S^D^L)+O[9]+3654602809&4294967295,R=S+(C<<4&4294967295|C>>>28),C=L+(R^S^D)+O[12]+3873151461&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^S)+O[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=S+(D^L^R)+O[2]+3299628645&4294967295,S=D+(C<<23&4294967295|C>>>9),C=R+(D^(S|~L))+O[0]+4096336452&4294967295,R=S+(C<<6&4294967295|C>>>26),C=L+(S^(R|~D))+O[7]+1126891415&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~S))+O[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=S+(L^(D|~R))+O[5]+4237533241&4294967295,S=D+(C<<21&4294967295|C>>>11),C=R+(D^(S|~L))+O[12]+1700485571&4294967295,R=S+(C<<6&4294967295|C>>>26),C=L+(S^(R|~D))+O[3]+2399980690&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~S))+O[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=S+(L^(D|~R))+O[1]+2240044497&4294967295,S=D+(C<<21&4294967295|C>>>11),C=R+(D^(S|~L))+O[8]+1873313359&4294967295,R=S+(C<<6&4294967295|C>>>26),C=L+(S^(R|~D))+O[15]+4264355552&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~S))+O[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=S+(L^(D|~R))+O[13]+1309151649&4294967295,S=D+(C<<21&4294967295|C>>>11),C=R+(D^(S|~L))+O[4]+4149444226&4294967295,R=S+(C<<6&4294967295|C>>>26),C=L+(S^(R|~D))+O[11]+3174756917&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~S))+O[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=S+(L^(D|~R))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const S=R-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=S;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(O[D++]=N.charCodeAt(L++),D==this.blockSize){o(this,O),D=0;break}}else for(;L<R;)if(O[D++]=N[L++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,S=0;S<4;++S)for(let O=0;O<32;O+=8)N[R++]=this.g[S]>>>O&255;return N};function c(N,R){var S=m;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=R(N)}function u(N,R){this.h=R;const S=[];let O=!0;for(let D=N.length-1;D>=0;D--){const L=N[D]|0;O&&L==R||(S[D]=L,O=!1)}this.g=S}var m={};function g(N){return-128<=N&&N<128?c(N,function(R){return new u([R|0],R<0?-1:0)}):new u([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return P(y(-N));const R=[];let S=1;for(let O=0;N>=S;O++)R[O]=N/S|0,S*=4294967296;return new u(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return P(E(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=y(Math.pow(R,8));let O=x;for(let L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L);const C=parseInt(N.substring(L,L+D),R);D<8?(D=y(Math.pow(R,D)),O=O.j(D).add(y(C))):(O=O.j(S),O=O.add(y(C)))}return O}var x=g(0),w=g(1),j=g(16777216);r=u.prototype,r.m=function(){if(B(this))return-P(this).m();let N=0,R=1;for(let S=0;S<this.g.length;S++){const O=this.i(S);N+=(O>=0?O:4294967296+O)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(B(this))return"-"+P(this).toString(N);const R=y(Math.pow(N,6));var S=this;let O="";for(;;){const D=le(S,R).g;S=Q(S,D.j(R));let L=((S.g.length>0?S.g[0]:S.h)>>>0).toString(N);if(S=D,G(S))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function B(N){return N.h==-1}r.l=function(N){return N=Q(this,N),B(N)?-1:G(N)?0:1};function P(N){const R=N.g.length,S=[];for(let O=0;O<R;O++)S[O]=~N.g[O];return new u(S,~N.h).add(w)}r.abs=function(){return B(this)?P(this):this},r.add=function(N){const R=Math.max(this.g.length,N.g.length),S=[];let O=0;for(let D=0;D<=R;D++){let L=O+(this.i(D)&65535)+(N.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=C>>>16,L&=65535,C&=65535,S[D]=C<<16|L}return new u(S,S[S.length-1]&-2147483648?-1:0)};function Q(N,R){return N.add(P(R))}r.j=function(N){if(G(this)||G(N))return x;if(B(this))return B(N)?P(this).j(P(N)):P(P(this).j(N));if(B(N))return P(this.j(P(N)));if(this.l(j)<0&&N.l(j)<0)return y(this.m()*N.m());const R=this.g.length+N.g.length,S=[];for(var O=0;O<2*R;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const L=this.i(O)>>>16,C=this.i(O)&65535,ot=N.i(D)>>>16,Pt=N.i(D)&65535;S[2*O+2*D]+=C*Pt,W(S,2*O+2*D),S[2*O+2*D+1]+=L*Pt,W(S,2*O+2*D+1),S[2*O+2*D+1]+=C*ot,W(S,2*O+2*D+1),S[2*O+2*D+2]+=L*ot,W(S,2*O+2*D+2)}for(N=0;N<R;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=R;N<2*R;N++)S[N]=0;return new u(S,0)};function W(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function re(N,R){this.g=N,this.h=R}function le(N,R){if(G(R))throw Error("division by zero");if(G(N))return new re(x,x);if(B(N))return R=le(P(N),R),new re(P(R.g),P(R.h));if(B(R))return R=le(N,P(R)),new re(P(R.g),R.h);if(N.g.length>30){if(B(N)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var S=w,O=R;O.l(N)<=0;)S=ie(S),O=ie(O);var D=fe(S,1),L=fe(O,1);for(O=fe(O,2),S=fe(S,2);!G(O);){var C=L.add(O);C.l(N)<=0&&(D=D.add(S),L=C),O=fe(O,1),S=fe(S,1)}return R=Q(N,D.j(R)),new re(D,R)}for(D=x;N.l(R)>=0;){for(S=Math.max(1,Math.floor(N.m()/R.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=y(S),C=L.j(R);B(C)||C.l(N)>0;)S-=O,L=y(S),C=L.j(R);G(L)&&(L=w),D=D.add(L),N=Q(N,C)}return new re(D,N)}r.B=function(N){return le(this,N).h},r.and=function(N){const R=Math.max(this.g.length,N.g.length),S=[];for(let O=0;O<R;O++)S[O]=this.i(O)&N.i(O);return new u(S,this.h&N.h)},r.or=function(N){const R=Math.max(this.g.length,N.g.length),S=[];for(let O=0;O<R;O++)S[O]=this.i(O)|N.i(O);return new u(S,this.h|N.h)},r.xor=function(N){const R=Math.max(this.g.length,N.g.length),S=[];for(let O=0;O<R;O++)S[O]=this.i(O)^N.i(O);return new u(S,this.h^N.h)};function ie(N){const R=N.g.length+1,S=[];for(let O=0;O<R;O++)S[O]=N.i(O)<<1|N.i(O-1)>>>31;return new u(S,N.h)}function fe(N,R){const S=R>>5;R%=32;const O=N.g.length-S,D=[];for(let L=0;L<O;L++)D[L]=R>0?N.i(L+S)>>>R|N.i(L+S+1)<<32-R:N.i(L+S);return new u(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,UE=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=E,xs=u}).apply(typeof Eb<"u"?Eb:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zE,lc,BE,kh,Tp,qE,HE,FE;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(h,_){if(_)e:{var b=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var z=h[A];if(!(z in b))break e;b=b[z]}h=h[h.length-1],A=b[h],_=_(A),_!=A&&_!=null&&e(b,h,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(_){var b=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&b.push([A,_[A]]);return b}});var c=c||{},u=this||self;function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,b){return h.call.apply(h.bind,arguments)}function y(h,_,b){return y=g,y.apply(null,arguments)}function E(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function x(h,_){function b(){}b.prototype=_.prototype,h.Z=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(A,z,$){for(var se=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)se[Ae-2]=arguments[Ae];return _.prototype[z].apply(A,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function j(h){const _=h.length;if(_>0){const b=Array(_);for(let A=0;A<_;A++)b[A]=h[A];return b}return[]}function G(h,_){for(let A=1;A<arguments.length;A++){const z=arguments[A];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=h.length||0;const $=z.length||0;h.length=b+$;for(let se=0;se<$;se++)h[b+se]=z[se]}else h.push(z)}}class B{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(h){u.setTimeout(()=>{throw h},0)}function Q(){var h=N;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,b){const A=re.get();A.set(_,b),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new B(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,fe=!1,N=new W,R=()=>{const h=Promise.resolve(void 0);ie=()=>{h.then(S)}};function S(){for(var h;h=Q();){try{h.h.call(h.g)}catch(b){P(b)}var _=re;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}fe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function ot(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}x(ot,D),ot.prototype.init=function(h,_){const b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(h,_,b,A,z){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!A,this.ha=z,this.key=++X,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Be(h,_,b){for(const A in h)_.call(b,h[A],A,h)}function Ke(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function V(h){const _={};for(const b in h)_[b]=h[b];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,_){let b,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(b in A)h[b]=A[b];for(let $=0;$<te.length;$++)b=te[$],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,_,b,A,z){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const se=Re(h,_,A,z);return se>-1?(_=h[se],b||(_.fa=!1)):(_=new ae(_,this.src,$,!!A,z),_.fa=b,h.push(_)),_};function Ee(h,_){const b=_.type;if(b in h.g){var A=h.g[b],z=Array.prototype.indexOf.call(A,_,void 0),$;($=z>=0)&&Array.prototype.splice.call(A,z,1),$&&(ye(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Re(h,_,b,A){for(let z=0;z<h.length;++z){const $=h[z];if(!$.da&&$.listener==_&&$.capture==!!b&&$.ha==A)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Lt={};function lt(h,_,b,A,z){if(Array.isArray(_)){for(let $=0;$<_.length;$++)lt(h,_[$],b,A,z);return null}return b=Zo(b),h&&h[Pt]?h.J(_,b,m(A)?!!A.capture:!1,z):Ls(h,_,b,!1,A,z)}function Ls(h,_,b,A,z,$){if(!_)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let Ae=Us(h);if(Ae||(h[Ue]=Ae=new he(h)),b=Ae.add(_,b,A,se,$),b.proxy)return b;if(A=ka(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)L||(z=se),z===void 0&&(z=!1),h.addEventListener(_.toString(),A,z);else if(h.attachEvent)h.attachEvent(_r(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ka(){function h(b){return _.call(h.src,h.listener,b)}const _=Wo;return h}function Va(h,_,b,A,z){if(Array.isArray(_))for(var $=0;$<_.length;$++)Va(h,_[$],b,A,z);else A=m(A)?!!A.capture:!!A,b=Zo(b),h&&h[Pt]?(h=h.i,$=String(_).toString(),$ in h.g&&(_=h.g[$],b=Re(_,b,A,z),b>-1&&(ye(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete h.g[$],h.h--)))):h&&(h=Us(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Re(_,b,A,z)),(b=h>-1?_[h]:null)&&Pa(b))}function Pa(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Pt])Ee(_.i,h);else{var b=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(b,A,h.capture):_.detachEvent?_.detachEvent(_r(b),A):_.addListener&&_.removeListener&&_.removeListener(A),(b=Us(_))?(Ee(b,h),b.h==0&&(b.src=null,_[Ue]=null)):ye(h)}}}function _r(h){return h in Lt?Lt[h]:Lt[h]="on"+h}function Wo(h,_){if(h.da)h=!0;else{_=new ot(_,this);const b=h.listener,A=h.ha||h.src;h.fa&&Pa(h),h=b.call(A,_)}return h}function Us(h){return h=h[Ue],h instanceof he?h:null}var Jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zo(h){return typeof h=="function"?h:(h[Jo]||(h[Jo]=function(_){return h.handleEvent(_)}),h[Jo])}function wt(){O.call(this),this.i=new he(this),this.M=this,this.G=null}x(wt,O),wt.prototype[Pt]=!0,wt.prototype.removeEventListener=function(h,_,b,A){Va(this,h,_,b,A)};function Ut(h,_){var b,A=h.G;if(A)for(b=[];A;A=A.G)b.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var z=_;_=new D(A,h),oe(_,z)}z=!0;let $,se;if(b)for(se=b.length-1;se>=0;se--)$=_.g=b[se],z=ji($,A,!0,_)&&z;if($=_.g=h,z=ji($,A,!0,_)&&z,z=ji($,A,!1,_)&&z,b)for(se=0;se<b.length;se++)$=_.g=b[se],z=ji($,A,!1,_)&&z}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const b=h.g[_];for(let A=0;A<b.length;A++)ye(b[A]);delete h.g[_],h.h--}}this.G=null},wt.prototype.J=function(h,_,b,A){return this.i.add(String(h),_,!1,b,A)},wt.prototype.K=function(h,_,b,A){return this.i.add(String(h),_,!0,b,A)};function ji(h,_,b,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let z=!0;for(let $=0;$<_.length;++$){const se=_[$];if(se&&!se.da&&se.capture==b){const Ae=se.listener,vt=se.ha||se.src;se.fa&&Ee(h.i,se),z=Ae.call(vt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Bd(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Fc(h){h.g=Bd(()=>{h.g=null,h.i&&(h.i=!1,Fc(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class ln extends O{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Fc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(h){O.call(this),this.h=h,this.g={}}x(zs,O);var el=[];function tl(h){Be(h.g,function(_,b){this.g.hasOwnProperty(b)&&Pa(_)},h),h.g={}}zs.prototype.N=function(){zs.Z.N.call(this),tl(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=u.JSON.stringify,qd=u.JSON.parse,Gc=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function $c(){}function Kc(){}var er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){D.call(this,"d")}x(Kt,D);function Vn(){D.call(this,"c")}x(Vn,D);var _t={},Qc=null;function La(){return Qc=Qc||new wt}_t.Ia="serverreachability";function Yc(h){D.call(this,_t.Ia,h)}x(Yc,D);function vr(h){const _=La();Ut(_,new Yc(_))}_t.STAT_EVENT="statevent";function Bs(h,_){D.call(this,_t.STAT_EVENT,h),this.stat=_}x(Bs,D);function At(h){const _=La();Ut(_,new Bs(_,h))}_t.Ja="timingevent";function br(h,_){D.call(this,_t.Ja,h),this.size=_}x(br,D);function Er(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function tr(){this.g=!0}tr.prototype.ua=function(){this.g=!1};function Hd(h,_,b,A,z,$){h.info(function(){if(h.g)if($){var se="",Ae=$.split("&");for(let Fe=0;Fe<Ae.length;Fe++){var vt=Ae[Fe].split("=");if(vt.length>1){const ct=vt[0];vt=vt[1];const zn=ct.split("_");se=zn.length>=2&&zn[1]=="type"?se+(ct+"="+vt+"&"):se+(ct+"=redacted&")}}}else se=null;else se=$;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+_+`
`+b+`
`+se})}function Xc(h,_,b,A,z,$,se){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+_+`
`+b+`
`+$+" "+se})}function xr(h,_,b,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Fd(h,b)+(A?" "+A:"")})}function qs(h,_){h.info(function(){return"TIMEOUT: "+_})}tr.prototype.info=function(){};function Fd(h,_){if(!h.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var b=$[h];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Mi($)}catch{return _}}var Hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rl;function Fs(){}x(Fs,$c),Fs.prototype.g=function(){return new XMLHttpRequest},rl=new Fs;function Jr(h){return encodeURIComponent(String(h))}function Wc(h){var _=1;h=h.split(":");const b=[];for(;_>0&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function nr(h,_,b,A){this.j=h,this.i=_,this.l=b,this.S=A||1,this.V=new zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}var St={},Ht={};function Tr(h,_,b){h.M=1,h.A=Gs(Nt(_)),h.u=b,h.R=!0,Ua(h,null)}function Ua(h,_){h.F=Date.now(),wr(h),h.B=Nt(h.A);var b=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ha(b.i,"t",A),h.C=0,b=h.j.L,h.h=new rr,h.g=du(h.j,b?_:null,!h.u),h.P>0&&(h.O=new ln(y(h.Y,h,h.g),h.P)),_=h.V,b=h.g,A=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(el[0]=z.toString()),z=el);for(let $=0;$<z.length;$++){const se=lt(b,z[$],A||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),vr(),Hd(h.i,h.v,h.B,h.l,h.S,h.u)}nr.prototype.ba=function(h){h=h.target;const _=this.O;_&&ar(h)==3?_.j():this.Y(h)},nr.prototype.Y=function(h){try{if(h==this.g)e:{const Ae=ar(this.g),vt=this.g.ya(),Fe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ae!=4||vt==7||(vt==8||Fe<=0?vr(3):vr(2)),Ar(this);var _=this.g.ca();this.X=_;var b=Gd(this);if(this.o=_==200,Xc(this.i,this.v,this.B,this.l,this.S,Ae,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var $=A;break t}}$=null}if(h=$)xr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sr(this,h);else{this.o=!1,this.m=3,At(12),Tn(this),Pn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=Zc(this,b),ct==Ht){Ae==4&&(this.m=4,At(14),h=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==St){this.m=4,At(15),xr(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else xr(this.i,this.l,ct,null),Sr(this,ct);if(Jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||b.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)xr(this.i,this.l,b,"[Invalid Chunked Response]"),Tn(this),Pn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),_l(se),se.P=!0,At(11))}}else xr(this.i,this.l,b,null),Sr(this,b);Ae==4&&Tn(this),this.o&&!this.K&&(Ae==4?lu(this.j,this):(this.o=!1,wr(this)))}else ei(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Tn(this),Pn(this)}}}catch{}};function Gd(h){if(!Jc(h))return h.g.la();const _=Qt(h.g);if(_==="")return"";let b="";const A=_.length,z=ar(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),Pn(h),"";h.h.i=new u.TextDecoder}for(let $=0;$<A;$++)h.h.h=!0,b+=h.h.i.decode(_[$],{stream:!(z&&$==A-1)});return _.length=0,h.h.g+=b,h.C=0,h.h.g}function Jc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zc(h,_){var b=h.C,A=_.indexOf(`
`,b);return A==-1?Ht:(b=Number(_.substring(b,A)),isNaN(b)?St:(A+=1,A+b>_.length?Ht:(_=_.slice(A,A+b),h.C=A+b,_)))}nr.prototype.cancel=function(){this.K=!0,Tn(this)};function wr(h){h.T=Date.now()+h.H,za(h,h.H)}function za(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Er(y(h.aa,h),_)}function Ar(h){h.D&&(u.clearTimeout(h.D),h.D=null)}nr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(qs(this.i,this.B),this.M!=2&&(vr(),At(17)),Tn(this),this.m=2,Pn(this)):za(this,this.T-h)};function Pn(h){h.j.I==0||h.K||lu(h.j,h)}function Tn(h){Ar(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,tl(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Sr(h,_){try{var b=h.j;if(b.I!=0&&(b.g==h||Nr(b.h,h))){if(!h.L&&Nr(b.h,h)&&b.I==3){try{var A=b.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Qa(b),qi(b);else break e;Js(b),At(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Er(y(b.Va,b),6e3));Rr(b.h)<=1&&b.ta&&(b.ta=void 0)}else Mr(b,11)}else if((h.L||b.g==h)&&Qa(b),!C(_))for(z=b.Ba.g.parse(_),_=0;_<z.length;_++){let Fe=z[_];const ct=Fe[0];if(!(ct<=b.K))if(b.K=ct,Fe=Fe[1],b.I==2)if(Fe[0]=="c"){b.M=Fe[1],b.ba=Fe[2];const zn=Fe[3];zn!=null&&(b.ka=zn,b.j.info("VER="+b.ka));const kr=Fe[4];kr!=null&&(b.za=kr,b.j.info("SVER="+b.za));const or=Fe[5];or!=null&&typeof or=="number"&&or>0&&(A=1.5*or,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const lr=h.g;if(lr){const Zs=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var $=A.h;$.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(al($,$.h),$.h=null))}if(A.G){const Ya=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(A.wa=Ya,Qe(A.J,A.G,Ya))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var se=h;if(A.na=hu(A,A.L?A.ba:null,A.W),se.L){ol(A.h,se);var Ae=se,vt=A.O;vt&&(Ae.H=vt),Ae.D&&(Ar(Ae),wr(Ae)),A.g=se}else au(A);b.i.length>0&&jr(b)}else Fe[0]!="stop"&&Fe[0]!="close"||Mr(b,7);else b.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Mr(b,7):gl(b):Fe[0]!="noop"&&b.l&&b.l.qa(Fe),b.A=0)}}vr(4)}catch{}}var Rt=class{constructor(h,_){this.g=h,this.map=_}};function il(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Rr(h){return h.h?1:h.g?h.g.size:0}function Nr(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function al(h,_){h.g?h.g.add(_):h.h=_}function ol(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}il.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ll(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.G);return _}return j(h.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,_){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const A=h[b].indexOf("=");let z,$=null;A>=0?(z=h[b].substring(0,A),$=h[b].substring(A+1)):z=h[b],_(z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof wn?(this.l=h.l,Ft(this,h.j),this.o=h.o,this.g=h.g,ki(this,h.u),this.h=h.h,cl(this,iu(h.i)),this.m=h.m):h&&(_=String(h).match(eu))?(this.l=!1,Ft(this,_[1]||"",!0),this.o=Cr(_[2]||""),this.g=Cr(_[3]||"",!0),ki(this,_[4]),this.h=Cr(_[5]||"",!0),cl(this,_[6]||"",!0),this.m=Cr(_[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}wn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push($s(_,qa,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push($s(_,qa,!0),"@"),h.push(Jr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push($s(b,b.charAt(0)=="/"?ul:tu,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",$s(b,nu)),h.join("")},wn.prototype.resolve=function(h){const _=Nt(this);let b=!!h.j;b?Ft(_,h.j):b=!!h.o,b?_.o=h.o:b=!!h.g,b?_.g=h.g:b=h.u!=null;var A=h.h;if(b)ki(_,h.u);else if(b=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=_.h.lastIndexOf("/");z!=-1&&(A=_.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const $=[];for(let se=0;se<z.length;){const Ae=z[se++];Ae=="."?A&&se==z.length&&$.push(""):Ae==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&se==z.length&&$.push("")):($.push(Ae),A=!0)}A=$.join("/")}else A=z}return b?_.h=A:b=h.i.toString()!=="",b?cl(_,iu(h.i)):b=!!h.m,b&&(_.m=h.m),_};function Nt(h){return new wn(h)}function Ft(h,_,b){h.j=b?Cr(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function ki(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function cl(h,_,b){_ instanceof Pi?(h.i=_,Fa(h.i,h.l)):(b||(_=$s(_,Vi)),h.i=new Pi(_,h.l))}function Qe(h,_,b){h.i.set(_,b)}function Gs(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Cr(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $s(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,fn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qa=/[#\/\?@]/g,tu=/[#\?:]/g,ul=/[#\?]/g,Vi=/[#\?@]/g,nu=/#/g;function Pi(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function mn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}r=Pi.prototype,r.add=function(h,_){mn(this),this.i=null,h=Li(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function ru(h,_){mn(h),_=Li(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function hl(h,_){return mn(h),_=Li(h,_),h.g.has(_)}r.forEach=function(h,_){mn(this),this.g.forEach(function(b,A){b.forEach(function(z){h.call(_,z,A,this)},this)},this)};function dl(h,_){mn(h);let b=[];if(typeof _=="string")hl(h,_)&&(b=b.concat(h.g.get(Li(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)b=b.concat(h[_]);return b}r.set=function(h,_){return mn(this),this.i=null,h=Li(this,h),hl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},r.get=function(h,_){return h?(h=dl(this,h),h.length>0?String(h[0]):_):_};function Ha(h,_,b){ru(h,_),b.length>0&&(h.i=null,h.g.set(Li(h,_),j(b)),h.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var b=_[A];const z=Jr(b);b=dl(this,b);for(let $=0;$<b.length;$++){let se=z;b[$]!==""&&(se+="="+Jr(b[$])),h.push(se)}}return this.i=h.join("&")};function iu(h){const _=new Pi;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Li(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Fa(h,_){_&&!h.j&&(mn(h),h.i=null,h.g.forEach(function(b,A){const z=A.toLowerCase();A!=z&&(ru(this,A),Ha(this,z,b))},h)),h.j=_}function ir(h,_){const b=new tr;if(u.Image){const A=new Image;A.onload=E(Ln,b,"TestLoadImage: loaded",!0,_,A),A.onerror=E(Ln,b,"TestLoadImage: error",!1,_,A),A.onabort=E(Ln,b,"TestLoadImage: abort",!1,_,A),A.ontimeout=E(Ln,b,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function fl(h,_){const b=new tr,A=new AbortController,z=setTimeout(()=>{A.abort(),Ln(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then($=>{clearTimeout(z),$.ok?Ln(b,"TestPingServer: ok",!0,_):Ln(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),Ln(b,"TestPingServer: error",!1,_)})}function Ln(h,_,b,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(b)}catch{}}function Ui(){this.g=new Gc}function Ir(h){this.i=h.Sb||null,this.h=h.ab||!1}x(Ir,$c),Ir.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(h,_){wt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Ks,wt),r=Ks.prototype,r.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,sr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?zi(this):sr(this),this.readyState==3&&Ga(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,zi(this))},r.Na=function(h){this.g&&(this.response=h,zi(this))},r.ga=function(){this.g&&zi(this)};function zi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,sr(h)}r.setRequestHeader=function(h,_){this.A.append(h,_)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function sr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let _="";return Be(h,function(b,A){_+=A,_+=":",_+=b,_+=`\r
`}),_}function Qs(h,_,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Un(b),typeof h=="string"?b!=null&&Jr(b):Qe(h,_,b))}function We(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(We,wt);var Dr=/^https?$/i,ml=["POST","PUT"];r=We.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,_,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rl.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch($){Ys(this,$);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)b.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())b.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),z=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(ml,_,void 0)>=0)||A||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of b)this.g.setRequestHeader($,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Ys(this,$)}};function Ys(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,pl(h),Zr(h)}function pl(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),Zr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},r.Xa=function(){Xs(this)};function Xs(h){if(h.h&&typeof c<"u"){if(h.v&&ar(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),ar(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var A;if(A=$===0){let se=String(h.D).match(eu)[1]||null;!se&&u.self&&u.self.location&&(se=u.self.location.protocol.slice(0,-1)),A=!Dr.test(se?se.toLowerCase():"")}b=A}if(b)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var z=ar(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",pl(h)}}finally{Zr(h)}}}}function Zr(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,_||Ut(h,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}r.ca=function(){try{return ar(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),qd(_)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ei(h){const _={};h=(h.g&&ar(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(C(h[A]))continue;var b=Wc(h[A]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=_[z]||[];_[z]=$,$.push(b)}Ke(_,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function Bi(h){this.za=0,this.i=[],this.j=new tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Or("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Or("baseRetryDelayMs",5e3,h),this.Za=Or("retryDelaySeedMs",1e4,h),this.Ta=Or("forwardChannelMaxRetries",2,h),this.va=Or("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new il(h&&h.concurrentRequestLimit),this.Ba=new Ui,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Bi.prototype,r.ka=8,r.I=1,r.connect=function(h,_,b,A){At(0),this.W=h,this.H=_||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=hu(this,null,this.W),jr(this)};function gl(h){if($a(h),h.I==3){var _=h.V++,b=Nt(h.J);if(Qe(b,"SID",h.M),Qe(b,"RID",_),Qe(b,"TYPE","terminate"),Ws(h,b),_=new nr(h,h.j,_),_.M=2,_.A=Gs(Nt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=du(_.j,null),_.g.ea(_.A)),_.F=Date.now(),wr(_)}uu(h)}function qi(h){h.g&&(_l(h),h.g.cancel(),h.g=null)}function $a(h){qi(h),h.v&&(u.clearTimeout(h.v),h.v=null),Qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function jr(h){if(!sl(h.h)&&!h.m){h.m=!0;var _=h.Ea;ie||R(),fe||(ie(),fe=!0),N.add(_,h),h.D=0}}function Ka(h,_){return Rr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Er(y(h.Ea,h,_),cu(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new nr(this,this.j,h);let $=this.o;if(this.U&&($?($=V($),oe($,this.U)):$=this.U),this.u!==null||this.R||(z.J=$,$=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=su(this,z,_),b=Nt(this.J),Qe(b,"RID",h),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),Ws(this,b),$&&(this.R?_="headers="+Jr(Un($))+"&"+_:this.u&&Qs(b,this.u,$)),al(this.h,z),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",_),Qe(b,"SID","null"),z.U=!0,Tr(z,b,null)):Tr(z,b,_),this.I=2}}else this.I==3&&(h?yl(this,h):this.i.length==0||sl(this.h)||yl(this))};function yl(h,_){var b;_?b=_.l:b=h.V++;const A=Nt(h.J);Qe(A,"SID",h.M),Qe(A,"RID",b),Qe(A,"AID",h.K),Ws(h,A),h.u&&h.o&&Qs(A,h.u,h.o),b=new nr(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),_&&(h.i=_.G.concat(h.i)),_=su(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),al(h.h,b),Tr(b,A,_)}function Ws(h,_){h.H&&Be(h.H,function(b,A){Qe(_,A,b)}),h.l&&Be({},function(b,A){Qe(_,A,b)})}function su(h,_,b){b=Math.min(h.i.length,b);const A=h.l?y(h.l.Ka,h.l,h):null;e:{var z=h.i;let Ae=-1;for(;;){const vt=["count="+b];Ae==-1?b>0?(Ae=z[0].g,vt.push("ofs="+Ae)):Ae=0:vt.push("ofs="+Ae);let Fe=!0;for(let ct=0;ct<b;ct++){var $=z[ct].g;const zn=z[ct].map;if($-=Ae,$<0)Ae=Math.max(0,z[ct].g-100),Fe=!1;else try{$="req"+$+"_"||"";try{var se=zn instanceof Map?zn:Object.entries(zn);for(const[kr,or]of se){let lr=or;m(or)&&(lr=Mi(or)),vt.push($+kr+"="+encodeURIComponent(lr))}}catch(kr){throw vt.push($+"type="+encodeURIComponent("_badmap")),kr}}catch{A&&A(zn)}}if(Fe){se=vt.join("&");break e}}se=void 0}return h=h.i.splice(0,b),_.G=h,se}function au(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ie||R(),fe||(ie(),fe=!0),N.add(_,h),h.A=0}}function Js(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Er(y(h.Da,h),cu(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Er(y(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),qi(this),ou(this))};function _l(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function ou(h){h.g=new nr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Nt(h.na);Qe(_,"RID","rpc"),Qe(_,"SID",h.M),Qe(_,"AID",h.K),Qe(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(_,"TO",h.ia),Qe(_,"TYPE","xmlhttp"),Ws(h,_),h.u&&h.o&&Qs(_,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Gs(Nt(_)),b.u=null,b.R=!0,Ua(b,h)}r.Va=function(){this.C!=null&&(this.C=null,qi(this),Js(this),At(19))};function Qa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function lu(h,_){var b=null;if(h.g==_){Qa(h),_l(h),h.g=null;var A=2}else if(Nr(h.h,_))b=_.G,ol(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var z=h.D;A=La(),Ut(A,new br(A,b)),jr(h)}else au(h);else if(z=_.m,z==3||z==0&&_.X>0||!(A==1&&Ka(h,_)||A==2&&Js(h)))switch(b&&b.length>0&&(_=h.h,_.i=_.i.concat(b)),z){case 1:Mr(h,5);break;case 4:Mr(h,10);break;case 3:Mr(h,6);break;default:Mr(h,2)}}}function cu(h,_){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*_}function Mr(h,_){if(h.j.info("Error code "+_),_==2){var b=y(h.bb,h),A=h.Ua;const z=!A;A=new wn(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ft(A,"https"),Gs(A),z?ir(A.toString(),b):fl(A.toString(),b)}else At(2);h.I=0,h.l&&h.l.pa(_),uu(h),$a(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function uu(h){if(h.I=0,h.ja=[],h.l){const _=ll(h.h);(_.length!=0||h.i.length!=0)&&(G(h.ja,_),G(h.ja,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.oa()}}function hu(h,_,b){var A=b instanceof wn?Nt(b):new wn(b);if(A.g!="")_&&(A.g=_+"."+A.g),ki(A,A.u);else{var z=u.location;A=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;const $=new wn(null);A&&Ft($,A),_&&($.g=_),z&&ki($,z),b&&($.h=b),A=$}return b=h.G,_=h.wa,b&&_&&Qe(A,b,_),Qe(A,"VER",h.ka),Ws(h,A),A}function du(h,_,b){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new We(new Ir({ab:b})):new We(h.ma),_.Fa(h.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Hi(){}Hi.prototype.g=function(h,_){return new cn(h,_)};function cn(h,_){wt.call(this),this.g=new Bi(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!C(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ti(this)}x(cn,wt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){gl(this.g)},cn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Mi(h),h=b);_.i.push(new Rt(_.Ya++,h)),_.I==3&&jr(_)},cn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,cn.Z.N.call(this)};function mu(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const b in _){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}x(mu,Kt);function pu(){Vn.call(this),this.status=1}x(pu,Vn);function ti(h){this.g=h}x(ti,fu),ti.prototype.ra=function(){Ut(this.g,"a")},ti.prototype.qa=function(h){Ut(this.g,new mu(h))},ti.prototype.pa=function(h){Ut(this.g,new pu)},ti.prototype.oa=function(){Ut(this.g,"b")},Hi.prototype.createWebChannel=Hi.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,FE=function(){return new Hi},HE=function(){return La()},qE=_t,Tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,kh=Hs,nl.COMPLETE="complete",BE=nl,Kc.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",wt.prototype.listen=wt.prototype.J,lc=Kc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,zE=We}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let $o="12.9.0";function vI(r){$o=r}const Sa=new ig("@firebase/firestore");function So(){return Sa.logLevel}function ue(r,...e){if(Sa.logLevel<=je.DEBUG){const n=e.map(yg);Sa.debug(`Firestore (${$o}): ${r}`,...n)}}function Ri(r,...e){if(Sa.logLevel<=je.ERROR){const n=e.map(yg);Sa.error(`Firestore (${$o}): ${r}`,...n)}}function Ra(r,...e){if(Sa.logLevel<=je.WARN){const n=e.map(yg);Sa.warn(`Firestore (${$o}): ${r}`,...n)}}function yg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,GE(r,s,n)}function GE(r,e,n){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ri(s),new Error(s)}function $e(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||GE(e,o,s)}function xe(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class EI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xI{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new $E(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class TI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class wI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new TI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function wp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return rp(o)===rp(c)?Me(o,c):rp(o)?1:-1}return Me(r.length,e.length)}const RI=55296,NI=57343;function rp(r){const e=r.charCodeAt(0);return e>=RI&&e<=NI}function Vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Tb="__name__";class zr{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=zr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Me(e.length,n.length)}static compareSegments(e,n){const s=zr.isNumericId(e),o=zr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?zr.extractNumericId(e).compare(zr.extractNumericId(n)):wp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class rt extends zr{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const CI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends zr{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return CI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tb}static keyField(){return new en([Tb])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(s+=m,o++):(c(),o++)}if(c(),u)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}function KE(r,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function II(r,e,n,s){if(e===!0&&s===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function wb(r){if(!ge.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ab(r){if(ge.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function QE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ed(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function Zn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Vt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Pc(r,e){if(!QE(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const u=r[s];if(o&&typeof u!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}const Sb=-62135596800,Rb=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Rb);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sb)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rb}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Vt("string",at._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new at(0,0))}static max(){return new Te(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tc=-1;function DI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new Ss(o,ge.empty(),e)}function OI(r){return new Ss(r.readTime,r.key,Tc)}class Ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ss(Te.min(),ge.empty(),Tc)}static max(){return new Ss(Te.max(),ge.empty(),Tc)}}function jI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ko(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==MI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&n()}),(g=>s(g)))})),u=!0,c===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const c=e.length,u=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((E=>{u[y]=E,++m,m===c&&s(u)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function VI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(r){return r.name==="IndexedDbTransactionError"}class xd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xd.ce=-1;const vg=-1;function Td(r){return r==null}function ed(r){return r===0&&1/r==-1/0}function PI(r){return typeof r=="number"&&Number.isInteger(r)&&!ed(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const YE="";function LI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Nb(e)),e=UI(r.get(n),e);return Nb(e)}function UI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case YE:n+="";break;default:n+=c}}return n}function Nb(r){return r+YE+""}function Cb(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function js(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function zI(r,e){const n=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.push(e(r[s],s,r));return n}function XE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Zt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ib(this.data.getIterator())}getIteratorFrom(e){return new Ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class Ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new jn([])}unionWith(e){let n=new qt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new WE("Invalid base64 string: "+c):c}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const BI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=BI.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ns(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const JE="server_timestamp",ZE="__type__",ex="__previous_value__",tx="__local_write_time__";function bg(r){return(r?.mapValue?.fields||{})[ZE]?.stringValue===JE}function wd(r){const e=r.mapValue.fields[ex];return bg(e)?wd(e):e}function wc(r){const e=Rs(r.mapValue.fields[tx].timestampValue);return new at(e.seconds,e.nanos)}class qI{constructor(e,n,s,o,c,u,m,g,y,E,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=x}}const td="(default)";class Ac{constructor(e,n){this.projectId=e,this.database=n||td}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}function HI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(r.options.projectId,e)}const nx="__type__",FI="__max__",Th={mapValue:{}},rx="__vector__",nd="value";function Cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bg(r)?4:$I(r)?9007199254740991:GI(r)?10:11:be(28295,{value:r})}function Yr(r,e){if(r===e)return!0;const n=Cs(r);if(n!==Cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return wc(r).isEqual(wc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Rs(o.timestampValue),m=Rs(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return Ns(o.bytesValue).isEqual(Ns(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return xt(o.geoPointValue.latitude)===xt(c.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return xt(o.integerValue)===xt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=xt(o.doubleValue),m=xt(c.doubleValue);return u===m?ed(u)===ed(m):isNaN(u)&&isNaN(m)}return!1})(r,e);case 9:return Vo(r.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Cb(u)!==Cb(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!Yr(u[g],m[g])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function Sc(r,e){return(r.values||[]).find((n=>Yr(n,e)))!==void 0}function Po(r,e){if(r===e)return 0;const n=Cs(r),s=Cs(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=xt(c.integerValue||c.doubleValue),g=xt(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return Db(r.timestampValue,e.timestampValue);case 4:return Db(wc(r),wc(e));case 5:return wp(r.stringValue,e.stringValue);case 6:return(function(c,u){const m=Ns(c),g=Ns(u);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),g=u.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Me(m[y],g[y]);if(E!==0)return E}return Me(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=Me(xt(c.latitude),xt(u.latitude));return m!==0?m:Me(xt(c.longitude),xt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Ob(r.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},g=u.fields||{},y=m[nd]?.arrayValue,E=g[nd]?.arrayValue,x=Me(y?.values?.length||0,E?.values?.length||0);return x!==0?x:Ob(y,E)})(r.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Th.mapValue&&u===Th.mapValue)return 0;if(c===Th.mapValue)return 1;if(u===Th.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=u.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let x=0;x<g.length&&x<E.length;++x){const w=wp(g[x],E[x]);if(w!==0)return w;const j=Po(m[g[x]],y[E[x]]);if(j!==0)return j}return Me(g.length,E.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function Db(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=Rs(r),s=Rs(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function Ob(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Po(n[o],s[o]);if(c)return c}return Me(n.length,s.length)}function Lo(r){return Ap(r)}function Ap(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ns(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Ap(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Ap(n.fields[u])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function Vh(r){switch(Cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wd(r);return e?16+Vh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Vh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return js(s.fields,((c,u)=>{o+=c.length+Vh(u)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function jb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sp(r){return!!r&&"integerValue"in r}function Eg(r){return!!r&&"arrayValue"in r}function Mb(r){return!!r&&"nullValue"in r}function kb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ph(r){return!!r&&"mapValue"in r}function GI(r){return(r?.mapValue?.fields||{})[nx]?.stringValue===rx}function pc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return js(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=pc(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(r.arrayValue.values[n]);return e}return{...r}}function $I(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===FI}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=en.emptyPath(),s={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}u?s[m.lastSegment()]=pc(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){js(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new dn(pc(this.value))}}function ix(r){const e=[];return js(r.fields,((n,s)=>{const o=new en([n]);if(Ph(s)){const c=ix(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new jn(e)}class an{constructor(e,n,s,o,c,u,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Te.min(),Te.min(),Te.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,Te.min(),Te.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Te.min(),Te.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rd{constructor(e,n){this.position=e,this.inclusive=n}}function Vb(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],u=r.position[o];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(u.referenceValue),n.key):s=Po(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Pb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Yr(r.position[n],e.position[n]))return!1;return!0}class Rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function KI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class sx{}class kt extends sx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new YI(e,n,s):n==="array-contains"?new JI(e,s):n==="in"?new ZI(e,s):n==="not-in"?new e4(e,s):n==="array-contains-any"?new t4(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new XI(e,s):new WI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Cs(this.value)===Cs(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends sx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gr(e,n)}matches(e){return ax(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ax(r){return r.op==="and"}function ox(r){return QI(r)&&ax(r)}function QI(r){for(const e of r.filters)if(e instanceof gr)return!1;return!0}function Rp(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+Lo(r.value);if(ox(r))return r.filters.map((e=>Rp(e))).join(",");{const e=r.filters.map((n=>Rp(n))).join(",");return`${r.op}(${e})`}}function lx(r,e){return r instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Yr(s.value,o.value)})(r,e):r instanceof gr?(function(s,o){return o instanceof gr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,m)=>c&&lx(u,o.filters[m])),!0):!1})(r,e):void be(19439)}function cx(r){return r instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(r):r instanceof gr?(function(n){return n.op.toString()+" {"+n.getFilters().map(cx).join(" ,")+"}"})(r):"Filter"}class YI extends kt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class XI extends kt{constructor(e,n){super(e,"in",n),this.keys=ux("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WI extends kt{constructor(e,n){super(e,"not-in",n),this.keys=ux("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ux(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class JI extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Eg(n)&&Sc(n.arrayValue,this.value)}}class ZI extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class e4 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sc(this.value.arrayValue,n)}}class t4 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Sc(this.value.arrayValue,s)))}}class n4{constructor(e,n=null,s=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function Lb(r,e=null,n=[],s=[],o=null,c=null,u=null){return new n4(r,e,n,s,o,c,u)}function xg(r){const e=xe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Rp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Lo(s))).join(",")),e.Te=n}return e.Te}function Tg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!KI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!lx(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Pb(r.startAt,e.startAt)&&Pb(r.endAt,e.endAt)}function Np(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Yo{constructor(e,n=null,s=[],o=[],c=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function r4(r,e,n,s,o,c,u,m){return new Yo(r,e,n,s,o,c,u,m)}function wg(r){return new Yo(r)}function Ub(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function i4(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function hx(r){return r.collectionGroup!==null}function gc(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new qt(en.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Rc(c,s))})),n.has(en.keyField().canonicalString())||e.Ie.push(new Rc(en.keyField(),s))}return e.Ie}function $r(r){const e=xe(r);return e.Ee||(e.Ee=dx(e,gc(r))),e.Ee}function s4(r){const e=xe(r);return e.Re||(e.Re=dx(e,r.explicitOrderBy)),e.Re}function dx(r,e){if(r.limitType==="F")return Lb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Rc(o.field,c)}));const n=r.endAt?new rd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new rd(r.startAt.position,r.startAt.inclusive):null;return Lb(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Cp(r,e){const n=r.filters.concat([e]);return new Yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function a4(r,e){const n=r.explicitOrderBy.concat([e]);return new Yo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Ip(r,e,n){return new Yo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ad(r,e){return Tg($r(r),$r(e))&&r.limitType===e.limitType}function fx(r){return`${xg($r(r))}|lt:${r.limitType}`}function Ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>cx(o))).join(", ")}]`),Td(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${s})`})($r(r))}; limitType=${r.limitType})`}function Sd(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of gc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(u,m,g){const y=Vb(u,m,g);return u.inclusive?y<=0:y<0})(s.startAt,gc(s),o)||s.endAt&&!(function(u,m,g){const y=Vb(u,m,g);return u.inclusive?y>=0:y>0})(s.endAt,gc(s),o))})(r,e)}function o4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mx(r){return(e,n)=>{let s=!1;for(const o of gc(r)){const c=l4(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function l4(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,u,m){const g=u.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Po(g,y):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return XE(this.inner)}size(){return this.innerSize}}const c4=new ft(ge.comparator);function Ni(){return c4}const px=new ft(ge.comparator);function cc(...r){let e=px;for(const n of r)e=e.insert(n.key,n);return e}function gx(r){let e=px;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function _a(){return yc()}function yx(){return yc()}function yc(){return new Oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const u4=new ft(ge.comparator),h4=new qt(ge.comparator);function Ve(...r){let e=h4;for(const n of r)e=e.add(n);return e}const d4=new qt(Me);function f4(){return d4}function Ag(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function _x(r){return{integerValue:""+r}}function m4(r,e){return PI(e)?_x(e):Ag(r,e)}class Rd{constructor(){this._=void 0}}function p4(r,e,n){return r instanceof id?(function(o,c){const u={fields:{[ZE]:{stringValue:JE},[tx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&bg(c)&&(c=wd(c)),c&&(u.fields[ex]=c),{mapValue:u}})(n,e):r instanceof Nc?bx(r,e):r instanceof Cc?Ex(r,e):(function(o,c){const u=vx(o,c),m=zb(u)+zb(o.Ae);return Sp(u)&&Sp(o.Ae)?_x(m):Ag(o.serializer,m)})(r,e)}function g4(r,e,n){return r instanceof Nc?bx(r,e):r instanceof Cc?Ex(r,e):n}function vx(r,e){return r instanceof sd?(function(s){return Sp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class id extends Rd{}class Nc extends Rd{constructor(e){super(),this.elements=e}}function bx(r,e){const n=xx(e);for(const s of r.elements)n.some((o=>Yr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Cc extends Rd{constructor(e){super(),this.elements=e}}function Ex(r,e){let n=xx(e);for(const s of r.elements)n=n.filter((o=>!Yr(o,s)));return{arrayValue:{values:n}}}class sd extends Rd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zb(r){return xt(r.integerValue||r.doubleValue)}function xx(r){return Eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function y4(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Nc&&o instanceof Nc||s instanceof Cc&&o instanceof Cc?Vo(s.elements,o.elements,Yr):s instanceof sd&&o instanceof sd?Yr(s.Ae,o.Ae):s instanceof id&&o instanceof id})(r.transform,e.transform)}class _4{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nd{}function Tx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Sg(r.key,Wn.none()):new Lc(r.key,r.data,Wn.none());{const n=r.data,s=dn.empty();let o=new qt(en.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Ms(r.key,s,new jn(o.toArray()),Wn.none())}}function v4(r,e,n){r instanceof Lc?(function(o,c,u){const m=o.value.clone(),g=qb(o.fieldTransforms,c,u.transformResults);m.setAll(g),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ms?(function(o,c,u){if(!Lh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=qb(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(wx(o)),g.setAll(m),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function _c(r,e,n,s){return r instanceof Lc?(function(c,u,m,g){if(!Lh(c.precondition,u))return m;const y=c.value.clone(),E=Hb(c.fieldTransforms,g,u);return y.setAll(E),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ms?(function(c,u,m,g){if(!Lh(c.precondition,u))return m;const y=Hb(c.fieldTransforms,g,u),E=u.data;return E.setAll(wx(c)),E.setAll(y),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(r,e,n,s):(function(c,u,m){return Lh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(r,e,n)}function b4(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=vx(s.transform,o||null);c!=null&&(n===null&&(n=dn.empty()),n.set(s.field,c))}return n||null}function Bb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vo(s,o,((c,u)=>y4(c,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Lc extends Nd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends Nd{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wx(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function qb(r,e,n){const s=new Map;$e(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],u=c.transform,m=e.data.field(c.field);s.set(c.field,g4(u,m,n[o]))}return s}function Hb(r,e,n){const s=new Map;for(const o of r){const c=o.transform,u=n.data.field(o.field);s.set(o.field,p4(c,u,e))}return s}class Sg extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E4 extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class x4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&v4(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=_c(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=_c(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=yx();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(o.key)?null:m;const g=Tx(u,m);g!==null&&s.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,((n,s)=>Bb(n,s)))&&Vo(this.baseMutations,e.baseMutations,((n,s)=>Bb(n,s)))}}class Rg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return u4})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new Rg(e,n,s,o)}}class T4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class w4{constructor(e,n,s){this.alias=e,this.aggregateType=n,this.fieldPath=s}}class A4{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,ze;function S4(r){switch(r){case Z.OK:return be(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function Ax(r){if(r===void 0)return Ri("GRPC error has no .code"),Z.UNKNOWN;switch(r){case jt.OK:return Z.OK;case jt.CANCELLED:return Z.CANCELLED;case jt.UNKNOWN:return Z.UNKNOWN;case jt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case jt.INTERNAL:return Z.INTERNAL;case jt.UNAVAILABLE:return Z.UNAVAILABLE;case jt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case jt.NOT_FOUND:return Z.NOT_FOUND;case jt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case jt.ABORTED:return Z.ABORTED;case jt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case jt.DATA_LOSS:return Z.DATA_LOSS;default:return be(39323,{code:r})}}(ze=jt||(jt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function R4(){return new TextEncoder}const N4=new xs([4294967295,4294967295],0);function Fb(r){const e=R4().encode(r),n=new UE;return n.update(e),new Uint8Array(n.digest())}function Gb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xs([n,s],0),new xs([o,c],0)]}class Ng{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(s<0)throw new uc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(xs.fromNumber(s)));return o.compare(N4)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Fb(e),[s,o]=Gb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Ng(c,o,n);return s.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=Fb(e),[s,o]=Gb(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Cd(Te.min(),o,new ft(Me),Ni(),Ve())}}class Uc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uc(s,n,Ve(),Ve(),Ve())}}class Uh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Sx{constructor(e,n){this.targetId=e,this.Ce=n}}class Rx{constructor(e,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class $b{constructor(){this.ve=0,this.Fe=Kb(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:c})}})),new Uc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Kb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class C4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.He=wh(),this.Je=wh(),this.Ze=new ft(Me)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Np(c))if(s===0){const u=new ge(c.path);this.et(n,u,an.newNoDocument(u,Te.min()))}else $e(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let u,m;try{u=Ns(s).toUint8Array()}catch(g){if(g instanceof WE)return Ra("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ng(u,o,c)}catch(g){return Ra(g instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Np(m.target)){const g=new ge(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,an.newNoDocument(g,e))}c.Be&&(n.set(u,c.ke()),c.Ke())}}));let s=Ve();this.Je.forEach(((c,u)=>{let m=!0;u.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Cd(e,n,this.Ze,this.je,s);return this.je=Ni(),this.He=wh(),this.Je=wh(),this.Ze=new ft(Me),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $b,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new qt(Me),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new qt(Me),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $b),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wh(){return new ft(ge.comparator)}function Kb(){return new ft(ge.comparator)}const I4={asc:"ASCENDING",desc:"DESCENDING"},D4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O4={and:"AND",or:"OR"};class j4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(r,e){return r.useProto3Json||Td(e)?e:{value:e}}function ad(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function M4(r,e){return ad(r,e.toTimestamp())}function Kr(r){return $e(!!r,49232),Te.fromTimestamp((function(n){const s=Rs(n);return new at(s.seconds,s.nanos)})(r))}function Cg(r,e){return Op(r,e).canonicalString()}function Op(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Cx(r){const e=rt.fromString(r);return $e(kx(e),10190,{key:e.toString()}),e}function jp(r,e){return Cg(r.databaseId,e.path)}function ip(r,e){const n=Cx(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(Dx(n))}function Ix(r,e){return Cg(r.databaseId,e)}function k4(r){const e=Cx(r);return e.length===4?rt.emptyPath():Dx(e)}function Mp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Dx(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Qb(r,e,n){return{name:jp(r,e),fields:n.value.mapValue.fields}}function V4(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?($e(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(y){const E=y.code===void 0?Z.UNKNOWN:Ax(y.code);return new ce(E,y.message||"")})(u);n=new Rx(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ip(r,s.document.name),c=Kr(s.document.updateTime),u=s.document.createTime?Kr(s.document.createTime):Te.min(),m=new dn({mapValue:{fields:s.document.fields}}),g=an.newFoundDocument(o,c,u,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Uh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ip(r,s.document),c=s.readTime?Kr(s.readTime):Te.min(),u=an.newNoDocument(o,c),m=s.removedTargetIds||[];n=new Uh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ip(r,s.document),c=s.removedTargetIds||[];n=new Uh([],c,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new A4(o,c),m=s.targetId;n=new Sx(m,u)}}return n}function P4(r,e){let n;if(e instanceof Lc)n={update:Qb(r,e.key,e.value)};else if(e instanceof Sg)n={delete:jp(r,e.key)};else if(e instanceof Ms)n={update:Qb(r,e.key,e.data),updateMask:$4(e.fieldMask)};else{if(!(e instanceof E4))return be(16599,{dt:e.type});n={verify:jp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const m=u.transform;if(m instanceof id)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Nc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Cc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof sd)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:M4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(r,e.precondition)),n}function L4(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map((n=>(function(o,c){let u=o.updateTime?Kr(o.updateTime):Kr(c);return u.isEqual(Te.min())&&(u=Kr(c)),new _4(u,o.transformResults||[])})(n,e)))):[]}function U4(r,e){return{documents:[Ix(r,e.path)]}}function Ox(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ix(r,o);const c=(function(y){if(y.length!==0)return Mx(gr.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:gs(w.field),direction:H4(w.dir)}})(E)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Dp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function z4(r,e,n,s){const{ft:o,parent:c}=Ox(r,e),u={},m=[];let g=0;return n.forEach((y=>{const E="aggregate_"+g++;u[E]=y.alias,y.aggregateType==="count"?m.push({alias:E,count:{}}):y.aggregateType==="avg"?m.push({alias:E,avg:{field:gs(y.fieldPath)}}):y.aggregateType==="sum"&&m.push({alias:E,sum:{field:gs(y.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:o.structuredQuery},parent:o.parent},gt:u,parent:c}}function B4(r){let e=k4(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(x){const w=jx(x);return w instanceof gr&&ox(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(x){return x.map((w=>(function(G){return new Rc(No(G.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(x){let w;return w=typeof x=="object"?x.value:x,Td(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(x){const w=!!x.before,j=x.values||[];return new rd(j,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const w=!x.before,j=x.values||[];return new rd(j,w)})(n.endAt)),r4(e,o,u,c,m,"F",g,y)}function q4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jx(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=No(n.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=No(n.unaryFilter.field);return kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return kt.create(No(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return gr.create(n.compositeFilter.filters.map((s=>jx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function H4(r){return I4[r]}function F4(r){return D4[r]}function G4(r){return O4[r]}function gs(r){return{fieldPath:r.canonicalString()}}function No(r){return en.fromServerFormat(r.fieldPath)}function Mx(r){return r instanceof kt?(function(n){if(n.op==="=="){if(kb(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NAN"}};if(Mb(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kb(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NAN"}};if(Mb(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(n.field),op:F4(n.op),value:n.value}}})(r):r instanceof gr?(function(n){const s=n.getFilters().map((o=>Mx(o)));return s.length===1?s[0]:{compositeFilter:{op:G4(n.op),filters:s}}})(r):be(54877,{filter:r})}function $4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function kx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Vx(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class vs{constructor(e,n,s,o,c=Te.min(),u=Te.min(),m=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class K4{constructor(e){this.yt=e}}function Q4(r){const e=B4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ip(e,e.limit,"L"):e}class Y4{constructor(){this.Sn=new X4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ss.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class X4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new qt(rt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new qt(rt.comparator)).toArray()}}const Yb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Px=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(Px,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class Uo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Uo(0)}static ar(){return new Uo(-1)}}const Xb="LruGarbageCollector",W4=1048576;function Wb([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class J4{constructor(e){this.Pr=e,this.buffer=new qt(Wb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Wb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(Xb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?ue(Xb,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.Ar(3e5)}))}}class eD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(xd.ce);const s=new J4(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Yb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,u,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,u=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,m=Date.now(),this.removeTargets(e,s,n)))).next((x=>(c=x,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(y=Date.now(),So()<=je.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function tD(r,e){return new eD(r,e)}class nD{constructor(){this.changes=new Oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class iD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&_c(s.mutation,o,jn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=_a();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let u=cc();return c.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=_a();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,s,o){let c=Ni();const u=yc(),m=(function(){return yc()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ms)?c=c.insert(y.key,y):E!==void 0?(u.set(y.key,E.mutation.getFieldMask()),_c(E.mutation,y,E.mutation.getFieldMask(),at.now())):u.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,E)=>u.set(y,E))),n.forEach(((y,E)=>m.set(y,new rD(E,u.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=yc();let o=new ft(((u,m)=>u-m)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||jn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const x=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,x)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,x=yx();E.forEach((w=>{if(!c.has(w)){const j=Tx(n.get(w),s.get(w));j!==null&&x.set(w,j),c=c.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,x))}return ne.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return i4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ne.resolve(_a());let m=Tc,g=c;return u.next((y=>ne.forEach(y,((E,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),c.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ve()))).next((E=>({batchId:m,changes:gx(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=cc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let u=cc();return this.indexManager.getCollectionParents(e,c).next((m=>ne.forEach(m,(g=>{const y=(function(x,w){return new Yo(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((x,w)=>{u=u.insert(x,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((u=>{c.forEach(((g,y)=>{const E=y.getKey();u.get(E)===null&&(u=u.insert(E,an.newInvalidDocument(E)))}));let m=cc();return u.forEach(((g,y)=>{const E=c.get(g);E!==void 0&&_c(E.mutation,y,jn.empty(),at.now()),Sd(n,y)&&(m=m.insert(g,y))})),m}))}}class sD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Kr(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Q4(o.bundledQuery),readTime:Kr(o.readTime)}})(n)),ne.resolve()}}class aD{constructor(){this.overlays=new ft(ge.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_a();return ne.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=_a(),c=n.length+1,u=new ge(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new ft(((y,E)=>y-E));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=_a(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=_a(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new T4(n,s));let c=this.Lr.get(n);c===void 0&&(c=Ve(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class oD{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Ig{constructor(){this.kr=new qt($t.Kr),this.qr=new qt($t.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new $t(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ge(new rt([])),s=new $t(n,e),o=new $t(n,e+1),c=[];return this.qr.forEachInRange([s,o],(u=>{this.Wr(u),c.push(u.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new rt([])),s=new $t(n,e),o=new $t(n,e+1);let c=Ve();return this.qr.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new $t(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Me(e.Hr,n.Hr)}static Ur(e,n){return Me(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class lD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new qt($t.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new x4(c,n,s,o);this.mutationQueue.push(u);for(const m of o)this.Jr=this.Jr.add(new $t(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?vg:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),o=new $t(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(u=>{const m=this.Zr(u.Hr);c.push(m)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new qt(Me);return n.forEach((o=>{const c=new $t(o,0),u=new $t(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,u],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const u=new $t(new ge(c),0);let m=new qt(Me);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),u),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const c=new $t(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new $t(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cD{constructor(e){this.ti=e,this.docs=(function(){return new ft(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=Ni();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Ni();const u=n.path,m=new ge(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||jI(OI(E),s)<=0||(o.has(E.key)||Sd(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new uD(this)}getSize(e){return ne.resolve(this.size)}}class uD extends nD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class hD{constructor(e){this.persistence=e,this.ri=new Oa((n=>xg(n)),Tg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Ig,this.targetCount=0,this.oi=Uo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((u,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class Lx{constructor(e,n){this._i={},this.overlays={},this.ai=new xd(0),this.ui=!1,this.ui=!0,this.ci=new oD,this.referenceDelegate=e(this),this.li=new hD(this),this.indexManager=new Y4,this.remoteDocumentCache=(function(o){return new cD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new K4(n),this.Pi=new sD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new lD(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new dD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class dD extends kI{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Ri=new Ig,this.Ai=null}static Vi(e){return new Dg(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=ge.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class od{constructor(e,n){this.persistence=e,this.fi=new Oa((s=>LI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=tD(this,n)}static Vi(e,n){return new od(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(u=>this.wr(e,u,n).next((m=>{m||(s++,c.removeEntry(u,Te.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Og{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Og(e,n.fromCache,s,o)}}class fD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return jS()?8:VI(on())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new fD;return this.ys(e,n,u).next((m=>{if(c.result=m,this.As)return this.ws(e,n,u,m.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(So()<=je.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(So()<=je.DEBUG&&ue("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(So()<=je.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):ne.resolve())}gs(e,n){if(Ub(n))return ne.resolve(null);let s=$r(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ip(n,null,"F"),s=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=Ve(...c);return this.fs.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,u,g.readTime)?this.gs(e,Ip(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return Ub(n)||o.isEqual(Te.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((c=>{const u=this.bs(n,c);return this.Ss(n,u,s,o)?ne.resolve(null):(So()<=je.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(n)),this.Ds(e,u,n,DI(o,Tc)).next((m=>m)))}))}bs(e,n){let s=new qt(mx(e));return n.forEach(((o,c)=>{Sd(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return So()<=je.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.fs.getDocumentsMatchingQuery(e,n,Ss.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const jg="LocalStore",pD=3e8;class gD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Me),this.Fs=new Oa((c=>xg(c)),Tg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function yD(r,e,n,s){return new gD(r,e,n,s)}async function Ux(r,e){const n=xe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],m=[];let g=Ve();for(const y of o){u.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:u,addedBatchIds:m})))}))}))}function _D(r,e){const n=xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const x=y.batch,w=x.keys();let j=ne.resolve();return w.forEach((G=>{j=j.next((()=>E.getEntry(g,G))).next((B=>{const P=y.docVersions.get(G);$e(P!==null,48541),B.version.compareTo(P)<0&&(x.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),E.addEntry(B)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,x)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function zx(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function vD(r,e){const n=xe(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,x)=>{const w=o.get(x);if(!w)return;m.push(n.li.removeMatchingKeys(c,E.removedDocuments,x).next((()=>n.li.addMatchingKeys(c,E.addedDocuments,x))));let j=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?j=j.withResumeToken(tn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(x,j),(function(B,P,Q){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=pD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(w,j,E)&&m.push(n.li.updateTargetData(c,j))}));let g=Ni(),y=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(bD(c,u,e.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(Te.min())){const E=n.li.getLastRemoteSnapshotVersion(c).next((x=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function bD(r,e,n){let s=Ve(),o=Ve();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let u=Ni();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):ue(jg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:u,Ls:o}}))}function ED(r,e){const n=xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=vg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xD(r,e){const n=xe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):n.li.allocateTargetId(s).next((u=>(o=new vs(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function kp(r,e,n){const s=xe(r),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Qo(u))throw u;ue(jg,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function Jb(r,e,n){const s=xe(r);let o=Te.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,y,E){const x=xe(g),w=x.Fs.get(E);return w!==void 0?ne.resolve(x.vs.get(w)):x.li.getTargetData(y,E)})(s,u,$r(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,m.targetId).next((g=>{c=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?o:Te.min(),n?c:Ve()))).next((m=>(TD(s,o4(e),m),{documents:m,ks:c})))))}function TD(r,e,n){let s=r.Ms.get(e)||Te.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class Zb{constructor(){this.activeTargetIds=f4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wD{constructor(){this.vo=new Zb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Zb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AD{Mo(e){}shutdown(){}}const e1="ConnectivityMonitor";class t1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(e1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(e1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ah=null;function Vp(){return Ah===null?Ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ah++,"0x"+Ah.toString(16)}const sp="RestConnection",SD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===td?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const u=Vp(),m=this.Qo(e,n.toUriEncodedString());ue(sp,`Sending RPC '${e}' ${u}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(m),E=Os(y);return this.zo(e,m,g,s,E).then((x=>(ue(sp,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw Ra(sp,`RPC '${e}' ${u} failed with error: `,x,"url: ",m,"request:",s),x}))}jo(e,n,s,o,c,u){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=SD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class ND{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",ic=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Oo extends RD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Oo.c_){const e=HE();ic(e,qE.STAT_EVENT,(n=>{n.stat===Tp.PROXY?ue(rn,"STAT_EVENT: detected buffering proxy"):n.stat===Tp.NOPROXY&&ue(rn,"STAT_EVENT: detected no buffering proxy")})),Oo.c_=!0}}zo(e,n,s,o,c){const u=Vp();return new Promise(((m,g)=>{const y=new zE;y.setWithCredentials(!0),y.listenOnce(BE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kh.NO_ERROR:const x=y.getResponseJson();ue(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),m(x);break;case kh.TIMEOUT:ue(rn,`RPC '${e}' ${u} timed out`),g(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const w=y.getStatus();if(ue(rn,`RPC '${e}' ${u} failed with status:`,w,"response text:",y.getResponseText()),w>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j?.error;if(G&&G.status&&G.message){const B=(function(Q){const W=Q.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN})(G.status);g(new ce(B,G.message))}else g(new ce(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(rn,`RPC '${e}' ${u} completed.`)}}));const E=JSON.stringify(o);ue(rn,`RPC '${e}' ${u} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Vp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=c.join("");ue(rn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=u.createWebChannel(y,m);this.I_(E);let x=!1,w=!1;const j=new ND({Ho:G=>{w?ue(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(x||(ue(rn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),x=!0),ue(rn,`RPC '${e}' stream ${o} sending:`,G),E.send(G))},Jo:()=>E.close()});return ic(E,lc.EventType.OPEN,(()=>{w||(ue(rn,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),ic(E,lc.EventType.CLOSE,(()=>{w||(w=!0,ue(rn,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(E))})),ic(E,lc.EventType.ERROR,(G=>{w||(w=!0,Ra(rn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),j.o_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),ic(E,lc.EventType.MESSAGE,(G=>{if(!w){const B=G.data[0];$e(!!B,16349);const P=B,Q=P?.error||P[0]?.error;if(Q){ue(rn,`RPC '${e}' stream ${o} received error:`,Q);const W=Q.status;let re=(function(fe){const N=jt[fe];if(N!==void 0)return Ax(N)})(W),le=Q.message;W==="NOT_FOUND"&&le.includes("database")&&le.includes("does not exist")&&le.includes(this.databaseId.database)&&Ra(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),re===void 0&&(re=Z.INTERNAL,le="Unknown error status: "+W+" with message "+Q.message),w=!0,j.o_(new ce(re,le)),E.close()}else ue(rn,`RPC '${e}' stream ${o} received:`,B),j.__(B)}})),Oo.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return FE()}}function CD(r){return new Oo(r)}function ap(){return typeof document<"u"?document:null}function Id(r){return new j4(r,!0)}Oo.c_=!1;class Bx{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const n1="PersistentStream";class qx{constructor(e,n,s,o,c,u,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(n1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(n1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ID extends qx{constructor(e,n,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=V4(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Te.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Te.min():u.readTime?Kr(u.readTime):Te.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Mp(this.serializer),n.addTarget=(function(c,u){let m;const g=u.target;if(m=Np(g)?{documents:U4(c,g)}:{query:Ox(c,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Nx(c,u.resumeToken);const y=Dp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}else if(u.snapshotVersion.compareTo(Te.min())>0){m.readTime=ad(c,u.snapshotVersion.toTimestamp());const y=Dp(c,u.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=q4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.K_(n)}}class DD extends qx{constructor(e,n,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=L4(e.writeResults,e.commitTime),s=Kr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>P4(this.serializer,s)))};this.K_(n)}}class OD{}class jD extends OD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Wo(e,Op(n,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Z.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.jo(e,Op(n,s),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MD(r,e,n,s){return new jD(r,e,n,s)}class kD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ri(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class VD{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{ja(this)&&(ue(Na,"Restarting streams for network reachability change."),await(async function(g){const y=xe(g);y.Ea.add(4),await zc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Dd(y)})(this))}))})),this.Va=new kD(s,o)}}async function Dd(r){if(ja(r))for(const e of r.Ra)await e(!0)}async function zc(r){for(const e of r.Ra)await e(!1)}function Hx(r,e){const n=xe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pg(n)?Vg(n):Xo(n).O_()&&kg(n,e))}function Mg(r,e){const n=xe(r),s=Xo(n);n.Ia.delete(e),s.O_()&&Fx(n,e),n.Ia.size===0&&(s.O_()?s.L_():ja(n)&&n.Va.set("Unknown"))}function kg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(r).Z_(e)}function Fx(r,e){r.da.$e(e),Xo(r).X_(e)}function Vg(r){r.da=new C4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Xo(r).start(),r.Va.ua()}function Pg(r){return ja(r)&&!Xo(r).x_()&&r.Ia.size>0}function ja(r){return xe(r).Ea.size===0}function Gx(r){r.da=void 0}async function PD(r){r.Va.set("Online")}async function LD(r){r.Ia.forEach(((e,n)=>{kg(r,e)}))}async function UD(r,e){Gx(r),Pg(r)?(r.Va.ha(e),Vg(r)):r.Va.set("Unknown")}async function zD(r,e,n){if(r.Va.set("Online"),e instanceof Rx&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){ue(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ld(r,s)}else if(e instanceof Uh?r.da.Xe(e):e instanceof Sx?r.da.st(e):r.da.tt(e),!n.isEqual(Te.min()))try{const s=await zx(r.localStore);n.compareTo(s)>=0&&await(function(c,u){const m=c.da.Tt(u);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),Fx(c,g);const x=new vs(E.target,g,y,E.sequenceNumber);kg(c,x)})),c.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(Na,"Failed to raise snapshot:",s),await ld(r,s)}}async function ld(r,e,n){if(!Qo(e))throw e;r.Ea.add(1),await zc(r),r.Va.set("Offline"),n||(n=()=>zx(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(Na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Dd(r)}))}function $x(r,e){return e().catch((n=>ld(r,n,e)))}async function Od(r){const e=xe(r),n=Is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vg;for(;BD(e);)try{const o=await ED(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,qD(e,o)}catch(o){await ld(e,o)}Kx(e)&&Qx(e)}function BD(r){return ja(r)&&r.Ta.length<10}function qD(r,e){r.Ta.push(e);const n=Is(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function Kx(r){return ja(r)&&!Is(r).x_()&&r.Ta.length>0}function Qx(r){Is(r).start()}async function HD(r){Is(r).ra()}async function FD(r){const e=Is(r);for(const n of r.Ta)e.ea(n.mutations)}async function GD(r,e,n){const s=r.Ta.shift(),o=Rg.from(s,e,n);await $x(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Od(r)}async function $D(r,e){e&&Is(r).Y_&&await(async function(s,o){if((function(u){return S4(u)&&u!==Z.ABORTED})(o.code)){const c=s.Ta.shift();Is(s).B_(),await $x(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Od(s)}})(r,e),Kx(r)&&Qx(r)}async function r1(r,e){const n=xe(r);n.asyncQueue.verifyOperationInProgress(),ue(Na,"RemoteStore received new credentials");const s=ja(n);n.Ea.add(3),await zc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dd(n)}async function KD(r,e){const n=xe(r);e?(n.Ea.delete(2),await Dd(n)):e||(n.Ea.add(2),await zc(n),n.Va.set("Unknown"))}function Xo(r){return r.ma||(r.ma=(function(n,s,o){const c=xe(n);return c.sa(),new ID(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:PD.bind(null,r),Yo:LD.bind(null,r),t_:UD.bind(null,r),J_:zD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Pg(r)?Vg(r):r.Va.set("Unknown")):(await r.ma.stop(),Gx(r))}))),r.ma}function Is(r){return r.fa||(r.fa=(function(n,s,o){const c=xe(n);return c.sa(),new DD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:HD.bind(null,r),t_:$D.bind(null,r),ta:FD.bind(null,r),na:GD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Od(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(Na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Lg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const u=Date.now()+s,m=new Lg(e,n,u,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(r,e){if(Ri("AsyncQueue",`${e}: ${r}`),Qo(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=cc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new jo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class i1{constructor(){this.ga=new ft(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class zo{constructor(e,n,s,o,c,u,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new zo(e,n,jo.emptySet(n),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class QD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class YD{constructor(){this.queries=s1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),c=o.queries;o.queries=s1(),c.forEach(((u,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function s1(){return new Oa((r=>fx(r)),Ad)}async function Yx(r,e){const n=xe(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new QD,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=Ug(u,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&zg(n)}async function Xx(r,e){const n=xe(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const u=c.ba.indexOf(e);u>=0&&(c.ba.splice(u,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XD(r,e){const n=xe(r);let s=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const m of u.ba)m.Fa(o)&&(s=!0);u.wa=o}}s&&zg(n)}function WD(r,e,n){const s=xe(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function zg(r){r.Ca.forEach((e=>{e.next()}))}var Pp,a1;(a1=Pp||(Pp={})).Ma="default",a1.Cache="cache";class Wx{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}class Jx{constructor(e){this.key=e}}class Zx{constructor(e){this.key=e}}class JD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=mx(e),this.tu=new jo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new i1,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,x)=>{const w=o.get(E),j=Sd(this.query,x)?x:null,G=!!w&&this.mutatedKeys.has(w.key),B=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let P=!1;w&&j?w.data.isEqual(j.data)?G!==B&&(s.track({type:3,doc:j}),P=!0):this.su(w,j)||(s.track({type:2,doc:j}),P=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(m=!0)):!w&&j?(s.track({type:0,doc:j}),P=!0):w&&!j&&(s.track({type:1,doc:w}),P=!0,(g||y)&&(m=!0)),P&&(j?(u=u.add(j),c=B?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:u,iu:s,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((E,x)=>(function(j,G){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:P})}};return B(j)-B(G)})(E.type,x.type)||this.eu(E.doc,x.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,u.length!==0||y?{snapshot:new zo(this.query,e.tu,c,u,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new i1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new Zx(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Jx(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Bg="SyncEngine";class ZD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class e5{constructor(e){this.key=e,this.hu=!1}}class t5{constructor(e,n,s,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Oa((m=>fx(m)),Ad),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(ge.comparator),this.Au=new Map,this.Vu=new Ig,this.du={},this.mu=new Map,this.fu=Uo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n5(r,e,n=!0){const s=sT(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await eT(s,e,n,!0),o}async function r5(r,e){const n=sT(r);await eT(n,e,!0,!1)}async function eT(r,e,n,s){const o=await xD(r.localStore,$r(e)),c=o.targetId,u=r.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await i5(r,e,c,u==="current",o.resumeToken)),r.isPrimaryClient&&n&&Hx(r.remoteStore,o),m}async function i5(r,e,n,s,o){r.pu=(x,w,j)=>(async function(B,P,Q,W){let re=P.view.ru(Q);re.Ss&&(re=await Jb(B.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,re))));const le=W&&W.targetChanges.get(P.targetId),ie=W&&W.targetMismatches.get(P.targetId)!=null,fe=P.view.applyChanges(re,B.isPrimaryClient,le,ie);return l1(B,P.targetId,fe.au),fe.snapshot})(r,x,w,j);const c=await Jb(r.localStore,e,!0),u=new JD(e,c.ks),m=u.ru(c.documents),g=Uc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=u.applyChanges(m,r.isPrimaryClient,g);l1(r,n,y.au);const E=new ZD(e,n,u);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function s5(r,e,n){const s=xe(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!Ad(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Mg(s.remoteStore,o.targetId),Lp(s,o.targetId)})).catch(Ko)):(Lp(s,o.targetId),await kp(s.localStore,o.targetId,!0))}async function a5(r,e){const n=xe(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Mg(n.remoteStore,s.targetId))}async function o5(r,e,n){const s=m5(r);try{const o=await(function(u,m){const g=xe(u),y=at.now(),E=m.reduce(((j,G)=>j.add(G.key)),Ve());let x,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let G=Ni(),B=Ve();return g.xs.getEntries(j,E).next((P=>{G=P,G.forEach(((Q,W)=>{W.isValidDocument()||(B=B.add(Q))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,G))).next((P=>{x=P;const Q=[];for(const W of m){const re=b4(W,x.get(W.key).overlayedDocument);re!=null&&Q.push(new Ms(W.key,re,ix(re.value.mapValue),Wn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,Q,m)})).next((P=>{w=P;const Q=P.applyToLocalDocumentSet(x,B);return g.documentOverlayCache.saveOverlays(j,P.batchId,Q)}))})).then((()=>({batchId:w.batchId,changes:gx(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,m,g){let y=u.du[u.currentUser.toKey()];y||(y=new ft(Me)),y=y.insert(m,g),u.du[u.currentUser.toKey()]=y})(s,o.batchId,n),await Bc(s,o.changes),await Od(s.remoteStore)}catch(o){const c=Ug(o,"Failed to persist write");n.reject(c)}}async function tT(r,e){const n=xe(r);try{const s=await vD(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?$e(u.hu,14607):o.removedDocuments.size>0&&($e(u.hu,42227),u.hu=!1))})),await Bc(n,s,e)}catch(s){await Ko(s)}}function o1(r,e,n){const s=xe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const g=xe(u);g.onlineState=m;let y=!1;g.queries.forEach(((E,x)=>{for(const w of x.ba)w.va(m)&&(y=!0)})),y&&zg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function l5(r,e,n){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new ft(ge.comparator);u=u.insert(c,an.newNoDocument(c,Te.min()));const m=Ve().add(c),g=new Cd(Te.min(),new Map,new ft(Me),u,m);await tT(s,g),s.Ru=s.Ru.remove(c),s.Au.delete(e),qg(s)}else await kp(s.localStore,e,!1).then((()=>Lp(s,e,n))).catch(Ko)}async function c5(r,e){const n=xe(r),s=e.batch.batchId;try{const o=await _D(n.localStore,e);rT(n,s,null),nT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bc(n,o)}catch(o){await Ko(o)}}async function u5(r,e,n){const s=xe(r);try{const o=await(function(u,m){const g=xe(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((x=>($e(x!==null,37113),E=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);rT(s,e,n),nT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bc(s,o)}catch(o){await Ko(o)}}function nT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function rT(r,e,n){const s=xe(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Lp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||iT(r,s)}))}function iT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Mg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),qg(r))}function l1(r,e,n){for(const s of n)s instanceof Jx?(r.Vu.addReference(s.key,e),h5(r,s)):s instanceof Zx?(ue(Bg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||iT(r,s.key)):be(19791,{wu:s})}function h5(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ue(Bg,"New document in limbo: "+n),r.Eu.add(s),qg(r))}function qg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new e5(n)),r.Ru=r.Ru.insert(n,s),Hx(r.remoteStore,new vs($r(wg(n.path)),s,"TargetPurposeLimboResolution",xd.ce))}}async function Bc(r,e,n){const s=xe(r),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{u.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Og.Es(g.targetId,y);c.push(E)}})))})),await Promise.all(u),s.Pu.J_(o),await(async function(g,y){const E=xe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ne.forEach(y,(w=>ne.forEach(w.Ts,(j=>E.persistence.referenceDelegate.addReference(x,w.targetId,j))).next((()=>ne.forEach(w.Is,(j=>E.persistence.referenceDelegate.removeReference(x,w.targetId,j)))))))))}catch(x){if(!Qo(x))throw x;ue(jg,"Failed to update sequence numbers: "+x)}for(const x of y){const w=x.targetId;if(!x.fromCache){const j=E.vs.get(w),G=j.snapshotVersion,B=j.withLastLimboFreeSnapshotVersion(G);E.vs=E.vs.insert(w,B)}}})(s.localStore,c))}async function d5(r,e){const n=xe(r);if(!n.currentUser.isEqual(e)){ue(Bg,"User change. New user:",e.toKey());const s=await Ux(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new ce(Z.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bc(n,s.Ns)}}function f5(r,e){const n=xe(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function sT(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l5.bind(null,e),e.Pu.J_=XD.bind(null,e.eventManager),e.Pu.yu=WD.bind(null,e.eventManager),e}function m5(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u5.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yD(this.persistence,new mD,e.initialUser,this.serializer)}Cu(e){return new Lx(Dg.Vi,this.serializer)}Du(e){return new wD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class p5 extends cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof od,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Z4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Lx((s=>od.Vi(s,n)),this.serializer)}}class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=d5.bind(null,this.syncEngine),await KD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YD})()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),s=CD(e.databaseInfo);return MD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,u,m){return new VD(s,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>o1(this.syncEngine,n,0)),(function(){return t1.v()?new t1:new AD})())}createSyncEngine(e,n){return(function(o,c,u,m,g,y,E){const x=new t5(o,c,u,m,g,y);return E&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);ue(Na,"RemoteStore shutting down."),s.Ea.add(5),await zc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Up.provider={build:()=>new Up};class aT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ds="FirestoreClient";class g5{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{ue(Ds,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ue(Ds,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ug(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function op(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ds,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ux(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function c1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await y5(r);ue(Ds,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>r1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>r1(e.remoteStore,o))),r._onlineComponents=e}async function y5(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ds,"Using user provided OfflineComponentProvider");try{await op(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ra("Error using user provided cache. Falling back to memory cache: "+n),await op(r,new cd)}}else ue(Ds,"Using default OfflineComponentProvider"),await op(r,new p5(void 0));return r._offlineComponents}async function Hg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ds,"Using user provided OnlineComponentProvider"),await c1(r,r._uninitializedComponentsProvider._online)):(ue(Ds,"Using default OnlineComponentProvider"),await c1(r,new Up))),r._onlineComponents}function _5(r){return Hg(r).then((e=>e.syncEngine))}function v5(r){return Hg(r).then((e=>e.datastore))}async function oT(r){const e=await Hg(r),n=e.eventManager;return n.onListen=n5.bind(null,e.syncEngine),n.onUnlisten=s5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a5.bind(null,e.syncEngine),n}function b5(r,e,n={}){const s=new Gr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,y){const E=new aT({next:w=>{E.Nu(),u.enqueueAndForget((()=>Xx(c,x)));const j=w.docs.has(m);!j&&w.fromCache?y.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&w.fromCache&&g&&g.source==="server"?y.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),x=new Wx(wg(m.path),E,{includeMetadataChanges:!0,Ka:!0});return Yx(c,x)})(await oT(r),r.asyncQueue,e,n,s))),s.promise}function E5(r,e,n={}){const s=new Gr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,y){const E=new aT({next:w=>{E.Nu(),u.enqueueAndForget((()=>Xx(c,x))),w.fromCache&&g.source==="server"?y.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),x=new Wx(m,E,{includeMetadataChanges:!0,Ka:!0});return Yx(c,x)})(await oT(r),r.asyncQueue,e,n,s))),s.promise}function x5(r,e,n){const s=new Gr;return r.asyncQueue.enqueueAndForget((async()=>{try{const o=await v5(r);s.resolve((async function(u,m,g){const y=xe(u),{request:E,gt:x,parent:w}=z4(y.serializer,s4(m),g);y.connection.Ko||delete E.parent;const j=(await y.jo("RunAggregationQuery",y.serializer.databaseId,w,E,1)).filter((B=>!!B.result));$e(j.length===1,64727);const G=j[0].result?.aggregateFields;return Object.keys(G).reduce(((B,P)=>(B[x[P]]=G[P],B)),{})})(o,e,n))}catch(o){s.reject(o)}})),s.promise}function T5(r,e){const n=new Gr;return r.asyncQueue.enqueueAndForget((async()=>o5(await _5(r),e,n))),n.promise}function lT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const w5="ComponentProvider",u1=new Map;function A5(r,e,n,s,o){return new qI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,lT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const cT="firestore.googleapis.com",h1=!0;class d1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cT,this.ssl=h1}else this.host=e.host,this.ssl=e.ssl??h1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Px;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W4)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}II("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new bI;switch(s.type){case"firstParty":return new wI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=u1.get(n);s&&(ue(w5,"Removing Datastore"),u1.delete(n),s.terminate())})(this),Promise.resolve()}}function S5(r,e,n,s={}){r=Zn(r,jd);const o=Os(e),c=r._getSettings(),u={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(ng(`https://${m}`),rg("Firestore",!0)),c.host!==cT&&c.host!==m&&Ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!Ta(g,u)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=sn.MOCK_USER;else{y=eE(s.mockUserToken,r._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(x)}r._authCredentials=new EI(new $E(y,E))}}class Ma{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pc(n,Tt._jsonSchema))return new Tt(e,s||null,new ge(rt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Vt("string",Tt._jsonSchemaVersion),referencePath:Vt("string")};class Ts extends Ma{constructor(e,n,s){super(e,n,wg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ge(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function On(r,e,...n){if(r=dt(r),KE("collection","path",e),r instanceof jd){const s=rt.fromString(e,...n);return Ab(s),new Ts(r,null,s)}{if(!(r instanceof Tt||r instanceof Ts))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return Ab(s),new Ts(r.firestore,null,s)}}function En(r,e,...n){if(r=dt(r),arguments.length===1&&(e=_g.newId()),KE("doc","path",e),r instanceof jd){const s=rt.fromString(e,...n);return wb(s),new Tt(r,null,new ge(s))}{if(!(r instanceof Tt||r instanceof Ts))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return wb(s),new Tt(r.firestore,r instanceof Ts?r.converter:null,new ge(s))}}const f1="AsyncQueue";class m1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bx(this,"async_queue_retry"),this._c=()=>{const s=ap();s&&ue(f1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Qo(e))throw e;ue(f1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ri("INTERNAL UNHANDLED ERROR: ",p1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Lg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:p1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function p1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ks extends jd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new m1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m1(e),this._firestoreClient=void 0,await e}}}function R5(r,e){const n=typeof r=="object"?r:ag(),s=typeof r=="string"?r:td,o=yd(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=W1("firestore");c&&S5(o,...c)}return o}function Md(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||N5(r),r._firestoreClient}function N5(r){const e=r._freezeSettings(),n=A5(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new g5(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(tn.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Vt("string",Xn._jsonSchemaVersion),bytes:Vt("string")};class Fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gg{constructor(e){this._methodName=e}}class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:Vt("string",Qr._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class mr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new mr(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:Vt("string",mr._jsonSchemaVersion),vectorValues:Vt("object")};const C5=/^__.*__$/;class I5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(e,this.data,n,this.fieldTransforms)}}class uT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:r})}}class $g{constructor(e,n,s,o,c,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new $g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ud(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(hT(this.dataSource)&&C5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class D5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Id(e)}createContext(e,n,s,o=!1){return new $g({dataSource:e,methodName:n,targetDoc:s,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(r){const e=r._freezeSettings(),n=Id(r._databaseId);return new D5(r._databaseId,!!e.ignoreUndefinedProperties,n)}function dT(r,e,n,s,o,c={}){const u=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);Kg("Data must be an object, but it was:",u,s);const m=fT(s,u);let g,y;if(c.merge)g=new jn(u.fieldMask),y=u.fieldTransforms;else if(c.mergeFields){const E=[];for(const x of c.mergeFields){const w=Ca(e,x,n);if(!u.contains(w))throw new ce(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);gT(E,w)||E.push(w)}g=new jn(E),y=u.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=u.fieldTransforms;return new I5(new dn(m),g,y)}class Vd extends Gg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}function O5(r,e,n,s){const o=r.createContext(1,e,n);Kg("Data must be an object, but it was:",o,s);const c=[],u=dn.empty();js(s,((g,y)=>{const E=pT(e,g,n);y=dt(y);const x=o.childContextForFieldPath(E);if(y instanceof Vd)c.push(E);else{const w=qc(y,x);w!=null&&(c.push(E),u.set(E,w))}}));const m=new jn(c);return new uT(u,m,o.fieldTransforms)}function j5(r,e,n,s,o,c){const u=r.createContext(1,e,n),m=[Ca(e,s,n)],g=[o];if(c.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(Ca(e,c[w])),g.push(c[w+1]);const y=[],E=dn.empty();for(let w=m.length-1;w>=0;--w)if(!gT(y,m[w])){const j=m[w];let G=g[w];G=dt(G);const B=u.childContextForFieldPath(j);if(G instanceof Vd)y.push(j);else{const P=qc(G,B);P!=null&&(y.push(j),E.set(j,P))}}const x=new jn(y);return new uT(E,x,u.fieldTransforms)}function M5(r,e,n,s=!1){return qc(n,r.createContext(s?4:3,e))}function qc(r,e){if(mT(r=dt(r)))return Kg("Unsupported field value:",e,r),fT(r,e);if(r instanceof Gg)return(function(s,o){if(!hT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const m of s){let g=qc(m,o.childContextForArray(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return m4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=at.fromDate(s);return{timestampValue:ad(o.serializer,c)}}if(s instanceof at){const c=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ad(o.serializer,c)}}if(s instanceof Qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:Nx(o.serializer,s._byteString)};if(s instanceof Tt){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mr)return(function(u,m){const g=u instanceof mr?u.toArray():u;return{mapValue:{fields:{[nx]:{stringValue:rx},[nd]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Ag(m.serializer,E)}))}}}}}})(s,o);if(Vx(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ed(s)}`)})(r,e)}function fT(r,e){const n={};return XE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(r,((s,o)=>{const c=qc(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function mT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Qr||r instanceof Xn||r instanceof Tt||r instanceof Gg||r instanceof mr||Vx(r))}function Kg(r,e,n){if(!mT(n)||!QE(n)){const s=Ed(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Ca(r,e,n){if((e=dt(e))instanceof Fg)return e._internalPath;if(typeof e=="string")return pT(r,e);throw ud("Field path arguments must be of type string or ",r,!1,void 0,n)}const k5=new RegExp("[~\\*/\\[\\]]");function pT(r,e,n){if(e.search(k5)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Fg(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ud(r,e,n,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${s}`),u&&(g+=` in document ${o}`),g+=")"),new ce(Z.INVALID_ARGUMENT,m+r+g)}function gT(r,e){return r.some((n=>n.isEqual(e)))}class V5{convertValue(e,n="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return js(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[nd].arrayValue?.values?.map((s=>xt(s.doubleValue)));return new mr(n)}convertGeoPoint(e){return new Qr(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=wd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wc(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);$e(kx(s),9688,{name:e});const o=new Ac(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return o.isEqual(n)||Ri(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Qg extends V5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}const g1="@firebase/firestore",y1="4.11.0";class P5{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class L5{constructor(e,n,s){this._userDataWriter=n,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new dn({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class yT{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ca("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U5 extends yT{data(){return super.data()}}function z5(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class _T extends Yg{}function ws(r,e,...n){let s=[];e instanceof Yg&&s.push(e),s=s.concat(n),(function(c){const u=c.filter((g=>g instanceof Xg)).length,m=c.filter((g=>g instanceof Pd)).length;if(u>1||u>0&&m>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Pd extends _T{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Pd(e,n,s)}_apply(e){const n=this._parse(e);return bT(e._query,n),new Ma(e.firestore,e.converter,Cp(e._query,n))}_parse(e){const n=kd(e.firestore);return(function(c,u,m,g,y,E,x){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){v1(x,E);const G=[];for(const B of x)G.push(_1(g,c,B));w={arrayValue:{values:G}}}else w=_1(g,c,x)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||v1(x,E),w=M5(m,u,x,E==="in"||E==="not-in");return kt.create(y,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function va(r,e,n){const s=e,o=Ca("where",r);return Pd._create(o,s,n)}class Xg extends Yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const g of m)bT(u,g),u=Cp(u,g)})(e._query,n),new Ma(e.firestore,e.converter,Cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wg extends _T{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wg(e,n)}_apply(e){const n=(function(o,c,u){if(o.startAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rc(c,u)})(e._query,this._field,this._direction);return new Ma(e.firestore,e.converter,a4(e._query,n))}}function vT(r,e="asc"){const n=e,s=Ca("orderBy",r);return Wg._create(s,n)}function _1(r,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hx(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ge.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jb(r,new ge(s))}if(n instanceof Tt)return jb(r,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function v1(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bT(r,e){const n=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ET(r,e,n){let s;return s=r?r.toFirestore(e):e,s}function B5(){return new P5("count")}function b1(r){return q5(r,{count:B5()})}function q5(r,e){const n=Zn(r.firestore,ks),s=Md(n),o=zI(e,((c,u)=>new w4(u,c.aggregateType,c._internalFieldPath)));return x5(s,r._query,o).then((c=>(function(m,g,y){const E=new Qg(m);return new L5(g,E,y)})(n,r,c)))}class hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ba extends yT{constructor(e,n,s,o,c,u){super(e,n,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ca("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ba._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Vt("string",ba._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class zh extends ba{data(e={}){return super.data(e)}}class Mo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new hc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new zh(this._firestore,this._userDataWriter,s.key,s,new hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const g=new zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),E=u.indexOf(m.doc.key)),{type:H5(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function H5(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Vt("string",Mo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function Bh(r){r=Zn(r,Tt);const e=Zn(r.firestore,ks),n=Md(e);return b5(n,r._key).then((s=>F5(e,r,s)))}function Ea(r){r=Zn(r,Ma);const e=Zn(r.firestore,ks),n=Md(e),s=new Qg(e);return z5(r._query),E5(n,r._query).then((o=>new Mo(e,s,r,o)))}function lp(r,e,n){r=Zn(r,Tt);const s=Zn(r.firestore,ks),o=ET(r.converter,e),c=kd(s);return Ld(s,[dT(c,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Wn.none())])}function qh(r,e,n,...s){r=Zn(r,Tt);const o=Zn(r.firestore,ks),c=kd(o);let u;return u=typeof(e=dt(e))=="string"||e instanceof Fg?j5(c,"updateDoc",r._key,e,n,s):O5(c,"updateDoc",r._key,e),Ld(o,[u.toMutation(r._key,Wn.exists(!0))])}function E1(r){return Ld(Zn(r.firestore,ks),[new Sg(r._key,Wn.none())])}function hd(r,e){const n=Zn(r.firestore,ks),s=En(r),o=ET(r.converter,e),c=kd(r.firestore);return Ld(n,[dT(c,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function Ld(r,e){const n=Md(r);return T5(n,e)}function F5(r,e,n){const s=n.docs.get(e._key),o=new Qg(r);return new ba(r,o,e._key,s,new hc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){vI(Da),wa(new As("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),m=new ks(new xI(s.getProvider("auth-internal")),new AI(u,s.getProvider("app-check-internal")),HI(u,o),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Hr(g1,y1,e),Hr(g1,y1,"esm2020")})();const xT="firebasestorage.googleapis.com",TT="storageBucket",G5=120*1e3,$5=600*1e3;class yt extends Xr{constructor(e,n,s=0){super(cp(e),`Firebase Storage: ${n} (${cp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function cp(r){return"storage/"+r}function Jg(){const r="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,r)}function K5(r){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Q5(r){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y5(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,r)}function X5(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function W5(r){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function J5(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z5(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function e6(r){return new yt(gt.INVALID_URL,"Invalid URL '"+r+"'.")}function t6(r){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function n6(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TT+"' property when initializing the app?")}function r6(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function i6(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function s6(r){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zp(r){return new yt(gt.INVALID_ARGUMENT,r)}function wT(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function a6(r){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vc(r,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function sc(r){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+r)}class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(s.path==="")return s;throw t6(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+o+u,"i"),g={bucket:1,path:3};function y(le){le.path_=decodeURIComponent(le.path)}const E="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",j=new RegExp(`^https?://${x}/${E}/b/${o}/o${w}`,"i"),G={bucket:1,path:3},B=n===xT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",Q=new RegExp(`^https?://${B}/${o}/${P}`,"i"),re=[{regex:m,indices:g,postModify:c},{regex:j,indices:G,postModify:y},{regex:Q,indices:{bucket:1,path:2},postModify:y}];for(let le=0;le<re.length;le++){const ie=re[le],fe=ie.regex.exec(e);if(fe){const N=fe[ie.indices.bucket];let R=fe[ie.indices.path];R||(R=""),s=new Mn(N,R),ie.postModify(s);break}}if(s==null)throw e6(e);return s}}class o6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function l6(r,e,n){let s=1,o=null,c=null,u=!1,m=0;function g(){return m===2}let y=!1;function E(...P){y||(y=!0,e.apply(null,P))}function x(P){o=setTimeout(()=>{o=null,r(j,g())},P)}function w(){c&&clearTimeout(c)}function j(P,...Q){if(y){w();return}if(P){w(),E.call(null,P,...Q);return}if(g()||u){w(),E.call(null,P,...Q);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,x(re)}let G=!1;function B(P){G||(G=!0,w(),!y&&(o!==null?(P||(m=2),clearTimeout(o),x(0)):P||(m=1)))}return x(0),c=setTimeout(()=>{u=!0,B(!0)},n),B}function c6(r){r(!1)}function u6(r){return r!==void 0}function h6(r){return typeof r=="object"&&!Array.isArray(r)}function Zg(r){return typeof r=="string"||r instanceof String}function x1(r){return ey()&&r instanceof Blob}function ey(){return typeof Blob<"u"}function T1(r,e,n,s){if(s<e)throw zp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw zp(`Invalid value for '${r}'. Expected ${n} or less.`)}function ty(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function AT(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var xa;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(xa||(xa={}));function d6(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}class f6{constructor(e,n,s,o,c,u,m,g,y,E,x,w=!0,j=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=x,this.retry=w,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,B)=>{this.resolve_=G,this.reject_=B,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Sh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const m=c.getErrorCode()===xa.NO_ERROR,g=c.getStatus();if(!m||d6(g,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===xa.ABORT;s(!1,new Sh(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new Sh(y,c))})},n=(s,o)=>{const c=this.resolve_,u=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());u6(g)?c(g):c()}catch(g){u(g)}else if(m!==null){const g=Jg();g.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,g)):u(g)}else if(o.canceled){const g=this.appDelete_?wT():Z5();u(g)}else{const g=J5();u(g)}};this.canceled_?n(!1,new Sh(!1,null,!0)):this.backoffId_=l6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&c6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function m6(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function p6(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g6(r,e){e&&(r["X-Firebase-GMPID"]=e)}function y6(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function _6(r,e,n,s,o,c,u=!0,m=!1){const g=AT(r.urlParams),y=r.url+g,E=Object.assign({},r.headers);return g6(E,e),m6(E,n),p6(E,c),y6(E,s),new f6(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,u,m)}function v6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function b6(...r){const e=v6();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(ey())return new Blob(r);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function E6(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function x6(r){if(typeof atob>"u")throw s6("base-64");return atob(r)}const Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class up{constructor(e,n){this.data=e,this.contentType=n||null}}function T6(r,e){switch(r){case Br.RAW:return new up(ST(e));case Br.BASE64:case Br.BASE64URL:return new up(RT(r,e));case Br.DATA_URL:return new up(A6(e),S6(e))}throw Jg()}function ST(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=s,u=r.charCodeAt(++n);s=65536|(c&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function w6(r){let e;try{e=decodeURIComponent(r)}catch{throw vc(Br.DATA_URL,"Malformed data URL.")}return ST(e)}function RT(r,e){switch(r){case Br.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw vc(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw vc(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=x6(e)}catch(o){throw o.message.includes("polyfill")?o:vc(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class NT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw vc(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=R6(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function A6(r){const e=new NT(r);return e.base64?RT(Br.BASE64,e.rest):w6(e.rest)}function S6(r){return new NT(r).contentType}function R6(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class ys{constructor(e,n){let s=0,o="";x1(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(x1(this.data_)){const s=this.data_,o=E6(s,e,n);return o===null?null:new ys(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ys(s,!0)}}static getBlob(...e){if(ey()){const n=e.map(s=>s instanceof ys?s.data_:s);return new ys(b6.apply(null,n))}else{const n=e.map(u=>Zg(u)?T6(Br.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const o=new Uint8Array(s);let c=0;return n.forEach(u=>{for(let m=0;m<u.length;m++)o[c++]=u[m]}),new ys(o,!0)}}uploadData(){return this.data_}}function CT(r){let e;try{e=JSON.parse(r)}catch{return null}return h6(e)?e:null}function N6(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function C6(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function IT(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function I6(r,e){return e}class hn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||I6}}let Rh=null;function D6(r){return!Zg(r)||r.length<2?r:IT(r)}function DT(){if(Rh)return Rh;const r=[];r.push(new hn("bucket")),r.push(new hn("generation")),r.push(new hn("metageneration")),r.push(new hn("name","fullPath",!0));function e(c,u){return D6(u)}const n=new hn("name");n.xform=e,r.push(n);function s(c,u){return u!==void 0?Number(u):u}const o=new hn("size");return o.xform=s,r.push(o),r.push(new hn("timeCreated")),r.push(new hn("updated")),r.push(new hn("md5Hash",null,!0)),r.push(new hn("cacheControl",null,!0)),r.push(new hn("contentDisposition",null,!0)),r.push(new hn("contentEncoding",null,!0)),r.push(new hn("contentLanguage",null,!0)),r.push(new hn("contentType",null,!0)),r.push(new hn("metadata","customMetadata",!0)),Rh=r,Rh}function O6(r,e){function n(){const s=r.bucket,o=r.fullPath,c=new Mn(s,o);return e._makeStorageReference(c)}Object.defineProperty(r,"ref",{get:n})}function j6(r,e,n){const s={};s.type="file";const o=n.length;for(let c=0;c<o;c++){const u=n[c];s[u.local]=u.xform(s,e[u.server])}return O6(s,r),s}function OT(r,e,n){const s=CT(e);return s===null?null:j6(r,s,n)}function M6(r,e,n,s){const o=CT(e);if(o===null||!Zg(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const u=encodeURIComponent;return c.split(",").map(y=>{const E=r.bucket,x=r.fullPath,w="/b/"+u(E)+"/o/"+u(x),j=ty(w,n,s),G=AT({alt:"media",token:y});return j+G})[0]}function k6(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(n[c.server]=r[c.local])}return JSON.stringify(n)}class jT{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function MT(r){if(!r)throw Jg()}function V6(r,e){function n(s,o){const c=OT(r,o,e);return MT(c!==null),c}return n}function P6(r,e){function n(s,o){const c=OT(r,o,e);return MT(c!==null),M6(c,o,r.host,r._protocol)}return n}function kT(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=X5():o=Y5():n.getStatus()===402?o=Q5(r.bucket):n.getStatus()===403?o=W5(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function L6(r){const e=kT(r);function n(s,o){let c=e(s,o);return s.getStatus()===404&&(c=K5(r.path)),c.serverResponse=o.serverResponse,c}return n}function U6(r,e,n){const s=e.fullServerUrl(),o=ty(s,r.host,r._protocol),c="GET",u=r.maxOperationRetryTime,m=new jT(o,c,P6(r,n),u);return m.errorHandler=L6(e),m}function z6(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function B6(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=z6(null,e)),s}function q6(r,e,n,s,o){const c=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let re="";for(let le=0;le<2;le++)re=re+Math.random().toString().slice(2);return re}const g=m();u["Content-Type"]="multipart/related; boundary="+g;const y=B6(e,s,o),E=k6(y,n),x="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+g+"--",j=ys.getBlob(x,s,w);if(j===null)throw r6();const G={name:y.fullPath},B=ty(c,r.host,r._protocol),P="POST",Q=r.maxUploadRetryTime,W=new jT(B,P,V6(r,n),Q);return W.urlParams=G,W.headers=u,W.body=j.uploadData(),W.errorHandler=kT(e),W}class H6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,c){if(this.sent_)throw sc("cannot .send() more than once");if(Os(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const u in c)c.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,c[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class F6 extends H6{initXhr(){this.xhr_.responseType="text"}}function VT(){return new F6}class Ia{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ia(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IT(this._location.path)}get storage(){return this._service}get parent(){const e=N6(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new Ia(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw a6(e)}}function G6(r,e,n){r._throwIfRoot("uploadBytes");const s=q6(r.storage,r._location,DT(),new ys(e,!0),n);return r.storage.makeRequestWithTokens(s,VT).then(o=>({metadata:o,ref:r}))}function $6(r){r._throwIfRoot("getDownloadURL");const e=U6(r.storage,r._location,DT());return r.storage.makeRequestWithTokens(e,VT).then(n=>{if(n===null)throw i6();return n})}function K6(r,e){const n=C6(r._location.path,e),s=new Mn(r._location.bucket,n);return new Ia(r.storage,s)}function Q6(r){return/^[A-Za-z]+:\/\//.test(r)}function Y6(r,e){return new Ia(r,e)}function PT(r,e){if(r instanceof ny){const n=r;if(n._bucket==null)throw n6();const s=new Ia(n,n._bucket);return e!=null?PT(s,e):s}else return e!==void 0?K6(r,e):r}function X6(r,e){if(e&&Q6(e)){if(r instanceof ny)return Y6(r,e);throw zp("To use ref(service, url), the first argument must be a Storage instance.")}else return PT(r,e)}function w1(r,e){const n=e?.[TT];return n==null?null:Mn.makeFromBucketSpec(n,r)}function W6(r,e,n,s={}){r.host=`${e}:${n}`;const o=Os(e);o&&(ng(`https://${r.host}/b`),rg("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:eE(c,r.app.options.projectId))}class ny{constructor(e,n,s,o,c,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=xT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G5,this._maxUploadRetryTime=$5,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=w1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=w1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ia(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new o6(wT());{const u=_6(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const A1="@firebase/storage",S1="0.14.0";const LT="storage";function J6(r,e,n){return r=dt(r),G6(r,e,n)}function Z6(r){return r=dt(r),$6(r)}function e3(r,e){return r=dt(r),X6(r,e)}function t3(r=ag(),e){r=dt(r);const s=yd(r,LT).getImmediate({identifier:e}),o=W1("storage");return o&&n3(s,...o),s}function n3(r,e,n,s={}){W6(r,e,n,s)}function r3(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new ny(n,s,o,e,Da)}function i3(){wa(new As(LT,r3,"PUBLIC").setMultipleInstances(!0)),Hr(A1,S1,""),Hr(A1,S1,"esm2020")}i3();const s3={apiKey:"AIzaSyDhATfuTR03Z0MDHK6LdVtePzvnOlw2RYs",authDomain:"inmobiliaria-89dca.firebaseapp.com",projectId:"inmobiliaria-89dca",storageBucket:"inmobiliaria-89dca.firebasestorage.app",messagingSenderId:"264339137867",appId:"1:264339137867:web:721f347d175208451c34ce",measurementId:"G-71P9DV29GB"},ry=rE(s3),pa=yI(ry),nt=R5(ry),a3=t3(ry),o3=new _i,l3=new mc("apple.com");let c3={data:""},u3=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||c3},h3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,d3=/\/\*[^]*?\*\/|  +/g,R1=/\n+/g,_s=(r,e)=>{let n="",s="",o="";for(let c in r){let u=r[c];c[0]=="@"?c[1]=="i"?n=c+" "+u+";":s+=c[1]=="f"?_s(u,c):c+"{"+_s(u,c[1]=="k"?"":e)+"}":typeof u=="object"?s+=_s(u,e?e.replace(/([^,])+/g,m=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,m):m?m+" "+g:g)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=_s.p?_s.p(c,u):c+":"+u+";")}return n+(e&&o?e+"{"+o+"}":o)+s},yi={},UT=r=>{if(typeof r=="object"){let e="";for(let n in r)e+=n+UT(r[n]);return e}return r},f3=(r,e,n,s,o)=>{let c=UT(r),u=yi[c]||(yi[c]=(g=>{let y=0,E=11;for(;y<g.length;)E=101*E+g.charCodeAt(y++)>>>0;return"go"+E})(c));if(!yi[u]){let g=c!==r?r:(y=>{let E,x,w=[{}];for(;E=h3.exec(y.replace(d3,""));)E[4]?w.shift():E[3]?(x=E[3].replace(R1," ").trim(),w.unshift(w[0][x]=w[0][x]||{})):w[0][E[1]]=E[2].replace(R1," ").trim();return w[0]})(r);yi[u]=_s(o?{["@keyframes "+u]:g}:g,n?"":"."+u)}let m=n&&yi.g?yi.g:null;return n&&(yi.g=yi[u]),((g,y,E,x)=>{x?y.data=y.data.replace(x,g):y.data.indexOf(g)===-1&&(y.data=E?g+y.data:y.data+g)})(yi[u],e,s,m),u},m3=(r,e,n)=>r.reduce((s,o,c)=>{let u=e[c];if(u&&u.call){let m=u(n),g=m&&m.props&&m.props.className||/^go/.test(m)&&m;u=g?"."+g:m&&typeof m=="object"?m.props?"":_s(m,""):m===!1?"":m}return s+o+(u??"")},"");function Ud(r){let e=this||{},n=r.call?r(e.p):r;return f3(n.unshift?n.raw?m3(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,u3(e.target),e.g,e.o,e.k)}let zT,Bp,qp;Ud.bind({g:1});let Ci=Ud.bind({k:1});function p3(r,e,n,s){_s.p=e,zT=r,Bp=n,qp=s}function Vs(r,e){let n=this||{};return function(){let s=arguments;function o(c,u){let m=Object.assign({},c),g=m.className||o.className;n.p=Object.assign({theme:Bp&&Bp()},m),n.o=/ *go\d+/.test(g),m.className=Ud.apply(n,s)+(g?" "+g:"");let y=r;return r[0]&&(y=m.as||r,delete m.as),qp&&y[0]&&qp(m),zT(y,m)}return o}}var g3=r=>typeof r=="function",dd=(r,e)=>g3(r)?r(e):r,y3=(()=>{let r=0;return()=>(++r).toString()})(),BT=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),_3=20,iy="default",qT=(r,e)=>{let{toastLimit:n}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,n)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:s}=e;return qT(r,{type:r.toasts.find(u=>u.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...r,toasts:r.toasts.map(u=>u.id===o||o===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let c=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+c}))}}},Hh=[],HT={toasts:[],pausedAt:void 0,settings:{toastLimit:_3}},qr={},FT=(r,e=iy)=>{qr[e]=qT(qr[e]||HT,r),Hh.forEach(([n,s])=>{n===e&&s(qr[e])})},GT=r=>Object.keys(qr).forEach(e=>FT(r,e)),v3=r=>Object.keys(qr).find(e=>qr[e].toasts.some(n=>n.id===r)),zd=(r=iy)=>e=>{FT(e,r)},b3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},E3=(r={},e=iy)=>{let[n,s]=M.useState(qr[e]||HT),o=M.useRef(qr[e]);M.useEffect(()=>(o.current!==qr[e]&&s(qr[e]),Hh.push([e,s]),()=>{let u=Hh.findIndex(([m])=>m===e);u>-1&&Hh.splice(u,1)}),[e]);let c=n.toasts.map(u=>{var m,g,y;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((m=r[u.type])==null?void 0:m.removeDelay)||r?.removeDelay,duration:u.duration||((g=r[u.type])==null?void 0:g.duration)||r?.duration||b3[u.type],style:{...r.style,...(y=r[u.type])==null?void 0:y.style,...u.style}}});return{...n,toasts:c}},x3=(r,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...n,id:n?.id||y3()}),Hc=r=>(e,n)=>{let s=x3(e,r,n);return zd(s.toasterId||v3(s.id))({type:2,toast:s}),s.id},Bt=(r,e)=>Hc("blank")(r,e);Bt.error=Hc("error");Bt.success=Hc("success");Bt.loading=Hc("loading");Bt.custom=Hc("custom");Bt.dismiss=(r,e)=>{let n={type:3,toastId:r};e?zd(e)(n):GT(n)};Bt.dismissAll=r=>Bt.dismiss(void 0,r);Bt.remove=(r,e)=>{let n={type:4,toastId:r};e?zd(e)(n):GT(n)};Bt.removeAll=r=>Bt.remove(void 0,r);Bt.promise=(r,e,n)=>{let s=Bt.loading(e.loading,{...n,...n?.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let c=e.success?dd(e.success,o):void 0;return c?Bt.success(c,{id:s,...n,...n?.success}):Bt.dismiss(s),o}).catch(o=>{let c=e.error?dd(e.error,o):void 0;c?Bt.error(c,{id:s,...n,...n?.error}):Bt.dismiss(s)}),r};var T3=1e3,w3=(r,e="default")=>{let{toasts:n,pausedAt:s}=E3(r,e),o=M.useRef(new Map).current,c=M.useCallback((x,w=T3)=>{if(o.has(x))return;let j=setTimeout(()=>{o.delete(x),u({type:4,toastId:x})},w);o.set(x,j)},[]);M.useEffect(()=>{if(s)return;let x=Date.now(),w=n.map(j=>{if(j.duration===1/0)return;let G=(j.duration||0)+j.pauseDuration-(x-j.createdAt);if(G<0){j.visible&&Bt.dismiss(j.id);return}return setTimeout(()=>Bt.dismiss(j.id,e),G)});return()=>{w.forEach(j=>j&&clearTimeout(j))}},[n,s,e]);let u=M.useCallback(zd(e),[e]),m=M.useCallback(()=>{u({type:5,time:Date.now()})},[u]),g=M.useCallback((x,w)=>{u({type:1,toast:{id:x,height:w}})},[u]),y=M.useCallback(()=>{s&&u({type:6,time:Date.now()})},[s,u]),E=M.useCallback((x,w)=>{let{reverseOrder:j=!1,gutter:G=8,defaultPosition:B}=w||{},P=n.filter(re=>(re.position||B)===(x.position||B)&&re.height),Q=P.findIndex(re=>re.id===x.id),W=P.filter((re,le)=>le<Q&&re.visible).length;return P.filter(re=>re.visible).slice(...j?[W+1]:[0,W]).reduce((re,le)=>re+(le.height||0)+G,0)},[n]);return M.useEffect(()=>{n.forEach(x=>{if(x.dismissed)c(x.id,x.removeDelay);else{let w=o.get(x.id);w&&(clearTimeout(w),o.delete(x.id))}})},[n,c]),{toasts:n,handlers:{updateHeight:g,startPause:m,endPause:y,calculateOffset:E}}},A3=Ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,S3=Ci`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R3=Ci`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,N3=Vs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${A3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${S3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${R3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,C3=Ci`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,I3=Vs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${C3} 1s linear infinite;
`,D3=Ci`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,O3=Ci`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,j3=Vs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${O3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,M3=Vs("div")`
  position: absolute;
`,k3=Vs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,V3=Ci`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P3=Vs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${V3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,L3=({toast:r})=>{let{icon:e,type:n,iconTheme:s}=r;return e!==void 0?typeof e=="string"?M.createElement(P3,null,e):e:n==="blank"?null:M.createElement(k3,null,M.createElement(I3,{...s}),n!=="loading"&&M.createElement(M3,null,n==="error"?M.createElement(N3,{...s}):M.createElement(j3,{...s})))},U3=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,z3=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,B3="0%{opacity:0;} 100%{opacity:1;}",q3="0%{opacity:1;} 100%{opacity:0;}",H3=Vs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,F3=Vs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,G3=(r,e)=>{let n=r.includes("top")?1:-1,[s,o]=BT()?[B3,q3]:[U3(n),z3(n)];return{animation:e?`${Ci(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ci(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$3=M.memo(({toast:r,position:e,style:n,children:s})=>{let o=r.height?G3(r.position||e||"top-center",r.visible):{opacity:0},c=M.createElement(L3,{toast:r}),u=M.createElement(F3,{...r.ariaProps},dd(r.message,r));return M.createElement(H3,{className:r.className,style:{...o,...n,...r.style}},typeof s=="function"?s({icon:c,message:u}):M.createElement(M.Fragment,null,c,u))});p3(M.createElement);var K3=({id:r,className:e,style:n,onHeightUpdate:s,children:o})=>{let c=M.useCallback(u=>{if(u){let m=()=>{let g=u.getBoundingClientRect().height;s(r,g)};m(),new MutationObserver(m).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return M.createElement("div",{ref:c,className:e,style:n},o)},Q3=(r,e)=>{let n=r.includes("top"),s=n?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:BT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},Y3=Ud`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Nh=16,X3=({reverseOrder:r,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:c,containerStyle:u,containerClassName:m})=>{let{toasts:g,handlers:y}=w3(n,c);return M.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Nh,left:Nh,right:Nh,bottom:Nh,pointerEvents:"none",...u},className:m,onMouseEnter:y.startPause,onMouseLeave:y.endPause},g.map(E=>{let x=E.position||e,w=y.calculateOffset(E,{reverseOrder:r,gutter:s,defaultPosition:e}),j=Q3(x,w);return M.createElement(K3,{id:E.id,key:E.id,onHeightUpdate:y.updateHeight,className:E.visible?Y3:"",style:j},E.type==="custom"?dd(E.message,E):o?o(E):M.createElement($3,{toast:E,position:x}))}))},ke=Bt;const $T=M.createContext();function Ps(){return M.useContext($T)}function W3({children:r}){const[e,n]=M.useState(null),[s,o]=M.useState(null),[c,u]=M.useState(!0),m=async(B,P,Q="cliente",W="",re="")=>{try{const le=await eC(pa,B,P);return await rC(le.user,{displayName:W}),await lp(En(nt,"users",le.user.uid),{email:B,role:Q,displayName:W,phoneNumber:re,createdAt:new Date}),le}catch(le){throw console.error("Signup error",le),j(le)}},g=(B,P)=>tC(pa,B,P).catch(Q=>{throw j(Q)}),y=async(B="cliente")=>{try{const P=await fb(pa,o3);return(await Bh(En(nt,"users",P.user.uid))).exists()||await lp(En(nt,"users",P.user.uid),{email:P.user.email,displayName:P.user.displayName,phoneNumber:P.user.phoneNumber||"",role:B,createdAt:new Date}),P}catch(P){throw j(P)}},E=async(B="cliente")=>{try{const P=await fb(pa,l3);return(await Bh(En(nt,"users",P.user.uid))).exists()||await lp(En(nt,"users",P.user.uid),{email:P.user.email,displayName:P.user.displayName,phoneNumber:P.user.phoneNumber||"",role:B,createdAt:new Date}),P}catch(P){throw j(P)}},x=()=>oC(pa),w=B=>ZN(pa,B).catch(P=>{throw j(P)}),j=B=>{let P="Ocurri un error inesperado. Por favor intenta de nuevo.";return B.code==="auth/email-already-in-use"&&(P="Este correo ya est registrado."),B.code==="auth/invalid-email"&&(P="El correo no es vlido."),B.code==="auth/user-not-found"&&(P="No encontramos una cuenta con este correo."),B.code==="auth/wrong-password"&&(P="La contrasea es incorrecta."),B.code==="auth/weak-password"&&(P="La contrasea debe tener al menos 6 caracteres."),new Error(P)};M.useEffect(()=>aC(pa,async P=>{if(n(P),P){const Q=await Bh(En(nt,"users",P.uid));Q.exists()&&o(Q.data())}else o(null);u(!1)}),[]);const G={user:e,userData:s,signup:m,login:g,loginWithGoogle:y,loginWithApple:E,logout:x,resetPassword:w};return p.jsxs($T.Provider,{value:G,children:[!c&&r,p.jsx(X3,{position:"top-center"})]})}const hp=({children:r,allowedRoles:e})=>{const{user:n,userData:s,loading:o}=Ps();return o?p.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):n?e&&s&&!e.includes(s.role)?s.role==="agente"?p.jsx(Qm,{to:"/agent-dashboard"}):p.jsx(Qm,{to:"/client-dashboard"}):r:p.jsx(Qm,{to:"/login"})};const KT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const J3=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Z3=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const N1=r=>{const e=Z3(r);return e.charAt(0).toUpperCase()+e.slice(1)};var eO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const nO=M.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:u,...m},g)=>M.createElement("svg",{ref:g,...eO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:KT("lucide",o),...!c&&!tO(m)&&{"aria-hidden":"true"},...m},[...u.map(([y,E])=>M.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Pe=(r,e)=>{const n=M.forwardRef(({className:s,...o},c)=>M.createElement(nO,{ref:c,iconNode:e,className:KT(`lucide-${J3(N1(r))}`,`lucide-${r}`,s),...o}));return n.displayName=N1(r),n};const rO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iO=Pe("arrow-right",rO);const sO=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],aO=Pe("briefcase",sO);const oO=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],lO=Pe("building",oO);const cO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uO=Pe("calendar",cO);const hO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],dO=Pe("circle-user",hO);const fO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],mO=Pe("copy",fO);const pO=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],gO=Pe("door-open",pO);const yO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hp=Pe("eye",yO);const _O=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],vO=Pe("facebook",_O);const bO=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],EO=Pe("heart-handshake",bO);const xO=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],fd=Pe("heart",xO);const TO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],QT=Pe("house",TO);const wO=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],AO=Pe("instagram",wO);const SO=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Fp=Pe("key",SO);const RO=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],NO=Pe("linkedin",RO);const CO=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],IO=Pe("list-filter",CO);const DO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],C1=Pe("loader-circle",DO);const OO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jO=Pe("lock",OO);const MO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kO=Pe("mail",MO);const VO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Gp=Pe("map-pin",VO);const PO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],LO=Pe("message-circle",PO);const UO=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],zO=Pe("mountain",UO);const BO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],qO=Pe("phone",BO);const HO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dp=Pe("refresh-cw",HO);const FO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sy=Pe("search",FO);const GO=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],$O=Pe("share",GO);const KO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YT=Pe("shield-check",KO);const QO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$p=Pe("star",QO);const YO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],XO=Pe("target",YO);const WO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],JO=Pe("trash-2",WO);const ZO=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],ej=Pe("tree-palm",ZO);const tj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],nj=Pe("upload",tj);const rj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XT=Pe("users",rj);const ij=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],sj=Pe("warehouse",ij);const aj=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],oj=Pe("waves",aj);const lj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WT=Pe("x",lj),cj=({property:r})=>{const e=typeof r.price=="number"?`$${r.price.toLocaleString()}`:r.price;return p.jsxs(Mt,{to:`/properties/${r.id}`,className:"group block",children:[p.jsxs("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[p.jsx("img",{src:r.images?.[0]||"https://via.placeholder.com/400x300?text=No+Image",alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),p.jsx("button",{className:"absolute top-3 right-3 text-white/70 hover:scale-110 transition",children:p.jsx(fd,{className:"w-6 h-6 fill-black/50 text-white stroke-[2px]"})})]}),p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("h3",{className:"font-bold text-gray-900 truncate pr-4",children:r.location||r.address}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx($p,{className:"w-3 h-3 fill-black text-black"}),p.jsx("span",{className:"text-sm font-light",children:"New"})]})]}),p.jsxs("p",{className:"text-gray-500 text-sm",children:["Agente: ",r.agentName||"Inmuvete"]}),p.jsx("p",{className:"text-gray-500 text-sm mb-1 line-clamp-1",children:r.title}),p.jsxs("div",{className:"flex items-baseline gap-1 mt-1",children:[p.jsx("span",{className:"font-semibold text-gray-900",children:e}),r.type==="alquiler"&&p.jsx("span",{className:"text-gray-900 font-light",children:" / mes"})]})]})},uj=[{icon:lO,label:"Departamentos"},{icon:sj,label:"Casas"},{icon:ej,label:"Terrenos"},{icon:zO,label:"Campestres"},{icon:oj,label:"Playa"}],hj=()=>{const[r,e]=M.useState("venta"),[n,s]=M.useState(""),[o,c]=M.useState("departamento"),[u,m]=M.useState("USD"),[g,y]=M.useState(""),[E,x]=M.useState(""),w=["Lima","Arequipa","Cusco","Trujillo","Piura","Ica","Tacna"],[j,G]=M.useState([]),[B,P]=M.useState(!1),Q=N=>{const R=N.target.value;if(s(R),R.length>0){const S=w.filter(O=>O.toLowerCase().includes(R.toLowerCase()));G(S),P(!0)}else P(!1)},W=N=>{s(N),P(!1)},[re,le]=M.useState([]),[ie,fe]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{const R=ws(On(nt,"properties"),va("status","==","disponible")),O=(await Ea(R)).docs.map(D=>({id:D.id,...D.data()}));le(O)}catch(R){console.error("Error fetching properties:",R)}finally{fe(!1)}})()},[]),p.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[p.jsxs("div",{className:"relative h-[85vh] min-h-[700px] flex items-center pt-20",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",alt:"Hero",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/20"})]}),p.jsxs("div",{className:"relative z-10 container mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center",children:[p.jsxs("div",{className:"lg:col-span-5 bg-white rounded-3xl shadow-2xl overflow-hidden animate-fadeIn",children:[p.jsxs("div",{className:"p-8 pb-4 bg-[#262626] text-white",children:[p.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Encuentra tu prximo hogar"}),p.jsx("p",{className:"text-gray-300 text-sm",children:"Explora propiedades nicas para vivir o invertir."})]}),p.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[p.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["venta","alquiler","anticresis"].map(N=>p.jsx("button",{onClick:()=>e(N),className:`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${r===N?"bg-white text-[#fc7f51] shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700"}`,children:N},N))}),p.jsxs("div",{className:"relative",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"En dnde buscas?"}),p.jsxs("div",{className:"relative",children:[p.jsx(Gp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"text",value:n,onChange:Q,onFocus:()=>n&&P(!0),placeholder:"Ciudad, distrito o zona...",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"}),B&&j.length>0&&p.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:j.map(N=>p.jsxs("div",{onClick:()=>W(N),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-2 text-gray-700 font-medium",children:[p.jsx(Gp,{className:"w-4 h-4 text-[#fc7f51]"}),N]},N))})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo de Inmueble"}),p.jsxs("div",{className:"relative",children:[p.jsx(QT,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsxs("select",{value:o,onChange:N=>c(N.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none appearance-none font-medium cursor-pointer",children:[p.jsx("option",{value:"departamento",children:"Departamento"}),p.jsx("option",{value:"casa",children:"Casa"}),p.jsx("option",{value:"terreno",children:"Terreno"}),p.jsx("option",{value:"oficina",children:"Oficina"}),p.jsx("option",{value:"local",children:"Local Comercial"}),p.jsx("option",{value:"otro",children:"Otro"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),p.jsx("div",{className:"relative",children:p.jsxs("div",{className:"flex bg-gray-50 rounded-xl border border-gray-200 p-1 h-[58px] items-center",children:[p.jsx("button",{onClick:()=>m("USD"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${u==="USD"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"$ USD"}),p.jsx("button",{onClick:()=>m("PEN"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${u==="PEN"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"S/ PEN"})]})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Rango de Precio"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("input",{type:"number",placeholder:"Mnimo",value:g,onChange:N=>y(N.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"}),p.jsx("input",{type:"number",placeholder:"Mximo",value:E,onChange:N=>x(N.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"})]})]}),p.jsxs("button",{className:"flex items-center gap-2 text-[#fc7f51] font-bold text-sm hover:underline",children:[p.jsx(IO,{className:"w-4 h-4"}),"Ms filtros (Habitaciones, Baos, rea...)"]}),p.jsxs("button",{className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2",children:[p.jsx(sy,{className:"w-6 h-6"}),"BUSCAR PROPIEDADES"]})]})]}),p.jsx("div",{className:"hidden lg:block lg:col-span-7",children:p.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[p.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-[#fc7f51] transform hover:-translate-x-2 transition cursor-pointer",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:p.jsx(aO,{className:"w-6 h-6 text-[#fc7f51]"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Eres Propietario?"}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros y vndela ms rpido."})]})]}),p.jsx(Mt,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),p.jsx("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-blue-500 transform hover:-translate-x-2 transition cursor-pointer delay-100",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:p.jsx(Fp,{className:"w-6 h-6 text-blue-500"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Buscas Invertir?"}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Asesora experta para multiplicar tu capital."})]})]})})]})})]})]}),p.jsx("div",{className:"bg-gray-50 py-10 border-b border-gray-200",children:p.jsx("div",{className:"container mx-auto px-6",children:p.jsx("div",{className:"flex gap-4 md:gap-12 overflow-x-auto no-scrollbar items-center justify-start md:justify-center py-2",children:uj.map((N,R)=>p.jsxs("div",{className:"flex flex-col items-center gap-3 min-w-[100px] cursor-pointer group opacity-60 hover:opacity-100 transition-all duration-300 hover:-translate-y-1",children:[p.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-md border border-gray-100 group-hover:border-[#fc7f51]/30 transition",children:p.jsx(N.icon,{className:"w-7 h-7 text-[#262626] group-hover:text-[#fc7f51] transition",strokeWidth:1.5})}),p.jsx("span",{className:"text-sm font-semibold text-[#262626] group-hover:text-[#fc7f51] whitespace-nowrap transition",children:N.label})]},R))})})}),p.jsxs("main",{id:"properties",className:"container mx-auto px-6 py-20",children:[p.jsxs("div",{className:"flex justify-between items-end mb-12",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Oportunidades"}),p.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Propiedades Destacadas"})]}),p.jsxs(Mt,{to:"/properties",className:"hidden md:flex items-center gap-2 text-[#262626] font-semibold hover:text-[#fc7f51] transition group",children:["Ver todo ",p.jsx(iO,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:ie?p.jsxs("div",{className:"col-span-full py-20 text-center",children:[p.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"}),p.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando propiedades..."})]}):re.length===0?p.jsx("div",{className:"col-span-full py-20 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:p.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propiedades disponibles en este momento."})}):re.map(N=>p.jsx(cj,{property:N},N.id))}),p.jsx("div",{className:"mt-12 text-center md:hidden",children:p.jsx("button",{className:"bg-white border border-gray-300 text-[#262626] px-8 py-3 rounded-full font-bold shadow-sm hover:bg-gray-50 transition",children:"Ver todas las propiedades"})})]}),p.jsxs("section",{className:"py-24 bg-[#16151a] text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#fc7f51] rounded-full opacity-10 blur-[100px] translate-x-1/3 -translate-y-1/3"}),p.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[p.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Listo para dar el siguiente paso?"}),p.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-2xl mx-auto",children:"Ya sea que busques comprar, vender o invertir, en Inmuvete tenemos el equipo y la experiencia para hacerlo posible."}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[p.jsx(Mt,{to:"/contact",className:"bg-[#fc7f51] text-white px-8 py-4 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg hover:shadow-orange-500/20",children:"Contctanos Ahora"}),p.jsx(Mt,{to:"/about",className:"bg-transparent border border-gray-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-[#262626] hover:border-white transition",children:"Conoce Ms"})]})]})]})]})},dj=[{id:1,title:"Modern Luxury Apartment",description:"Experience urban living at its finest in this stunning modern apartment. Featuring floor-to-ceiling windows, a state-of-the-art kitchen, and breathtaking city views. Steps away from the best dining and entertainment.",price:"$1,200,000",sqft:1500,rooms:3,bathrooms:2,location:"Downtown City Center",address:"123 Skyline Ave, Metro City",video:"",images:["/images/modern_ext.png","/images/modern_int.png"],coordinates:{lat:40.7128,lng:-74.006}},{id:2,title:"Exquisite Seaside Villa",description:"A masterpiece of design, this luxury villa offers unparalleled privacy and comfort. Enjoy the infinity pool, lush tropical gardens, and direct beach access. Perfect for entertaining or a peaceful retreat.",price:"$3,500,000",sqft:4500,rooms:5,bathrooms:4.5,location:"Coastal Paradise",address:"45 Ocean Drive, Sunny Beach",video:"",images:["/images/villa_ext.png","/images/villa_int.png"],coordinates:{lat:25.7617,lng:-80.1918}},{id:3,title:"Charming Family Home",description:"Nestled in a quiet suburban neighborhood, this cozy family home features a warm and inviting atmosphere. With a spacious backyard, modern amenities, and close proximity to schools and parks, it's the perfect place to raise a family.",price:"$650,000",sqft:2200,rooms:4,bathrooms:3,location:"Suburban Haven",address:"789 Maple Lane, Green Valley",video:"",images:["/images/house_ext.png","/images/house_int.png"],coordinates:{lat:34.0522,lng:-118.2437}}],JT="/inmobiliaria/assets/logo-9PyExb9b.png",ay=()=>{const{user:r,userData:e,logout:n}=Ps();return p.jsx("nav",{className:"fixed w-full z-50 bg-[#16151a] border-b border-gray-800 shadow-lg",children:p.jsxs("div",{className:"container mx-auto px-6 h-24 flex justify-between items-center",children:[p.jsx(Mt,{to:"/",className:"flex items-center gap-3 group",children:p.jsx("img",{src:JT,alt:"Inmuvete",className:"h-12 w-auto object-contain"})}),p.jsxs("div",{className:"hidden lg:flex items-center bg-white rounded-full py-2 pl-6 pr-2 shadow-xl hover:shadow-orange-500/5 transition cursor-pointer gap-4 min-w-[420px]",children:[p.jsx("input",{type:"text",placeholder:"Buscar por zona, ciudad o tipo...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm"}),p.jsx("div",{className:"bg-[#fc7f51] p-2.5 rounded-full text-white hover:bg-[#e56b3e] transition shadow-md",children:p.jsx(sy,{className:"w-5 h-5",strokeWidth:2.5})})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[p.jsx(Mt,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),p.jsx(Mt,{to:"/about",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Nosotros"}),p.jsx(Mt,{to:"/contact",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Contacto"})]}),r?p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs(Mt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",className:"text-white hover:text-[#fc7f51] transition font-medium mr-2",children:["Hola, ",r.displayName?r.displayName.split(" ")[0]:"Usuario"]}),p.jsx("button",{onClick:n,className:"bg-[#262626] border border-gray-600 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition",children:"Salir"}),p.jsx(Mt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",children:p.jsx("div",{className:"bg-gray-600 rounded-full p-0.5 cursor-pointer",children:p.jsx(dO,{className:"w-8 h-8 text-white fill-gray-600"})})})]}):p.jsx(Mt,{to:"/login",className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-full font-bold transition shadow-lg shadow-orange-500/20",children:"Ingresar"})]})]})})},oy=()=>p.jsxs("footer",{className:"bg-[#16151a] text-white py-16",children:[p.jsxs("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12",children:[p.jsxs("div",{children:[p.jsx("img",{src:JT,alt:"Inmuvete",className:"h-12 mb-6"}),p.jsx("p",{className:"text-[#878787] text-sm leading-relaxed mb-6",children:"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles."}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"in"}),p.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"ig"}),p.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"fb"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Nuestros Valores"}),p.jsxs("ul",{className:"space-y-4 text-sm text-[#878787]",children:[p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Integridad"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Compromiso"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Confianza"]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Contacto"}),p.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"Oficina Central, Ciudad"}),p.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"contacto@inmuevete.com"}),p.jsx("p",{className:"text-[#878787] text-sm",children:"+51 123 456 789"})]})]}),p.jsx("div",{className:"border-t border-[#262626] mt-12 pt-8 text-center text-[#878787] text-xs",children:" 2024 Inmuvete. Todos los derechos reservados."})]}),fj=()=>{const{id:r}=EA(),e=r.toString().split("-")[0],n=dj.find(s=>s.id===parseInt(e));return n?p.jsxs("div",{className:"min-h-screen bg-white",children:[p.jsx(ay,{}),p.jsxs("main",{className:"container mx-auto px-6 pt-24 pb-12",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:n.title}),p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium underline",children:[p.jsx($p,{className:"w-4 h-4 fill-black"}),p.jsx("span",{children:"5.0  "}),p.jsx("span",{className:"font-semibold underline",children:"7 reviews"}),p.jsx("span",{children:""}),p.jsx("span",{className:"text-gray-500 no-underline",children:n.location})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg underline font-semibold text-sm",children:[p.jsx($O,{className:"w-4 h-4"})," Share"]}),p.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg underline font-semibold text-sm",children:[p.jsx(fd,{className:"w-4 h-4"})," Save"]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 grid-rows-2 gap-2 h-[400px] md:h-[500px] rounded-2xl overflow-hidden mb-12 relative",children:[p.jsxs("div",{className:"md:col-span-2 md:row-span-2 relative group cursor-pointer",children:[p.jsx("img",{src:n.images[0],alt:"Main",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"})]}),p.jsxs("div",{className:"hidden md:block relative group cursor-pointer",children:[p.jsx("img",{src:n.images[1]||n.images[0],alt:"Sub 1",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"})]}),p.jsxs("div",{className:"hidden md:block relative group cursor-pointer",children:[p.jsx("img",{src:n.images[0],alt:"Sub 2",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"})]}),p.jsxs("div",{className:"hidden md:block relative group cursor-pointer",children:[p.jsx("img",{src:n.images[1]||n.images[0],alt:"Sub 3",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"})]}),p.jsxs("div",{className:"hidden md:block relative group cursor-pointer",children:[p.jsx("img",{src:n.images[0],alt:"Sub 4",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"}),p.jsx("button",{className:"absolute bottom-4 right-4 bg-white border border-gray-800 px-4 py-1.5 rounded-lg text-sm font-semibold shadow-sm hover:bg-gray-100",children:"Show all photos"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Entire home hosted by Agent Smith"}),p.jsxs("p",{className:"text-gray-600 mb-0",children:[n.rooms," guests  ",n.rooms," bedrooms  ",n.rooms*2," beds  ",n.bathrooms," baths"]})]}),p.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8 space-y-6",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsx(gO,{className:"w-8 h-8 text-gray-800"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800",children:"Self check-in"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Check yourself in with the keynote."})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(YT,{className:"w-8 h-8 text-gray-800"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800",children:"Agent Smith is a Superhost"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Superhosts are experienced, highly rated hosts."})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(uO,{className:"w-8 h-8 text-gray-800"}),p.jsx("div",{children:p.jsx("h3",{className:"font-bold text-gray-800",children:"Free cancellation for 48 hours."})})]})]}),p.jsx("div",{className:"border-b border-gray-200 pb-8 mb-8",children:p.jsxs("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-line",children:[n.description,p.jsx("br",{}),p.jsx("br",{}),"Enjoy a stylish experience at this centrally-located place. The space is designed with modern aesthetics and maximum comfort in mind."]})}),p.jsxs("div",{className:"pt-4",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Where you'll be"}),p.jsx("div",{className:"h-96 w-full rounded-xl overflow-hidden bg-gray-100",children:p.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${n.coordinates.lat},${n.coordinates.lng}&hl=en&z=14&output=embed`,allowFullScreen:!0})})]})]}),p.jsx("div",{className:"lg:col-span-1",children:p.jsxs("div",{className:"sticky top-32 bg-white rounded-xl shadow-card border border-gray-200 p-6",children:[p.jsxs("div",{className:"flex justify-between items-end mb-6",children:[p.jsx("div",{children:p.jsx("span",{className:"text-2xl font-bold text-gray-900",children:n.price})}),p.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold",children:[p.jsx($p,{className:"w-3 h-3 fill-black"}),p.jsx("span",{children:"5.0"}),p.jsx("span",{className:"text-gray-400 font-light",children:"  "}),p.jsx("span",{className:"text-gray-500 underline font-light",children:"7 reviews"})]})]}),p.jsxs("div",{className:"border border-gray-400 rounded-lg overflow-hidden mb-4",children:[p.jsxs("div",{className:"grid grid-cols-2 border-b border-gray-400",children:[p.jsxs("div",{className:"p-3 border-r border-gray-400",children:[p.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-800",children:"Check-in"}),p.jsx("div",{className:"text-sm",children:"Add date"})]}),p.jsxs("div",{className:"p-3",children:[p.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-800",children:"Checkout"}),p.jsx("div",{className:"text-sm",children:"Add date"})]})]}),p.jsxs("div",{className:"p-3",children:[p.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-800",children:"Guests"}),p.jsx("div",{className:"text-sm",children:"1 guest"})]})]}),p.jsx("button",{className:"w-full bg-primary text-white font-bold text-lg py-3 rounded-lg hover:bg-[#E00B41] transition mb-4",children:"Reserve"}),p.jsx("div",{className:"text-center text-sm text-gray-500 mb-6",children:"You won't be charged yet"}),p.jsxs("div",{className:"space-y-3 text-gray-700",children:[p.jsxs("div",{className:"flex justify-between underline",children:[p.jsx("span",{children:"$1,000 x 5 nights"}),p.jsx("span",{children:"$5,000"})]}),p.jsxs("div",{className:"flex justify-between underline",children:[p.jsx("span",{children:"Cleaning fee"}),p.jsx("span",{children:"$250"})]}),p.jsxs("div",{className:"flex justify-between underline",children:[p.jsx("span",{children:"Service fee"}),p.jsx("span",{children:"$800"})]})]}),p.jsxs("div",{className:"border-t border-gray-200 mt-6 pt-6 flex justify-between font-bold text-lg",children:[p.jsx("span",{children:"Total before taxes"}),p.jsx("span",{children:"$6,050"})]})]})})]})]}),p.jsx(oy,{})]}):p.jsx("div",{className:"text-center py-20 text-xl font-bold",children:"Property not found!"})},mj=()=>p.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[p.jsx(ay,{}),p.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:p.jsx("img",{src:"/images/modern_ext.png",className:"w-full h-full object-cover opacity-20",alt:"About Hero"})}),p.jsxs("div",{className:"relative z-10 text-center px-6",children:[p.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:["Ms que una ",p.jsx("span",{className:"text-[#fc7f51]",children:"inmobiliaria"})]}),p.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Inspiramos movimiento. Impulsamos a las personas a dar el paso hacia nuevas etapas de su vida."})]})]}),p.jsxs("div",{className:"container mx-auto px-6 py-20",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center mb-24",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Quines Somos"}),p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 leading-tight",children:"Concepto de Marca"}),p.jsxs("p",{className:"text-[#878787] text-lg leading-relaxed mb-6",children:["Ms que vender inmuebles, inspiramos movimiento. ",p.jsx("strong",{className:"text-[#262626]",children:"Inmuvete"})," es la inmobiliaria que impulsa a las personas a dar el paso hacia nuevas etapas de su vida: un nuevo hogar, una inversin segura o un espacio para crecer."]}),p.jsx("p",{className:"text-[#878787] text-lg leading-relaxed",children:"Nuestro enfoque combina confianza, transparencia y dinamismo, convirtiendo cada transaccin en una experiencia cercana, gil y motivadora."})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx("img",{src:"/images/house_ext.png",className:"rounded-tl-[40px] rounded-br-[40px] w-full h-64 object-cover shadow-card",alt:"Concept 1"}),p.jsx("img",{src:"/images/modern_int.png",className:"rounded-tr-[40px] rounded-bl-[40px] w-full h-64 object-cover shadow-card mt-8",alt:"Concept 2"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-24",children:[p.jsxs("div",{className:"bg-[#f9f9f9] p-10 rounded-2xl hover:shadow-lg transition border-l-4 border-[#fc7f51] group",children:[p.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] group-hover:text-white transition",children:p.jsx(XO,{className:"w-7 h-7"})}),p.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Misin"}),p.jsx("p",{className:"text-[#878787] leading-relaxed",children:'"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles, ofreciendo un servicio cercano que transforma cada proceso en una experiencia sencilla y segura."'})]}),p.jsxs("div",{className:"bg-[#262626] p-10 rounded-2xl text-white shadow-xl relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#fc7f51] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"}),p.jsx("div",{className:"w-14 h-14 bg-[#333] rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] transition",children:p.jsx(Hp,{className:"w-7 h-7"})}),p.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visin"}),p.jsx("p",{className:"text-gray-300 leading-relaxed",children:'"Ser la inmobiliaria de referencia en la regin, reconocida por la confianza, innovacin y cercana con nuestros clientes, ofreciendo experiencias inmobiliarias que impulsen el desarrollo personal, familiar y empresarial."'})]})]}),p.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[p.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Nuestra Esencia"}),p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Nuestros Valores"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:p.jsx(YT,{className:"w-10 h-10"})}),p.jsx("h4",{className:"text-xl font-bold mb-3",children:"Integridad"}),p.jsx("p",{className:"text-[#878787] text-sm",children:"Actuamos con honestidad y transparencia en cada paso."})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:p.jsx(EO,{className:"w-10 h-10"})}),p.jsx("h4",{className:"text-xl font-bold mb-3",children:"Compromiso"}),p.jsx("p",{className:"text-[#878787] text-sm",children:"Nos dedicamos a cumplir y superar las expectativas."})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:p.jsx(XT,{className:"w-10 h-10"})}),p.jsx("h4",{className:"text-xl font-bold mb-3",children:"Confianza"}),p.jsx("p",{className:"text-[#878787] text-sm",children:"Construimos relaciones duraderas basadas en la seguridad."})]})]})]})]}),p.jsx(oy,{})]}),pj=()=>{const[r,e]=M.useState({name:"",phone:"+51 ",email:"",subject:"Informacin general",message:""}),n=u=>{e({...r,[u.target.name]:u.target.value})},s=u=>{let m=u.target.value;m.startsWith("+51 ")||(m="+51 "+m.replace(/^\+51\s*/,"")),e({...r,phone:m})},o=()=>{const u="+51965355700";let m=r.message.trim();return m||(m=`Hola, me gustara ${r.subject==="Comprar una propiedad"?"Comprar":r.subject==="Vender una propiedad"?"Vender":r.subject==="Alquileres"?"Alquilar":"obtener Informacin general sobre"} un inmueble.`),m+=`

- Nombre: ${r.name}
- Telfono: ${r.phone}
- Email: ${r.email}
- Asunto: ${r.subject}`,`https://wa.me/${u}?text=${encodeURIComponent(m)}`},c=u=>{if(u.preventDefault(),!r.name||!r.email){ke.error("Por favor completa nombre y email.");return}const m=o();ke.success("Redirigiendo a WhatsApp..."),setTimeout(()=>{window.open(m,"_blank")},1e3)};return p.jsx("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:p.jsxs("div",{className:"pt-24 pb-20 container mx-auto px-6",children:[p.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[p.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Hablamos?"}),p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#262626]",children:"Contctanos"}),p.jsx("p",{className:"text-[#878787] text-lg",children:"Estamos aqu para ayudarte a encontrar tu espacio ideal. Escrbenos y un asesor se pondr en contacto contigo a la brevedad."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[p.jsxs("div",{className:"bg-[#16151a] text-white p-10 rounded-3xl shadow-xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-20 blur-3xl"}),p.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-10 blur-3xl"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Informacin de Contacto"}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:p.jsx(qO,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg mb-1",children:"Telfono"}),p.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"+51 965355700"})]})]}),p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:p.jsx(kO,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg mb-1",children:"Email"}),p.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"contacto@inmuevete.com"}),p.jsx("p",{className:"text-gray-400 text-sm",children:"ventas@inmuevete.com"})]})]}),p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:p.jsx(Gp,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg mb-1",children:"Oficina Central"}),p.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Av. Principal 123, Oficina 404",p.jsx("br",{}),"Centro Empresarial, Ciudad",p.jsx("br",{}),"Per"]})]})]})]}),p.jsxs("div",{className:"mt-12",children:[p.jsx("h4",{className:"font-bold text-lg mb-4",children:"Sguenos"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:p.jsx(AO,{className:"w-5 h-5"})}),p.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:p.jsx(vO,{className:"w-5 h-5"})}),p.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:p.jsx(NO,{className:"w-5 h-5"})})]})]})]})]}),p.jsx("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-card border border-gray-100",children:p.jsxs("form",{onSubmit:c,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Nombre"}),p.jsx("input",{type:"text",name:"name",value:r.name,onChange:n,placeholder:"Tu nombre completo",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Telfono"}),p.jsx("input",{type:"text",name:"phone",value:r.phone,onChange:s,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Email"}),p.jsx("input",{type:"email",name:"email",value:r.email,onChange:n,placeholder:"ejemplo@correo.com",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Asunto"}),p.jsxs("select",{name:"subject",value:r.subject,onChange:n,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition text-gray-600 bg-white",children:[p.jsx("option",{value:"Informacin general",children:"Informacin general"}),p.jsx("option",{value:"Comprar una propiedad",children:"Comprar una propiedad"}),p.jsx("option",{value:"Vender una propiedad",children:"Vender una propiedad"}),p.jsx("option",{value:"Alquileres",children:"Alquileres"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Mensaje"}),p.jsx("textarea",{name:"message",value:r.message,onChange:n,rows:"4",placeholder:"Cmo podemos ayudarte?",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),p.jsxs("button",{type:"submit",className:"w-full bg-[#128C7E] hover:bg-[#075E54] text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2 group",children:["Contactar por WhatsApp",p.jsx(LO,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})]})]})})},gj=()=>{const[r,e]=M.useState(""),[n,s]=M.useState(""),{login:o,loginWithGoogle:c,loginWithApple:u}=Ps(),m=async E=>{E.preventDefault();try{await o(r,n),ke.success("Bienvenido de nuevo!")}catch(x){ke.error(x.message)}},g=async()=>{try{await c(),ke.success("Bienvenido!")}catch(E){ke.error(E.message)}},y=async()=>{try{await u(),ke.success("Bienvenido!")}catch(E){ke.error(E.message)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[p.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Iniciar Sesin"}),p.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Accede a tu cuenta de Inmuvete"}),p.jsxs("form",{onSubmit:m,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),p.jsx("input",{type:"email",value:r,onChange:E=>e(E.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),p.jsx("input",{type:"password",value:n,onChange:E=>s(E.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"",required:!0})]}),p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("label",{className:"flex items-center text-gray-600",children:[p.jsx("input",{type:"checkbox",className:"mr-2 text-[#fc7f51] focus:ring-[#fc7f51] rounded border-gray-300"}),"Recordarme"]}),p.jsx(Mt,{to:"/forgot-password",className:"text-[#fc7f51] hover:underline font-medium",children:"Olvidaste tu contrasea?"})]}),p.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Ingresar"})]}),p.jsxs("div",{className:"my-6 flex items-center",children:[p.jsx("div",{className:"flex-grow border-t border-gray-200"}),p.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O contina con"}),p.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),p.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),p.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["No tienes una cuenta?"," ",p.jsx(Mt,{to:"/register",className:"text-[#fc7f51] font-bold hover:underline",children:"Regstrate aqu"})]})]})})},yj=()=>{const[r,e]=M.useState(""),[n,s]=M.useState(""),[o,c]=M.useState(""),[u,m]=M.useState(""),[g,y]=M.useState("cliente"),{signup:E,loginWithGoogle:x,loginWithApple:w}=Ps(),j=Wp(),G=async Q=>{Q.preventDefault();try{await E(r,n,g,o,u),ke.success("Cuenta creada exitosamente!"),j("/dashboard")}catch(W){ke.error(W.message)}},B=async()=>{try{await x(g),ke.success("Cuenta creada exitosamente!")}catch(Q){ke.error(Q.message)}},P=async()=>{try{await w(g),ke.success("Cuenta creada exitosamente!")}catch(Q){ke.error(Q.message)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[p.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Crear una Cuenta"}),p.jsx("p",{className:"text-center text-gray-500 mb-8",children:"nete y encuentra tu prximo hogar"}),p.jsxs("form",{onSubmit:G,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),p.jsx("input",{type:"text",value:o,onChange:Q=>c(Q.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),p.jsx("input",{type:"tel",value:u,onChange:Q=>m(Q.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"+51 999 999 999",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),p.jsx("input",{type:"email",value:r,onChange:Q=>e(Q.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),p.jsx("input",{type:"password",value:n,onChange:Q=>s(Q.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Crea una contrasea segura",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Qu buscas hacer?"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>y("cliente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${g==="cliente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[p.jsx("span",{className:"font-bold",children:"Buscar Propiedades"}),p.jsx("span",{className:"text-xs mt-1",children:"Soy Cliente"})]}),p.jsxs("button",{type:"button",onClick:()=>y("agente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${g==="agente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[p.jsx("span",{className:"font-bold",children:"Publicar Inmuebles"}),p.jsx("span",{className:"text-xs mt-1",children:"Soy Agente"})]})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Registrarme"})]}),p.jsxs("div",{className:"my-6 flex items-center",children:[p.jsx("div",{className:"flex-grow border-t border-gray-200"}),p.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O regstrate con"}),p.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:B,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),p.jsxs("button",{onClick:P,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),p.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Ya tienes cuenta?"," ",p.jsx(Mt,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Inicia Sesin"})]})]})})},_j=()=>{const[r,e]=M.useState(""),{resetPassword:n}=Ps(),[s,o]=M.useState(!1),c=async u=>{u.preventDefault(),o(!0);try{await n(r),ke.success("Te hemos enviado un correo para restablecer tu contrasea.")}catch(m){ke.error(m.message)}finally{o(!1)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[p.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Recuperar Contrasea"}),p.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Ingresa tu correo y te enviaremos las instrucciones"}),p.jsxs("form",{onSubmit:c,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),p.jsx("input",{type:"email",value:r,onChange:u=>e(u.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),p.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:s?"Enviando...":"Enviar Instrucciones"})]}),p.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Te acordaste?"," ",p.jsx(Mt,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Volver a Iniciar Sesin"})]})]})})},vj=()=>{const{user:r,userData:e}=Ps(),[n,s]=M.useState(!1),[o,c]=M.useState(""),[u,m]=M.useState(!1),[g,y]=M.useState([]),[E,x]=M.useState([]),[w,j]=M.useState({title:"",description:"",type:"venta",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),[G,B]=M.useState([]),[P,Q]=M.useState(!0),W=async()=>{if(r)try{const S=ws(On(nt,"properties"),va("agentId","==",r.uid)),D=(await Ea(S)).docs.map(L=>({id:L.id,...L.data()}));B(D)}catch(S){console.error("Error fetching properties:",S)}finally{Q(!1)}};M.useEffect(()=>{e?.isActivated&&W()},[r,e]);const re=async S=>{S.preventDefault(),m(!0);try{const O=ws(On(nt,"activation_codes"),va("code","==",o),va("used","==",!1)),D=await Ea(O);if(D.empty){ke.error("Cdigo invlido o ya usado."),m(!1);return}const L=D.docs[0];await qh(En(nt,"activation_codes",L.id),{used:!0,usedBy:r.uid,usedAt:new Date}),await qh(En(nt,"users",r.uid),{isActivated:!0,activationCode:o}),ke.success("Cuenta activada con xito! Recargando..."),setTimeout(()=>window.location.reload(),1500)}catch(O){console.error("Error activating account:",O),ke.error("Error al activar la cuenta.")}finally{m(!1)}},le=async(S,O)=>{const D=O==="disponible"?"tomada":"disponible";try{await qh(En(nt,"properties",S),{status:D}),ke.success(`Estado actualizado a: ${D==="disponible"?"Disponible":"No Disponible"}`),W()}catch(L){console.error("Error updating status:",L),ke.error("No se pudo actualizar el estado.")}},ie=S=>{const O=Array.from(S.target.files),D=O.map(L=>URL.createObjectURL(L));x(L=>[...L,...D]),y(L=>[...L,...O])},fe=S=>{y(O=>O.filter((D,L)=>L!==S)),x(O=>O.filter((D,L)=>L!==S))},N=async S=>{S.preventDefault(),s(!0);try{const O=await Promise.all(g.map(async D=>{const L=e3(a3,`properties/${r.uid}/${Date.now()}_${D.name}`),C=await J6(L,D);return await Z6(C.ref)}));await hd(On(nt,"properties"),{...w,agentId:r.uid,agentName:e.displayName||"Agente",images:O,createdAt:new Date,status:"disponible",price:parseFloat(w.price),footage:parseFloat(w.footage),bedrooms:w.category==="construido"?parseInt(w.bedrooms):0,bathrooms:w.category==="construido"?parseInt(w.bathrooms):0}),ke.success("Propiedad publicada con xito!"),j({title:"",description:"",type:"venta",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),y([]),x([]),W()}catch(O){console.error("Error adding property: ",O),ke.error("Hubo un error al publicar la propiedad.")}finally{s(!1)}};M.useEffect(()=>{(async()=>{const O=ws(On(nt,"activation_codes"),va("code","==","AGENT2024"));(await Ea(O)).empty&&(await hd(On(nt,"activation_codes"),{code:"AGENT2024",used:!1,createdAt:new Date,type:"standard"}),console.log("Created default activation code: AGENT2024"))})()},[]);const R=e?.isActivated;return p.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:p.jsx("div",{className:"container mx-auto max-w-6xl",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 h-fit relative",children:[p.jsxs("div",{className:"bg-[#16151a] p-8 text-white",children:[p.jsx("h1",{className:"text-2xl font-bold font-[Montserrat]",children:"Nueva Propiedad"}),p.jsx("p",{className:"text-gray-400 mt-1 text-sm",children:R?"Publica un nuevo inmueble":"Activa tu cuenta para publicar"})]}),R?p.jsxs("form",{onSubmit:N,className:"p-8 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),p.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: Casa en San Isidro",value:w.title,onChange:S=>j({...w,title:S.target.value})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),p.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"0.00",value:w.price,onChange:S=>j({...w,price:S.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operacin"}),p.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition bg-white",value:w.type,onChange:S=>j({...w,type:S.target.value}),children:[p.jsx("option",{value:"venta",children:"Venta"}),p.jsx("option",{value:"alquiler",children:"Alquiler"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),p.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition bg-white",value:w.category,onChange:S=>j({...w,category:S.target.value}),children:[p.jsx("option",{value:"construido",children:"Construido"}),p.jsx("option",{value:"terreno",children:"Terreno"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metraje (m)"}),p.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"120",value:w.footage,onChange:S=>j({...w,footage:S.target.value})})]})]}),w.category==="construido"&&p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaciones"}),p.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:w.bedrooms,onChange:S=>j({...w,bedrooms:S.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Baos"}),p.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:w.bathrooms,onChange:S=>j({...w,bathrooms:S.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin"}),p.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Direccin o Link Maps",value:w.location,onChange:S=>j({...w,location:S.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),p.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition h-24 resize-none",value:w.description,onChange:S=>j({...w,description:S.target.value})})]}),p.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[p.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:ie,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),p.jsx(nj,{className:"h-6 w-6 text-[#fc7f51] mx-auto mb-2"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Subir fotos"})]}),E.length>0&&p.jsx("div",{className:"grid grid-cols-4 gap-2",children:E.map((S,O)=>p.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[p.jsx("img",{src:S,alt:"",className:"w-full h-full object-cover"}),p.jsx("button",{type:"button",onClick:()=>fe(O),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5",children:p.jsx(WT,{className:"w-3 h-3"})})]},O))}),p.jsx("button",{type:"submit",disabled:n,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2",children:n?p.jsx(C1,{className:"animate-spin"}):"Publicar Propiedad"})]}):p.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:p.jsx(jO,{className:"w-8 h-8 text-[#fc7f51]"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Panel Bloqueado"}),p.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Para comenzar a publicar propiedades, debes activar tu cuenta de agente ingresando tu cdigo nico."}),p.jsxs("form",{onSubmit:re,className:"w-full space-y-4",children:[p.jsx("input",{type:"text",value:o,onChange:S=>c(S.target.value.toUpperCase()),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition text-center font-mono text-lg tracking-widest uppercase placeholder:font-sans placeholder:tracking-normal placeholder:text-sm",placeholder:"CDIGO: AGENT2024",required:!0}),p.jsx("button",{type:"submit",disabled:u,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:u?"Verificando...":"Activar Cuenta"})]})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Propiedades"}),p.jsxs("span",{className:"bg-orange-100 text-[#fc7f51] px-3 py-1 rounded-full text-sm font-bold",children:[G.length," Total"]})]}),P?p.jsx("div",{className:"flex justify-center py-12",children:p.jsx(C1,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):G.length===0?p.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No has publicado ninguna propiedad an."}):p.jsx("div",{className:"grid gap-4",children:G.map(S=>p.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4",children:[p.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:p.jsx("img",{src:S.images?.[0]||"https://via.placeholder.com/150",alt:S.title,className:"w-full h-full object-cover"})}),p.jsxs("div",{className:"flex-grow",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:S.title}),p.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${S.status==="disponible"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:S.status})]}),p.jsx("p",{className:"text-gray-500 text-xs mt-1",children:S.location}),p.jsxs("p",{className:"text-[#fc7f51] font-bold text-sm mt-1",children:["$",S.price?.toLocaleString()]}),p.jsx("div",{className:"mt-3 flex gap-2",children:p.jsx("button",{onClick:()=>le(S.id,S.status),className:`tx-xs px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 text-center ${S.status==="disponible"?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:S.status==="disponible"?"Marcar Vendido/Alquilado":"Marcar Disponible"})})]})]},S.id))})]})]})})})},bj=()=>{const{user:r}=Ps(),[e,n]=M.useState([]),[s,o]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{const u=ws(On(nt,"properties"),vT("createdAt","desc")),g=(await Ea(u)).docs.map(y=>({id:y.id,...y.data()}));n(g)}catch(u){console.error("Error fetching properties:",u)}finally{o(!1)}})()},[r]),p.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:p.jsxs("div",{className:"container mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:["Hola, ",r?.displayName||"Usuario"]}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Bienvenido a tu panel personal. Aqu encontrars las propiedades que te interesan."})]}),p.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1",children:[p.jsx("button",{className:"px-4 py-2 text-[#fc7f51] border-b-2 border-[#fc7f51] font-bold",children:"Mis Favoritos"}),p.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Vistos Recientemente"}),p.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Alertas"})]}),s?p.jsx("div",{className:"flex justify-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#fc7f51]"})}):e.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>p.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden group border border-gray-100",children:[p.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[p.jsx("img",{src:c.images?.[0]||"https://images.unsplash.com/photo-1600596542815-9ad4dc2f2072?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),p.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500",children:p.jsx(fd,{className:"w-5 h-5 fill-current"})}),p.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider",children:c.type})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:c.title}),p.jsxs("span",{className:"text-[#fc7f51] font-bold text-lg",children:["$",c.price?.toLocaleString()]})]}),p.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.location}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-4",children:[c.category==="construido"?p.jsxs(p.Fragment,{children:[p.jsxs("span",{children:[c.bedrooms," Hab"]}),p.jsx("span",{children:""}),p.jsxs("span",{children:[c.bathrooms," Baos"]}),p.jsx("span",{children:""})]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Terreno"}),p.jsx("span",{children:""})]}),p.jsxs("span",{children:[c.footage," m"]})]}),p.jsx(Mt,{to:`/properties/${c.id}`,className:"mt-4 block w-full py-3 bg-gray-50 hover:bg-[#fc7f51] hover:text-white text-gray-600 font-bold text-center rounded-xl transition text-sm",children:"Ver Detalles"})]})]},c.id))}):p.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[p.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:p.jsx(fd,{className:"w-8 h-8 text-[#fc7f51]"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"An no tienes favoritos"}),p.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explora nuestro catlogo y guarda las propiedades que ms te gusten para verlas aqu."}),p.jsxs(Mt,{to:"/",className:"inline-flex items-center gap-2 bg-[#fc7f51] text-white px-8 py-3 rounded-full font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:[p.jsx(sy,{className:"w-5 h-5"}),"Explorar Propiedades"]})]})]})})},Ej=()=>{const[r,e]=M.useState({totalAgents:0,totalProperties:0,activeCodes:0}),[n,s]=M.useState([]),[o,c]=M.useState(!0),[u,m]=M.useState(!1),[g,y]=M.useState(null),[E,x]=M.useState([]),[w,j]=M.useState(!1),[G,B]=M.useState(!1),P=async()=>{try{const ie=ws(On(nt,"users"),va("role","==","agente")),fe=await b1(ie),N=await b1(On(nt,"properties")),R=ws(On(nt,"activation_codes"),vT("createdAt","desc")),O=(await Ea(R)).docs.map(D=>({id:D.id,...D.data()}));s(O),e({totalAgents:fe.data().count,totalProperties:N.data().count,activeCodes:O.filter(D=>!D.used).length})}catch(ie){console.error("Error fetching admin stats:",ie),ke.error("Error al cargar estadsticas")}finally{c(!1)}};M.useEffect(()=>{P()},[]);const Q=async()=>{m(!0);try{const ie="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let fe="";for(let N=0;N<8;N++)fe+=ie.charAt(Math.floor(Math.random()*ie.length));await hd(On(nt,"activation_codes"),{code:fe,used:!1,createdAt:new Date,usedBy:null,usedAt:null}),ke.success("Cdigo generado correctamente!"),P()}catch(ie){console.error("Error generating code:",ie),ke.error("No se pudo generar el cdigo")}finally{m(!1)}},W=ie=>{navigator.clipboard.writeText(ie),ke.success("Cdigo copiado al portapapeles")},re=async ie=>{if(ie){j(!0),B(!0),x([]);try{const fe=await Bh(En(nt,"users",ie));if(fe.exists())y({id:fe.id,...fe.data()});else{y(null),ke.error("Usuario no encontrado (probablemente ya eliminado).");return}const N=ws(On(nt,"properties"),va("agentId","==",ie)),S=(await Ea(N)).docs.map(O=>({id:O.id,...O.data()}));x(S)}catch(fe){console.error("Error details:",fe),ke.error("Error al cargar detalles")}finally{j(!1)}}},le=async()=>{if(!(!g||!window.confirm(`Ests seguro de que quieres eliminar a ${g.displayName||"este usuario"} y todas sus propiedades? Esta accin no se puede deshacer.`)))try{const ie=E.map(fe=>E1(En(nt,"properties",fe.id)));await Promise.all(ie),await E1(En(nt,"users",g.id)),ke.success("Usuario y sus propiedades eliminados."),B(!1),P()}catch(ie){console.error("Error deleting user:",ie),ke.error("Error al eliminar usuario.")}};return o?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(dp,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):p.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:[p.jsxs("div",{className:"container mx-auto max-w-6xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:"Panel Super Admin"}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Gestin general de la plataforma"})]}),p.jsx("button",{onClick:P,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition shadow-sm",children:p.jsx(dp,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[p.jsx("div",{className:"bg-orange-50 p-4 rounded-xl",children:p.jsx(XT,{className:"w-8 h-8 text-[#fc7f51]"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Agentes Registrados"}),p.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:r.totalAgents})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[p.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:p.jsx(QT,{className:"w-8 h-8 text-blue-500"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Inmuebles Publicados"}),p.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:r.totalProperties})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[p.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:p.jsx(Fp,{className:"w-8 h-8 text-green-500"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Cdigos Disponibles"}),p.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:r.activeCodes})]})]})]}),p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cdigos de Activacin"}),p.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Genera cdigos nicos para activar cuentas de agentes."})]}),p.jsxs("button",{onClick:Q,disabled:u,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/20 transition flex items-center gap-2 disabled:opacity-70",children:[u?p.jsx(dp,{className:"w-5 h-5 animate-spin"}):p.jsx(Fp,{className:"w-5 h-5"}),"Generar Nuevo Cdigo"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CDIGO"}),p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ESTADO"}),p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CREADO EL"}),p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"USADO POR"}),p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ACCIONES"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-50",children:n.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"5",className:"px-8 py-8 text-center text-gray-400",children:"No hay cdigos generados an."})}):n.map(ie=>p.jsxs("tr",{className:"hover:bg-gray-50/50 transition",children:[p.jsx("td",{className:"px-8 py-4",children:p.jsx("span",{className:"font-mono font-bold text-lg text-gray-700 tracking-wider",children:ie.code})}),p.jsx("td",{className:"px-8 py-4",children:ie.used?p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Usado"}):p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Disponible"})}),p.jsx("td",{className:"px-8 py-4 text-sm text-gray-500",children:ie.createdAt?.toDate().toLocaleDateString()}),p.jsx("td",{className:"px-8 py-4 text-sm text-gray-500 relative group cursor-pointer",onClick:()=>ie.usedBy&&re(ie.usedBy),children:ie.usedBy?p.jsxs("div",{className:"flex items-center gap-2 hover:text-[#fc7f51] transition",children:[p.jsx("span",{children:ie.usedBy}),p.jsx(Hp,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}):"-"}),p.jsx("td",{className:"px-8 py-4",children:ie.used?p.jsx("button",{onClick:()=>re(ie.usedBy),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition",title:"Ver Detalles",children:p.jsx(Hp,{className:"w-5 h-5"})}):p.jsx("button",{onClick:()=>W(ie.code),className:"text-[#fc7f51] hover:text-[#e56b3e] p-2 hover:bg-orange-50 rounded-lg transition",title:"Copiar cdigo",children:p.jsx(mO,{className:"w-5 h-5"})})})]},ie.id))})]})})]})]}),G&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[p.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Detalles del Agente"}),p.jsx("button",{onClick:()=>B(!1),className:"p-2 hover:bg-gray-200 rounded-full transition",children:p.jsx(WT,{className:"w-5 h-5 text-gray-500"})})]}),p.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:w?p.jsx("div",{className:"flex justify-center py-12",children:p.jsx(Loader2,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):g?p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-bold text-gray-800",children:g.displayName||"Sin Nombre"}),p.jsx("p",{className:"text-gray-500",children:g.email}),p.jsx("p",{className:"text-gray-500 text-sm mt-1",children:g.phoneNumber||"Sin Telfono"}),p.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-orange-100 text-[#fc7f51] text-xs font-bold rounded-lg uppercase",children:g.role})]}),p.jsxs("button",{onClick:le,className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition",children:[p.jsx(JO,{className:"w-4 h-4"}),"Eliminar Usuario"]})]}),p.jsxs("div",{children:[p.jsxs("h4",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:["Propiedades Publicadas (",E.length,")"]}),E.length===0?p.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Este usuario no tiene propiedades."}):p.jsx("div",{className:"grid grid-cols-2 gap-4",children:E.map(ie=>p.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex gap-3 hover:bg-gray-50 transition",children:[p.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:ie.images?.[0]&&p.jsx("img",{src:ie.images[0],className:"w-full h-full object-cover"})}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:ie.title}),p.jsx("p",{className:"text-xs text-gray-500 truncate",children:ie.location}),p.jsxs("p",{className:"text-[#fc7f51] font-bold text-xs mt-1",children:["$",ie.price?.toLocaleString()]})]})]},ie.id))})]})]}):p.jsx("p",{className:"text-center text-red-500",children:"No se pudo cargar la informacin."})})]})})]})},xj=()=>{const{user:r}=Ps(),[e,n]=M.useState(!1),s=async()=>{n(!0);try{const c=[{title:"Modern Apartment in Downtown",price:25e4,location:"Downtown City Center",type:"venta",category:"construido",bedrooms:2,bathrooms:2,footage:85,description:"Stunning view of the city.",status:"disponible",agentId:r?.uid||"demo-agent",agentName:r?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"]},{title:"Cozy Family Home",price:1500,location:"Suburban Area",type:"alquiler",category:"construido",bedrooms:3,bathrooms:2,footage:120,description:"Ideal for a small family.",status:"disponible",agentId:r?.uid||"demo-agent",agentName:r?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1560184897-ae75f418493e"]}];for(const u of c)await hd(On(nt,"properties"),u);ke.success("Propiedades de demostracin creadas!")}catch(c){console.error("Error creating demo props:",c),ke.error("Error al crear propiedades demo")}finally{n(!1)}},o=async()=>{if(!r){ke.error("Debes iniciar sesin primero.");return}n(!0);try{const c=En(nt,"users",r.uid);await qh(c,{role:"superadmin",isActivated:!0}),ke.success(`Rol actualizado! Ahora eres Super Admin: ${r.email}`),setTimeout(()=>window.location.reload(),1500)}catch(c){console.error("Error making superadmin:",c),ke.error("Error al actualizar rol")}finally{n(!1)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 space-y-8",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg border border-gray-100 text-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Configuracin Inicial"}),p.jsx("p",{className:"text-gray-500 mb-8",children:"Usa estas herramientas para inicializar tu base de datos."}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:[p.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"1. Configurar Admin"}),p.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Convierte tu usuario actual (",r?.email||"No logueado",") en Super Admin."]}),p.jsx("button",{onClick:o,disabled:e||!r,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Hacerme Super Admin"})]}),p.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[p.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"2. Datos de Prueba"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crea propiedades de ejemplo para ver cmo luce el dashboard."}),p.jsx("button",{onClick:s,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Crear Propiedades Demo"})]})]}),p.jsx("p",{className:"mt-8 text-xs text-gray-400",children:"Nota: Esta pgina debe ser eliminada o asegurada antes de produccin."})]})})};function Tj(){const e=Ii().pathname==="/superadmin";return p.jsx(W3,{children:p.jsxs("div",{className:"flex flex-col min-h-screen",children:[!e&&p.jsx(ay,{}),p.jsx("main",{className:"flex-grow",children:p.jsxs(VA,{children:[p.jsx(Yn,{path:"/",element:p.jsx(hj,{})}),p.jsx(Yn,{path:"/about",element:p.jsx(mj,{})}),p.jsx(Yn,{path:"/contact",element:p.jsx(pj,{})}),p.jsx(Yn,{path:"/properties/:id",element:p.jsx(fj,{})}),p.jsx(Yn,{path:"/login",element:p.jsx(gj,{})}),p.jsx(Yn,{path:"/register",element:p.jsx(yj,{})}),p.jsx(Yn,{path:"/forgot-password",element:p.jsx(_j,{})}),p.jsx(Yn,{path:"/setup",element:p.jsx(xj,{})}),p.jsx(Yn,{path:"/agent-dashboard",element:p.jsx(hp,{allowedRoles:["agente"],children:p.jsx(vj,{})})}),p.jsx(Yn,{path:"/client-dashboard",element:p.jsx(hp,{allowedRoles:["cliente"],children:p.jsx(bj,{})})}),p.jsx(Yn,{path:"/superadmin",element:p.jsx(hp,{allowedRoles:["superadmin"],children:p.jsx(Ej,{})})})]})}),!e&&p.jsx(oy,{})]})})}L2.createRoot(document.getElementById("root")).render(p.jsx(M.StrictMode,{children:p.jsx(aS,{basename:"/inmobiliaria/",children:p.jsx(Tj,{})})}));
