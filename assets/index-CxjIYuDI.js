(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function u1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mg={exports:{}},Yu={};var Wx;function wA(){if(Wx)return Yu;Wx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var _ in o)_!=="key"&&(c[_]=o[_])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Yu.Fragment=e,Yu.jsx=t,Yu.jsxs=t,Yu}var Qx;function EA(){return Qx||(Qx=1,mg.exports=wA()),mg.exports}var f=EA(),pg={exports:{}},tt={};var Xx;function TA(){if(Xx)return tt;Xx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function V(O,ee,pe){this.props=O,this.context=ee,this.refs=k,this.updater=pe||j}V.prototype.isReactComponent={},V.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},V.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function B(){}B.prototype=V.prototype;function G(O,ee,pe){this.props=O,this.context=ee,this.refs=k,this.updater=pe||j}var ne=G.prototype=new B;ne.constructor=G,z(ne,V.prototype),ne.isPureReactComponent=!0;var te=Array.isArray;function ye(){}var q={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Z(O,ee,pe){var xe=pe.ref;return{$$typeof:n,type:O,key:ee,ref:xe!==void 0?xe:null,props:pe}}function $(O,ee){return Z(O.type,ee,O.props)}function H(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function K(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return ee[pe]})}var F=/\/+/g;function Se(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):ee.toString(36)}function be(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ye,ye):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function W(O,ee,pe,xe,Ce){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var He=!1;if(O===null)He=!0;else switch(Ae){case"bigint":case"string":case"number":He=!0;break;case"object":switch(O.$$typeof){case n:case e:He=!0;break;case w:return He=O._init,W(He(O._payload),ee,pe,xe,Ce)}}if(He)return Ce=Ce(O),He=xe===""?"."+Se(O,0):xe,te(Ce)?(pe="",He!=null&&(pe=He.replace(F,"$&/")+"/"),W(Ce,ee,pe,"",function($i){return $i})):Ce!=null&&(H(Ce)&&(Ce=$(Ce,pe+(Ce.key==null||O&&O.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+He)),ee.push(Ce)),1;He=0;var Nt=xe===""?".":xe+":";if(te(O))for(var It=0;It<O.length;It++)xe=O[It],Ae=Nt+Se(xe,It),He+=W(xe,ee,pe,Ae,Ce);else if(It=R(O),typeof It=="function")for(O=It.call(O),It=0;!(xe=O.next()).done;)xe=xe.value,Ae=Nt+Se(xe,It++),He+=W(xe,ee,pe,Ae,Ce);else if(Ae==="object"){if(typeof O.then=="function")return W(be(O),ee,pe,xe,Ce);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return He}function me(O,ee,pe){if(O==null)return O;var xe=[],Ce=0;return W(O,xe,"","",function(Ae){return ee.call(pe,Ae,Ce++)}),xe}function ae(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var Re=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},fe={map:me,forEach:function(O,ee,pe){me(O,function(){ee.apply(this,arguments)},pe)},count:function(O){var ee=0;return me(O,function(){ee++}),ee},toArray:function(O){return me(O,function(ee){return ee})||[]},only:function(O){if(!H(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return tt.Activity=E,tt.Children=fe,tt.Component=V,tt.Fragment=t,tt.Profiler=o,tt.PureComponent=G,tt.StrictMode=s,tt.Suspense=p,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return q.H.useMemoCache(O)}},tt.cache=function(O){return function(){return O.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(O,ee,pe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var xe=z({},O.props),Ce=O.key;if(ee!=null)for(Ae in ee.key!==void 0&&(Ce=""+ee.key),ee)!I.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(xe[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)xe.children=pe;else if(1<Ae){for(var He=Array(Ae),Nt=0;Nt<Ae;Nt++)He[Nt]=arguments[Nt+2];xe.children=He}return Z(O.type,Ce,xe)},tt.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},tt.createElement=function(O,ee,pe){var xe,Ce={},Ae=null;if(ee!=null)for(xe in ee.key!==void 0&&(Ae=""+ee.key),ee)I.call(ee,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Ce[xe]=ee[xe]);var He=arguments.length-2;if(He===1)Ce.children=pe;else if(1<He){for(var Nt=Array(He),It=0;It<He;It++)Nt[It]=arguments[It+2];Ce.children=Nt}if(O&&O.defaultProps)for(xe in He=O.defaultProps,He)Ce[xe]===void 0&&(Ce[xe]=He[xe]);return Z(O,Ae,Ce)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(O){return{$$typeof:_,render:O}},tt.isValidElement=H,tt.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ae}},tt.memo=function(O,ee){return{$$typeof:v,type:O,compare:ee===void 0?null:ee}},tt.startTransition=function(O){var ee=q.T,pe={};q.T=pe;try{var xe=O(),Ce=q.S;Ce!==null&&Ce(pe,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(ye,Re)}catch(Ae){Re(Ae)}finally{ee!==null&&pe.types!==null&&(ee.types=pe.types),q.T=ee}},tt.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},tt.use=function(O){return q.H.use(O)},tt.useActionState=function(O,ee,pe){return q.H.useActionState(O,ee,pe)},tt.useCallback=function(O,ee){return q.H.useCallback(O,ee)},tt.useContext=function(O){return q.H.useContext(O)},tt.useDebugValue=function(){},tt.useDeferredValue=function(O,ee){return q.H.useDeferredValue(O,ee)},tt.useEffect=function(O,ee){return q.H.useEffect(O,ee)},tt.useEffectEvent=function(O){return q.H.useEffectEvent(O)},tt.useId=function(){return q.H.useId()},tt.useImperativeHandle=function(O,ee,pe){return q.H.useImperativeHandle(O,ee,pe)},tt.useInsertionEffect=function(O,ee){return q.H.useInsertionEffect(O,ee)},tt.useLayoutEffect=function(O,ee){return q.H.useLayoutEffect(O,ee)},tt.useMemo=function(O,ee){return q.H.useMemo(O,ee)},tt.useOptimistic=function(O,ee){return q.H.useOptimistic(O,ee)},tt.useReducer=function(O,ee,pe){return q.H.useReducer(O,ee,pe)},tt.useRef=function(O){return q.H.useRef(O)},tt.useState=function(O){return q.H.useState(O)},tt.useSyncExternalStore=function(O,ee,pe){return q.H.useSyncExternalStore(O,ee,pe)},tt.useTransition=function(){return q.H.useTransition()},tt.version="19.2.4",tt}var Jx;function Vy(){return Jx||(Jx=1,pg.exports=TA()),pg.exports}var D=Vy();const dn=u1(D);var gg={exports:{}},Wu={},yg={exports:{}},_g={};var eb;function SA(){return eb||(eb=1,(function(n){function e(W,me){var ae=W.length;W.push(me);e:for(;0<ae;){var Re=ae-1>>>1,fe=W[Re];if(0<o(fe,me))W[Re]=me,W[ae]=fe,ae=Re;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var me=W[0],ae=W.pop();if(ae!==me){W[0]=ae;e:for(var Re=0,fe=W.length,O=fe>>>1;Re<O;){var ee=2*(Re+1)-1,pe=W[ee],xe=ee+1,Ce=W[xe];if(0>o(pe,ae))xe<fe&&0>o(Ce,pe)?(W[Re]=Ce,W[xe]=ae,Re=xe):(W[Re]=pe,W[ee]=ae,Re=ee);else if(xe<fe&&0>o(Ce,ae))W[Re]=Ce,W[xe]=ae,Re=xe;else break e}}return me}function o(W,me){var ae=W.sortIndex-me.sortIndex;return ae!==0?ae:W.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,_=h.now();n.unstable_now=function(){return h.now()-_}}var p=[],v=[],w=1,E=null,C=3,R=!1,j=!1,z=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ne(W){for(var me=t(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=W)s(v),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(v)}}function te(W){if(z=!1,ne(W),!j)if(t(p)!==null)j=!0,ye||(ye=!0,K());else{var me=t(v);me!==null&&be(te,me.startTime-W)}}var ye=!1,q=-1,I=5,Z=-1;function $(){return k?!0:!(n.unstable_now()-Z<I)}function H(){if(k=!1,ye){var W=n.unstable_now();Z=W;var me=!0;try{e:{j=!1,z&&(z=!1,B(q),q=-1),R=!0;var ae=C;try{t:{for(ne(W),E=t(p);E!==null&&!(E.expirationTime>W&&$());){var Re=E.callback;if(typeof Re=="function"){E.callback=null,C=E.priorityLevel;var fe=Re(E.expirationTime<=W);if(W=n.unstable_now(),typeof fe=="function"){E.callback=fe,ne(W),me=!0;break t}E===t(p)&&s(p),ne(W)}else s(p);E=t(p)}if(E!==null)me=!0;else{var O=t(v);O!==null&&be(te,O.startTime-W),me=!1}}break e}finally{E=null,C=ae,R=!1}me=void 0}}finally{me?K():ye=!1}}}var K;if(typeof G=="function")K=function(){G(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Se=F.port2;F.port1.onmessage=H,K=function(){Se.postMessage(null)}}else K=function(){V(H,0)};function be(W,me){q=V(function(){W(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(W){switch(C){case 1:case 2:case 3:var me=3;break;default:me=C}var ae=C;C=me;try{return W()}finally{C=ae}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(W,me){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=C;C=W;try{return me()}finally{C=ae}},n.unstable_scheduleCallback=function(W,me,ae){var Re=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Re+ae:Re):ae=Re,W){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ae+fe,W={id:w++,callback:me,priorityLevel:W,startTime:ae,expirationTime:fe,sortIndex:-1},ae>Re?(W.sortIndex=ae,e(v,W),t(p)===null&&W===t(v)&&(z?(B(q),q=-1):z=!0,be(te,ae-Re))):(W.sortIndex=fe,e(p,W),j||R||(j=!0,ye||(ye=!0,K()))),W},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(W){var me=C;return function(){var ae=C;C=me;try{return W.apply(this,arguments)}finally{C=ae}}}})(_g)),_g}var tb;function AA(){return tb||(tb=1,yg.exports=SA()),yg.exports}var vg={exports:{}},ri={};var nb;function NA(){if(nb)return ri;nb=1;var n=Vy();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:v,implementation:w}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ri.createPortal=function(p,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,w)},ri.flushSync=function(p){var v=h.T,w=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=v,s.p=w,s.d.f()}},ri.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},ri.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ri.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,R=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:R}):w==="script"&&s.d.X(p,{crossOrigin:E,integrity:C,fetchPriority:R,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ri.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=_(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},ri.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin);s.d.L(p,w,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ri.preloadModule=function(p,v){if(typeof p=="string")if(v){var w=_(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},ri.requestFormReset=function(p){s.d.r(p)},ri.unstable_batchedUpdates=function(p,v){return p(v)},ri.useFormState=function(p,v,w){return h.H.useFormState(p,v,w)},ri.useFormStatus=function(){return h.H.useHostTransitionStatus()},ri.version="19.2.4",ri}var ib;function d1(){if(ib)return vg.exports;ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vg.exports=NA(),vg.exports}var sb;function CA(){if(sb)return Wu;sb=1;var n=AA(),e=Vy(),t=d1();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function h(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function _(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(c(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,d=r;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return p(y),i;if(x===d)return p(y),r;x=x.sibling}throw Error(s(188))}if(l.return!==d.return)l=y,d=x;else{for(var A=!1,M=y.child;M;){if(M===l){A=!0,l=y,d=x;break}if(M===d){A=!0,d=y,l=x;break}M=M.sibling}if(!A){for(M=x.child;M;){if(M===l){A=!0,l=x,d=y;break}if(M===d){A=!0,d=x,l=y;break}M=M.sibling}if(!A)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function w(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=w(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case V:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case ye:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case G:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case ne:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return r=i.displayName||null,r!==null?r:Se(i.type)||"Memo";case I:r=i._payload,i=i._init;try{return Se(i(r))}catch{}}return null}var be=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Re=[],fe=-1;function O(i){return{current:i}}function ee(i){0>fe||(i.current=Re[fe],Re[fe]=null,fe--)}function pe(i,r){fe++,Re[fe]=i.current,i.current=r}var xe=O(null),Ce=O(null),Ae=O(null),He=O(null);function Nt(i,r){switch(pe(Ae,r),pe(Ce,i),pe(xe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?vx(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=vx(r),i=xx(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(xe),pe(xe,i)}function It(){ee(xe),ee(Ce),ee(Ae)}function $i(i){i.memoizedState!==null&&pe(He,i);var r=xe.current,l=xx(r,i.type);r!==l&&(pe(Ce,i),pe(xe,l))}function ys(i){Ce.current===i&&(ee(xe),ee(Ce)),He.current===i&&(ee(He),Gu._currentValue=ae)}var jn,Ti;function Qn(i){if(jn===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);jn=r&&r[1]||"",Ti=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+i+Ti}var _s=!1;function Si(i,r){if(!i||_s)return"";_s=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(he){var ue=he}Reflect.construct(i,[],Ee)}else{try{Ee.call()}catch(he){ue=he}i.call(Ee.prototype)}}else{try{throw Error()}catch(he){ue=he}(Ee=i())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(he){if(he&&ue&&typeof he.stack=="string")return[he.stack,ue.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),A=x[0],M=x[1];if(A&&M){var Q=A.split(`
`),le=M.split(`
`);for(y=d=0;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;for(;y<le.length&&!le[y].includes("DetermineComponentFrameRoot");)y++;if(d===Q.length||y===le.length)for(d=Q.length-1,y=le.length-1;1<=d&&0<=y&&Q[d]!==le[y];)y--;for(;1<=d&&0<=y;d--,y--)if(Q[d]!==le[y]){if(d!==1||y!==1)do if(d--,y--,0>y||Q[d]!==le[y]){var ge=`
`+Q[d].replace(" at new "," at ");return i.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",i.displayName)),ge}while(1<=d&&0<=y);break}}}finally{_s=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Qn(l):""}function Zi(i,r){switch(i.tag){case 26:case 27:case 5:return Qn(i.type);case 16:return Qn("Lazy");case 13:return i.child!==r&&r!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Si(i.type,!1);case 11:return Si(i.type.render,!1);case 1:return Si(i.type,!0);case 31:return Qn("Activity");default:return""}}function hi(i){try{var r="",l=null;do r+=Zi(i,l),l=i,i=i.return;while(i);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var qt=Object.prototype.hasOwnProperty,Qt=n.unstable_scheduleCallback,Ai=n.unstable_cancelCallback,ka=n.unstable_shouldYield,Gr=n.unstable_requestPaint,Cn=n.unstable_now,Us=n.unstable_getCurrentPriorityLevel,Bs=n.unstable_ImmediatePriority,dr=n.unstable_UserBlockingPriority,Ki=n.unstable_NormalPriority,Ko=n.unstable_LowPriority,$r=n.unstable_IdlePriority,Zr=n.log,Da=n.unstable_setDisableYieldValue,Xn=null,en=null;function Fn(i){if(typeof Zr=="function"&&Da(i),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Xn,i)}catch{}}var Ft=Math.clz32?Math.clz32:ze,X=Math.log,je=Math.LN2;function ze(i){return i>>>=0,i===0?32:31-(X(i)/je|0)|0}var Be=256,dt=262144,We=4194304;function rn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,r,l){var d=i.pendingLanes;if(d===0)return 0;var y=0,x=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var M=d&134217727;return M!==0?(d=M&~x,d!==0?y=rn(d):(A&=M,A!==0?y=rn(A):l||(l=M&~i,l!==0&&(y=rn(l))))):(M=d&~x,M!==0?y=rn(M):A!==0?y=rn(A):l||(l=d&~i,l!==0&&(y=rn(l)))),y===0?0:r!==0&&r!==y&&(r&x)===0&&(x=y&-y,l=r&-r,x>=l||x===32&&(l&4194048)!==0)?r:y}function Yi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function du(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var i=We;return We<<=1,(We&62914560)===0&&(We=4194304),i}function vs(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function qs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function hu(i,r,l,d,y,x){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,Q=i.expirationTimes,le=i.hiddenUpdates;for(l=A&~l;0<l;){var ge=31-Ft(l),Ee=1<<ge;M[ge]=0,Q[ge]=-1;var ue=le[ge];if(ue!==null)for(le[ge]=null,ge=0;ge<ue.length;ge++){var he=ue[ge];he!==null&&(he.lane&=-536870913)}l&=~Ee}d!==0&&Kr(i,d,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(A&~r))}function Kr(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var d=31-Ft(r);i.entangledLanes|=r,i.entanglements[d]=i.entanglements[d]|1073741824|l&261930}function Yo(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var d=31-Ft(l),y=1<<d;y&r|i[d]&r&&(i[d]|=r),l&=~y}}function Wo(i,r){var l=r&-r;return l=(l&42)!==0?1:Ln(l),(l&(i.suspendedLanes|r))!==0?0:l}function Ln(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ke(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Qo(){var i=me.p;return i!==0?i:(i=window.event,i===void 0?32:Hx(i.type))}function Ci(i,r){var l=me.p;try{return me.p=i,r()}finally{me.p=l}}var Ri=Math.random().toString(36).slice(2),tn="__reactFiber$"+Ri,an="__reactProps$"+Ri,Wi="__reactContainer$"+Ri,Qi="__reactEvents$"+Ri,tc="__reactListeners$"+Ri,nc="__reactHandles$"+Ri,ic="__reactResources$"+Ri,xs="__reactMarker$"+Ri;function Oa(i){delete i[tn],delete i[an],delete i[Qi],delete i[tc],delete i[nc]}function Xi(i){var r=i[tn];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Wi]||l[tn]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Nx(i);i!==null;){if(l=i[tn])return l;i=Nx(i)}return r}i=l,l=i.parentNode}return null}function Ii(i){if(i=i[tn]||i[Wi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function kn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function bs(i){var r=i[ic];return r||(r=i[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function on(i){i[xs]=!0}var Xo=new Set,Jo={};function ws(i,r){Pi(i,r),Pi(i+"Capture",r)}function Pi(i,r){for(Jo[i]=r,i=0;i<r.length;i++)Xo.add(r[i])}var Hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Va={},za={};function hr(i){return qt.call(za,i)?!0:qt.call(Va,i)?!1:Hs.test(i)?za[i]=!0:(Va[i]=!0,!1)}function at(i,r,l){if(hr(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function ot(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Gt(i,r,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+d)}}function $t(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fi(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yr(i,r,l){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,x=d.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(A){l=""+A,x.call(this,A)}}),Object.defineProperty(i,r,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Me(i){if(!i._valueTracker){var r=fi(i)?"checked":"value";i._valueTracker=Yr(i,r,""+i[r])}}function Pt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return i&&(d=fi(i)?i.checked?"true":"false":i.value),i=d,i!==l?(r.setValue(i),!0):!1}function Mi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Es=/[\n"\\]/g;function zt(i){return i.replace(Es,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ua(i,r,l,d,y,x,A,M){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+$t(r)):i.value!==""+$t(r)&&(i.value=""+$t(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?Ji(i,A,$t(r)):l!=null?Ji(i,A,$t(l)):d!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+$t(M):i.removeAttribute("name")}function Wr(i,r,l,d,y,x,A,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),r!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||r!=null)){Me(i);return}l=l!=null?""+$t(l):"",r=r!=null?""+$t(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=M?i.checked:!!d,i.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Me(i)}function Ji(i,r,l){r==="number"&&Mi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Mt(i,r,l,d){if(i=i.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=r.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&d&&(i[l].defaultSelected=!0)}else{for(l=""+$t(l),r=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function Ts(i,r,l){if(r!=null&&(r=""+$t(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+$t(l):""}function ji(i,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(s(92));if(be(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=$t(r),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d),Me(i)}function vn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(i,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":d?i.setProperty(r,l):typeof l!="number"||l===0||Ba.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Qr(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in r)d=r[y],r.hasOwnProperty(y)&&l[y]!==d&&Fs(i,y,d)}else for(var x in r)r.hasOwnProperty(x)&&Fs(i,x,r[x])}function fr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(i){return Ss.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Jn(){}var qa=null;function ei(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pr=null,$e=null;function Dn(i){var r=Ii(i);if(r&&(i=r.stateNode)){var l=i[an]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ua(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==i&&d.form===i.form){var y=d[an]||null;if(!y)throw Error(s(90));Ua(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===i.form&&Pt(d)}break e;case"textarea":Ts(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Mt(i,!!l.multiple,r,!1)}}}var wt=!1;function Gs(i,r,l){if(wt)return i(r,l);wt=!0;try{var d=i(r);return d}finally{if(wt=!1,(pr!==null||$e!==null)&&(Ih(),pr&&(r=pr,i=$e,$e=pr=null,Dn(r),i)))for(r=0;r<i.length;r++)Dn(i[r])}}function mi(i,r){var l=i.stateNode;if(l===null)return null;var d=l[an]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(ti)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){$s=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{$s=!1}var Li=null,Zs=null,Zt=null;function es(){if(Zt)return Zt;var i,r=Zs,l=r.length,d,y="value"in Li?Li.value:Li.textContent,x=y.length;for(i=0;i<l&&r[i]===y[i];i++);var A=l-i;for(d=1;d<=A&&r[l-d]===y[x-d];d++);return Zt=y.slice(i,1<d?1-d:void 0)}function gr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function As(){return!0}function ts(){return!1}function xn(i){function r(l,d,y,x,A){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?As:ts,this.isPropagationStopped=ts,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),r}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=xn(ns),Ks=E({},ns,{view:0,detail:0}),rt=xn(Ks),yr,On,ni,Jr=E({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ni&&(ni&&i.type==="mousemove"?(yr=i.screenX-ni.screenX,On=i.screenY-ni.screenY):On=yr=0,ni=i),yr)},movementY:function(i){return"movementY"in i?i.movementY:On}}),el=xn(Jr),Ys=E({},Jr,{dataTransfer:0}),sc=xn(Ys),tl=E({},Ks,{relatedTarget:0}),ea=xn(tl),nl=E({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=xn(nl),Fa=E({},ns,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pi=xn(Fa),rc=E({},ns,{data:0}),is=xn(rc),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},il={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ga(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=sl[i])?!!r[i]:!1}function _r(){return Ga}var Vn=E({},Ks,{key:function(i){if(i.key){var r=ss[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=gr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?il[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(i){return i.type==="keypress"?gr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),rl=xn(Vn),ac=E({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=xn(ac),m=E({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),T=xn(m),N=E({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=xn(N),re=E({},Jr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),de=xn(re),Ne=E({},ns,{newState:0,oldState:0}),Qe=xn(Ne),_t=[9,13,27,32],vt=ti&&"CompositionEvent"in window,Ut=null;ti&&"documentMode"in document&&(Ut=document.documentMode);var ki=ti&&"TextEvent"in window&&!Ut,Di=ti&&(!vt||Ut&&8<Ut&&11>=Ut),gi=" ",rs=!1;function ta(i,r){switch(i){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $a=!1;function as(i,r){switch(i){case"compositionend":return na(r);case"keypress":return r.which!==32?null:(rs=!0,gi);case"textInput":return i=r.data,i===gi&&rs?null:i;default:return null}}function Za(i,r){if($a)return i==="compositionend"||!vt&&ta(i,r)?(i=es(),Zt=Zs=Li=null,$a=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Di&&r.locale!=="ko"?null:r.data;default:return null}}var Mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cs(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Mm[i.type]:r==="textarea"}function Zd(i,r,l,d){pr?$e?$e.push(d):$e=[d]:pr=d,r=Oh(r,"onChange"),0<r.length&&(l=new Ns("onChange","change",null,l,d),i.push({event:l,listeners:r}))}var Rs=null,al=null;function ol(i){fx(i,0)}function ll(i){var r=kn(i);if(Pt(r))return i}function cl(i,r){if(i==="change")return r}var Kd=!1;if(ti){var Is;if(ti){var Ka="oninput"in document;if(!Ka){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Ka=typeof Yd.oninput=="function"}Is=Ka}else Is=!1;Kd=Is&&(!document.documentMode||9<document.documentMode)}function oc(){Rs&&(Rs.detachEvent("onpropertychange",Wd),al=Rs=null)}function Wd(i){if(i.propertyName==="value"&&ll(al)){var r=[];Zd(r,al,i,ei(i)),Gs(ol,r)}}function Qs(i,r,l){i==="focusin"?(oc(),Rs=r,al=l,Rs.attachEvent("onpropertychange",Wd)):i==="focusout"&&oc()}function jm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ll(al)}function Ya(i,r){if(i==="click")return ll(r)}function Lm(i,r){if(i==="input"||i==="change")return ll(r)}function Xs(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var zn=typeof Object.is=="function"?Object.is:Xs;function Wa(i,r){if(zn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!qt.call(r,y)||!zn(i[y],r[y]))return!1}return!0}function lc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ul(i,r){var l=lc(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=r&&d>=r)return{node:l,offset:r-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=lc(l)}}function cc(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?cc(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function dl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Mi(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Mi(i.document)}return r}function vr(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var uc=ti&&"documentMode"in document&&11>=document.documentMode,xr=null,dc=null,hl=null,Qa=!1;function Qd(i,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Qa||xr==null||xr!==Mi(d)||(d=xr,"selectionStart"in d&&vr(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),hl&&Wa(hl,d)||(hl=d,d=Oh(dc,"onSelect"),0<d.length&&(r=new Ns("onSelect","select",null,r,l),i.push({event:r,listeners:d}),r.target=xr)))}function br(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Xa={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},hc={},Xd={};ti&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Un(i){if(hc[i])return hc[i];if(!Xa[i])return i;var r=Xa[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Xd)return hc[i]=r[l];return i}var fl=Un("animationend"),Jd=Un("animationiteration"),ml=Un("animationstart"),km=Un("transitionrun"),eh=Un("transitionstart"),Dm=Un("transitioncancel"),Ja=Un("transitionend"),th=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wr.push("scrollEnd");function Oi(i,r){th.set(i,r),ws(r,[i])}var pl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Vi=[],ii=0,fc=0;function gl(){for(var i=ii,r=fc=ii=0;r<i;){var l=Vi[r];Vi[r++]=null;var d=Vi[r];Vi[r++]=null;var y=Vi[r];Vi[r++]=null;var x=Vi[r];if(Vi[r++]=null,d!==null&&y!==null){var A=d.pending;A===null?y.next=y:(y.next=A.next,A.next=y),d.pending=y}x!==0&&eo(l,y,x)}}function Er(i,r,l,d){Vi[ii++]=i,Vi[ii++]=r,Vi[ii++]=l,Vi[ii++]=d,fc|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function fu(i,r,l,d){return Er(i,r,l,d),yl(i)}function Ps(i,r){return Er(i,null,null,r),yl(i)}function eo(i,r,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var y=!1,x=i.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,y&&r!==null&&(y=31-Ft(l),i=x.hiddenUpdates,d=i[y],d===null?i[y]=[r]:d.push(r),r.lane=l|536870912),x):null}function yl(i){if(50<Vu)throw Vu=0,Vp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ia={};function Om(i,r,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,r,l,d){return new Om(i,r,l,d)}function mc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ms(i,r){var l=i.alternate;return l===null?(l=si(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function mu(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function _l(i,r,l,d,y,x){var A=0;if(d=i,typeof i=="function")mc(i)&&(A=1);else if(typeof i=="string")A=uA(i,l,xe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Z:return i=si(31,l,r,y),i.elementType=Z,i.lanes=x,i;case z:return sa(l.children,y,x,r);case k:A=8,y|=24;break;case V:return i=si(12,l,r,y|2),i.elementType=V,i.lanes=x,i;case te:return i=si(13,l,r,y),i.elementType=te,i.lanes=x,i;case ye:return i=si(19,l,r,y),i.elementType=ye,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:A=10;break e;case B:A=9;break e;case ne:A=11;break e;case q:A=14;break e;case I:A=16,d=null;break e}A=29,l=Error(s(130,i===null?"null":typeof i,"")),d=null}return r=si(A,l,r,y),r.elementType=i,r.type=d,r.lanes=x,r}function sa(i,r,l,d){return i=si(7,i,d,r),i.lanes=l,i}function pc(i,r,l){return i=si(6,i,null,r),i.lanes=l,i}function pu(i){var r=si(18,null,null,0);return r.stateNode=i,r}function gu(i,r,l){return r=si(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a=new WeakMap;function u(i,r){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(r={value:i,source:r,stack:hi(r)},a.set(i,r),r)}return{value:i,source:r,stack:hi(r)}}var g=[],b=0,S=null,P=0,Y=[],se=0,ce=null,we=1,Ie="";function Ue(i,r){g[b++]=P,g[b++]=S,S=i,P=r}function it(i,r,l){Y[se++]=we,Y[se++]=Ie,Y[se++]=ce,ce=i;var d=we;i=Ie;var y=32-Ft(d)-1;d&=~(1<<y),l+=1;var x=32-Ft(r)+y;if(30<x){var A=y-y%5;x=(d&(1<<A)-1).toString(32),d>>=A,y-=A,we=1<<32-Ft(r)+y|l<<y|d,Ie=x+i}else we=1<<x|l<<y|d,Ie=i}function Rn(i){i.return!==null&&(Ue(i,1),it(i,1,0))}function ln(i){for(;i===S;)S=g[--b],g[b]=null,P=g[--b],g[b]=null;for(;i===ce;)ce=Y[--se],Y[se]=null,Ie=Y[--se],Y[se]=null,we=Y[--se],Y[se]=null}function yi(i,r){Y[se++]=we,Y[se++]=Ie,Y[se++]=ce,we=r.id,Ie=r.overflow,ce=i}var Et=null,Tt=null,lt=!1,Tr=null,zi=!1,gc=Error(s(519));function Sr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(u(r,i)),gc}function yu(i){var r=i.stateNode,l=i.type,d=i.memoizedProps;switch(r[tn]=i,r[an]=d,l){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(l=0;l<Uu.length;l++)ut(Uu[l],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":ut("invalid",r),Wr(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ut("invalid",r);break;case"textarea":ut("invalid",r),ji(r,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||yx(r.textContent,l)?(d.popover!=null&&(ut("beforetoggle",r),ut("toggle",r)),d.onScroll!=null&&ut("scroll",r),d.onScrollEnd!=null&&ut("scrollend",r),d.onClick!=null&&(r.onclick=Jn),r=!0):r=!1,r||Sr(i,!0)}function nn(i){for(Et=i.return;Et;)switch(Et.tag){case 5:case 31:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:Et=Et.return}}function Js(i){if(i!==Et)return!1;if(!lt)return nn(i),lt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Jp(i.type,i.memoizedProps)),l=!l),l&&Tt&&Sr(i),nn(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Tt=Ax(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Tt=Ax(i)}else r===27?(r=Tt,po(i.type)?(i=sg,sg=null,Tt=i):Tt=r):Tt=Et?Ls(i.stateNode.nextSibling):null;return!0}function ra(){Tt=Et=null,lt=!1}function _u(){var i=Tr;return i!==null&&(Hi===null?Hi=i:Hi.push.apply(Hi,i),Tr=null),i}function vl(i){Tr===null?Tr=[i]:Tr.push(i)}var xl=O(null),Ar=null,er=null;function to(i,r,l){pe(xl,r._currentValue),r._currentValue=l}function aa(i){i._currentValue=xl.current,ee(xl)}function Vm(i,r,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),i===l)break;i=i.return}}function zm(i,r,l,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var A=y.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=y;for(var Q=0;Q<r.length;Q++)if(M.context===r[Q]){x.lanes|=l,M=x.alternate,M!==null&&(M.lanes|=l),Vm(x.return,l,i),d||(A=null);break e}x=M.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(s(341));A.lanes|=l,x=A.alternate,x!==null&&(x.lanes|=l),Vm(A,l,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function yc(i,r,l,d){i=null;for(var y=r,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var M=y.type;zn(y.pendingProps.value,A.value)||(i!==null?i.push(M):i=[M])}}else if(y===He.current){if(A=y.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Gu):i=[Gu])}y=y.return}i!==null&&zm(r,i,l,d),r.flags|=262144}function nh(i){for(i=i.firstContext;i!==null;){if(!zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function bl(i){Ar=i,er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Gn(i){return nv(Ar,i)}function ih(i,r){return Ar===null&&bl(i),nv(i,r)}function nv(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},er===null){if(i===null)throw Error(s(308));er=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else er=er.next=r;return l}var a2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},o2=n.unstable_scheduleCallback,l2=n.unstable_NormalPriority,bn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Um(){return{controller:new a2,data:new Map,refCount:0}}function vu(i){i.refCount--,i.refCount===0&&o2(l2,function(){i.controller.abort()})}var xu=null,Bm=0,_c=0,vc=null;function c2(i,r){if(xu===null){var l=xu=[];Bm=0,_c=Fp(),vc={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Bm++,r.then(iv,iv),r}function iv(){if(--Bm===0&&xu!==null){vc!==null&&(vc.status="fulfilled");var i=xu;xu=null,_c=0,vc=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function u2(i,r){var l=[],d={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){d.status="fulfilled",d.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(d.status="rejected",d.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),d}var sv=W.S;W.S=function(i,r){B0=Cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&c2(i,r),sv!==null&&sv(i,r)};var wl=O(null);function qm(){var i=wl.current;return i!==null?i:Bt.pooledCache}function sh(i,r){r===null?pe(wl,wl.current):pe(wl,r.pool)}function rv(){var i=qm();return i===null?null:{parent:bn._currentValue,pool:i}}var xc=Error(s(460)),Hm=Error(s(474)),rh=Error(s(542)),ah={then:function(){}};function av(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ov(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Jn,Jn),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,cv(i),i;default:if(typeof r.status=="string")r.then(Jn,Jn);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(d){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=d}},function(d){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,cv(i),i}throw Tl=r,xc}}function El(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Tl=l,xc):l}}var Tl=null;function lv(){if(Tl===null)throw Error(s(459));var i=Tl;return Tl=null,i}function cv(i){if(i===xc||i===rh)throw Error(s(483))}var bc=null,bu=0;function oh(i){var r=bu;return bu+=1,bc===null&&(bc=[]),ov(bc,i,r)}function wu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function lh(i,r){throw r.$$typeof===C?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function uv(i){function r(ie,J){if(i){var oe=ie.deletions;oe===null?(ie.deletions=[J],ie.flags|=16):oe.push(J)}}function l(ie,J){if(!i)return null;for(;J!==null;)r(ie,J),J=J.sibling;return null}function d(ie){for(var J=new Map;ie!==null;)ie.key!==null?J.set(ie.key,ie):J.set(ie.index,ie),ie=ie.sibling;return J}function y(ie,J){return ie=Ms(ie,J),ie.index=0,ie.sibling=null,ie}function x(ie,J,oe){return ie.index=oe,i?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<J?(ie.flags|=67108866,J):oe):(ie.flags|=67108866,J)):(ie.flags|=1048576,J)}function A(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function M(ie,J,oe,_e){return J===null||J.tag!==6?(J=pc(oe,ie.mode,_e),J.return=ie,J):(J=y(J,oe),J.return=ie,J)}function Q(ie,J,oe,_e){var Fe=oe.type;return Fe===z?ge(ie,J,oe.props.children,_e,oe.key):J!==null&&(J.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===I&&El(Fe)===J.type)?(J=y(J,oe.props),wu(J,oe),J.return=ie,J):(J=_l(oe.type,oe.key,oe.props,null,ie.mode,_e),wu(J,oe),J.return=ie,J)}function le(ie,J,oe,_e){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=gu(oe,ie.mode,_e),J.return=ie,J):(J=y(J,oe.children||[]),J.return=ie,J)}function ge(ie,J,oe,_e,Fe){return J===null||J.tag!==7?(J=sa(oe,ie.mode,_e,Fe),J.return=ie,J):(J=y(J,oe),J.return=ie,J)}function Ee(ie,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=pc(""+J,ie.mode,oe),J.return=ie,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return oe=_l(J.type,J.key,J.props,null,ie.mode,oe),wu(oe,J),oe.return=ie,oe;case j:return J=gu(J,ie.mode,oe),J.return=ie,J;case I:return J=El(J),Ee(ie,J,oe)}if(be(J)||K(J))return J=sa(J,ie.mode,oe,null),J.return=ie,J;if(typeof J.then=="function")return Ee(ie,oh(J),oe);if(J.$$typeof===G)return Ee(ie,ih(ie,J),oe);lh(ie,J)}return null}function ue(ie,J,oe,_e){var Fe=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Fe!==null?null:M(ie,J,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return oe.key===Fe?Q(ie,J,oe,_e):null;case j:return oe.key===Fe?le(ie,J,oe,_e):null;case I:return oe=El(oe),ue(ie,J,oe,_e)}if(be(oe)||K(oe))return Fe!==null?null:ge(ie,J,oe,_e,null);if(typeof oe.then=="function")return ue(ie,J,oh(oe),_e);if(oe.$$typeof===G)return ue(ie,J,ih(ie,oe),_e);lh(ie,oe)}return null}function he(ie,J,oe,_e,Fe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ie=ie.get(oe)||null,M(J,ie,""+_e,Fe);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case R:return ie=ie.get(_e.key===null?oe:_e.key)||null,Q(J,ie,_e,Fe);case j:return ie=ie.get(_e.key===null?oe:_e.key)||null,le(J,ie,_e,Fe);case I:return _e=El(_e),he(ie,J,oe,_e,Fe)}if(be(_e)||K(_e))return ie=ie.get(oe)||null,ge(J,ie,_e,Fe,null);if(typeof _e.then=="function")return he(ie,J,oe,oh(_e),Fe);if(_e.$$typeof===G)return he(ie,J,oe,ih(J,_e),Fe);lh(J,_e)}return null}function De(ie,J,oe,_e){for(var Fe=null,St=null,Ve=J,st=J=0,mt=null;Ve!==null&&st<oe.length;st++){Ve.index>st?(mt=Ve,Ve=null):mt=Ve.sibling;var At=ue(ie,Ve,oe[st],_e);if(At===null){Ve===null&&(Ve=mt);break}i&&Ve&&At.alternate===null&&r(ie,Ve),J=x(At,J,st),St===null?Fe=At:St.sibling=At,St=At,Ve=mt}if(st===oe.length)return l(ie,Ve),lt&&Ue(ie,st),Fe;if(Ve===null){for(;st<oe.length;st++)Ve=Ee(ie,oe[st],_e),Ve!==null&&(J=x(Ve,J,st),St===null?Fe=Ve:St.sibling=Ve,St=Ve);return lt&&Ue(ie,st),Fe}for(Ve=d(Ve);st<oe.length;st++)mt=he(Ve,ie,st,oe[st],_e),mt!==null&&(i&&mt.alternate!==null&&Ve.delete(mt.key===null?st:mt.key),J=x(mt,J,st),St===null?Fe=mt:St.sibling=mt,St=mt);return i&&Ve.forEach(function(xo){return r(ie,xo)}),lt&&Ue(ie,st),Fe}function Ze(ie,J,oe,_e){if(oe==null)throw Error(s(151));for(var Fe=null,St=null,Ve=J,st=J=0,mt=null,At=oe.next();Ve!==null&&!At.done;st++,At=oe.next()){Ve.index>st?(mt=Ve,Ve=null):mt=Ve.sibling;var xo=ue(ie,Ve,At.value,_e);if(xo===null){Ve===null&&(Ve=mt);break}i&&Ve&&xo.alternate===null&&r(ie,Ve),J=x(xo,J,st),St===null?Fe=xo:St.sibling=xo,St=xo,Ve=mt}if(At.done)return l(ie,Ve),lt&&Ue(ie,st),Fe;if(Ve===null){for(;!At.done;st++,At=oe.next())At=Ee(ie,At.value,_e),At!==null&&(J=x(At,J,st),St===null?Fe=At:St.sibling=At,St=At);return lt&&Ue(ie,st),Fe}for(Ve=d(Ve);!At.done;st++,At=oe.next())At=he(Ve,ie,st,At.value,_e),At!==null&&(i&&At.alternate!==null&&Ve.delete(At.key===null?st:At.key),J=x(At,J,st),St===null?Fe=At:St.sibling=At,St=At);return i&&Ve.forEach(function(bA){return r(ie,bA)}),lt&&Ue(ie,st),Fe}function Ot(ie,J,oe,_e){if(typeof oe=="object"&&oe!==null&&oe.type===z&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:e:{for(var Fe=oe.key;J!==null;){if(J.key===Fe){if(Fe=oe.type,Fe===z){if(J.tag===7){l(ie,J.sibling),_e=y(J,oe.props.children),_e.return=ie,ie=_e;break e}}else if(J.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===I&&El(Fe)===J.type){l(ie,J.sibling),_e=y(J,oe.props),wu(_e,oe),_e.return=ie,ie=_e;break e}l(ie,J);break}else r(ie,J);J=J.sibling}oe.type===z?(_e=sa(oe.props.children,ie.mode,_e,oe.key),_e.return=ie,ie=_e):(_e=_l(oe.type,oe.key,oe.props,null,ie.mode,_e),wu(_e,oe),_e.return=ie,ie=_e)}return A(ie);case j:e:{for(Fe=oe.key;J!==null;){if(J.key===Fe)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){l(ie,J.sibling),_e=y(J,oe.children||[]),_e.return=ie,ie=_e;break e}else{l(ie,J);break}else r(ie,J);J=J.sibling}_e=gu(oe,ie.mode,_e),_e.return=ie,ie=_e}return A(ie);case I:return oe=El(oe),Ot(ie,J,oe,_e)}if(be(oe))return De(ie,J,oe,_e);if(K(oe)){if(Fe=K(oe),typeof Fe!="function")throw Error(s(150));return oe=Fe.call(oe),Ze(ie,J,oe,_e)}if(typeof oe.then=="function")return Ot(ie,J,oh(oe),_e);if(oe.$$typeof===G)return Ot(ie,J,ih(ie,oe),_e);lh(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,J!==null&&J.tag===6?(l(ie,J.sibling),_e=y(J,oe),_e.return=ie,ie=_e):(l(ie,J),_e=pc(oe,ie.mode,_e),_e.return=ie,ie=_e),A(ie)):l(ie,J)}return function(ie,J,oe,_e){try{bu=0;var Fe=Ot(ie,J,oe,_e);return bc=null,Fe}catch(Ve){if(Ve===xc||Ve===rh)throw Ve;var St=si(29,Ve,null,ie.mode);return St.lanes=_e,St.return=ie,St}}}var Sl=uv(!0),dv=uv(!1),no=!1;function Fm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function io(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function so(i,r,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ct&2)!==0){var y=d.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),d.pending=r,r=yl(i),eo(i,null,l),r}return Er(i,d,r,l),yl(i)}function Eu(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,Yo(i,l)}}function $m(i,r){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?y=x=A:x=x.next=A,l=l.next}while(l!==null);x===null?y=x=r:x=x.next=r}else y=x=r;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Zm=!1;function Tu(){if(Zm){var i=vc;if(i!==null)throw i}}function Su(i,r,l,d){Zm=!1;var y=i.updateQueue;no=!1;var x=y.firstBaseUpdate,A=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var Q=M,le=Q.next;Q.next=null,A===null?x=le:A.next=le,A=Q;var ge=i.alternate;ge!==null&&(ge=ge.updateQueue,M=ge.lastBaseUpdate,M!==A&&(M===null?ge.firstBaseUpdate=le:M.next=le,ge.lastBaseUpdate=Q))}if(x!==null){var Ee=y.baseState;A=0,ge=le=Q=null,M=x;do{var ue=M.lane&-536870913,he=ue!==M.lane;if(he?(ft&ue)===ue:(d&ue)===ue){ue!==0&&ue===_c&&(Zm=!0),ge!==null&&(ge=ge.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var De=i,Ze=M;ue=r;var Ot=l;switch(Ze.tag){case 1:if(De=Ze.payload,typeof De=="function"){Ee=De.call(Ot,Ee,ue);break e}Ee=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ze.payload,ue=typeof De=="function"?De.call(Ot,Ee,ue):De,ue==null)break e;Ee=E({},Ee,ue);break e;case 2:no=!0}}ue=M.callback,ue!==null&&(i.flags|=64,he&&(i.flags|=8192),he=y.callbacks,he===null?y.callbacks=[ue]:he.push(ue))}else he={lane:ue,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ge===null?(le=ge=he,Q=Ee):ge=ge.next=he,A|=ue;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;he=M,M=he.next,he.next=null,y.lastBaseUpdate=he,y.shared.pending=null}}while(!0);ge===null&&(Q=Ee),y.baseState=Q,y.firstBaseUpdate=le,y.lastBaseUpdate=ge,x===null&&(y.shared.lanes=0),co|=A,i.lanes=A,i.memoizedState=Ee}}function hv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function fv(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)hv(l[i],r)}var wc=O(null),ch=O(0);function mv(i,r){i=pa,pe(ch,i),pe(wc,r),pa=i|r.baseLanes}function Km(){pe(ch,pa),pe(wc,wc.current)}function Ym(){pa=ch.current,ee(wc),ee(ch)}var os=O(null),js=null;function ro(i){var r=i.alternate;pe(pn,pn.current&1),pe(os,i),js===null&&(r===null||wc.current!==null||r.memoizedState!==null)&&(js=i)}function Wm(i){pe(pn,pn.current),pe(os,i),js===null&&(js=i)}function pv(i){i.tag===22?(pe(pn,pn.current),pe(os,i),js===null&&(js=i)):ao()}function ao(){pe(pn,pn.current),pe(os,os.current)}function ls(i){ee(os),js===i&&(js=null),ee(pn)}var pn=O(0);function uh(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ng(l)||ig(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var oa=0,nt=null,kt=null,wn=null,dh=!1,Ec=!1,Al=!1,hh=0,Au=0,Tc=null,d2=0;function cn(){throw Error(s(321))}function Qm(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!zn(i[l],r[l]))return!1;return!0}function Xm(i,r,l,d,y,x){return oa=x,nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?Xv:fp,Al=!1,x=l(d,y),Al=!1,Ec&&(x=yv(r,l,d,y)),gv(i),x}function gv(i){W.H=Ru;var r=kt!==null&&kt.next!==null;if(oa=0,wn=kt=nt=null,dh=!1,Au=0,Tc=null,r)throw Error(s(300));i===null||En||(i=i.dependencies,i!==null&&nh(i)&&(En=!0))}function yv(i,r,l,d){nt=i;var y=0;do{if(Ec&&(Tc=null),Au=0,Ec=!1,25<=y)throw Error(s(301));if(y+=1,wn=kt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=Jv,x=r(l,d)}while(Ec);return x}function h2(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Nu(r):r,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(nt.flags|=1024),r}function Jm(){var i=hh!==0;return hh=0,i}function ep(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function tp(i){if(dh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}dh=!1}oa=0,wn=kt=nt=null,Ec=!1,Au=hh=0,Tc=null}function _i(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?nt.memoizedState=wn=i:wn=wn.next=i,wn}function gn(){if(kt===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var r=wn===null?nt.memoizedState:wn.next;if(r!==null)wn=r,kt=i;else{if(i===null)throw nt.alternate===null?Error(s(467)):Error(s(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},wn===null?nt.memoizedState=wn=i:wn=wn.next=i}return wn}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(i){var r=Au;return Au+=1,Tc===null&&(Tc=[]),i=ov(Tc,i,r),r=nt,(wn===null?r.memoizedState:wn.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Xv:fp),i}function mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nu(i);if(i.$$typeof===G)return Gn(i)}throw Error(s(438,String(i)))}function np(i){var r=null,l=nt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=nt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=fh(),nt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),d=0;d<i;d++)l[d]=$;return r.index++,l}function la(i,r){return typeof r=="function"?r(i):r}function ph(i){var r=gn();return ip(r,kt,i)}function ip(i,r,l){var d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var y=i.baseQueue,x=d.pending;if(x!==null){if(y!==null){var A=y.next;y.next=x.next,x.next=A}r.baseQueue=y=x,d.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{r=y.next;var M=A=null,Q=null,le=r,ge=!1;do{var Ee=le.lane&-536870913;if(Ee!==le.lane?(ft&Ee)===Ee:(oa&Ee)===Ee){var ue=le.revertLane;if(ue===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ee===_c&&(ge=!0);else if((oa&ue)===ue){le=le.next,ue===_c&&(ge=!0);continue}else Ee={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(M=Q=Ee,A=x):Q=Q.next=Ee,nt.lanes|=ue,co|=ue;Ee=le.action,Al&&l(x,Ee),x=le.hasEagerState?le.eagerState:l(x,Ee)}else ue={lane:Ee,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(M=Q=ue,A=x):Q=Q.next=ue,nt.lanes|=Ee,co|=Ee;le=le.next}while(le!==null&&le!==r);if(Q===null?A=x:Q.next=M,!zn(x,i.memoizedState)&&(En=!0,ge&&(l=vc,l!==null)))throw l;i.memoizedState=x,i.baseState=A,i.baseQueue=Q,d.lastRenderedState=x}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function sp(i){var r=gn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var d=l.dispatch,y=l.pending,x=r.memoizedState;if(y!==null){l.pending=null;var A=y=y.next;do x=i(x,A.action),A=A.next;while(A!==y);zn(x,r.memoizedState)||(En=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,d]}function _v(i,r,l){var d=nt,y=gn(),x=lt;if(x){if(l===void 0)throw Error(s(407));l=l()}else l=r();var A=!zn((kt||y).memoizedState,l);if(A&&(y.memoizedState=l,En=!0),y=y.queue,op(bv.bind(null,d,y,i),[i]),y.getSnapshot!==r||A||wn!==null&&wn.memoizedState.tag&1){if(d.flags|=2048,Sc(9,{destroy:void 0},xv.bind(null,d,y,l,r),null),Bt===null)throw Error(s(349));x||(oa&127)!==0||vv(d,r,l)}return l}function vv(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=nt.updateQueue,r===null?(r=fh(),nt.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function xv(i,r,l,d){r.value=l,r.getSnapshot=d,wv(r)&&Ev(i)}function bv(i,r,l){return l(function(){wv(r)&&Ev(i)})}function wv(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!zn(i,l)}catch{return!0}}function Ev(i){var r=Ps(i,2);r!==null&&Fi(r,i,2)}function rp(i){var r=_i();if(typeof i=="function"){var l=i;if(i=l(),Al){Fn(!0);try{l()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:i},r}function Tv(i,r,l,d){return i.baseState=l,ip(i,kt,typeof d=="function"?d:la)}function f2(i,r,l,d,y){if(_h(i))throw Error(s(485));if(i=r.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){x.listeners.push(A)}};W.T!==null?l(!0):x.isTransition=!1,d(x),l=r.pending,l===null?(x.next=r.pending=x,Sv(r,x)):(x.next=l.next,r.pending=l.next=x)}}function Sv(i,r){var l=r.action,d=r.payload,y=i.state;if(r.isTransition){var x=W.T,A={};W.T=A;try{var M=l(y,d),Q=W.S;Q!==null&&Q(A,M),Av(i,r,M)}catch(le){ap(i,r,le)}finally{x!==null&&A.types!==null&&(x.types=A.types),W.T=x}}else try{x=l(y,d),Av(i,r,x)}catch(le){ap(i,r,le)}}function Av(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Nv(i,r,d)},function(d){return ap(i,r,d)}):Nv(i,r,l)}function Nv(i,r,l){r.status="fulfilled",r.value=l,Cv(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,Sv(i,l)))}function ap(i,r,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,Cv(r),r=r.next;while(r!==d)}i.action=null}function Cv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Rv(i,r){return r}function Iv(i,r){if(lt){var l=Bt.formState;if(l!==null){e:{var d=nt;if(lt){if(Tt){t:{for(var y=Tt,x=zi;y.nodeType!==8;){if(!x){y=null;break t}if(y=Ls(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Tt=Ls(y.nextSibling),d=y.data==="F!";break e}}Sr(d)}d=!1}d&&(r=l[0])}}return l=_i(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rv,lastRenderedState:r},l.queue=d,l=Yv.bind(null,nt,d),d.dispatch=l,d=rp(!1),x=hp.bind(null,nt,!1,d.queue),d=_i(),y={state:r,dispatch:null,action:i,pending:null},d.queue=y,l=f2.bind(null,nt,y,x,l),y.dispatch=l,d.memoizedState=i,[r,l,!1]}function Pv(i){var r=gn();return Mv(r,kt,i)}function Mv(i,r,l){if(r=ip(i,r,Rv)[0],i=ph(la)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Nu(r)}catch(A){throw A===xc?rh:A}else d=r;r=gn();var y=r.queue,x=y.dispatch;return l!==r.memoizedState&&(nt.flags|=2048,Sc(9,{destroy:void 0},m2.bind(null,y,l),null)),[d,x,i]}function m2(i,r){i.action=r}function jv(i){var r=gn(),l=kt;if(l!==null)return Mv(r,l,i);gn(),r=r.memoizedState,l=gn();var d=l.queue.dispatch;return l.memoizedState=i,[r,d,!1]}function Sc(i,r,l,d){return i={tag:i,create:l,deps:d,inst:r,next:null},r=nt.updateQueue,r===null&&(r=fh(),nt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,r.lastEffect=i),i}function Lv(){return gn().memoizedState}function gh(i,r,l,d){var y=_i();nt.flags|=i,y.memoizedState=Sc(1|r,{destroy:void 0},l,d===void 0?null:d)}function yh(i,r,l,d){var y=gn();d=d===void 0?null:d;var x=y.memoizedState.inst;kt!==null&&d!==null&&Qm(d,kt.memoizedState.deps)?y.memoizedState=Sc(r,x,l,d):(nt.flags|=i,y.memoizedState=Sc(1|r,x,l,d))}function kv(i,r){gh(8390656,8,i,r)}function op(i,r){yh(2048,8,i,r)}function p2(i){nt.flags|=4;var r=nt.updateQueue;if(r===null)r=fh(),nt.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function Dv(i){var r=gn().memoizedState;return p2({ref:r,nextImpl:i}),function(){if((Ct&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ov(i,r){return yh(4,2,i,r)}function Vv(i,r){return yh(4,4,i,r)}function zv(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Uv(i,r,l){l=l!=null?l.concat([i]):null,yh(4,4,zv.bind(null,r,i),l)}function lp(){}function Bv(i,r){var l=gn();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&Qm(r,d[1])?d[0]:(l.memoizedState=[i,r],i)}function qv(i,r){var l=gn();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&Qm(r,d[1]))return d[0];if(d=i(),Al){Fn(!0);try{i()}finally{Fn(!1)}}return l.memoizedState=[d,r],d}function cp(i,r,l){return l===void 0||(oa&1073741824)!==0&&(ft&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=H0(),nt.lanes|=i,co|=i,l)}function Hv(i,r,l,d){return zn(l,r)?l:wc.current!==null?(i=cp(i,l,d),zn(i,r)||(En=!0),i):(oa&42)===0||(oa&1073741824)!==0&&(ft&261930)===0?(En=!0,i.memoizedState=l):(i=H0(),nt.lanes|=i,co|=i,r)}function Fv(i,r,l,d,y){var x=me.p;me.p=x!==0&&8>x?x:8;var A=W.T,M={};W.T=M,hp(i,!1,r,l);try{var Q=y(),le=W.S;if(le!==null&&le(M,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ge=u2(Q,d);Cu(i,r,ge,ds(i))}else Cu(i,r,d,ds(i))}catch(Ee){Cu(i,r,{then:function(){},status:"rejected",reason:Ee},ds())}finally{me.p=x,A!==null&&M.types!==null&&(A.types=M.types),W.T=A}}function g2(){}function up(i,r,l,d){if(i.tag!==5)throw Error(s(476));var y=Gv(i).queue;Fv(i,y,r,ae,l===null?g2:function(){return $v(i),l(d)})}function Gv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:ae},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function $v(i){var r=Gv(i);r.next===null&&(r=i.alternate.memoizedState),Cu(i,r.next.queue,{},ds())}function dp(){return Gn(Gu)}function Zv(){return gn().memoizedState}function Kv(){return gn().memoizedState}function y2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ds();i=io(l);var d=so(r,i,l);d!==null&&(Fi(d,r,l),Eu(d,r,l)),r={cache:Um()},i.payload=r;return}r=r.return}}function _2(i,r,l){var d=ds();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_h(i)?Wv(r,l):(l=fu(i,r,l,d),l!==null&&(Fi(l,i,d),Qv(l,r,d)))}function Yv(i,r,l){var d=ds();Cu(i,r,l,d)}function Cu(i,r,l,d){var y={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(_h(i))Wv(r,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var A=r.lastRenderedState,M=x(A,l);if(y.hasEagerState=!0,y.eagerState=M,zn(M,A))return Er(i,r,y,0),Bt===null&&gl(),!1}catch{}if(l=fu(i,r,y,d),l!==null)return Fi(l,i,d),Qv(l,r,d),!0}return!1}function hp(i,r,l,d){if(d={lane:2,revertLane:Fp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},_h(i)){if(r)throw Error(s(479))}else r=fu(i,l,d,2),r!==null&&Fi(r,i,2)}function _h(i){var r=i.alternate;return i===nt||r!==null&&r===nt}function Wv(i,r){Ec=dh=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function Qv(i,r,l){if((l&4194048)!==0){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,Yo(i,l)}}var Ru={readContext:Gn,use:mh,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Ru.useEffectEvent=cn;var Xv={readContext:Gn,use:mh,useCallback:function(i,r){return _i().memoizedState=[i,r===void 0?null:r],i},useContext:Gn,useEffect:kv,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,gh(4194308,4,zv.bind(null,r,i),l)},useLayoutEffect:function(i,r){return gh(4194308,4,i,r)},useInsertionEffect:function(i,r){gh(4,2,i,r)},useMemo:function(i,r){var l=_i();r=r===void 0?null:r;var d=i();if(Al){Fn(!0);try{i()}finally{Fn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(i,r,l){var d=_i();if(l!==void 0){var y=l(r);if(Al){Fn(!0);try{l(r)}finally{Fn(!1)}}}else y=r;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=_2.bind(null,nt,i),[d.memoizedState,i]},useRef:function(i){var r=_i();return i={current:i},r.memoizedState=i},useState:function(i){i=rp(i);var r=i.queue,l=Yv.bind(null,nt,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:lp,useDeferredValue:function(i,r){var l=_i();return cp(l,i,r)},useTransition:function(){var i=rp(!1);return i=Fv.bind(null,nt,i.queue,!0,!1),_i().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var d=nt,y=_i();if(lt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),Bt===null)throw Error(s(349));(ft&127)!==0||vv(d,r,l)}y.memoizedState=l;var x={value:l,getSnapshot:r};return y.queue=x,kv(bv.bind(null,d,x,i),[i]),d.flags|=2048,Sc(9,{destroy:void 0},xv.bind(null,d,x,l,r),null),l},useId:function(){var i=_i(),r=Bt.identifierPrefix;if(lt){var l=Ie,d=we;l=(d&~(1<<32-Ft(d)-1)).toString(32)+l,r="_"+r+"R_"+l,l=hh++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=d2++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:dp,useFormState:Iv,useActionState:Iv,useOptimistic:function(i){var r=_i();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=hp.bind(null,nt,!0,l),l.dispatch=r,[i,r]},useMemoCache:np,useCacheRefresh:function(){return _i().memoizedState=y2.bind(null,nt)},useEffectEvent:function(i){var r=_i(),l={impl:i};return r.memoizedState=l,function(){if((Ct&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},fp={readContext:Gn,use:mh,useCallback:Bv,useContext:Gn,useEffect:op,useImperativeHandle:Uv,useInsertionEffect:Ov,useLayoutEffect:Vv,useMemo:qv,useReducer:ph,useRef:Lv,useState:function(){return ph(la)},useDebugValue:lp,useDeferredValue:function(i,r){var l=gn();return Hv(l,kt.memoizedState,i,r)},useTransition:function(){var i=ph(la)[0],r=gn().memoizedState;return[typeof i=="boolean"?i:Nu(i),r]},useSyncExternalStore:_v,useId:Zv,useHostTransitionStatus:dp,useFormState:Pv,useActionState:Pv,useOptimistic:function(i,r){var l=gn();return Tv(l,kt,i,r)},useMemoCache:np,useCacheRefresh:Kv};fp.useEffectEvent=Dv;var Jv={readContext:Gn,use:mh,useCallback:Bv,useContext:Gn,useEffect:op,useImperativeHandle:Uv,useInsertionEffect:Ov,useLayoutEffect:Vv,useMemo:qv,useReducer:sp,useRef:Lv,useState:function(){return sp(la)},useDebugValue:lp,useDeferredValue:function(i,r){var l=gn();return kt===null?cp(l,i,r):Hv(l,kt.memoizedState,i,r)},useTransition:function(){var i=sp(la)[0],r=gn().memoizedState;return[typeof i=="boolean"?i:Nu(i),r]},useSyncExternalStore:_v,useId:Zv,useHostTransitionStatus:dp,useFormState:jv,useActionState:jv,useOptimistic:function(i,r){var l=gn();return kt!==null?Tv(l,kt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:np,useCacheRefresh:Kv};Jv.useEffectEvent=Dv;function mp(i,r,l,d){r=i.memoizedState,l=l(d,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var pp={enqueueSetState:function(i,r,l){i=i._reactInternals;var d=ds(),y=io(d);y.payload=r,l!=null&&(y.callback=l),r=so(i,y,d),r!==null&&(Fi(r,i,d),Eu(r,i,d))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var d=ds(),y=io(d);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=so(i,y,d),r!==null&&(Fi(r,i,d),Eu(r,i,d))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ds(),d=io(l);d.tag=2,r!=null&&(d.callback=r),r=so(i,d,l),r!==null&&(Fi(r,i,l),Eu(r,i,l))}};function e0(i,r,l,d,y,x,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,x,A):r.prototype&&r.prototype.isPureReactComponent?!Wa(l,d)||!Wa(y,x):!0}function t0(i,r,l,d){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==i&&pp.enqueueReplaceState(r,r.state,null)}function Nl(i,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function n0(i){pl(i)}function i0(i){console.error(i)}function s0(i){pl(i)}function vh(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function r0(i,r,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function gp(i,r,l){return l=io(l),l.tag=3,l.payload={element:null},l.callback=function(){vh(i,r)},l}function a0(i){return i=io(i),i.tag=3,i}function o0(i,r,l,d){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var x=d.value;i.payload=function(){return y(x)},i.callback=function(){r0(r,l,d)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){r0(r,l,d),typeof y!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function v2(i,r,l,d,y){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&yc(r,l,y,!0),l=os.current,l!==null){switch(l.tag){case 31:case 13:return js===null?Ph():l.alternate===null&&un===0&&(un=3),l.flags&=-257,l.flags|=65536,l.lanes=y,d===ah?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),Bp(i,d,y)),!1;case 22:return l.flags|=65536,d===ah?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),Bp(i,d,y)),!1}throw Error(s(435,l.tag))}return Bp(i,d,y),Ph(),!1}if(lt)return r=os.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,d!==gc&&(i=Error(s(422),{cause:d}),vl(u(i,l)))):(d!==gc&&(r=Error(s(423),{cause:d}),vl(u(r,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=u(d,l),y=gp(i.stateNode,d,y),$m(i,y),un!==4&&(un=2)),!1;var x=Error(s(520),{cause:d});if(x=u(x,l),Ou===null?Ou=[x]:Ou.push(x),un!==4&&(un=2),r===null)return!0;d=u(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=gp(l.stateNode,d,i),$m(l,i),!1;case 1:if(r=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(uo===null||!uo.has(x))))return l.flags|=65536,y&=-y,l.lanes|=y,y=a0(y),o0(y,i,l,d),$m(l,y),!1}l=l.return}while(l!==null);return!1}var yp=Error(s(461)),En=!1;function $n(i,r,l,d){r.child=i===null?dv(r,null,l,d):Sl(r,i.child,l,d)}function l0(i,r,l,d,y){l=l.render;var x=r.ref;if("ref"in d){var A={};for(var M in d)M!=="ref"&&(A[M]=d[M])}else A=d;return bl(r),d=Xm(i,r,l,A,x,y),M=Jm(),i!==null&&!En?(ep(i,r,y),ca(i,r,y)):(lt&&M&&Rn(r),r.flags|=1,$n(i,r,d,y),r.child)}function c0(i,r,l,d,y){if(i===null){var x=l.type;return typeof x=="function"&&!mc(x)&&x.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=x,u0(i,r,x,d,y)):(i=_l(l.type,null,d,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(x=i.child,!Sp(i,y)){var A=x.memoizedProps;if(l=l.compare,l=l!==null?l:Wa,l(A,d)&&i.ref===r.ref)return ca(i,r,y)}return r.flags|=1,i=Ms(x,d),i.ref=r.ref,i.return=r,r.child=i}function u0(i,r,l,d,y){if(i!==null){var x=i.memoizedProps;if(Wa(x,d)&&i.ref===r.ref)if(En=!1,r.pendingProps=d=x,Sp(i,y))(i.flags&131072)!==0&&(En=!0);else return r.lanes=i.lanes,ca(i,r,y)}return _p(i,r,l,d,y)}function d0(i,r,l,d){var y=d.children,x=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(d=r.child=i.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~x}else d=0,r.child=null;return h0(i,r,x,l,d)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&sh(r,x!==null?x.cachePool:null),x!==null?mv(r,x):Km(),pv(r);else return d=r.lanes=536870912,h0(i,r,x!==null?x.baseLanes|l:l,l,d)}else x!==null?(sh(r,x.cachePool),mv(r,x),ao(),r.memoizedState=null):(i!==null&&sh(r,null),Km(),ao());return $n(i,r,y,l),r.child}function Iu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function h0(i,r,l,d,y){var x=qm();return x=x===null?null:{parent:bn._currentValue,pool:x},r.memoizedState={baseLanes:l,cachePool:x},i!==null&&sh(r,null),Km(),pv(r),i!==null&&yc(i,r,d,!0),r.childLanes=y,null}function xh(i,r){return r=wh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function f0(i,r,l){return Sl(r,i.child,null,l),i=xh(r,r.pendingProps),i.flags|=2,ls(r),r.memoizedState=null,i}function x2(i,r,l){var d=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(lt){if(d.mode==="hidden")return i=xh(r,d),r.lanes=536870912,Iu(null,i);if(Wm(r),(i=Tt)?(i=Sx(i,zi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:we,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},l=pu(i),l.return=r,r.child=l,Et=r,Tt=null)):i=null,i===null)throw Sr(r);return r.lanes=536870912,null}return xh(r,d)}var x=i.memoizedState;if(x!==null){var A=x.dehydrated;if(Wm(r),y)if(r.flags&256)r.flags&=-257,r=f0(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(En||yc(i,r,l,!1),y=(l&i.childLanes)!==0,En||y){if(d=Bt,d!==null&&(A=Wo(d,l),A!==0&&A!==x.retryLane))throw x.retryLane=A,Ps(i,A),Fi(d,i,A),yp;Ph(),r=f0(i,r,l)}else i=x.treeContext,Tt=Ls(A.nextSibling),Et=r,lt=!0,Tr=null,zi=!1,i!==null&&yi(r,i),r=xh(r,d),r.flags|=4096;return r}return i=Ms(i.child,{mode:d.mode,children:d.children}),i.ref=r.ref,r.child=i,i.return=r,i}function bh(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function _p(i,r,l,d,y){return bl(r),l=Xm(i,r,l,d,void 0,y),d=Jm(),i!==null&&!En?(ep(i,r,y),ca(i,r,y)):(lt&&d&&Rn(r),r.flags|=1,$n(i,r,l,y),r.child)}function m0(i,r,l,d,y,x){return bl(r),r.updateQueue=null,l=yv(r,d,l,y),gv(i),d=Jm(),i!==null&&!En?(ep(i,r,x),ca(i,r,x)):(lt&&d&&Rn(r),r.flags|=1,$n(i,r,l,x),r.child)}function p0(i,r,l,d,y){if(bl(r),r.stateNode===null){var x=ia,A=l.contextType;typeof A=="object"&&A!==null&&(x=Gn(A)),x=new l(d,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=pp,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=d,x.state=r.memoizedState,x.refs={},Fm(r),A=l.contextType,x.context=typeof A=="object"&&A!==null?Gn(A):ia,x.state=r.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(mp(r,l,A,d),x.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(A=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),A!==x.state&&pp.enqueueReplaceState(x,x.state,null),Su(r,d,x,y),Tu(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(i===null){x=r.stateNode;var M=r.memoizedProps,Q=Nl(l,M);x.props=Q;var le=x.context,ge=l.contextType;A=ia,typeof ge=="object"&&ge!==null&&(A=Gn(ge));var Ee=l.getDerivedStateFromProps;ge=typeof Ee=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ge||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||le!==A)&&t0(r,x,d,A),no=!1;var ue=r.memoizedState;x.state=ue,Su(r,d,x,y),Tu(),le=r.memoizedState,M||ue!==le||no?(typeof Ee=="function"&&(mp(r,l,Ee,d),le=r.memoizedState),(Q=no||e0(r,l,Q,d,ue,le,A))?(ge||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=le),x.props=d,x.state=le,x.context=A,d=Q):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{x=r.stateNode,Gm(i,r),A=r.memoizedProps,ge=Nl(l,A),x.props=ge,Ee=r.pendingProps,ue=x.context,le=l.contextType,Q=ia,typeof le=="object"&&le!==null&&(Q=Gn(le)),M=l.getDerivedStateFromProps,(le=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==Ee||ue!==Q)&&t0(r,x,d,Q),no=!1,ue=r.memoizedState,x.state=ue,Su(r,d,x,y),Tu();var he=r.memoizedState;A!==Ee||ue!==he||no||i!==null&&i.dependencies!==null&&nh(i.dependencies)?(typeof M=="function"&&(mp(r,l,M,d),he=r.memoizedState),(ge=no||e0(r,l,ge,d,ue,he,Q)||i!==null&&i.dependencies!==null&&nh(i.dependencies))?(le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,he,Q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,he,Q)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=he),x.props=d,x.state=he,x.context=Q,d=ge):(typeof x.componentDidUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),d=!1)}return x=d,bh(i,r),d=(r.flags&128)!==0,x||d?(x=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,i!==null&&d?(r.child=Sl(r,i.child,null,y),r.child=Sl(r,null,l,y)):$n(i,r,l,y),r.memoizedState=x.state,i=r.child):i=ca(i,r,y),i}function g0(i,r,l,d){return ra(),r.flags|=256,$n(i,r,l,d),r.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(i){return{baseLanes:i,cachePool:rv()}}function bp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=us),i}function y0(i,r,l){var d=r.pendingProps,y=!1,x=(r.flags&128)!==0,A;if((A=x)||(A=i!==null&&i.memoizedState===null?!1:(pn.current&2)!==0),A&&(y=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if(lt){if(y?ro(r):ao(),(i=Tt)?(i=Sx(i,zi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:we,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},l=pu(i),l.return=r,r.child=l,Et=r,Tt=null)):i=null,i===null)throw Sr(r);return ig(i)?r.lanes=32:r.lanes=536870912,null}var M=d.children;return d=d.fallback,y?(ao(),y=r.mode,M=wh({mode:"hidden",children:M},y),d=sa(d,y,l,null),M.return=r,d.return=r,M.sibling=d,r.child=M,d=r.child,d.memoizedState=xp(l),d.childLanes=bp(i,A,l),r.memoizedState=vp,Iu(null,d)):(ro(r),wp(r,M))}var Q=i.memoizedState;if(Q!==null&&(M=Q.dehydrated,M!==null)){if(x)r.flags&256?(ro(r),r.flags&=-257,r=Ep(i,r,l)):r.memoizedState!==null?(ao(),r.child=i.child,r.flags|=128,r=null):(ao(),M=d.fallback,y=r.mode,d=wh({mode:"visible",children:d.children},y),M=sa(M,y,l,null),M.flags|=2,d.return=r,M.return=r,d.sibling=M,r.child=d,Sl(r,i.child,null,l),d=r.child,d.memoizedState=xp(l),d.childLanes=bp(i,A,l),r.memoizedState=vp,r=Iu(null,d));else if(ro(r),ig(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var le=A.dgst;A=le,d=Error(s(419)),d.stack="",d.digest=A,vl({value:d,source:null,stack:null}),r=Ep(i,r,l)}else if(En||yc(i,r,l,!1),A=(l&i.childLanes)!==0,En||A){if(A=Bt,A!==null&&(d=Wo(A,l),d!==0&&d!==Q.retryLane))throw Q.retryLane=d,Ps(i,d),Fi(A,i,d),yp;ng(M)||Ph(),r=Ep(i,r,l)}else ng(M)?(r.flags|=192,r.child=i.child,r=null):(i=Q.treeContext,Tt=Ls(M.nextSibling),Et=r,lt=!0,Tr=null,zi=!1,i!==null&&yi(r,i),r=wp(r,d.children),r.flags|=4096);return r}return y?(ao(),M=d.fallback,y=r.mode,Q=i.child,le=Q.sibling,d=Ms(Q,{mode:"hidden",children:d.children}),d.subtreeFlags=Q.subtreeFlags&65011712,le!==null?M=Ms(le,M):(M=sa(M,y,l,null),M.flags|=2),M.return=r,d.return=r,d.sibling=M,r.child=d,Iu(null,d),d=r.child,M=i.child.memoizedState,M===null?M=xp(l):(y=M.cachePool,y!==null?(Q=bn._currentValue,y=y.parent!==Q?{parent:Q,pool:Q}:y):y=rv(),M={baseLanes:M.baseLanes|l,cachePool:y}),d.memoizedState=M,d.childLanes=bp(i,A,l),r.memoizedState=vp,Iu(i.child,d)):(ro(r),l=i.child,i=l.sibling,l=Ms(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=l,r.memoizedState=null,l)}function wp(i,r){return r=wh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function wh(i,r){return i=si(22,i,null,r),i.lanes=0,i}function Ep(i,r,l){return Sl(r,i.child,null,l),i=wp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function _0(i,r,l){i.lanes|=r;var d=i.alternate;d!==null&&(d.lanes|=r),Vm(i.return,r,l)}function Tp(i,r,l,d,y,x){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y,treeForkCount:x}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=l,A.tailMode=y,A.treeForkCount=x)}function v0(i,r,l){var d=r.pendingProps,y=d.revealOrder,x=d.tail;d=d.children;var A=pn.current,M=(A&2)!==0;if(M?(A=A&1|2,r.flags|=128):A&=1,pe(pn,A),$n(i,r,d,l),d=lt?P:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_0(i,l,r);else if(i.tag===19)_0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)i=l.alternate,i!==null&&uh(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),Tp(r,!1,y,l,x,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&uh(i)===null){r.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}Tp(r,!0,l,null,x,d);break;case"together":Tp(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function ca(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),co|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(yc(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Ms(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Ms(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function Sp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&nh(i)))}function b2(i,r,l){switch(r.tag){case 3:Nt(r,r.stateNode.containerInfo),to(r,bn,i.memoizedState.cache),ra();break;case 27:case 5:$i(r);break;case 4:Nt(r,r.stateNode.containerInfo);break;case 10:to(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Wm(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(ro(r),r.flags|=128,null):(l&r.child.childLanes)!==0?y0(i,r,l):(ro(r),i=ca(i,r,l),i!==null?i.sibling:null);ro(r);break;case 19:var y=(i.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(yc(i,r,l,!1),d=(l&r.childLanes)!==0),y){if(d)return v0(i,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pe(pn,pn.current),d)break;return null;case 22:return r.lanes=0,d0(i,r,l,r.pendingProps);case 24:to(r,bn,i.memoizedState.cache)}return ca(i,r,l)}function x0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)En=!0;else{if(!Sp(i,l)&&(r.flags&128)===0)return En=!1,b2(i,r,l);En=(i.flags&131072)!==0}else En=!1,lt&&(r.flags&1048576)!==0&&it(r,P,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(i=El(r.elementType),r.type=i,typeof i=="function")mc(i)?(d=Nl(i,d),r.tag=1,r=p0(null,r,i,d,l)):(r.tag=0,r=_p(null,r,i,d,l));else{if(i!=null){var y=i.$$typeof;if(y===ne){r.tag=11,r=l0(null,r,i,d,l);break e}else if(y===q){r.tag=14,r=c0(null,r,i,d,l);break e}}throw r=Se(i)||i,Error(s(306,r,""))}}return r;case 0:return _p(i,r,r.type,r.pendingProps,l);case 1:return d=r.type,y=Nl(d,r.pendingProps),p0(i,r,d,y,l);case 3:e:{if(Nt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));d=r.pendingProps;var x=r.memoizedState;y=x.element,Gm(i,r),Su(r,d,null,l);var A=r.memoizedState;if(d=A.cache,to(r,bn,d),d!==x.cache&&zm(r,[bn],l,!0),Tu(),d=A.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=g0(i,r,d,l);break e}else if(d!==y){y=u(Error(s(424)),r),vl(y),r=g0(i,r,d,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Tt=Ls(i.firstChild),Et=r,lt=!0,Tr=null,zi=!0,l=dv(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ra(),d===y){r=ca(i,r,l);break e}$n(i,r,d,l)}r=r.child}return r;case 26:return bh(i,r),i===null?(l=Px(r.type,null,r.pendingProps,null))?r.memoizedState=l:lt||(l=r.type,i=r.pendingProps,d=Vh(Ae.current).createElement(l),d[tn]=r,d[an]=i,Zn(d,l,i),on(d),r.stateNode=d):r.memoizedState=Px(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return $i(r),i===null&&lt&&(d=r.stateNode=Cx(r.type,r.pendingProps,Ae.current),Et=r,zi=!0,y=Tt,po(r.type)?(sg=y,Tt=Ls(d.firstChild)):Tt=y),$n(i,r,r.pendingProps.children,l),bh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&lt&&((y=d=Tt)&&(d=Q2(d,r.type,r.pendingProps,zi),d!==null?(r.stateNode=d,Et=r,Tt=Ls(d.firstChild),zi=!1,y=!0):y=!1),y||Sr(r)),$i(r),y=r.type,x=r.pendingProps,A=i!==null?i.memoizedProps:null,d=x.children,Jp(y,x)?d=null:A!==null&&Jp(y,A)&&(r.flags|=32),r.memoizedState!==null&&(y=Xm(i,r,h2,null,null,l),Gu._currentValue=y),bh(i,r),$n(i,r,d,l),r.child;case 6:return i===null&&lt&&((i=l=Tt)&&(l=X2(l,r.pendingProps,zi),l!==null?(r.stateNode=l,Et=r,Tt=null,i=!0):i=!1),i||Sr(r)),null;case 13:return y0(i,r,l);case 4:return Nt(r,r.stateNode.containerInfo),d=r.pendingProps,i===null?r.child=Sl(r,null,d,l):$n(i,r,d,l),r.child;case 11:return l0(i,r,r.type,r.pendingProps,l);case 7:return $n(i,r,r.pendingProps,l),r.child;case 8:return $n(i,r,r.pendingProps.children,l),r.child;case 12:return $n(i,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,to(r,r.type,d.value),$n(i,r,d.children,l),r.child;case 9:return y=r.type._context,d=r.pendingProps.children,bl(r),y=Gn(y),d=d(y),r.flags|=1,$n(i,r,d,l),r.child;case 14:return c0(i,r,r.type,r.pendingProps,l);case 15:return u0(i,r,r.type,r.pendingProps,l);case 19:return v0(i,r,l);case 31:return x2(i,r,l);case 22:return d0(i,r,l,r.pendingProps);case 24:return bl(r),d=Gn(bn),i===null?(y=qm(),y===null&&(y=Bt,x=Um(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=l),y=x),r.memoizedState={parent:d,cache:y},Fm(r),to(r,bn,y)):((i.lanes&l)!==0&&(Gm(i,r),Su(r,null,null,l),Tu()),y=i.memoizedState,x=r.memoizedState,y.parent!==d?(y={parent:d,cache:d},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),to(r,bn,d)):(d=x.cache,to(r,bn,d),d!==y.cache&&zm(r,[bn],l,!0))),$n(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ua(i){i.flags|=4}function Ap(i,r,l,d,y){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Z0())i.flags|=8192;else throw Tl=ah,Hm}else i.flags&=-16777217}function b0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Dx(r))if(Z0())i.flags|=8192;else throw Tl=ah,Hm}function Eh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ec():536870912,i.lanes|=r,Rc|=r)}function Pu(i,r){if(!lt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Kt(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(r)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=l,r}function w2(i,r,l){var d=r.pendingProps;switch(ln(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(r),null;case 1:return Kt(r),null;case 3:return l=r.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),aa(bn),It(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Js(r)?ua(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_u())),Kt(r),null;case 26:var y=r.type,x=r.memoizedState;return i===null?(ua(r),x!==null?(Kt(r),b0(r,x)):(Kt(r),Ap(r,y,null,d,l))):x?x!==i.memoizedState?(ua(r),Kt(r),b0(r,x)):(Kt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==d&&ua(r),Kt(r),Ap(r,y,i,d,l)),null;case 27:if(ys(r),l=Ae.current,y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ua(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return Kt(r),null}i=xe.current,Js(r)?yu(r):(i=Cx(y,d,l),r.stateNode=i,ua(r))}return Kt(r),null;case 5:if(ys(r),y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ua(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return Kt(r),null}if(x=xe.current,Js(r))yu(r);else{var A=Vh(Ae.current);switch(x){case 1:x=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=A.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?A.createElement("select",{is:d.is}):A.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?A.createElement(y,{is:d.is}):A.createElement(y)}}x[tn]=r,x[an]=d;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)x.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=x;e:switch(Zn(x,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ua(r)}}return Kt(r),Ap(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==d&&ua(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ae.current,Js(r)){if(i=r.stateNode,l=r.memoizedProps,d=null,y=Et,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[tn]=r,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||yx(i.nodeValue,l)),i||Sr(r,!0)}else i=Vh(i).createTextNode(d),i[tn]=r,r.stateNode=i}return Kt(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(d=Js(r),l!==null){if(i===null){if(!d)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[tn]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Kt(r),i=!1}else l=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(ls(r),r):(ls(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Kt(r),null;case 13:if(d=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Js(r),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[tn]=r}else ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Kt(r),y=!1}else y=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(ls(r),r):(ls(r),null)}return ls(r),(r.flags&128)!==0?(r.lanes=l,r):(l=d!==null,i=i!==null&&i.memoizedState!==null,l&&(d=r.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==y&&(d.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),Eh(r,r.updateQueue),Kt(r),null);case 4:return It(),i===null&&Kp(r.stateNode.containerInfo),Kt(r),null;case 10:return aa(r.type),Kt(r),null;case 19:if(ee(pn),d=r.memoizedState,d===null)return Kt(r),null;if(y=(r.flags&128)!==0,x=d.rendering,x===null)if(y)Pu(d,!1);else{if(un!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(x=uh(i),x!==null){for(r.flags|=128,Pu(d,!1),i=x.updateQueue,r.updateQueue=i,Eh(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)mu(l,i),l=l.sibling;return pe(pn,pn.current&1|2),lt&&Ue(r,d.treeForkCount),r.child}i=i.sibling}d.tail!==null&&Cn()>Ch&&(r.flags|=128,y=!0,Pu(d,!1),r.lanes=4194304)}else{if(!y)if(i=uh(x),i!==null){if(r.flags|=128,y=!0,i=i.updateQueue,r.updateQueue=i,Eh(r,i),Pu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!lt)return Kt(r),null}else 2*Cn()-d.renderingStartTime>Ch&&l!==536870912&&(r.flags|=128,y=!0,Pu(d,!1),r.lanes=4194304);d.isBackwards?(x.sibling=r.child,r.child=x):(i=d.last,i!==null?i.sibling=x:r.child=x,d.last=x)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Cn(),i.sibling=null,l=pn.current,pe(pn,y?l&1|2:l&1),lt&&Ue(r,d.treeForkCount),i):(Kt(r),null);case 22:case 23:return ls(r),Ym(),d=r.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(Kt(r),r.subtreeFlags&6&&(r.flags|=8192)):Kt(r),l=r.updateQueue,l!==null&&Eh(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),i!==null&&ee(wl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),aa(bn),Kt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function E2(i,r){switch(ln(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return aa(bn),It(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ys(r),null;case 31:if(r.memoizedState!==null){if(ls(r),r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(ls(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ra()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(pn),null;case 4:return It(),null;case 10:return aa(r.type),null;case 22:case 23:return ls(r),Ym(),i!==null&&ee(wl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return aa(bn),null;case 25:return null;default:return null}}function w0(i,r){switch(ln(r),r.tag){case 3:aa(bn),It();break;case 26:case 27:case 5:ys(r);break;case 4:It();break;case 31:r.memoizedState!==null&&ls(r);break;case 13:ls(r);break;case 19:ee(pn);break;case 10:aa(r.type);break;case 22:case 23:ls(r),Ym(),i!==null&&ee(wl);break;case 24:aa(bn)}}function Mu(i,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&i)===i){d=void 0;var x=l.create,A=l.inst;d=x(),A.destroy=d}l=l.next}while(l!==y)}}catch(M){Lt(r,r.return,M)}}function oo(i,r,l){try{var d=r.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var x=y.next;d=x;do{if((d.tag&i)===i){var A=d.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,y=r;var Q=l,le=M;try{le()}catch(ge){Lt(y,Q,ge)}}}d=d.next}while(d!==x)}}catch(ge){Lt(r,r.return,ge)}}function E0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{fv(r,l)}catch(d){Lt(i,i.return,d)}}}function T0(i,r,l){l.props=Nl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){Lt(i,r,d)}}function ju(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(y){Lt(i,r,y)}}function Nr(i,r){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(y){Lt(i,r,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Lt(i,r,y)}else l.current=null}function S0(i){var r=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(y){Lt(i,i.return,y)}}function Np(i,r,l){try{var d=i.stateNode;G2(d,i.type,l,r),d[an]=r}catch(y){Lt(i,i.return,y)}}function A0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&po(i.type)||i.tag===4}function Cp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||A0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&po(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rp(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Jn));else if(d!==4&&(d===27&&po(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Rp(i,r,l),i=i.sibling;i!==null;)Rp(i,r,l),i=i.sibling}function Th(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(d!==4&&(d===27&&po(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Th(i,r,l),i=i.sibling;i!==null;)Th(i,r,l),i=i.sibling}function N0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);Zn(r,d,l),r[tn]=i,r[an]=l}catch(x){Lt(i,i.return,x)}}var da=!1,Tn=!1,Ip=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function T2(i,r){if(i=i.containerInfo,Qp=Gh,i=dl(i),vr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var A=0,M=-1,Q=-1,le=0,ge=0,Ee=i,ue=null;t:for(;;){for(var he;Ee!==l||y!==0&&Ee.nodeType!==3||(M=A+y),Ee!==x||d!==0&&Ee.nodeType!==3||(Q=A+d),Ee.nodeType===3&&(A+=Ee.nodeValue.length),(he=Ee.firstChild)!==null;)ue=Ee,Ee=he;for(;;){if(Ee===i)break t;if(ue===l&&++le===y&&(M=A),ue===x&&++ge===d&&(Q=A),(he=Ee.nextSibling)!==null)break;Ee=ue,ue=Ee.parentNode}Ee=he}l=M===-1||Q===-1?null:{start:M,end:Q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xp={focusedElem:i,selectionRange:l},Gh=!1,Bn=r;Bn!==null;)if(r=Bn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Bn=i;else for(;Bn!==null;){switch(r=Bn,x=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=r,y=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var De=Nl(l.type,y);i=d.getSnapshotBeforeUpdate(De,x),d.__reactInternalSnapshotBeforeUpdate=i}catch(Ze){Lt(l,l.return,Ze)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)tg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":tg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Bn=i;break}Bn=r.return}}function R0(i,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:fa(i,l),d&4&&Mu(5,l);break;case 1:if(fa(i,l),d&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(A){Lt(l,l.return,A)}else{var y=Nl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(y,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Lt(l,l.return,A)}}d&64&&E0(l),d&512&&ju(l,l.return);break;case 3:if(fa(i,l),d&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{fv(i,r)}catch(A){Lt(l,l.return,A)}}break;case 27:r===null&&d&4&&N0(l);case 26:case 5:fa(i,l),r===null&&d&4&&S0(l),d&512&&ju(l,l.return);break;case 12:fa(i,l);break;case 31:fa(i,l),d&4&&M0(i,l);break;case 13:fa(i,l),d&4&&j0(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=j2.bind(null,l),J2(i,l))));break;case 22:if(d=l.memoizedState!==null||da,!d){r=r!==null&&r.memoizedState!==null||Tn,y=da;var x=Tn;da=d,(Tn=r)&&!x?ma(i,l,(l.subtreeFlags&8772)!==0):fa(i,l),da=y,Tn=x}break;case 30:break;default:fa(i,l)}}function I0(i){var r=i.alternate;r!==null&&(i.alternate=null,I0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Oa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Xt=null,Ui=!1;function ha(i,r,l){for(l=l.child;l!==null;)P0(i,r,l),l=l.sibling}function P0(i,r,l){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Xn,l)}catch{}switch(l.tag){case 26:Tn||Nr(l,r),ha(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Tn||Nr(l,r);var d=Xt,y=Ui;po(l.type)&&(Xt=l.stateNode,Ui=!1),ha(i,r,l),qu(l.stateNode),Xt=d,Ui=y;break;case 5:Tn||Nr(l,r);case 6:if(d=Xt,y=Ui,Xt=null,ha(i,r,l),Xt=d,Ui=y,Xt!==null)if(Ui)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(l.stateNode)}catch(x){Lt(l,r,x)}else try{Xt.removeChild(l.stateNode)}catch(x){Lt(l,r,x)}break;case 18:Xt!==null&&(Ui?(i=Xt,Ex(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Oc(i)):Ex(Xt,l.stateNode));break;case 4:d=Xt,y=Ui,Xt=l.stateNode.containerInfo,Ui=!0,ha(i,r,l),Xt=d,Ui=y;break;case 0:case 11:case 14:case 15:oo(2,l,r),Tn||oo(4,l,r),ha(i,r,l);break;case 1:Tn||(Nr(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&T0(l,r,d)),ha(i,r,l);break;case 21:ha(i,r,l);break;case 22:Tn=(d=Tn)||l.memoizedState!==null,ha(i,r,l),Tn=d;break;default:ha(i,r,l)}}function M0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Oc(i)}catch(l){Lt(r,r.return,l)}}}function j0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oc(i)}catch(l){Lt(r,r.return,l)}}function S2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new C0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new C0),r;default:throw Error(s(435,i.tag))}}function Sh(i,r){var l=S2(i);r.forEach(function(d){if(!l.has(d)){l.add(d);var y=L2.bind(null,i,d);d.then(y,y)}})}function Bi(i,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d],x=i,A=r,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(po(M.type)){Xt=M.stateNode,Ui=!1;break e}break;case 5:Xt=M.stateNode,Ui=!1;break e;case 3:case 4:Xt=M.stateNode.containerInfo,Ui=!0;break e}M=M.return}if(Xt===null)throw Error(s(160));P0(x,A,y),Xt=null,Ui=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)L0(r,i),r=r.sibling}var tr=null;function L0(i,r){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bi(r,i),qi(i),d&4&&(oo(3,i,i.return),Mu(3,i),oo(5,i,i.return));break;case 1:Bi(r,i),qi(i),d&512&&(Tn||l===null||Nr(l,l.return)),d&64&&da&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var y=tr;if(Bi(r,i),qi(i),d&512&&(Tn||l===null||Nr(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":x=y.getElementsByTagName("title")[0],(!x||x[xs]||x[tn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(d),y.head.insertBefore(x,y.querySelector("head > title"))),Zn(x,d,l),x[tn]=i,on(x),d=x;break e;case"link":var A=Lx("link","href",y).get(d+(l.href||""));if(A){for(var M=0;M<A.length;M++)if(x=A[M],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(M,1);break t}}x=y.createElement(d),Zn(x,d,l),y.head.appendChild(x);break;case"meta":if(A=Lx("meta","content",y).get(d+(l.content||""))){for(M=0;M<A.length;M++)if(x=A[M],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(M,1);break t}}x=y.createElement(d),Zn(x,d,l),y.head.appendChild(x);break;default:throw Error(s(468,d))}x[tn]=i,on(x),d=x}i.stateNode=d}else kx(y,i.type,i.stateNode);else i.stateNode=jx(y,d,i.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?kx(y,i.type,i.stateNode):jx(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Np(i,i.memoizedProps,l.memoizedProps)}break;case 27:Bi(r,i),qi(i),d&512&&(Tn||l===null||Nr(l,l.return)),l!==null&&d&4&&Np(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Bi(r,i),qi(i),d&512&&(Tn||l===null||Nr(l,l.return)),i.flags&32){y=i.stateNode;try{vn(y,"")}catch(De){Lt(i,i.return,De)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,Np(i,y,l!==null?l.memoizedProps:y)),d&1024&&(Ip=!0);break;case 6:if(Bi(r,i),qi(i),d&4){if(i.stateNode===null)throw Error(s(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(De){Lt(i,i.return,De)}}break;case 3:if(Bh=null,y=tr,tr=zh(r.containerInfo),Bi(r,i),tr=y,qi(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Oc(r.containerInfo)}catch(De){Lt(i,i.return,De)}Ip&&(Ip=!1,k0(i));break;case 4:d=tr,tr=zh(i.stateNode.containerInfo),Bi(r,i),qi(i),tr=d;break;case 12:Bi(r,i),qi(i);break;case 31:Bi(r,i),qi(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Sh(i,d)));break;case 13:Bi(r,i),qi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nh=Cn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Sh(i,d)));break;case 22:y=i.memoizedState!==null;var Q=l!==null&&l.memoizedState!==null,le=da,ge=Tn;if(da=le||y,Tn=ge||Q,Bi(r,i),Tn=ge,da=le,qi(i),d&8192)e:for(r=i.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||Q||da||Tn||Cl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){Q=l=r;try{if(x=Q.stateNode,y)A=x.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=Q.stateNode;var Ee=Q.memoizedProps.style,ue=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;M.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(De){Lt(Q,Q.return,De)}}}else if(r.tag===6){if(l===null){Q=r;try{Q.stateNode.nodeValue=y?"":Q.memoizedProps}catch(De){Lt(Q,Q.return,De)}}}else if(r.tag===18){if(l===null){Q=r;try{var he=Q.stateNode;y?Tx(he,!0):Tx(Q.stateNode,!1)}catch(De){Lt(Q,Q.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Sh(i,l))));break;case 19:Bi(r,i),qi(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Sh(i,d)));break;case 30:break;case 21:break;default:Bi(r,i),qi(i)}}function qi(i){var r=i.flags;if(r&2){try{for(var l,d=i.return;d!==null;){if(A0(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var y=l.stateNode,x=Cp(i);Th(i,x,y);break;case 5:var A=l.stateNode;l.flags&32&&(vn(A,""),l.flags&=-33);var M=Cp(i);Th(i,M,A);break;case 3:case 4:var Q=l.stateNode.containerInfo,le=Cp(i);Rp(i,le,Q);break;default:throw Error(s(161))}}catch(ge){Lt(i,i.return,ge)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function k0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;k0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function fa(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)R0(i,r.alternate,r),r=r.sibling}function Cl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:oo(4,r,r.return),Cl(r);break;case 1:Nr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&T0(r,r.return,l),Cl(r);break;case 27:qu(r.stateNode);case 26:case 5:Nr(r,r.return),Cl(r);break;case 22:r.memoizedState===null&&Cl(r);break;case 30:Cl(r);break;default:Cl(r)}i=i.sibling}}function ma(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,y=i,x=r,A=x.flags;switch(x.tag){case 0:case 11:case 15:ma(y,x,l),Mu(4,x);break;case 1:if(ma(y,x,l),d=x,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(le){Lt(d,d.return,le)}if(d=x,y=d.updateQueue,y!==null){var M=d.stateNode;try{var Q=y.shared.hiddenCallbacks;if(Q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Q.length;y++)hv(Q[y],M)}catch(le){Lt(d,d.return,le)}}l&&A&64&&E0(x),ju(x,x.return);break;case 27:N0(x);case 26:case 5:ma(y,x,l),l&&d===null&&A&4&&S0(x),ju(x,x.return);break;case 12:ma(y,x,l);break;case 31:ma(y,x,l),l&&A&4&&M0(y,x);break;case 13:ma(y,x,l),l&&A&4&&j0(y,x);break;case 22:x.memoizedState===null&&ma(y,x,l),ju(x,x.return);break;case 30:break;default:ma(y,x,l)}r=r.sibling}}function Pp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&vu(l))}function Mp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&vu(i))}function nr(i,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)D0(i,r,l,d),r=r.sibling}function D0(i,r,l,d){var y=r.flags;switch(r.tag){case 0:case 11:case 15:nr(i,r,l,d),y&2048&&Mu(9,r);break;case 1:nr(i,r,l,d);break;case 3:nr(i,r,l,d),y&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&vu(i)));break;case 12:if(y&2048){nr(i,r,l,d),i=r.stateNode;try{var x=r.memoizedProps,A=x.id,M=x.onPostCommit;typeof M=="function"&&M(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Q){Lt(r,r.return,Q)}}else nr(i,r,l,d);break;case 31:nr(i,r,l,d);break;case 13:nr(i,r,l,d);break;case 23:break;case 22:x=r.stateNode,A=r.alternate,r.memoizedState!==null?x._visibility&2?nr(i,r,l,d):Lu(i,r):x._visibility&2?nr(i,r,l,d):(x._visibility|=2,Ac(i,r,l,d,(r.subtreeFlags&10256)!==0||!1)),y&2048&&Pp(A,r);break;case 24:nr(i,r,l,d),y&2048&&Mp(r.alternate,r);break;default:nr(i,r,l,d)}}function Ac(i,r,l,d,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var x=i,A=r,M=l,Q=d,le=A.flags;switch(A.tag){case 0:case 11:case 15:Ac(x,A,M,Q,y),Mu(8,A);break;case 23:break;case 22:var ge=A.stateNode;A.memoizedState!==null?ge._visibility&2?Ac(x,A,M,Q,y):Lu(x,A):(ge._visibility|=2,Ac(x,A,M,Q,y)),y&&le&2048&&Pp(A.alternate,A);break;case 24:Ac(x,A,M,Q,y),y&&le&2048&&Mp(A.alternate,A);break;default:Ac(x,A,M,Q,y)}r=r.sibling}}function Lu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,d=r,y=d.flags;switch(d.tag){case 22:Lu(l,d),y&2048&&Pp(d.alternate,d);break;case 24:Lu(l,d),y&2048&&Mp(d.alternate,d);break;default:Lu(l,d)}r=r.sibling}}var ku=8192;function Nc(i,r,l){if(i.subtreeFlags&ku)for(i=i.child;i!==null;)O0(i,r,l),i=i.sibling}function O0(i,r,l){switch(i.tag){case 26:Nc(i,r,l),i.flags&ku&&i.memoizedState!==null&&dA(l,tr,i.memoizedState,i.memoizedProps);break;case 5:Nc(i,r,l);break;case 3:case 4:var d=tr;tr=zh(i.stateNode.containerInfo),Nc(i,r,l),tr=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=ku,ku=16777216,Nc(i,r,l),ku=d):Nc(i,r,l));break;default:Nc(i,r,l)}}function V0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Du(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Bn=d,U0(d,i)}V0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z0(i),i=i.sibling}function z0(i){switch(i.tag){case 0:case 11:case 15:Du(i),i.flags&2048&&oo(9,i,i.return);break;case 3:Du(i);break;case 12:Du(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ah(i)):Du(i);break;default:Du(i)}}function Ah(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Bn=d,U0(d,i)}V0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:oo(8,r,r.return),Ah(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Ah(r));break;default:Ah(r)}i=i.sibling}}function U0(i,r){for(;Bn!==null;){var l=Bn;switch(l.tag){case 0:case 11:case 15:oo(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:vu(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Bn=d;else e:for(l=i;Bn!==null;){d=Bn;var y=d.sibling,x=d.return;if(I0(d),d===l){Bn=null;break e}if(y!==null){y.return=x,Bn=y;break e}Bn=x}}}var A2={getCacheForType:function(i){var r=Gn(bn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return Gn(bn).controller.signal}},N2=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Bt=null,ct=null,ft=0,jt=0,cs=null,lo=!1,Cc=!1,jp=!1,pa=0,un=0,co=0,Rl=0,Lp=0,us=0,Rc=0,Ou=null,Hi=null,kp=!1,Nh=0,B0=0,Ch=1/0,Rh=null,uo=null,In=0,ho=null,Ic=null,ga=0,Dp=0,Op=null,q0=null,Vu=0,Vp=null;function ds(){return(Ct&2)!==0&&ft!==0?ft&-ft:W.T!==null?Fp():Qo()}function H0(){if(us===0)if((ft&536870912)===0||lt){var i=dt;dt<<=1,(dt&3932160)===0&&(dt=262144),us=i}else us=536870912;return i=os.current,i!==null&&(i.flags|=32),us}function Fi(i,r,l){(i===Bt&&(jt===2||jt===9)||i.cancelPendingCommit!==null)&&(Pc(i,0),fo(i,ft,us,!1)),qs(i,l),((Ct&2)===0||i!==Bt)&&(i===Bt&&((Ct&2)===0&&(Rl|=l),un===4&&fo(i,ft,us,!1)),Cr(i))}function F0(i,r,l){if((Ct&6)!==0)throw Error(s(327));var d=!l&&(r&127)===0&&(r&i.expiredLanes)===0||Yi(i,r),y=d?I2(i,r):Up(i,r,!0),x=d;do{if(y===0){Cc&&!d&&fo(i,r,0,!1);break}else{if(l=i.current.alternate,x&&!C2(l)){y=Up(i,r,!1),x=!1;continue}if(y===2){if(x=r,i.errorRecoveryDisabledLanes&x)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var M=i;y=Ou;var Q=M.current.memoizedState.isDehydrated;if(Q&&(Pc(M,A).flags|=256),A=Up(M,A,!1),A!==2){if(jp&&!Q){M.errorRecoveryDisabledLanes|=x,Rl|=x,y=4;break e}x=Hi,Hi=y,x!==null&&(Hi===null?Hi=x:Hi.push.apply(Hi,x))}y=A}if(x=!1,y!==2)continue}}if(y===1){Pc(i,0),fo(i,r,0,!0);break}e:{switch(d=i,x=y,x){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:fo(d,r,us,!lo);break e;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(y=Nh+300-Cn(),10<y)){if(fo(d,r,us,!lo),Ni(d,0,!0)!==0)break e;ga=r,d.timeoutHandle=bx(G0.bind(null,d,l,Hi,Rh,kp,r,us,Rl,Rc,lo,x,"Throttled",-0,0),y);break e}G0(d,l,Hi,Rh,kp,r,us,Rl,Rc,lo,x,null,-0,0)}}break}while(!0);Cr(i)}function G0(i,r,l,d,y,x,A,M,Q,le,ge,Ee,ue,he){if(i.timeoutHandle=-1,Ee=r.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},O0(r,x,Ee);var De=(x&62914560)===x?Nh-Cn():(x&4194048)===x?B0-Cn():0;if(De=hA(Ee,De),De!==null){ga=x,i.cancelPendingCommit=De(J0.bind(null,i,r,x,l,d,y,A,M,Q,ge,Ee,null,ue,he)),fo(i,x,A,!le);return}}J0(i,r,x,l,d,y,A,M,Q)}function C2(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var y=l[d],x=y.getSnapshot;y=y.value;try{if(!zn(x(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function fo(i,r,l,d){r&=~Lp,r&=~Rl,i.suspendedLanes|=r,i.pingedLanes&=~r,d&&(i.warmLanes|=r),d=i.expirationTimes;for(var y=r;0<y;){var x=31-Ft(y),A=1<<x;d[x]=-1,y&=~A}l!==0&&Kr(i,l,r)}function Ih(){return(Ct&6)===0?(zu(0),!1):!0}function zp(){if(ct!==null){if(jt===0)var i=ct.return;else i=ct,er=Ar=null,tp(i),bc=null,bu=0,i=ct;for(;i!==null;)w0(i.alternate,i),i=i.return;ct=null}}function Pc(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,K2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ga=0,zp(),Bt=i,ct=l=Ms(i.current,null),ft=r,jt=0,cs=null,lo=!1,Cc=Yi(i,r),jp=!1,Rc=us=Lp=Rl=co=un=0,Hi=Ou=null,kp=!1,(r&8)!==0&&(r|=r&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=r;0<d;){var y=31-Ft(d),x=1<<y;r|=i[y],d&=~x}return pa=r,gl(),l}function $0(i,r){nt=null,W.H=Ru,r===xc||r===rh?(r=lv(),jt=3):r===Hm?(r=lv(),jt=4):jt=r===yp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,cs=r,ct===null&&(un=1,vh(i,u(r,i.current)))}function Z0(){var i=os.current;return i===null?!0:(ft&4194048)===ft?js===null:(ft&62914560)===ft||(ft&536870912)!==0?i===js:!1}function K0(){var i=W.H;return W.H=Ru,i===null?Ru:i}function Y0(){var i=W.A;return W.A=A2,i}function Ph(){un=4,lo||(ft&4194048)!==ft&&os.current!==null||(Cc=!0),(co&134217727)===0&&(Rl&134217727)===0||Bt===null||fo(Bt,ft,us,!1)}function Up(i,r,l){var d=Ct;Ct|=2;var y=K0(),x=Y0();(Bt!==i||ft!==r)&&(Rh=null,Pc(i,r)),r=!1;var A=un;e:do try{if(jt!==0&&ct!==null){var M=ct,Q=cs;switch(jt){case 8:zp(),A=6;break e;case 3:case 2:case 9:case 6:os.current===null&&(r=!0);var le=jt;if(jt=0,cs=null,Mc(i,M,Q,le),l&&Cc){A=0;break e}break;default:le=jt,jt=0,cs=null,Mc(i,M,Q,le)}}R2(),A=un;break}catch(ge){$0(i,ge)}while(!0);return r&&i.shellSuspendCounter++,er=Ar=null,Ct=d,W.H=y,W.A=x,ct===null&&(Bt=null,ft=0,gl()),A}function R2(){for(;ct!==null;)W0(ct)}function I2(i,r){var l=Ct;Ct|=2;var d=K0(),y=Y0();Bt!==i||ft!==r?(Rh=null,Ch=Cn()+500,Pc(i,r)):Cc=Yi(i,r);e:do try{if(jt!==0&&ct!==null){r=ct;var x=cs;t:switch(jt){case 1:jt=0,cs=null,Mc(i,r,x,1);break;case 2:case 9:if(av(x)){jt=0,cs=null,Q0(r);break}r=function(){jt!==2&&jt!==9||Bt!==i||(jt=7),Cr(i)},x.then(r,r);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:av(x)?(jt=0,cs=null,Q0(r)):(jt=0,cs=null,Mc(i,r,x,7));break;case 5:var A=null;switch(ct.tag){case 26:A=ct.memoizedState;case 5:case 27:var M=ct;if(A?Dx(A):M.stateNode.complete){jt=0,cs=null;var Q=M.sibling;if(Q!==null)ct=Q;else{var le=M.return;le!==null?(ct=le,Mh(le)):ct=null}break t}}jt=0,cs=null,Mc(i,r,x,5);break;case 6:jt=0,cs=null,Mc(i,r,x,6);break;case 8:zp(),un=6;break e;default:throw Error(s(462))}}P2();break}catch(ge){$0(i,ge)}while(!0);return er=Ar=null,W.H=d,W.A=y,Ct=l,ct!==null?0:(Bt=null,ft=0,gl(),un)}function P2(){for(;ct!==null&&!ka();)W0(ct)}function W0(i){var r=x0(i.alternate,i,pa);i.memoizedProps=i.pendingProps,r===null?Mh(i):ct=r}function Q0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=m0(l,r,r.pendingProps,r.type,void 0,ft);break;case 11:r=m0(l,r,r.pendingProps,r.type.render,r.ref,ft);break;case 5:tp(r);default:w0(l,r),r=ct=mu(r,pa),r=x0(l,r,pa)}i.memoizedProps=i.pendingProps,r===null?Mh(i):ct=r}function Mc(i,r,l,d){er=Ar=null,tp(r),bc=null,bu=0;var y=r.return;try{if(v2(i,y,r,l,ft)){un=1,vh(i,u(l,i.current)),ct=null;return}}catch(x){if(y!==null)throw ct=y,x;un=1,vh(i,u(l,i.current)),ct=null;return}r.flags&32768?(lt||d===1?i=!0:Cc||(ft&536870912)!==0?i=!1:(lo=i=!0,(d===2||d===9||d===3||d===6)&&(d=os.current,d!==null&&d.tag===13&&(d.flags|=16384))),X0(r,i)):Mh(r)}function Mh(i){var r=i;do{if((r.flags&32768)!==0){X0(r,lo);return}i=r.return;var l=w2(r.alternate,r,pa);if(l!==null){ct=l;return}if(r=r.sibling,r!==null){ct=r;return}ct=r=i}while(r!==null);un===0&&(un=5)}function X0(i,r){do{var l=E2(i.alternate,i);if(l!==null){l.flags&=32767,ct=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){ct=i;return}ct=i=l}while(i!==null);un=6,ct=null}function J0(i,r,l,d,y,x,A,M,Q){i.cancelPendingCommit=null;do jh();while(In!==0);if((Ct&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(x=r.lanes|r.childLanes,x|=fc,hu(i,l,x,A,M,Q),i===Bt&&(ct=Bt=null,ft=0),Ic=r,ho=i,ga=l,Dp=x,Op=y,q0=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,k2(Ki,function(){return sx(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=W.T,W.T=null,y=me.p,me.p=2,A=Ct,Ct|=4;try{T2(i,r,l)}finally{Ct=A,me.p=y,W.T=d}}In=1,ex(),tx(),nx()}}function ex(){if(In===1){In=0;var i=ho,r=Ic,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var d=me.p;me.p=2;var y=Ct;Ct|=4;try{L0(r,i);var x=Xp,A=dl(i.containerInfo),M=x.focusedElem,Q=x.selectionRange;if(A!==M&&M&&M.ownerDocument&&cc(M.ownerDocument.documentElement,M)){if(Q!==null&&vr(M)){var le=Q.start,ge=Q.end;if(ge===void 0&&(ge=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(ge,M.value.length);else{var Ee=M.ownerDocument||document,ue=Ee&&Ee.defaultView||window;if(ue.getSelection){var he=ue.getSelection(),De=M.textContent.length,Ze=Math.min(Q.start,De),Ot=Q.end===void 0?Ze:Math.min(Q.end,De);!he.extend&&Ze>Ot&&(A=Ot,Ot=Ze,Ze=A);var ie=ul(M,Ze),J=ul(M,Ot);if(ie&&J&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==J.node||he.focusOffset!==J.offset)){var oe=Ee.createRange();oe.setStart(ie.node,ie.offset),he.removeAllRanges(),Ze>Ot?(he.addRange(oe),he.extend(J.node,J.offset)):(oe.setEnd(J.node,J.offset),he.addRange(oe))}}}}for(Ee=[],he=M;he=he.parentNode;)he.nodeType===1&&Ee.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ee.length;M++){var _e=Ee[M];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Gh=!!Qp,Xp=Qp=null}finally{Ct=y,me.p=d,W.T=l}}i.current=r,In=2}}function tx(){if(In===2){In=0;var i=ho,r=Ic,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var d=me.p;me.p=2;var y=Ct;Ct|=4;try{R0(i,r.alternate,r)}finally{Ct=y,me.p=d,W.T=l}}In=3}}function nx(){if(In===4||In===3){In=0,Gr();var i=ho,r=Ic,l=ga,d=q0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?In=5:(In=0,Ic=ho=null,ix(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(uo=null),ke(l),r=r.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Xn,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=W.T,y=me.p,me.p=2,W.T=null;try{for(var x=i.onRecoverableError,A=0;A<d.length;A++){var M=d[A];x(M.value,{componentStack:M.stack})}}finally{W.T=r,me.p=y}}(ga&3)!==0&&jh(),Cr(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===Vp?Vu++:(Vu=0,Vp=i):Vu=0,zu(0)}}function ix(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,vu(r)))}function jh(){return ex(),tx(),nx(),sx()}function sx(){if(In!==5)return!1;var i=ho,r=Dp;Dp=0;var l=ke(ga),d=W.T,y=me.p;try{me.p=32>l?32:l,W.T=null,l=Op,Op=null;var x=ho,A=ga;if(In=0,Ic=ho=null,ga=0,(Ct&6)!==0)throw Error(s(331));var M=Ct;if(Ct|=4,z0(x.current),D0(x,x.current,A,l),Ct=M,zu(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Xn,x)}catch{}return!0}finally{me.p=y,W.T=d,ix(i,r)}}function rx(i,r,l){r=u(l,r),r=gp(i.stateNode,r,2),i=so(i,r,2),i!==null&&(qs(i,2),Cr(i))}function Lt(i,r,l){if(i.tag===3)rx(i,i,l);else for(;r!==null;){if(r.tag===3){rx(r,i,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(uo===null||!uo.has(d))){i=u(l,i),l=a0(2),d=so(r,l,2),d!==null&&(o0(l,d,r,i),qs(d,2),Cr(d));break}}r=r.return}}function Bp(i,r,l){var d=i.pingCache;if(d===null){d=i.pingCache=new N2;var y=new Set;d.set(r,y)}else y=d.get(r),y===void 0&&(y=new Set,d.set(r,y));y.has(l)||(jp=!0,y.add(l),i=M2.bind(null,i,r,l),r.then(i,i))}function M2(i,r,l){var d=i.pingCache;d!==null&&d.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Bt===i&&(ft&l)===l&&(un===4||un===3&&(ft&62914560)===ft&&300>Cn()-Nh?(Ct&2)===0&&Pc(i,0):Lp|=l,Rc===ft&&(Rc=0)),Cr(i)}function ax(i,r){r===0&&(r=ec()),i=Ps(i,r),i!==null&&(qs(i,r),Cr(i))}function j2(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),ax(i,l)}function L2(i,r){var l=0;switch(i.tag){case 31:case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(r),ax(i,l)}function k2(i,r){return Qt(i,r)}var Lh=null,jc=null,qp=!1,kh=!1,Hp=!1,mo=0;function Cr(i){i!==jc&&i.next===null&&(jc===null?Lh=jc=i:jc=jc.next=i),kh=!0,qp||(qp=!0,O2())}function zu(i,r){if(!Hp&&kh){Hp=!0;do for(var l=!1,d=Lh;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var x=0;else{var A=d.suspendedLanes,M=d.pingedLanes;x=(1<<31-Ft(42|i)+1)-1,x&=y&~(A&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,ux(d,x))}else x=ft,x=Ni(d,d===Bt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Yi(d,x)||(l=!0,ux(d,x));d=d.next}while(l);Hp=!1}}function D2(){ox()}function ox(){kh=qp=!1;var i=0;mo!==0&&Z2()&&(i=mo);for(var r=Cn(),l=null,d=Lh;d!==null;){var y=d.next,x=lx(d,r);x===0?(d.next=null,l===null?Lh=y:l.next=y,y===null&&(jc=l)):(l=d,(i!==0||(x&3)!==0)&&(kh=!0)),d=y}In!==0&&In!==5||zu(i),mo!==0&&(mo=0)}function lx(i,r){for(var l=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var A=31-Ft(x),M=1<<A,Q=y[A];Q===-1?((M&l)===0||(M&d)!==0)&&(y[A]=du(M,r)):Q<=r&&(i.expiredLanes|=M),x&=~M}if(r=Bt,l=ft,l=Ni(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===r&&(jt===2||jt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Ai(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Yi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(d!==null&&Ai(d),ke(l)){case 2:case 8:l=dr;break;case 32:l=Ki;break;case 268435456:l=$r;break;default:l=Ki}return d=cx.bind(null,i),l=Qt(l,d),i.callbackPriority=r,i.callbackNode=l,r}return d!==null&&d!==null&&Ai(d),i.callbackPriority=2,i.callbackNode=null,2}function cx(i,r){if(In!==0&&In!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(jh()&&i.callbackNode!==l)return null;var d=ft;return d=Ni(i,i===Bt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(F0(i,d,r),lx(i,Cn()),i.callbackNode!=null&&i.callbackNode===l?cx.bind(null,i):null)}function ux(i,r){if(jh())return null;F0(i,r,!0)}function O2(){Y2(function(){(Ct&6)!==0?Qt(Bs,D2):ox()})}function Fp(){if(mo===0){var i=_c;i===0&&(i=Be,Be<<=1,(Be&261888)===0&&(Be=256)),mo=i}return mo}function dx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:mr(""+i)}function hx(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function V2(i,r,l,d,y){if(r==="submit"&&l&&l.stateNode===y){var x=dx((y[an]||null).action),A=d.submitter;A&&(r=(r=A[an]||null)?dx(r.formAction):A.getAttribute("formAction"),r!==null&&(x=r,A=null));var M=new Ns("action","action",null,d,y);i.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(mo!==0){var Q=A?hx(y,A):new FormData(y);up(l,{pending:!0,data:Q,method:y.method,action:x},null,Q)}}else typeof x=="function"&&(M.preventDefault(),Q=A?hx(y,A):new FormData(y),up(l,{pending:!0,data:Q,method:y.method,action:x},x,Q))},currentTarget:y}]})}}for(var Gp=0;Gp<wr.length;Gp++){var $p=wr[Gp],z2=$p.toLowerCase(),U2=$p[0].toUpperCase()+$p.slice(1);Oi(z2,"on"+U2)}Oi(fl,"onAnimationEnd"),Oi(Jd,"onAnimationIteration"),Oi(ml,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(km,"onTransitionRun"),Oi(eh,"onTransitionStart"),Oi(Dm,"onTransitionCancel"),Oi(Ja,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function fx(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],y=d.event;d=d.listeners;e:{var x=void 0;if(r)for(var A=d.length-1;0<=A;A--){var M=d[A],Q=M.instance,le=M.currentTarget;if(M=M.listener,Q!==x&&y.isPropagationStopped())break e;x=M,y.currentTarget=le;try{x(y)}catch(ge){pl(ge)}y.currentTarget=null,x=Q}else for(A=0;A<d.length;A++){if(M=d[A],Q=M.instance,le=M.currentTarget,M=M.listener,Q!==x&&y.isPropagationStopped())break e;x=M,y.currentTarget=le;try{x(y)}catch(ge){pl(ge)}y.currentTarget=null,x=Q}}}}function ut(i,r){var l=r[Qi];l===void 0&&(l=r[Qi]=new Set);var d=i+"__bubble";l.has(d)||(mx(r,i,2,!1),l.add(d))}function Zp(i,r,l){var d=0;r&&(d|=4),mx(l,i,d,r)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function Kp(i){if(!i[Dh]){i[Dh]=!0,Xo.forEach(function(l){l!=="selectionchange"&&(B2.has(l)||Zp(l,!1,i),Zp(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Dh]||(r[Dh]=!0,Zp("selectionchange",!1,r))}}function mx(i,r,l,d){switch(Hx(r)){case 2:var y=pA;break;case 8:y=gA;break;default:y=cg}l=y.bind(null,r,l,i),y=void 0,!$s||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(r,l,{capture:!0,passive:y}):i.addEventListener(r,l,!0):y!==void 0?i.addEventListener(r,l,{passive:y}):i.addEventListener(r,l,!1)}function Yp(i,r,l,d,y){var x=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var M=d.stateNode.containerInfo;if(M===y)break;if(A===4)for(A=d.return;A!==null;){var Q=A.tag;if((Q===3||Q===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;M!==null;){if(A=Xi(M),A===null)return;if(Q=A.tag,Q===5||Q===6||Q===26||Q===27){d=x=A;continue e}M=M.parentNode}}d=d.return}Gs(function(){var le=x,ge=ei(l),Ee=[];e:{var ue=th.get(i);if(ue!==void 0){var he=Ns,De=i;switch(i){case"keypress":if(gr(l)===0)break e;case"keydown":case"keyup":he=rl;break;case"focusin":De="focus",he=ea;break;case"focusout":De="blur",he=ea;break;case"beforeblur":case"afterblur":he=ea;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=T;break;case fl:case Jd:case ml:he=Ha;break;case Ja:he=U;break;case"scroll":case"scrollend":he=rt;break;case"wheel":he=de;break;case"copy":case"cut":case"paste":he=pi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Ws;break;case"toggle":case"beforetoggle":he=Qe}var Ze=(r&4)!==0,Ot=!Ze&&(i==="scroll"||i==="scrollend"),ie=Ze?ue!==null?ue+"Capture":null:ue;Ze=[];for(var J=le,oe;J!==null;){var _e=J;if(oe=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||oe===null||ie===null||(_e=mi(J,ie),_e!=null&&Ze.push(Bu(J,_e,oe))),Ot)break;J=J.return}0<Ze.length&&(ue=new he(ue,De,null,l,ge),Ee.push({event:ue,listeners:Ze}))}}if((r&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",ue&&l!==qa&&(De=l.relatedTarget||l.fromElement)&&(Xi(De)||De[Wi]))break e;if((he||ue)&&(ue=ge.window===ge?ge:(ue=ge.ownerDocument)?ue.defaultView||ue.parentWindow:window,he?(De=l.relatedTarget||l.toElement,he=le,De=De?Xi(De):null,De!==null&&(Ot=c(De),Ze=De.tag,De!==Ot||Ze!==5&&Ze!==27&&Ze!==6)&&(De=null)):(he=null,De=le),he!==De)){if(Ze=el,_e="onMouseLeave",ie="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(Ze=Ws,_e="onPointerLeave",ie="onPointerEnter",J="pointer"),Ot=he==null?ue:kn(he),oe=De==null?ue:kn(De),ue=new Ze(_e,J+"leave",he,l,ge),ue.target=Ot,ue.relatedTarget=oe,_e=null,Xi(ge)===le&&(Ze=new Ze(ie,J+"enter",De,l,ge),Ze.target=oe,Ze.relatedTarget=Ot,_e=Ze),Ot=_e,he&&De)t:{for(Ze=q2,ie=he,J=De,oe=0,_e=ie;_e;_e=Ze(_e))oe++;_e=0;for(var Fe=J;Fe;Fe=Ze(Fe))_e++;for(;0<oe-_e;)ie=Ze(ie),oe--;for(;0<_e-oe;)J=Ze(J),_e--;for(;oe--;){if(ie===J||J!==null&&ie===J.alternate){Ze=ie;break t}ie=Ze(ie),J=Ze(J)}Ze=null}else Ze=null;he!==null&&px(Ee,ue,he,Ze,!1),De!==null&&Ot!==null&&px(Ee,Ot,De,Ze,!0)}}e:{if(ue=le?kn(le):window,he=ue.nodeName&&ue.nodeName.toLowerCase(),he==="select"||he==="input"&&ue.type==="file")var St=cl;else if(Cs(ue))if(Kd)St=Lm;else{St=jm;var Ve=Qs}else he=ue.nodeName,!he||he.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&fr(le.elementType)&&(St=cl):St=Ya;if(St&&(St=St(i,le))){Zd(Ee,St,l,ge);break e}Ve&&Ve(i,ue,le),i==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&Ji(ue,"number",ue.value)}switch(Ve=le?kn(le):window,i){case"focusin":(Cs(Ve)||Ve.contentEditable==="true")&&(xr=Ve,dc=le,hl=null);break;case"focusout":hl=dc=xr=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,Qd(Ee,l,ge);break;case"selectionchange":if(uc)break;case"keydown":case"keyup":Qd(Ee,l,ge)}var st;if(vt)e:{switch(i){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else $a?ta(i,l)&&(mt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(mt="onCompositionStart");mt&&(Di&&l.locale!=="ko"&&($a||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&$a&&(st=es()):(Li=ge,Zs="value"in Li?Li.value:Li.textContent,$a=!0)),Ve=Oh(le,mt),0<Ve.length&&(mt=new is(mt,i,null,l,ge),Ee.push({event:mt,listeners:Ve}),st?mt.data=st:(st=na(l),st!==null&&(mt.data=st)))),(st=ki?as(i,l):Za(i,l))&&(mt=Oh(le,"onBeforeInput"),0<mt.length&&(Ve=new is("onBeforeInput","beforeinput",null,l,ge),Ee.push({event:Ve,listeners:mt}),Ve.data=st)),V2(Ee,i,le,l,ge)}fx(Ee,r)})}function Bu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Oh(i,r){for(var l=r+"Capture",d=[];i!==null;){var y=i,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=mi(i,l),y!=null&&d.unshift(Bu(i,y,x)),y=mi(i,r),y!=null&&d.push(Bu(i,y,x))),i.tag===3)return d;i=i.return}return[]}function q2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function px(i,r,l,d,y){for(var x=r._reactName,A=[];l!==null&&l!==d;){var M=l,Q=M.alternate,le=M.stateNode;if(M=M.tag,Q!==null&&Q===d)break;M!==5&&M!==26&&M!==27||le===null||(Q=le,y?(le=mi(l,x),le!=null&&A.unshift(Bu(l,le,Q))):y||(le=mi(l,x),le!=null&&A.push(Bu(l,le,Q)))),l=l.return}A.length!==0&&i.push({event:r,listeners:A})}var H2=/\r\n?/g,F2=/\u0000|\uFFFD/g;function gx(i){return(typeof i=="string"?i:""+i).replace(H2,`
`).replace(F2,"")}function yx(i,r){return r=gx(r),gx(i)===r}function Dt(i,r,l,d,y,x){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||vn(i,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&vn(i,""+d);break;case"className":ot(i,"class",d);break;case"tabIndex":ot(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(i,l,d);break;case"style":Qr(i,d,x);break;case"data":if(r!=="object"){ot(i,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=mr(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(r!=="input"&&Dt(i,r,"name",y.name,y,null),Dt(i,r,"formEncType",y.formEncType,y,null),Dt(i,r,"formMethod",y.formMethod,y,null),Dt(i,r,"formTarget",y.formTarget,y,null)):(Dt(i,r,"encType",y.encType,y,null),Dt(i,r,"method",y.method,y,null),Dt(i,r,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=mr(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=Jn);break;case"onScroll":d!=null&&ut("scroll",i);break;case"onScrollEnd":d!=null&&ut("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=mr(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":ut("beforetoggle",i),ut("toggle",i),at(i,"popover",d);break;case"xlinkActuate":Gt(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Gt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Gt(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Gt(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Gt(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Gt(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Gt(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Gt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Gt(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":at(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xr.get(l)||l,at(i,l,d))}}function Wp(i,r,l,d,y,x){switch(l){case"style":Qr(i,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof d=="string"?vn(i,d):(typeof d=="number"||typeof d=="bigint")&&vn(i,""+d);break;case"onScroll":d!=null&&ut("scroll",i);break;case"onScrollEnd":d!=null&&ut("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),x=i[an]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(r,x,y),typeof d=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,d,y);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):at(i,l,d)}}}function Zn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",i),ut("load",i);var d=!1,y=!1,x;for(x in l)if(l.hasOwnProperty(x)){var A=l[x];if(A!=null)switch(x){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Dt(i,r,x,A,l,null)}}y&&Dt(i,r,"srcSet",l.srcSet,l,null),d&&Dt(i,r,"src",l.src,l,null);return;case"input":ut("invalid",i);var M=x=A=y=null,Q=null,le=null;for(d in l)if(l.hasOwnProperty(d)){var ge=l[d];if(ge!=null)switch(d){case"name":y=ge;break;case"type":A=ge;break;case"checked":Q=ge;break;case"defaultChecked":le=ge;break;case"value":x=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,r));break;default:Dt(i,r,d,ge,l,null)}}Wr(i,x,M,Q,le,A,y,!1);return;case"select":ut("invalid",i),d=A=x=null;for(y in l)if(l.hasOwnProperty(y)&&(M=l[y],M!=null))switch(y){case"value":x=M;break;case"defaultValue":A=M;break;case"multiple":d=M;default:Dt(i,r,y,M,l,null)}r=x,l=A,i.multiple=!!d,r!=null?Mt(i,!!d,r,!1):l!=null&&Mt(i,!!d,l,!0);return;case"textarea":ut("invalid",i),x=y=d=null;for(A in l)if(l.hasOwnProperty(A)&&(M=l[A],M!=null))switch(A){case"value":d=M;break;case"defaultValue":y=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Dt(i,r,A,M,l,null)}ji(i,d,y,x);return;case"option":for(Q in l)l.hasOwnProperty(Q)&&(d=l[Q],d!=null)&&(Q==="selected"?i.selected=d&&typeof d!="function"&&typeof d!="symbol":Dt(i,r,Q,d,l,null));return;case"dialog":ut("beforetoggle",i),ut("toggle",i),ut("cancel",i),ut("close",i);break;case"iframe":case"object":ut("load",i);break;case"video":case"audio":for(d=0;d<Uu.length;d++)ut(Uu[d],i);break;case"image":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"embed":case"source":case"link":ut("error",i),ut("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in l)if(l.hasOwnProperty(le)&&(d=l[le],d!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Dt(i,r,le,d,l,null)}return;default:if(fr(r)){for(ge in l)l.hasOwnProperty(ge)&&(d=l[ge],d!==void 0&&Wp(i,r,ge,d,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(d=l[M],d!=null&&Dt(i,r,M,d,l,null))}function G2(i,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,A=null,M=null,Q=null,le=null,ge=null;for(he in l){var Ee=l[he];if(l.hasOwnProperty(he)&&Ee!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":Q=Ee;default:d.hasOwnProperty(he)||Dt(i,r,he,null,d,Ee)}}for(var ue in d){var he=d[ue];if(Ee=l[ue],d.hasOwnProperty(ue)&&(he!=null||Ee!=null))switch(ue){case"type":x=he;break;case"name":y=he;break;case"checked":le=he;break;case"defaultChecked":ge=he;break;case"value":A=he;break;case"defaultValue":M=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,r));break;default:he!==Ee&&Dt(i,r,ue,he,d,Ee)}}Ua(i,A,M,Q,le,ge,x,y);return;case"select":he=A=M=ue=null;for(x in l)if(Q=l[x],l.hasOwnProperty(x)&&Q!=null)switch(x){case"value":break;case"multiple":he=Q;default:d.hasOwnProperty(x)||Dt(i,r,x,null,d,Q)}for(y in d)if(x=d[y],Q=l[y],d.hasOwnProperty(y)&&(x!=null||Q!=null))switch(y){case"value":ue=x;break;case"defaultValue":M=x;break;case"multiple":A=x;default:x!==Q&&Dt(i,r,y,x,d,Q)}r=M,l=A,d=he,ue!=null?Mt(i,!!l,ue,!1):!!d!=!!l&&(r!=null?Mt(i,!!l,r,!0):Mt(i,!!l,l?[]:"",!1));return;case"textarea":he=ue=null;for(M in l)if(y=l[M],l.hasOwnProperty(M)&&y!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Dt(i,r,M,null,d,y)}for(A in d)if(y=d[A],x=l[A],d.hasOwnProperty(A)&&(y!=null||x!=null))switch(A){case"value":ue=y;break;case"defaultValue":he=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==x&&Dt(i,r,A,y,d,x)}Ts(i,ue,he);return;case"option":for(var De in l)ue=l[De],l.hasOwnProperty(De)&&ue!=null&&!d.hasOwnProperty(De)&&(De==="selected"?i.selected=!1:Dt(i,r,De,null,d,ue));for(Q in d)ue=d[Q],he=l[Q],d.hasOwnProperty(Q)&&ue!==he&&(ue!=null||he!=null)&&(Q==="selected"?i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol":Dt(i,r,Q,ue,d,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in l)ue=l[Ze],l.hasOwnProperty(Ze)&&ue!=null&&!d.hasOwnProperty(Ze)&&Dt(i,r,Ze,null,d,ue);for(le in d)if(ue=d[le],he=l[le],d.hasOwnProperty(le)&&ue!==he&&(ue!=null||he!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:Dt(i,r,le,ue,d,he)}return;default:if(fr(r)){for(var Ot in l)ue=l[Ot],l.hasOwnProperty(Ot)&&ue!==void 0&&!d.hasOwnProperty(Ot)&&Wp(i,r,Ot,void 0,d,ue);for(ge in d)ue=d[ge],he=l[ge],!d.hasOwnProperty(ge)||ue===he||ue===void 0&&he===void 0||Wp(i,r,ge,ue,d,he);return}}for(var ie in l)ue=l[ie],l.hasOwnProperty(ie)&&ue!=null&&!d.hasOwnProperty(ie)&&Dt(i,r,ie,null,d,ue);for(Ee in d)ue=d[Ee],he=l[Ee],!d.hasOwnProperty(Ee)||ue===he||ue==null&&he==null||Dt(i,r,Ee,ue,d,he)}function _x(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var y=l[d],x=y.transferSize,A=y.initiatorType,M=y.duration;if(x&&M&&_x(A)){for(A=0,M=y.responseEnd,d+=1;d<l.length;d++){var Q=l[d],le=Q.startTime;if(le>M)break;var ge=Q.transferSize,Ee=Q.initiatorType;ge&&_x(Ee)&&(Q=Q.responseEnd,A+=ge*(Q<M?1:(M-le)/(Q-le)))}if(--d,r+=8*(x+A)/(y.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qp=null,Xp=null;function Vh(i){return i.nodeType===9?i:i.ownerDocument}function vx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xx(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Jp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var eg=null;function Z2(){var i=window.event;return i&&i.type==="popstate"?i===eg?!1:(eg=i,!0):(eg=null,!1)}var bx=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,wx=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof wx<"u"?function(i){return wx.resolve(null).then(i).catch(W2)}:bx;function W2(i){setTimeout(function(){throw i})}function po(i){return i==="head"}function Ex(i,r){var l=r,d=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(d===0){i.removeChild(y),Oc(r);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")qu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,qu(l);for(var x=l.firstChild;x;){var A=x.nextSibling,M=x.nodeName;x[xs]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=A}}else l==="body"&&qu(i.ownerDocument.body);l=y}while(l);Oc(r)}function Tx(i,r){var l=i;i=0;do{var d=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=d}while(l)}function tg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":tg(l),Oa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Q2(i,r,l,d){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[xs])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Ls(i.nextSibling),i===null)break}return null}function X2(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ls(i.nextSibling),i===null))return null;return i}function Sx(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ls(i.nextSibling),i===null))return null;return i}function ng(i){return i.data==="$?"||i.data==="$~"}function ig(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function J2(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Ls(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var sg=null;function Ax(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Ls(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function Nx(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function Cx(i,r,l){switch(r=Vh(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function qu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Oa(i)}var ks=new Map,Rx=new Set;function zh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ya=me.d;me.d={f:eA,r:tA,D:nA,C:iA,L:sA,m:rA,X:oA,S:aA,M:lA};function eA(){var i=ya.f(),r=Ih();return i||r}function tA(i){var r=Ii(i);r!==null&&r.tag===5&&r.type==="form"?$v(r):ya.r(i)}var Lc=typeof document>"u"?null:document;function Ix(i,r,l){var d=Lc;if(d&&typeof r=="string"&&r){var y=zt(r);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Rx.has(y)||(Rx.add(y),i={rel:i,crossOrigin:l,href:r},d.querySelector(y)===null&&(r=d.createElement("link"),Zn(r,"link",i),on(r),d.head.appendChild(r)))}}function nA(i){ya.D(i),Ix("dns-prefetch",i,null)}function iA(i,r){ya.C(i,r),Ix("preconnect",i,r)}function sA(i,r,l){ya.L(i,r,l);var d=Lc;if(d&&i&&r){var y='link[rel="preload"][as="'+zt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+zt(l.imageSizes)+'"]')):y+='[href="'+zt(i)+'"]';var x=y;switch(r){case"style":x=kc(i);break;case"script":x=Dc(i)}ks.has(x)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),ks.set(x,i),d.querySelector(y)!==null||r==="style"&&d.querySelector(Hu(x))||r==="script"&&d.querySelector(Fu(x))||(r=d.createElement("link"),Zn(r,"link",i),on(r),d.head.appendChild(r)))}}function rA(i,r){ya.m(i,r);var l=Lc;if(l&&i){var d=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+zt(d)+'"][href="'+zt(i)+'"]',x=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Dc(i)}if(!ks.has(x)&&(i=E({rel:"modulepreload",href:i},r),ks.set(x,i),l.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Fu(x)))return}d=l.createElement("link"),Zn(d,"link",i),on(d),l.head.appendChild(d)}}}function aA(i,r,l){ya.S(i,r,l);var d=Lc;if(d&&i){var y=bs(d).hoistableStyles,x=kc(i);r=r||"default";var A=y.get(x);if(!A){var M={loading:0,preload:null};if(A=d.querySelector(Hu(x)))M.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=ks.get(x))&&rg(i,l);var Q=A=d.createElement("link");on(Q),Zn(Q,"link",i),Q._p=new Promise(function(le,ge){Q.onload=le,Q.onerror=ge}),Q.addEventListener("load",function(){M.loading|=1}),Q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Uh(A,r,d)}A={type:"stylesheet",instance:A,count:1,state:M},y.set(x,A)}}}function oA(i,r){ya.X(i,r);var l=Lc;if(l&&i){var d=bs(l).hoistableScripts,y=Dc(i),x=d.get(y);x||(x=l.querySelector(Fu(y)),x||(i=E({src:i,async:!0},r),(r=ks.get(y))&&ag(i,r),x=l.createElement("script"),on(x),Zn(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function lA(i,r){ya.M(i,r);var l=Lc;if(l&&i){var d=bs(l).hoistableScripts,y=Dc(i),x=d.get(y);x||(x=l.querySelector(Fu(y)),x||(i=E({src:i,async:!0,type:"module"},r),(r=ks.get(y))&&ag(i,r),x=l.createElement("script"),on(x),Zn(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function Px(i,r,l,d){var y=(y=Ae.current)?zh(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=kc(l.href),l=bs(y).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=kc(l.href);var x=bs(y).hoistableStyles,A=x.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,A),(x=y.querySelector(Hu(i)))&&!x._p&&(A.instance=x,A.state.loading=5),ks.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ks.set(i,l),x||cA(y,i,l,A.state))),r&&d===null)throw Error(s(528,""));return A}if(r&&d!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Dc(l),l=bs(y).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function kc(i){return'href="'+zt(i)+'"'}function Hu(i){return'link[rel="stylesheet"]['+i+"]"}function Mx(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function cA(i,r,l,d){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=i.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Zn(r,"link",l),on(r),i.head.appendChild(r))}function Dc(i){return'[src="'+zt(i)+'"]'}function Fu(i){return"script[async]"+i}function jx(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=i.querySelector('style[data-href~="'+zt(l.href)+'"]');if(d)return r.instance=d,on(d),d;var y=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),on(d),Zn(d,"style",y),Uh(d,l.precedence,i),r.instance=d;case"stylesheet":y=kc(l.href);var x=i.querySelector(Hu(y));if(x)return r.state.loading|=4,r.instance=x,on(x),x;d=Mx(l),(y=ks.get(y))&&rg(d,y),x=(i.ownerDocument||i).createElement("link"),on(x);var A=x;return A._p=new Promise(function(M,Q){A.onload=M,A.onerror=Q}),Zn(x,"link",d),r.state.loading|=4,Uh(x,l.precedence,i),r.instance=x;case"script":return x=Dc(l.src),(y=i.querySelector(Fu(x)))?(r.instance=y,on(y),y):(d=l,(y=ks.get(x))&&(d=E({},l),ag(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),on(y),Zn(y,"link",d),i.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Uh(d,l.precedence,i));return r.instance}function Uh(i,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,x=y,A=0;A<d.length;A++){var M=d[A];if(M.dataset.precedence===r)x=M;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function rg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ag(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Bh=null;function Lx(i,r,l){if(Bh===null){var d=new Map,y=Bh=new Map;y.set(l,d)}else y=Bh,d=y.get(l),d||(d=new Map,y.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var x=l[y];if(!(x[xs]||x[tn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var A=x.getAttribute(r)||"";A=i+A;var M=d.get(A);M?M.push(x):d.set(A,[x])}}return d}function kx(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function uA(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dx(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function dA(i,r,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=kc(d.href),x=r.querySelector(Hu(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=qh.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=x,on(x);return}x=r.ownerDocument||r,d=Mx(d),(y=ks.get(y))&&rg(d,y),x=x.createElement("link"),on(x);var A=x;A._p=new Promise(function(M,Q){A.onload=M,A.onerror=Q}),Zn(x,"link",d),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=qh.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var og=0;function hA(i,r){return i.stylesheets&&i.count===0&&Fh(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var d=setTimeout(function(){if(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+r);0<i.imgBytes&&og===0&&(og=62500*$2());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Fh(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>og?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Hh=null;function Fh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Hh=new Map,r.forEach(fA,i),Hh=null,qh.call(i))}function fA(i,r){if(!(r.state.loading&4)){var l=Hh.get(i);if(l)var d=l.get(null);else{l=new Map,Hh.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var A=y[x];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),d=A)}d&&l.set(null,d)}y=r.instance,A=y.getAttribute("data-precedence"),x=l.get(A)||d,x===d&&l.set(null,y),l.set(A,y),this.count++,d=qh.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),r.state.loading|=4}}var Gu={$$typeof:G,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function mA(i,r,l,d,y,x,A,M,Q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.hiddenUpdates=vs(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function Ox(i,r,l,d,y,x,A,M,Q,le,ge,Ee){return i=new mA(i,r,l,A,Q,le,ge,Ee,M),r=1,x===!0&&(r|=24),x=si(3,null,null,r),i.current=x,x.stateNode=i,r=Um(),r.refCount++,i.pooledCache=r,r.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:r},Fm(x),i}function Vx(i){return i?(i=ia,i):ia}function zx(i,r,l,d,y,x){y=Vx(y),d.context===null?d.context=y:d.pendingContext=y,d=io(r),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=so(i,d,r),l!==null&&(Fi(l,i,r),Eu(l,i,r))}function Ux(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function lg(i,r){Ux(i,r),(i=i.alternate)&&Ux(i,r)}function Bx(i){if(i.tag===13||i.tag===31){var r=Ps(i,67108864);r!==null&&Fi(r,i,67108864),lg(i,67108864)}}function qx(i){if(i.tag===13||i.tag===31){var r=ds();r=Ln(r);var l=Ps(i,r);l!==null&&Fi(l,i,r),lg(i,r)}}var Gh=!0;function pA(i,r,l,d){var y=W.T;W.T=null;var x=me.p;try{me.p=2,cg(i,r,l,d)}finally{me.p=x,W.T=y}}function gA(i,r,l,d){var y=W.T;W.T=null;var x=me.p;try{me.p=8,cg(i,r,l,d)}finally{me.p=x,W.T=y}}function cg(i,r,l,d){if(Gh){var y=ug(d);if(y===null)Yp(i,r,d,$h,l),Fx(i,d);else if(_A(y,i,r,l,d))d.stopPropagation();else if(Fx(i,d),r&4&&-1<yA.indexOf(i)){for(;y!==null;){var x=Ii(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var A=rn(x.pendingLanes);if(A!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var Q=1<<31-Ft(A);M.entanglements[1]|=Q,A&=~Q}Cr(x),(Ct&6)===0&&(Ch=Cn()+500,zu(0))}}break;case 31:case 13:M=Ps(x,2),M!==null&&Fi(M,x,2),Ih(),lg(x,2)}if(x=ug(d),x===null&&Yp(i,r,d,$h,l),x===y)break;y=x}y!==null&&d.stopPropagation()}else Yp(i,r,d,null,l)}}function ug(i){return i=ei(i),dg(i)}var $h=null;function dg(i){if($h=null,i=Xi(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=h(r),i!==null)return i;i=null}else if(l===31){if(i=_(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return $h=i,null}function Hx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Us()){case Bs:return 2;case dr:return 8;case Ki:case Ko:return 32;case $r:return 268435456;default:return 32}default:return 32}}var hg=!1,go=null,yo=null,_o=null,$u=new Map,Zu=new Map,vo=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fx(i,r){switch(i){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":$u.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(r.pointerId)}}function Ku(i,r,l,d,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[y]},r!==null&&(r=Ii(r),r!==null&&Bx(r)),i):(i.eventSystemFlags|=d,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function _A(i,r,l,d,y){switch(r){case"focusin":return go=Ku(go,i,r,l,d,y),!0;case"dragenter":return yo=Ku(yo,i,r,l,d,y),!0;case"mouseover":return _o=Ku(_o,i,r,l,d,y),!0;case"pointerover":var x=y.pointerId;return $u.set(x,Ku($u.get(x)||null,i,r,l,d,y)),!0;case"gotpointercapture":return x=y.pointerId,Zu.set(x,Ku(Zu.get(x)||null,i,r,l,d,y)),!0}return!1}function Gx(i){var r=Xi(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=h(l),r!==null){i.blockedOn=r,Ci(i.priority,function(){qx(l)});return}}else if(r===31){if(r=_(l),r!==null){i.blockedOn=r,Ci(i.priority,function(){qx(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=ug(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);qa=d,l.target.dispatchEvent(d),qa=null}else return r=Ii(l),r!==null&&Bx(r),i.blockedOn=l,!1;r.shift()}return!0}function $x(i,r,l){Zh(i)&&l.delete(r)}function vA(){hg=!1,go!==null&&Zh(go)&&(go=null),yo!==null&&Zh(yo)&&(yo=null),_o!==null&&Zh(_o)&&(_o=null),$u.forEach($x),Zu.forEach($x)}function Kh(i,r){i.blockedOn===r&&(i.blockedOn=null,hg||(hg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vA)))}var Yh=null;function Zx(i){Yh!==i&&(Yh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yh===i&&(Yh=null);for(var r=0;r<i.length;r+=3){var l=i[r],d=i[r+1],y=i[r+2];if(typeof d!="function"){if(dg(d||l)===null)continue;break}var x=Ii(l);x!==null&&(i.splice(r,3),r-=3,up(x,{pending:!0,data:y,method:l.method,action:d},d,y))}}))}function Oc(i){function r(Q){return Kh(Q,i)}go!==null&&Kh(go,i),yo!==null&&Kh(yo,i),_o!==null&&Kh(_o,i),$u.forEach(r),Zu.forEach(r);for(var l=0;l<vo.length;l++){var d=vo[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<vo.length&&(l=vo[0],l.blockedOn===null);)Gx(l),l.blockedOn===null&&vo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var y=l[d],x=l[d+1],A=y[an]||null;if(typeof x=="function")A||Zx(l);else if(A){var M=null;if(x&&x.hasAttribute("formAction")){if(y=x,A=x[an]||null)M=A.formAction;else if(dg(y)!==null)continue}else M=A.action;typeof M=="function"?l[d+1]=M:(l.splice(d,3),d-=3),Zx(l)}}}function Kx(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function fg(i){this._internalRoot=i}Wh.prototype.render=fg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,d=ds();zx(l,d,i,r,null,null)},Wh.prototype.unmount=fg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;zx(i.current,2,null,i,null,null),Ih(),r[Wi]=null}};function Wh(i){this._internalRoot=i}Wh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Qo();i={blockedOn:null,target:i,priority:r};for(var l=0;l<vo.length&&r!==0&&r<vo[l].priority;l++);vo.splice(l,0,i),l===0&&Gx(i)}};var Yx=e.version;if(Yx!=="19.2.4")throw Error(s(527,Yx,"19.2.4"));me.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var xA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{Xn=Qh.inject(xA),en=Qh}catch{}}return Wu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,d="",y=n0,x=i0,A=s0;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=Ox(i,1,!1,null,null,l,d,null,y,x,A,Kx),i[Wi]=r.current,Kp(i),new fg(r)},Wu.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var d=!1,y="",x=n0,A=i0,M=s0,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(Q=l.formState)),r=Ox(i,1,!0,r,l??null,d,y,Q,x,A,M,Kx),r.context=Vx(null),l=r.current,d=ds(),d=Ln(d),y=io(d),y.callback=null,so(l,y,d),l=d,r.current.lanes=l,qs(r,l),Cr(r),i[Wi]=r.current,Kp(i),new Wh(r)},Wu.version="19.2.4",Wu}var rb;function RA(){if(rb)return gg.exports;rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gg.exports=CA(),gg.exports}var IA=RA();var ab="popstate";function PA(n={}){function e(o,c){let{pathname:h="/",search:_="",hash:p=""}=Yl(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ey("",{pathname:h,search:_,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let h=o.document.querySelector("base"),_="";if(h&&h.getAttribute("href")){let p=o.location.href,v=p.indexOf("#");_=v===-1?p:p.slice(0,v)}return _+"#"+(typeof c=="string"?c:_d(c))}function s(o,c){ps(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return jA(e,t,s,n)}function Jt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ps(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MA(){return Math.random().toString(36).substring(2,10)}function ob(n,e){return{usr:n.state,key:n.key,idx:e}}function ey(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Yl(e):e,state:t,key:e&&e.key||s||MA()}}function _d({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Yl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function jA(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,_="POP",p=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function E(){_="POP";let k=w(),V=k==null?null:k-v;v=k,p&&p({action:_,location:z.location,delta:V})}function C(k,V){_="PUSH";let B=ey(z.location,k,V);t&&t(B,k),v=w()+1;let G=ob(B,v),ne=z.createHref(B);try{h.pushState(G,"",ne)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(ne)}c&&p&&p({action:_,location:z.location,delta:1})}function R(k,V){_="REPLACE";let B=ey(z.location,k,V);t&&t(B,k),v=w();let G=ob(B,v),ne=z.createHref(B);h.replaceState(G,"",ne),c&&p&&p({action:_,location:z.location,delta:0})}function j(k){return LA(k)}let z={get action(){return _},get location(){return n(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ab,E),p=k,()=>{o.removeEventListener(ab,E),p=null}},createHref(k){return e(o,k)},createURL:j,encodeLocation(k){let V=j(k);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:C,replace:R,go(k){return h.go(k)}};return z}function LA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:_d(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function h1(n,e,t="/"){return kA(n,e,t,!1)}function kA(n,e,t,s){let o=typeof e=="string"?Yl(e):e,c=Sa(o.pathname||"/",t);if(c==null)return null;let h=f1(n);DA(h);let _=null;for(let p=0;_==null&&p<h.length;++p){let v=ZA(c);_=GA(h[p],v,s)}return _}function f1(n,e=[],t=[],s="",o=!1){let c=(h,_,p=o,v)=>{let w={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:_,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&p)return;Jt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let E=Ta([s,w.relativePath]),C=t.concat(w);h.children&&h.children.length>0&&(Jt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),f1(h.children,e,C,E,p)),!(h.path==null&&!h.index)&&e.push({path:E,score:HA(E,h.index),routesMeta:C})};return n.forEach((h,_)=>{if(h.path===""||!h.path?.includes("?"))c(h,_);else for(let p of m1(h.path))c(h,_,!0,p)}),e}function m1(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=m1(s.join("/")),_=[];return _.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&_.push(...h),_.map(p=>n.startsWith("/")&&p===""?"/":p)}function DA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var OA=/^:[\w-]+$/,VA=3,zA=2,UA=1,BA=10,qA=-2,lb=n=>n==="*";function HA(n,e){let t=n.split("/"),s=t.length;return t.some(lb)&&(s+=qA),e&&(s+=zA),t.filter(o=>!lb(o)).reduce((o,c)=>o+(OA.test(c)?VA:c===""?UA:BA),s)}function FA(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function GA(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",h=[];for(let _=0;_<s.length;++_){let p=s[_],v=_===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",E=Tf({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},w),C=p.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=Tf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:Ta([c,E.pathname]),pathnameBase:QA(Ta([c,E.pathnameBase])),route:C}),E.pathnameBase!=="/"&&(c=Ta([c,E.pathnameBase]))}return h}function Tf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=$A(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),_=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:E},C)=>{if(w==="*"){let j=_[C]||"";h=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const R=_[C];return E&&!R?v[w]=void 0:v[w]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:n}}function $A(n,e=!1,t=!0){ps(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,_,p)=>(s.push({paramName:_,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ZA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ps(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Sa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var KA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function YA(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Yl(n):n,c;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?c=cb(t.substring(1),"/"):c=cb(t,e)):c=e,{pathname:c,search:XA(s),hash:JA(o)}}function cb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zy(n){let e=WA(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Uy(n,e,t,s=!1){let o;typeof n=="string"?o=Yl(n):(o={...n},Jt(!o.pathname||!o.pathname.includes("?"),xg("?","pathname","search",o)),Jt(!o.pathname||!o.pathname.includes("#"),xg("#","pathname","hash",o)),Jt(!o.search||!o.search.includes("#"),xg("#","search","hash",o)));let c=n===""||o.pathname==="",h=c?"/":o.pathname,_;if(h==null)_=t;else{let E=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),E-=1;o.pathname=C.join("/")}_=E>=0?e[E]:"/"}let p=YA(o,_),v=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||w)&&(p.pathname+="/"),p}var Ta=n=>n.join("/").replace(/\/\/+/g,"/"),QA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,JA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,eN=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function tN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function nN(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var p1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function g1(n,e){let t=n;if(typeof t!="string"||!KA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(p1)try{let c=new URL(window.location.href),h=t.startsWith("//")?new URL(c.protocol+t):new URL(t),_=Sa(h.pathname,e);h.origin===c.origin&&_!=null?t=_+h.search+h.hash:o=!0}catch{ps(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var y1=["POST","PUT","PATCH","DELETE"];new Set(y1);var iN=["GET",...y1];new Set(iN);var tu=D.createContext(null);tu.displayName="DataRouter";var tm=D.createContext(null);tm.displayName="DataRouterState";var sN=D.createContext(!1),_1=D.createContext({isTransitioning:!1});_1.displayName="ViewTransition";var rN=D.createContext(new Map);rN.displayName="Fetchers";var aN=D.createContext(null);aN.displayName="Await";var gs=D.createContext(null);gs.displayName="Navigation";var Pd=D.createContext(null);Pd.displayName="Location";var cr=D.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var By=D.createContext(null);By.displayName="RouteError";var v1="REACT_ROUTER_ERROR",oN="REDIRECT",lN="ROUTE_ERROR_RESPONSE";function cN(n){if(n.startsWith(`${v1}:${oN}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function uN(n){if(n.startsWith(`${v1}:${lN}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new eN(e.status,e.statusText,e.data)}catch{}}function dN(n,{relative:e}={}){Jt(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=D.useContext(gs),{hash:o,pathname:c,search:h}=Md(n,{relative:e}),_=c;return t!=="/"&&(_=c==="/"?t:Ta([t,c])),s.createHref({pathname:_,search:h,hash:o})}function nu(){return D.useContext(Pd)!=null}function zs(){return Jt(nu(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Pd).location}var x1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b1(n){D.useContext(gs).static||D.useLayoutEffect(n)}function qo(){let{isDataRoute:n}=D.useContext(cr);return n?TN():hN()}function hN(){Jt(nu(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(tu),{basename:e,navigator:t}=D.useContext(gs),{matches:s}=D.useContext(cr),{pathname:o}=zs(),c=JSON.stringify(zy(s)),h=D.useRef(!1);return b1(()=>{h.current=!0}),D.useCallback((p,v={})=>{if(ps(h.current,x1),!h.current)return;if(typeof p=="number"){t.go(p);return}let w=Uy(p,JSON.parse(c),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ta([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,c,o,n])}D.createContext(null);function w1(){let{matches:n}=D.useContext(cr),e=n[n.length-1];return e?e.params:{}}function Md(n,{relative:e}={}){let{matches:t}=D.useContext(cr),{pathname:s}=zs(),o=JSON.stringify(zy(t));return D.useMemo(()=>Uy(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function fN(n,e){return E1(n,e)}function E1(n,e,t,s,o){Jt(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(gs),{matches:h}=D.useContext(cr),_=h[h.length-1],p=_?_.params:{},v=_?_.pathname:"/",w=_?_.pathnameBase:"/",E=_&&_.route;{let B=E&&E.path||"";S1(v,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let C=zs(),R;if(e){let B=typeof e=="string"?Yl(e):e;Jt(w==="/"||B.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=C;let j=R.pathname||"/",z=j;if(w!=="/"){let B=w.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=h1(n,{pathname:z});ps(E||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ps(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=_N(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Ta([w,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?w:Ta([w,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,t,s,o);return e&&V?D.createElement(Pd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},V):V}function mN(){let n=EN(),e=tN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:o},t):null,h)}var pN=D.createElement(mN,null),T1=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=uN(n.digest);t&&(n=t)}let e=n!==void 0?D.createElement(cr.Provider,{value:this.props.routeContext},D.createElement(By.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?D.createElement(gN,{error:n},e):e}};T1.contextType=sN;var bg=new WeakMap;function gN({children:n,error:e}){let{basename:t}=D.useContext(gs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=cN(e.digest);if(s){let o=bg.get(e);if(o)throw o;let c=g1(s.location,t);if(p1&&!bg.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw bg.set(e,h),h}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function yN({routeContext:n,match:e,children:t}){let s=D.useContext(tu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(cr.Provider,{value:n},t)}function _N(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,h=t?.errors;if(h!=null){let w=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);Jt(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let _=!1,p=-1;if(t)for(let w=0;w<c.length;w++){let E=c[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=w),E.route.id){let{loaderData:C,errors:R}=t,j=E.route.loader&&!C.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||j){_=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let v=t&&s?(w,E)=>{s(w,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:nN(t.matches),errorInfo:E})}:void 0;return c.reduceRight((w,E,C)=>{let R,j=!1,z=null,k=null;t&&(R=h&&E.route.id?h[E.route.id]:void 0,z=E.route.errorElement||pN,_&&(p<0&&C===0?(S1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):p===C&&(j=!0,k=E.route.hydrateFallbackElement||null)));let V=e.concat(c.slice(0,C+1)),B=()=>{let G;return R?G=z:j?G=k:E.route.Component?G=D.createElement(E.route.Component,null):E.route.element?G=E.route.element:G=w,D.createElement(yN,{match:E,routeContext:{outlet:w,matches:V,isDataRoute:t!=null},children:G})};return t&&(E.route.ErrorBoundary||E.route.errorElement||C===0)?D.createElement(T1,{location:t.location,revalidation:t.revalidation,component:z,error:R,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:v}):B()},null)}function qy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vN(n){let e=D.useContext(tu);return Jt(e,qy(n)),e}function xN(n){let e=D.useContext(tm);return Jt(e,qy(n)),e}function bN(n){let e=D.useContext(cr);return Jt(e,qy(n)),e}function Hy(n){let e=bN(n),t=e.matches[e.matches.length-1];return Jt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wN(){return Hy("useRouteId")}function EN(){let n=D.useContext(By),e=xN("useRouteError"),t=Hy("useRouteError");return n!==void 0?n:e.errors?.[t]}function TN(){let{router:n}=vN("useNavigate"),e=Hy("useNavigate"),t=D.useRef(!1);return b1(()=>{t.current=!0}),D.useCallback(async(o,c={})=>{ps(t.current,x1),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var ub={};function S1(n,e,t){!e&&!ub[n]&&(ub[n]=!0,ps(!1,t))}D.memo(SN);function SN({routes:n,future:e,state:t,onError:s}){return E1(n,void 0,t,s,e)}function wg({to:n,replace:e,state:t,relative:s}){Jt(nu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(gs);ps(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(cr),{pathname:h}=zs(),_=qo(),p=Uy(n,zy(c),h,s==="path"),v=JSON.stringify(p);return D.useEffect(()=>{_(JSON.parse(v),{replace:e,state:t,relative:s})},[_,v,s,e,t]),null}function oi(n){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AN({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){Jt(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=n.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:_,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[_,o,c,h]);typeof t=="string"&&(t=Yl(t));let{pathname:v="/",search:w="",hash:E="",state:C=null,key:R="default"}=t,j=D.useMemo(()=>{let z=Sa(v,_);return z==null?null:{location:{pathname:z,search:w,hash:E,state:C,key:R},navigationType:s}},[_,v,w,E,C,R,s]);return ps(j!=null,`<Router basename="${_}"> is not able to match the URL "${v}${w}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:D.createElement(gs.Provider,{value:p},D.createElement(Pd.Provider,{children:e,value:j}))}function NN({children:n,location:e}){return fN(ty(n),e)}function ty(n,e=[]){let t=[];return D.Children.forEach(n,(s,o)=>{if(!D.isValidElement(s))return;let c=[...e,o];if(s.type===D.Fragment){t.push.apply(t,ty(s.props.children,c));return}Jt(s.type===oi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ty(s.props.children,c)),t.push(h)}),t}var uf="get",df="application/x-www-form-urlencoded";function nm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function CN(n){return nm(n)&&n.tagName.toLowerCase()==="button"}function RN(n){return nm(n)&&n.tagName.toLowerCase()==="form"}function IN(n){return nm(n)&&n.tagName.toLowerCase()==="input"}function PN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MN(n,e){return n.button===0&&(!e||e==="_self")&&!PN(n)}function ny(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function jN(n,e){let t=ny(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var Xh=null;function LN(){if(Xh===null)try{new FormData(document.createElement("form"),0),Xh=!1}catch{Xh=!0}return Xh}var kN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(n){return n!=null&&!kN.has(n)?(ps(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${df}"`),null):n}function DN(n,e){let t,s,o,c,h;if(RN(n)){let _=n.getAttribute("action");s=_?Sa(_,e):null,t=n.getAttribute("method")||uf,o=Eg(n.getAttribute("enctype"))||df,c=new FormData(n)}else if(CN(n)||IN(n)&&(n.type==="submit"||n.type==="image")){let _=n.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||_.getAttribute("action");if(s=p?Sa(p,e):null,t=n.getAttribute("formmethod")||_.getAttribute("method")||uf,o=Eg(n.getAttribute("formenctype"))||Eg(_.getAttribute("enctype"))||df,c=new FormData(_,n),!LN()){let{name:v,type:w,value:E}=n;if(w==="image"){let C=v?`${v}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else v&&c.append(v,E)}}else{if(nm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uf,s=null,o=df,h=n}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ON(n,e,t,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Sa(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function VN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function UN(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await VN(c,t);return h.links?h.links():[]}return[]}));return FN(s.flat(1).filter(zN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function db(n,e,t,s,o,c){let h=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,_=(p,v)=>t[v].pathname!==p.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,v)=>h(p,v)||_(p,v)):c==="data"?e.filter((p,v)=>{let w=s.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(h(p,v)||_(p,v))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function BN(n,e,{includeHydrateFallback:t}={}){return qN(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function qN(n){return[...new Set(n)]}function HN(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function FN(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(HN(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function A1(){let n=D.useContext(tu);return Fy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function GN(){let n=D.useContext(tm);return Fy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gy=D.createContext(void 0);Gy.displayName="FrameworkContext";function N1(){let n=D.useContext(Gy);return Fy(n,"You must render this element inside a <HydratedRouter> element"),n}function $N(n,e){let t=D.useContext(Gy),[s,o]=D.useState(!1),[c,h]=D.useState(!1),{onFocus:_,onBlur:p,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,C=D.useRef(null);D.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let z=V=>{V.forEach(B=>{h(B.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return C.current&&k.observe(C.current),()=>{k.disconnect()}}},[n]),D.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let R=()=>{o(!0)},j=()=>{o(!1),h(!1)};return t?n!=="intent"?[c,C,{}]:[c,C,{onFocus:Qu(_,R),onBlur:Qu(p,j),onMouseEnter:Qu(v,R),onMouseLeave:Qu(w,j),onTouchStart:Qu(E,R)}]:[!1,C,{}]}function Qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ZN({page:n,...e}){let{router:t}=A1(),s=D.useMemo(()=>h1(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?D.createElement(YN,{page:n,matches:s,...e}):null}function KN(n){let{manifest:e,routeModules:t}=N1(),[s,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return UN(n,e,t).then(h=>{c||o(h)}),()=>{c=!0}},[n,e,t]),s}function YN({page:n,matches:e,...t}){let s=zs(),{future:o,manifest:c,routeModules:h}=N1(),{basename:_}=A1(),{loaderData:p,matches:v}=GN(),w=D.useMemo(()=>db(n,e,v,c,s,"data"),[n,e,v,c,s]),E=D.useMemo(()=>db(n,e,v,c,s,"assets"),[n,e,v,c,s]),C=D.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let z=new Set,k=!1;if(e.forEach(B=>{let G=c.routes[B.route.id];!G||!G.hasLoader||(!w.some(ne=>ne.route.id===B.route.id)&&B.route.id in p&&h[B.route.id]?.shouldRevalidate||G.hasClientLoader?k=!0:z.add(B.route.id))}),z.size===0)return[];let V=ON(n,_,o.unstable_trailingSlashAwareDataRequests,"data");return k&&z.size>0&&V.searchParams.set("_routes",e.filter(B=>z.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[_,o.unstable_trailingSlashAwareDataRequests,p,s,c,w,e,n,h]),R=D.useMemo(()=>BN(E,c),[E,c]),j=KN(E);return D.createElement(D.Fragment,null,C.map(z=>D.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),R.map(z=>D.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),j.map(({key:z,link:k})=>D.createElement("link",{key:z,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function WN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QN&&(window.__reactRouterVersion="7.13.0")}catch{}function XN({basename:n,children:e,unstable_useTransitions:t,window:s}){let o=D.useRef();o.current==null&&(o.current=PA({window:s,v5Compat:!0}));let c=o.current,[h,_]=D.useState({action:c.action,location:c.location}),p=D.useCallback(v=>{t===!1?_(v):D.startTransition(()=>_(v))},[t]);return D.useLayoutEffect(()=>c.listen(p),[c,p]),D.createElement(AN,{basename:n,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:t})}var C1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=D.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:_,target:p,to:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:C,...R},j){let{basename:z,unstable_useTransitions:k}=D.useContext(gs),V=typeof v=="string"&&C1.test(v),B=g1(v,z);v=B.to;let G=dN(v,{relative:o}),[ne,te,ye]=$N(s,R),q=nC(v,{replace:h,state:_,target:p,preventScrollReset:w,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:C,unstable_useTransitions:k});function I($){e&&e($),$.defaultPrevented||q($)}let Z=D.createElement("a",{...R,...ye,href:B.absoluteURL||G,onClick:B.isExternal||c?e:I,ref:WN(j,te),target:p,"data-discover":!V&&t==="render"?"true":void 0});return ne&&!V?D.createElement(D.Fragment,null,Z,D.createElement(ZN,{page:G})):Z});bt.displayName="Link";var JN=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:_,children:p,...v},w){let E=Md(h,{relative:v.relative}),C=zs(),R=D.useContext(tm),{navigator:j,basename:z}=D.useContext(gs),k=R!=null&&lC(E)&&_===!0,V=j.encodeLocation?j.encodeLocation(E).pathname:E.pathname,B=C.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(B=B.toLowerCase(),G=G?G.toLowerCase():null,V=V.toLowerCase()),G&&z&&(G=Sa(G,z)||G);const ne=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let te=B===V||!o&&B.startsWith(V)&&B.charAt(ne)==="/",ye=G!=null&&(G===V||!o&&G.startsWith(V)&&G.charAt(V.length)==="/"),q={isActive:te,isPending:ye,isTransitioning:k},I=te?e:void 0,Z;typeof s=="function"?Z=s(q):Z=[s,te?"active":null,ye?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let $=typeof c=="function"?c(q):c;return D.createElement(bt,{...v,"aria-current":I,className:Z,ref:w,style:$,to:h,viewTransition:_},typeof p=="function"?p(q):p)});JN.displayName="NavLink";var eC=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:h=uf,action:_,onSubmit:p,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:C,...R},j)=>{let{unstable_useTransitions:z}=D.useContext(gs),k=aC(),V=oC(_,{relative:v}),B=h.toLowerCase()==="get"?"get":"post",G=typeof _=="string"&&C1.test(_),ne=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let ye=te.nativeEvent.submitter,q=ye?.getAttribute("formmethod")||h,I=()=>k(ye||te.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:o,state:c,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:C});z&&t!==!1?D.startTransition(()=>I()):I()};return D.createElement("form",{ref:j,method:B,action:V,onSubmit:s?p:ne,...R,"data-discover":!G&&n==="render"?"true":void 0})});eC.displayName="Form";function tC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(n){let e=D.useContext(tu);return Jt(e,tC(n)),e}function nC(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:_,unstable_useTransitions:p}={}){let v=qo(),w=zs(),E=Md(n,{relative:c});return D.useCallback(C=>{if(MN(C,e)){C.preventDefault();let R=t!==void 0?t:_d(w)===_d(E),j=()=>v(n,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:_});p?D.startTransition(()=>j()):j()}},[w,v,E,t,s,e,n,o,c,h,_,p])}function iC(n){ps(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(ny(n)),t=D.useRef(!1),s=zs(),o=D.useMemo(()=>jN(s.search,t.current?null:e.current),[s.search]),c=qo(),h=D.useCallback((_,p)=>{const v=ny(typeof _=="function"?_(new URLSearchParams(o)):_);t.current=!0,c("?"+v,p)},[c,o]);return[o,h]}var sC=0,rC=()=>`__${String(++sC)}__`;function aC(){let{router:n}=R1("useSubmit"),{basename:e}=D.useContext(gs),t=wN(),s=n.fetch,o=n.navigate;return D.useCallback(async(c,h={})=>{let{action:_,method:p,encType:v,formData:w,body:E}=DN(c,e);if(h.navigate===!1){let C=h.fetcherKey||rC();await s(C,t,h.action||_,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:E,formMethod:h.method||p,formEncType:h.encType||v,flushSync:h.flushSync})}else await o(h.action||_,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:E,formMethod:h.method||p,formEncType:h.encType||v,replace:h.replace,state:h.state,fromRouteId:t,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,t])}function oC(n,{relative:e}={}){let{basename:t}=D.useContext(gs),s=D.useContext(cr);Jt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Md(n||".",{relative:e})},h=zs();if(n==null){c.search=h.search;let _=new URLSearchParams(c.search),p=_.getAll("index");if(p.some(w=>w==="")){_.delete("index"),p.filter(E=>E).forEach(E=>_.append("index",E));let w=_.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Ta([t,c.pathname])),_d(c)}function lC(n,{relative:e}={}){let t=D.useContext(_1);Jt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R1("useViewTransitionState"),o=Md(n,{relative:e});if(!t.isTransitioning)return!1;let c=Sa(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Sa(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Tf(o.pathname,h)!=null||Tf(o.pathname,c)!=null}d1();const cC=()=>{};var hb={};const I1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},uC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],h=n[t++],_=n[t++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|_&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=n[t++],h=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],h=o+1<n.length,_=h?n[o+1]:0,p=o+2<n.length,v=p?n[o+2]:0,w=c>>2,E=(c&3)<<4|_>>4;let C=(_&15)<<2|v>>6,R=v&63;p||(R=64,h||(C=64)),s.push(t[w],t[E],t[C],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(I1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],_=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||_==null||v==null||E==null)throw new dC;const C=c<<2|_>>4;if(s.push(C),v!==64){const R=_<<4&240|v>>2;if(s.push(R),E!==64){const j=v<<6&192|E;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hC=function(n){const e=I1(n);return P1.encodeByteArray(e,!0)},Sf=function(n){return hC(n).replace(/\./g,"")},M1=function(n){try{return P1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mC=()=>fC().__FIREBASE_DEFAULTS__,pC=()=>{if(typeof process>"u"||typeof hb>"u")return;const n=hb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&M1(n[1]);return e&&JSON.parse(e)},im=()=>{try{return cC()||mC()||pC()||gC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},j1=n=>im()?.emulatorHosts?.[n],L1=n=>{const e=j1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},k1=()=>im()?.config,D1=n=>im()?.[`_${n}`];class yC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Ho(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $y(n){return(await fetch(n,{credentials:"include"})).ok}function O1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sf(JSON.stringify(t)),Sf(JSON.stringify(h)),""].join(".")}const ld={};function _C(){const n={prod:[],emulator:[]};for(const e of Object.keys(ld))ld[e]?n.emulator.push(e):n.prod.push(e);return n}function vC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let fb=!1;function Zy(n,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||ld[n]===e||ld[n]||fb)return;ld[n]=e;function t(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=_C().prod.length>0;function h(){const C=document.getElementById(s);C&&C.remove()}function _(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,R){C.setAttribute("width","24"),C.setAttribute("id",R),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{fb=!0,h()},C}function w(C,R){C.setAttribute("id",R),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function E(){const C=vC(s),R=t("text"),j=document.getElementById(R)||document.createElement("span"),z=t("learnmore"),k=document.getElementById(z)||document.createElement("a"),V=t("preprendIcon"),B=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const G=C.element;_(G),w(k,z);const ne=v();p(B,V),G.append(B,j,k,ne),document.body.appendChild(G)}c?(j.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())}function bC(){const n=im()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SC(){const n=di();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AC(){return!bC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NC(){try{return typeof indexedDB=="object"}catch{return!1}}function CC(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const RC="FirebaseError";class Fr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=RC,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jd.prototype.create)}}class jd{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?IC(c,s):"Error",_=`${this.serviceName}: ${h} (${o}).`;return new Fr(o,_,s)}}function IC(n,e){return n.replace(PC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const PC=/\{\$([^}]+)}/g;function MC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vl(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],h=e[o];if(mb(c)&&mb(h)){if(!Vl(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function mb(n){return n!==null&&typeof n=="object"}function Ld(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function td(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function nd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function jC(n,e){const t=new LC(n,e);return t.subscribe.bind(t)}class LC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");kC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Tg),o.error===void 0&&(o.error=Tg),o.complete===void 0&&(o.complete=Tg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tg(){}function Vt(n){return n&&n._delegate?n._delegate:n}class ko{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pl="[DEFAULT]";class DC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new yC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VC(e))try{this.getOrInitializeService({instanceIdentifier:Pl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pl){return this.instances.has(e)}getOptions(e=Pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,h]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Pl){return this.component?this.component.multipleInstances?e:Pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OC(n){return n===Pl?void 0:n}function VC(n){return n.instantiationMode==="EAGER"}class zC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(pt||(pt={}));const UC={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},BC=pt.INFO,qC={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},HC=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=qC[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=BC,this._logHandler=HC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const FC=(n,e)=>e.some(t=>n instanceof t);let pb,gb;function GC(){return pb||(pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $C(){return gb||(gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V1=new WeakMap,iy=new WeakMap,z1=new WeakMap,Sg=new WeakMap,Yy=new WeakMap;function ZC(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",h)},c=()=>{t(Io(n.result)),o()},h=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&V1.set(t,n)}).catch(()=>{}),Yy.set(e,n),e}function KC(n){if(iy.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",h),n.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",h),n.addEventListener("abort",h)});iy.set(n,e)}let sy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return iy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||z1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Io(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YC(n){sy=n(sy)}function WC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Ag(this),e,...t);return z1.set(s,e.sort?e.sort():[e]),Io(s)}:$C().includes(n)?function(...e){return n.apply(Ag(this),e),Io(V1.get(this))}:function(...e){return Io(n.apply(Ag(this),e))}}function QC(n){return typeof n=="function"?WC(n):(n instanceof IDBTransaction&&KC(n),FC(n,GC())?new Proxy(n,sy):n)}function Io(n){if(n instanceof IDBRequest)return ZC(n);if(Sg.has(n))return Sg.get(n);const e=QC(n);return e!==n&&(Sg.set(n,e),Yy.set(e,n)),e}const Ag=n=>Yy.get(n);function XC(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(n,e),_=Io(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Io(h.result),p.oldVersion,p.newVersion,Io(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),_.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const JC=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],Ng=new Map;function yb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=eR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JC.includes(t)))return;const c=async function(h,..._){const p=this.transaction(h,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(_.shift())),(await Promise.all([v[t](..._),o&&p.done]))[0]};return Ng.set(e,c),c}YC(n=>({...n,get:(e,t,s)=>yb(e,t)||n.get(e,t,s),has:(e,t)=>!!yb(e,t)||n.has(e,t)}));class tR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function nR(n){return n.getComponent()?.type==="VERSION"}const ry="@firebase/app",_b="0.14.8";const Aa=new Ky("@firebase/app"),iR="@firebase/app-compat",sR="@firebase/analytics-compat",rR="@firebase/analytics",aR="@firebase/app-check-compat",oR="@firebase/app-check",lR="@firebase/auth",cR="@firebase/auth-compat",uR="@firebase/database",dR="@firebase/data-connect",hR="@firebase/database-compat",fR="@firebase/functions",mR="@firebase/functions-compat",pR="@firebase/installations",gR="@firebase/installations-compat",yR="@firebase/messaging",_R="@firebase/messaging-compat",vR="@firebase/performance",xR="@firebase/performance-compat",bR="@firebase/remote-config",wR="@firebase/remote-config-compat",ER="@firebase/storage",TR="@firebase/storage-compat",SR="@firebase/firestore",AR="@firebase/ai",NR="@firebase/firestore-compat",CR="firebase",RR="12.9.0";const ay="[DEFAULT]",IR={[ry]:"fire-core",[iR]:"fire-core-compat",[rR]:"fire-analytics",[sR]:"fire-analytics-compat",[oR]:"fire-app-check",[aR]:"fire-app-check-compat",[lR]:"fire-auth",[cR]:"fire-auth-compat",[uR]:"fire-rtdb",[dR]:"fire-data-connect",[hR]:"fire-rtdb-compat",[fR]:"fire-fn",[mR]:"fire-fn-compat",[pR]:"fire-iid",[gR]:"fire-iid-compat",[yR]:"fire-fcm",[_R]:"fire-fcm-compat",[vR]:"fire-perf",[xR]:"fire-perf-compat",[bR]:"fire-rc",[wR]:"fire-rc-compat",[ER]:"fire-gcs",[TR]:"fire-gcs-compat",[SR]:"fire-fst",[NR]:"fire-fst-compat",[AR]:"fire-vertex","fire-js":"fire-js",[CR]:"fire-js-all"};const Af=new Map,PR=new Map,oy=new Map;function vb(n,e){try{n.container.addComponent(e)}catch(t){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zl(n){const e=n.name;if(oy.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,n);for(const t of Af.values())vb(t,n);for(const t of PR.values())vb(t,n);return!0}function sm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xi(n){return n==null?!1:n.settings!==void 0}const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new jd("app","Firebase",MR);class jR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}const Wl=RR;function U1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:ay,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Po.create("bad-app-name",{appName:String(o)});if(t||(t=k1()),!t)throw Po.create("no-options");const c=Af.get(o);if(c){if(Vl(t,c.options)&&Vl(s,c.config))return c;throw Po.create("duplicate-app",{appName:o})}const h=new zC(o);for(const p of oy.values())h.addComponent(p);const _=new jR(t,s,h);return Af.set(o,_),_}function Wy(n=ay){const e=Af.get(n);if(!e&&n===ay&&k1())return U1();if(!e)throw Po.create("no-app",{appName:n});return e}function kr(n,e,t){let s=IR[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(h.join(" "));return}zl(new ko(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const LR="firebase-heartbeat-database",kR=1,vd="firebase-heartbeat-store";let Cg=null;function B1(){return Cg||(Cg=XC(LR,kR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Po.create("idb-open",{originalErrorMessage:n.message})})),Cg}async function DR(n){try{const t=(await B1()).transaction(vd),s=await t.objectStore(vd).get(q1(n));return await t.done,s}catch(e){if(e instanceof Fr)Aa.warn(e.message);else{const t=Po.create("idb-get",{originalErrorMessage:e?.message});Aa.warn(t.message)}}}async function xb(n,e){try{const s=(await B1()).transaction(vd,"readwrite");await s.objectStore(vd).put(e,q1(n)),await s.done}catch(t){if(t instanceof Fr)Aa.warn(t.message);else{const s=Po.create("idb-set",{originalErrorMessage:t?.message});Aa.warn(s.message)}}}function q1(n){return`${n.name}!${n.options.appId}`}const OR=1024,VR=30;class zR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>VR){const o=qR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Aa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bb(),{heartbeatsToSend:t,unsentEntries:s}=UR(this._heartbeatsCache.heartbeats),o=Sf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Aa.warn(e),""}}}function bb(){return new Date().toISOString().substring(0,10)}function UR(n,e=OR){const t=[];let s=n.slice();for(const o of n){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),wb(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class BR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NC()?CC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wb(n){return Sf(JSON.stringify({version:2,heartbeats:n})).length}function qR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function HR(n){zl(new ko("platform-logger",e=>new tR(e),"PRIVATE")),zl(new ko("heartbeat",e=>new zR(e),"PRIVATE")),kr(ry,_b,n),kr(ry,_b,"esm2020"),kr("fire-js","")}HR("");var FR="firebase",GR="12.9.0";kr(FR,GR,"app");function H1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=H1,F1=new jd("auth","Firebase",H1());const Nf=new Ky("@firebase/auth");function ZR(n,...e){Nf.logLevel<=pt.WARN&&Nf.warn(`Auth (${Wl}): ${n}`,...e)}function hf(n,...e){Nf.logLevel<=pt.ERROR&&Nf.error(`Auth (${Wl}): ${n}`,...e)}function Vs(n,...e){throw Xy(n,...e)}function rr(n,...e){return Xy(n,...e)}function Qy(n,e,t){const s={...$R(),[e]:t};return new jd("auth","Firebase",s).create(e,{appName:n.name})}function Dr(n){return Qy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KR(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Vs(n,"argument-error"),Qy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xy(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return F1.create(n,...e)}function Ke(n,e,...t){if(!n)throw Xy(e,...t)}function wa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hf(e),new Error(e)}function Na(n,e){n||wa(e)}function ly(){return typeof self<"u"&&self.location?.href||""}function YR(){return Eb()==="http:"||Eb()==="https:"}function Eb(){return typeof self<"u"&&self.location?.protocol||null}function WR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YR()||EC()||"connection"in navigator)?navigator.onLine:!0}function QR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class kd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Na(t>e,"Short delay should be less than long delay!"),this.isMobile=xC()||TC()}get(){return WR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jy(n,e){Na(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class G1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eI=new kd(3e4,6e4);function Ma(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ur(n,e,t,s,o={}){return $1(n,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const _=Ld({key:n.config.apiKey,...h}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:p,...c};return wC()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Ho(n.emulatorConfig.host)&&(v.credentials="include"),G1.fetch()(await Z1(n,n.config.apiHost,t,_),v)})}async function $1(n,e,t){n._canInitEmulator=!1;const s={...XR,...e};try{const o=new nI(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Jh(n,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const _=c.ok?h.errorMessage:h.error.message,[p,v]=_.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Jh(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Jh(n,"user-disabled",h);const w=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Qy(n,w,v);Vs(n,w)}}catch(o){if(o instanceof Fr)throw o;Vs(n,"network-request-failed",{message:String(o)})}}async function Dd(n,e,t,s,o={}){const c=await ur(n,e,t,s,o);return"mfaPendingCredential"in c&&Vs(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function Z1(n,e,t,s){const o=`${e}${t}?${s}`,c=n,h=c.config.emulator?Jy(n.config,o):`${n.config.apiScheme}://${o}`;return JR.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function tI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(rr(this.auth,"network-request-failed")),eI.get())})}}function Jh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=rr(n,e,s);return o.customData._tokenResponse=t,o}function Tb(n){return n!==void 0&&n.enterprise!==void 0}class iI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sI(n,e){return ur(n,"GET","/v2/recaptchaConfig",Ma(n,e))}async function rI(n,e){return ur(n,"POST","/v1/accounts:delete",e)}async function Cf(n,e){return ur(n,"POST","/v1/accounts:lookup",e)}function cd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aI(n,e=!1){const t=Vt(n),s=await t.getIdToken(e),o=e_(s);Ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:cd(Rg(o.auth_time)),issuedAtTime:cd(Rg(o.iat)),expirationTime:cd(Rg(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Rg(n){return Number(n)*1e3}function e_(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const o=M1(t);return o?JSON.parse(o):(hf("Failed to decode base64 JWT payload"),null)}catch(o){return hf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Sb(n){const e=e_(n);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ul(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Fr&&oI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function oI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class lI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rf(n){const e=n.auth,t=await n.getIdToken(),s=await Ul(n,Cf(e,{idToken:t}));Ke(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?K1(o.providerUserInfo):[],h=uI(n.providerData,c),_=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!h?.length,v=_?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new cy(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function cI(n){const e=Vt(n);await Rf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uI(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function K1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function dI(n,e){const t=await $1(n,{},async()=>{const s=Ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,h=await Z1(n,o,"/v1/token",`key=${c}`),_=await n._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:_,body:s};return n.emulatorConfig&&Ho(n.emulatorConfig.host)&&(p.credentials="include"),G1.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hI(n,e){return ur(n,"POST","/v2/accounts:revokeToken",Ma(n,e))}class qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const t=Sb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await dI(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,h=new qc;return s&&(Ke(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ke(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ke(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qc,this.toJSON())}_performRefresh(){return wa("not implemented")}}function bo(n,e){Ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new lI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aI(this,e)}reload(){return cI(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Rf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Ul(this,rI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,_=t.tenantId??void 0,p=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:C,isAnonymous:R,providerData:j,stsTokenManager:z}=t;Ke(E&&z,e,"internal-error");const k=qc.fromJSON(this.name,z);Ke(typeof E=="string",e,"internal-error"),bo(s,e.name),bo(o,e.name),Ke(typeof C=="boolean",e,"internal-error"),Ke(typeof R=="boolean",e,"internal-error"),bo(c,e.name),bo(h,e.name),bo(_,e.name),bo(p,e.name),bo(v,e.name),bo(w,e.name);const V=new sr({uid:E,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:R,photoURL:h,phoneNumber:c,tenantId:_,stsTokenManager:k,createdAt:v,lastLoginAt:w});return j&&Array.isArray(j)&&(V.providerData=j.map(B=>({...B}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(e,t,s=!1){const o=new qc;o.updateFromServerResponse(t);const c=new sr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rf(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ke(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?K1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,_=new qc;_.updateFromIdToken(s);const p=new sr({uid:o.localId,auth:e,stsTokenManager:_,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,v),p}}const Ab=new Map;function Ea(n){Na(n instanceof Function,"Expected a class definition");let e=Ab.get(n);return e?(Na(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ab.set(n,e),e)}class Y1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Y1.type="NONE";const Nb=Y1;function ff(n,e,t){return`firebase:${n}:${e}:${t}`}class Hc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=ff(this.userKey,o.apiKey,c),this.fullPersistenceKey=ff("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cf(this.auth,{idToken:e}).catch(()=>{});return t?sr._fromGetAccountInfoResponse(this.auth,t,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Hc(Ea(Nb),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Ea(Nb);const h=ff(s,e.config.apiKey,e.name);let _=null;for(const v of t)try{const w=await v._get(h);if(w){let E;if(typeof w=="string"){const C=await Cf(e,{idToken:w}).catch(()=>{});if(!C)break;E=await sr._fromGetAccountInfoResponse(e,C,w)}else E=sr._fromJSON(e,w);v!==c&&(_=E),c=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Hc(c,e,s):(c=p[0],_&&await c._set(h,_.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(h)}catch{}})),new Hc(c,e,s))}}function Cb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tE(e))return"Blackberry";if(nE(e))return"Webos";if(Q1(e))return"Safari";if((e.includes("chrome/")||X1(e))&&!e.includes("edge/"))return"Chrome";if(eE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function W1(n=di()){return/firefox\//i.test(n)}function Q1(n=di()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X1(n=di()){return/crios\//i.test(n)}function J1(n=di()){return/iemobile/i.test(n)}function eE(n=di()){return/android/i.test(n)}function tE(n=di()){return/blackberry/i.test(n)}function nE(n=di()){return/webos/i.test(n)}function t_(n=di()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fI(n=di()){return t_(n)&&!!window.navigator?.standalone}function mI(){return SC()&&document.documentMode===10}function iE(n=di()){return t_(n)||eE(n)||nE(n)||tE(n)||/windows phone/i.test(n)||J1(n)}function sE(n,e=[]){let t;switch(n){case"Browser":t=Cb(di());break;case"Worker":t=`${Cb(di())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wl}/${s}`}class pI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((h,_)=>{try{const p=e(c);h(p)}catch(p){_(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function gI(n,e={}){return ur(n,"GET","/v2/passwordPolicy",Ma(n,e))}const yI=6;class _I{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??yI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class vI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rb(this),this.idTokenSubscription=new Rb(this),this.beforeStateQueue=new pI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ea(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cf(this,{idToken:e}),s=await sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,_=await this.tryRedirectSignIn(e);(!c||c===h)&&_?.user&&(s=_.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(Dr(this));const t=e?Vt(e):null;return t&&Ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gI(this),t=new _I(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jd("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await hI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ea(e)||this._popupRedirectResolver;Ke(t,this,"argument-error"),this.redirectPersistenceManager=await Hc.create(this,[Ea(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(_,this,"internal-error"),_.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ja(n){return Vt(n)}class Rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=jC(t=>this.observer=t)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xI(n){rm=n}function rE(n){return rm.loadJS(n)}function bI(){return rm.recaptchaEnterpriseScript}function wI(){return rm.gapiScript}function EI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TI{constructor(){this.enterprise=new SI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AI="recaptcha-enterprise",aE="NO_RECAPTCHA";class NI{constructor(e){this.type=AI,this.auth=ja(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,_)=>{sI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const v=new iI(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,h(v.siteKey)}}).catch(p=>{_(p)})})}function o(c,h,_){const p=window.grecaptcha;Tb(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(v=>{h(v)}).catch(()=>{h(aE)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TI().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(_=>{if(!t&&Tb(window.grecaptcha))o(_,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=bI();p.length!==0&&(p+=_),rE(p).then(()=>{o(_,c,h)}).catch(v=>{h(v)})}}).catch(_=>{h(_)})})}}async function Ib(n,e,t,s=!1,o=!1){const c=new NI(n);let h;if(o)h=aE;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const _={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const p=_.phoneEnrollmentInfo.phoneNumber,v=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const p=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return s?Object.assign(_,{captchaResp:h}):Object.assign(_,{captchaResponse:h}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function If(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Ib(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Ib(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(c)})}function CI(n,e){const t=sm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Vl(c,e??{}))return o;Vs(o,"already-initialized")}return t.initialize({options:e})}function RI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ea);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function II(n,e,t){const s=ja(n);Ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=oE(e),{host:h,port:_}=PI(e),p=_===null?"":`:${_}`,v={url:`${c}//${h}${p}/`},w=Object.freeze({host:h,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ke(Vl(v,s.config.emulator)&&Vl(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Ho(h)?($y(`${c}//${h}${p}`),Zy("Auth",!0)):MI()}function oE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function PI(n){const e=oE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Pb(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:Pb(h)}}}function Pb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class n_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wa("not implemented")}_getIdTokenResponse(e){return wa("not implemented")}_linkToIdToken(e,t){return wa("not implemented")}_getReauthenticationResolver(e){return wa("not implemented")}}async function jI(n,e){return ur(n,"POST","/v1/accounts:update",e)}async function LI(n,e){return ur(n,"POST","/v1/accounts:signUp",e)}async function kI(n,e){return Dd(n,"POST","/v1/accounts:signInWithPassword",Ma(n,e))}async function DI(n,e){return ur(n,"POST","/v1/accounts:sendOobCode",Ma(n,e))}async function OI(n,e){return DI(n,e)}async function VI(n,e){return Dd(n,"POST","/v1/accounts:signInWithEmailLink",Ma(n,e))}async function zI(n,e){return Dd(n,"POST","/v1/accounts:signInWithEmailLink",Ma(n,e))}class xd extends n_{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new xd(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new xd(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return If(e,t,"signInWithPassword",kI);case"emailLink":return VI(e,{email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return If(e,s,"signUpPassword",LI);case"emailLink":return zI(e,{idToken:t,email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fc(n,e){return Dd(n,"POST","/v1/accounts:signInWithIdp",Ma(n,e))}const UI="http://localhost";class Ca extends n_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const h=new Ca(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Fc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Fc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fc(e,t)}buildRequest(){const e={requestUri:UI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ld(t)}return e}}function BI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qI(n){const e=td(nd(n)).link,t=e?td(nd(e)).deep_link_id:null,s=td(nd(n)).deep_link_id;return(s?td(nd(s)).link:null)||s||t||e||n}class i_{constructor(e){const t=td(nd(e)),s=t.apiKey??null,o=t.oobCode??null,c=BI(t.mode??null);Ke(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=qI(e);try{return new i_(t)}catch{return null}}}class iu{constructor(){this.providerId=iu.PROVIDER_ID}static credential(e,t){return xd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=i_.parseLink(t);return Ke(s,"argument-error"),xd._fromEmailAndCode(e,s.code,s.tenantId)}}iu.PROVIDER_ID="password";iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class s_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends s_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ud extends su{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Ke("providerId"in t&&"signInMethod"in t,"argument-error"),Ca._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Ke(e.idToken||e.accessToken,"argument-error"),Ca._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return ud.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ud.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:h,providerId:_}=e;if(!s&&!o&&!t&&!c||!_)return null;try{return new ud(_)._credential({idToken:t,accessToken:s,nonce:h,pendingToken:c})}catch{return null}}}class wo extends su{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";class ba extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ca._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ba.credential(t,s)}catch{return null}}}ba.GOOGLE_SIGN_IN_METHOD="google.com";ba.PROVIDER_ID="google.com";class Eo extends su{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com";Eo.PROVIDER_ID="github.com";class To extends su{constructor(){super("twitter.com")}static credential(e,t){return Ca._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return To.credential(t,s)}catch{return null}}}To.TWITTER_SIGN_IN_METHOD="twitter.com";To.PROVIDER_ID="twitter.com";async function HI(n,e){return Dd(n,"POST","/v1/accounts:signUp",Ma(n,e))}class Bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await sr._fromIdTokenResponse(e,s,o),h=Mb(s);return new Bl({user:c,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Mb(s);return new Bl({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Mb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Pf extends Fr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Pf(e,t,s,o)}}function lE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Pf._fromErrorAndOperation(n,c,e,s):c})}async function FI(n,e,t=!1){const s=await Ul(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bl._forOperation(n,"link",s)}async function GI(n,e,t=!1){const{auth:s}=n;if(xi(s.app))return Promise.reject(Dr(s));const o="reauthenticate";try{const c=await Ul(n,lE(s,o,e,n),t);Ke(c.idToken,s,"internal-error");const h=e_(c.idToken);Ke(h,s,"internal-error");const{sub:_}=h;return Ke(n.uid===_,s,"user-mismatch"),Bl._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Vs(s,"user-mismatch"),c}}async function cE(n,e,t=!1){if(xi(n.app))return Promise.reject(Dr(n));const s="signIn",o=await lE(n,s,e),c=await Bl._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function $I(n,e){return cE(ja(n),e)}async function uE(n){const e=ja(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZI(n,e,t){const s=ja(n);await If(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",OI)}async function KI(n,e,t){if(xi(n.app))return Promise.reject(Dr(n));const s=ja(n),h=await If(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&uE(n),p}),_=await Bl._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(_.user),_}function YI(n,e,t){return xi(n.app)?Promise.reject(Dr(n)):$I(Vt(n),iu.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&uE(n),s})}async function WI(n,e){return ur(n,"POST","/v1/accounts:update",e)}async function uy(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Vt(n),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Ul(s,WI(s.auth,c));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const _=s.providerData.find(({providerId:p})=>p==="password");_&&(_.displayName=s.displayName,_.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function QI(n,e){const t=Vt(n);return xi(t.auth.app)?Promise.reject(Dr(t.auth)):dE(t,e,null)}function XI(n,e){return dE(Vt(n),null,e)}async function dE(n,e,t){const{auth:s}=n,c={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(c.email=e),t&&(c.password=t);const h=await Ul(n,jI(s,c));await n._updateTokensIfNecessary(h,!0)}function JI(n,e,t,s){return Vt(n).onIdTokenChanged(e,t,s)}function eP(n,e,t){return Vt(n).beforeAuthStateChanged(e,t)}function tP(n,e,t,s){return Vt(n).onAuthStateChanged(e,t,s)}function nP(n){return Vt(n).signOut()}const Mf="__sak";class hE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const iP=1e3,sP=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,_,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);mI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sP):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},iP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const rP=fE;class mE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mE.type="SESSION";const pE=mE;function aP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new am(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const _=Array.from(h).map(async v=>v(t.origin,c)),p=await aP(_);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];function r_(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class oP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((_,p)=>{const v=r_("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(E){const C=E;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(C.data.response);break;default:clearTimeout(w),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Or(){return window}function lP(n){Or().location.href=n}function gE(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function cP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uP(){return navigator?.serviceWorker?.controller||null}function dP(){return gE()?self:null}const yE="firebaseLocalStorageDb",hP=1,jf="firebaseLocalStorage",_E="fbase_key";class Od{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function om(n,e){return n.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function fP(){const n=indexedDB.deleteDatabase(yE);return new Od(n).toPromise()}function dy(){const n=indexedDB.open(yE,hP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(jf,{keyPath:_E})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(jf)?e(s):(s.close(),await fP(),e(await dy()))})})}async function jb(n,e,t){const s=om(n,!0).put({[_E]:e,value:t});return new Od(s).toPromise()}async function mP(n,e){const t=om(n,!1).get(e),s=await new Od(t).toPromise();return s===void 0?null:s.value}function Lb(n,e){const t=om(n,!0).delete(e);return new Od(t).toPromise()}const pP=800,gP=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>gP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(dP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cP(),!this.activeServiceWorker)return;this.sender=new oP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dy();return await jb(e,Mf,"1"),await Lb(e,Mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>jb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>mP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Lb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=om(o,!1).getAll();return new Od(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const yP=vE;new kd(3e4,6e4);function xE(n,e){return e?Ea(e):(Ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class a_ extends n_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _P(n){return cE(n.auth,new a_(n),n.bypassAuthState)}function vP(n){const{auth:e,user:t}=n;return Ke(t,e,"internal-error"),GI(t,new a_(n),n.bypassAuthState)}async function xP(n){const{auth:e,user:t}=n;return Ke(t,e,"internal-error"),FI(t,new a_(n),n.bypassAuthState)}class bE{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:h,type:_}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _P;case"linkViaPopup":case"linkViaRedirect":return xP;case"reauthViaPopup":case"reauthViaRedirect":return vP;default:Vs(this.auth,"internal-error")}}resolve(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bP=new kd(2e3,1e4);async function kb(n,e,t){if(xi(n.app))return Promise.reject(rr(n,"operation-not-supported-in-this-environment"));const s=ja(n);KR(n,e,s_);const o=xE(s,t);return new Ml(s,"signInViaPopup",e,o).executeNotNull()}class Ml extends bE{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Ml.currentPopupAction&&Ml.currentPopupAction.cancel(),Ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Na(this.filter.length===1,"Popup operations only handle one event");const e=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bP.get())};e()}}Ml.currentPopupAction=null;const wP="pendingRedirect",mf=new Map;class EP extends bE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=mf.get(this.auth._key());if(!e){try{const s=await TP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}mf.set(this.auth._key(),e)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TP(n,e){const t=NP(e),s=AP(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function SP(n,e){mf.set(n._key(),e)}function AP(n){return Ea(n._redirectPersistence)}function NP(n){return ff(wP,n.config.apiKey,n.name)}async function CP(n,e,t=!1){if(xi(n.app))return Promise.reject(Dr(n));const s=ja(n),o=xE(s,e),h=await new EP(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const RP=600*1e3;class IP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!wE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(rr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(e))}saveEventToCache(e){this.cachedEventUids.add(Db(e)),this.lastProcessedEventTime=Date.now()}}function Db(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function PP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(n);default:return!1}}async function MP(n,e={}){return ur(n,"GET","/v1/projects",e)}const jP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LP=/^https?/;async function kP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await MP(n);for(const t of e)try{if(DP(t))return}catch{}Vs(n,"unauthorized-domain")}function DP(n){const e=ly(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!LP.test(t))return!1;if(jP.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const OP=new kd(3e4,6e4);function Ob(){const n=Or().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function VP(n){return new Promise((e,t)=>{function s(){Ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ob(),t(rr(n,"network-request-failed"))},timeout:OP.get()})}if(Or().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Or().gapi?.load)s();else{const o=EI("iframefcb");return Or()[o]=()=>{gapi.load?s():t(rr(n,"network-request-failed"))},rE(`${wI()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw pf=null,e})}let pf=null;function zP(n){return pf=pf||VP(n),pf}const UP=new kd(5e3,15e3),BP="__/auth/iframe",qP="emulator/auth/iframe",HP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GP(n){const e=n.config;Ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Jy(e,qP):`https://${n.config.authDomain}/${BP}`,s={apiKey:e.apiKey,appName:n.name,v:Wl},o=FP.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Ld(s).slice(1)}`}async function $P(n){const e=await zP(n),t=Or().gapi;return Ke(t,n,"internal-error"),e.open({where:document.body,url:GP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HP,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=rr(n,"network-request-failed"),_=Or().setTimeout(()=>{c(h)},UP.get());function p(){Or().clearTimeout(_),o(s)}s.ping(p).then(p,()=>{c(h)})}))}const ZP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KP=500,YP=600,WP="_blank",QP="http://localhost";class Vb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XP(n,e,t,s=KP,o=YP){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const p={...ZP,width:s.toString(),height:o.toString(),top:c,left:h},v=di().toLowerCase();t&&(_=X1(v)?WP:t),W1(v)&&(e=e||QP,p.scrollbars="yes");const w=Object.entries(p).reduce((C,[R,j])=>`${C}${R}=${j},`,"");if(fI(v)&&_!=="_self")return JP(e||"",_),new Vb(null);const E=window.open(e||"",_,w);Ke(E,n,"popup-blocked");try{E.focus()}catch{}return new Vb(E)}function JP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const eM="__/auth/handler",tM="emulator/auth/handler",nM=encodeURIComponent("fac");async function zb(n,e,t,s,o,c){Ke(n.config.authDomain,n,"auth-domain-config-required"),Ke(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Wl,eventId:o};if(e instanceof s_){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",MC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))h[w]=E}if(e instanceof su){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const _=h;for(const w of Object.keys(_))_[w]===void 0&&delete _[w];const p=await n._getAppCheckToken(),v=p?`#${nM}=${encodeURIComponent(p)}`:"";return`${iM(n)}?${Ld(_).slice(1)}${v}`}function iM({config:n}){return n.emulator?Jy(n,tM):`https://${n.authDomain}/${eM}`}const Ig="webStorageSupport";class sM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=CP,this._overrideRedirectResult=SP}async _openPopup(e,t,s,o){Na(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await zb(e,t,s,ly(),o);return XP(e,c,r_())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await zb(e,t,s,ly(),o);return lP(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Na(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await $P(e),s=new IP(e);return t.register("authEvent",o=>(Ke(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ig,{type:Ig},o=>{const c=o?.[0]?.[Ig];c!==void 0&&t(!!c),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iE()||Q1()||t_()}}const rM=sM;var Ub="@firebase/auth",Bb="1.12.0";class aM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lM(n){zl(new ko("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:_}=s.options;Ke(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:_,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(n)},v=new vI(s,o,c,p);return RI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),zl(new ko("auth-internal",e=>{const t=ja(e.getProvider("auth").getImmediate());return(s=>new aM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(Ub,Bb,oM(n)),kr(Ub,Bb,"esm2020")}const cM=300,uM=D1("authIdTokenMaxAge")||cM;let qb=null;const dM=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>uM)return;const o=t?.token;qb!==o&&(qb=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hM(n=Wy()){const e=sm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CI(n,{popupRedirectResolver:rM,persistence:[yP,rP,pE]}),s=D1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=dM(c.toString());eP(t,h,()=>h(t.currentUser)),JI(t,_=>h(_))}}const o=j1("auth");return o&&II(t,`http://${o}`),t}function fM(){return document.getElementsByTagName("head")?.[0]??document}xI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=rr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",fM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lM("Browser");var Hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Mo,EE;(function(){var n;function e(q,I){function Z(){}Z.prototype=I.prototype,q.F=I.prototype,q.prototype=new Z,q.prototype.constructor=q,q.D=function($,H,K){for(var F=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)F[Se-2]=arguments[Se];return I.prototype[H].apply($,F)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(q,I,Z){Z||(Z=0);const $=Array(16);if(typeof I=="string")for(var H=0;H<16;++H)$[H]=I.charCodeAt(Z++)|I.charCodeAt(Z++)<<8|I.charCodeAt(Z++)<<16|I.charCodeAt(Z++)<<24;else for(H=0;H<16;++H)$[H]=I[Z++]|I[Z++]<<8|I[Z++]<<16|I[Z++]<<24;I=q.g[0],Z=q.g[1],H=q.g[2];let K=q.g[3],F;F=I+(K^Z&(H^K))+$[0]+3614090360&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=K+(H^I&(Z^H))+$[1]+3905402710&4294967295,K=I+(F<<12&4294967295|F>>>20),F=H+(Z^K&(I^Z))+$[2]+606105819&4294967295,H=K+(F<<17&4294967295|F>>>15),F=Z+(I^H&(K^I))+$[3]+3250441966&4294967295,Z=H+(F<<22&4294967295|F>>>10),F=I+(K^Z&(H^K))+$[4]+4118548399&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=K+(H^I&(Z^H))+$[5]+1200080426&4294967295,K=I+(F<<12&4294967295|F>>>20),F=H+(Z^K&(I^Z))+$[6]+2821735955&4294967295,H=K+(F<<17&4294967295|F>>>15),F=Z+(I^H&(K^I))+$[7]+4249261313&4294967295,Z=H+(F<<22&4294967295|F>>>10),F=I+(K^Z&(H^K))+$[8]+1770035416&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=K+(H^I&(Z^H))+$[9]+2336552879&4294967295,K=I+(F<<12&4294967295|F>>>20),F=H+(Z^K&(I^Z))+$[10]+4294925233&4294967295,H=K+(F<<17&4294967295|F>>>15),F=Z+(I^H&(K^I))+$[11]+2304563134&4294967295,Z=H+(F<<22&4294967295|F>>>10),F=I+(K^Z&(H^K))+$[12]+1804603682&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=K+(H^I&(Z^H))+$[13]+4254626195&4294967295,K=I+(F<<12&4294967295|F>>>20),F=H+(Z^K&(I^Z))+$[14]+2792965006&4294967295,H=K+(F<<17&4294967295|F>>>15),F=Z+(I^H&(K^I))+$[15]+1236535329&4294967295,Z=H+(F<<22&4294967295|F>>>10),F=I+(H^K&(Z^H))+$[1]+4129170786&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=K+(Z^H&(I^Z))+$[6]+3225465664&4294967295,K=I+(F<<9&4294967295|F>>>23),F=H+(I^Z&(K^I))+$[11]+643717713&4294967295,H=K+(F<<14&4294967295|F>>>18),F=Z+(K^I&(H^K))+$[0]+3921069994&4294967295,Z=H+(F<<20&4294967295|F>>>12),F=I+(H^K&(Z^H))+$[5]+3593408605&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=K+(Z^H&(I^Z))+$[10]+38016083&4294967295,K=I+(F<<9&4294967295|F>>>23),F=H+(I^Z&(K^I))+$[15]+3634488961&4294967295,H=K+(F<<14&4294967295|F>>>18),F=Z+(K^I&(H^K))+$[4]+3889429448&4294967295,Z=H+(F<<20&4294967295|F>>>12),F=I+(H^K&(Z^H))+$[9]+568446438&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=K+(Z^H&(I^Z))+$[14]+3275163606&4294967295,K=I+(F<<9&4294967295|F>>>23),F=H+(I^Z&(K^I))+$[3]+4107603335&4294967295,H=K+(F<<14&4294967295|F>>>18),F=Z+(K^I&(H^K))+$[8]+1163531501&4294967295,Z=H+(F<<20&4294967295|F>>>12),F=I+(H^K&(Z^H))+$[13]+2850285829&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=K+(Z^H&(I^Z))+$[2]+4243563512&4294967295,K=I+(F<<9&4294967295|F>>>23),F=H+(I^Z&(K^I))+$[7]+1735328473&4294967295,H=K+(F<<14&4294967295|F>>>18),F=Z+(K^I&(H^K))+$[12]+2368359562&4294967295,Z=H+(F<<20&4294967295|F>>>12),F=I+(Z^H^K)+$[5]+4294588738&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=K+(I^Z^H)+$[8]+2272392833&4294967295,K=I+(F<<11&4294967295|F>>>21),F=H+(K^I^Z)+$[11]+1839030562&4294967295,H=K+(F<<16&4294967295|F>>>16),F=Z+(H^K^I)+$[14]+4259657740&4294967295,Z=H+(F<<23&4294967295|F>>>9),F=I+(Z^H^K)+$[1]+2763975236&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=K+(I^Z^H)+$[4]+1272893353&4294967295,K=I+(F<<11&4294967295|F>>>21),F=H+(K^I^Z)+$[7]+4139469664&4294967295,H=K+(F<<16&4294967295|F>>>16),F=Z+(H^K^I)+$[10]+3200236656&4294967295,Z=H+(F<<23&4294967295|F>>>9),F=I+(Z^H^K)+$[13]+681279174&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=K+(I^Z^H)+$[0]+3936430074&4294967295,K=I+(F<<11&4294967295|F>>>21),F=H+(K^I^Z)+$[3]+3572445317&4294967295,H=K+(F<<16&4294967295|F>>>16),F=Z+(H^K^I)+$[6]+76029189&4294967295,Z=H+(F<<23&4294967295|F>>>9),F=I+(Z^H^K)+$[9]+3654602809&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=K+(I^Z^H)+$[12]+3873151461&4294967295,K=I+(F<<11&4294967295|F>>>21),F=H+(K^I^Z)+$[15]+530742520&4294967295,H=K+(F<<16&4294967295|F>>>16),F=Z+(H^K^I)+$[2]+3299628645&4294967295,Z=H+(F<<23&4294967295|F>>>9),F=I+(H^(Z|~K))+$[0]+4096336452&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=K+(Z^(I|~H))+$[7]+1126891415&4294967295,K=I+(F<<10&4294967295|F>>>22),F=H+(I^(K|~Z))+$[14]+2878612391&4294967295,H=K+(F<<15&4294967295|F>>>17),F=Z+(K^(H|~I))+$[5]+4237533241&4294967295,Z=H+(F<<21&4294967295|F>>>11),F=I+(H^(Z|~K))+$[12]+1700485571&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=K+(Z^(I|~H))+$[3]+2399980690&4294967295,K=I+(F<<10&4294967295|F>>>22),F=H+(I^(K|~Z))+$[10]+4293915773&4294967295,H=K+(F<<15&4294967295|F>>>17),F=Z+(K^(H|~I))+$[1]+2240044497&4294967295,Z=H+(F<<21&4294967295|F>>>11),F=I+(H^(Z|~K))+$[8]+1873313359&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=K+(Z^(I|~H))+$[15]+4264355552&4294967295,K=I+(F<<10&4294967295|F>>>22),F=H+(I^(K|~Z))+$[6]+2734768916&4294967295,H=K+(F<<15&4294967295|F>>>17),F=Z+(K^(H|~I))+$[13]+1309151649&4294967295,Z=H+(F<<21&4294967295|F>>>11),F=I+(H^(Z|~K))+$[4]+4149444226&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=K+(Z^(I|~H))+$[11]+3174756917&4294967295,K=I+(F<<10&4294967295|F>>>22),F=H+(I^(K|~Z))+$[2]+718787259&4294967295,H=K+(F<<15&4294967295|F>>>17),F=Z+(K^(H|~I))+$[9]+3951481745&4294967295,q.g[0]=q.g[0]+I&4294967295,q.g[1]=q.g[1]+(H+(F<<21&4294967295|F>>>11))&4294967295,q.g[2]=q.g[2]+H&4294967295,q.g[3]=q.g[3]+K&4294967295}s.prototype.v=function(q,I){I===void 0&&(I=q.length);const Z=I-this.blockSize,$=this.C;let H=this.h,K=0;for(;K<I;){if(H==0)for(;K<=Z;)o(this,q,K),K+=this.blockSize;if(typeof q=="string"){for(;K<I;)if($[H++]=q.charCodeAt(K++),H==this.blockSize){o(this,$),H=0;break}}else for(;K<I;)if($[H++]=q[K++],H==this.blockSize){o(this,$),H=0;break}}this.h=H,this.o+=I},s.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var I=1;I<q.length-8;++I)q[I]=0;I=this.o*8;for(var Z=q.length-8;Z<q.length;++Z)q[Z]=I&255,I/=256;for(this.v(q),q=Array(16),I=0,Z=0;Z<4;++Z)for(let $=0;$<32;$+=8)q[I++]=this.g[Z]>>>$&255;return q};function c(q,I){var Z=_;return Object.prototype.hasOwnProperty.call(Z,q)?Z[q]:Z[q]=I(q)}function h(q,I){this.h=I;const Z=[];let $=!0;for(let H=q.length-1;H>=0;H--){const K=q[H]|0;$&&K==I||(Z[H]=K,$=!1)}this.g=Z}var _={};function p(q){return-128<=q&&q<128?c(q,function(I){return new h([I|0],I<0?-1:0)}):new h([q|0],q<0?-1:0)}function v(q){if(isNaN(q)||!isFinite(q))return E;if(q<0)return k(v(-q));const I=[];let Z=1;for(let $=0;q>=Z;$++)I[$]=q/Z|0,Z*=4294967296;return new h(I,0)}function w(q,I){if(q.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(q.charAt(0)=="-")return k(w(q.substring(1),I));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const Z=v(Math.pow(I,8));let $=E;for(let K=0;K<q.length;K+=8){var H=Math.min(8,q.length-K);const F=parseInt(q.substring(K,K+H),I);H<8?(H=v(Math.pow(I,H)),$=$.j(H).add(v(F))):($=$.j(Z),$=$.add(v(F)))}return $}var E=p(0),C=p(1),R=p(16777216);n=h.prototype,n.m=function(){if(z(this))return-k(this).m();let q=0,I=1;for(let Z=0;Z<this.g.length;Z++){const $=this.i(Z);q+=($>=0?$:4294967296+$)*I,I*=4294967296}return q},n.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(j(this))return"0";if(z(this))return"-"+k(this).toString(q);const I=v(Math.pow(q,6));var Z=this;let $="";for(;;){const H=ne(Z,I).g;Z=V(Z,H.j(I));let K=((Z.g.length>0?Z.g[0]:Z.h)>>>0).toString(q);if(Z=H,j(Z))return K+$;for(;K.length<6;)K="0"+K;$=K+$}},n.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function j(q){if(q.h!=0)return!1;for(let I=0;I<q.g.length;I++)if(q.g[I]!=0)return!1;return!0}function z(q){return q.h==-1}n.l=function(q){return q=V(this,q),z(q)?-1:j(q)?0:1};function k(q){const I=q.g.length,Z=[];for(let $=0;$<I;$++)Z[$]=~q.g[$];return new h(Z,~q.h).add(C)}n.abs=function(){return z(this)?k(this):this},n.add=function(q){const I=Math.max(this.g.length,q.g.length),Z=[];let $=0;for(let H=0;H<=I;H++){let K=$+(this.i(H)&65535)+(q.i(H)&65535),F=(K>>>16)+(this.i(H)>>>16)+(q.i(H)>>>16);$=F>>>16,K&=65535,F&=65535,Z[H]=F<<16|K}return new h(Z,Z[Z.length-1]&-2147483648?-1:0)};function V(q,I){return q.add(k(I))}n.j=function(q){if(j(this)||j(q))return E;if(z(this))return z(q)?k(this).j(k(q)):k(k(this).j(q));if(z(q))return k(this.j(k(q)));if(this.l(R)<0&&q.l(R)<0)return v(this.m()*q.m());const I=this.g.length+q.g.length,Z=[];for(var $=0;$<2*I;$++)Z[$]=0;for($=0;$<this.g.length;$++)for(let H=0;H<q.g.length;H++){const K=this.i($)>>>16,F=this.i($)&65535,Se=q.i(H)>>>16,be=q.i(H)&65535;Z[2*$+2*H]+=F*be,B(Z,2*$+2*H),Z[2*$+2*H+1]+=K*be,B(Z,2*$+2*H+1),Z[2*$+2*H+1]+=F*Se,B(Z,2*$+2*H+1),Z[2*$+2*H+2]+=K*Se,B(Z,2*$+2*H+2)}for(q=0;q<I;q++)Z[q]=Z[2*q+1]<<16|Z[2*q];for(q=I;q<2*I;q++)Z[q]=0;return new h(Z,0)};function B(q,I){for(;(q[I]&65535)!=q[I];)q[I+1]+=q[I]>>>16,q[I]&=65535,I++}function G(q,I){this.g=q,this.h=I}function ne(q,I){if(j(I))throw Error("division by zero");if(j(q))return new G(E,E);if(z(q))return I=ne(k(q),I),new G(k(I.g),k(I.h));if(z(I))return I=ne(q,k(I)),new G(k(I.g),I.h);if(q.g.length>30){if(z(q)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var Z=C,$=I;$.l(q)<=0;)Z=te(Z),$=te($);var H=ye(Z,1),K=ye($,1);for($=ye($,2),Z=ye(Z,2);!j($);){var F=K.add($);F.l(q)<=0&&(H=H.add(Z),K=F),$=ye($,1),Z=ye(Z,1)}return I=V(q,H.j(I)),new G(H,I)}for(H=E;q.l(I)>=0;){for(Z=Math.max(1,Math.floor(q.m()/I.m())),$=Math.ceil(Math.log(Z)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),K=v(Z),F=K.j(I);z(F)||F.l(q)>0;)Z-=$,K=v(Z),F=K.j(I);j(K)&&(K=C),H=H.add(K),q=V(q,F)}return new G(H,q)}n.B=function(q){return ne(this,q).h},n.and=function(q){const I=Math.max(this.g.length,q.g.length),Z=[];for(let $=0;$<I;$++)Z[$]=this.i($)&q.i($);return new h(Z,this.h&q.h)},n.or=function(q){const I=Math.max(this.g.length,q.g.length),Z=[];for(let $=0;$<I;$++)Z[$]=this.i($)|q.i($);return new h(Z,this.h|q.h)},n.xor=function(q){const I=Math.max(this.g.length,q.g.length),Z=[];for(let $=0;$<I;$++)Z[$]=this.i($)^q.i($);return new h(Z,this.h^q.h)};function te(q){const I=q.g.length+1,Z=[];for(let $=0;$<I;$++)Z[$]=q.i($)<<1|q.i($-1)>>>31;return new h(Z,q.h)}function ye(q,I){const Z=I>>5;I%=32;const $=q.g.length-Z,H=[];for(let K=0;K<$;K++)H[K]=I>0?q.i(K+Z)>>>I|q.i(K+Z+1)<<32-I:q.i(K+Z);return new h(H,q.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,EE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Mo=h}).apply(typeof Hb<"u"?Hb:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TE,id,SE,gf,hy,AE,NE,CE;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var T=0;T<m.length;++T){var N=m[T];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=t(this);function o(m,T){if(T)e:{var N=s;m=m.split(".");for(var U=0;U<m.length-1;U++){var re=m[U];if(!(re in N))break e;N=N[re]}m=m[m.length-1],U=N[m],T=T(U),T!=U&&T!=null&&e(N,m,{configurable:!0,writable:!0,value:T})}}o("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(m){return m||function(T){var N=[],U;for(U in T)Object.prototype.hasOwnProperty.call(T,U)&&N.push([U,T[U]]);return N}});var c=c||{},h=this||self;function _(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function p(m,T,N){return m.call.apply(m.bind,arguments)}function v(m,T,N){return v=p,v.apply(null,arguments)}function w(m,T){var N=Array.prototype.slice.call(arguments,1);return function(){var U=N.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function E(m,T){function N(){}N.prototype=T.prototype,m.Z=T.prototype,m.prototype=new N,m.prototype.constructor=m,m.Ob=function(U,re,de){for(var Ne=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)Ne[Qe-2]=arguments[Qe];return T.prototype[re].apply(U,Ne)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function R(m){const T=m.length;if(T>0){const N=Array(T);for(let U=0;U<T;U++)N[U]=m[U];return N}return[]}function j(m,T){for(let U=1;U<arguments.length;U++){const re=arguments[U];var N=typeof re;if(N=N!="object"?N:re?Array.isArray(re)?"array":N:"null",N=="array"||N=="object"&&typeof re.length=="number"){N=m.length||0;const de=re.length||0;m.length=N+de;for(let Ne=0;Ne<de;Ne++)m[N+Ne]=re[Ne]}else m.push(re)}}class z{constructor(T,N){this.i=T,this.j=N,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function k(m){h.setTimeout(()=>{throw m},0)}function V(){var m=q;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class B{constructor(){this.h=this.g=null}add(T,N){const U=G.get();U.set(T,N),this.h?this.h.next=U:this.g=U,this.h=U}}var G=new z(()=>new ne,m=>m.reset());class ne{constructor(){this.next=this.g=this.h=null}set(T,N){this.h=T,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ye=!1,q=new B,I=()=>{const m=Promise.resolve(void 0);te=()=>{m.then(Z)}};function Z(){for(var m;m=V();){try{m.h.call(m.g)}catch(N){k(N)}var T=G;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}ye=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};h.addEventListener("test",N,T),h.removeEventListener("test",N,T)}catch{}return m})();function F(m){return/^[\s\xa0]*$/.test(m)}function Se(m,T){H.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}E(Se,H),Se.prototype.init=function(m,T){const N=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(N=="mouseover"?T=m.fromElement:N=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),W=0;function me(m,T,N,U,re){this.listener=m,this.proxy=null,this.src=T,this.type=N,this.capture=!!U,this.ha=re,this.key=++W,this.da=this.fa=!1}function ae(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Re(m,T,N){for(const U in m)T.call(N,m[U],U,m)}function fe(m,T){for(const N in m)T.call(void 0,m[N],N,m)}function O(m){const T={};for(const N in m)T[N]=m[N];return T}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(m,T){let N,U;for(let re=1;re<arguments.length;re++){U=arguments[re];for(N in U)m[N]=U[N];for(let de=0;de<ee.length;de++)N=ee[de],Object.prototype.hasOwnProperty.call(U,N)&&(m[N]=U[N])}}function xe(m){this.src=m,this.g={},this.h=0}xe.prototype.add=function(m,T,N,U,re){const de=m.toString();m=this.g[de],m||(m=this.g[de]=[],this.h++);const Ne=Ae(m,T,U,re);return Ne>-1?(T=m[Ne],N||(T.fa=!1)):(T=new me(T,this.src,de,!!U,re),T.fa=N,m.push(T)),T};function Ce(m,T){const N=T.type;if(N in m.g){var U=m.g[N],re=Array.prototype.indexOf.call(U,T,void 0),de;(de=re>=0)&&Array.prototype.splice.call(U,re,1),de&&(ae(T),m.g[N].length==0&&(delete m.g[N],m.h--))}}function Ae(m,T,N,U){for(let re=0;re<m.length;++re){const de=m[re];if(!de.da&&de.listener==T&&de.capture==!!N&&de.ha==U)return re}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Nt={};function It(m,T,N,U,re){if(Array.isArray(T)){for(let de=0;de<T.length;de++)It(m,T[de],N,U,re);return null}return N=hi(N),m&&m[be]?m.J(T,N,_(U)?!!U.capture:!1,re):$i(m,T,N,!1,U,re)}function $i(m,T,N,U,re,de){if(!T)throw Error("Invalid event type");const Ne=_(re)?!!re.capture:!!re;let Qe=Si(m);if(Qe||(m[He]=Qe=new xe(m)),N=Qe.add(T,N,U,Ne,de),N.proxy)return N;if(U=ys(),N.proxy=U,U.src=m,U.listener=N,m.addEventListener)K||(re=Ne),re===void 0&&(re=!1),m.addEventListener(T.toString(),U,re);else if(m.attachEvent)m.attachEvent(Qn(T.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ys(){function m(N){return T.call(m.src,m.listener,N)}const T=_s;return m}function jn(m,T,N,U,re){if(Array.isArray(T))for(var de=0;de<T.length;de++)jn(m,T[de],N,U,re);else U=_(U)?!!U.capture:!!U,N=hi(N),m&&m[be]?(m=m.i,de=String(T).toString(),de in m.g&&(T=m.g[de],N=Ae(T,N,U,re),N>-1&&(ae(T[N]),Array.prototype.splice.call(T,N,1),T.length==0&&(delete m.g[de],m.h--)))):m&&(m=Si(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Ae(T,N,U,re)),(N=m>-1?T[m]:null)&&Ti(N))}function Ti(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[be])Ce(T.i,m);else{var N=m.type,U=m.proxy;T.removeEventListener?T.removeEventListener(N,U,m.capture):T.detachEvent?T.detachEvent(Qn(N),U):T.addListener&&T.removeListener&&T.removeListener(U),(N=Si(T))?(Ce(N,m),N.h==0&&(N.src=null,T[He]=null)):ae(m)}}}function Qn(m){return m in Nt?Nt[m]:Nt[m]="on"+m}function _s(m,T){if(m.da)m=!0;else{T=new Se(T,this);const N=m.listener,U=m.ha||m.src;m.fa&&Ti(m),m=N.call(U,T)}return m}function Si(m){return m=m[He],m instanceof xe?m:null}var Zi="__closure_events_fn_"+(Math.random()*1e9>>>0);function hi(m){return typeof m=="function"?m:(m[Zi]||(m[Zi]=function(T){return m.handleEvent(T)}),m[Zi])}function qt(){$.call(this),this.i=new xe(this),this.M=this,this.G=null}E(qt,$),qt.prototype[be]=!0,qt.prototype.removeEventListener=function(m,T,N,U){jn(this,m,T,N,U)};function Qt(m,T){var N,U=m.G;if(U)for(N=[];U;U=U.G)N.push(U);if(m=m.M,U=T.type||T,typeof T=="string")T=new H(T,m);else if(T instanceof H)T.target=T.target||m;else{var re=T;T=new H(U,m),pe(T,re)}re=!0;let de,Ne;if(N)for(Ne=N.length-1;Ne>=0;Ne--)de=T.g=N[Ne],re=Ai(de,U,!0,T)&&re;if(de=T.g=m,re=Ai(de,U,!0,T)&&re,re=Ai(de,U,!1,T)&&re,N)for(Ne=0;Ne<N.length;Ne++)de=T.g=N[Ne],re=Ai(de,U,!1,T)&&re}qt.prototype.N=function(){if(qt.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const N=m.g[T];for(let U=0;U<N.length;U++)ae(N[U]);delete m.g[T],m.h--}}this.G=null},qt.prototype.J=function(m,T,N,U){return this.i.add(String(m),T,!1,N,U)},qt.prototype.K=function(m,T,N,U){return this.i.add(String(m),T,!0,N,U)};function Ai(m,T,N,U){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let re=!0;for(let de=0;de<T.length;++de){const Ne=T[de];if(Ne&&!Ne.da&&Ne.capture==N){const Qe=Ne.listener,_t=Ne.ha||Ne.src;Ne.fa&&Ce(m.i,Ne),re=Qe.call(_t,U)!==!1&&re}}return re&&!U.defaultPrevented}function ka(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:h.setTimeout(m,T||0)}function Gr(m){m.g=ka(()=>{m.g=null,m.i&&(m.i=!1,Gr(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Cn extends ${constructor(T,N){super(),this.m=T,this.l=N,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Gr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(m){$.call(this),this.h=m,this.g={}}E(Us,$);var Bs=[];function dr(m){Re(m.g,function(T,N){this.g.hasOwnProperty(N)&&Ti(T)},m),m.g={}}Us.prototype.N=function(){Us.Z.N.call(this),dr(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=h.JSON.stringify,Ko=h.JSON.parse,$r=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function Zr(){}function Da(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){H.call(this,"d")}E(en,H);function Fn(){H.call(this,"c")}E(Fn,H);var Ft={},X=null;function je(){return X=X||new qt}Ft.Ia="serverreachability";function ze(m){H.call(this,Ft.Ia,m)}E(ze,H);function Be(m){const T=je();Qt(T,new ze(T))}Ft.STAT_EVENT="statevent";function dt(m,T){H.call(this,Ft.STAT_EVENT,m),this.stat=T}E(dt,H);function We(m){const T=je();Qt(T,new dt(T,m))}Ft.Ja="timingevent";function rn(m,T){H.call(this,Ft.Ja,m),this.size=T}E(rn,H);function Ni(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},T)}function Yi(){this.g=!0}Yi.prototype.ua=function(){this.g=!1};function du(m,T,N,U,re,de){m.info(function(){if(m.g)if(de){var Ne="",Qe=de.split("&");for(let vt=0;vt<Qe.length;vt++){var _t=Qe[vt].split("=");if(_t.length>1){const Ut=_t[0];_t=_t[1];const ki=Ut.split("_");Ne=ki.length>=2&&ki[1]=="type"?Ne+(Ut+"="+_t+"&"):Ne+(Ut+"=redacted&")}}}else Ne=null;else Ne=de;return"XMLHTTP REQ ("+U+") [attempt "+re+"]: "+T+`
`+N+`
`+Ne})}function ec(m,T,N,U,re,de,Ne){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+re+"]: "+T+`
`+N+`
`+de+" "+Ne})}function vs(m,T,N,U){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+hu(m,N)+(U?" "+U:"")})}function qs(m,T){m.info(function(){return"TIMEOUT: "+T})}Yi.prototype.info=function(){};function hu(m,T){if(!m.g)return T;if(!T)return null;try{const de=JSON.parse(T);if(de){for(m=0;m<de.length;m++)if(Array.isArray(de[m])){var N=de[m];if(!(N.length<2)){var U=N[1];if(Array.isArray(U)&&!(U.length<1)){var re=U[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Ne=1;Ne<U.length;Ne++)U[Ne]=""}}}}return Ki(de)}catch{return T}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wo;function Ln(){}E(Ln,Zr),Ln.prototype.g=function(){return new XMLHttpRequest},Wo=new Ln;function ke(m){return encodeURIComponent(String(m))}function Qo(m){var T=1;m=m.split(":");const N=[];for(;T>0&&m.length;)N.push(m.shift()),T--;return m.length&&N.push(m.join(":")),N}function Ci(m,T,N,U){this.j=m,this.i=T,this.l=N,this.S=U||1,this.V=new Us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ri}function Ri(){this.i=null,this.g="",this.h=!1}var tn={},an={};function Wi(m,T,N){m.M=1,m.A=Pt(Gt(T)),m.u=N,m.R=!0,Qi(m,null)}function Qi(m,T){m.F=Date.now(),xs(m),m.B=Gt(m.A);var N=m.B,U=m.S;Array.isArray(U)||(U=[String(U)]),fr(N.i,"t",U),m.C=0,N=m.j.L,m.h=new Ri,m.g=sl(m.j,N?T:null,!m.u),m.P>0&&(m.O=new Cn(v(m.Y,m,m.g),m.P)),T=m.V,N=m.g,U=m.ba;var re="readystatechange";Array.isArray(re)||(re&&(Bs[0]=re.toString()),re=Bs);for(let de=0;de<re.length;de++){const Ne=It(N,re[de],U||T.handleEvent,!1,T.h||T);if(!Ne)break;T.g[Ne.key]=Ne}T=m.J?O(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Be(),du(m.i,m.v,m.B,m.l,m.S,m.u)}Ci.prototype.ba=function(m){m=m.target;const T=this.O;T&&ts(m)==3?T.j():this.Y(m)},Ci.prototype.Y=function(m){try{if(m==this.g)e:{const Qe=ts(this.g),_t=this.g.ya(),vt=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||xn(this.g)))){this.K||Qe!=4||_t==7||(_t==8||vt<=0?Be(3):Be(2)),Xi(this);var T=this.g.ca();this.X=T;var N=tc(this);if(this.o=T==200,ec(this.i,this.v,this.B,this.l,this.S,Qe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var U,re=this.g;if((U=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(U)){var de=U;break t}}de=null}if(m=de)vs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bs(this,m);else{this.o=!1,this.m=3,We(12),kn(this),Ii(this);break e}}if(this.R){m=!0;let Ut;for(;!this.K&&this.C<N.length;)if(Ut=ic(this,N),Ut==an){Qe==4&&(this.m=4,We(14),m=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==tn){this.m=4,We(15),vs(this.i,this.l,N,"[Invalid Chunk]"),m=!1;break}else vs(this.i,this.l,Ut,null),bs(this,Ut);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||N.length!=0||this.h.h||(this.m=1,We(16),m=!1),this.o=this.o&&m,!m)vs(this.i,this.l,N,"[Invalid Chunked Response]"),kn(this),Ii(this);else if(N.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),nl(Ne),Ne.P=!0,We(11))}}else vs(this.i,this.l,N,null),bs(this,N);Qe==4&&kn(this),this.o&&!this.K&&(Qe==4?pi(this.j,this):(this.o=!1,xs(this)))}else ns(this.g),T==400&&N.indexOf("Unknown SID")>0?(this.m=3,We(12)):(this.m=0,We(13)),kn(this),Ii(this)}}}catch{}};function tc(m){if(!nc(m))return m.g.la();const T=xn(m.g);if(T==="")return"";let N="";const U=T.length,re=ts(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return kn(m),Ii(m),"";m.h.i=new h.TextDecoder}for(let de=0;de<U;de++)m.h.h=!0,N+=m.h.i.decode(T[de],{stream:!(re&&de==U-1)});return T.length=0,m.h.g+=N,m.C=0,m.h.g}function nc(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function ic(m,T){var N=m.C,U=T.indexOf(`
`,N);return U==-1?an:(N=Number(T.substring(N,U)),isNaN(N)?tn:(U+=1,U+N>T.length?an:(T=T.slice(U,U+N),m.C=U+N,T)))}Ci.prototype.cancel=function(){this.K=!0,kn(this)};function xs(m){m.T=Date.now()+m.H,Oa(m,m.H)}function Oa(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ni(v(m.aa,m),T)}function Xi(m){m.D&&(h.clearTimeout(m.D),m.D=null)}Ci.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(qs(this.i,this.B),this.M!=2&&(Be(),We(17)),kn(this),this.m=2,Ii(this)):Oa(this,this.T-m)};function Ii(m){m.j.I==0||m.K||pi(m.j,m)}function kn(m){Xi(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,dr(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function bs(m,T){try{var N=m.j;if(N.I!=0&&(N.g==m||Pi(N.h,m))){if(!m.L&&Pi(N.h,m)&&N.I==3){try{var U=N.Ba.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var re=U;if(re[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<m.F)Fa(N),yr(N);else break e;ea(N),We(18)}}else N.xa=re[1],0<N.xa-N.K&&re[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Ni(v(N.Va,N),6e3));ws(N.h)<=1&&N.ta&&(N.ta=void 0)}else is(N,11)}else if((m.L||N.g==m)&&Fa(N),!F(T))for(re=N.Ba.g.parse(T),T=0;T<re.length;T++){let vt=re[T];const Ut=vt[0];if(!(Ut<=N.K))if(N.K=Ut,vt=vt[1],N.I==2)if(vt[0]=="c"){N.M=vt[1],N.ba=vt[2];const ki=vt[3];ki!=null&&(N.ka=ki,N.j.info("VER="+N.ka));const Di=vt[4];Di!=null&&(N.za=Di,N.j.info("SVER="+N.za));const gi=vt[5];gi!=null&&typeof gi=="number"&&gi>0&&(U=1.5*gi,N.O=U,N.j.info("backChannelRequestTimeoutMs_="+U)),U=N;const rs=m.g;if(rs){const ta=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var de=U.h;de.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Hs(de,de.h),de.h=null))}if(U.G){const na=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;na&&(U.wa=na,Me(U.J,U.G,na))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-m.F,N.j.info("Handshake RTT: "+N.T+"ms")),U=N;var Ne=m;if(U.na=il(U,U.L?U.ba:null,U.W),Ne.L){Va(U.h,Ne);var Qe=Ne,_t=U.O;_t&&(Qe.H=_t),Qe.D&&(Xi(Qe),xs(Qe)),U.g=Ne}else tl(U);N.i.length>0&&ni(N)}else vt[0]!="stop"&&vt[0]!="close"||is(N,7);else N.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?is(N,7):rt(N):vt[0]!="noop"&&N.l&&N.l.qa(vt),N.A=0)}}Be(4)}catch{}}var on=class{constructor(m,T){this.g=m,this.map=T}};function Xo(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ws(m){return m.h?1:m.g?m.g.size:0}function Pi(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Hs(m,T){m.g?m.g.add(T):m.h=T}function Va(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Xo.prototype.cancel=function(){if(this.i=za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function za(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const N of m.g.values())T=T.concat(N.G);return T}return R(m.i)}var hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(m,T){if(m){m=m.split("&");for(let N=0;N<m.length;N++){const U=m[N].indexOf("=");let re,de=null;U>=0?(re=m[N].substring(0,U),de=m[N].substring(U+1)):re=m[N],T(re,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function ot(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof ot?(this.l=m.l,$t(this,m.j),this.o=m.o,this.g=m.g,fi(this,m.u),this.h=m.h,Yr(this,Xr(m.i)),this.m=m.m):m&&(T=String(m).match(hr))?(this.l=!1,$t(this,T[1]||"",!0),this.o=Mi(T[2]||""),this.g=Mi(T[3]||"",!0),fi(this,T[4]),this.h=Mi(T[5]||"",!0),Yr(this,T[6]||"",!0),this.m=Mi(T[7]||"")):(this.l=!1,this.i=new ji(null,this.l))}ot.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Es(T,Ua,!0),":");var N=this.g;return(N||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Es(T,Ua,!0),"@"),m.push(ke(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&m.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(Es(N,N.charAt(0)=="/"?Ji:Wr,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",Es(N,Ts)),m.join("")},ot.prototype.resolve=function(m){const T=Gt(this);let N=!!m.j;N?$t(T,m.j):N=!!m.o,N?T.o=m.o:N=!!m.g,N?T.g=m.g:N=m.u!=null;var U=m.h;if(N)fi(T,m.u);else if(N=!!m.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var re=T.h.lastIndexOf("/");re!=-1&&(U=T.h.slice(0,re+1)+U)}if(re=U,re==".."||re==".")U="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){U=re.lastIndexOf("/",0)==0,re=re.split("/");const de=[];for(let Ne=0;Ne<re.length;){const Qe=re[Ne++];Qe=="."?U&&Ne==re.length&&de.push(""):Qe==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),U&&Ne==re.length&&de.push("")):(de.push(Qe),U=!0)}U=de.join("/")}else U=re}return N?T.h=U:N=m.i.toString()!=="",N?Yr(T,Xr(m.i)):N=!!m.m,N&&(T.m=m.m),T};function Gt(m){return new ot(m)}function $t(m,T,N){m.j=N?Mi(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function fi(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Yr(m,T,N){T instanceof ji?(m.i=T,mr(m.i,m.l)):(N||(T=Es(T,Mt)),m.i=new ji(T,m.l))}function Me(m,T,N){m.i.set(T,N)}function Pt(m){return Me(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Mi(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Es(m,T,N){return typeof m=="string"?(m=encodeURI(m).replace(T,zt),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zt(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ua=/[#\/\?@]/g,Wr=/[#\?:]/g,Ji=/[#\?]/g,Mt=/[#\?@]/g,Ts=/#/g;function ji(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function vn(m){m.g||(m.g=new Map,m.h=0,m.i&&at(m.i,function(T,N){m.add(decodeURIComponent(T.replace(/\+/g," ")),N)}))}n=ji.prototype,n.add=function(m,T){vn(this),this.i=null,m=Ss(this,m);let N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(T),this.h+=1,this};function Ba(m,T){vn(m),T=Ss(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function Fs(m,T){return vn(m),T=Ss(m,T),m.g.has(T)}n.forEach=function(m,T){vn(this),this.g.forEach(function(N,U){N.forEach(function(re){m.call(T,re,U,this)},this)},this)};function Qr(m,T){vn(m);let N=[];if(typeof T=="string")Fs(m,T)&&(N=N.concat(m.g.get(Ss(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)N=N.concat(m[T]);return N}n.set=function(m,T){return vn(this),this.i=null,m=Ss(this,m),Fs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},n.get=function(m,T){return m?(m=Qr(this,m),m.length>0?String(m[0]):T):T};function fr(m,T,N){Ba(m,T),N.length>0&&(m.i=null,m.g.set(Ss(m,T),R(N)),m.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let U=0;U<T.length;U++){var N=T[U];const re=ke(N);N=Qr(this,N);for(let de=0;de<N.length;de++){let Ne=re;N[de]!==""&&(Ne+="="+ke(N[de])),m.push(Ne)}}return this.i=m.join("&")};function Xr(m){const T=new ji;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function Ss(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function mr(m,T){T&&!m.j&&(vn(m),m.i=null,m.g.forEach(function(N,U){const re=U.toLowerCase();U!=re&&(Ba(this,U),fr(this,re,N))},m)),m.j=T}function Jn(m,T){const N=new Yi;if(h.Image){const U=new Image;U.onload=w(ei,N,"TestLoadImage: loaded",!0,T,U),U.onerror=w(ei,N,"TestLoadImage: error",!1,T,U),U.onabort=w(ei,N,"TestLoadImage: abort",!1,T,U),U.ontimeout=w(ei,N,"TestLoadImage: timeout",!1,T,U),h.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else T(!1)}function qa(m,T){const N=new Yi,U=new AbortController,re=setTimeout(()=>{U.abort(),ei(N,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:U.signal}).then(de=>{clearTimeout(re),de.ok?ei(N,"TestPingServer: ok",!0,T):ei(N,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(re),ei(N,"TestPingServer: error",!1,T)})}function ei(m,T,N,U,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),U(N)}catch{}}function pr(){this.g=new $r}function $e(m){this.i=m.Sb||null,this.h=m.ab||!1}E($e,Zr),$e.prototype.g=function(){return new Dn(this.i,this.h)};function Dn(m,T){qt.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Dn,qt),n=Dn.prototype,n.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,mi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||h).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wt(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function wt(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Gs(this):mi(this),this.readyState==3&&wt(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Gs(this))},n.Na=function(m){this.g&&(this.response=m,Gs(this))},n.ga=function(){this.g&&Gs(this)};function Gs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,mi(m)}n.setRequestHeader=function(m,T){this.A.append(m,T)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var N=T.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=T.next();return m.join(`\r
`)};function mi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ti(m){let T="";return Re(m,function(N,U){T+=U,T+=":",T+=N,T+=`\r
`}),T}function $s(m,T,N){e:{for(U in N){var U=!1;break e}U=!0}U||(N=ti(N),typeof m=="string"?N!=null&&ke(N):Me(m,T,N))}function ht(m){qt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ht,qt);var Li=/^https?$/i,Zs=["POST","PUT"];n=ht.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,T,N,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wo.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(de){Zt(this,de);return}if(m=N||"",N=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var re in U)N.set(re,U[re]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const de of U.keys())N.set(de,U.get(de));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(N.keys()).find(de=>de.toLowerCase()=="content-type"),re=h.FormData&&m instanceof h.FormData,!(Array.prototype.indexOf.call(Zs,T,void 0)>=0)||U||re||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ne]of N)this.g.setRequestHeader(de,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(de){Zt(this,de)}};function Zt(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,es(m),As(m)}function es(m){m.A||(m.A=!0,Qt(m,"complete"),Qt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Qt(this,"complete"),Qt(this,"abort"),As(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),ht.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},n.Xa=function(){gr(this)};function gr(m){if(m.h&&typeof c<"u"){if(m.v&&ts(m)==4)setTimeout(m.Ca.bind(m),0);else if(Qt(m,"readystatechange"),ts(m)==4){m.h=!1;try{const de=m.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var N;if(!(N=T)){var U;if(U=de===0){let Ne=String(m.D).match(hr)[1]||null;!Ne&&h.self&&h.self.location&&(Ne=h.self.location.protocol.slice(0,-1)),U=!Li.test(Ne?Ne.toLowerCase():"")}N=U}if(N)Qt(m,"complete"),Qt(m,"success");else{m.o=6;try{var re=ts(m)>2?m.g.statusText:""}catch{re=""}m.l=re+" ["+m.ca()+"]",es(m)}}finally{As(m)}}}}function As(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const N=m.g;m.g=null,T||Qt(m,"ready");try{N.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ts(m){return m.g?m.g.readyState:0}n.ca=function(){try{return ts(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Ko(T)}};function xn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(m){const T={};m=(m.g&&ts(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(F(m[U]))continue;var N=Qo(m[U]);const re=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const de=T[re]||[];T[re]=de,de.push(N)}fe(T,function(U){return U.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(m,T,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||T}function Ks(m){this.za=0,this.i=[],this.j=new Yi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ns("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ns("baseRetryDelayMs",5e3,m),this.Za=Ns("retryDelaySeedMs",1e4,m),this.Ta=Ns("forwardChannelMaxRetries",2,m),this.va=Ns("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Xo(m&&m.concurrentRequestLimit),this.Ba=new pr,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ks.prototype,n.ka=8,n.I=1,n.connect=function(m,T,N,U){We(0),this.W=m,this.H=T||{},N&&U!==void 0&&(this.H.OSID=N,this.H.OAID=U),this.F=this.X,this.J=il(this,null,this.W),ni(this)};function rt(m){if(On(m),m.I==3){var T=m.V++,N=Gt(m.J);if(Me(N,"SID",m.M),Me(N,"RID",T),Me(N,"TYPE","terminate"),Ys(m,N),T=new Ci(m,m.j,T),T.M=2,T.A=Pt(Gt(N)),N=!1,h.navigator&&h.navigator.sendBeacon)try{N=h.navigator.sendBeacon(T.A.toString(),"")}catch{}!N&&h.Image&&(new Image().src=T.A,N=!0),N||(T.g=sl(T.j,null),T.g.ea(T.A)),T.F=Date.now(),xs(T)}ss(m)}function yr(m){m.g&&(nl(m),m.g.cancel(),m.g=null)}function On(m){yr(m),m.v&&(h.clearTimeout(m.v),m.v=null),Fa(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&h.clearTimeout(m.m),m.m=null)}function ni(m){if(!Jo(m.h)&&!m.m){m.m=!0;var T=m.Ea;te||I(),ye||(te(),ye=!0),q.add(T,m),m.D=0}}function Jr(m,T){return ws(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ni(v(m.Ea,m,T),rc(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const re=new Ci(this,this.j,m);let de=this.o;if(this.U&&(de?(de=O(de),pe(de,this.U)):de=this.U),this.u!==null||this.R||(re.J=de,de=null),this.S)e:{for(var T=0,N=0;N<this.i.length;N++){t:{var U=this.i[N];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(T+=U,T>4096){T=N;break e}if(T===4096||N===this.i.length-1){T=N+1;break e}}T=1e3}else T=1e3;T=sc(this,re,T),N=Gt(this.J),Me(N,"RID",m),Me(N,"CVER",22),this.G&&Me(N,"X-HTTP-Session-Id",this.G),Ys(this,N),de&&(this.R?T="headers="+ke(ti(de))+"&"+T:this.u&&$s(N,this.u,de)),Hs(this.h,re),this.Ra&&Me(N,"TYPE","init"),this.S?(Me(N,"$req",T),Me(N,"SID","null"),re.U=!0,Wi(re,N,null)):Wi(re,N,T),this.I=2}}else this.I==3&&(m?el(this,m):this.i.length==0||Jo(this.h)||el(this))};function el(m,T){var N;T?N=T.l:N=m.V++;const U=Gt(m.J);Me(U,"SID",m.M),Me(U,"RID",N),Me(U,"AID",m.K),Ys(m,U),m.u&&m.o&&$s(U,m.u,m.o),N=new Ci(m,m.j,N,m.D+1),m.u===null&&(N.J=m.o),T&&(m.i=T.G.concat(m.i)),T=sc(m,N,1e3),N.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Hs(m.h,N),Wi(N,U,T)}function Ys(m,T){m.H&&Re(m.H,function(N,U){Me(T,U,N)}),m.l&&Re({},function(N,U){Me(T,U,N)})}function sc(m,T,N){N=Math.min(m.i.length,N);const U=m.l?v(m.l.Ka,m.l,m):null;e:{var re=m.i;let Qe=-1;for(;;){const _t=["count="+N];Qe==-1?N>0?(Qe=re[0].g,_t.push("ofs="+Qe)):Qe=0:_t.push("ofs="+Qe);let vt=!0;for(let Ut=0;Ut<N;Ut++){var de=re[Ut].g;const ki=re[Ut].map;if(de-=Qe,de<0)Qe=Math.max(0,re[Ut].g-100),vt=!1;else try{de="req"+de+"_"||"";try{var Ne=ki instanceof Map?ki:Object.entries(ki);for(const[Di,gi]of Ne){let rs=gi;_(gi)&&(rs=Ki(gi)),_t.push(de+Di+"="+encodeURIComponent(rs))}}catch(Di){throw _t.push(de+"type="+encodeURIComponent("_badmap")),Di}}catch{U&&U(ki)}}if(vt){Ne=_t.join("&");break e}}Ne=void 0}return m=m.i.splice(0,N),T.G=m,Ne}function tl(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;te||I(),ye||(te(),ye=!0),q.add(T,m),m.A=0}}function ea(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ni(v(m.Da,m),rc(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Ha(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ni(v(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,We(10),yr(this),Ha(this))};function nl(m){m.B!=null&&(h.clearTimeout(m.B),m.B=null)}function Ha(m){m.g=new Ci(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Gt(m.na);Me(T,"RID","rpc"),Me(T,"SID",m.M),Me(T,"AID",m.K),Me(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&Me(T,"TO",m.ia),Me(T,"TYPE","xmlhttp"),Ys(m,T),m.u&&m.o&&$s(T,m.u,m.o),m.O&&(m.g.H=m.O);var N=m.g;m=m.ba,N.M=1,N.A=Pt(Gt(T)),N.u=null,N.R=!0,Qi(N,m)}n.Va=function(){this.C!=null&&(this.C=null,yr(this),ea(this),We(19))};function Fa(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function pi(m,T){var N=null;if(m.g==T){Fa(m),nl(m),m.g=null;var U=2}else if(Pi(m.h,T))N=T.G,Va(m.h,T),U=1;else return;if(m.I!=0){if(T.o)if(U==1){N=T.u?T.u.length:0,T=Date.now()-T.F;var re=m.D;U=je(),Qt(U,new rn(U,N)),ni(m)}else tl(m);else if(re=T.m,re==3||re==0&&T.X>0||!(U==1&&Jr(m,T)||U==2&&ea(m)))switch(N&&N.length>0&&(T=m.h,T.i=T.i.concat(N)),re){case 1:is(m,5);break;case 4:is(m,10);break;case 3:is(m,6);break;default:is(m,2)}}}function rc(m,T){let N=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(N*=2),N*T}function is(m,T){if(m.j.info("Error code "+T),T==2){var N=v(m.bb,m),U=m.Ua;const re=!U;U=new ot(U||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$t(U,"https"),Pt(U),re?Jn(U.toString(),N):qa(U.toString(),N)}else We(2);m.I=0,m.l&&m.l.pa(T),ss(m),On(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function ss(m){if(m.I=0,m.ja=[],m.l){const T=za(m.h);(T.length!=0||m.i.length!=0)&&(j(m.ja,T),j(m.ja,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.oa()}}function il(m,T,N){var U=N instanceof ot?Gt(N):new ot(N);if(U.g!="")T&&(U.g=T+"."+U.g),fi(U,U.u);else{var re=h.location;U=re.protocol,T=T?T+"."+re.hostname:re.hostname,re=+re.port;const de=new ot(null);U&&$t(de,U),T&&(de.g=T),re&&fi(de,re),N&&(de.h=N),U=de}return N=m.G,T=m.wa,N&&T&&Me(U,N,T),Me(U,"VER",m.ka),Ys(m,U),U}function sl(m,T,N){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new ht(new $e({ab:N})):new ht(m.ma),T.Fa(m.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ga(){}n=Ga.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function _r(){}_r.prototype.g=function(m,T){return new Vn(m,T)};function Vn(m,T){qt.call(this),this.g=new Ks(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!F(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!F(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Ws(this)}E(Vn,qt),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){rt(this.g)},Vn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.v&&(N={},N.__data__=Ki(m),m=N);T.i.push(new on(T.Ya++,m)),T.I==3&&ni(T)},Vn.prototype.N=function(){this.g.l=null,delete this.j,rt(this.g),delete this.g,Vn.Z.N.call(this)};function rl(m){en.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const N in T){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}E(rl,en);function ac(){Fn.call(this),this.status=1}E(ac,Fn);function Ws(m){this.g=m}E(Ws,Ga),Ws.prototype.ra=function(){Qt(this.g,"a")},Ws.prototype.qa=function(m){Qt(this.g,new rl(m))},Ws.prototype.pa=function(m){Qt(this.g,new ac)},Ws.prototype.oa=function(){Qt(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,CE=function(){return new _r},NE=function(){return je()},AE=Ft,hy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,gf=Kr,Yo.COMPLETE="complete",SE=Yo,Da.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",qt.prototype.listen=qt.prototype.J,id=Da,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,TE=ht}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});let li=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");let ru="12.9.0";function mM(n){ru=n}const ql=new Ky("@firebase/firestore");function zc(){return ql.logLevel}function Le(n,...e){if(ql.logLevel<=pt.DEBUG){const t=e.map(o_);ql.debug(`Firestore (${ru}): ${n}`,...t)}}function Ra(n,...e){if(ql.logLevel<=pt.ERROR){const t=e.map(o_);ql.error(`Firestore (${ru}): ${n}`,...t)}}function Hl(n,...e){if(ql.logLevel<=pt.WARN){const t=e.map(o_);ql.warn(`Firestore (${ru}): ${n}`,...t)}}function o_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ye(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,RE(n,s,t)}function RE(n,e,t){let s=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ra(s),new Error(s)}function Rt(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||RE(e,o,s)}function Je(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class IE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(li.UNAUTHENTICATED)))}shutdown(){}}class gM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class yM{constructor(e){this.t=e,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},_=p=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>_(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?_(p):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Rt(typeof s.accessToken=="string",31837,{l:s}),new IE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new li(e)}}class _M{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=li.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class vM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new _M(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(li.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Rt(this.o===void 0,3512);const s=c=>{c.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,Le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class l_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=bM(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function gt(n,e){return n<e?-1:n>e?1:0}function fy(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Pg(o)===Pg(c)?gt(o,c):Pg(o)?1:-1}return gt(n.length,e.length)}const wM=55296,EM=57343;function Pg(n){const e=n.charCodeAt(0);return e>=wM&&e<=EM}function Kc(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const Gb="__name__";class Rr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ye(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ye(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Rr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return gt(e.length,t.length)}static compareSegments(e,t){const s=Rr.isNumericId(e),o=Rr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):fy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mo.fromString(e.substring(4,e.length-2))}}class Ht extends Rr{construct(e,t,s){return new Ht(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Pe(ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ht(t)}static emptyPath(){return new Ht([])}}const TM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Rr{construct(e,t,s){return new Yn(e,t,s)}static isValidIdentifier(e){return TM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gb}static keyField(){return new Yn([Gb])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Pe(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new Pe(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Pe(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else _==="`"?(h=!h,o++):_!=="."||h?(s+=_,o++):(c(),o++)}if(c(),h)throw new Pe(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(t)}static emptyPath(){return new Yn([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Ht.fromString(e))}static fromName(e){return new Ge(Ht.fromString(e).popFirst(5))}static empty(){return new Ge(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Ht(e.slice()))}}function PE(n,e,t){if(!t)throw new Pe(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SM(n,e,t,s){if(e===!0&&s===!0)throw new Pe(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $b(n){if(!Ge.isDocumentKey(n))throw new Pe(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Zb(n){if(Ge.isDocumentKey(n))throw new Pe(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ME(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function lm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ye(12329,{type:typeof n})}function ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lm(n);throw new Pe(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Nn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Vd(n,e){if(!ME(n))throw new Pe(ve.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const h=n[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Pe(ve.INVALID_ARGUMENT,t);return!0}const Kb=-62135596800,Yb=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Yb);return new Wt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kb)throw new Pe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vd(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:Nn("string",Wt._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Wt(0,0))}static max(){return new et(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bd=-1;function AM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=et.fromTimestamp(s===1e9?new Wt(t+1,0):new Wt(t,s));return new Do(o,Ge.empty(),e)}function NM(n){return new Do(n.readTime,n.key,bd)}class Do{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Do(et.min(),Ge.empty(),bd)}static max(){return new Do(et.max(),Ge.empty(),bd)}}function CM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ge.comparator(n.documentKey,e.documentKey),t!==0?t:gt(n.largestBatchId,e.largestBatchId))}const RM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function au(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==RM)throw n;Le("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,s)=>{t(e)}))}static reject(e){return new Te(((t,s)=>{s(e)}))}static waitFor(e){return new Te(((t,s)=>{let o=0,c=0,h=!1;e.forEach((_=>{++o,_.next((()=>{++c,h&&c===o&&t()}),(p=>s(p)))})),h=!0,c===o&&t()}))}static or(e){let t=Te.resolve(!1);for(const s of e)t=t.next((o=>o?Te.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new Te(((s,o)=>{const c=e.length,h=new Array(c);let _=0;for(let p=0;p<c;p++){const v=p;t(e[v]).next((w=>{h[v]=w,++_,_===c&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new Te(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function PM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ou(n){return n.name==="IndexedDbTransactionError"}class cm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cm.ce=-1;const c_=-1;function um(n){return n==null}function Lf(n){return n===0&&1/n==-1/0}function MM(n){return typeof n=="number"&&Number.isInteger(n)&&!Lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const jE="";function jM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Wb(e)),e=LM(n.get(t),e);return Wb(e)}function LM(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case jE:t+="";break;default:t+=c}}return t}function Wb(n){return n+jE+""}function Qb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kM(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function LE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class sn{constructor(e,t){this.comparator=e,this.root=t||Kn.EMPTY}insert(e,t){return new sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tf(this.root,e,this.comparator,!0)}}class tf{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??Kn.RED,this.left=o??Kn.EMPTY,this.right=c??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new Kn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Kn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new Kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xb(this.data.getIterator())}getIteratorFrom(e){return new Xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class Xb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fs{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new fs([])}unionWith(e){let t=new Mn(Yn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kc(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class kE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kE("Invalid base64 string: "+c):c}})(e);return new Wn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const DM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(n){if(Rt(!!n,39018),typeof n=="string"){let e=0;const t=DM.exec(n);if(Rt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_n(n.seconds),nanos:_n(n.nanos)}}function _n(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vo(n){return typeof n=="string"?Wn.fromBase64String(n):Wn.fromUint8Array(n)}const DE="server_timestamp",OE="__type__",VE="__previous_value__",zE="__local_write_time__";function u_(n){return(n?.mapValue?.fields||{})[OE]?.stringValue===DE}function dm(n){const e=n.mapValue.fields[VE];return u_(e)?dm(e):e}function wd(n){const e=Oo(n.mapValue.fields[zE].timestampValue);return new Wt(e.seconds,e.nanos)}class OM{constructor(e,t,s,o,c,h,_,p,v,w,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=_,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=E}}const kf="(default)";class Ed{constructor(e,t){this.projectId=e,this.database=t||kf}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===kf}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}function VM(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Pe(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(n.options.projectId,e)}const UE="__type__",zM="__max__",nf={mapValue:{}},BE="__vector__",Df="value";function zo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u_(n)?4:BM(n)?9007199254740991:UM(n)?10:11:Ye(28295,{value:n})}function Hr(n,e){if(n===e)return!0;const t=zo(n);if(t!==zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wd(n).isEqual(wd(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Oo(o.timestampValue),_=Oo(c.timestampValue);return h.seconds===_.seconds&&h.nanos===_.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return Vo(o.bytesValue).isEqual(Vo(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return _n(o.geoPointValue.latitude)===_n(c.geoPointValue.latitude)&&_n(o.geoPointValue.longitude)===_n(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _n(o.integerValue)===_n(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=_n(o.doubleValue),_=_n(c.doubleValue);return h===_?Lf(h)===Lf(_):isNaN(h)&&isNaN(_)}return!1})(n,e);case 9:return Kc(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},_=c.mapValue.fields||{};if(Qb(h)!==Qb(_))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(_[p]===void 0||!Hr(h[p],_[p])))return!1;return!0})(n,e);default:return Ye(52216,{left:n})}}function Td(n,e){return(n.values||[]).find((t=>Hr(t,e)))!==void 0}function Yc(n,e){if(n===e)return 0;const t=zo(n),s=zo(e);if(t!==s)return gt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return gt(n.booleanValue,e.booleanValue);case 2:return(function(c,h){const _=_n(c.integerValue||c.doubleValue),p=_n(h.integerValue||h.doubleValue);return _<p?-1:_>p?1:_===p?0:isNaN(_)?isNaN(p)?0:-1:1})(n,e);case 3:return Jb(n.timestampValue,e.timestampValue);case 4:return Jb(wd(n),wd(e));case 5:return fy(n.stringValue,e.stringValue);case 6:return(function(c,h){const _=Vo(c),p=Vo(h);return _.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(c,h){const _=c.split("/"),p=h.split("/");for(let v=0;v<_.length&&v<p.length;v++){const w=gt(_[v],p[v]);if(w!==0)return w}return gt(_.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,h){const _=gt(_n(c.latitude),_n(h.latitude));return _!==0?_:gt(_n(c.longitude),_n(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ew(n.arrayValue,e.arrayValue);case 10:return(function(c,h){const _=c.fields||{},p=h.fields||{},v=_[Df]?.arrayValue,w=p[Df]?.arrayValue,E=gt(v?.values?.length||0,w?.values?.length||0);return E!==0?E:ew(v,w)})(n.mapValue,e.mapValue);case 11:return(function(c,h){if(c===nf.mapValue&&h===nf.mapValue)return 0;if(c===nf.mapValue)return 1;if(h===nf.mapValue)return-1;const _=c.fields||{},p=Object.keys(_),v=h.fields||{},w=Object.keys(v);p.sort(),w.sort();for(let E=0;E<p.length&&E<w.length;++E){const C=fy(p[E],w[E]);if(C!==0)return C;const R=Yc(_[p[E]],v[w[E]]);if(R!==0)return R}return gt(p.length,w.length)})(n.mapValue,e.mapValue);default:throw Ye(23264,{he:t})}}function Jb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return gt(n,e);const t=Oo(n),s=Oo(e),o=gt(t.seconds,s.seconds);return o!==0?o:gt(t.nanos,s.nanos)}function ew(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Yc(t[o],s[o]);if(c)return c}return gt(t.length,s.length)}function Wc(n){return my(n)}function my(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Oo(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Vo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ge.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=my(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${my(t.fields[h])}`;return o+"}"})(n.mapValue):Ye(61005,{value:n})}function yf(n){switch(zo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(n);return e?16+yf(e):16;case 5:return 2*n.stringValue.length;case 6:return Vo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+yf(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Fo(s.fields,((c,h)=>{o+=c.length+yf(h)})),o})(n.mapValue);default:throw Ye(13486,{value:n})}}function tw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function py(n){return!!n&&"integerValue"in n}function d_(n){return!!n&&"arrayValue"in n}function nw(n){return!!n&&"nullValue"in n}function iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function UM(n){return(n?.mapValue?.fields||{})[UE]?.stringValue===BE}function dd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Fo(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=dd(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dd(n.arrayValue.values[t]);return e}return{...n}}function BM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zM}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!_f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dd(t)}setAll(e){let t=Yn.emptyPath(),s={},o=[];e.forEach(((h,_)=>{if(!t.isImmediateParentOf(_)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=_.popLast()}h?s[_.lastSegment()]=dd(h):o.push(_.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());_f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];_f(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Fo(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new bi(dd(this.value))}}function qE(n){const e=[];return Fo(n.fields,((t,s)=>{const o=new Yn([t]);if(_f(s)){const c=qE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new fs(e)}class ci{constructor(e,t,s,o,c,h,_){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=_}static newInvalidDocument(e){return new ci(e,0,et.min(),et.min(),et.min(),bi.empty(),0)}static newFoundDocument(e,t,s,o){return new ci(e,1,t,et.min(),s,o,0)}static newNoDocument(e,t){return new ci(e,2,t,et.min(),et.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,et.min(),et.min(),bi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(e,t){this.position=e,this.inclusive=t}}function sw(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(c.field.isKeyField()?s=Ge.comparator(Ge.fromName(h.referenceValue),t.key):s=Yc(h,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function rw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}class Sd{constructor(e,t="asc"){this.field=e,this.dir=t}}function qM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class HE{}class An extends HE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new FM(e,t,s):t==="array-contains"?new ZM(e,s):t==="in"?new KM(e,s):t==="not-in"?new YM(e,s):t==="array-contains-any"?new WM(e,s):new An(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new GM(e,s):new $M(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Yc(t,this.value)):t!==null&&zo(this.value)===zo(t)&&this.matchesComparison(Yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends HE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new or(e,t)}matches(e){return FE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FE(n){return n.op==="and"}function GE(n){return HM(n)&&FE(n)}function HM(n){for(const e of n.filters)if(e instanceof or)return!1;return!0}function gy(n){if(n instanceof An)return n.field.canonicalString()+n.op.toString()+Wc(n.value);if(GE(n))return n.filters.map((e=>gy(e))).join(",");{const e=n.filters.map((t=>gy(t))).join(",");return`${n.op}(${e})`}}function $E(n,e){return n instanceof An?(function(s,o){return o instanceof An&&s.op===o.op&&s.field.isEqual(o.field)&&Hr(s.value,o.value)})(n,e):n instanceof or?(function(s,o){return o instanceof or&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,_)=>c&&$E(h,o.filters[_])),!0):!1})(n,e):void Ye(19439)}function ZE(n){return n instanceof An?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wc(t.value)}`})(n):n instanceof or?(function(t){return t.op.toString()+" {"+t.getFilters().map(ZE).join(" ,")+"}"})(n):"Filter"}class FM extends An{constructor(e,t,s){super(e,t,s),this.key=Ge.fromName(s.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class GM extends An{constructor(e,t){super(e,"in",t),this.keys=KE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $M extends An{constructor(e,t){super(e,"not-in",t),this.keys=KE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function KE(n,e){return(e.arrayValue?.values||[]).map((t=>Ge.fromName(t.referenceValue)))}class ZM extends An{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return d_(t)&&Td(t.arrayValue,this.value)}}class KM extends An{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Td(this.value.arrayValue,t)}}class YM extends An{constructor(e,t){super(e,"not-in",t)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Td(this.value.arrayValue,t)}}class WM extends An{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!d_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Td(this.value.arrayValue,s)))}}class QM{constructor(e,t=null,s=[],o=[],c=null,h=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=_,this.Te=null}}function aw(n,e=null,t=[],s=[],o=null,c=null,h=null){return new QM(n,e,t,s,o,c,h)}function h_(n){const e=Je(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>gy(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),um(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Wc(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Wc(s))).join(",")),e.Te=t}return e.Te}function f_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$E(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rw(n.startAt,e.startAt)&&rw(n.endAt,e.endAt)}function yy(n){return Ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class lu{constructor(e,t=null,s=[],o=[],c=null,h="F",_=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=_,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function XM(n,e,t,s,o,c,h,_){return new lu(n,e,t,s,o,c,h,_)}function hm(n){return new lu(n)}function ow(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JM(n){return Ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function YE(n){return n.collectionGroup!==null}function hd(n){const e=Je(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let _=new Mn(Yn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Sd(c,s))})),t.has(Yn.keyField().canonicalString())||e.Ie.push(new Sd(Yn.keyField(),s))}return e.Ie}function zr(n){const e=Je(n);return e.Ee||(e.Ee=WE(e,hd(n))),e.Ee}function ej(n){const e=Je(n);return e.Re||(e.Re=WE(e,n.explicitOrderBy)),e.Re}function WE(n,e){if(n.limitType==="F")return aw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Sd(o.field,c)}));const t=n.endAt?new Of(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Of(n.startAt.position,n.startAt.inclusive):null;return aw(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function _y(n,e){const t=n.filters.concat([e]);return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tj(n,e){const t=n.explicitOrderBy.concat([e]);return new lu(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function vy(n,e,t){return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fm(n,e){return f_(zr(n),zr(e))&&n.limitType===e.limitType}function QE(n){return`${h_(zr(n))}|lt:${n.limitType}`}function Uc(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>ZE(o))).join(", ")}]`),um(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Wc(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Wc(o))).join(",")),`Target(${s})`})(zr(n))}; limitType=${n.limitType})`}function mm(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of hd(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(h,_,p){const v=sw(h,_,p);return h.inclusive?v<=0:v<0})(s.startAt,hd(s),o)||s.endAt&&!(function(h,_,p){const v=sw(h,_,p);return h.inclusive?v>=0:v>0})(s.endAt,hd(s),o))})(n,e)}function nj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XE(n){return(e,t)=>{let s=!1;for(const o of hd(n)){const c=ij(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function ij(n,e,t){const s=n.field.isKeyField()?Ge.comparator(e.key,t.key):(function(c,h,_){const p=h.data.field(c),v=_.data.field(c);return p!==null&&v!==null?Yc(p,v):Ye(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ye(19790,{direction:n.dir})}}class Ql{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}const sj=new sn(Ge.comparator);function Ia(){return sj}const JE=new sn(Ge.comparator);function sd(...n){let e=JE;for(const t of n)e=e.insert(t.key,t);return e}function eT(n){let e=JE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function jl(){return fd()}function tT(){return fd()}function fd(){return new Ql((n=>n.toString()),((n,e)=>n.isEqual(e)))}const rj=new sn(Ge.comparator),aj=new Mn(Ge.comparator);function yt(...n){let e=aj;for(const t of n)e=e.add(t);return e}const oj=new Mn(gt);function lj(){return oj}function m_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(e)?"-0":e}}function nT(n){return{integerValue:""+n}}function iT(n,e){return MM(e)?nT(e):m_(n,e)}class pm{constructor(){this._=void 0}}function cj(n,e,t){return n instanceof Vf?(function(o,c){const h={fields:{[OE]:{stringValue:DE},[zE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&u_(c)&&(c=dm(c)),c&&(h.fields[VE]=c),{mapValue:h}})(t,e):n instanceof Ad?rT(n,e):n instanceof Nd?aT(n,e):(function(o,c){const h=sT(o,c),_=lw(h)+lw(o.Ae);return py(h)&&py(o.Ae)?nT(_):m_(o.serializer,_)})(n,e)}function uj(n,e,t){return n instanceof Ad?rT(n,e):n instanceof Nd?aT(n,e):t}function sT(n,e){return n instanceof Cd?(function(s){return py(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Vf extends pm{}class Ad extends pm{constructor(e){super(),this.elements=e}}function rT(n,e){const t=oT(e);for(const s of n.elements)t.some((o=>Hr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Nd extends pm{constructor(e){super(),this.elements=e}}function aT(n,e){let t=oT(e);for(const s of n.elements)t=t.filter((o=>!Hr(o,s)));return{arrayValue:{values:t}}}class Cd extends pm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lw(n){return _n(n.integerValue||n.doubleValue)}function oT(n){return d_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dj{constructor(e,t){this.field=e,this.transform=t}}function hj(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Ad&&o instanceof Ad||s instanceof Nd&&o instanceof Nd?Kc(s.elements,o.elements,Hr):s instanceof Cd&&o instanceof Cd?Hr(s.Ae,o.Ae):s instanceof Vf&&o instanceof Vf})(n.transform,e.transform)}class fj{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gm{}function lT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ym(n.key,wi.none()):new zd(n.key,n.data,wi.none());{const t=n.data,s=bi.empty();let o=new Mn(Yn.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Go(n.key,s,new fs(o.toArray()),wi.none())}}function mj(n,e,t){n instanceof zd?(function(o,c,h){const _=o.value.clone(),p=uw(o.fieldTransforms,c,h.transformResults);_.setAll(p),c.convertToFoundDocument(h.version,_).setHasCommittedMutations()})(n,e,t):n instanceof Go?(function(o,c,h){if(!vf(o.precondition,c))return void c.convertToUnknownDocument(h.version);const _=uw(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(cT(o)),p.setAll(_),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,t):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function md(n,e,t,s){return n instanceof zd?(function(c,h,_,p){if(!vf(c.precondition,h))return _;const v=c.value.clone(),w=dw(c.fieldTransforms,p,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Go?(function(c,h,_,p){if(!vf(c.precondition,h))return _;const v=dw(c.fieldTransforms,p,h),w=h.data;return w.setAll(cT(c)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(c,h,_){return vf(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):_})(n,e,t)}function pj(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=sT(s.transform,o||null);c!=null&&(t===null&&(t=bi.empty()),t.set(s.field,c))}return t||null}function cw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Kc(s,o,((c,h)=>hj(c,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zd extends gm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Go extends gm{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function uw(n,e,t){const s=new Map;Rt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,_=e.data.field(c.field);s.set(c.field,uj(h,_,t[o]))}return s}function dw(n,e,t){const s=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);s.set(o.field,cj(c,h,e))}return s}class ym extends gm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gj extends gm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yj{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&mj(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=md(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=md(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=tT();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let _=this.applyToLocalView(h,c.mutatedFields);_=t.has(o.key)?null:_;const p=lT(h,_);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(et.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),yt())}isEqual(e){return this.batchId===e.batchId&&Kc(this.mutations,e.mutations,((t,s)=>cw(t,s)))&&Kc(this.baseMutations,e.baseMutations,((t,s)=>cw(t,s)))}}class p_{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Rt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return rj})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new p_(e,t,s,o)}}class _j{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vj{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}class xj{constructor(e,t){this.count=e,this.unchangedNames=t}}var Sn,xt;function bj(n){switch(n){case ve.OK:return Ye(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Ye(15467,{code:n})}}function uT(n){if(n===void 0)return Ra("GRPC error has no .code"),ve.UNKNOWN;switch(n){case Sn.OK:return ve.OK;case Sn.CANCELLED:return ve.CANCELLED;case Sn.UNKNOWN:return ve.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return ve.INTERNAL;case Sn.UNAVAILABLE:return ve.UNAVAILABLE;case Sn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Sn.NOT_FOUND:return ve.NOT_FOUND;case Sn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Sn.ABORTED:return ve.ABORTED;case Sn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Sn.DATA_LOSS:return ve.DATA_LOSS;default:return Ye(39323,{code:n})}}(xt=Sn||(Sn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function wj(){return new TextEncoder}const Ej=new Mo([4294967295,4294967295],0);function hw(n){const e=wj().encode(n),t=new EE;return t.update(e),new Uint8Array(t.digest())}function fw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Mo([t,s],0),new Mo([o,c],0)]}class g_{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new rd(`Invalid padding: ${t}`);if(s<0)throw new rd(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new rd(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new rd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Mo.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Mo.fromNumber(s)));return o.compare(Ej)===1&&(o=new Mo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=hw(e),[s,o]=fw(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new g_(c,o,t);return s.forEach((_=>h.insert(_))),h}insert(e){if(this.ge===0)return;const t=hw(e),[s,o]=fw(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _m{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new _m(et.min(),o,new sn(gt),Ia(),yt())}}class Ud{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ud(s,t,yt(),yt(),yt())}}class xf{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class dT{constructor(e,t){this.targetId=e,this.Ce=t}}class hT{constructor(e,t,s=Wn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class mw{constructor(){this.ve=0,this.Fe=pw(),this.Me=Wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yt(),t=yt(),s=yt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ye(38017,{changeType:c})}})),new Ud(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=pw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Tj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ia(),this.He=sf(),this.Je=sf(),this.Ze=new sn(gt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(yy(c))if(s===0){const h=new Ge(c.path);this.et(t,h,ci.newNoDocument(h,et.min()))}else Rt(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const _=this.ut(e),p=_?this.ct(_,e,h):1;if(p!==0){this.it(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let h,_;try{h=Vo(s).toUint8Array()}catch(p){if(p instanceof kE)return Hl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{_=new g_(h,o,c)}catch(p){return Hl(p instanceof rd?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return _.ge===0?null:_}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),_=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,h)=>{const _=this.ot(h);if(_){if(c.current&&yy(_.target)){const p=new Ge(_.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,ci.newNoDocument(p,e))}c.Be&&(t.set(h,c.ke()),c.Ke())}}));let s=yt();this.Je.forEach(((c,h)=>{let _=!0;h.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new _m(e,t,this.Ze,this.je,s);return this.je=Ia(),this.He=sf(),this.Je=sf(),this.Ze=new sn(gt),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new mw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Mn(gt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Mn(gt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function sf(){return new sn(Ge.comparator)}function pw(){return new sn(Ge.comparator)}const Sj={asc:"ASCENDING",desc:"DESCENDING"},Aj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nj={and:"AND",or:"OR"};class Cj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xy(n,e){return n.useProto3Json||um(e)?e:{value:e}}function zf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Rj(n,e){return zf(n,e.toTimestamp())}function Ur(n){return Rt(!!n,49232),et.fromTimestamp((function(t){const s=Oo(t);return new Wt(s.seconds,s.nanos)})(n))}function y_(n,e){return by(n,e).canonicalString()}function by(n,e){const t=(function(o){return new Ht(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function mT(n){const e=Ht.fromString(n);return Rt(xT(e),10190,{key:e.toString()}),e}function wy(n,e){return y_(n.databaseId,e.path)}function Mg(n,e){const t=mT(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(gT(t))}function pT(n,e){return y_(n.databaseId,e)}function Ij(n){const e=mT(n);return e.length===4?Ht.emptyPath():gT(e)}function Ey(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gT(n){return Rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gw(n,e,t){return{name:wy(n,e),fields:t.value.mapValue.fields}}function Pj(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ye(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(Rt(w===void 0||typeof w=="string",58123),Wn.fromBase64String(w||"")):(Rt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Wn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,_=h&&(function(v){const w=v.code===void 0?ve.UNKNOWN:uT(v.code);return new Pe(w,v.message||"")})(h);t=new hT(s,o,c,_||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mg(n,s.document.name),c=Ur(s.document.updateTime),h=s.document.createTime?Ur(s.document.createTime):et.min(),_=new bi({mapValue:{fields:s.document.fields}}),p=ci.newFoundDocument(o,c,h,_),v=s.targetIds||[],w=s.removedTargetIds||[];t=new xf(v,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mg(n,s.document),c=s.readTime?Ur(s.readTime):et.min(),h=ci.newNoDocument(o,c),_=s.removedTargetIds||[];t=new xf([],_,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mg(n,s.document),c=s.removedTargetIds||[];t=new xf([],c,o,null)}else{if(!("filter"in e))return Ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new xj(o,c),_=s.targetId;t=new dT(_,h)}}return t}function Mj(n,e){let t;if(e instanceof zd)t={update:gw(n,e.key,e.value)};else if(e instanceof ym)t={delete:wy(n,e.key)};else if(e instanceof Go)t={update:gw(n,e.key,e.data),updateMask:Bj(e.fieldMask)};else{if(!(e instanceof gj))return Ye(16599,{dt:e.type});t={verify:wy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const _=h.transform;if(_ instanceof Vf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Ad)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Nd)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Cd)return{fieldPath:h.field.canonicalString(),increment:_.Ae};throw Ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Rj(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ye(27497)})(n,e.precondition)),t}function jj(n,e){return n&&n.length>0?(Rt(e!==void 0,14353),n.map((t=>(function(o,c){let h=o.updateTime?Ur(o.updateTime):Ur(c);return h.isEqual(et.min())&&(h=Ur(c)),new fj(h,o.transformResults||[])})(t,e)))):[]}function Lj(n,e){return{documents:[pT(n,e.path)]}}function yT(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=pT(n,o);const c=(function(v){if(v.length!==0)return vT(or.create(v,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const h=(function(v){if(v.length!==0)return v.map((w=>(function(C){return{field:So(C.field),direction:Vj(C.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const _=xy(n,e.limit);return _!==null&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function kj(n,e,t,s){const{ft:o,parent:c}=yT(n,e),h={},_=[];let p=0;return t.forEach((v=>{const w="aggregate_"+p++;h[w]=v.alias,v.aggregateType==="count"?_.push({alias:w,count:{}}):v.aggregateType==="avg"?_.push({alias:w,avg:{field:So(v.fieldPath)}}):v.aggregateType==="sum"&&_.push({alias:w,sum:{field:So(v.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:_,structuredQuery:o.structuredQuery},parent:o.parent},gt:h,parent:c}}function Dj(n){let e=Ij(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Rt(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(E){const C=_T(E);return C instanceof or&&GE(C)?C.getFilters():[C]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((C=>(function(j){return new Sd(Bc(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(C)))})(t.orderBy));let _=null;t.limit&&(_=(function(E){let C;return C=typeof E=="object"?E.value:E,um(C)?null:C})(t.limit));let p=null;t.startAt&&(p=(function(E){const C=!!E.before,R=E.values||[];return new Of(R,C)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const C=!E.before,R=E.values||[];return new Of(R,C)})(t.endAt)),XM(e,o,h,c,_,"F",p,v)}function Oj(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _T(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Bc(t.unaryFilter.field);return An.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Bc(t.unaryFilter.field);return An.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Bc(t.unaryFilter.field);return An.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Bc(t.unaryFilter.field);return An.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}})(n):n.fieldFilter!==void 0?(function(t){return An.create(Bc(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return or.create(t.compositeFilter.filters.map((s=>_T(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}})(t.compositeFilter.op))})(n):Ye(30097,{filter:n})}function Vj(n){return Sj[n]}function zj(n){return Aj[n]}function Uj(n){return Nj[n]}function So(n){return{fieldPath:n.canonicalString()}}function Bc(n){return Yn.fromServerFormat(n.fieldPath)}function vT(n){return n instanceof An?(function(t){if(t.op==="=="){if(iw(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NAN"}};if(nw(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iw(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NOT_NAN"}};if(nw(t.value))return{unaryFilter:{field:So(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(t.field),op:zj(t.op),value:t.value}}})(n):n instanceof or?(function(t){const s=t.getFilters().map((o=>vT(o)));return s.length===1?s[0]:{compositeFilter:{op:Uj(t.op),filters:s}}})(n):Ye(54877,{filter:n})}function Bj(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function xT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function bT(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Co{constructor(e,t,s,o,c=et.min(),h=et.min(),_=Wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=_,this.expectedCount=p}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qj{constructor(e){this.yt=e}}function Hj(n){const e=Dj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vy(e,e.limit,"L"):e}class Fj{constructor(){this.Sn=new Gj}addToCollectionParentIndex(e,t){return this.Sn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(Do.min())}updateCollectionGroup(e,t,s){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class Gj{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Mn(Ht.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mn(Ht.comparator)).toArray()}}const yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wT=41943040;class Gi{static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(wT,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);class Qc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Qc(0)}static ar(){return new Qc(-1)}}const _w="LruGarbageCollector",$j=1048576;function vw([n,e],[t,s]){const o=gt(n,t);return o===0?gt(e,s):o}class Zj{constructor(e){this.Pr=e,this.buffer=new Mn(vw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();vw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kj{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Le(_w,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ou(t)?Le(_w,"Ignoring IndexedDB error during garbage collection: ",t):await au(t)}await this.Ar(3e5)}))}}class Yj{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(cm.ce);const s=new Zj(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(yw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,c,h,_,p,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,_=Date.now(),this.removeTargets(e,s,t)))).next((E=>(c=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),zc()<=pt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(_-h)+`ms
	Removed ${c} targets in `+(p-_)+`ms
	Removed ${E} documents in `+(v-p)+`ms
Total Duration: ${v-w}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function Wj(n,e){return new Yj(n,e)}class Qj{constructor(){this.changes=new Ql((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jj{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&md(s.mutation,o,fs.empty(),Wt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,yt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=yt()){const o=jl();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let h=sd();return c.forEach(((_,p)=>{h=h.insert(_,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=jl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,yt())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,_)=>{t.set(h,_)}))}))}computeViews(e,t,s,o){let c=Ia();const h=fd(),_=(function(){return fd()})();return t.forEach(((p,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Go)?c=c.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),md(w.mutation,v,w.mutation.getFieldMask(),Wt.now())):h.set(v.key,fs.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((v,w)=>h.set(v,w))),t.forEach(((v,w)=>_.set(v,new Xj(w,h.get(v)??null)))),_)))}recalculateAndSaveOverlays(e,t){const s=fd();let o=new sn(((h,_)=>h-_)),c=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const _ of h)_.keys().forEach((p=>{const v=t.get(p);if(v===null)return;let w=s.get(p)||fs.empty();w=_.applyToLocalView(v,w),s.set(p,w);const E=(o.get(_.batchId)||yt()).add(p);o=o.insert(_.batchId,E)}))})).next((()=>{const h=[],_=o.getReverseIterator();for(;_.hasNext();){const p=_.getNext(),v=p.key,w=p.value,E=tT();w.forEach((C=>{if(!c.has(C)){const R=lT(t.get(C),s.get(C));R!==null&&E.set(C,R),c=c.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,E))}return Te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return JM(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):Te.resolve(jl());let _=bd,p=c;return h.next((v=>Te.forEach(v,((w,E)=>(_<E.largestBatchId&&(_=E.largestBatchId),c.get(w)?Te.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{p=p.insert(w,C)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,p,v,yt()))).next((w=>({batchId:_,changes:eT(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next((s=>{let o=sd();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let h=sd();return this.indexManager.getCollectionParents(e,c).next((_=>Te.forEach(_,(p=>{const v=(function(E,C){return new lu(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((E,C)=>{h=h.insert(E,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((h=>{c.forEach(((p,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,ci.newInvalidDocument(w)))}));let _=sd();return h.forEach(((p,v)=>{const w=c.get(p);w!==void 0&&md(w.mutation,v,fs.empty(),Wt.now()),mm(t,v)&&(_=_.insert(p,v))})),_}))}}class eL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Te.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Ur(o.createTime)}})(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:Hj(o.bundledQuery),readTime:Ur(o.readTime)}})(t)),Te.resolve()}}class tL{constructor(){this.overlays=new sn(Ge.comparator),this.Lr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=jl();return Te.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.bt(e,t,c)})),Te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Te.resolve()}getOverlaysForCollection(e,t,s){const o=jl(),c=t.length+1,h=new Ge(t.child("")),_=this.overlays.getIteratorFrom(h);for(;_.hasNext();){const p=_.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new sn(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=jl(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const _=jl(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,w)=>_.set(v,w))),!(_.size()>=o)););return Te.resolve(_)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new _j(t,s));let c=this.Lr.get(t);c===void 0&&(c=yt(),this.Lr.set(t,c)),this.Lr.set(t,c.add(s.key))}}class nL{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class __{constructor(){this.kr=new Mn(qn.Kr),this.qr=new Mn(qn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new qn(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new qn(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new Ge(new Ht([])),s=new qn(t,e),o=new qn(t,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ge(new Ht([])),s=new qn(t,e),o=new qn(t,e+1);let c=yt();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const t=new qn(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class qn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ge.comparator(e.key,t.key)||gt(e.Hr,t.Hr)}static Ur(e,t){return gt(e.Hr,t.Hr)||Ge.comparator(e.key,t.key)}}class iL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Mn(qn.Kr)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new yj(c,t,s,o);this.mutationQueue.push(h);for(const _ of o)this.Jr=this.Jr.add(new qn(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Te.resolve(h)}lookupMutationBatch(e,t){return Te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),c=o<0?0:o;return Te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?c_:this.Yn-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qn(t,0),o=new qn(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const _=this.Zr(h.Hr);c.push(_)})),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Mn(gt);return t.forEach((o=>{const c=new qn(o,0),h=new qn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(_=>{s=s.add(_.Hr)}))})),Te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Ge.isDocumentKey(c)||(c=c.child(""));const h=new qn(new Ge(c),0);let _=new Mn(gt);return this.Jr.forEachWhile((p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(_=_.add(p.Hr)),!0)}),h),Te.resolve(this.Yr(_))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Rt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Te.forEach(t.mutations,(o=>{const c=new qn(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new qn(t,0),o=this.Jr.firstAfterOrEqual(s);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sL{constructor(e){this.ti=e,this.docs=(function(){return new sn(Ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Te.resolve(s?s.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let s=Ia();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ci.newInvalidDocument(o))})),Te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Ia();const h=t.path,_=new Ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(_);for(;p.hasNext();){const{key:v,value:{document:w}}=p.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||CM(NM(w),s)<=0||(o.has(w.key)||mm(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return Te.resolve(c)}getAllFromCollectionGroup(e,t,s,o){Ye(9500)}ni(e,t){return Te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new rL(this)}getSize(e){return Te.resolve(this.size)}}class rL extends Qj{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Te.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class aL{constructor(e){this.persistence=e,this.ri=new Ql((t=>h_(t)),f_),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.ii=0,this.si=new __,this.targetCount=0,this.oi=Qc._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),Te.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Qc(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.lr(t),Te.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.ri.forEach(((h,_)=>{_.sequenceNumber<=t&&s.get(_.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),Te.waitFor(c).next((()=>o))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return Te.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),Te.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),Te.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return Te.resolve(s)}containsKey(e,t){return Te.resolve(this.si.containsKey(t))}}class ET{constructor(e,t){this._i={},this.overlays={},this.ai=new cm(0),this.ui=!1,this.ui=!0,this.ci=new nL,this.referenceDelegate=e(this),this.li=new aL(this),this.indexManager=new Fj,this.remoteDocumentCache=(function(o){return new sL(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new qj(t),this.Pi=new eL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new iL(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){Le("MemoryPersistence","Starting transaction:",e);const o=new oL(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,t){return Te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class oL extends IM{constructor(e){super(),this.currentSequenceNumber=e}}class v_{constructor(e){this.persistence=e,this.Ri=new __,this.Ai=null}static Vi(e){return new v_(e)}get di(){if(this.Ai)return this.Ai;throw Ye(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),Te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.di,(s=>{const o=Ge.fromPath(s);return this.mi(e,o).next((c=>{c||t.removeEntry(o,et.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Uf{constructor(e,t){this.persistence=e,this.fi=new Ql((s=>jM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Wj(this,t)}static Vi(e,t){return new Uf(e,t)}Ti(){}Ii(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return Te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?Te.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,t).next((_=>{_||(s++,c.removeEntry(h,et.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yf(e.data.value)),t}wr(e,t,s){return Te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return Te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class x_{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=yt(),o=yt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new x_(e,t.fromCache,s,o)}}class lL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return AC()?8:PM(di())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.gs(e,t).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,t,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new lL;return this.ys(e,t,h).next((_=>{if(c.result=_,this.As)return this.ws(e,t,h,_.size)}))})).next((()=>c.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(zc()<=pt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Uc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Te.resolve()):(zc()<=pt.DEBUG&&Le("QueryEngine","Query:",Uc(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(zc()<=pt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Uc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):Te.resolve())}gs(e,t){if(ow(t))return Te.resolve(null);let s=zr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=vy(t,null,"F"),s=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=yt(...c);return this.fs.getDocuments(e,h).next((_=>this.indexManager.getMinOffset(e,s).next((p=>{const v=this.bs(t,_);return this.Ss(t,v,h,p.readTime)?this.gs(e,vy(t,null,"F")):this.Ds(e,v,t,p)}))))})))))}ps(e,t,s,o){return ow(t)||o.isEqual(et.min())?Te.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(t,c);return this.Ss(t,h,s,o)?Te.resolve(null):(zc()<=pt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uc(t)),this.Ds(e,h,t,AM(o,bd)).next((_=>_)))}))}bs(e,t){let s=new Mn(XE(e));return t.forEach(((o,c)=>{mm(e,c)&&(s=s.add(c))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,t,s){return zc()<=pt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Uc(t)),this.fs.getDocumentsMatchingQuery(e,t,Do.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const b_="LocalStore",uL=3e8;class dL{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new sn(gt),this.Fs=new Ql((c=>h_(c)),f_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function hL(n,e,t,s){return new dL(n,e,t,s)}async function TT(n,e){const t=Je(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],_=[];let p=yt();for(const v of o){h.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}for(const v of c){_.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(s,p).next((v=>({Ns:v,removedBatchIds:h,addedBatchIds:_})))}))}))}function fL(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(_,p,v,w){const E=v.batch,C=E.keys();let R=Te.resolve();return C.forEach((j=>{R=R.next((()=>w.getEntry(p,j))).next((z=>{const k=v.docVersions.get(j);Rt(k!==null,48541),z.version.compareTo(k)<0&&(E.applyToRemoteDocument(z,v),z.isValidDocument()&&(z.setReadTime(v.commitVersion),w.addEntry(z)))}))})),R.next((()=>_.mutationQueue.removeMutationBatch(p,E)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(_){let p=yt();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(p=p.add(_.batch.mutations[v].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function ST(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function mL(n,e){const t=Je(n),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const _=[];e.targetChanges.forEach(((w,E)=>{const C=o.get(E);if(!C)return;_.push(t.li.removeMatchingKeys(c,w.removedDocuments,E).next((()=>t.li.addMatchingKeys(c,w.addedDocuments,E))));let R=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Wn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,s)),o=o.insert(E,R),(function(z,k,V){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=uL?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(C,R,w)&&_.push(t.li.updateTargetData(c,R))}));let p=Ia(),v=yt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),_.push(pL(c,h,e.documentUpdates).next((w=>{p=w.Bs,v=w.Ls}))),!s.isEqual(et.min())){const w=t.li.getLastRemoteSnapshotVersion(c).next((E=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));_.push(w)}return Te.waitFor(_).next((()=>h.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(t.vs=o,c)))}function pL(n,e,t){let s=yt(),o=yt();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let h=Ia();return t.forEach(((_,p)=>{const v=c.get(_);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(_)),p.isNoDocument()&&p.version.isEqual(et.min())?(e.removeEntry(_,p.readTime),h=h.insert(_,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),h=h.insert(_,p)):Le(b_,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function gL(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=c_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function yL(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((c=>c?(o=c,Te.resolve(o)):t.li.allocateTargetId(s).next((h=>(o=new Co(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Ty(n,e,t){const s=Je(n),o=s.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ou(h))throw h;Le(b_,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function xw(n,e,t){const s=Je(n);let o=et.min(),c=yt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,v,w){const E=Je(p),C=E.Fs.get(w);return C!==void 0?Te.resolve(E.vs.get(C)):E.li.getTargetData(v,w)})(s,h,zr(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,_.targetId).next((p=>{c=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:et.min(),t?c:yt()))).next((_=>(_L(s,nj(e),_),{documents:_,ks:c})))))}function _L(n,e,t){let s=n.Ms.get(e)||et.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Ms.set(e,s)}class bw{constructor(){this.activeTargetIds=lj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vL{constructor(){this.vo=new bw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new bw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xL{Mo(e){}shutdown(){}}const ww="ConnectivityMonitor";class Ew{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Le(ww,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Le(ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rf=null;function Sy(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}const jg="RestConnection",bL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===kf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,c){const h=Sy(),_=this.Qo(e,t.toUriEncodedString());Le(jg,`Sending RPC '${e}' ${h}:`,_,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:v}=new URL(_),w=Ho(v);return this.zo(e,_,p,s,w).then((E=>(Le(jg,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Hl(jg,`RPC '${e}' ${h} failed with error: `,E,"url: ",_,"request:",s),E}))}jo(e,t,s,o,c,h){return this.Wo(e,t,s,o,c)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ru})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,t){const s=bL[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class EL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ai="WebChannelConnection",Xu=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Gc extends wL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Gc.c_){const e=NE();Xu(e,AE.STAT_EVENT,(t=>{t.stat===hy.PROXY?Le(ai,"STAT_EVENT: detected buffering proxy"):t.stat===hy.NOPROXY&&Le(ai,"STAT_EVENT: detected no buffering proxy")})),Gc.c_=!0}}zo(e,t,s,o,c){const h=Sy();return new Promise(((_,p)=>{const v=new TE;v.setWithCredentials(!0),v.listenOnce(SE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case gf.NO_ERROR:const E=v.getResponseJson();Le(ai,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),_(E);break;case gf.TIMEOUT:Le(ai,`RPC '${e}' ${h} timed out`),p(new Pe(ve.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const C=v.getStatus();if(Le(ai,`RPC '${e}' ${h} failed with status:`,C,"response text:",v.getResponseText()),C>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const j=R?.error;if(j&&j.status&&j.message){const z=(function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(B)>=0?B:ve.UNKNOWN})(j.status);p(new Pe(z,j.message))}else p(new Pe(ve.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Pe(ve.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Le(ai,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);Le(ai,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=Sy(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,t,s),_.encodeInitMessageHeaders=!0;const v=c.join("");Le(ai,`Creating RPC '${e}' stream ${o}: ${v}`,_);const w=h.createWebChannel(v,_);this.I_(w);let E=!1,C=!1;const R=new EL({Ho:j=>{C?Le(ai,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(E||(Le(ai,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),Le(ai,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Jo:()=>w.close()});return Xu(w,id.EventType.OPEN,(()=>{C||(Le(ai,`RPC '${e}' stream ${o} transport opened.`),R.i_())})),Xu(w,id.EventType.CLOSE,(()=>{C||(C=!0,Le(ai,`RPC '${e}' stream ${o} transport closed`),R.o_(),this.E_(w))})),Xu(w,id.EventType.ERROR,(j=>{C||(C=!0,Hl(ai,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),R.o_(new Pe(ve.UNAVAILABLE,"The operation could not be completed")))})),Xu(w,id.EventType.MESSAGE,(j=>{if(!C){const z=j.data[0];Rt(!!z,16349);const k=z,V=k?.error||k[0]?.error;if(V){Le(ai,`RPC '${e}' stream ${o} received error:`,V);const B=V.status;let G=(function(ye){const q=Sn[ye];if(q!==void 0)return uT(q)})(B),ne=V.message;B==="NOT_FOUND"&&ne.includes("database")&&ne.includes("does not exist")&&ne.includes(this.databaseId.database)&&Hl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=ve.INTERNAL,ne="Unknown error status: "+B+" with message "+V.message),C=!0,R.o_(new Pe(G,ne)),w.close()}else Le(ai,`RPC '${e}' stream ${o} received:`,z),R.__(z)}})),Gc.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CE()}}function TL(n){return new Gc(n)}function Lg(){return typeof document<"u"?document:null}function vm(n){return new Cj(n,!0)}Gc.c_=!1;class AT{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Tw="PersistentStream";class NT{constructor(e,t,s,o,c,h,_,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=_,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(Ra(t.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Pe(ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(Tw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Le(Tw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SL extends NT{constructor(e,t,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Pj(this.serializer,e),s=(function(c){if(!("targetChange"in c))return et.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?et.min():h.readTime?Ur(h.readTime):et.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Ey(this.serializer),t.addTarget=(function(c,h){let _;const p=h.target;if(_=yy(p)?{documents:Lj(c,p)}:{query:yT(c,p).ft},_.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){_.resumeToken=fT(c,h.resumeToken);const v=xy(c,h.expectedCount);v!==null&&(_.expectedCount=v)}else if(h.snapshotVersion.compareTo(et.min())>0){_.readTime=zf(c,h.snapshotVersion.toTimestamp());const v=xy(c,h.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,e);const s=Oj(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Ey(this.serializer),t.removeTarget=e,this.K_(t)}}class AL extends NT{constructor(e,t,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=jj(e.writeResults,e.commitTime),s=Ur(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Ey(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>Mj(this.serializer,s)))};this.K_(t)}}class NL{}class CL extends NL{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Pe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,by(t,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(ve.UNKNOWN,c.toString())}))}jo(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,_])=>this.connection.jo(e,by(t,s),o,h,_,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Pe(ve.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function RL(n,e,t,s){return new CL(n,e,t,s)}class IL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ra(t),this.aa=!1):Le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fl="RemoteStore";class PL{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{Xl(this)&&(Le(Fl,"Restarting streams for network reachability change."),await(async function(p){const v=Je(p);v.Ea.add(4),await Bd(v),v.Va.set("Unknown"),v.Ea.delete(4),await xm(v)})(this))}))})),this.Va=new IL(s,o)}}async function xm(n){if(Xl(n))for(const e of n.Ra)await e(!0)}async function Bd(n){for(const e of n.Ra)await e(!1)}function CT(n,e){const t=Je(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),S_(t)?T_(t):cu(t).O_()&&E_(t,e))}function w_(n,e){const t=Je(n),s=cu(t);t.Ia.delete(e),s.O_()&&RT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Xl(t)&&t.Va.set("Unknown"))}function E_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cu(n).Z_(e)}function RT(n,e){n.da.$e(e),cu(n).X_(e)}function T_(n){n.da=new Tj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),cu(n).start(),n.Va.ua()}function S_(n){return Xl(n)&&!cu(n).x_()&&n.Ia.size>0}function Xl(n){return Je(n).Ea.size===0}function IT(n){n.da=void 0}async function ML(n){n.Va.set("Online")}async function jL(n){n.Ia.forEach(((e,t)=>{E_(n,e)}))}async function LL(n,e){IT(n),S_(n)?(n.Va.ha(e),T_(n)):n.Va.set("Unknown")}async function kL(n,e,t){if(n.Va.set("Online"),e instanceof hT&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const _ of c.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,h),o.Ia.delete(_),o.da.removeTarget(_))})(n,e)}catch(s){Le(Fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bf(n,s)}else if(e instanceof xf?n.da.Xe(e):e instanceof dT?n.da.st(e):n.da.tt(e),!t.isEqual(et.min()))try{const s=await ST(n.localStore);t.compareTo(s)>=0&&await(function(c,h){const _=c.da.Tt(h);return _.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(p.resumeToken,h))}})),_.targetMismatches.forEach(((p,v)=>{const w=c.Ia.get(p);if(!w)return;c.Ia.set(p,w.withResumeToken(Wn.EMPTY_BYTE_STRING,w.snapshotVersion)),RT(c,p);const E=new Co(w.target,p,v,w.sequenceNumber);E_(c,E)})),c.remoteSyncer.applyRemoteEvent(_)})(n,t)}catch(s){Le(Fl,"Failed to raise snapshot:",s),await Bf(n,s)}}async function Bf(n,e,t){if(!ou(e))throw e;n.Ea.add(1),await Bd(n),n.Va.set("Offline"),t||(t=()=>ST(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Le(Fl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await xm(n)}))}function PT(n,e){return e().catch((t=>Bf(n,t,e)))}async function bm(n){const e=Je(n),t=Uo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:c_;for(;DL(e);)try{const o=await gL(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,OL(e,o)}catch(o){await Bf(e,o)}MT(e)&&jT(e)}function DL(n){return Xl(n)&&n.Ta.length<10}function OL(n,e){n.Ta.push(e);const t=Uo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function MT(n){return Xl(n)&&!Uo(n).x_()&&n.Ta.length>0}function jT(n){Uo(n).start()}async function VL(n){Uo(n).ra()}async function zL(n){const e=Uo(n);for(const t of n.Ta)e.ea(t.mutations)}async function UL(n,e,t){const s=n.Ta.shift(),o=p_.from(s,e,t);await PT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await bm(n)}async function BL(n,e){e&&Uo(n).Y_&&await(async function(s,o){if((function(h){return bj(h)&&h!==ve.ABORTED})(o.code)){const c=s.Ta.shift();Uo(s).B_(),await PT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await bm(s)}})(n,e),MT(n)&&jT(n)}async function Sw(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Le(Fl,"RemoteStore received new credentials");const s=Xl(t);t.Ea.add(3),await Bd(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xm(t)}async function qL(n,e){const t=Je(n);e?(t.Ea.delete(2),await xm(t)):e||(t.Ea.add(2),await Bd(t),t.Va.set("Unknown"))}function cu(n){return n.ma||(n.ma=(function(t,s,o){const c=Je(t);return c.sa(),new SL(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:ML.bind(null,n),Yo:jL.bind(null,n),t_:LL.bind(null,n),J_:kL.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),S_(n)?T_(n):n.Va.set("Unknown")):(await n.ma.stop(),IT(n))}))),n.ma}function Uo(n){return n.fa||(n.fa=(function(t,s,o){const c=Je(t);return c.sa(),new AL(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VL.bind(null,n),t_:BL.bind(null,n),ta:zL.bind(null,n),na:UL.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await bm(n)):(await n.fa.stop(),n.Ta.length>0&&(Le(Fl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class A_{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const h=Date.now()+s,_=new A_(e,t,h,o,c);return _.start(s),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N_(n,e){if(Ra("AsyncQueue",`${e}: ${n}`),ou(n))return new Pe(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class $c{static emptySet(e){return new $c(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ge.comparator(t.key,s.key):(t,s)=>Ge.comparator(t.key,s.key),this.keyedMap=sd(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $c)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new $c;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Aw{constructor(){this.ga=new sn(Ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ye(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Xc{constructor(e,t,s,o,c,h,_,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=_,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,c){const h=[];return t.forEach((_=>{h.push({type:0,doc:_})})),new Xc(e,t,$c.emptySet(t),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class HL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class FL{constructor(){this.queries=Nw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Je(t),c=o.queries;o.queries=Nw(),c.forEach(((h,_)=>{for(const p of _.ba)p.onError(s)}))})(this,new Pe(ve.ABORTED,"Firestore shutting down"))}}function Nw(){return new Ql((n=>QE(n)),fm)}async function C_(n,e){const t=Je(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new HL,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const _=N_(h,`Initialization of query '${Uc(e.query)}' failed`);return void e.onError(_)}t.queries.set(o,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&I_(t)}async function R_(n,e){const t=Je(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function GL(n,e){const t=Je(n);let s=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const _ of h.ba)_.Fa(o)&&(s=!0);h.wa=o}}s&&I_(t)}function $L(n,e,t){const s=Je(n),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(t);s.queries.delete(e)}function I_(n){n.Ca.forEach((e=>{e.next()}))}var Ay,Cw;(Cw=Ay||(Ay={})).Ma="default",Cw.Cache="cache";class P_{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Xc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ay.Cache}}class LT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class ZL{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=yt(),this.mutatedKeys=yt(),this.eu=XE(e),this.tu=new $c(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new Aw,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,_=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const C=o.get(w),R=mm(this.query,E)?E:null,j=!!C&&this.mutatedKeys.has(C.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;C&&R?C.data.isEqual(R.data)?j!==z&&(s.track({type:3,doc:R}),k=!0):this.su(C,R)||(s.track({type:2,doc:R}),k=!0,(p&&this.eu(R,p)>0||v&&this.eu(R,v)<0)&&(_=!0)):!C&&R?(s.track({type:0,doc:R}),k=!0):C&&!R&&(s.track({type:1,doc:C}),k=!0,(p||v)&&(_=!0)),k&&(R?(h=h.add(R),c=z?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Ss:_,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,E)=>(function(R,j){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye(20277,{Vt:k})}};return z(R)-z(j)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),o=o??!1;const _=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,v=p!==this.Xa;return this.Xa=p,h.length!==0||v?{snapshot:new Xc(this.query,e.tu,c,h,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Aw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=yt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new kT(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new LT(s))})),t}cu(e){this.Za=e.ks,this.Ya=yt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Xc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const M_="SyncEngine";class KL{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class YL{constructor(e){this.key=e,this.hu=!1}}class WL{constructor(e,t,s,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ql((_=>QE(_)),fm),this.Iu=new Map,this.Eu=new Set,this.Ru=new sn(Ge.comparator),this.Au=new Map,this.Vu=new __,this.du={},this.mu=new Map,this.fu=Qc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QL(n,e,t=!0){const s=BT(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await DT(s,e,t,!0),o}async function XL(n,e){const t=BT(n);await DT(t,e,!0,!1)}async function DT(n,e,t,s){const o=await yL(n.localStore,zr(e)),c=o.targetId,h=n.sharedClientState.addLocalQueryTarget(c,t);let _;return s&&(_=await JL(n,e,c,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&CT(n.remoteStore,o),_}async function JL(n,e,t,s,o){n.pu=(E,C,R)=>(async function(z,k,V,B){let G=k.view.ru(V);G.Ss&&(G=await xw(z.localStore,k.query,!1).then((({documents:q})=>k.view.ru(q,G))));const ne=B&&B.targetChanges.get(k.targetId),te=B&&B.targetMismatches.get(k.targetId)!=null,ye=k.view.applyChanges(G,z.isPrimaryClient,ne,te);return Iw(z,k.targetId,ye.au),ye.snapshot})(n,E,C,R);const c=await xw(n.localStore,e,!0),h=new ZL(e,c.ks),_=h.ru(c.documents),p=Ud.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=h.applyChanges(_,n.isPrimaryClient,p);Iw(n,t,v.au);const w=new KL(e,t,h);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function e5(n,e,t){const s=Je(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!fm(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ty(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&w_(s.remoteStore,o.targetId),Ny(s,o.targetId)})).catch(au)):(Ny(s,o.targetId),await Ty(s.localStore,o.targetId,!0))}async function t5(n,e){const t=Je(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),w_(t.remoteStore,s.targetId))}async function n5(n,e,t){const s=c5(n);try{const o=await(function(h,_){const p=Je(h),v=Wt.now(),w=_.reduce(((R,j)=>R.add(j.key)),yt());let E,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let j=Ia(),z=yt();return p.xs.getEntries(R,w).next((k=>{j=k,j.forEach(((V,B)=>{B.isValidDocument()||(z=z.add(V))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,j))).next((k=>{E=k;const V=[];for(const B of _){const G=pj(B,E.get(B.key).overlayedDocument);G!=null&&V.push(new Go(B.key,G,qE(G.value.mapValue),wi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,v,V,_)})).next((k=>{C=k;const V=k.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(R,k.batchId,V)}))})).then((()=>({batchId:C.batchId,changes:eT(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,_,p){let v=h.du[h.currentUser.toKey()];v||(v=new sn(gt)),v=v.insert(_,p),h.du[h.currentUser.toKey()]=v})(s,o.batchId,t),await qd(s,o.changes),await bm(s.remoteStore)}catch(o){const c=N_(o,"Failed to persist write");t.reject(c)}}async function OT(n,e){const t=Je(n);try{const s=await mL(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=t.Au.get(c);h&&(Rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Rt(h.hu,14607):o.removedDocuments.size>0&&(Rt(h.hu,42227),h.hu=!1))})),await qd(t,s,e)}catch(s){await au(s)}}function Rw(n,e,t){const s=Je(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,h)=>{const _=h.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(h,_){const p=Je(h);p.onlineState=_;let v=!1;p.queries.forEach(((w,E)=>{for(const C of E.ba)C.va(_)&&(v=!0)})),v&&I_(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function i5(n,e,t){const s=Je(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new sn(Ge.comparator);h=h.insert(c,ci.newNoDocument(c,et.min()));const _=yt().add(c),p=new _m(et.min(),new Map,new sn(gt),h,_);await OT(s,p),s.Ru=s.Ru.remove(c),s.Au.delete(e),j_(s)}else await Ty(s.localStore,e,!1).then((()=>Ny(s,e,t))).catch(au)}async function s5(n,e){const t=Je(n),s=e.batch.batchId;try{const o=await fL(t.localStore,e);zT(t,s,null),VT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await qd(t,o)}catch(o){await au(o)}}async function r5(n,e,t){const s=Je(n);try{const o=await(function(h,_){const p=Je(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return p.mutationQueue.lookupMutationBatch(v,_).next((E=>(Rt(E!==null,37113),w=E.keys(),p.mutationQueue.removeMutationBatch(v,E)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,w,_))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>p.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);zT(s,e,t),VT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await qd(s,o)}catch(o){await au(o)}}function VT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function zT(n,e,t){const s=Je(n);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Ny(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||UT(n,s)}))}function UT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(w_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),j_(n))}function Iw(n,e,t){for(const s of t)s instanceof LT?(n.Vu.addReference(s.key,e),a5(n,s)):s instanceof kT?(Le(M_,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||UT(n,s.key)):Ye(19791,{wu:s})}function a5(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(Le(M_,"New document in limbo: "+t),n.Eu.add(s),j_(n))}function j_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ge(Ht.fromString(e)),s=n.fu.next();n.Au.set(s,new YL(t)),n.Ru=n.Ru.insert(t,s),CT(n.remoteStore,new Co(zr(hm(t.path)),s,"TargetPurposeLimboResolution",cm.ce))}}async function qd(n,e,t){const s=Je(n),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((_,p)=>{h.push(s.pu(p,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(v){o.push(v);const w=x_.Es(p.targetId,v);c.push(w)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,v){const w=Je(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Te.forEach(v,(C=>Te.forEach(C.Ts,(R=>w.persistence.referenceDelegate.addReference(E,C.targetId,R))).next((()=>Te.forEach(C.Is,(R=>w.persistence.referenceDelegate.removeReference(E,C.targetId,R)))))))))}catch(E){if(!ou(E))throw E;Le(b_,"Failed to update sequence numbers: "+E)}for(const E of v){const C=E.targetId;if(!E.fromCache){const R=w.vs.get(C),j=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(j);w.vs=w.vs.insert(C,z)}}})(s.localStore,c))}async function o5(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Le(M_,"User change. New user:",e.toKey());const s=await TT(t.localStore,e);t.currentUser=e,(function(c,h){c.mu.forEach((_=>{_.forEach((p=>{p.reject(new Pe(ve.CANCELLED,h))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qd(t,s.Ns)}}function l5(n,e){const t=Je(n),s=t.Au.get(e);if(s&&s.hu)return yt().add(s.key);{let o=yt();const c=t.Iu.get(e);if(!c)return o;for(const h of c){const _=t.Tu.get(h);o=o.unionWith(_.view.nu)}return o}}function BT(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i5.bind(null,e),e.Pu.J_=GL.bind(null,e.eventManager),e.Pu.yu=$L.bind(null,e.eventManager),e}function c5(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r5.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return hL(this.persistence,new cL,e.initialUser,this.serializer)}Cu(e){return new ET(v_.Vi,this.serializer)}Du(e){return new vL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class u5 extends qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Rt(this.persistence.referenceDelegate instanceof Uf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Kj(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new ET((s=>Uf.Vi(s,t)),this.serializer)}}class Cy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Rw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=o5.bind(null,this.syncEngine),await qL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FL})()}createDatastore(e){const t=vm(e.databaseInfo.databaseId),s=TL(e.databaseInfo);return RL(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,h,_){return new PL(s,o,c,h,_)})(this.localStore,this.datastore,e.asyncQueue,(t=>Rw(this.syncEngine,t,0)),(function(){return Ew.v()?new Ew:new xL})())}createSyncEngine(e,t){return(function(o,c,h,_,p,v,w){const E=new WL(o,c,h,_,p,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Je(t);Le(Fl,"RemoteStore shutting down."),s.Ea.add(5),await Bd(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cy.provider={build:()=>new Cy};class L_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ra("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Bo="FirestoreClient";class d5{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=li.UNAUTHENTICATED,this.clientId=l_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{Le(Bo,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(Le(Bo,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=N_(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function kg(n,e){n.asyncQueue.verifyOperationInProgress(),Le(Bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await TT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Pw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await h5(n);Le(Bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Sw(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Sw(e.remoteStore,o))),n._onlineComponents=e}async function h5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le(Bo,"Using user provided OfflineComponentProvider");try{await kg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ve.FAILED_PRECONDITION||o.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Hl("Error using user provided cache. Falling back to memory cache: "+t),await kg(n,new qf)}}else Le(Bo,"Using default OfflineComponentProvider"),await kg(n,new u5(void 0));return n._offlineComponents}async function k_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le(Bo,"Using user provided OnlineComponentProvider"),await Pw(n,n._uninitializedComponentsProvider._online)):(Le(Bo,"Using default OnlineComponentProvider"),await Pw(n,new Cy))),n._onlineComponents}function f5(n){return k_(n).then((e=>e.syncEngine))}function m5(n){return k_(n).then((e=>e.datastore))}async function Hf(n){const e=await k_(n),t=e.eventManager;return t.onListen=QL.bind(null,e.syncEngine),t.onUnlisten=e5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=XL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=t5.bind(null,e.syncEngine),t}function p5(n,e,t,s){const o=new L_(s),c=new P_(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>C_(await Hf(n),c))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>R_(await Hf(n),c)))}}function g5(n,e,t={}){const s=new Vr;return n.asyncQueue.enqueueAndForget((async()=>(function(c,h,_,p,v){const w=new L_({next:C=>{w.Nu(),h.enqueueAndForget((()=>R_(c,E)));const R=C.docs.has(_);!R&&C.fromCache?v.reject(new Pe(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&C.fromCache&&p&&p.source==="server"?v.reject(new Pe(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),E=new P_(hm(_.path),w,{includeMetadataChanges:!0,Ka:!0});return C_(c,E)})(await Hf(n),n.asyncQueue,e,t,s))),s.promise}function y5(n,e,t={}){const s=new Vr;return n.asyncQueue.enqueueAndForget((async()=>(function(c,h,_,p,v){const w=new L_({next:C=>{w.Nu(),h.enqueueAndForget((()=>R_(c,E))),C.fromCache&&p.source==="server"?v.reject(new Pe(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),E=new P_(_,w,{includeMetadataChanges:!0,Ka:!0});return C_(c,E)})(await Hf(n),n.asyncQueue,e,t,s))),s.promise}function _5(n,e,t){const s=new Vr;return n.asyncQueue.enqueueAndForget((async()=>{try{const o=await m5(n);s.resolve((async function(h,_,p){const v=Je(h),{request:w,gt:E,parent:C}=kj(v.serializer,ej(_),p);v.connection.Ko||delete w.parent;const R=(await v.jo("RunAggregationQuery",v.serializer.databaseId,C,w,1)).filter((z=>!!z.result));Rt(R.length===1,64727);const j=R[0].result?.aggregateFields;return Object.keys(j).reduce(((z,k)=>(z[E[k]]=j[k],z)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}function v5(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((async()=>n5(await f5(n),e,t))),t.promise}function qT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const x5="ComponentProvider",Mw=new Map;function b5(n,e,t,s,o){return new OM(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,qT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const HT="firestore.googleapis.com",jw=!0;class Lw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HT,this.ssl=jw}else this.host=e.host,this.ssl=e.ssl??jw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$j)throw new Pe(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new pM;switch(s.type){case"firstParty":return new vM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Pe(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Mw.get(t);s&&(Le(x5,"Removing Datastore"),Mw.delete(t),s.terminate())})(this),Promise.resolve()}}function w5(n,e,t,s={}){n=ui(n,wm);const o=Ho(e),c=n._getSettings(),h={...c,emulatorOptions:n._getEmulatorOptions()},_=`${e}:${t}`;o&&($y(`https://${_}`),Zy("Firestore",!0)),c.host!==HT&&c.host!==_&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:_,ssl:o,emulatorOptions:s};if(!Vl(p,h)&&(n._setSettings(p),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=li.MOCK_USER;else{v=O1(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new Pe(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new li(E)}n._authCredentials=new gM(new IE(v,w))}}class $o{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $o(this.firestore,e,this._query)}}class hn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Vd(t,hn._jsonSchema))return new hn(e,s||null,new Ge(Ht.fromString(t.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:Nn("string",hn._jsonSchemaVersion),referencePath:Nn("string")};class jo extends $o{constructor(e,t,s){super(e,t,hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Ge(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function yn(n,e,...t){if(n=Vt(n),PE("collection","path",e),n instanceof wm){const s=Ht.fromString(e,...t);return Zb(s),new jo(n,null,s)}{if(!(n instanceof hn||n instanceof jo))throw new Pe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ht.fromString(e,...t));return Zb(s),new jo(n.firestore,null,s)}}function Yt(n,e,...t){if(n=Vt(n),arguments.length===1&&(e=l_.newId()),PE("doc","path",e),n instanceof wm){const s=Ht.fromString(e,...t);return $b(s),new hn(n,null,new Ge(s))}{if(!(n instanceof hn||n instanceof jo))throw new Pe(ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ht.fromString(e,...t));return $b(s),new hn(n.firestore,n instanceof jo?n.converter:null,new Ge(s))}}const kw="AsyncQueue";class Dw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AT(this,"async_queue_retry"),this._c=()=>{const s=Lg();s&&Le(kw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Lg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ou(e))throw e;Le(kw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ra("INTERNAL UNHANDLED ERROR: ",Ow(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=A_.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ye(47125,{Pc:Ow(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ow(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class lr extends wm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Dw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dw(e),this._firestoreClient=void 0,await e}}}function E5(n,e){const t=typeof n=="object"?n:Wy(),s=typeof n=="string"?n:kf,o=sm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=L1("firestore");c&&w5(o,...c)}return o}function uu(n){if(n._terminated)throw new Pe(ve.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||T5(n),n._firestoreClient}function T5(n){const e=n._freezeSettings(),t=b5(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new d5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}class Os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Os(Wn.fromBase64String(e))}catch(t){throw new Pe(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Os(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vd(e,Os._jsonSchema))return Os.fromBase64String(e.bytes)}}Os._jsonSchemaVersion="firestore/bytes/1.0",Os._jsonSchema={type:Nn("string",Os._jsonSchemaVersion),bytes:Nn("string")};class Em{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tm{constructor(e){this._methodName=e}}class Br{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Br._jsonSchemaVersion}}static fromJSON(e){if(Vd(e,Br._jsonSchema))return new Br(e.latitude,e.longitude)}}Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:Nn("string",Br._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};class ar{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vd(e,ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ar(e.vectorValues);throw new Pe(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:Nn("string",ar._jsonSchemaVersion),vectorValues:Nn("object")};const S5=/^__.*__$/;class A5{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,t,this.fieldTransforms):new zd(e,this.data,t,this.fieldTransforms)}}class FT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Go(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye(40011,{dataSource:n})}}class D_{constructor(e,t,s,o,c,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new D_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ff(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(GT(this.dataSource)&&S5.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class N5{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||vm(e)}createContext(e,t,s,o=!1){return new D_({dataSource:e,methodName:t,targetDoc:s,path:Yn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(n){const e=n._freezeSettings(),t=vm(n._databaseId);return new N5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function O_(n,e,t,s,o,c={}){const h=n.createContext(c.merge||c.mergeFields?2:0,e,t,o);z_("Data must be an object, but it was:",h,s);const _=KT(s,h);let p,v;if(c.merge)p=new fs(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const E of c.mergeFields){const C=Gl(e,E,t);if(!h.contains(C))throw new Pe(ve.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);QT(w,C)||w.push(C)}p=new fs(w),v=h.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,v=h.fieldTransforms;return new A5(new bi(_),p,v)}class Sm extends Tm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}class V_ extends Tm{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Cd(e.serializer,iT(e.serializer,this.Vc));return new dj(e.path,t)}isEqual(e){return e instanceof V_&&this.Vc===e.Vc}}function $T(n,e,t,s){const o=n.createContext(1,e,t);z_("Data must be an object, but it was:",o,s);const c=[],h=bi.empty();Fo(s,((p,v)=>{const w=WT(e,p,t);v=Vt(v);const E=o.childContextForFieldPath(w);if(v instanceof Sm)c.push(w);else{const C=Fd(v,E);C!=null&&(c.push(w),h.set(w,C))}}));const _=new fs(c);return new FT(h,_,o.fieldTransforms)}function ZT(n,e,t,s,o,c){const h=n.createContext(1,e,t),_=[Gl(e,s,t)],p=[o];if(c.length%2!=0)throw new Pe(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)_.push(Gl(e,c[C])),p.push(c[C+1]);const v=[],w=bi.empty();for(let C=_.length-1;C>=0;--C)if(!QT(v,_[C])){const R=_[C];let j=p[C];j=Vt(j);const z=h.childContextForFieldPath(R);if(j instanceof Sm)v.push(R);else{const k=Fd(j,z);k!=null&&(v.push(R),w.set(R,k))}}const E=new fs(v);return new FT(w,E,h.fieldTransforms)}function C5(n,e,t,s=!1){return Fd(t,n.createContext(s?4:3,e))}function Fd(n,e){if(YT(n=Vt(n)))return z_("Unsupported field value:",e,n),KT(n,e);if(n instanceof Tm)return(function(s,o){if(!GT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const _ of s){let p=Fd(_,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Wt.fromDate(s);return{timestampValue:zf(o.serializer,c)}}if(s instanceof Wt){const c=new Wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zf(o.serializer,c)}}if(s instanceof Br)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Os)return{bytesValue:fT(o.serializer,s._byteString)};if(s instanceof hn){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:y_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ar)return(function(h,_){const p=h instanceof ar?h.toArray():h;return{mapValue:{fields:{[UE]:{stringValue:BE},[Df]:{arrayValue:{values:p.map((w=>{if(typeof w!="number")throw _.createError("VectorValues must only contain numeric values.");return m_(_.serializer,w)}))}}}}}})(s,o);if(bT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${lm(s)}`)})(n,e)}function KT(n,e){const t={};return LE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(n,((s,o)=>{const c=Fd(o,e.childContextForField(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function YT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Wt||n instanceof Br||n instanceof Os||n instanceof hn||n instanceof Tm||n instanceof ar||bT(n))}function z_(n,e,t){if(!YT(t)||!ME(t)){const s=lm(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Gl(n,e,t){if((e=Vt(e))instanceof Em)return e._internalPath;if(typeof e=="string")return WT(n,e);throw Ff("Field path arguments must be of type string or ",n,!1,void 0,t)}const R5=new RegExp("[~\\*/\\[\\]]");function WT(n,e,t){if(e.search(R5)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Em(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ff(n,e,t,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new Pe(ve.INVALID_ARGUMENT,_+n+p)}function QT(n,e){return n.some((t=>t.isEqual(e)))}class I5{convertValue(e,t="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Fo(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Df].arrayValue?.values?.map((s=>_n(s.doubleValue)));return new ar(t)}convertGeoPoint(e){return new Br(_n(e.latitude),_n(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=dm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(wd(e));default:return null}}convertTimestamp(e){const t=Oo(e);return new Wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ht.fromString(e);Rt(xT(s),9688,{name:e});const o=new Ed(s.get(1),s.get(3)),c=new Ge(s.popFirst(5));return o.isEqual(t)||Ra(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Am extends I5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Os(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function P5(n){return new V_("increment",n)}const Vw="@firebase/firestore",zw="4.11.0";function Uw(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class M5{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class j5{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new bi({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class XT{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Gl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class L5 extends XT{data(){return super.data()}}function JT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U_{}class eS extends U_{}function Ds(n,e,...t){let s=[];e instanceof U_&&s.push(e),s=s.concat(t),(function(c){const h=c.filter((p=>p instanceof B_)).length,_=c.filter((p=>p instanceof Nm)).length;if(h>1||h>0&&_>0)throw new Pe(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Nm extends eS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Nm(e,t,s)}_apply(e){const t=this._parse(e);return tS(e._query,t),new $o(e.firestore,e.converter,_y(e._query,t))}_parse(e){const t=Hd(e.firestore);return(function(c,h,_,p,v,w,E){let C;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Pe(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){qw(E,w);const j=[];for(const z of E)j.push(Bw(p,c,z));C={arrayValue:{values:j}}}else C=Bw(p,c,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||qw(E,w),C=C5(_,h,E,w==="in"||w==="not-in");return An.create(v,w,C)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xa(n,e,t){const s=e,o=Gl("where",n);return Nm._create(o,s,t)}class B_ extends U_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new B_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let h=o;const _=c.getFlattenedFilters();for(const p of _)tS(h,p),h=_y(h,p)})(e._query,t),new $o(e.firestore,e.converter,_y(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class q_ extends eS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new q_(e,t)}_apply(e){const t=(function(o,c,h){if(o.startAt!==null)throw new Pe(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Pe(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(c,h)})(e._query,this._field,this._direction);return new $o(e.firestore,e.converter,tj(e._query,t))}}function H_(n,e="asc"){const t=e,s=Gl("orderBy",n);return q_._create(s,t)}function Bw(n,e,t){if(typeof(t=Vt(t))=="string"){if(t==="")throw new Pe(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(e)&&t.indexOf("/")!==-1)throw new Pe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ht.fromString(t));if(!Ge.isDocumentKey(s))throw new Pe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tw(n,new Ge(s))}if(t instanceof hn)return tw(n,t._key);throw new Pe(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lm(t)}.`)}function qw(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tS(n,e){const t=(function(o,c){for(const h of o)for(const _ of h.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Pe(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function F_(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}function k5(){return new M5("count")}function Hw(n){return D5(n,{count:k5()})}function D5(n,e){const t=ui(n.firestore,lr),s=uu(t),o=kM(e,((c,h)=>new vj(h,c.aggregateType,c._internalFieldPath)));return _5(s,n._query,o).then((c=>(function(_,p,v){const w=new Am(_);return new j5(p,w,v)})(t,n,c)))}class ad{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends XT{constructor(e,t,s,o,c,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Gl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ll._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:Nn("string",Ll._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class bf extends Ll{data(e={}){return super.data(e)}}class kl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ad(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new bf(this._firestore,this._userDataWriter,s.key,s,new ad(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((_=>{const p=new bf(o._firestore,o._userDataWriter,_.doc.key,_.doc,new ad(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const p=new bf(o._firestore,o._userDataWriter,_.doc.key,_.doc,new ad(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return _.type!==0&&(v=h.indexOf(_.doc.key),h=h.delete(_.doc.key)),_.type!==1&&(h=h.add(_.doc),w=h.indexOf(_.doc.key)),{type:O5(_.type),doc:p,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=l_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:n})}}kl._jsonSchemaVersion="firestore/querySnapshot/1.0",kl._jsonSchema={type:Nn("string",kl._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class V5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hd(e)}set(e,t,s){this._verifyNotCommitted();const o=Dg(e,this._firestore),c=F_(o.converter,t,s),h=O_(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,wi.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const c=Dg(e,this._firestore);let h;return h=typeof(t=Vt(t))=="string"||t instanceof Em?ZT(this._dataReader,"WriteBatch.update",c._key,t,s,o):$T(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Dg(e,this._firestore);return this._mutations=this._mutations.concat(new ym(t._key,wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dg(n,e){if((n=Vt(n)).firestore!==e)throw new Pe(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Lo(n){n=ui(n,hn);const e=ui(n.firestore,lr),t=uu(e);return g5(t,n._key).then((s=>nS(e,n,s)))}function ir(n){n=ui(n,$o);const e=ui(n.firestore,lr),t=uu(e),s=new Am(e);return JT(n._query),y5(t,n._query).then((o=>new kl(e,s,n,o)))}function Og(n,e,t){n=ui(n,hn);const s=ui(n.firestore,lr),o=F_(n.converter,e,t),c=Hd(s);return Gd(s,[O_(c,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,wi.none())])}function Ir(n,e,t,...s){n=ui(n,hn);const o=ui(n.firestore,lr),c=Hd(o);let h;return h=typeof(e=Vt(e))=="string"||e instanceof Em?ZT(c,"updateDoc",n._key,e,t,s):$T(c,"updateDoc",n._key,e),Gd(o,[h.toMutation(n._key,wi.exists(!0))])}function Gf(n){return Gd(ui(n.firestore,lr),[new ym(n._key,wi.none())])}function Dl(n,e){const t=ui(n.firestore,lr),s=Yt(n),o=F_(n.converter,e),c=Hd(n.firestore);return Gd(t,[O_(c,"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,wi.exists(!1))]).then((()=>s))}function z5(n,...e){n=Vt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Uw(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Uw(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let c,h,_;if(n instanceof hn)h=ui(n.firestore,lr),_=hm(n._key.path),c={next:v=>{e[s]&&e[s](nS(h,n,v))},error:e[s+1],complete:e[s+2]};else{const v=ui(n,$o);h=ui(v.firestore,lr),_=v._query;const w=new Am(h);c={next:E=>{e[s]&&e[s](new kl(h,w,v,E))},error:e[s+1],complete:e[s+2]},JT(n._query)}const p=uu(h);return p5(p,_,o,c)}function Gd(n,e){const t=uu(n);return v5(t,e)}function nS(n,e,t){const s=t.docs.get(e._key),o=new Am(n);return new Ll(n,o,e._key,s,new ad(t.hasPendingWrites,t.fromCache),e.converter)}function U5(n){return n=ui(n,lr),uu(n),new V5(n,(e=>Gd(n,e)))}(function(e,t=!0){mM(Wl),zl(new ko("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),_=new lr(new yM(s.getProvider("auth-internal")),new xM(h,s.getProvider("app-check-internal")),VM(h,o),h);return c={useFetchStreams:t,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),kr(Vw,zw,e),kr(Vw,zw,"esm2020")})();const iS="firebasestorage.googleapis.com",sS="storageBucket",B5=120*1e3,q5=600*1e3;class mn extends Fr{constructor(e,t,s=0){super(Vg(e),`Firebase Storage: ${t} (${Vg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fn||(fn={}));function Vg(n){return"storage/"+n}function G_(){const n="An unknown error occurred, please check the error payload for server response.";return new mn(fn.UNKNOWN,n)}function H5(n){return new mn(fn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function F5(n){return new mn(fn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function G5(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(fn.UNAUTHENTICATED,n)}function $5(){return new mn(fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z5(n){return new mn(fn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function K5(){return new mn(fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y5(){return new mn(fn.CANCELED,"User canceled the upload/download.")}function W5(n){return new mn(fn.INVALID_URL,"Invalid URL '"+n+"'.")}function Q5(n){return new mn(fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function X5(){return new mn(fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sS+"' property when initializing the app?")}function J5(){return new mn(fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ek(){return new mn(fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tk(n){return new mn(fn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ry(n){return new mn(fn.INVALID_ARGUMENT,n)}function rS(){return new mn(fn.APP_DELETED,"The Firebase app was deleted.")}function nk(n){return new mn(fn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pd(n,e){return new mn(fn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ju(n){throw new mn(fn.INTERNAL_ERROR,"Internal error: "+n)}class ms{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ms.makeFromUrl(e,t)}catch{return new ms(e,"")}if(s.path==="")return s;throw Q5(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const h="(/(.*))?$",_=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function v(ne){ne.path_=decodeURIComponent(ne.path)}const w="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${w}/b/${o}/o${C}`,"i"),j={bucket:1,path:3},z=t===iS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",V=new RegExp(`^https?://${z}/${o}/${k}`,"i"),G=[{regex:_,indices:p,postModify:c},{regex:R,indices:j,postModify:v},{regex:V,indices:{bucket:1,path:2},postModify:v}];for(let ne=0;ne<G.length;ne++){const te=G[ne],ye=te.regex.exec(e);if(ye){const q=ye[te.indices.bucket];let I=ye[te.indices.path];I||(I=""),s=new ms(q,I),te.postModify(s);break}}if(s==null)throw W5(e);return s}}class ik{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function sk(n,e,t){let s=1,o=null,c=null,h=!1,_=0;function p(){return _===2}let v=!1;function w(...k){v||(v=!0,e.apply(null,k))}function E(k){o=setTimeout(()=>{o=null,n(R,p())},k)}function C(){c&&clearTimeout(c)}function R(k,...V){if(v){C();return}if(k){C(),w.call(null,k,...V);return}if(p()||h){C(),w.call(null,k,...V);return}s<64&&(s*=2);let G;_===1?(_=2,G=0):G=(s+Math.random())*1e3,E(G)}let j=!1;function z(k){j||(j=!0,C(),!v&&(o!==null?(k||(_=2),clearTimeout(o),E(0)):k||(_=1)))}return E(0),c=setTimeout(()=>{h=!0,z(!0)},t),z}function rk(n){n(!1)}function ak(n){return n!==void 0}function ok(n){return typeof n=="object"&&!Array.isArray(n)}function $_(n){return typeof n=="string"||n instanceof String}function Fw(n){return Z_()&&n instanceof Blob}function Z_(){return typeof Blob<"u"}function Gw(n,e,t,s){if(s<e)throw Ry(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Ry(`Invalid value for '${n}'. Expected ${t} or less.`)}function K_(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function aS(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ol;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ol||(Ol={}));function lk(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}class ck{constructor(e,t,s,o,c,h,_,p,v,w,E,C=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=_,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=E,this.retry=C,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,z)=>{this.resolve_=j,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new af(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=_=>{const p=_.loaded,v=_.lengthComputable?_.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const _=c.getErrorCode()===Ol.NO_ERROR,p=c.getStatus();if(!_||lk(p,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Ol.ABORT;s(!1,new af(!1,null,w));return}const v=this.successCodes_.indexOf(p)!==-1;s(!0,new af(v,c))})},t=(s,o)=>{const c=this.resolve_,h=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(_,_.getResponse());ak(p)?c(p):c()}catch(p){h(p)}else if(_!==null){const p=G_();p.serverResponse=_.getErrorText(),this.errorCallback_?h(this.errorCallback_(_,p)):h(p)}else if(o.canceled){const p=this.appDelete_?rS():Y5();h(p)}else{const p=K5();h(p)}};this.canceled_?t(!1,new af(!1,null,!0)):this.backoffId_=sk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class af{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function uk(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function dk(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hk(n,e){e&&(n["X-Firebase-GMPID"]=e)}function fk(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function mk(n,e,t,s,o,c,h=!0,_=!1){const p=aS(n.urlParams),v=n.url+p,w=Object.assign({},n.headers);return hk(w,e),uk(w,t),dk(w,c),fk(w,s),new ck(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,_)}function pk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gk(...n){const e=pk();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Z_())return new Blob(n);throw new mn(fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yk(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function _k(n){if(typeof atob>"u")throw tk("base-64");return atob(n)}const Pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zg{constructor(e,t){this.data=e,this.contentType=t||null}}function vk(n,e){switch(n){case Pr.RAW:return new zg(oS(e));case Pr.BASE64:case Pr.BASE64URL:return new zg(lS(n,e));case Pr.DATA_URL:return new zg(bk(e),wk(e))}throw G_()}function oS(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=s,h=n.charCodeAt(++t);s=65536|(c&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function xk(n){let e;try{e=decodeURIComponent(n)}catch{throw pd(Pr.DATA_URL,"Malformed data URL.")}return oS(e)}function lS(n,e){switch(n){case Pr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw pd(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Pr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw pd(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=_k(e)}catch(o){throw o.message.includes("polyfill")?o:pd(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class cS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw pd(Pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=Ek(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function bk(n){const e=new cS(n);return e.base64?lS(Pr.BASE64,e.rest):xk(e.rest)}function wk(n){return new cS(n).contentType}function Ek(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Ao{constructor(e,t){let s=0,o="";Fw(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Fw(this.data_)){const s=this.data_,o=yk(s,e,t);return o===null?null:new Ao(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ao(s,!0)}}static getBlob(...e){if(Z_()){const t=e.map(s=>s instanceof Ao?s.data_:s);return new Ao(gk.apply(null,t))}else{const t=e.map(h=>$_(h)?vk(Pr.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let c=0;return t.forEach(h=>{for(let _=0;_<h.length;_++)o[c++]=h[_]}),new Ao(o,!0)}}uploadData(){return this.data_}}function uS(n){let e;try{e=JSON.parse(n)}catch{return null}return ok(e)?e:null}function Tk(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Sk(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function dS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function Ak(n,e){return e}class vi{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||Ak}}let of=null;function Nk(n){return!$_(n)||n.length<2?n:dS(n)}function hS(){if(of)return of;const n=[];n.push(new vi("bucket")),n.push(new vi("generation")),n.push(new vi("metageneration")),n.push(new vi("name","fullPath",!0));function e(c,h){return Nk(h)}const t=new vi("name");t.xform=e,n.push(t);function s(c,h){return h!==void 0?Number(h):h}const o=new vi("size");return o.xform=s,n.push(o),n.push(new vi("timeCreated")),n.push(new vi("updated")),n.push(new vi("md5Hash",null,!0)),n.push(new vi("cacheControl",null,!0)),n.push(new vi("contentDisposition",null,!0)),n.push(new vi("contentEncoding",null,!0)),n.push(new vi("contentLanguage",null,!0)),n.push(new vi("contentType",null,!0)),n.push(new vi("metadata","customMetadata",!0)),of=n,of}function Ck(n,e){function t(){const s=n.bucket,o=n.fullPath,c=new ms(s,o);return e._makeStorageReference(c)}Object.defineProperty(n,"ref",{get:t})}function Rk(n,e,t){const s={};s.type="file";const o=t.length;for(let c=0;c<o;c++){const h=t[c];s[h.local]=h.xform(s,e[h.server])}return Ck(s,n),s}function fS(n,e,t){const s=uS(e);return s===null?null:Rk(n,s,t)}function Ik(n,e,t,s){const o=uS(e);if(o===null||!$_(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(v=>{const w=n.bucket,E=n.fullPath,C="/b/"+h(w)+"/o/"+h(E),R=K_(C,t,s),j=aS({alt:"media",token:v});return R+j})[0]}function Pk(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}class mS{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pS(n){if(!n)throw G_()}function Mk(n,e){function t(s,o){const c=fS(n,o,e);return pS(c!==null),c}return t}function jk(n,e){function t(s,o){const c=fS(n,o,e);return pS(c!==null),Ik(c,o,n.host,n._protocol)}return t}function gS(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=$5():o=G5():t.getStatus()===402?o=F5(n.bucket):t.getStatus()===403?o=Z5(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Lk(n){const e=gS(n);function t(s,o){let c=e(s,o);return s.getStatus()===404&&(c=H5(n.path)),c.serverResponse=o.serverResponse,c}return t}function kk(n,e,t){const s=e.fullServerUrl(),o=K_(s,n.host,n._protocol),c="GET",h=n.maxOperationRetryTime,_=new mS(o,c,jk(n,t),h);return _.errorHandler=Lk(e),_}function Dk(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Ok(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=Dk(null,e)),s}function Vk(n,e,t,s,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function _(){let G="";for(let ne=0;ne<2;ne++)G=G+Math.random().toString().slice(2);return G}const p=_();h["Content-Type"]="multipart/related; boundary="+p;const v=Ok(e,s,o),w=Pk(v,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+v.contentType+`\r
\r
`,C=`\r
--`+p+"--",R=Ao.getBlob(E,s,C);if(R===null)throw J5();const j={name:v.fullPath},z=K_(c,n.host,n._protocol),k="POST",V=n.maxUploadRetryTime,B=new mS(z,k,Mk(n,t),V);return B.urlParams=j,B.headers=h,B.body=R.uploadData(),B.errorHandler=gS(e),B}class zk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ol.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ol.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ol.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,c){if(this.sent_)throw Ju("cannot .send() more than once");if(Ho(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ju("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ju("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ju("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ju("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Uk extends zk{initXhr(){this.xhr_.responseType="text"}}function yS(){return new Uk}class $l{constructor(e,t){this._service=e,t instanceof ms?this._location=t:this._location=ms.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $l(e,t)}get root(){const e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dS(this._location.path)}get storage(){return this._service}get parent(){const e=Tk(this._location.path);if(e===null)return null;const t=new ms(this._location.bucket,e);return new $l(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw nk(e)}}function Bk(n,e,t){n._throwIfRoot("uploadBytes");const s=Vk(n.storage,n._location,hS(),new Ao(e,!0),t);return n.storage.makeRequestWithTokens(s,yS).then(o=>({metadata:o,ref:n}))}function qk(n){n._throwIfRoot("getDownloadURL");const e=kk(n.storage,n._location,hS());return n.storage.makeRequestWithTokens(e,yS).then(t=>{if(t===null)throw ek();return t})}function Hk(n,e){const t=Sk(n._location.path,e),s=new ms(n._location.bucket,t);return new $l(n.storage,s)}function Fk(n){return/^[A-Za-z]+:\/\//.test(n)}function Gk(n,e){return new $l(n,e)}function _S(n,e){if(n instanceof Y_){const t=n;if(t._bucket==null)throw X5();const s=new $l(t,t._bucket);return e!=null?_S(s,e):s}else return e!==void 0?Hk(n,e):n}function $k(n,e){if(e&&Fk(e)){if(n instanceof Y_)return Gk(n,e);throw Ry("To use ref(service, url), the first argument must be a Storage instance.")}else return _S(n,e)}function $w(n,e){const t=e?.[sS];return t==null?null:ms.makeFromBucketSpec(t,n)}function Zk(n,e,t,s={}){n.host=`${e}:${t}`;const o=Ho(e);o&&($y(`https://${n.host}/b`),Zy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:O1(c,n.app.options.projectId))}class Y_{constructor(e,t,s,o,c,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=iS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B5,this._maxUploadRetryTime=q5,this._requests=new Set,o!=null?this._bucket=ms.makeFromBucketSpec(o,this._host):this._bucket=$w(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ms.makeFromBucketSpec(this._url,e):this._bucket=$w(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $l(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new ik(rS());{const h=mk(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Zw="@firebase/storage",Kw="0.14.0";const vS="storage";function Ug(n,e,t){return n=Vt(n),Bk(n,e,t)}function Bg(n){return n=Vt(n),qk(n)}function qg(n,e){return n=Vt(n),$k(n,e)}function Kk(n=Wy(),e){n=Vt(n);const s=sm(n,vS).getImmediate({identifier:e}),o=L1("storage");return o&&Yk(s,...o),s}function Yk(n,e,t,s={}){Zk(n,e,t,s)}function Wk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Y_(t,s,o,e,Wl)}function Qk(){zl(new ko(vS,Wk,"PUBLIC").setMultipleInstances(!0)),kr(Zw,Kw,""),kr(Zw,Kw,"esm2020")}Qk();const Xk={apiKey:"AIzaSyDhATfuTR03Z0MDHK6LdVtePzvnOlw2RYs",authDomain:"inmobiliaria-89dca.firebaseapp.com",projectId:"inmobiliaria-89dca",storageBucket:"inmobiliaria-89dca.firebasestorage.app",messagingSenderId:"264339137867",appId:"1:264339137867:web:721f347d175208451c34ce",measurementId:"G-71P9DV29GB"},W_=U1(Xk),Il=hM(W_),Xe=E5(W_),Hg=Kk(W_),Jk=new ba,e4=new ud("apple.com");let t4={data:""},n4=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||t4},i4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,s4=/\/\*[^]*?\*\/|  +/g,Yw=/\n+/g,No=(n,e)=>{let t="",s="",o="";for(let c in n){let h=n[c];c[0]=="@"?c[1]=="i"?t=c+" "+h+";":s+=c[1]=="f"?No(h,c):c+"{"+No(h,c[1]=="k"?"":e)+"}":typeof h=="object"?s+=No(h,e?e.replace(/([^,])+/g,_=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,_):_?_+" "+p:p)):c):h!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=No.p?No.p(c,h):c+":"+h+";")}return t+(e&&o?e+"{"+o+"}":o)+s},_a={},xS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+xS(n[t]);return e}return n},r4=(n,e,t,s,o)=>{let c=xS(n),h=_a[c]||(_a[c]=(p=>{let v=0,w=11;for(;v<p.length;)w=101*w+p.charCodeAt(v++)>>>0;return"go"+w})(c));if(!_a[h]){let p=c!==n?n:(v=>{let w,E,C=[{}];for(;w=i4.exec(v.replace(s4,""));)w[4]?C.shift():w[3]?(E=w[3].replace(Yw," ").trim(),C.unshift(C[0][E]=C[0][E]||{})):C[0][w[1]]=w[2].replace(Yw," ").trim();return C[0]})(n);_a[h]=No(o?{["@keyframes "+h]:p}:p,t?"":"."+h)}let _=t&&_a.g?_a.g:null;return t&&(_a.g=_a[h]),((p,v,w,E)=>{E?v.data=v.data.replace(E,p):v.data.indexOf(p)===-1&&(v.data=w?p+v.data:v.data+p)})(_a[h],e,s,_),h},a4=(n,e,t)=>n.reduce((s,o,c)=>{let h=e[c];if(h&&h.call){let _=h(t),p=_&&_.props&&_.props.className||/^go/.test(_)&&_;h=p?"."+p:_&&typeof _=="object"?_.props?"":No(_,""):_===!1?"":_}return s+o+(h??"")},"");function Cm(n){let e=this||{},t=n.call?n(e.p):n;return r4(t.unshift?t.raw?a4(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,n4(e.target),e.g,e.o,e.k)}let bS,Iy,Py;Cm.bind({g:1});let Pa=Cm.bind({k:1});function o4(n,e,t,s){No.p=e,bS=n,Iy=t,Py=s}function Zo(n,e){let t=this||{};return function(){let s=arguments;function o(c,h){let _=Object.assign({},c),p=_.className||o.className;t.p=Object.assign({theme:Iy&&Iy()},_),t.o=/ *go\d+/.test(p),_.className=Cm.apply(t,s)+(p?" "+p:"");let v=n;return n[0]&&(v=_.as||n,delete _.as),Py&&v[0]&&Py(_),bS(v,_)}return o}}var l4=n=>typeof n=="function",$f=(n,e)=>l4(n)?n(e):n,c4=(()=>{let n=0;return()=>(++n).toString()})(),wS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),u4=20,Q_="default",ES=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return ES(n,{type:n.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let c=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+c}))}}},wf=[],TS={toasts:[],pausedAt:void 0,settings:{toastLimit:u4}},Mr={},SS=(n,e=Q_)=>{Mr[e]=ES(Mr[e]||TS,n),wf.forEach(([t,s])=>{t===e&&s(Mr[e])})},AS=n=>Object.keys(Mr).forEach(e=>SS(n,e)),d4=n=>Object.keys(Mr).find(e=>Mr[e].toasts.some(t=>t.id===n)),Rm=(n=Q_)=>e=>{SS(e,n)},h4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},f4=(n={},e=Q_)=>{let[t,s]=D.useState(Mr[e]||TS),o=D.useRef(Mr[e]);D.useEffect(()=>(o.current!==Mr[e]&&s(Mr[e]),wf.push([e,s]),()=>{let h=wf.findIndex(([_])=>_===e);h>-1&&wf.splice(h,1)}),[e]);let c=t.toasts.map(h=>{var _,p,v;return{...n,...n[h.type],...h,removeDelay:h.removeDelay||((_=n[h.type])==null?void 0:_.removeDelay)||n?.removeDelay,duration:h.duration||((p=n[h.type])==null?void 0:p.duration)||n?.duration||h4[h.type],style:{...n.style,...(v=n[h.type])==null?void 0:v.style,...h.style}}});return{...t,toasts:c}},m4=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||c4()}),$d=n=>(e,t)=>{let s=m4(e,n,t);return Rm(s.toasterId||d4(s.id))({type:2,toast:s}),s.id},Pn=(n,e)=>$d("blank")(n,e);Pn.error=$d("error");Pn.success=$d("success");Pn.loading=$d("loading");Pn.custom=$d("custom");Pn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Rm(e)(t):AS(t)};Pn.dismissAll=n=>Pn.dismiss(void 0,n);Pn.remove=(n,e)=>{let t={type:4,toastId:n};e?Rm(e)(t):AS(t)};Pn.removeAll=n=>Pn.remove(void 0,n);Pn.promise=(n,e,t)=>{let s=Pn.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?$f(e.success,o):void 0;return c?Pn.success(c,{id:s,...t,...t?.success}):Pn.dismiss(s),o}).catch(o=>{let c=e.error?$f(e.error,o):void 0;c?Pn.error(c,{id:s,...t,...t?.error}):Pn.dismiss(s)}),n};var p4=1e3,g4=(n,e="default")=>{let{toasts:t,pausedAt:s}=f4(n,e),o=D.useRef(new Map).current,c=D.useCallback((E,C=p4)=>{if(o.has(E))return;let R=setTimeout(()=>{o.delete(E),h({type:4,toastId:E})},C);o.set(E,R)},[]);D.useEffect(()=>{if(s)return;let E=Date.now(),C=t.map(R=>{if(R.duration===1/0)return;let j=(R.duration||0)+R.pauseDuration-(E-R.createdAt);if(j<0){R.visible&&Pn.dismiss(R.id);return}return setTimeout(()=>Pn.dismiss(R.id,e),j)});return()=>{C.forEach(R=>R&&clearTimeout(R))}},[t,s,e]);let h=D.useCallback(Rm(e),[e]),_=D.useCallback(()=>{h({type:5,time:Date.now()})},[h]),p=D.useCallback((E,C)=>{h({type:1,toast:{id:E,height:C}})},[h]),v=D.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),w=D.useCallback((E,C)=>{let{reverseOrder:R=!1,gutter:j=8,defaultPosition:z}=C||{},k=t.filter(G=>(G.position||z)===(E.position||z)&&G.height),V=k.findIndex(G=>G.id===E.id),B=k.filter((G,ne)=>ne<V&&G.visible).length;return k.filter(G=>G.visible).slice(...R?[B+1]:[0,B]).reduce((G,ne)=>G+(ne.height||0)+j,0)},[t]);return D.useEffect(()=>{t.forEach(E=>{if(E.dismissed)c(E.id,E.removeDelay);else{let C=o.get(E.id);C&&(clearTimeout(C),o.delete(E.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:p,startPause:_,endPause:v,calculateOffset:w}}},y4=Pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_4=Pa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,v4=Pa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,x4=Zo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${y4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${v4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,b4=Pa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,w4=Zo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${b4} 1s linear infinite;
`,E4=Pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,T4=Pa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,S4=Zo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${E4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${T4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,A4=Zo("div")`
  position: absolute;
`,N4=Zo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,C4=Pa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R4=Zo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${C4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,I4=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?D.createElement(R4,null,e):e:t==="blank"?null:D.createElement(N4,null,D.createElement(w4,{...s}),t!=="loading"&&D.createElement(A4,null,t==="error"?D.createElement(x4,{...s}):D.createElement(S4,{...s})))},P4=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,M4=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,j4="0%{opacity:0;} 100%{opacity:1;}",L4="0%{opacity:1;} 100%{opacity:0;}",k4=Zo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,D4=Zo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,O4=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=wS()?[j4,L4]:[P4(t),M4(t)];return{animation:e?`${Pa(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pa(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},V4=D.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?O4(n.position||e||"top-center",n.visible):{opacity:0},c=D.createElement(I4,{toast:n}),h=D.createElement(D4,{...n.ariaProps},$f(n.message,n));return D.createElement(k4,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:c,message:h}):D.createElement(D.Fragment,null,c,h))});o4(D.createElement);var z4=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=D.useCallback(h=>{if(h){let _=()=>{let p=h.getBoundingClientRect().height;s(n,p)};_(),new MutationObserver(_).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return D.createElement("div",{ref:c,className:e,style:t},o)},U4=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},B4=Cm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,lf=16,q4=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:h,containerClassName:_})=>{let{toasts:p,handlers:v}=g4(t,c);return D.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:lf,left:lf,right:lf,bottom:lf,pointerEvents:"none",...h},className:_,onMouseEnter:v.startPause,onMouseLeave:v.endPause},p.map(w=>{let E=w.position||e,C=v.calculateOffset(w,{reverseOrder:n,gutter:s,defaultPosition:e}),R=U4(E,C);return D.createElement(z4,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?B4:"",style:R},w.type==="custom"?$f(w.message,w):o?o(w):D.createElement(V4,{toast:w,position:E}))}))},Oe=Pn;const NS=D.createContext();function La(){return D.useContext(NS)}function H4({children:n}){const[e,t]=D.useState(null),[s,o]=D.useState(null),[c,h]=D.useState(!0),_=async(z,k,V="cliente",B="",G="",ne="")=>{try{const te=await KI(Il,z,k);return await uy(te.user,{displayName:B}),await Og(Yt(Xe,"users",te.user.uid),{email:z,role:V,displayName:B,phoneNumber:G,dni:ne,createdAt:new Date}),te}catch(te){throw console.error("Signup error",te),R(te)}},p=(z,k)=>YI(Il,z,k).catch(V=>{throw R(V)}),v=async(z="cliente")=>{try{const k=await kb(Il,Jk);return(await Lo(Yt(Xe,"users",k.user.uid))).exists()||await Og(Yt(Xe,"users",k.user.uid),{email:k.user.email,displayName:k.user.displayName,phoneNumber:k.user.phoneNumber||"",role:z,createdAt:new Date}),k}catch(k){throw R(k)}},w=async(z="cliente")=>{try{const k=await kb(Il,e4);return(await Lo(Yt(Xe,"users",k.user.uid))).exists()||await Og(Yt(Xe,"users",k.user.uid),{email:k.user.email,displayName:k.user.displayName,phoneNumber:k.user.phoneNumber||"",role:z,createdAt:new Date}),k}catch(k){throw R(k)}},E=()=>nP(Il),C=z=>ZI(Il,z).catch(k=>{throw R(k)}),R=z=>{let k="Ocurri un error inesperado. Por favor intenta de nuevo.";return z.code==="auth/email-already-in-use"&&(k="Este correo ya est registrado."),z.code==="auth/invalid-email"&&(k="El correo no es vlido."),z.code==="auth/user-not-found"&&(k="No encontramos una cuenta con este correo."),z.code==="auth/wrong-password"&&(k="La contrasea es incorrecta."),z.code==="auth/weak-password"&&(k="La contrasea debe tener al menos 6 caracteres."),new Error(k)};D.useEffect(()=>tP(Il,async k=>{if(t(k),k){const V=await Lo(Yt(Xe,"users",k.uid));V.exists()&&o(V.data())}else o(null);h(!1)}),[]);const j={user:e,userData:s,signup:_,login:p,loginWithGoogle:v,loginWithApple:w,logout:E,resetPassword:C};return f.jsxs(NS.Provider,{value:j,children:[!c&&n,f.jsx(q4,{position:"top-center"})]})}const Fg=({children:n,allowedRoles:e})=>{const{user:t,userData:s,loading:o}=La();return o?f.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?e&&s&&!e.includes(s.role)?s.role==="agente"?f.jsx(wg,{to:"/agent-dashboard"}):f.jsx(wg,{to:"/client-dashboard"}):n:f.jsx(wg,{to:"/login"})};const CS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const F4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const G4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const Ww=n=>{const e=G4(n);return e.charAt(0).toUpperCase()+e.slice(1)};var $4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z4=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const K4=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,..._},p)=>D.createElement("svg",{ref:p,...$4,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:CS("lucide",o),...!c&&!Z4(_)&&{"aria-hidden":"true"},..._},[...h.map(([v,w])=>D.createElement(v,w)),...Array.isArray(c)?c:[c]]));const qe=(n,e)=>{const t=D.forwardRef(({className:s,...o},c)=>D.createElement(K4,{ref:c,iconNode:e,className:CS(`lucide-${F4(Ww(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Ww(n),t};const Y4=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],W4=qe("armchair",Y4);const Q4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],My=qe("arrow-left",Q4);const X4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],J4=qe("arrow-right",X4);const eD=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],tD=qe("arrow-up-down",eD);const nD=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],iD=qe("arrow-up-from-line",nD);const sD=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],rD=qe("bath",sD);const aD=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],oD=qe("bed-double",aD);const lD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Qw=qe("briefcase",lD);const cD=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],uD=qe("building-2",cD);const dD=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],hD=qe("building",dD);const fD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jc=qe("calendar",fD);const mD=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],pD=qe("car",mD);const gD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yD=qe("circle-check-big",gD);const _D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Xw=qe("circle-user",_D);const vD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zf=qe("clock",vD);const xD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bD=qe("copy",xD);const wD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ED=qe("dollar-sign",wD);const TD=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],SD=qe("dumbbell",TD);const AD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kf=qe("eye",AD);const ND=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],RS=qe("facebook",ND);const CD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],RD=qe("file-text",CD);const ID=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],PD=qe("heart-handshake",ID);const MD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Yf=qe("heart",MD);const jD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],IS=qe("house",jD);const LD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],PS=qe("instagram",LD);const kD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gd=qe("key",kD);const DD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],OD=qe("layers",DD);const VD=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Jw=qe("lightbulb",VD);const zD=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],UD=qe("linkedin",zD);const BD=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],qD=qe("list-filter",BD);const HD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],eu=qe("loader-circle",HD);const FD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],GD=qe("lock",FD);const $D=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ZD=qe("mail",$D);const KD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qr=qe("map-pin",KD);const YD=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],WD=qe("maximize",YD);const QD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],XD=qe("menu",QD);const JD=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],eO=qe("message-circle",JD);const tO=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],nO=qe("mountain",tO);const iO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],X_=qe("phone",iO);const sO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rO=qe("plus",sO);const aO=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],oO=qe("refresh-ccw",aO);const lO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Gg=qe("refresh-cw",lO);const cO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zl=qe("search",cO);const uO=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],dO=qe("share",uO);const hO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],MS=qe("shield-check",hO);const fO=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],mO=qe("sliders-horizontal",fO);const pO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gO=qe("star",pO);const yO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_O=qe("target",yO);const vO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jy=qe("trash-2",vO);const xO=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],bO=qe("tree-palm",xO);const wO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$g=qe("upload",wO);const EO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rd=qe("user",EO);const TO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jS=qe("users",TO);const SO=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],AO=qe("warehouse",SO);const NO=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],LS=qe("waves",NO);const CO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jr=qe("x",CO),kS=({property:n})=>{const e=n.exchangeRate||3.8,[t,s]=D.useState(0),[o,c]=D.useState(!1),h=n.currency||"USD",_=typeof n.price=="number"?n.price:parseFloat(n.price);let p,v,w,E;h==="USD"?(p=_,w="USD",v=_*e,E="PEN"):(p=_,w="PEN",v=_/e,E="USD");const C=(j,z)=>{if(!j&&j!==0)return"0";const k=j.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0});return z==="USD"?`$ ${k}`:`S/. ${k}`};D.useEffect(()=>{let j;return o&&n.images&&n.images.length>1?j=setInterval(()=>{s(z=>(z+1)%n.images.length)},1e3):s(0),()=>clearInterval(j)},[o,n.images]);const R=n.images?.[t]||n.images?.[0]||"https://placehold.co/400x300/e2e8f0/94a3b8?text=Sin+Imagen";return f.jsxs(bt,{to:`/properties/${n.id}`,className:"group block relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[f.jsxs("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[f.jsx("img",{src:R,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20 pointer-events-none select-none z-0",children:f.jsx("img",{src:"/logo.png",alt:"",className:"w-1/2 h-auto object-contain filter drop-shadow-md brightness-0 invert"})}),n.isPromoted&&f.jsx("div",{className:"absolute top-3 left-3 bg-[#fc7f51] text-white px-2 py-1 rounded-md text-xs font-bold shadow-md z-10",children:"DESTACADO"}),f.jsx("button",{className:"absolute top-3 right-3 text-white/70 hover:scale-110 transition z-10",children:f.jsx(Yf,{className:"w-6 h-6 fill-black/50 text-white stroke-[2px]"})}),f.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 backdrop-blur-md px-3 py-1 rounded-lg text-white text-xs font-bold uppercase",children:n.type})]}),f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("h3",{className:"font-semibold text-gray-500 truncate pr-2 text-xs uppercase tracking-wide",children:n.location||n.address}),f.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",title:"Vistas",children:[f.jsx(Kf,{className:"w-3 h-3 text-[#fc7f51]"}),f.jsx("span",{className:"text-xs font-bold text-gray-700",children:n.views||0})]})]}),f.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Agente: ",n.agentName||"Inmuvete"]}),f.jsx("p",{className:"text-gray-800 text-sm font-semibold mb-1 line-clamp-1",children:n.title}),f.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[f.jsx("span",{className:"font-bold text-[#fc7f51] text-lg",children:C(p,w)}),f.jsx("span",{className:"text-xs text-gray-400 font-medium",children:C(v,E)})]})]})},RO=[{icon:hD,label:"Departamentos"},{icon:AO,label:"Casas"},{icon:bO,label:"Terrenos"},{icon:nO,label:"Campestres"},{icon:LS,label:"Playa"}],IO=()=>{const n=qo(),[e,t]=D.useState("venta"),[s,o]=D.useState(""),[c,h]=D.useState("departamento"),[_,p]=D.useState("USD"),[v,w]=D.useState(""),[E,C]=D.useState(""),[R,j]=D.useState(!1),[z,k]=D.useState(!1),[V,B]=D.useState({location:"",footage:"",price:""}),G=()=>{const be=`Hola, quiero vender mi propiedad.

 Ubicacin: ${V.location}
 Metraje: ${V.footage} m
 Precio Estimado: $${V.price}

Solicito ms informacin.`,W=`https://wa.me/51965355700?text=${encodeURIComponent(be)}`;window.open(W,"_blank"),k(!1),B({location:"",footage:"",price:""})},ne=["Lima","Arequipa","Cusco","Trujillo","Piura","Ica","Tacna"],[te,ye]=D.useState([]),[q,I]=D.useState(!1),Z=be=>{const W=be.target.value;if(o(W),W.length>0){const me=ne.filter(ae=>ae.toLowerCase().includes(W.toLowerCase()));ye(me),I(!0)}else I(!1)},$=be=>{o(be),I(!1)},[H,K]=D.useState([]),[F,Se]=D.useState(!0);return D.useEffect(()=>{Se(!0);const be=Ds(yn(Xe,"properties")),W=z5(be,me=>{const ae=me.docs.map(Re=>({id:Re.id,...Re.data()}));ae.sort((Re,fe)=>{if(Re.isPromoted&&!fe.isPromoted)return-1;if(!Re.isPromoted&&fe.isPromoted)return 1;const O=Re.createdAt?.seconds||0;return(fe.createdAt?.seconds||0)-O}),K(ae),Se(!1)},me=>{console.error("Error fetching properties:",me),Se(!1)});return()=>W()},[]),f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("div",{className:"relative h-[85vh] min-h-[700px] flex items-center pt-20",children:[f.jsxs("div",{className:"absolute inset-0 z-0",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",alt:"Hero",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/20"})]}),f.jsxs("div",{className:"relative z-10 container mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center",children:[f.jsxs("div",{className:"lg:col-span-5 bg-white rounded-3xl shadow-2xl overflow-hidden animate-fadeIn",children:[f.jsxs("div",{className:"p-8 pb-4 bg-[#262626] text-white",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",style:{color:"#ffffff"},children:"Encuentra tu prximo hogar"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Explora propiedades nicas para vivir o invertir."})]}),f.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[f.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["venta","alquiler","anticresis"].map(be=>f.jsx("button",{onClick:()=>t(be),className:`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${e===be?"bg-white text-[#fc7f51] shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700"}`,children:be},be))}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"En dnde buscas?"}),f.jsxs("div",{className:"relative",children:[f.jsx(qr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",value:s,onChange:Z,onFocus:()=>s&&I(!0),placeholder:"Ciudad, distrito o zona...",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"}),q&&te.length>0&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:te.map(be=>f.jsxs("div",{onClick:()=>$(be),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-2 text-gray-700 font-medium",children:[f.jsx(qr,{className:"w-4 h-4 text-[#fc7f51]"}),be]},be))})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo de Inmueble"}),f.jsxs("div",{className:"relative",children:[f.jsx(IS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsxs("select",{value:c,onChange:be=>h(be.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none appearance-none font-medium cursor-pointer",children:[f.jsx("option",{value:"departamento",children:"Departamento"}),f.jsx("option",{value:"casa",children:"Casa"}),f.jsx("option",{value:"terreno",children:"Terreno"}),f.jsx("option",{value:"oficina",children:"Oficina"}),f.jsx("option",{value:"local",children:"Local Comercial"}),f.jsx("option",{value:"otro",children:"Otro"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),f.jsx("div",{className:"relative",children:f.jsxs("div",{className:"flex bg-gray-50 rounded-xl border border-gray-200 p-1 h-[58px] items-center",children:[f.jsx("button",{onClick:()=>p("USD"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="USD"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"$ USD"}),f.jsx("button",{onClick:()=>p("PEN"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="PEN"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"S/ PEN"})]})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Rango de Precio"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("input",{type:"number",placeholder:"Mnimo",value:v,onChange:be=>w(be.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"}),f.jsx("input",{type:"number",placeholder:"Mximo",value:E,onChange:be=>C(be.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"})]})]}),f.jsxs("button",{onClick:()=>j(!R),className:"flex items-center gap-2 text-[#fc7f51] font-bold text-sm hover:underline",children:[f.jsx(qD,{className:"w-4 h-4"}),R?"Menos filtros":"Ms filtros (Habitaciones, Baos, rea...)"]}),R&&f.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fadeIn",children:[f.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),f.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"}),f.jsx("option",{value:"4",children:"4+"})]})]}),f.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),f.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"})]})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"rea Mnima (m)"}),f.jsx("input",{type:"number",placeholder:"Ej: 80",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none"})]})]}),f.jsxs("button",{onClick:()=>{const be=new URLSearchParams;e&&be.set("operation",e),s&&be.set("location",s),c&&be.set("propertyType",c),_&&be.set("currency",_),v&&be.set("priceMin",v),E&&be.set("priceMax",E),n(`/search?${be.toString()}`)},className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2",children:[f.jsx(Zl,{className:"w-6 h-6"}),"BUSCAR PROPIEDADES"]})]})]}),f.jsx("div",{className:"hidden lg:block lg:col-span-7",children:f.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[f.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-[#fc7f51] transform hover:-translate-x-2 transition cursor-pointer",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:f.jsx(Qw,{className:"w-6 h-6 text-[#fc7f51]"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Deseas adquirir una propiedad?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos para conseguir una al mejor precio."})]})]}),f.jsx(bt,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),f.jsx("button",{onClick:()=>k(!0),className:"block w-full text-left bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-blue-500 transform hover:-translate-x-2 transition cursor-pointer delay-100",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:f.jsx(gd,{className:"w-6 h-6 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Vendes tu Propiedad?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros y vndela ms rpido."})]})]})})]})}),f.jsxs("div",{className:"lg:hidden col-span-1 space-y-4",children:[f.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl border-l-4 border-[#fc7f51]",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:f.jsx(Qw,{className:"w-6 h-6 text-[#fc7f51]"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Eres Propietario?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros."})]})]}),f.jsx(bt,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),f.jsx("button",{onClick:()=>k(!0),className:"block w-full text-left bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl border-l-4 border-blue-500",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:f.jsx(gd,{className:"w-6 h-6 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Vendes tu Propiedad?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos para vender rpido."})]})]})})]})]})]}),z&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden animate-fadeIn",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Vende con nosotros"}),f.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(jr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ingresa los datos de tu propiedad para enviarlos a un agente."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin / Distrito"}),f.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: Miraflores, Lima",value:V.location,onChange:be=>B({...V,location:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metraje Aprox. (m)"}),f.jsx("input",{type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 120",value:V.footage,onChange:be=>B({...V,footage:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto Estimado de Venta"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),f.jsx("input",{type:"number",className:"w-full pl-8 pr-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 150000",value:V.price,onChange:be=>B({...V,price:be.target.value})})]})]}),f.jsxs("button",{onClick:G,disabled:!V.location||!V.footage||!V.price,className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3 rounded-lg shadow-lg hover:shadow-green-500/30 transition flex items-center justify-center gap-2 mt-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(gd,{className:"w-5 h-5"}),"Enviar por WhatsApp"]})]})]})}),f.jsx("div",{className:"bg-gray-50 py-10 border-b border-gray-200",children:f.jsx("div",{className:"container mx-auto px-6",children:f.jsx("div",{className:"flex gap-4 md:gap-12 overflow-x-auto no-scrollbar items-center justify-start md:justify-center py-2",children:RO.map((be,W)=>f.jsxs("div",{onClick:()=>n(`/search?propertyType=${be.label.toLowerCase()}`),className:"flex flex-col items-center gap-3 min-w-[100px] cursor-pointer group opacity-60 hover:opacity-100 transition-all duration-300 hover:-translate-y-1",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-md border border-gray-100 group-hover:border-[#fc7f51]/30 transition",children:f.jsx(be.icon,{className:"w-7 h-7 text-[#262626] group-hover:text-[#fc7f51] transition",strokeWidth:1.5})}),f.jsx("span",{className:"text-sm font-semibold text-[#262626] group-hover:text-[#fc7f51] whitespace-nowrap transition",children:be.label})]},W))})})}),f.jsxs("main",{id:"properties",className:"container mx-auto px-6 py-20",children:[f.jsxs("div",{className:"flex justify-between items-end mb-12",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Oportunidades"}),f.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Propiedades Destacadas"})]}),f.jsxs(bt,{to:"/properties",className:"hidden md:flex items-center gap-2 text-[#262626] font-semibold hover:text-[#fc7f51] transition group",children:["Ver todo ",f.jsx(J4,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:F?f.jsxs("div",{className:"col-span-full py-20 text-center",children:[f.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"}),f.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando propiedades..."})]}):H.length===0?f.jsx("div",{className:"col-span-full py-20 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:f.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propiedades disponibles en este momento."})}):H.filter(be=>{if(e&&be.type!==e)return!1;if(c){if(c==="terreno"){if(be.category!=="terreno")return!1}else if(c!=="otro"&&be.category==="terreno")return!1}if(s&&!be.location?.toLowerCase().includes(s.toLowerCase())&&!be.address?.toLowerCase().includes(s.toLowerCase()))return!1;const W=parseFloat(be.price);return!(v&&W<parseFloat(v)||E&&W>parseFloat(E)||_&&be.currency!==_)}).sort((be,W)=>(W.isExclusive===!0?1:0)-(be.isExclusive===!0?1:0)).map(be=>f.jsx(kS,{property:be},be.id))}),f.jsx("div",{className:"mt-12 text-center md:hidden",children:f.jsx("button",{className:"bg-white border border-gray-300 text-[#262626] px-8 py-3 rounded-full font-bold shadow-sm hover:bg-gray-50 transition",children:"Ver todas las propiedades"})})]}),f.jsxs("section",{className:"py-24 bg-[#16151a] text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#fc7f51] rounded-full opacity-10 blur-[100px] translate-x-1/3 -translate-y-1/3"}),f.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Listo para dar el siguiente paso?"}),f.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-2xl mx-auto",children:"Ya sea que busques comprar, vender o invertir, en Inmuvete tenemos el equipo y la experiencia para hacerlo posible."}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[f.jsx(bt,{to:"/contact",className:"bg-[#fc7f51] text-white px-8 py-4 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg hover:shadow-orange-500/20",children:"Contctanos Ahora"}),f.jsx(bt,{to:"/about",className:"bg-transparent border border-gray-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-[#262626] hover:border-white transition",children:"Conoce Ms"})]})]})]})]})};function e1(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function J_(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:e1(e[s])&&e1(n[s])&&Object.keys(e[s]).length>0&&J_(n[s],e[s])})}const DS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jl(){const n=typeof document<"u"?document:{};return J_(n,DS),n}const PO={document:DS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Ei(){const n=typeof window<"u"?window:{};return J_(n,PO),n}function MO(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function jO(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function OS(n,e=0){return setTimeout(n,e)}function Wf(){return Date.now()}function LO(n){const e=Ei();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function kO(n,e="x"){const t=Ei();let s,o,c;const h=LO(n);return t.WebKitCSSMatrix?(o=h.transform||h.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(_=>_.replace(",",".")).join(", ")),c=new t.WebKitCSSMatrix(o==="none"?"":o)):(c=h.MozTransform||h.OTransform||h.MsTransform||h.msTransform||h.transform||h.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=c.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?o=c.m41:s.length===16?o=parseFloat(s[12]):o=parseFloat(s[4])),e==="y"&&(t.WebKitCSSMatrix?o=c.m42:s.length===16?o=parseFloat(s[13]):o=parseFloat(s[5])),o||0}function cf(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function DO(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function hs(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<n.length;s+=1){const o=n[s];if(o!=null&&!DO(o)){const c=Object.keys(Object(o)).filter(h=>t.indexOf(h)<0);for(let h=0,_=c.length;h<_;h+=1){const p=c[h],v=Object.getOwnPropertyDescriptor(o,p);v!==void 0&&v.enumerable&&(cf(e[p])&&cf(o[p])?o[p].__swiper__?e[p]=o[p]:hs(e[p],o[p]):!cf(e[p])&&cf(o[p])?(e[p]={},o[p].__swiper__?e[p]=o[p]:hs(e[p],o[p])):e[p]=o[p])}}}return e}function Vc(n,e,t){n.style.setProperty(e,t)}function VS({swiper:n,targetPosition:e,side:t}){const s=Ei(),o=-n.translate;let c=null,h;const _=n.params.speed;n.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(n.cssModeFrameID);const p=e>o?"next":"prev",v=(E,C)=>p==="next"&&E>=C||p==="prev"&&E<=C,w=()=>{h=new Date().getTime(),c===null&&(c=h);const E=Math.max(Math.min((h-c)/_,1),0),C=.5-Math.cos(E*Math.PI)/2;let R=o+C*(e-o);if(v(R,e)&&(R=e),n.wrapperEl.scrollTo({[t]:R}),v(R,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:R})}),s.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=s.requestAnimationFrame(w)};w()}function Lr(n,e=""){const t=Ei(),s=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&s.push(...n.assignedElements()),e?s.filter(o=>o.matches(e)):s}function OO(n,e){const t=[e];for(;t.length>0;){const s=t.shift();if(n===s)return!0;t.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function VO(n,e){const t=Ei();let s=e.contains(n);return!s&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(n),s||(s=OO(n,e))),s}function Qf(n){try{console.warn(n);return}catch{}}function Xf(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:MO(e)),t}function zO(n,e){const t=[];for(;n.previousElementSibling;){const s=n.previousElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function UO(n,e){const t=[];for(;n.nextElementSibling;){const s=n.nextElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function Ro(n,e){return Ei().getComputedStyle(n,null).getPropertyValue(e)}function Jf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function zS(n,e){const t=[];let s=n.parentElement;for(;s;)e?s.matches(e)&&t.push(s):t.push(s),s=s.parentElement;return t}function Ly(n,e,t){const s=Ei();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Hn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Id(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Zg;function BO(){const n=Ei(),e=Jl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function US(){return Zg||(Zg=BO()),Zg}let Kg;function qO({userAgent:n}={}){const e=US(),t=Ei(),s=t.navigator.platform,o=n||t.navigator.userAgent,c={ios:!1,android:!1},h=t.screen.width,_=t.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let v=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const w=o.match(/(iPod)(.*OS\s([\d_]+))?/),E=!v&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=s==="Win32";let R=s==="MacIntel";const j=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&R&&e.touch&&j.indexOf(`${h}x${_}`)>=0&&(v=o.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),R=!1),p&&!C&&(c.os="android",c.android=!0),(v||E||w)&&(c.os="ios",c.ios=!0),c}function BS(n={}){return Kg||(Kg=qO(n)),Kg}let Yg;function HO(){const n=Ei(),e=BS();let t=!1;function s(){const _=n.navigator.userAgent.toLowerCase();return _.indexOf("safari")>=0&&_.indexOf("chrome")<0&&_.indexOf("android")<0}if(s()){const _=String(n.navigator.userAgent);if(_.includes("Version/")){const[p,v]=_.split("Version/")[1].split(" ")[0].split(".").map(w=>Number(w));t=p<16||p===16&&v<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),c=s(),h=c||o&&e.ios;return{isSafari:t||c,needPerspectiveFix:t,need3dFix:h,isWebView:o}}function qS(){return Yg||(Yg=HO()),Yg}function FO({swiper:n,on:e,emit:t}){const s=Ei();let o=null,c=null;const h=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},_=()=>{!n||n.destroyed||!n.initialized||(o=new ResizeObserver(w=>{c=s.requestAnimationFrame(()=>{const{width:E,height:C}=n;let R=E,j=C;w.forEach(({contentBoxSize:z,contentRect:k,target:V})=>{V&&V!==n.el||(R=k?k.width:(z[0]||z).inlineSize,j=k?k.height:(z[0]||z).blockSize)}),(R!==E||j!==C)&&h()})}),o.observe(n.el))},p=()=>{c&&s.cancelAnimationFrame(c),o&&o.unobserve&&n.el&&(o.unobserve(n.el),o=null)},v=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof s.ResizeObserver<"u"){_();return}s.addEventListener("resize",h),s.addEventListener("orientationchange",v)}),e("destroy",()=>{p(),s.removeEventListener("resize",h),s.removeEventListener("orientationchange",v)})}function GO({swiper:n,extendParams:e,on:t,emit:s}){const o=[],c=Ei(),h=(v,w={})=>{const E=c.MutationObserver||c.WebkitMutationObserver,C=new E(R=>{if(n.__preventObserver__)return;if(R.length===1){s("observerUpdate",R[0]);return}const j=function(){s("observerUpdate",R[0])};c.requestAnimationFrame?c.requestAnimationFrame(j):c.setTimeout(j,0)});C.observe(v,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:n.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),o.push(C)},_=()=>{if(n.params.observer){if(n.params.observeParents){const v=zS(n.hostEl);for(let w=0;w<v.length;w+=1)h(v[w])}h(n.hostEl,{childList:n.params.observeSlideChildren}),h(n.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(v=>{v.disconnect()}),o.splice(0,o.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",_),t("destroy",p)}var $O={on(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const o=t?"unshift":"push";return n.split(" ").forEach(c=>{s.eventsListeners[c]||(s.eventsListeners[c]=[]),s.eventsListeners[c][o](e)}),s},once(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function o(...c){s.off(n,o),o.__emitterProxy&&delete o.__emitterProxy,e.apply(s,c)}return o.__emitterProxy=e,s.on(n,o,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const s=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[s](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(s=>{typeof e>"u"?t.eventsListeners[s]=[]:t.eventsListeners[s]&&t.eventsListeners[s].forEach((o,c)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&t.eventsListeners[s].splice(c,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,s,o;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],s=n.slice(1,n.length),o=e):(t=n[0].events,s=n[0].data,o=n[0].context||e),s.unshift(o),(Array.isArray(t)?t:t.split(" ")).forEach(h=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(_=>{_.apply(o,[h,...s])}),e.eventsListeners&&e.eventsListeners[h]&&e.eventsListeners[h].forEach(_=>{_.apply(o,s)})}),e}};function ZO(){const n=this;let e,t;const s=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=s.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=s.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Ro(s,"padding-left")||0,10)-parseInt(Ro(s,"padding-right")||0,10),t=t-parseInt(Ro(s,"padding-top")||0,10)-parseInt(Ro(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function KO(){const n=this;function e($,H){return parseFloat($.getPropertyValue(n.getDirectionLabel(H))||0)}const t=n.params,{wrapperEl:s,slidesEl:o,rtlTranslate:c,wrongRTL:h}=n,_=n.virtual&&t.virtual.enabled,p=_?n.virtual.slides.length:n.slides.length,v=Lr(o,`.${n.params.slideClass}, swiper-slide`),w=_?n.virtual.slides.length:v.length;let E=[];const C=[],R=[];let j=t.slidesOffsetBefore;typeof j=="function"&&(j=t.slidesOffsetBefore.call(n));let z=t.slidesOffsetAfter;typeof z=="function"&&(z=t.slidesOffsetAfter.call(n));const k=n.snapGrid.length,V=n.slidesGrid.length,B=n.size-j-z;let G=t.spaceBetween,ne=-j,te=0,ye=0;if(typeof B>"u")return;typeof G=="string"&&G.indexOf("%")>=0?G=parseFloat(G.replace("%",""))/100*B:typeof G=="string"&&(G=parseFloat(G)),n.virtualSize=-G-j-z,v.forEach($=>{c?$.style.marginLeft="":$.style.marginRight="",$.style.marginBottom="",$.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Vc(s,"--swiper-centered-offset-before",""),Vc(s,"--swiper-centered-offset-after","")),t.cssMode&&(Vc(s,"--swiper-slides-offset-before",`${j}px`),Vc(s,"--swiper-slides-offset-after",`${z}px`));const q=t.grid&&t.grid.rows>1&&n.grid;q?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let I;const Z=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter($=>typeof t.breakpoints[$].slidesPerView<"u").length>0;for(let $=0;$<w;$+=1){I=0;const H=v[$];if(!(H&&(q&&n.grid.updateSlide($,H,v),Ro(H,"display")==="none"))){if(_&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(I=t.virtual.slidesPerViewAutoSlideSize),I&&H&&(t.roundLengths&&(I=Math.floor(I)),H.style[n.getDirectionLabel("width")]=`${I}px`);else if(t.slidesPerView==="auto"){Z&&(H.style[n.getDirectionLabel("width")]="");const K=getComputedStyle(H),F=H.style.transform,Se=H.style.webkitTransform;if(F&&(H.style.transform="none"),Se&&(H.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?Ly(H,"width"):Ly(H,"height");else{const be=e(K,"width"),W=e(K,"padding-left"),me=e(K,"padding-right"),ae=e(K,"margin-left"),Re=e(K,"margin-right"),fe=K.getPropertyValue("box-sizing");if(fe&&fe==="border-box")I=be+ae+Re;else{const{clientWidth:O,offsetWidth:ee}=H;I=be+W+me+ae+Re+(ee-O)}}F&&(H.style.transform=F),Se&&(H.style.webkitTransform=Se),t.roundLengths&&(I=Math.floor(I))}else I=(B-(t.slidesPerView-1)*G)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),H&&(H.style[n.getDirectionLabel("width")]=`${I}px`);H&&(H.swiperSlideSize=I),R.push(I),t.centeredSlides?(ne=ne+I/2+te/2+G,te===0&&$!==0&&(ne=ne-B/2-G),$===0&&(ne=ne-B/2-G),Math.abs(ne)<1/1e3&&(ne=0),t.roundLengths&&(ne=Math.floor(ne)),ye%t.slidesPerGroup===0&&E.push(ne),C.push(ne)):(t.roundLengths&&(ne=Math.floor(ne)),(ye-Math.min(n.params.slidesPerGroupSkip,ye))%n.params.slidesPerGroup===0&&E.push(ne),C.push(ne),ne=ne+I+G),n.virtualSize+=I+G,te=I,ye+=1}}if(n.virtualSize=Math.max(n.virtualSize,B)+z,c&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(s.style.width=`${n.virtualSize+G}px`),t.setWrapperSize&&(s.style[n.getDirectionLabel("width")]=`${n.virtualSize+G}px`),q&&n.grid.updateWrapperSize(I,E),!t.centeredSlides){const $=t.slidesPerView!=="auto"&&t.slidesPerView%1!==0,H=t.snapToSlideEdge&&!t.loop&&(t.slidesPerView==="auto"||$);let K=E.length;if(H){let Se;if(t.slidesPerView==="auto"){Se=1;let be=0;for(let W=R.length-1;W>=0&&(be+=R[W]+(W<R.length-1?G:0),be<=B);W-=1)Se=R.length-W}else Se=Math.floor(t.slidesPerView);K=Math.max(w-Se,0)}const F=[];for(let Se=0;Se<E.length;Se+=1){let be=E[Se];t.roundLengths&&(be=Math.floor(be)),H?Se<=K&&F.push(be):E[Se]<=n.virtualSize-B&&F.push(be)}E=F,Math.floor(n.virtualSize-B)-Math.floor(E[E.length-1])>1&&(H||E.push(n.virtualSize-B))}if(_&&t.loop){const $=R[0]+G;if(t.slidesPerGroup>1){const H=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),K=$*t.slidesPerGroup;for(let F=0;F<H;F+=1)E.push(E[E.length-1]+K)}for(let H=0;H<n.virtual.slidesBefore+n.virtual.slidesAfter;H+=1)t.slidesPerGroup===1&&E.push(E[E.length-1]+$),C.push(C[C.length-1]+$),n.virtualSize+=$}if(E.length===0&&(E=[0]),G!==0){const $=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");v.filter((H,K)=>!t.cssMode||t.loop?!0:K!==v.length-1).forEach(H=>{H.style[$]=`${G}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let $=0;R.forEach(K=>{$+=K+(G||0)}),$-=G;const H=$>B?$-B:0;E=E.map(K=>K<=0?-j:K>H?H+z:K)}if(t.centerInsufficientSlides){let $=0;R.forEach(K=>{$+=K+(G||0)}),$-=G;const H=(j||0)+(z||0);if($+H<B){const K=(B-$-H)/2;E.forEach((F,Se)=>{E[Se]=F-K}),C.forEach((F,Se)=>{C[Se]=F+K})}}if(Object.assign(n,{slides:v,snapGrid:E,slidesGrid:C,slidesSizesGrid:R}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Vc(s,"--swiper-centered-offset-before",`${-E[0]}px`),Vc(s,"--swiper-centered-offset-after",`${n.size/2-R[R.length-1]/2}px`);const $=-n.snapGrid[0],H=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(K=>K+$),n.slidesGrid=n.slidesGrid.map(K=>K+H)}if(w!==p&&n.emit("slidesLengthChange"),E.length!==k&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),C.length!==V&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!_&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const $=`${t.containerModifierClass}backface-hidden`,H=n.el.classList.contains($);w<=t.maxBackfaceHiddenSlides?H||n.el.classList.add($):H&&n.el.classList.remove($)}}function YO(n){const e=this,t=[],s=e.virtual&&e.params.virtual.enabled;let o=0,c;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const h=_=>s?e.slides[e.getSlideIndexByData(_)]:e.slides[_];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(_=>{t.push(_)});else for(c=0;c<Math.ceil(e.params.slidesPerView);c+=1){const _=e.activeIndex+c;if(_>e.slides.length&&!s)break;t.push(h(_))}else t.push(h(e.activeIndex));for(c=0;c<t.length;c+=1)if(typeof t[c]<"u"){const _=t[c].offsetHeight;o=_>o?_:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function WO(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(n.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-t-n.cssOverflowAdjustment()}const t1=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function QO(n=this&&this.translate||0){const e=this,t=e.params,{slides:s,rtlTranslate:o,snapGrid:c}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let h=-n;o&&(h=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let _=t.spaceBetween;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*e.size:typeof _=="string"&&(_=parseFloat(_));for(let p=0;p<s.length;p+=1){const v=s[p];let w=v.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(w-=s[0].swiperSlideOffset);const E=(h+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),C=(h-c[0]+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),R=-(h-w),j=R+e.slidesSizesGrid[p],z=R>=0&&R<=e.size-e.slidesSizesGrid[p],k=R>=0&&R<e.size-1||j>1&&j<=e.size||R<=0&&j>=e.size;k&&(e.visibleSlides.push(v),e.visibleSlidesIndexes.push(p)),t1(v,k,t.slideVisibleClass),t1(v,z,t.slideFullyVisibleClass),v.progress=o?-E:E,v.originalProgress=o?-C:C}}function XO(n){const e=this;if(typeof n>"u"){const w=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*w||0}const t=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:c,isEnd:h,progressLoop:_}=e;const p=c,v=h;if(s===0)o=0,c=!0,h=!0;else{o=(n-e.minTranslate())/s;const w=Math.abs(n-e.minTranslate())<1,E=Math.abs(n-e.maxTranslate())<1;c=w||o<=0,h=E||o>=1,w&&(o=0),E&&(o=1)}if(t.loop){const w=e.getSlideIndexByData(0),E=e.getSlideIndexByData(e.slides.length-1),C=e.slidesGrid[w],R=e.slidesGrid[E],j=e.slidesGrid[e.slidesGrid.length-1],z=Math.abs(n);z>=C?_=(z-C)/j:_=(z+j-R)/j,_>1&&(_-=1)}Object.assign(e,{progress:o,progressLoop:_,isBeginning:c,isEnd:h}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),c&&!p&&e.emit("reachBeginning toEdge"),h&&!v&&e.emit("reachEnd toEdge"),(p&&!c||v&&!h)&&e.emit("fromEdge"),e.emit("progress",o)}const Wg=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function JO(){const n=this,{slides:e,params:t,slidesEl:s,activeIndex:o}=n,c=n.virtual&&t.virtual.enabled,h=n.grid&&t.grid&&t.grid.rows>1,_=E=>Lr(s,`.${t.slideClass}${E}, swiper-slide${E}`)[0];let p,v,w;if(c)if(t.loop){let E=o-n.virtual.slidesBefore;E<0&&(E=n.virtual.slides.length+E),E>=n.virtual.slides.length&&(E-=n.virtual.slides.length),p=_(`[data-swiper-slide-index="${E}"]`)}else p=_(`[data-swiper-slide-index="${o}"]`);else h?(p=e.find(E=>E.column===o),w=e.find(E=>E.column===o+1),v=e.find(E=>E.column===o-1)):p=e[o];p&&(h||(w=UO(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!w&&(w=e[0]),v=zO(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v===0&&(v=e[e.length-1]))),e.forEach(E=>{Wg(E,E===p,t.slideActiveClass),Wg(E,E===w,t.slideNextClass),Wg(E,E===v,t.slidePrevClass)}),n.emitSlidesClasses()}const Ef=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,s=e.closest(t());if(s){let o=s.querySelector(`.${n.params.lazyPreloaderClass}`);!o&&n.isElement&&(s.shadowRoot?o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),o&&!o.lazyPreloaderManaged&&o.remove())})),o&&!o.lazyPreloaderManaged&&o.remove()}},Qg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},ky=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const s=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),o=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const h=o,_=[h-e];_.push(...Array.from({length:e}).map((p,v)=>h+s+v)),n.slides.forEach((p,v)=>{_.includes(p.column)&&Qg(n,v)});return}const c=o+s-1;if(n.params.rewind||n.params.loop)for(let h=o-e;h<=c+e;h+=1){const _=(h%t+t)%t;(_<o||_>c)&&Qg(n,_)}else for(let h=Math.max(o-e,0);h<=Math.min(c+e,t-1);h+=1)h!==o&&(h>c||h<o)&&Qg(n,h)};function e3(n){const{slidesGrid:e,params:t}=n,s=n.rtlTranslate?n.translate:-n.translate;let o;for(let c=0;c<e.length;c+=1)typeof e[c+1]<"u"?s>=e[c]&&s<e[c+1]-(e[c+1]-e[c])/2?o=c:s>=e[c]&&s<e[c+1]&&(o=c+1):s>=e[c]&&(o=c);return t.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function t3(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:o,activeIndex:c,realIndex:h,snapIndex:_}=e;let p=n,v;const w=R=>{let j=R-e.virtual.slidesBefore;return j<0&&(j=e.virtual.slides.length+j),j>=e.virtual.slides.length&&(j-=e.virtual.slides.length),j};if(typeof p>"u"&&(p=e3(e)),s.indexOf(t)>=0)v=s.indexOf(t);else{const R=Math.min(o.slidesPerGroupSkip,p);v=R+Math.floor((p-R)/o.slidesPerGroup)}if(v>=s.length&&(v=s.length-1),p===c&&!e.params.loop){v!==_&&(e.snapIndex=v,e.emit("snapIndexChange"));return}if(p===c&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=w(p);return}const E=e.grid&&o.grid&&o.grid.rows>1;let C;if(e.virtual&&o.virtual.enabled)o.loop?C=w(p):C=p;else if(E){const R=e.slides.find(z=>z.column===p);let j=parseInt(R.getAttribute("data-swiper-slide-index"),10);Number.isNaN(j)&&(j=Math.max(e.slides.indexOf(R),0)),C=Math.floor(j/o.grid.rows)}else if(e.slides[p]){const R=e.slides[p].getAttribute("data-swiper-slide-index");R?C=parseInt(R,10):C=p}else C=p;Object.assign(e,{previousSnapIndex:_,snapIndex:v,previousRealIndex:h,realIndex:C,previousIndex:c,activeIndex:p}),e.initialized&&ky(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(h!==C&&e.emit("realIndexChange"),e.emit("slideChange"))}function n3(n,e){const t=this,s=t.params;let o=n.closest(`.${s.slideClass}, swiper-slide`);!o&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(_=>{!o&&_.matches&&_.matches(`.${s.slideClass}, swiper-slide`)&&(o=_)});let c=!1,h;if(o){for(let _=0;_<t.slides.length;_+=1)if(t.slides[_]===o){c=!0,h=_;break}}if(o&&c)t.clickedSlide=o,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=h;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var i3={updateSize:ZO,updateSlides:KO,updateAutoHeight:YO,updateSlidesOffset:WO,updateSlidesProgress:QO,updateProgress:XO,updateSlidesClasses:JO,updateActiveIndex:t3,updateClickedSlide:n3};function s3(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:s,translate:o,wrapperEl:c}=e;if(t.virtualTranslate)return s?-o:o;if(t.cssMode)return o;let h=kO(c,n);return h+=e.cssOverflowAdjustment(),s&&(h=-h),h||0}function r3(n,e){const t=this,{rtlTranslate:s,params:o,wrapperEl:c,progress:h}=t;let _=0,p=0;const v=0;t.isHorizontal()?_=s?-n:n:p=n,o.roundLengths&&(_=Math.floor(_),p=Math.floor(p)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?_:p,o.cssMode?c[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-_:-p:o.virtualTranslate||(t.isHorizontal()?_-=t.cssOverflowAdjustment():p-=t.cssOverflowAdjustment(),c.style.transform=`translate3d(${_}px, ${p}px, ${v}px)`);let w;const E=t.maxTranslate()-t.minTranslate();E===0?w=0:w=(n-t.minTranslate())/E,w!==h&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function a3(){return-this.snapGrid[0]}function o3(){return-this.snapGrid[this.snapGrid.length-1]}function l3(n=0,e=this.params.speed,t=!0,s=!0,o){const c=this,{params:h,wrapperEl:_}=c;if(c.animating&&h.preventInteractionOnTransition)return!1;const p=c.minTranslate(),v=c.maxTranslate();let w;if(s&&n>p?w=p:s&&n<v?w=v:w=n,c.updateProgress(w),h.cssMode){const E=c.isHorizontal();if(e===0)_[E?"scrollLeft":"scrollTop"]=-w;else{if(!c.support.smoothScroll)return VS({swiper:c,targetPosition:-w,side:E?"left":"top"}),!0;_.scrollTo({[E?"left":"top"]:-w,behavior:"smooth"})}return!0}return e===0?(c.setTransition(0),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionEnd"))):(c.setTransition(e),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(C){!c||c.destroyed||C.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,c.animating=!1,t&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}var c3={getTranslate:s3,setTranslate:r3,minTranslate:a3,maxTranslate:o3,translateTo:l3};function u3(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function HS({swiper:n,runCallbacks:e,direction:t,step:s}){const{activeIndex:o,previousIndex:c}=n;let h=t;h||(o>c?h="next":o<c?h="prev":h="reset"),n.emit(`transition${s}`),e&&h==="reset"?n.emit(`slideResetTransition${s}`):e&&o!==c&&(n.emit(`slideChangeTransition${s}`),h==="next"?n.emit(`slideNextTransition${s}`):n.emit(`slidePrevTransition${s}`))}function d3(n=!0,e){const t=this,{params:s}=t;s.cssMode||(s.autoHeight&&t.updateAutoHeight(),HS({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function h3(n=!0,e){const t=this,{params:s}=t;t.animating=!1,!s.cssMode&&(t.setTransition(0),HS({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var f3={setTransition:u3,transitionStart:d3,transitionEnd:h3};function m3(n=0,e,t=!0,s,o){typeof n=="string"&&(n=parseInt(n,10));const c=this;let h=n;h<0&&(h=0);const{params:_,snapGrid:p,slidesGrid:v,previousIndex:w,activeIndex:E,rtlTranslate:C,wrapperEl:R,enabled:j}=c;if(!j&&!s&&!o||c.destroyed||c.animating&&_.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=c.params.speed);const z=Math.min(c.params.slidesPerGroupSkip,h);let k=z+Math.floor((h-z)/c.params.slidesPerGroup);k>=p.length&&(k=p.length-1);const V=-p[k];if(_.normalizeSlideIndex)for(let q=0;q<v.length;q+=1){const I=-Math.floor(V*100),Z=Math.floor(v[q]*100),$=Math.floor(v[q+1]*100);typeof v[q+1]<"u"?I>=Z&&I<$-($-Z)/2?h=q:I>=Z&&I<$&&(h=q+1):I>=Z&&(h=q)}if(c.initialized&&h!==E&&(!c.allowSlideNext&&(C?V>c.translate&&V>c.minTranslate():V<c.translate&&V<c.minTranslate())||!c.allowSlidePrev&&V>c.translate&&V>c.maxTranslate()&&(E||0)!==h))return!1;h!==(w||0)&&t&&c.emit("beforeSlideChangeStart"),c.updateProgress(V);let B;h>E?B="next":h<E?B="prev":B="reset";const G=c.virtual&&c.params.virtual.enabled;if(!(G&&o)&&(C&&-V===c.translate||!C&&V===c.translate))return c.updateActiveIndex(h),_.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),_.effect!=="slide"&&c.setTranslate(V),B!=="reset"&&(c.transitionStart(t,B),c.transitionEnd(t,B)),!1;if(_.cssMode){const q=c.isHorizontal(),I=C?V:-V;if(e===0)G&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),G&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{R[q?"scrollLeft":"scrollTop"]=I})):R[q?"scrollLeft":"scrollTop"]=I,G&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1});else{if(!c.support.smoothScroll)return VS({swiper:c,targetPosition:I,side:q?"left":"top"}),!0;R.scrollTo({[q?"left":"top"]:I,behavior:"smooth"})}return!0}const ye=qS().isSafari;return G&&!o&&ye&&c.isElement&&c.virtual.update(!1,!1,h),c.setTransition(e),c.setTranslate(V),c.updateActiveIndex(h),c.updateSlidesClasses(),c.emit("beforeTransitionStart",e,s),c.transitionStart(t,B),e===0?c.transitionEnd(t,B):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(I){!c||c.destroyed||I.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(t,B))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0}function p3(n=0,e,t=!0,s){typeof n=="string"&&(n=parseInt(n,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const c=o.grid&&o.params.grid&&o.params.grid.rows>1;let h=n;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)h=h+o.virtual.slidesBefore;else{let _;if(c){const z=h*o.params.grid.rows;_=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===z).column}else _=o.getSlideIndexByData(h);const p=c?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:v,slidesOffsetBefore:w,slidesOffsetAfter:E}=o.params,C=v||!!w||!!E;let R=o.params.slidesPerView;R==="auto"?R=o.slidesPerViewDynamic():(R=Math.ceil(parseFloat(o.params.slidesPerView,10)),C&&R%2===0&&(R=R+1));let j=p-_<R;if(C&&(j=j||_<Math.ceil(R/2)),s&&C&&o.params.slidesPerView!=="auto"&&!c&&(j=!1),j){const z=C?_<o.activeIndex?"prev":"next":_-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:z,slideTo:!0,activeSlideIndex:z==="next"?_+1:_-p+1,slideRealIndex:z==="next"?o.realIndex:void 0})}if(c){const z=h*o.params.grid.rows;h=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===z).column}else h=o.getSlideIndexByData(h)}return requestAnimationFrame(()=>{o.slideTo(h,e,t,s)}),o}function g3(n,e=!0,t){const s=this,{enabled:o,params:c,animating:h}=s;if(!o||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);let _=c.slidesPerGroup;c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(_=Math.max(s.slidesPerViewDynamic("current",!0),1));const p=s.activeIndex<c.slidesPerGroupSkip?1:_,v=s.virtual&&c.virtual.enabled;if(c.loop){if(h&&!v&&c.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&c.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+p,n,e,t)}),!0}return c.rewind&&s.isEnd?s.slideTo(0,n,e,t):s.slideTo(s.activeIndex+p,n,e,t)}function y3(n,e=!0,t){const s=this,{params:o,snapGrid:c,slidesGrid:h,rtlTranslate:_,enabled:p,animating:v}=s;if(!p||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);const w=s.virtual&&o.virtual.enabled;if(o.loop){if(v&&!w&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const E=_?s.translate:-s.translate;function C(B){return B<0?-Math.floor(Math.abs(B)):Math.floor(B)}const R=C(E),j=c.map(B=>C(B)),z=o.freeMode&&o.freeMode.enabled;let k=c[j.indexOf(R)-1];if(typeof k>"u"&&(o.cssMode||z)){let B;c.forEach((G,ne)=>{R>=G&&(B=ne)}),typeof B<"u"&&(k=z?c[B]:c[B>0?B-1:B])}let V=0;if(typeof k<"u"&&(V=h.indexOf(k),V<0&&(V=s.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(V=V-s.slidesPerViewDynamic("previous",!0)+1,V=Math.max(V,0))),o.rewind&&s.isBeginning){const B=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(B,n,e,t)}else if(o.loop&&s.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(V,n,e,t)}),!0;return s.slideTo(V,n,e,t)}function _3(n,e=!0,t){const s=this;if(!s.destroyed)return typeof n>"u"&&(n=s.params.speed),s.slideTo(s.activeIndex,n,e,t)}function v3(n,e=!0,t,s=.5){const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);let c=o.activeIndex;const h=Math.min(o.params.slidesPerGroupSkip,c),_=h+Math.floor((c-h)/o.params.slidesPerGroup),p=o.rtlTranslate?o.translate:-o.translate;if(p>=o.snapGrid[_]){const v=o.snapGrid[_],w=o.snapGrid[_+1];p-v>(w-v)*s&&(c+=o.params.slidesPerGroup)}else{const v=o.snapGrid[_-1],w=o.snapGrid[_];p-v<=(w-v)*s&&(c-=o.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,o.slidesGrid.length-1),o.slideTo(c,n,e,t)}function x3(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,s=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let o=n.getSlideIndexWhenGrid(n.clickedIndex),c;const h=n.isElement?"swiper-slide":`.${e.slideClass}`,_=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;c=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(c):o>(_?(n.slides.length-s)/2-(n.params.grid.rows-1):n.slides.length-s)?(n.loopFix(),o=n.getSlideIndex(Lr(t,`${h}[data-swiper-slide-index="${c}"]`)[0]),OS(()=>{n.slideTo(o)})):n.slideTo(o)}else n.slideTo(o)}var b3={slideTo:m3,slideToLoop:p3,slideNext:g3,slidePrev:y3,slideReset:_3,slideToClosest:v3,slideToClickedSlide:x3};function w3(n,e){const t=this,{params:s,slidesEl:o}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;const c=()=>{Lr(o,`.${s.slideClass}, swiper-slide`).forEach((j,z)=>{j.setAttribute("data-swiper-slide-index",z)})},h=()=>{const R=Lr(o,`.${s.slideBlankClass}`);R.forEach(j=>{j.remove()}),R.length>0&&(t.recalcSlides(),t.updateSlides())},_=t.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||_)&&h();const p=s.slidesPerGroup*(_?s.grid.rows:1),v=t.slides.length%p!==0,w=_&&t.slides.length%s.grid.rows!==0,E=R=>{for(let j=0;j<R;j+=1){const z=t.isElement?Xf("swiper-slide",[s.slideBlankClass]):Xf("div",[s.slideClass,s.slideBlankClass]);t.slidesEl.append(z)}};if(v){if(s.loopAddBlankSlides){const R=p-t.slides.length%p;E(R),t.recalcSlides(),t.updateSlides()}else Qf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else if(w){if(s.loopAddBlankSlides){const R=s.grid.rows-t.slides.length%s.grid.rows;E(R),t.recalcSlides(),t.updateSlides()}else Qf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else c();const C=s.centeredSlides||!!s.slidesOffsetBefore||!!s.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:C?void 0:"next",initial:e})}function E3({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:s,activeSlideIndex:o,initial:c,byController:h,byMousewheel:_}={}){const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:v,allowSlidePrev:w,allowSlideNext:E,slidesEl:C,params:R}=p,{centeredSlides:j,slidesOffsetBefore:z,slidesOffsetAfter:k,initialSlide:V}=R,B=j||!!z||!!k;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&R.virtual.enabled){e&&(!B&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):B&&p.snapIndex<R.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=E,p.emit("loopFix");return}let G=R.slidesPerView;G==="auto"?G=p.slidesPerViewDynamic():(G=Math.ceil(parseFloat(R.slidesPerView,10)),B&&G%2===0&&(G=G+1));const ne=R.slidesPerGroupAuto?G:R.slidesPerGroup;let te=B?Math.max(ne,Math.ceil(G/2)):ne;te%ne!==0&&(te+=ne-te%ne),te+=R.loopAdditionalSlides,p.loopedSlides=te;const ye=p.grid&&R.grid&&R.grid.rows>1;v.length<G+te||p.params.effect==="cards"&&v.length<G+te*2?Qf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):ye&&R.grid.fill==="row"&&Qf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const q=[],I=[],Z=ye?Math.ceil(v.length/R.grid.rows):v.length,$=c&&Z-V<G&&!B;let H=$?V:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(v.find(ae=>ae.classList.contains(R.slideActiveClass))):H=o;const K=t==="next"||!t,F=t==="prev"||!t;let Se=0,be=0;const me=(ye?v[o].column:o)+(B&&typeof s>"u"?-G/2+.5:0);if(me<te){Se=Math.max(te-me,ne);for(let ae=0;ae<te-me;ae+=1){const Re=ae-Math.floor(ae/Z)*Z;if(ye){const fe=Z-Re-1;for(let O=v.length-1;O>=0;O-=1)v[O].column===fe&&q.push(O)}else q.push(Z-Re-1)}}else if(me+G>Z-te){be=Math.max(me-(Z-te*2),ne),$&&(be=Math.max(be,G-Z+V+1));for(let ae=0;ae<be;ae+=1){const Re=ae-Math.floor(ae/Z)*Z;ye?v.forEach((fe,O)=>{fe.column===Re&&I.push(O)}):I.push(Re)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&v.length<G+te*2&&(I.includes(o)&&I.splice(I.indexOf(o),1),q.includes(o)&&q.splice(q.indexOf(o),1)),F&&q.forEach(ae=>{v[ae].swiperLoopMoveDOM=!0,C.prepend(v[ae]),v[ae].swiperLoopMoveDOM=!1}),K&&I.forEach(ae=>{v[ae].swiperLoopMoveDOM=!0,C.append(v[ae]),v[ae].swiperLoopMoveDOM=!1}),p.recalcSlides(),R.slidesPerView==="auto"?p.updateSlides():ye&&(q.length>0&&F||I.length>0&&K)&&p.slides.forEach((ae,Re)=>{p.grid.updateSlide(Re,ae,p.slides)}),R.watchSlidesProgress&&p.updateSlidesOffset(),e){if(q.length>0&&F){if(typeof n>"u"){const ae=p.slidesGrid[H],fe=p.slidesGrid[H+Se]-ae;_?p.setTranslate(p.translate-fe):(p.slideTo(H+Math.ceil(Se),0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-fe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-fe))}else if(s){const ae=ye?q.length/R.grid.rows:q.length;p.slideTo(p.activeIndex+ae,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(I.length>0&&K)if(typeof n>"u"){const ae=p.slidesGrid[H],fe=p.slidesGrid[H-be]-ae;_?p.setTranslate(p.translate-fe):(p.slideTo(H-be,0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-fe,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-fe))}else{const ae=ye?I.length/R.grid.rows:I.length;p.slideTo(p.activeIndex-ae,0,!1,!0)}}if(p.allowSlidePrev=w,p.allowSlideNext=E,p.controller&&p.controller.control&&!h){const ae={slideRealIndex:n,direction:t,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(Re=>{!Re.destroyed&&Re.params.loop&&Re.loopFix({...ae,slideTo:Re.params.slidesPerView===R.slidesPerView?e:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...ae,slideTo:p.controller.control.params.slidesPerView===R.slidesPerView?e:!1})}p.emit("loopFix")}function T3(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const s=[];n.slides.forEach(o=>{const c=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;s[c]=o}),n.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),s.forEach(o=>{t.append(o)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var S3={loopCreate:w3,loopFix:E3,loopDestroy:T3};function A3(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function N3(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var C3={setGrabCursor:A3,unsetGrabCursor:N3};function R3(n,e=this){function t(s){if(!s||s===Jl()||s===Ei())return null;s.assignedSlot&&(s=s.assignedSlot);const o=s.closest(n);return!o&&!s.getRootNode?null:o||t(s.getRootNode().host)}return t(e)}function n1(n,e,t){const s=Ei(),{params:o}=n,c=o.edgeSwipeDetection,h=o.edgeSwipeThreshold;return c&&(t<=h||t>=s.innerWidth-h)?c==="prevent"?(e.preventDefault(),!0):!1:!0}function I3(n){const e=this,t=Jl();let s=n;s.originalEvent&&(s=s.originalEvent);const o=e.touchEventsData;if(s.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(o.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){n1(e,s,s.targetTouches[0].pageX);return}const{params:c,touches:h,enabled:_}=e;if(!_||!c.simulateTouch&&s.pointerType==="mouse"||e.animating&&c.preventInteractionOnTransition)return;!e.animating&&c.cssMode&&c.loop&&e.loopFix();let p=s.target;if(c.touchEventsTarget==="wrapper"&&!VO(p,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||o.isTouched&&o.isMoved)return;const v=!!c.noSwipingClass&&c.noSwipingClass!=="",w=s.composedPath?s.composedPath():s.path;v&&s.target&&s.target.shadowRoot&&w&&(p=w[0]);const E=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`,C=!!(s.target&&s.target.shadowRoot);if(c.noSwiping&&(C?R3(E,p):p.closest(E))){e.allowClick=!0;return}if(c.swipeHandler&&!p.closest(c.swipeHandler))return;h.currentX=s.pageX,h.currentY=s.pageY;const R=h.currentX,j=h.currentY;if(!n1(e,s,R))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),h.startX=R,h.startY=j,o.touchStartTime=Wf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,c.threshold>0&&(o.allowThresholdMove=!1);let z=!0;p.matches(o.focusableElements)&&(z=!1,p.nodeName==="SELECT"&&(o.isTouched=!1)),t.activeElement&&t.activeElement.matches(o.focusableElements)&&t.activeElement!==p&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!p.matches(o.focusableElements))&&t.activeElement.blur();const k=z&&e.allowTouchMove&&c.touchStartPreventDefault;(c.touchStartForcePreventDefault||k)&&!p.isContentEditable&&s.preventDefault(),c.freeMode&&c.freeMode.enabled&&e.freeMode&&e.animating&&!c.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function P3(n){const e=Jl(),t=this,s=t.touchEventsData,{params:o,touches:c,rtlTranslate:h,enabled:_}=t;if(!_||!o.simulateTouch&&n.pointerType==="mouse")return;let p=n;if(p.originalEvent&&(p=p.originalEvent),p.type==="pointermove"&&(s.touchId!==null||p.pointerId!==s.pointerId))return;let v;if(p.type==="touchmove"){if(v=[...p.changedTouches].find(te=>te.identifier===s.touchId),!v||v.identifier!==s.touchId)return}else v=p;if(!s.isTouched){s.startMoving&&s.isScrolling&&t.emit("touchMoveOpposite",p);return}const w=v.pageX,E=v.pageY;if(p.preventedByNestedSwiper){c.startX=w,c.startY=E;return}if(!t.allowTouchMove){p.target.matches(s.focusableElements)||(t.allowClick=!1),s.isTouched&&(Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E}),s.touchStartTime=Wf());return}if(o.touchReleaseOnEdges&&!o.loop)if(t.isVertical()){if(E<c.startY&&t.translate<=t.maxTranslate()||E>c.startY&&t.translate>=t.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(h&&(w>c.startX&&-t.translate<=t.maxTranslate()||w<c.startX&&-t.translate>=t.minTranslate()))return;if(!h&&(w<c.startX&&t.translate<=t.maxTranslate()||w>c.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==p.target&&p.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&p.target===e.activeElement&&p.target.matches(s.focusableElements)){s.isMoved=!0,t.allowClick=!1;return}s.allowTouchCallbacks&&t.emit("touchMove",p),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=w,c.currentY=E;const C=c.currentX-c.startX,R=c.currentY-c.startY;if(t.params.threshold&&Math.sqrt(C**2+R**2)<t.params.threshold)return;if(typeof s.isScrolling>"u"){let te;t.isHorizontal()&&c.currentY===c.startY||t.isVertical()&&c.currentX===c.startX?s.isScrolling=!1:C*C+R*R>=25&&(te=Math.atan2(Math.abs(R),Math.abs(C))*180/Math.PI,s.isScrolling=t.isHorizontal()?te>o.touchAngle:90-te>o.touchAngle)}if(s.isScrolling&&t.emit("touchMoveOpposite",p),typeof s.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(s.startMoving=!0),s.isScrolling||p.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;t.allowClick=!1,!o.cssMode&&p.cancelable&&p.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&p.stopPropagation();let j=t.isHorizontal()?C:R,z=t.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;o.oneWayMovement&&(j=Math.abs(j)*(h?1:-1),z=Math.abs(z)*(h?1:-1)),c.diff=j,j*=o.touchRatio,h&&(j=-j,z=-z);const k=t.touchesDirection;t.swipeDirection=j>0?"prev":"next",t.touchesDirection=z>0?"prev":"next";const V=t.params.loop&&!o.cssMode,B=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!s.isMoved){if(V&&B&&t.loopFix({direction:t.swipeDirection}),s.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const te=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(te)}s.allowMomentumBounce=!1,o.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",p)}if(new Date().getTime(),o._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&k!==t.touchesDirection&&V&&B&&Math.abs(j)>=1){Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}t.emit("sliderMove",p),s.isMoved=!0,s.currentTranslate=j+s.startTranslate;let G=!0,ne=o.resistanceRatio;if(o.touchReleaseOnEdges&&(ne=0),j>0?(V&&B&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>t.minTranslate()&&(G=!1,o.resistance&&(s.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+s.startTranslate+j)**ne))):j<0&&(V&&B&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(o.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<t.maxTranslate()&&(G=!1,o.resistance&&(s.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-s.startTranslate-j)**ne))),G&&(p.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0)if(Math.abs(j)>o.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,s.currentTranslate=s.startTranslate,c.diff=t.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY;return}}else{s.currentTranslate=s.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&t.freeMode||o.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(s.currentTranslate),t.setTranslate(s.currentTranslate))}function M3(n){const e=this,t=e.touchEventsData;let s=n;s.originalEvent&&(s=s.originalEvent);let o;if(s.type==="touchend"||s.type==="touchcancel"){if(o=[...s.changedTouches].find(te=>te.identifier===t.touchId),!o||o.identifier!==t.touchId)return}else{if(t.touchId!==null||s.pointerId!==t.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:h,touches:_,rtlTranslate:p,slidesGrid:v,enabled:w}=e;if(!w||!h.simulateTouch&&s.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",s),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&h.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}h.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const E=Wf(),C=E-t.touchStartTime;if(e.allowClick){const te=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(te&&te[0]||s.target,te),e.emit("tap click",s),C<300&&E-t.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(t.lastClickTime=Wf(),OS(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||_.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let R;if(h.followFinger?R=p?e.translate:-e.translate:R=-t.currentTranslate,h.cssMode)return;if(h.freeMode&&h.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:R});return}const j=R>=-e.maxTranslate()&&!e.params.loop;let z=0,k=e.slidesSizesGrid[0];for(let te=0;te<v.length;te+=te<h.slidesPerGroupSkip?1:h.slidesPerGroup){const ye=te<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;typeof v[te+ye]<"u"?(j||R>=v[te]&&R<v[te+ye])&&(z=te,k=v[te+ye]-v[te]):(j||R>=v[te])&&(z=te,k=v[v.length-1]-v[v.length-2])}let V=null,B=null;h.rewind&&(e.isBeginning?B=h.virtual&&h.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(V=0));const G=(R-v[z])/k,ne=z<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;if(C>h.longSwipesMs){if(!h.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(G>=h.longSwipesRatio?e.slideTo(h.rewind&&e.isEnd?V:z+ne):e.slideTo(z)),e.swipeDirection==="prev"&&(G>1-h.longSwipesRatio?e.slideTo(z+ne):B!==null&&G<0&&Math.abs(G)>h.longSwipesRatio?e.slideTo(B):e.slideTo(z))}else{if(!h.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(z+ne):e.slideTo(z):(e.swipeDirection==="next"&&e.slideTo(V!==null?V:z+ne),e.swipeDirection==="prev"&&e.slideTo(B!==null?B:z))}}function i1(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:c}=n,h=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const _=h&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!_?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!h?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=o,n.allowSlideNext=s,n.params.watchOverflow&&c!==n.snapGrid&&n.checkOverflow()}function j3(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function L3(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:s}=n;if(!s)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let o;const c=n.maxTranslate()-n.minTranslate();c===0?o=0:o=(n.translate-n.minTranslate())/c,o!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function k3(n){const e=this;Ef(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function D3(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const FS=(n,e)=>{const t=Jl(),{params:s,el:o,wrapperEl:c,device:h}=n,_=!!s.nested,p=e==="on"?"addEventListener":"removeEventListener",v=e;!o||typeof o=="string"||(t[p]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:_}),o[p]("touchstart",n.onTouchStart,{passive:!1}),o[p]("pointerdown",n.onTouchStart,{passive:!1}),t[p]("touchmove",n.onTouchMove,{passive:!1,capture:_}),t[p]("pointermove",n.onTouchMove,{passive:!1,capture:_}),t[p]("touchend",n.onTouchEnd,{passive:!0}),t[p]("pointerup",n.onTouchEnd,{passive:!0}),t[p]("pointercancel",n.onTouchEnd,{passive:!0}),t[p]("touchcancel",n.onTouchEnd,{passive:!0}),t[p]("pointerout",n.onTouchEnd,{passive:!0}),t[p]("pointerleave",n.onTouchEnd,{passive:!0}),t[p]("contextmenu",n.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[p]("click",n.onClick,!0),s.cssMode&&c[p]("scroll",n.onScroll),s.updateOnWindowResize?n[v](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",i1,!0):n[v]("observerUpdate",i1,!0),o[p]("load",n.onLoad,{capture:!0}))};function O3(){const n=this,{params:e}=n;n.onTouchStart=I3.bind(n),n.onTouchMove=P3.bind(n),n.onTouchEnd=M3.bind(n),n.onDocumentTouchStart=D3.bind(n),e.cssMode&&(n.onScroll=L3.bind(n)),n.onClick=j3.bind(n),n.onLoad=k3.bind(n),FS(n,"on")}function V3(){FS(this,"off")}var z3={attachEvents:O3,detachEvents:V3};const s1=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function U3(){const n=this,{realIndex:e,initialized:t,params:s,el:o}=n,c=s.breakpoints;if(!c||c&&Object.keys(c).length===0)return;const h=Jl(),_=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",p=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?n.el:h.querySelector(s.breakpointsBase),v=n.getBreakpoint(c,_,p);if(!v||n.currentBreakpoint===v)return;const E=(v in c?c[v]:void 0)||n.originalParams,C=s1(n,s),R=s1(n,E),j=n.params.grabCursor,z=E.grabCursor,k=s.enabled;C&&!R?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),n.emitContainerClasses()):!C&&R&&(o.classList.add(`${s.containerModifierClass}grid`),(E.grid.fill&&E.grid.fill==="column"||!E.grid.fill&&s.grid.fill==="column")&&o.classList.add(`${s.containerModifierClass}grid-column`),n.emitContainerClasses()),j&&!z?n.unsetGrabCursor():!j&&z&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ye=>{if(typeof E[ye]>"u")return;const q=s[ye]&&s[ye].enabled,I=E[ye]&&E[ye].enabled;q&&!I&&n[ye].disable(),!q&&I&&n[ye].enable()});const V=E.direction&&E.direction!==s.direction,B=s.loop&&(E.slidesPerView!==s.slidesPerView||V),G=s.loop;V&&t&&n.changeDirection(),hs(n.params,E);const ne=n.params.enabled,te=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),k&&!ne?n.disable():!k&&ne&&n.enable(),n.currentBreakpoint=v,n.emit("_beforeBreakpoint",E),t&&(B?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!G&&te?(n.loopCreate(e),n.updateSlides()):G&&!te&&n.loopDestroy()),n.emit("breakpoint",E)}function B3(n,e="window",t){if(!n||e==="container"&&!t)return;let s=!1;const o=Ei(),c=e==="window"?o.innerHeight:t.clientHeight,h=Object.keys(n).map(_=>{if(typeof _=="string"&&_.indexOf("@")===0){const p=parseFloat(_.substr(1));return{value:c*p,point:_}}return{value:_,point:_}});h.sort((_,p)=>parseInt(_.value,10)-parseInt(p.value,10));for(let _=0;_<h.length;_+=1){const{point:p,value:v}=h[_];e==="window"?o.matchMedia(`(min-width: ${v}px)`).matches&&(s=p):v<=t.clientWidth&&(s=p)}return s||"max"}var q3={setBreakpoint:U3,getBreakpoint:B3};function H3(n,e){const t=[];return n.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(o=>{s[o]&&t.push(e+o)}):typeof s=="string"&&t.push(e+s)}),t}function F3(){const n=this,{classNames:e,params:t,rtl:s,el:o,device:c}=n,h=H3(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:s},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:c.android},{ios:c.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...h),o.classList.add(...e),n.emitContainerClasses()}function G3(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var $3={addClasses:F3,removeClasses:G3};function Z3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:s}=t;if(s){const o=n.slides.length-1,c=n.slidesGrid[o]+n.slidesSizesGrid[o]+s*2;n.isLocked=n.size>c}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var K3={checkOverflow:Z3},Dy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Y3(n,e){return function(s={}){const o=Object.keys(s)[0],c=s[o];if(typeof c!="object"||c===null){hs(e,s);return}if(n[o]===!0&&(n[o]={enabled:!0}),o==="navigation"&&n[o]&&n[o].enabled&&!n[o].prevEl&&!n[o].nextEl&&(n[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&n[o]&&n[o].enabled&&!n[o].el&&(n[o].auto=!0),!(o in n&&"enabled"in c)){hs(e,s);return}typeof n[o]=="object"&&!("enabled"in n[o])&&(n[o].enabled=!0),n[o]||(n[o]={enabled:!1}),hs(e,s)}}const Xg={eventsEmitter:$O,update:i3,translate:c3,transition:f3,slide:b3,loop:S3,grabCursor:C3,events:z3,breakpoints:q3,checkOverflow:K3,classes:$3},Jg={};let ev=class va{constructor(...e){let t,s;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?s=e[0]:[t,s]=e,s||(s={}),s=hs({},s),t&&!s.el&&(s.el=t);const o=Jl();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){const p=[];return o.querySelectorAll(s.el).forEach(v=>{const w=hs({},s,{el:v});p.push(new va(w))}),p}const c=this;c.__swiper__=!0,c.support=US(),c.device=BS({userAgent:s.userAgent}),c.browser=qS(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],s.modules&&Array.isArray(s.modules)&&c.modules.push(...s.modules);const h={};c.modules.forEach(p=>{p({params:s,swiper:c,extendParams:Y3(s,h),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const _=hs({},Dy,h);return c.params=hs({},_,Jg,s),c.originalParams=hs({},c.params),c.passedParams=hs({},s),c.params&&c.params.on&&Object.keys(c.params.on).forEach(p=>{c.on(p,c.params.on[p])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,o=Lr(t,`.${s.slideClass}, swiper-slide`),c=Jf(o[0]);return Jf(e)-c}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:s}=e;e.slides=Lr(t,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const o=s.minTranslate(),h=(s.maxTranslate()-o)*e+o;s.translateTo(h,typeof t>"u"?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const o=e.getSlideClasses(s);t.push({slideEl:s,classNames:o}),e.emit("_slideClass",s,o)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const s=this,{params:o,slides:c,slidesGrid:h,slidesSizesGrid:_,size:p,activeIndex:v}=s;let w=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let E=c[v]?Math.ceil(c[v].swiperSlideSize):0,C;for(let R=v+1;R<c.length;R+=1)c[R]&&!C&&(E+=Math.ceil(c[R].swiperSlideSize),w+=1,E>p&&(C=!0));for(let R=v-1;R>=0;R-=1)c[R]&&!C&&(E+=c[R].swiperSlideSize,w+=1,E>p&&(C=!0))}else if(e==="current")for(let E=v+1;E<c.length;E+=1)(t?h[E]+_[E]-h[v]<p:h[E]-h[v]<p)&&(w+=1);else for(let E=v-1;E>=0;E-=1)h[v]-h[E]<p&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(h=>{h.complete&&Ef(e,h)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const h=e.rtlTranslate?e.translate*-1:e.translate,_=Math.min(Math.max(h,e.maxTranslate()),e.minTranslate());e.setTranslate(_),e.updateActiveIndex(),e.updateSlidesClasses()}let c;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)o(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const h=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;c=e.slideTo(h.length-1,0,!1,!0)}else c=e.slideTo(e.activeIndex,0,!1,!0);c||o()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,o=s.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${o}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(c=>{e==="vertical"?c.style.width="":c.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const o=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let h=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(o()):Lr(s,o())[0];return!h&&t.params.createElements&&(h=Xf("div",t.params.wrapperClass),s.append(h),Lr(s,`.${t.params.slideClass}`).forEach(_=>{h.append(_)})),Object.assign(t,{el:s,wrapperEl:h,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:h,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Ro(s,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Ro(s,"direction")==="rtl"),wrongRTL:Ro(h,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const o=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&o.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(c=>{c.complete?Ef(t,c):c.addEventListener("load",h=>{Ef(t,h.target)})}),ky(t),t.initialized=!0,ky(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const s=this,{params:o,el:c,wrapperEl:h,slides:_}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),t&&(s.removeClasses(),c&&typeof c!="string"&&c.removeAttribute("style"),h&&h.removeAttribute("style"),_&&_.length&&_.forEach(p=>{p.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(p=>{s.off(p)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),jO(s)),s.destroyed=!0),null}static extendDefaults(e){hs(Jg,e)}static get extendedDefaults(){return Jg}static get defaults(){return Dy}static installModule(e){va.prototype.__modules__||(va.prototype.__modules__=[]);const t=va.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>va.installModule(t)),va):(va.installModule(e),va)}};Object.keys(Xg).forEach(n=>{Object.keys(Xg[n]).forEach(e=>{ev.prototype[e]=Xg[n][e]})});ev.use([FO,GO]);const GS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Kl(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Zc(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Kl(e[s])&&Kl(n[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?n[s]=e[s]:Zc(n[s],e[s]):n[s]=e[s]})}function $S(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function ZS(n={}){return n.pagination&&typeof n.pagination.el>"u"}function KS(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function YS(n=""){const e=n.split(" ").map(s=>s.trim()).filter(s=>!!s),t=[];return e.forEach(s=>{t.indexOf(s)<0&&t.push(s)}),t.join(" ")}function W3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function Q3({swiper:n,slides:e,passedParams:t,changedParams:s,nextEl:o,prevEl:c,scrollbarEl:h,paginationEl:_}){const p=s.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:v,pagination:w,navigation:E,scrollbar:C,virtual:R,thumbs:j}=n;let z,k,V,B,G,ne,te,ye;s.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(z=!0),s.includes("controller")&&t.controller&&t.controller.control&&v.controller&&!v.controller.control&&(k=!0),s.includes("pagination")&&t.pagination&&(t.pagination.el||_)&&(v.pagination||v.pagination===!1)&&w&&!w.el&&(V=!0),s.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||h)&&(v.scrollbar||v.scrollbar===!1)&&C&&!C.el&&(B=!0),s.includes("navigation")&&t.navigation&&(t.navigation.prevEl||c)&&(t.navigation.nextEl||o)&&(v.navigation||v.navigation===!1)&&E&&!E.prevEl&&!E.nextEl&&(G=!0);const q=I=>{n[I]&&(n[I].destroy(),I==="navigation"?(n.isElement&&(n[I].prevEl.remove(),n[I].nextEl.remove()),v[I].prevEl=void 0,v[I].nextEl=void 0,n[I].prevEl=void 0,n[I].nextEl=void 0):(n.isElement&&n[I].el.remove(),v[I].el=void 0,n[I].el=void 0))};s.includes("loop")&&n.isElement&&(v.loop&&!t.loop?ne=!0:!v.loop&&t.loop?te=!0:ye=!0),p.forEach(I=>{if(Kl(v[I])&&Kl(t[I]))Object.assign(v[I],t[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in t[I]&&!t[I].enabled&&q(I);else{const Z=t[I];(Z===!0||Z===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?Z===!1&&q(I):v[I]=t[I]}}),p.includes("controller")&&!k&&n.controller&&n.controller.control&&v.controller&&v.controller.control&&(n.controller.control=v.controller.control),s.includes("children")&&e&&R&&v.virtual.enabled?(R.slides=e,R.update(!0)):s.includes("virtual")&&R&&v.virtual.enabled&&(e&&(R.slides=e),R.update(!0)),s.includes("children")&&e&&v.loop&&(ye=!0),z&&j.init()&&j.update(!0),k&&(n.controller.control=v.controller.control),V&&(n.isElement&&(!_||typeof _=="string")&&(_=document.createElement("div"),_.classList.add("swiper-pagination"),_.part.add("pagination"),n.el.appendChild(_)),_&&(v.pagination.el=_),w.init(),w.render(),w.update()),B&&(n.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),n.el.appendChild(h)),h&&(v.scrollbar.el=h),C.init(),C.updateSize(),C.setTranslate()),G&&(n.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Id(o,n.navigation.arrowSvg),o.part.add("button-next"),n.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),Id(c,n.navigation.arrowSvg),c.part.add("button-prev"),n.el.appendChild(c))),o&&(v.navigation.nextEl=o),c&&(v.navigation.prevEl=c),E.init(),E.update()),s.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),s.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),s.includes("direction")&&n.changeDirection(t.direction,!1),(ne||ye)&&n.loopDestroy(),(te||ye)&&n.loopCreate(),n.update()}function X3(n={},e=!0){const t={on:{}},s={},o={};Zc(t,Dy),t._emitClasses=!0,t.init=!1;const c={},h=GS.map(p=>p.replace(/_/,"")),_=Object.assign({},n);return Object.keys(_).forEach(p=>{typeof n[p]>"u"||(h.indexOf(p)>=0?Kl(n[p])?(t[p]={},o[p]={},Zc(t[p],n[p]),Zc(o[p],n[p])):(t[p]=n[p],o[p]=n[p]):p.search(/on[A-Z]/)===0&&typeof n[p]=="function"?e?s[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:t.on[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:c[p]=n[p])}),["navigation","pagination","scrollbar"].forEach(p=>{t[p]===!0&&(t[p]={}),t[p]===!1&&delete t[p]}),{params:t,passedParams:o,rest:c,events:s}}function J3({el:n,nextEl:e,prevEl:t,paginationEl:s,scrollbarEl:o,swiper:c},h){$S(h)&&e&&t&&(c.params.navigation.nextEl=e,c.originalParams.navigation.nextEl=e,c.params.navigation.prevEl=t,c.originalParams.navigation.prevEl=t),ZS(h)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),KS(h)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(n)}function e6(n,e,t,s,o){const c=[];if(!e)return c;const h=p=>{c.indexOf(p)<0&&c.push(p)};if(t&&s){const p=s.map(o),v=t.map(o);p.join("")!==v.join("")&&h("children"),s.length!==t.length&&h("children")}return GS.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in n&&p in e)if(Kl(n[p])&&Kl(e[p])){const v=Object.keys(n[p]),w=Object.keys(e[p]);v.length!==w.length?h(p):(v.forEach(E=>{n[p][E]!==e[p][E]&&h(p)}),w.forEach(E=>{n[p][E]!==e[p][E]&&h(p)}))}else n[p]!==e[p]&&h(p)}),c}const t6=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function em(){return em=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},em.apply(this,arguments)}function WS(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function QS(n){const e=[];return dn.Children.toArray(n).forEach(t=>{WS(t)?e.push(t):t.props&&t.props.children&&QS(t.props.children).forEach(s=>e.push(s))}),e}function n6(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return dn.Children.toArray(n).forEach(s=>{if(WS(s))e.push(s);else if(s.props&&s.props.slot&&t[s.props.slot])t[s.props.slot].push(s);else if(s.props&&s.props.children){const o=QS(s.props.children);o.length>0?o.forEach(c=>e.push(c)):t["container-end"].push(s)}else t["container-end"].push(s)}),{slides:e,slots:t}}function i6(n,e,t){if(!t)return null;const s=w=>{let E=w;return w<0?E=e.length+w:E>=e.length&&(E=E-e.length),E},o=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:c,to:h}=t,_=n.params.loop?-e.length:0,p=n.params.loop?e.length*2:e.length,v=[];for(let w=_;w<p;w+=1)w>=c&&w<=h&&v.push(e[s(w)]);return v.map((w,E)=>dn.cloneElement(w,{swiper:n,style:o,key:w.props.virtualIndex||w.key||`slide-${E}`}))}function yd(n,e){return typeof window>"u"?D.useEffect(n,e):D.useLayoutEffect(n,e)}const r1=D.createContext(null),s6=D.createContext(null),XS=D.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:s,onSwiper:o,...c}={},h)=>{let _=!1;const[p,v]=D.useState("swiper"),[w,E]=D.useState(null),[C,R]=D.useState(!1),j=D.useRef(!1),z=D.useRef(null),k=D.useRef(null),V=D.useRef(null),B=D.useRef(null),G=D.useRef(null),ne=D.useRef(null),te=D.useRef(null),ye=D.useRef(null),{params:q,passedParams:I,rest:Z,events:$}=X3(c),{slides:H,slots:K}=n6(s),F=()=>{R(!C)};Object.assign(q.on,{_containerClasses(ae,Re){v(Re)}});const Se=()=>{Object.assign(q.on,$),_=!0;const ae={...q};if(delete ae.wrapperClass,k.current=new ev(ae),k.current.virtual&&k.current.params.virtual.enabled){k.current.virtual.slides=H;const Re={cache:!1,slides:H,renderExternal:E,renderExternalUpdate:!1};Zc(k.current.params.virtual,Re),Zc(k.current.originalParams.virtual,Re)}};z.current||Se(),k.current&&k.current.on("_beforeBreakpoint",F);const be=()=>{_||!$||!k.current||Object.keys($).forEach(ae=>{k.current.on(ae,$[ae])})},W=()=>{!$||!k.current||Object.keys($).forEach(ae=>{k.current.off(ae,$[ae])})};D.useEffect(()=>()=>{k.current&&k.current.off("_beforeBreakpoint",F)}),D.useEffect(()=>{!j.current&&k.current&&(k.current.emitSlidesClasses(),j.current=!0)}),yd(()=>{if(h&&(h.current=z.current),!!z.current)return k.current.destroyed&&Se(),J3({el:z.current,nextEl:G.current,prevEl:ne.current,paginationEl:te.current,scrollbarEl:ye.current,swiper:k.current},q),o&&!k.current.destroyed&&o(k.current),()=>{k.current&&!k.current.destroyed&&k.current.destroy(!0,!1)}},[]),yd(()=>{be();const ae=e6(I,V.current,H,B.current,Re=>Re.key);return V.current=I,B.current=H,ae.length&&k.current&&!k.current.destroyed&&Q3({swiper:k.current,slides:H,passedParams:I,changedParams:ae,nextEl:G.current,prevEl:ne.current,scrollbarEl:ye.current,paginationEl:te.current}),()=>{W()}}),yd(()=>{t6(k.current)},[w]);function me(){return q.virtual?i6(k.current,H,w):H.map((ae,Re)=>dn.cloneElement(ae,{swiper:k.current,swiperSlideIndex:Re}))}return dn.createElement(e,em({ref:z,className:YS(`${p}${n?` ${n}`:""}`)},Z),dn.createElement(s6.Provider,{value:k.current},K["container-start"],dn.createElement(t,{className:W3(q.wrapperClass)},K["wrapper-start"],me(),K["wrapper-end"]),$S(q)&&dn.createElement(dn.Fragment,null,dn.createElement("div",{ref:ne,className:"swiper-button-prev"}),dn.createElement("div",{ref:G,className:"swiper-button-next"})),KS(q)&&dn.createElement("div",{ref:ye,className:"swiper-scrollbar"}),ZS(q)&&dn.createElement("div",{ref:te,className:"swiper-pagination"}),K["container-end"]))});XS.displayName="Swiper";const Oy=D.forwardRef(({tag:n="div",children:e,className:t="",swiper:s,zoom:o,lazy:c,virtualIndex:h,swiperSlideIndex:_,...p}={},v)=>{const w=D.useRef(null),[E,C]=D.useState("swiper-slide"),[R,j]=D.useState(!1);function z(G,ne,te){ne===w.current&&C(te)}yd(()=>{if(typeof _<"u"&&(w.current.swiperSlideIndex=_),v&&(v.current=w.current),!(!w.current||!s)){if(s.destroyed){E!=="swiper-slide"&&C("swiper-slide");return}return s.on("_slideClass",z),()=>{s&&s.off("_slideClass",z)}}}),yd(()=>{s&&w.current&&!s.destroyed&&C(s.getSlideClasses(w.current))},[s]);const k={isActive:E.indexOf("swiper-slide-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0},V=()=>typeof e=="function"?e(k):e,B=()=>{j(!0)};return dn.createElement(n,em({ref:w,className:YS(`${E}${t?` ${t}`:""}`),"data-swiper-slide-index":h,onLoad:B},p),o&&dn.createElement(r1.Provider,{value:k},dn.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},V(),c&&!R&&dn.createElement("div",{className:"swiper-lazy-preloader",ref:G=>{G&&(G.lazyPreloaderManaged=!0)}}))),!o&&dn.createElement(r1.Provider,{value:k},V(),c&&!R&&dn.createElement("div",{className:"swiper-lazy-preloader",ref:G=>{G&&(G.lazyPreloaderManaged=!0)}})))});Oy.displayName="SwiperSlide";function JS(n,e,t,s){return n.params.createElements&&Object.keys(s).forEach(o=>{if(!t[o]&&t.auto===!0){let c=Lr(n.el,`.${s[o]}`)[0];c||(c=Xf("div",s[o]),c.className=s[o],n.el.append(c)),t[o]=c,e[o]=c}}),t}const a1='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function r6({swiper:n,extendParams:e,on:t,emit:s}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null,arrowSvg:a1};function o(R){let j;return R&&typeof R=="string"&&n.isElement&&(j=n.el.querySelector(R)||n.hostEl.querySelector(R),j)?j:(R&&(typeof R=="string"&&(j=[...document.querySelectorAll(R)]),n.params.uniqueNavElements&&typeof R=="string"&&j&&j.length>1&&n.el.querySelectorAll(R).length===1?j=n.el.querySelector(R):j&&j.length===1&&(j=j[0])),R&&!j?R:j)}function c(R,j){const z=n.params.navigation;R=Hn(R),R.forEach(k=>{k&&(k.classList[j?"add":"remove"](...z.disabledClass.split(" ")),k.tagName==="BUTTON"&&(k.disabled=j),n.params.watchOverflow&&n.enabled&&k.classList[n.isLocked?"add":"remove"](z.lockClass))})}function h(){const{nextEl:R,prevEl:j}=n.navigation;if(n.params.loop){c(j,!1),c(R,!1);return}c(j,n.isBeginning&&!n.params.rewind),c(R,n.isEnd&&!n.params.rewind)}function _(R){R.preventDefault(),!(n.isBeginning&&!n.params.loop&&!n.params.rewind)&&(n.slidePrev(),s("navigationPrev"))}function p(R){R.preventDefault(),!(n.isEnd&&!n.params.loop&&!n.params.rewind)&&(n.slideNext(),s("navigationNext"))}function v(){const R=n.params.navigation;if(n.params.navigation=JS(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(R.nextEl||R.prevEl))return;let j=o(R.nextEl),z=o(R.prevEl);Object.assign(n.navigation,{nextEl:j,prevEl:z}),j=Hn(j),z=Hn(z);const k=(V,B)=>{if(V){if(R.addIcons&&V.matches(".swiper-button-next,.swiper-button-prev")&&!V.querySelector("svg")){const G=document.createElement("div");Id(G,a1),V.appendChild(G.querySelector("svg")),G.remove()}V.addEventListener("click",B==="next"?p:_)}!n.enabled&&V&&V.classList.add(...R.lockClass.split(" "))};j.forEach(V=>k(V,"next")),z.forEach(V=>k(V,"prev"))}function w(){let{nextEl:R,prevEl:j}=n.navigation;R=Hn(R),j=Hn(j);const z=(k,V)=>{k.removeEventListener("click",V==="next"?p:_),k.classList.remove(...n.params.navigation.disabledClass.split(" "))};R.forEach(k=>z(k,"next")),j.forEach(k=>z(k,"prev"))}t("init",()=>{n.params.navigation.enabled===!1?C():(v(),h())}),t("toEdge fromEdge lock unlock",()=>{h()}),t("destroy",()=>{w()}),t("enable disable",()=>{let{nextEl:R,prevEl:j}=n.navigation;if(R=Hn(R),j=Hn(j),n.enabled){h();return}[...R,...j].filter(z=>!!z).forEach(z=>z.classList.add(n.params.navigation.lockClass))}),t("click",(R,j)=>{let{nextEl:z,prevEl:k}=n.navigation;z=Hn(z),k=Hn(k);const V=j.target;let B=k.includes(V)||z.includes(V);if(n.isElement&&!B){const G=j.path||j.composedPath&&j.composedPath();G&&(B=G.find(ne=>z.includes(ne)||k.includes(ne)))}if(n.params.navigation.hideOnClick&&!B){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===V||n.pagination.el.contains(V)))return;let G;z.length?G=z[0].classList.contains(n.params.navigation.hiddenClass):k.length&&(G=k[0].classList.contains(n.params.navigation.hiddenClass)),s(G===!0?"navigationShow":"navigationHide"),[...z,...k].filter(ne=>!!ne).forEach(ne=>ne.classList.toggle(n.params.navigation.hiddenClass))}});const E=()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),v(),h()},C=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(n.navigation,{enable:E,disable:C,update:h,init:v,destroy:w})}function ed(n=""){return`.${n.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function a6({swiper:n,extendParams:e,on:t,emit:s}){const o="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:V=>V,formatFractionTotal:V=>V,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),n.pagination={el:null,bullets:[]};let c,h=0;function _(){return!n.params.pagination.el||!n.pagination.el||Array.isArray(n.pagination.el)&&n.pagination.el.length===0}function p(V,B){const{bulletActiveClass:G}=n.params.pagination;V&&(V=V[`${B==="prev"?"previous":"next"}ElementSibling`],V&&(V.classList.add(`${G}-${B}`),V=V[`${B==="prev"?"previous":"next"}ElementSibling`],V&&V.classList.add(`${G}-${B}-${B}`)))}function v(V,B,G){if(V=V%G,B=B%G,B===V+1)return"next";if(B===V-1)return"previous"}function w(V){const B=V.target.closest(ed(n.params.pagination.bulletClass));if(!B)return;V.preventDefault();const G=Jf(B)*n.params.slidesPerGroup;if(n.params.loop){if(n.realIndex===G)return;const ne=v(n.realIndex,G,n.slides.length);ne==="next"?n.slideNext():ne==="previous"?n.slidePrev():n.slideToLoop(G)}else n.slideTo(G)}function E(){const V=n.rtl,B=n.params.pagination;if(_())return;let G=n.pagination.el;G=Hn(G);let ne,te;const ye=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,q=n.params.loop?Math.ceil(ye/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(te=n.previousRealIndex||0,ne=n.params.slidesPerGroup>1?Math.floor(n.realIndex/n.params.slidesPerGroup):n.realIndex):typeof n.snapIndex<"u"?(ne=n.snapIndex,te=n.previousSnapIndex):(te=n.previousIndex||0,ne=n.activeIndex||0),B.type==="bullets"&&n.pagination.bullets&&n.pagination.bullets.length>0){const I=n.pagination.bullets;let Z,$,H;if(B.dynamicBullets&&(c=Ly(I[0],n.isHorizontal()?"width":"height"),G.forEach(K=>{K.style[n.isHorizontal()?"width":"height"]=`${c*(B.dynamicMainBullets+4)}px`}),B.dynamicMainBullets>1&&te!==void 0&&(h+=ne-(te||0),h>B.dynamicMainBullets-1?h=B.dynamicMainBullets-1:h<0&&(h=0)),Z=Math.max(ne-h,0),$=Z+(Math.min(I.length,B.dynamicMainBullets)-1),H=($+Z)/2),I.forEach(K=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Se=>`${B.bulletActiveClass}${Se}`)].map(Se=>typeof Se=="string"&&Se.includes(" ")?Se.split(" "):Se).flat();K.classList.remove(...F)}),G.length>1)I.forEach(K=>{const F=Jf(K);F===ne?K.classList.add(...B.bulletActiveClass.split(" ")):n.isElement&&K.setAttribute("part","bullet"),B.dynamicBullets&&(F>=Z&&F<=$&&K.classList.add(...`${B.bulletActiveClass}-main`.split(" ")),F===Z&&p(K,"prev"),F===$&&p(K,"next"))});else{const K=I[ne];if(K&&K.classList.add(...B.bulletActiveClass.split(" ")),n.isElement&&I.forEach((F,Se)=>{F.setAttribute("part",Se===ne?"bullet-active":"bullet")}),B.dynamicBullets){const F=I[Z],Se=I[$];for(let be=Z;be<=$;be+=1)I[be]&&I[be].classList.add(...`${B.bulletActiveClass}-main`.split(" "));p(F,"prev"),p(Se,"next")}}if(B.dynamicBullets){const K=Math.min(I.length,B.dynamicMainBullets+4),F=(c*K-c)/2-H*c,Se=V?"right":"left";I.forEach(be=>{be.style[n.isHorizontal()?Se:"top"]=`${F}px`})}}G.forEach((I,Z)=>{if(B.type==="fraction"&&(I.querySelectorAll(ed(B.currentClass)).forEach($=>{$.textContent=B.formatFractionCurrent(ne+1)}),I.querySelectorAll(ed(B.totalClass)).forEach($=>{$.textContent=B.formatFractionTotal(q)})),B.type==="progressbar"){let $;B.progressbarOpposite?$=n.isHorizontal()?"vertical":"horizontal":$=n.isHorizontal()?"horizontal":"vertical";const H=(ne+1)/q;let K=1,F=1;$==="horizontal"?K=H:F=H,I.querySelectorAll(ed(B.progressbarFillClass)).forEach(Se=>{Se.style.transform=`translate3d(0,0,0) scaleX(${K}) scaleY(${F})`,Se.style.transitionDuration=`${n.params.speed}ms`})}B.type==="custom"&&B.renderCustom?(Id(I,B.renderCustom(n,ne+1,q)),Z===0&&s("paginationRender",I)):(Z===0&&s("paginationRender",I),s("paginationUpdate",I)),n.params.watchOverflow&&n.enabled&&I.classList[n.isLocked?"add":"remove"](B.lockClass)})}function C(){const V=n.params.pagination;if(_())return;const B=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.grid&&n.params.grid.rows>1?n.slides.length/Math.ceil(n.params.grid.rows):n.slides.length;let G=n.pagination.el;G=Hn(G);let ne="";if(V.type==="bullets"){let te=n.params.loop?Math.ceil(B/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&te>B&&(te=B);for(let ye=0;ye<te;ye+=1)V.renderBullet?ne+=V.renderBullet.call(n,ye,V.bulletClass):ne+=`<${V.bulletElement} ${n.isElement?'part="bullet"':""} class="${V.bulletClass}"></${V.bulletElement}>`}V.type==="fraction"&&(V.renderFraction?ne=V.renderFraction.call(n,V.currentClass,V.totalClass):ne=`<span class="${V.currentClass}"></span> / <span class="${V.totalClass}"></span>`),V.type==="progressbar"&&(V.renderProgressbar?ne=V.renderProgressbar.call(n,V.progressbarFillClass):ne=`<span class="${V.progressbarFillClass}"></span>`),n.pagination.bullets=[],G.forEach(te=>{V.type!=="custom"&&Id(te,ne||""),V.type==="bullets"&&n.pagination.bullets.push(...te.querySelectorAll(ed(V.bulletClass)))}),V.type!=="custom"&&s("paginationRender",G[0])}function R(){n.params.pagination=JS(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const V=n.params.pagination;if(!V.el)return;let B;typeof V.el=="string"&&n.isElement&&(B=n.el.querySelector(V.el)),!B&&typeof V.el=="string"&&(B=[...document.querySelectorAll(V.el)]),B||(B=V.el),!(!B||B.length===0)&&(n.params.uniqueNavElements&&typeof V.el=="string"&&Array.isArray(B)&&B.length>1&&(B=[...n.el.querySelectorAll(V.el)],B.length>1&&(B=B.find(G=>zS(G,".swiper")[0]===n.el))),Array.isArray(B)&&B.length===1&&(B=B[0]),Object.assign(n.pagination,{el:B}),B=Hn(B),B.forEach(G=>{V.type==="bullets"&&V.clickable&&G.classList.add(...(V.clickableClass||"").split(" ")),G.classList.add(V.modifierClass+V.type),G.classList.add(n.isHorizontal()?V.horizontalClass:V.verticalClass),V.type==="bullets"&&V.dynamicBullets&&(G.classList.add(`${V.modifierClass}${V.type}-dynamic`),h=0,V.dynamicMainBullets<1&&(V.dynamicMainBullets=1)),V.type==="progressbar"&&V.progressbarOpposite&&G.classList.add(V.progressbarOppositeClass),V.clickable&&G.addEventListener("click",w),n.enabled||G.classList.add(V.lockClass)}))}function j(){const V=n.params.pagination;if(_())return;let B=n.pagination.el;B&&(B=Hn(B),B.forEach(G=>{G.classList.remove(V.hiddenClass),G.classList.remove(V.modifierClass+V.type),G.classList.remove(n.isHorizontal()?V.horizontalClass:V.verticalClass),V.clickable&&(G.classList.remove(...(V.clickableClass||"").split(" ")),G.removeEventListener("click",w))})),n.pagination.bullets&&n.pagination.bullets.forEach(G=>G.classList.remove(...V.bulletActiveClass.split(" ")))}t("changeDirection",()=>{if(!n.pagination||!n.pagination.el)return;const V=n.params.pagination;let{el:B}=n.pagination;B=Hn(B),B.forEach(G=>{G.classList.remove(V.horizontalClass,V.verticalClass),G.classList.add(n.isHorizontal()?V.horizontalClass:V.verticalClass)})}),t("init",()=>{n.params.pagination.enabled===!1?k():(R(),C(),E())}),t("activeIndexChange",()=>{typeof n.snapIndex>"u"&&E()}),t("snapIndexChange",()=>{E()}),t("snapGridLengthChange",()=>{C(),E()}),t("destroy",()=>{j()}),t("enable disable",()=>{let{el:V}=n.pagination;V&&(V=Hn(V),V.forEach(B=>B.classList[n.enabled?"remove":"add"](n.params.pagination.lockClass)))}),t("lock unlock",()=>{E()}),t("click",(V,B)=>{const G=B.target,ne=Hn(n.pagination.el);if(n.params.pagination.el&&n.params.pagination.hideOnClick&&ne&&ne.length>0&&!G.classList.contains(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&G===n.navigation.nextEl||n.navigation.prevEl&&G===n.navigation.prevEl))return;const te=ne[0].classList.contains(n.params.pagination.hiddenClass);s(te===!0?"paginationShow":"paginationHide"),ne.forEach(ye=>ye.classList.toggle(n.params.pagination.hiddenClass))}});const z=()=>{n.el.classList.remove(n.params.pagination.paginationDisabledClass);let{el:V}=n.pagination;V&&(V=Hn(V),V.forEach(B=>B.classList.remove(n.params.pagination.paginationDisabledClass))),R(),C(),E()},k=()=>{n.el.classList.add(n.params.pagination.paginationDisabledClass);let{el:V}=n.pagination;V&&(V=Hn(V),V.forEach(B=>B.classList.add(n.params.pagination.paginationDisabledClass))),j()};Object.assign(n.pagination,{enable:z,disable:k,render:C,update:E,init:R,destroy:j})}const Im="/inmobiliaria/assets/logo-9PyExb9b.png",o6=()=>{const{id:n}=w1(),e=qo(),t=zs(),{user:s,userData:o}=La(),[c,h]=D.useState(null),[_,p]=D.useState(!0),[v,w]=D.useState(!1),[E,C]=D.useState(!1),R=D.useRef(!1),[j,z]=D.useState(!1),[k,V]=D.useState(null),[B,G]=D.useState(!1),[ne,te]=D.useState({name:"",phone:"",message:"Hola, estoy interesado en esta propiedad y me gustara recibir ms informacin."}),ye=async fe=>{fe.preventDefault(),C(!0);try{await Dl(yn(Xe,"inquiries"),{propertyId:c.id,propertyTitle:c.title,agentId:c.agentId,clientName:ne.name,clientPhone:ne.phone,clientMessage:ne.message,timestamp:new Date,status:"pending"}),Oe.success("Tu solicitud ha sido enviada! El agente te contactar pronto."),w(!1),te({name:"",phone:"",message:""})}catch(O){console.error("Error sending inquiry:",O),Oe.error("Hubo un error al enviar tu solicitud.")}finally{C(!1)}},q=()=>{if(!s){Oe.error("Debes iniciar sesin para agendar una visita."),e("/login",{state:{from:t.pathname}});return}if((c?.availableVisitSlots||[]).length===0){Oe.error("El agente an no ha definido horarios de visita para esta propiedad.");return}V(null),z(!0)},I=async fe=>{if(fe.preventDefault(),!k){Oe.error("Selecciona un horario.");return}G(!0);try{await Dl(yn(Xe,"visits"),{propertyId:c.id,propertyTitle:c.title,agentId:c.agentId,clientId:s.uid,clientName:o?.displayName||s.displayName||"Cliente",clientPhone:o?.phoneNumber||"No especificado",clientEmail:s.email,visitDate:k.date,visitTime:k.time,status:"pending",timestamp:new Date});const O=Yt(Xe,"properties",c.id),ee=c.availableVisitSlots.filter(pe=>pe.id!==k.id);await Ir(O,{availableVisitSlots:ee}),h(pe=>({...pe,availableVisitSlots:ee})),Oe.success("Visita agendada con xito! El agente confirmar la fecha."),z(!1),V(null)}catch(O){console.error("Error scheduling visit:",O),Oe.error("Error al agendar la visita.")}finally{G(!1)}},Z=async()=>{if(!c)return;let fe=c.agentPhone||"51999999999";if(!c.agentPhone&&c.agentId)try{const pe=await Lo(Yt(Xe,"users",c.agentId));if(pe.exists()){const xe=pe.data();xe.phoneNumber&&(fe=xe.phoneNumber)}}catch(pe){console.error("Error fetching agent phone:",pe)}fe=fe.replace(/[\s\-\+]/g,""),!fe.startsWith("51")&&fe.length===9&&(fe="51"+fe);const O=`Hola, estoy interesado en la propiedad: ${c.title}
 ${c.location}`,ee=`https://wa.me/${fe}?text=${encodeURIComponent(O)}`;window.open(ee,"_blank")},$=async()=>{const fe={title:c?.title||"Propiedad en Inmuvete",text:`Mira esta propiedad: ${c?.title} - ${c?.location}`,url:window.location.href};try{navigator.share?await navigator.share(fe):(await navigator.clipboard.writeText(window.location.href),Oe.success("Enlace copiado al portapapeles!"))}catch(O){O.name!=="AbortError"&&(await navigator.clipboard.writeText(window.location.href),Oe.success("Enlace copiado al portapapeles!"))}},H=()=>{Oe.success("Propiedad guardada en favoritos!")};if(D.useEffect(()=>{(async()=>{try{if(!n)return;const O=Yt(Xe,"properties",n),ee=await Lo(O);if(ee.exists()){const pe=ee.data();R.current||(R.current=!0,Ir(O,{views:P5(1)}).catch(xe=>console.error("Error incrementing views",xe)),pe.views=(pe.views||0)+1),h({id:ee.id,...pe})}else console.log("No such document!")}catch(O){console.error("Error fetching property:",O)}finally{p(!1)}})()},[n]),_)return f.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-16 h-16 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})});if(!c)return f.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Propiedad no encontrada"}),f.jsx(bt,{to:"/",className:"text-[#fc7f51] hover:underline",children:"Volver al inicio"})]});const K=c.exchangeRate||3.8,F=typeof c.price=="number"?c.price:parseFloat(c.price),Se=c.currency||"USD";let be,W,me,ae;Se==="USD"?(be=F,me="USD",W=F*K,ae="PEN"):(be=F,me="PEN",W=F/K,ae="USD");const Re=c.lat&&c.lng?`https://www.google.com/maps/search/?api=1&query=${c.lat},${c.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(c.location)}`;return f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("main",{className:"container mx-auto px-4 md:px-6 pt-28 md:pt-32 pb-12",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:c.title}),f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center text-sm gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium overflow-hidden",children:[f.jsx(qr,{className:"w-4 h-4 text-[#fc7f51] flex-shrink-0"}),f.jsx("a",{href:Re,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#fc7f51] truncate",children:c.location})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("button",{onClick:$,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[f.jsx(dO,{className:"w-4 h-4"})," Compartir"]}),f.jsxs("button",{onClick:H,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[f.jsx(Yf,{className:"w-4 h-4"})," Guardar"]})]})]})]}),f.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 shadow-2xl relative h-[400px] md:h-[600px] bg-gray-100 group",children:f.jsx(XS,{modules:[r6,a6],navigation:!0,pagination:{clickable:!0},className:"h-full w-full",loop:!0,children:c.images&&c.images.length>0?c.images.map((fe,O)=>f.jsxs(Oy,{className:"relative",children:[f.jsx("img",{src:fe,alt:`Property ${O+1}`,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none select-none",children:f.jsx("img",{src:Im,alt:"Inmuvete",className:"w-1/2 h-auto object-contain filter drop-shadow-lg"})})]},O)):f.jsx(Oy,{children:f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-400",children:"No hay imgenes disponibles"})})})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["Publicado por ",c.agentName||"Agente Inmuvete"]}),f.jsxs("p",{className:"text-gray-600 mb-0",children:[c.bedrooms||0," Habitaciones  ",c.bathrooms||0," Baos  ",c.footage," m"]})]}),f.jsx("div",{className:"w-14 h-14 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden border-2 border-white shadow-md",children:f.jsx(Rd,{className:"w-8 h-8 text-gray-400"})})]}),f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[f.jsx("h3",{className:"text-lg font-bold mb-4",children:"Caractersticas"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-y-4 gap-x-6",children:[f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(WD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[c.footage," m"]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(oD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[c.bedrooms||0," Habitaciones"]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(rD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[c.bathrooms||0," Baos"]})]}),c.parking&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(pD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Cochera"})]}),c.isDuplex&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(OD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Dplex"})]}),c.floor&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(iD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:["Piso ",c.floor]})]}),c.isInBuilding&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(uD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"En Edificio"})]}),c.elevator&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(tD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Ascensor"})]}),c.furnished&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(W4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Amoblado"})]}),c.pool&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(LS,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Piscina"})]}),c.gym&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(SD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Gimnasio"})]}),c.security&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(MS,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Seguridad 24/7"})]}),c.isExclusive&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(gO,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Exclusivo"})]}),c.antiquity&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(Zf,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:c.antiquity==="estreno"?"Estreno":c.antiquity})]})]})]}),f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Descripcin"}),f.jsx("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-line",children:c.description})]}),f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Detalles"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Tipo"}),f.jsx("span",{className:"font-semibold capitalize",children:c.type})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Categora"}),f.jsx("span",{className:"font-semibold capitalize",children:c.category})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"rea"}),f.jsxs("span",{className:"font-semibold",children:[c.footage," m"]})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Estado"}),f.jsx("span",{className:`font-semibold capitalize ${c.status==="disponible"?"text-green-600":"text-red-500"}`,children:c.status})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Antigedad"}),f.jsx("span",{className:"font-semibold capitalize",children:c.antiquity==="estreno"?"A estrenar":c.antiquity==="preventa"?"En Preventa":c.antiquity==="up_to_5"?"Hasta 5 aos":c.antiquity==="5_to_10"?"5 a 10 aos":c.antiquity==="10_to_20"?"10 a 20 aos":c.antiquity==="more_than_20"?"Ms de 20 aos":c.antiquity||"No especificado"})]}),c.floor&&f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Piso"}),f.jsxs("span",{className:"font-semibold",children:[c.floor,""]})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Ascensor"}),f.jsx("span",{className:"font-semibold",children:c.elevator?"S":"No"})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Cochera"}),f.jsx("span",{className:"font-semibold",children:c.parking?"S":"No"})]})]})]}),f.jsxs("div",{className:"pt-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ubicacin"}),f.jsx("p",{className:"text-gray-500 mb-4",children:c.location}),f.jsxs("div",{className:"h-96 w-full rounded-xl overflow-hidden bg-gray-100 shadow-inner relative group",children:[c.lat&&c.lng?f.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${c.lat},${c.lng}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):c.location?f.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${encodeURIComponent(c.location)}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-200",children:[f.jsx(qr,{className:"w-12 h-12 text-gray-400 mb-2"}),f.jsx("p",{className:"text-gray-500",children:"Mapa no disponible para esta ubicacin."})]}),f.jsxs("a",{href:Re,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-lg text-sm font-bold flex items-center gap-2 hover:bg-[#fc7f51] hover:text-white transition",children:[f.jsx(qr,{className:"w-4 h-4"}),"Abrir en Google Maps"]})]})]})]}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"sticky top-32 bg-white rounded-xl shadow-card border border-gray-200 p-6",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("span",{className:"block text-3xl font-bold text-[#fc7f51]",children:me==="USD"?`$ ${be.toLocaleString("en-US",{maximumFractionDigits:0})}`:`S/. ${be.toLocaleString("en-US",{maximumFractionDigits:0})}`}),f.jsx("span",{className:"block text-xl font-bold text-gray-400 mt-1",children:ae==="USD"?`$ ${W.toLocaleString("en-US",{maximumFractionDigits:0})}`:`S/. ${W.toLocaleString("en-US",{maximumFractionDigits:0})}`}),c.type==="alquiler"&&f.jsx("span",{className:"text-gray-500 text-sm block mt-1",children:"Precio por mes"})]}),f.jsxs("button",{onClick:Z,className:"w-full bg-[#25D366] text-white font-bold text-lg py-3 rounded-lg hover:bg-[#20bd5a] transition mb-4 shadow-lg shadow-green-500/30 flex items-center justify-center gap-2",children:[f.jsx(X_,{className:"w-5 h-5"}),"Contactar por WhatsApp"]}),f.jsxs("button",{onClick:q,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-lg hover:bg-[#e56b3e] transition mb-6 flex items-center justify-center gap-2 shadow-lg shadow-orange-500/30",children:[f.jsx(Jc,{className:"w-5 h-5"}),"Agendar Visita"]}),f.jsx("div",{className:"text-center text-xs text-gray-400",children:"* Al contactar aceptas nuestros trminos y condiciones."})]})})]})]}),v&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Solicitar Informacin"}),f.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(jr,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:ye,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),f.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre completo",value:ne.name,onChange:fe=>te({...ne,name:fe.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono / WhatsApp"}),f.jsx("input",{required:!0,type:"tel",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: +51 999 999 999",value:ne.phone,onChange:fe=>te({...ne,phone:fe.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),f.jsx("textarea",{required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition h-32 resize-none",value:ne.message,onChange:fe=>te({...ne,message:fe.target.value})})]}),f.jsx("button",{type:"submit",disabled:E,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-70",children:E?f.jsx(eu,{className:"animate-spin"}):"Enviar Solicitud"})]})]})}),j&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative p-8",children:[f.jsx("button",{onClick:()=>z(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition",children:f.jsx(jr,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Agendar Visita"}),f.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Selecciona uno de los horarios disponibles del agente."}),f.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto mb-6",children:(c?.availableVisitSlots||[]).sort((fe,O)=>new Date(fe.date+"T"+fe.time)-new Date(O.date+"T"+O.time)).map(fe=>f.jsxs("button",{type:"button",onClick:()=>V(fe),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg border-2 transition ${k?.id===fe.id?"border-[#fc7f51] bg-orange-50":"border-gray-100 hover:border-gray-300 bg-gray-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Jc,{className:"w-4 h-4 text-[#fc7f51]"}),f.jsx("span",{className:"font-medium text-gray-700 text-sm",children:new Date(fe.date+"T00:00:00").toLocaleDateString("es-PE",{weekday:"long",day:"numeric",month:"long"})})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Zf,{className:"w-3 h-3 text-gray-400"}),f.jsx("span",{className:"text-sm font-bold text-gray-600",children:fe.time}),k?.id===fe.id&&f.jsx(yD,{className:"w-5 h-5 text-[#fc7f51]"})]})]},fe.id))}),f.jsx("button",{onClick:I,disabled:B||!k,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-lg hover:bg-[#e56b3e] transition disabled:opacity-50",children:B?"Agendando...":"Confirmar Visita"})]})})]})},l6=()=>f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20",alt:"About Hero"})}),f.jsxs("div",{className:"relative z-10 text-center px-6",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:["Ms que una ",f.jsx("span",{className:"text-[#fc7f51]",children:"inmobiliaria"})]}),f.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Inspiramos movimiento. Impulsamos a las personas a dar el paso hacia nuevas etapas de su vida."})]})]}),f.jsxs("div",{className:"container mx-auto px-6 py-20",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center mb-24",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Quines Somos"}),f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("img",{src:Im,alt:"Inmuvete",className:"h-16 object-contain"}),f.jsx("span",{className:"text-5xl font-bold text-[#fc7f51] tracking-tight hidden md:block",children:"Inmuvete"})]}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 leading-tight",children:"Concepto de Marca"}),f.jsxs("p",{className:"text-[#878787] text-lg leading-relaxed mb-6",children:["Ms que vender inmuebles, inspiramos movimiento. ",f.jsx("strong",{className:"text-[#262626]",children:"Inmuvete"})," es la inmobiliaria que impulsa a las personas a dar el paso hacia nuevas etapas de su vida: un nuevo hogar, una inversin segura o un espacio para crecer."]}),f.jsx("p",{className:"text-[#878787] text-lg leading-relaxed",children:"Nuestro enfoque combina confianza, transparencia y dinamismo, convirtiendo cada transaccin en una experiencia cercana, gil y motivadora."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("img",{src:"/images/house_ext.png",className:"rounded-tl-[40px] rounded-br-[40px] w-full h-64 object-cover shadow-card",alt:"Concept 1"}),f.jsx("img",{src:"/images/house_int.png",className:"rounded-tr-[40px] rounded-bl-[40px] w-full h-64 object-cover shadow-card mt-8",alt:"Concept 2"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-24",children:[f.jsxs("div",{className:"bg-[#f9f9f9] p-10 rounded-2xl hover:shadow-lg transition border-l-4 border-[#fc7f51] group",children:[f.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] group-hover:text-white transition",children:f.jsx(_O,{className:"w-7 h-7"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Misin"}),f.jsx("p",{className:"text-[#878787] leading-relaxed",children:'"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles, ofreciendo un servicio cercano que transforma cada proceso en una experiencia sencilla y segura."'})]}),f.jsxs("div",{className:"bg-[#262626] p-10 rounded-2xl text-white shadow-xl relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#fc7f51] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"}),f.jsx("div",{className:"w-14 h-14 bg-[#333] rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] transition",children:f.jsx(Kf,{className:"w-7 h-7"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visin"}),f.jsx("p",{className:"text-gray-300 leading-relaxed",children:'"Ser la inmobiliaria de referencia en la regin, reconocida por la confianza, innovacin y cercana con nuestros clientes, ofreciendo experiencias inmobiliarias que impulsen el desarrollo personal, familiar y empresarial."'})]})]}),f.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[f.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Nuestra Esencia"}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Nuestros Valores"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:f.jsx(MS,{className:"w-10 h-10"})}),f.jsx("h4",{className:"text-xl font-bold mb-3",children:"Integridad"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"Actuamos con honestidad y transparencia en cada paso."})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:f.jsx(PD,{className:"w-10 h-10"})}),f.jsx("h4",{className:"text-xl font-bold mb-3",children:"Compromiso"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"Nos dedicamos a cumplir y superar las expectativas."})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:f.jsx(jS,{className:"w-10 h-10"})}),f.jsx("h4",{className:"text-xl font-bold mb-3",children:"Confianza"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"Construimos relaciones duraderas basadas en la seguridad."})]})]})]})]})]}),c6=()=>{const[n,e]=D.useState(null),[t,s]=D.useState(!0),[o,c]=D.useState(!1);return D.useEffect(()=>{(async()=>{try{const _=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!_.ok)throw new Error("Failed to fetch");const p=await _.json(),v=p.rates.PEN;e({compra:v,venta:v,fecha:new Date(p.date).toISOString().split("T")[0]})}catch(_){console.error("Error fetching exchange rate:",_),c(!0),e({compra:3.75,venta:3.8,fecha:new Date().toISOString().split("T")[0]})}finally{s(!1)}})()},[]),t?f.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 animate-pulse bg-gray-800/50 px-3 py-1 rounded-full",children:[f.jsx(oO,{className:"w-3 h-3 animate-spin"}),f.jsx("span",{children:"Cargando TC..."})]}):f.jsxs("div",{className:"hidden xl:flex flex-col items-end text-right mr-4 border-r border-gray-700 pr-4",children:[f.jsxs("div",{className:"flex items-center gap-1 text-[#fc7f51] text-xs font-bold uppercase tracking-wider mb-0.5",children:[f.jsx(ED,{className:"w-3 h-3"}),f.jsx("span",{children:"Tipo de Cambio"})]}),f.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-300 font-mono",children:f.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-300 font-mono",children:f.jsxs("div",{title:"Tipo de Cambio Referencial",children:[f.jsx("span",{className:"text-gray-500 mr-1",children:"T.C:"}),f.jsx("span",{className:"text-white font-bold",children:n?.venta?.toFixed(2)})]})})})]})},u6=()=>{const{user:n,userData:e,logout:t}=La(),s=zs(),o=qo(),[c,h]=D.useState(""),[_,p]=D.useState(!1);s.pathname;const v=()=>{c.trim()&&o(`/search?location=${encodeURIComponent(c)}`)},w=E=>{E.key==="Enter"&&v()};return f.jsxs("nav",{className:"fixed w-full z-50 bg-[#16151a] border-b border-gray-800 shadow-lg",children:[f.jsxs("div",{className:"container mx-auto px-6 h-24 flex justify-between items-center",children:[f.jsxs(bt,{to:"/",className:"flex items-center gap-2 group",children:[f.jsx("img",{src:Im,alt:"Inmuvete",className:"h-10 md:h-12 w-auto object-contain"}),f.jsx("span",{className:"text-2xl font-bold text-[#fc7f51] tracking-tight hidden md:block",children:"Inmuvete"})]}),f.jsxs("div",{className:"hidden lg:flex items-center bg-white rounded-full py-2 pl-6 pr-2 shadow-xl hover:shadow-orange-500/5 transition cursor-pointer gap-4 min-w-[420px]",children:[f.jsx("input",{type:"text",placeholder:"Buscar por zona, ciudad o tipo...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm",value:c,onChange:E=>h(E.target.value),onKeyDown:w}),f.jsx("div",{className:"bg-[#fc7f51] p-2.5 rounded-full text-white hover:bg-[#e56b3e] transition shadow-md",onClick:v,children:f.jsx(Zl,{className:"w-5 h-5",strokeWidth:2.5})})]}),f.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[f.jsx(c6,{}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsx(bt,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),e?.role!=="agente"&&f.jsxs(f.Fragment,{children:[f.jsx(bt,{to:"/tips",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Blog"}),f.jsx(bt,{to:"/about",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Nosotros"}),f.jsx(bt,{to:"/contact",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Contacto"})]})]}),n?f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs(bt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",className:"text-white hover:text-[#fc7f51] transition font-medium mr-2",children:["Hola, ",n.displayName?n.displayName.split(" ")[0]:e?.role==="agente"?"Agente":"Usuario"]}),f.jsx("button",{onClick:t,className:"bg-[#262626] border border-gray-600 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition",children:"Salir"}),f.jsx(bt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",children:f.jsx("div",{className:"bg-gray-600 rounded-full p-0.5 cursor-pointer",children:f.jsx(Xw,{className:"w-8 h-8 text-white fill-gray-600"})})})]}):f.jsx(bt,{to:"/login",className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-full font-bold transition shadow-lg shadow-orange-500/20",children:"Ingresar"})]}),f.jsx("button",{onClick:()=>p(!_),className:"md:hidden text-white p-2 hover:bg-gray-800 rounded-lg transition",children:_?f.jsx(jr,{className:"w-8 h-8"}):f.jsx(XD,{className:"w-8 h-8"})})]}),_&&f.jsx("div",{className:"md:hidden bg-[#16151a] border-t border-gray-800 absolute w-full left-0 top-24 min-h-[calc(100vh-96px)] p-6 animate-fadeIn",children:f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"flex items-center bg-white rounded-full py-2 pl-4 pr-2 shadow-lg mb-4",children:[f.jsx("input",{type:"text",placeholder:"Buscar...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm w-full",value:c,onChange:E=>h(E.target.value),onKeyDown:E=>{E.key==="Enter"&&(v(),p(!1))}}),f.jsx("div",{className:"bg-[#fc7f51] p-2 rounded-full text-white",onClick:()=>{v(),p(!1)},children:f.jsx(Zl,{className:"w-4 h-4",strokeWidth:2.5})})]}),f.jsx(bt,{to:"/",onClick:()=>p(!1),className:"text-lg font-bold text-gray-200 hover:text-[#fc7f51] py-2 border-b border-gray-800",children:"Propiedades"}),f.jsx(bt,{to:"/tips",onClick:()=>p(!1),className:"text-lg font-bold text-gray-200 hover:text-[#fc7f51] py-2 border-b border-gray-800",children:"Blog"}),e?.role!=="agente"&&f.jsxs(f.Fragment,{children:[f.jsx(bt,{to:"/about",onClick:()=>p(!1),className:"text-lg font-bold text-gray-200 hover:text-[#fc7f51] py-2 border-b border-gray-800",children:"Nosotros"}),f.jsx(bt,{to:"/contact",onClick:()=>p(!1),className:"text-lg font-bold text-gray-200 hover:text-[#fc7f51] py-2 border-b border-gray-800",children:"Contacto"})]}),n?f.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[f.jsxs(bt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",onClick:()=>p(!1),className:"text-white hover:text-[#fc7f51] font-medium flex items-center gap-2",children:[f.jsx(Xw,{className:"w-6 h-6"}),"Hola, ",n.displayName||(e?.role==="agente"?"Agente":"Usuario")]}),f.jsx("button",{onClick:()=>{t(),p(!1)},className:"bg-[#262626] border border-gray-600 text-white w-full py-3 rounded-xl font-bold hover:bg-gray-800 transition",children:"Cerrar Sesin"})]}):f.jsx(bt,{to:"/login",onClick:()=>p(!1),className:"bg-[#fc7f51] text-white w-full py-3 rounded-xl font-bold text-center mt-4 shadow-lg shadow-orange-500/20",children:"Ingresar"})]})})]})},d6=()=>f.jsxs("footer",{className:"bg-[#16151a] text-white py-16",children:[f.jsxs("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("img",{src:Im,alt:"Inmuvete",className:"h-12"}),f.jsxs("span",{className:"text-2xl font-bold font-[Montserrat] text-white",children:["Inmu",f.jsx("span",{className:"text-[#fc7f51]",children:"vete"})]})]}),f.jsx("p",{className:"text-[#878787] text-sm leading-relaxed mb-6",children:"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles."}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("a",{href:"https://www.tiktok.com/@inmuevete?_r=1&_t=ZS-93tNDmlipvg",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] hover:bg-[#fc7f51] hover:text-white transition-colors duration-300","aria-label":"TikTok",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})}),f.jsx("a",{href:"https://www.instagram.com/inmuevete.inmobiliaria?igsh=ZDBmc244MnYyOHZ1&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] hover:bg-[#fc7f51] hover:text-white transition-colors duration-300","aria-label":"Instagram",children:f.jsx(PS,{size:18})}),f.jsx("a",{href:"https://www.facebook.com/share/1AYe1Qtnwd/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] hover:bg-[#fc7f51] hover:text-white transition-colors duration-300","aria-label":"Facebook",children:f.jsx(RS,{size:18})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Nuestros Valores"}),f.jsxs("ul",{className:"space-y-4 text-sm text-[#878787]",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Integridad"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Compromiso"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Confianza"]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Contacto"}),f.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"Oficina Central, Ciudad"}),f.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"contacto@inmuevete.com"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"+51 123 456 789"})]})]}),f.jsx("div",{className:"border-t border-[#262626] mt-12 pt-8 text-center text-[#878787] text-xs",children:" 2024 Inmuvete. Todos los derechos reservados."})]}),h6=()=>{const[n,e]=D.useState({name:"",phone:"+51 ",email:"",subject:"Informacin general",message:""}),t=h=>{e({...n,[h.target.name]:h.target.value})},s=h=>{let _=h.target.value;_.startsWith("+51 ")||(_="+51 "+_.replace(/^\+51\s*/,"")),e({...n,phone:_})},o=()=>{const h="+51965355700";let _=n.message.trim();return _||(_=`Hola, me gustara ${n.subject==="Comprar una propiedad"?"Comprar":n.subject==="Vender una propiedad"?"Vender":n.subject==="Alquileres"?"Alquilar":"obtener Informacin general sobre"} un inmueble.`),_+=`

- Nombre: ${n.name}
- Telfono: ${n.phone}
- Email: ${n.email}
- Asunto: ${n.subject}`,`https://wa.me/${h}?text=${encodeURIComponent(_)}`},c=h=>{if(h.preventDefault(),!n.name||!n.email){Oe.error("Por favor completa nombre y email.");return}const _=o();Oe.success("Redirigiendo a WhatsApp..."),setTimeout(()=>{window.open(_,"_blank")},1e3)};return f.jsx("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:f.jsxs("div",{className:"pt-24 pb-20 container mx-auto px-6",children:[f.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[f.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Hablamos?"}),f.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#262626]",children:"Contctanos"}),f.jsx("p",{className:"text-[#878787] text-lg",children:"Estamos aqu para ayudarte a encontrar tu espacio ideal. Escrbenos y un asesor se pondr en contacto contigo a la brevedad."})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[f.jsxs("div",{className:"bg-[#16151a] text-white p-10 rounded-3xl shadow-xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-20 blur-3xl"}),f.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-10 blur-3xl"}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Informacin de Contacto"}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:f.jsx(X_,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg mb-1",children:"Telfono"}),f.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"+51 965355700"})]})]}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:f.jsx(ZD,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg mb-1",children:"Email"}),f.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"contacto@inmuevete.com"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"ventas@inmuevete.com"})]})]}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:f.jsx(qr,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg mb-1",children:"Oficina Central"}),f.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Av. Principal 123, Oficina 404",f.jsx("br",{}),"Centro Empresarial, Ciudad",f.jsx("br",{}),"Per"]})]})]})]}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h4",{className:"font-bold text-lg mb-4",children:"Sguenos"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:f.jsx(PS,{className:"w-5 h-5"})}),f.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:f.jsx(RS,{className:"w-5 h-5"})}),f.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:f.jsx(UD,{className:"w-5 h-5"})})]})]})]})]}),f.jsx("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-card border border-gray-100",children:f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Nombre"}),f.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,placeholder:"Tu nombre completo",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Telfono"}),f.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:s,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:n.email,onChange:t,placeholder:"ejemplo@correo.com",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Asunto"}),f.jsxs("select",{name:"subject",value:n.subject,onChange:t,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition text-gray-600 bg-white",children:[f.jsx("option",{value:"Informacin general",children:"Informacin general"}),f.jsx("option",{value:"Comprar una propiedad",children:"Comprar una propiedad"}),f.jsx("option",{value:"Vender una propiedad",children:"Vender una propiedad"}),f.jsx("option",{value:"Alquileres",children:"Alquileres"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Mensaje"}),f.jsx("textarea",{name:"message",value:n.message,onChange:t,rows:"4",placeholder:"Cmo podemos ayudarte?",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),f.jsxs("button",{type:"submit",className:"w-full bg-[#128C7E] hover:bg-[#075E54] text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2 group",children:["Contactar por WhatsApp",f.jsx(eO,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})]})]})})},o1=3.75,l1=()=>{const[n,e]=iC(),[t,s]=D.useState(n.get("operation")||"venta"),[o,c]=D.useState(n.get("location")||""),[h,_]=D.useState(n.get("propertyType")||""),[p,v]=D.useState(n.get("currency")||"USD"),[w,E]=D.useState(n.get("priceMin")||""),[C,R]=D.useState(n.get("priceMax")||""),[j,z]=D.useState(n.get("bedrooms")||""),[k,V]=D.useState(n.get("bathrooms")||""),[B,G]=D.useState(n.get("floor")||""),[ne,te]=D.useState(n.get("parking")==="true"),[ye,q]=D.useState(n.get("isDuplex")==="true");D.useEffect(()=>{s(n.get("operation")||"venta"),c(n.get("location")||""),_(n.get("propertyType")||""),v(n.get("currency")||"USD"),E(n.get("priceMin")||""),R(n.get("priceMax")||""),z(n.get("bedrooms")||""),V(n.get("bathrooms")||""),G(n.get("floor")||""),te(n.get("parking")==="true"),q(n.get("isDuplex")==="true")},[n]);const[I,Z]=D.useState([]),[$,H]=D.useState([]),[K,F]=D.useState(!0),[Se,be]=D.useState(!1),[W,me]=D.useState("newest");D.useEffect(()=>{(async()=>{F(!0);try{const pe=(await ir(yn(Xe,"properties"))).docs.map(xe=>({id:xe.id,...xe.data()}));Z(pe)}catch(ee){console.error("Error fetching properties:",ee)}finally{F(!1)}})()},[]),D.useEffect(()=>{let O=[...I];if(t&&(O=O.filter(ee=>ee.type?.toLowerCase()===t.toLowerCase())),o){const ee=o.toLowerCase();O=O.filter(pe=>pe.location?.toLowerCase().includes(ee)||pe.address?.toLowerCase().includes(ee)||pe.title?.toLowerCase().includes(ee))}if(h){const ee=h.toLowerCase();O=O.filter(pe=>{const xe=pe.title?.toLowerCase()||"",Ce=pe.category?.toLowerCase()||"",Ae=pe.location?.toLowerCase()||"";return ee==="departamento"||ee==="departamentos"?xe.includes("departamento")||xe.includes("depa"):ee==="casa"||ee==="casas"?xe.includes("casa"):ee==="terreno"||ee==="terrenos"?Ce==="terreno"||xe.includes("terreno")||xe.includes("lote"):ee==="oficina"||ee==="oficinas"?xe.includes("oficina"):ee==="local"||ee==="locales"?xe.includes("local"):ee==="campestre"||ee==="campestres"?xe.includes("campestre")||xe.includes("campo")||Ae.includes("campo"):ee==="playa"?xe.includes("playa")||Ae.includes("playa"):!0})}if(w||C){const ee=w?parseFloat(w):0,pe=C?parseFloat(C):1/0;O=O.filter(xe=>{const Ce=typeof xe.price=="number"?xe.price:parseFloat(xe.price)||0,Ae=xe.currency||"USD";let He;return Ae===p?He=Ce:p==="USD"&&Ae==="PEN"?He=Ce/o1:p==="PEN"&&Ae==="USD"?He=Ce*o1:He=Ce,He>=ee&&He<=pe})}if(j){const ee=parseInt(j);O=O.filter(pe=>(parseInt(pe.bedrooms)||0)>=ee)}if(k){const ee=parseInt(k);O=O.filter(pe=>(parseInt(pe.bathrooms)||0)>=ee)}ne&&(O=O.filter(ee=>ee.parking===!0)),ye&&(O=O.filter(ee=>ee.isDuplex===!0)),B&&(O=O.filter(ee=>ee.floor?.toString().toLowerCase()===B.toLowerCase())),O=O.filter(ee=>ee.status==="disponible"),W==="newest"?O.sort((ee,pe)=>(pe.createdAt?.seconds||0)-(ee.createdAt?.seconds||0)):W==="price_asc"?O.sort((ee,pe)=>(parseFloat(ee.price)||0)-(parseFloat(pe.price)||0)):W==="price_desc"&&O.sort((ee,pe)=>(parseFloat(pe.price)||0)-(parseFloat(ee.price)||0)),O.sort((ee,pe)=>ee.isPromoted&&!pe.isPromoted?-1:!ee.isPromoted&&pe.isPromoted?1:0),H(O)},[I,t,o,h,p,w,C,j,k,ne,ye,B,W]);const ae=()=>{const O={};t&&(O.operation=t),o&&(O.location=o),h&&(O.propertyType=h),p&&(O.currency=p),w&&(O.priceMin=w),C&&(O.priceMax=C),j&&(O.bedrooms=j),k&&(O.bathrooms=k),B&&(O.floor=B),ne&&(O.parking="true"),ye&&(O.isDuplex="true"),e(O)},Re=()=>{s("venta"),c(""),_(""),v("USD"),E(""),R(""),z(""),V(""),G(""),te(!1),q(!1),e({})},fe=[t,o,h,w,C,j,k,B,ne,ye].filter(Boolean).length;return f.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-[#262626]",children:[f.jsx("div",{className:"bg-white border-b border-gray-200 pt-24 pb-6 sticky top-0 z-30",children:f.jsxs("div",{className:"container mx-auto px-6",children:[f.jsxs(bt,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-[#fc7f51] transition mb-4",children:[f.jsx(My,{className:"w-4 h-4"}),"Volver al inicio"]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[f.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl flex-shrink-0",children:["venta","alquiler","anticresis"].map(O=>f.jsx("button",{onClick:()=>s(O),className:`px-4 py-2 text-sm font-bold capitalize rounded-lg transition-all ${t===O?"bg-white text-[#fc7f51] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:O},O))}),f.jsxs("div",{className:"relative flex-grow",children:[f.jsx(qr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value),onKeyDown:O=>O.key==="Enter"&&ae(),placeholder:"Buscar por ubicacin, zona o nombre...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"})]}),f.jsxs("button",{onClick:()=>be(!Se),className:`flex items-center gap-2 px-4 py-3 rounded-xl border font-bold text-sm transition flex-shrink-0 ${Se?"bg-[#fc7f51] text-white border-[#fc7f51]":"bg-white text-gray-700 border-gray-200 hover:border-[#fc7f51]"}`,children:[f.jsx(mO,{className:"w-4 h-4"}),"Filtros",fe>1&&f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${Se?"bg-white/20 text-white":"bg-[#fc7f51] text-white"}`,children:fe})]}),f.jsxs("button",{onClick:ae,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-8 py-3 rounded-xl font-bold text-sm shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2 flex-shrink-0",children:[f.jsx(Zl,{className:"w-4 h-4"}),"Buscar"]})]}),Se&&f.jsxs("div",{className:"mt-4 p-6 bg-gray-50 rounded-2xl border border-gray-200 animate-fadeIn",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo Inmueble"}),f.jsxs("select",{value:h,onChange:O=>_(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"departamento",children:"Departamento"}),f.jsx("option",{value:"casa",children:"Casa"}),f.jsx("option",{value:"terreno",children:"Terreno"}),f.jsx("option",{value:"oficina",children:"Oficina"}),f.jsx("option",{value:"local",children:"Local Comercial"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),f.jsxs("div",{className:"flex bg-white rounded-lg border border-gray-200 p-0.5 h-[42px]",children:[f.jsx("button",{onClick:()=>v("USD"),className:`flex-1 rounded-md text-xs font-bold transition ${p==="USD"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"$ USD"}),f.jsx("button",{onClick:()=>v("PEN"),className:`flex-1 rounded-md text-xs font-bold transition ${p==="PEN"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"S/ PEN"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mn."}),f.jsx("input",{type:"number",placeholder:"0",value:w,onChange:O=>E(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mx."}),f.jsx("input",{type:"number",placeholder:"Sin lmite",value:C,onChange:O=>R(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),f.jsxs("select",{value:j,onChange:O=>z(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"}),f.jsx("option",{value:"4",children:"4+"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),f.jsxs("select",{value:k,onChange:O=>V(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"})]})]})]}),f.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 border-t border-gray-100 pt-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Piso"}),f.jsx("input",{type:"text",placeholder:"Ej. 1",value:B,onChange:O=>G(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),f.jsxs("div",{className:"flex flex-col gap-2 justify-center h-full pt-1",children:[f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:ne,onChange:O=>te(O.target.checked)}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Con Cochera"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:ye,onChange:O=>q(O.target.checked)}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Dplex"})]})]})]}),f.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[f.jsxs("button",{onClick:Re,className:"text-sm text-gray-500 hover:text-red-500 font-medium flex items-center gap-1 transition",children:[f.jsx(jr,{className:"w-4 h-4"}),"Limpiar filtros"]}),f.jsx("button",{onClick:()=>{ae(),be(!1)},className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-lg font-bold text-sm transition",children:"Aplicar Filtros"})]})]})]})}),f.jsxs("div",{className:"container mx-auto px-6 py-8",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:K?"Buscando...":`${$.length} propiedad${$.length!==1?"es":""} encontrada${$.length!==1?"s":""}`}),(o||h)&&f.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[t&&f.jsx("span",{className:"capitalize",children:t}),h&&f.jsxs("span",{children:["  ",h]}),o&&f.jsxs("span",{children:[" en ",f.jsx("strong",{children:o})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-sm text-gray-500 font-medium",children:"Ordenar por:"}),f.jsxs("select",{value:W,onChange:O=>me(O.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium focus:border-[#fc7f51] outline-none cursor-pointer",children:[f.jsx("option",{value:"newest",children:"Ms recientes"}),f.jsx("option",{value:"price_asc",children:"Precio: menor a mayor"}),f.jsx("option",{value:"price_desc",children:"Precio: mayor a menor"})]})]})]}),K?f.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[f.jsx(eu,{className:"w-12 h-12 animate-spin text-[#fc7f51] mb-4"}),f.jsx("p",{className:"text-gray-500 font-medium",children:"Buscando propiedades..."})]}):$.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:f.jsx(Zl,{className:"w-12 h-12 text-[#fc7f51]/50"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No encontramos propiedades"}),f.jsx("p",{className:"text-gray-500 max-w-md mb-6",children:"No hay propiedades que coincidan con tus criterios de bsqueda. Intenta ajustar los filtros o buscar en otra ubicacin."}),f.jsx("button",{onClick:Re,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold transition",children:"Limpiar Filtros"})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:$.map(O=>f.jsx(kS,{property:O},O.id))})]})]})},f6=()=>{const[n,e]=D.useState([]),[t,s]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const c=Ds(yn(Xe,"tips"),H_("createdAt","desc")),_=(await ir(c)).docs.map(p=>({id:p.id,...p.data()}));e(_)}catch(c){console.error("Error fetching tips:",c)}finally{s(!1)}})()},[]),f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20",alt:"Blog Hero"})}),f.jsxs("div",{className:"relative z-10 text-center px-6",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:"Blog Inmobiliario"}),f.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Consejos, tendencias y guas para comprar, vender o invertir en propiedades."})]})]}),f.jsx("div",{className:"container mx-auto px-6 py-20",children:t?f.jsx("div",{className:"flex justify-center py-20",children:f.jsx("div",{className:"inline-block w-12 h-12 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})}):n.length===0?f.jsxs("div",{className:"text-center py-20 bg-gray-50 rounded-3xl border border-dashed border-gray-200",children:[f.jsx(Jw,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"An no hay publicaciones"}),f.jsx("p",{className:"text-gray-500",children:"Pronto nuestros agentes compartirn contenido valioso para ti."})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:n.map(o=>f.jsxs(bt,{to:`/tips/${o.id}`,className:"bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition duration-300 flex flex-col h-full border border-gray-100 group block focus:outline-none focus:ring-4 focus:ring-orange-200",children:[f.jsxs("div",{className:"h-64 overflow-hidden relative bg-gray-100",children:[o.imageUrl?f.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition duration-700"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-orange-50 text-[#fc7f51]",children:f.jsx(Jw,{className:"w-16 h-16 opacity-50"})}),f.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-[#fc7f51] shadow-sm",children:"TIP"})]}),f.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[f.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-4 font-medium uppercase tracking-wide",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Jc,{className:"w-3 h-3"}),o.createdAt?.seconds?new Date(o.createdAt.seconds*1e3).toLocaleDateString("es-PE",{day:"numeric",month:"long",year:"numeric"}):"Reciente"]}),o.agentName&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Rd,{className:"w-3 h-3"}),o.agentName]})]}),f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 leading-tight group-hover:text-[#fc7f51] transition",children:o.title}),f.jsx("p",{className:"text-gray-600 leading-relaxed mb-6 line-clamp-4 flex-grow",children:o.content})]})]},o.id))})})]})},m6=()=>{const{id:n}=w1(),[e,t]=D.useState(null),[s,o]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const h=Yt(Xe,"tips",n),_=await Lo(h);_.exists()?t({id:_.id,..._.data()}):console.log("No such document!")}catch(h){console.error("Error fetching tip:",h)}finally{o(!1)}})()},[n]),s?f.jsx("div",{className:"min-h-screen flex justify-center items-center bg-white",children:f.jsx("div",{className:"inline-block w-12 h-12 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})}):e?f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626] pb-20",children:[f.jsxs("div",{className:"relative h-[60vh] md:h-[500px] w-full bg-gray-900",children:[e.imageUrl?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover opacity-60"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"})]}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800 text-gray-600",children:f.jsx("span",{className:"text-xl",children:"Sin imagen de portada"})}),f.jsx("div",{className:"absolute top-6 left-6 z-20",children:f.jsxs(bt,{to:"/tips",className:"bg-white/20 backdrop-blur-md text-white px-4 py-2 rounded-full font-bold text-sm hover:bg-white/30 transition flex items-center gap-2",children:[f.jsx(My,{className:"w-4 h-4"})," Volver"]})}),f.jsx("div",{className:"absolute bottom-0 left-0 w-full p-6 md:p-12 z-20 text-white",children:f.jsx("div",{className:"container mx-auto",children:f.jsxs("div",{className:"max-w-4xl",children:[f.jsx("span",{className:"inline-block bg-[#fc7f51] text-white text-xs font-bold px-3 py-1 rounded-full mb-4 uppercase tracking-wider",children:"Blog Inmobiliario"}),f.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-6 leading-tight",children:e.title}),f.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm md:text-base font-medium text-gray-200",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Rd,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:["Por ",e.agentName||"Equipo Inmuvete"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Jc,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:e.createdAt?.seconds?new Date(e.createdAt.seconds*1e3).toLocaleDateString("es-PE",{day:"numeric",month:"long",year:"numeric"}):"Reciente"})]}),e.readTime&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Zf,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[e.readTime," min de lectura"]})]})]})]})})})]}),f.jsxs("article",{className:"container mx-auto px-6 -mt-10 relative z-30",children:[f.jsx("div",{className:"bg-white rounded-3xl p-8 md:p-12 shadow-xl max-w-4xl border border-gray-100 mb-12",children:f.jsx("div",{className:"prose prose-lg prose-orange max-w-none text-gray-600 leading-relaxed whitespace-pre-wrap",children:e.content})}),f.jsxs("div",{className:"max-w-4xl border-t border-gray-200 pt-10 mt-10",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Te fue til este artculo?"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"Comparte este contenido o contctanos si necesitas asesora personalizada."}),f.jsx("div",{className:"flex gap-4",children:f.jsx(bt,{to:"/contact",className:"bg-[#fc7f51] text-white px-6 py-3 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/20",children:"Contactar Agente"})})]})]})]}):f.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center bg-white text-center px-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Tip no encontrado"}),f.jsxs(bt,{to:"/tips",className:"text-[#fc7f51] font-bold hover:underline flex items-center gap-2",children:[f.jsx(My,{className:"w-4 h-4"})," Volver al Blog"]})]})},p6=()=>{const[n,e]=D.useState(""),[t,s]=D.useState(""),{login:o,loginWithGoogle:c,loginWithApple:h}=La(),_=qo(),p=async C=>{try{const R=await Lo(Yt(Xe,"users",C));if(R.exists()){const j=R.data();j.role==="agente"?_("/agent-dashboard"):j.role==="superadmin"?_("/superadmin"):_("/client-dashboard")}else _("/")}catch(R){console.error("Error redirecting:",R)}},v=async C=>{C.preventDefault();try{const R=await o(n,t);Oe.success("Bienvenido de nuevo!"),p(R.user.uid)}catch(R){Oe.error(R.message)}},w=async()=>{try{const C=await c();Oe.success("Bienvenido!"),p(C.user.uid)}catch(C){Oe.error(C.message)}},E=async()=>{try{const C=await h();Oe.success("Bienvenido!"),p(C.user.uid)}catch(C){Oe.error(C.message)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Iniciar Sesin"}),f.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Accede a tu cuenta de Inmuvete"}),f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",value:n,onChange:C=>e(C.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),f.jsx("input",{type:"password",value:t,onChange:C=>s(C.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"",required:!0})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsxs("label",{className:"flex items-center text-gray-600",children:[f.jsx("input",{type:"checkbox",className:"mr-2 text-[#fc7f51] focus:ring-[#fc7f51] rounded border-gray-300"}),"Recordarme"]}),f.jsx(bt,{to:"/forgot-password",className:"text-[#fc7f51] hover:underline font-medium",children:"Olvidaste tu contrasea?"})]}),f.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Ingresar"})]}),f.jsxs("div",{className:"my-6 flex items-center",children:[f.jsx("div",{className:"flex-grow border-t border-gray-200"}),f.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O contina con"}),f.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[f.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),f.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["No tienes una cuenta?"," ",f.jsx(bt,{to:"/register",className:"text-[#fc7f51] font-bold hover:underline",children:"Regstrate aqu"})]})]})})},g6=()=>{const[n,e]=D.useState(""),[t,s]=D.useState(""),[o,c]=D.useState(""),[h,_]=D.useState(""),[p,v]=D.useState(""),[w,E]=D.useState("cliente"),{signup:C,loginWithGoogle:R,loginWithApple:j}=La(),z=qo(),k=async G=>{G.preventDefault();try{await C(n,t,w,o,h,p),Oe.success("Cuenta creada exitosamente!"),z(w==="agente"?"/agent-dashboard":"/client-dashboard")}catch(ne){Oe.error(ne.message)}},V=async()=>{try{await R(w),Oe.success("Cuenta creada exitosamente!"),z(w==="agente"?"/agent-dashboard":"/client-dashboard")}catch(G){Oe.error(G.message)}},B=async()=>{try{await j(w),Oe.success("Cuenta creada exitosamente!"),z(w==="agente"?"/agent-dashboard":"/client-dashboard")}catch(G){Oe.error(G.message)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Crear una Cuenta"}),f.jsx("p",{className:"text-center text-gray-500 mb-8",children:"nete y encuentra tu prximo hogar"}),f.jsxs("form",{onSubmit:k,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),f.jsx("input",{type:"text",value:o,onChange:G=>c(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),f.jsx("input",{type:"tel",value:h,onChange:G=>_(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"+51 999 999 999",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"DNI"}),f.jsx("input",{type:"text",value:p,onChange:G=>v(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu DNI",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",value:n,onChange:G=>e(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),f.jsx("input",{type:"password",value:t,onChange:G=>s(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Crea una contrasea segura",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Qu buscas hacer?"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("button",{type:"button",onClick:()=>E("cliente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${w==="cliente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[f.jsx("span",{className:"font-bold",children:"Buscar Propiedades"}),f.jsx("span",{className:"text-xs mt-1",children:"Soy Cliente"})]}),f.jsxs("button",{type:"button",onClick:()=>E("agente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${w==="agente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[f.jsx("span",{className:"font-bold",children:"Publicar Inmuebles"}),f.jsx("span",{className:"text-xs mt-1",children:"Soy Agente"})]})]})]}),f.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Registrarme"})]}),f.jsxs("div",{className:"my-6 flex items-center",children:[f.jsx("div",{className:"flex-grow border-t border-gray-200"}),f.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O regstrate con"}),f.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:V,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[f.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),f.jsxs("button",{onClick:B,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Ya tienes cuenta?"," ",f.jsx(bt,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Inicia Sesin"})]})]})})},y6=()=>{const[n,e]=D.useState(""),{resetPassword:t}=La(),[s,o]=D.useState(!1),c=async h=>{h.preventDefault(),o(!0);try{await t(n),Oe.success("Te hemos enviado un correo para restablecer tu contrasea.")}catch(_){Oe.error(_.message)}finally{o(!1)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Recuperar Contrasea"}),f.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Ingresa tu correo y te enviaremos las instrucciones"}),f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",value:n,onChange:h=>e(h.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),f.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:s?"Enviando...":"Enviar Instrucciones"})]}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Te acordaste?"," ",f.jsx(bt,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Volver a Iniciar Sesin"})]})]})})};function _6(n,e){const t=D.useRef(e);D.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const v6=1;function x6(n){return Object.freeze({__version:v6,map:n})}function b6(n,e){return Object.freeze({...n,...e})}const tv=D.createContext(null);function e2(){const n=D.use(tv);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function w6(n){function e(t,s){const{instance:o,context:c}=n(t).current;D.useImperativeHandle(s,()=>o);const{children:h}=t;return h==null?null:dn.createElement(tv,{value:c},h)}return D.forwardRef(e)}function E6(n){function e(t,s){const{instance:o}=n(t).current;return D.useImperativeHandle(s,()=>o),null}return D.forwardRef(e)}function T6(n,e){const t=D.useRef(void 0);D.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function t2(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}var od={exports:{}};var S6=od.exports,c1;function A6(){return c1||(c1=1,(function(n,e){(function(t,s){s(e)})(S6,(function(t){var s="1.9.4";function o(a){var u,g,b,S;for(g=1,b=arguments.length;g<b;g++){S=arguments[g];for(u in S)a[u]=S[u]}return a}var c=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function h(a,u){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var b=g.call(arguments,2);return function(){return a.apply(u,b.length?b.concat(g.call(arguments)):arguments)}}var _=0;function p(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function v(a,u,g){var b,S,P,Y;return Y=function(){b=!1,S&&(P.apply(g,S),S=!1)},P=function(){b?S=arguments:(a.apply(g,arguments),setTimeout(Y,u),b=!0)},P}function w(a,u,g){var b=u[1],S=u[0],P=b-S;return a===b&&g?a:((a-S)%P+P)%P+S}function E(){return!1}function C(a,u){if(u===!1)return a;var g=Math.pow(10,u===void 0?6:u);return Math.round(a*g)/g}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function j(a){return R(a).split(/\s+/)}function z(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var g in u)a.options[g]=u[g];return a.options}function k(a,u,g){var b=[];for(var S in a)b.push(encodeURIComponent(g?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function B(a,u){return a.replace(V,function(g,b){var S=u[b];if(S===void 0)throw new Error("No value provided for variable "+g);return typeof S=="function"&&(S=S(u)),S})}var G=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function ne(a,u){for(var g=0;g<a.length;g++)if(a[g]===u)return g;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ye(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var q=0;function I(a){var u=+new Date,g=Math.max(0,16-(u-q));return q=u+g,window.setTimeout(a,g)}var Z=window.requestAnimationFrame||ye("RequestAnimationFrame")||I,$=window.cancelAnimationFrame||ye("CancelAnimationFrame")||ye("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function H(a,u,g){if(g&&Z===I)a.call(u);else return Z.call(window,h(a,u))}function K(a){a&&$.call(window,a)}var F={__proto__:null,extend:o,create:c,bind:h,get lastId(){return _},stamp:p,throttle:v,wrapNum:w,falseFn:E,formatNum:C,trim:R,splitWords:j,setOptions:z,getParamString:k,template:B,isArray:G,indexOf:ne,emptyImageUrl:te,requestFn:Z,cancelFn:$,requestAnimFrame:H,cancelAnimFrame:K};function Se(){}Se.extend=function(a){var u=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=u.__super__=this.prototype,b=c(g);b.constructor=u,u.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&o(u,a.statics),a.includes&&(be(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=g.options?c(g.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,Y=b._initHooks.length;P<Y;P++)b._initHooks[P].call(this)}},u},Se.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},Se.mergeOptions=function(a){return o(this.prototype.options,a),this},Se.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function be(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=G(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(a,u,g){if(typeof a=="object")for(var b in a)this._on(b,a[b],u);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g)}return this},off:function(a,u,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],u);else{a=j(a);for(var S=arguments.length===1,P=0,Y=a.length;P<Y;P++)S?this._off(a[P]):this._off(a[P],u,g)}return this},_on:function(a,u,g,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,g)===!1){g===this&&(g=void 0);var S={fn:u,ctx:g};b&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,g){var b,S,P;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,P=b.length;S<P;S++)b[S].fn=E;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var Y=this._listens(a,u,g);if(Y!==!1){var se=b[Y];this._firingCount&&(se.fn=E,this._events[a]=b=b.slice()),b.splice(Y,1)}}},fire:function(a,u,g){if(!this.listens(a,g))return this;var b=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,Y=S.length;P<Y;P++){var se=S[P],ce=se.fn;se.once&&this.off(a,ce,se.ctx),ce.call(se.ctx||this,b)}this._firingCount--}}return g&&this._propagateEvent(b),this},listens:function(a,u,g,b){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(b=!!u,S=void 0,g=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,g)!==!1)return!0;if(b){for(var Y in this._eventParents)if(this._eventParents[Y].listens(a,u,g,b))return!0}return!1},_listens:function(a,u,g){if(!this._events)return!1;var b=this._events[a]||[];if(!u)return!!b.length;g===this&&(g=void 0);for(var S=0,P=b.length;S<P;S++)if(b[S].fn===u&&b[S].ctx===g)return S;return!1},once:function(a,u,g){if(typeof a=="object")for(var b in a)this._on(b,a[b],u,!0);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[p(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[p(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var me=Se.extend(W);function ae(a,u,g){this.x=g?Math.round(a):a,this.y=g?Math.round(u):u}var Re=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(a){return this.clone()._add(fe(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(fe(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ae(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ae(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Re(this.x),this.y=Re(this.y),this},distanceTo:function(a){a=fe(a);var u=a.x-this.x,g=a.y-this.y;return Math.sqrt(u*u+g*g)},equals:function(a){return a=fe(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=fe(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function fe(a,u,g){return a instanceof ae?a:G(a)?new ae(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ae(a.x,a.y):new ae(a,u,g)}function O(a,u){if(a)for(var g=u?[a,u]:a,b=0,S=g.length;b<S;b++)this.extend(g[b])}O.prototype={extend:function(a){var u,g;if(!a)return this;if(a instanceof ae||typeof a[0]=="number"||"x"in a)u=g=fe(a);else if(a=ee(a),u=a.min,g=a.max,!u||!g)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=g.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return fe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return fe(this.min.x,this.max.y)},getTopRight:function(){return fe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,g;return typeof a[0]=="number"||a instanceof ae?a=fe(a):a=ee(a),a instanceof O?(u=a.min,g=a.max):u=g=a,u.x>=this.min.x&&g.x<=this.max.x&&u.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=ee(a);var u=this.min,g=this.max,b=a.min,S=a.max,P=S.x>=u.x&&b.x<=g.x,Y=S.y>=u.y&&b.y<=g.y;return P&&Y},overlaps:function(a){a=ee(a);var u=this.min,g=this.max,b=a.min,S=a.max,P=S.x>u.x&&b.x<g.x,Y=S.y>u.y&&b.y<g.y;return P&&Y},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,g=this.max,b=Math.abs(u.x-g.x)*a,S=Math.abs(u.y-g.y)*a;return ee(fe(u.x-b,u.y-S),fe(g.x+b,g.y+S))},equals:function(a){return a?(a=ee(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ee(a,u){return!a||a instanceof O?a:new O(a,u)}function pe(a,u){if(a)for(var g=u?[a,u]:a,b=0,S=g.length;b<S;b++)this.extend(g[b])}pe.prototype={extend:function(a){var u=this._southWest,g=this._northEast,b,S;if(a instanceof Ce)b=a,S=a;else if(a instanceof pe){if(b=a._southWest,S=a._northEast,!b||!S)return this}else return a?this.extend(Ae(a)||xe(a)):this;return!u&&!g?(this._southWest=new Ce(b.lat,b.lng),this._northEast=new Ce(S.lat,S.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),g.lat=Math.max(S.lat,g.lat),g.lng=Math.max(S.lng,g.lng)),this},pad:function(a){var u=this._southWest,g=this._northEast,b=Math.abs(u.lat-g.lat)*a,S=Math.abs(u.lng-g.lng)*a;return new pe(new Ce(u.lat-b,u.lng-S),new Ce(g.lat+b,g.lng+S))},getCenter:function(){return new Ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ce||"lat"in a?a=Ae(a):a=xe(a);var u=this._southWest,g=this._northEast,b,S;return a instanceof pe?(b=a.getSouthWest(),S=a.getNorthEast()):b=S=a,b.lat>=u.lat&&S.lat<=g.lat&&b.lng>=u.lng&&S.lng<=g.lng},intersects:function(a){a=xe(a);var u=this._southWest,g=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=u.lat&&b.lat<=g.lat,Y=S.lng>=u.lng&&b.lng<=g.lng;return P&&Y},overlaps:function(a){a=xe(a);var u=this._southWest,g=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>u.lat&&b.lat<g.lat,Y=S.lng>u.lng&&b.lng<g.lng;return P&&Y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=xe(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(a,u){return a instanceof pe?a:new pe(a,u)}function Ce(a,u,g){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,g!==void 0&&(this.alt=+g)}Ce.prototype={equals:function(a,u){if(!a)return!1;a=Ae(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+C(this.lat,a)+", "+C(this.lng,a)+")"},distanceTo:function(a){return Nt.distance(this,Ae(a))},wrap:function(){return Nt.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,g=u/Math.cos(Math.PI/180*this.lat);return xe([this.lat-u,this.lng-g],[this.lat+u,this.lng+g])},clone:function(){return new Ce(this.lat,this.lng,this.alt)}};function Ae(a,u,g){return a instanceof Ce?a:G(a)&&typeof a[0]!="object"?a.length===3?new Ce(a[0],a[1],a[2]):a.length===2?new Ce(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ce(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Ce(a,u,g)}var He={latLngToPoint:function(a,u){var g=this.projection.project(a),b=this.scale(u);return this.transformation._transform(g,b)},pointToLatLng:function(a,u){var g=this.scale(u),b=this.transformation.untransform(a,g);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,g=this.scale(a),b=this.transformation.transform(u.min,g),S=this.transformation.transform(u.max,g);return new O(b,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Ce(g,u,b)},wrapLatLngBounds:function(a){var u=a.getCenter(),g=this.wrapLatLng(u),b=u.lat-g.lat,S=u.lng-g.lng;if(b===0&&S===0)return a;var P=a.getSouthWest(),Y=a.getNorthEast(),se=new Ce(P.lat-b,P.lng-S),ce=new Ce(Y.lat-b,Y.lng-S);return new pe(se,ce)}},Nt=o({},He,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var g=Math.PI/180,b=a.lat*g,S=u.lat*g,P=Math.sin((u.lat-a.lat)*g/2),Y=Math.sin((u.lng-a.lng)*g/2),se=P*P+Math.cos(b)*Math.cos(S)*Y*Y,ce=2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se));return this.R*ce}}),It=6378137,$i={R:It,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,g=this.MAX_LATITUDE,b=Math.max(Math.min(g,a.lat),-g),S=Math.sin(b*u);return new ae(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new Ce((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=It*Math.PI;return new O([-a,-a],[a,a])})()};function ys(a,u,g,b){if(G(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=g,this._d=b}ys.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new ae((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function jn(a,u,g,b){return new ys(a,u,g,b)}var Ti=o({},Nt,{code:"EPSG:3857",projection:$i,transformation:(function(){var a=.5/(Math.PI*$i.R);return jn(a,.5,-a,.5)})()}),Qn=o({},Ti,{code:"EPSG:900913"});function _s(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Si(a,u){var g="",b,S,P,Y,se,ce;for(b=0,P=a.length;b<P;b++){for(se=a[b],S=0,Y=se.length;S<Y;S++)ce=se[S],g+=(S?"L":"M")+ce.x+" "+ce.y;g+=u?ke.svg?"z":"x":""}return g||"M0 0"}var Zi=document.documentElement.style,hi="ActiveXObject"in window,qt=hi&&!document.addEventListener,Qt="msLaunchUri"in navigator&&!("documentMode"in document),Ai=Ln("webkit"),ka=Ln("android"),Gr=Ln("android 2")||Ln("android 3"),Cn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Us=ka&&Ln("Google")&&Cn<537&&!("AudioNode"in window),Bs=!!window.opera,dr=!Qt&&Ln("chrome"),Ki=Ln("gecko")&&!Ai&&!Bs&&!hi,Ko=!dr&&Ln("safari"),$r=Ln("phantom"),Zr="OTransition"in Zi,Da=navigator.platform.indexOf("Win")===0,Xn=hi&&"transition"in Zi,en="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Gr,Fn="MozPerspective"in Zi,Ft=!window.L_DISABLE_3D&&(Xn||en||Fn)&&!Zr&&!$r,X=typeof orientation<"u"||Ln("mobile"),je=X&&Ai,ze=X&&en,Be=!window.PointerEvent&&window.MSPointerEvent,dt=!!(window.PointerEvent||Be),We="ontouchstart"in window||!!window.TouchEvent,rn=!window.L_NO_TOUCH&&(We||dt),Ni=X&&Bs,Yi=X&&Ki,du=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ec=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",E,u),window.removeEventListener("testPassiveEventSupport",E,u)}catch{}return a})(),vs=(function(){return!!document.createElement("canvas").getContext})(),qs=!!(document.createElementNS&&_s("svg").createSVGRect),hu=!!qs&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Kr=!qs&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Yo=navigator.platform.indexOf("Mac")===0,Wo=navigator.platform.indexOf("Linux")===0;function Ln(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var ke={ie:hi,ielt9:qt,edge:Qt,webkit:Ai,android:ka,android23:Gr,androidStock:Us,opera:Bs,chrome:dr,gecko:Ki,safari:Ko,phantom:$r,opera12:Zr,win:Da,ie3d:Xn,webkit3d:en,gecko3d:Fn,any3d:Ft,mobile:X,mobileWebkit:je,mobileWebkit3d:ze,msPointer:Be,pointer:dt,touch:rn,touchNative:We,mobileOpera:Ni,mobileGecko:Yi,retina:du,passiveEvents:ec,canvas:vs,svg:qs,vml:Kr,inlineSvg:hu,mac:Yo,linux:Wo},Qo=ke.msPointer?"MSPointerDown":"pointerdown",Ci=ke.msPointer?"MSPointerMove":"pointermove",Ri=ke.msPointer?"MSPointerUp":"pointerup",tn=ke.msPointer?"MSPointerCancel":"pointercancel",an={touchstart:Qo,touchmove:Ci,touchend:Ri,touchcancel:tn},Wi={touchstart:bs,touchmove:kn,touchend:kn,touchcancel:kn},Qi={},tc=!1;function nc(a,u,g){return u==="touchstart"&&Ii(),Wi[u]?(g=Wi[u].bind(this,g),a.addEventListener(an[u],g,!1),g):(console.warn("wrong event specified:",u),E)}function ic(a,u,g){if(!an[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(an[u],g,!1)}function xs(a){Qi[a.pointerId]=a}function Oa(a){Qi[a.pointerId]&&(Qi[a.pointerId]=a)}function Xi(a){delete Qi[a.pointerId]}function Ii(){tc||(document.addEventListener(Qo,xs,!0),document.addEventListener(Ci,Oa,!0),document.addEventListener(Ri,Xi,!0),document.addEventListener(tn,Xi,!0),tc=!0)}function kn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var g in Qi)u.touches.push(Qi[g]);u.changedTouches=[u],a(u)}}function bs(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Zt(u),kn(a,u)}function on(a){var u={},g,b;for(b in a)g=a[b],u[b]=g&&g.bind?g.bind(a):g;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Xo=200;function Jo(a,u){a.addEventListener("dblclick",u);var g=0,b;function S(P){if(P.detail!==1){b=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var Y=gr(P);if(!(Y.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!Y.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var se=Date.now();se-g<=Xo?(b++,b===2&&u(on(P))):b=1,g=se}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function ws(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var Pi=Wr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hs=Wr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Va=Hs==="webkitTransition"||Hs==="OTransition"?Hs+"End":"transitionend";function za(a){return typeof a=="string"?document.getElementById(a):a}function hr(a,u){var g=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!g||g==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);g=b?b[u]:null}return g==="auto"?null:g}function at(a,u,g){var b=document.createElement(a);return b.className=u||"",g&&g.appendChild(b),b}function ot(a){var u=a.parentNode;u&&u.removeChild(a)}function Gt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function $t(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function fi(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Yr(a,u){if(a.classList!==void 0)return a.classList.contains(u);var g=Es(a);return g.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(g)}function Me(a,u){if(a.classList!==void 0)for(var g=j(u),b=0,S=g.length;b<S;b++)a.classList.add(g[b]);else if(!Yr(a,u)){var P=Es(a);Mi(a,(P?P+" ":"")+u)}}function Pt(a,u){a.classList!==void 0?a.classList.remove(u):Mi(a,R((" "+Es(a)+" ").replace(" "+u+" "," ")))}function Mi(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Es(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function zt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Ua(a,u)}function Ua(a,u){var g=!1,b="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),g?(g.Enabled=u!==100,g.Opacity=u):a.style.filter+=" progid:"+b+"(opacity="+u+")"}function Wr(a){for(var u=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in u)return a[g];return!1}function Ji(a,u,g){var b=u||new ae(0,0);a.style[Pi]=(ke.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(g?" scale("+g+")":"")}function Mt(a,u){a._leaflet_pos=u,ke.any3d?Ji(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Ts(a){return a._leaflet_pos||new ae(0,0)}var ji,vn,Ba;if("onselectstart"in document)ji=function(){$e(window,"selectstart",Zt)},vn=function(){wt(window,"selectstart",Zt)};else{var Fs=Wr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ji=function(){if(Fs){var a=document.documentElement.style;Ba=a[Fs],a[Fs]="none"}},vn=function(){Fs&&(document.documentElement.style[Fs]=Ba,Ba=void 0)}}function Qr(){$e(window,"dragstart",Zt)}function fr(){wt(window,"dragstart",Zt)}var Xr,Ss;function mr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Jn(),Xr=a,Ss=a.style.outlineStyle,a.style.outlineStyle="none",$e(window,"keydown",Jn))}function Jn(){Xr&&(Xr.style.outlineStyle=Ss,Xr=void 0,Ss=void 0,wt(window,"keydown",Jn))}function qa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function ei(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var pr={__proto__:null,TRANSFORM:Pi,TRANSITION:Hs,TRANSITION_END:Va,get:za,getStyle:hr,create:at,remove:ot,empty:Gt,toFront:$t,toBack:fi,hasClass:Yr,addClass:Me,removeClass:Pt,setClass:Mi,getClass:Es,setOpacity:zt,testProp:Wr,setTransform:Ji,setPosition:Mt,getPosition:Ts,get disableTextSelection(){return ji},get enableTextSelection(){return vn},disableImageDrag:Qr,enableImageDrag:fr,preventOutline:mr,restoreOutline:Jn,getSizedParentNode:qa,getScale:ei};function $e(a,u,g,b){if(u&&typeof u=="object")for(var S in u)ti(a,S,u[S],g);else{u=j(u);for(var P=0,Y=u.length;P<Y;P++)ti(a,u[P],g,b)}return this}var Dn="_leaflet_events";function wt(a,u,g,b){if(arguments.length===1)Gs(a),delete a[Dn];else if(u&&typeof u=="object")for(var S in u)$s(a,S,u[S],g);else if(u=j(u),arguments.length===2)Gs(a,function(se){return ne(u,se)!==-1});else for(var P=0,Y=u.length;P<Y;P++)$s(a,u[P],g,b);return this}function Gs(a,u){for(var g in a[Dn]){var b=g.split(/\d/)[0];(!u||u(b))&&$s(a,b,null,null,g)}}var mi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ti(a,u,g,b){var S=u+p(g)+(b?"_"+p(b):"");if(a[Dn]&&a[Dn][S])return this;var P=function(se){return g.call(b||a,se||window.event)},Y=P;!ke.touchNative&&ke.pointer&&u.indexOf("touch")===0?P=nc(a,u,P):ke.touch&&u==="dblclick"?P=Jo(a,P):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(mi[u]||u,P,ke.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(P=function(se){se=se||window.event,ns(a,se)&&Y(se)},a.addEventListener(mi[u],P,!1)):a.addEventListener(u,Y,!1):a.attachEvent("on"+u,P),a[Dn]=a[Dn]||{},a[Dn][S]=P}function $s(a,u,g,b,S){S=S||u+p(g)+(b?"_"+p(b):"");var P=a[Dn]&&a[Dn][S];if(!P)return this;!ke.touchNative&&ke.pointer&&u.indexOf("touch")===0?ic(a,u,P):ke.touch&&u==="dblclick"?ws(a,P):"removeEventListener"in a?a.removeEventListener(mi[u]||u,P,!1):a.detachEvent("on"+u,P),a[Dn][S]=null}function ht(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Li(a){return ti(a,"wheel",ht),this}function Zs(a){return $e(a,"mousedown touchstart dblclick contextmenu",ht),a._leaflet_disable_click=!0,this}function Zt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function es(a){return Zt(a),ht(a),this}function gr(a){if(a.composedPath)return a.composedPath();for(var u=[],g=a.target;g;)u.push(g),g=g.parentNode;return u}function As(a,u){if(!u)return new ae(a.clientX,a.clientY);var g=ei(u),b=g.boundingClientRect;return new ae((a.clientX-b.left)/g.x-u.clientLeft,(a.clientY-b.top)/g.y-u.clientTop)}var ts=ke.linux&&ke.chrome?window.devicePixelRatio:ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xn(a){return ke.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ts:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function ns(a,u){var g=u.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var Ns={__proto__:null,on:$e,off:wt,stopPropagation:ht,disableScrollPropagation:Li,disableClickPropagation:Zs,preventDefault:Zt,stop:es,getPropagationPath:gr,getMousePosition:As,getWheelDelta:xn,isExternalTarget:ns,addListener:$e,removeListener:wt},Ks=me.extend({run:function(a,u,g,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Ts(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,g=this._duration*1e3;u<g?this._runFrame(this._easeOut(u/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var g=this._startPos.add(this._offset.multiplyBy(a));u&&g._round(),Mt(this._el,g),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),rt=me.extend({options:{crs:Ti,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=z(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ae(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hs&&ke.any3d&&!ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$e(this._proxy,Va,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,g){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Ae(a),u,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=o({animate:g.animate},g.zoom),g.pan=o({animate:g.animate,duration:g.duration},g.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,g.zoom):this._tryAnimatedPan(a,g.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,g){var b=this.getZoomScale(u),S=this.getSize().divideBy(2),P=a instanceof ae?a:this.latLngToContainerPoint(a),Y=P.subtract(S).multiplyBy(1-1/b),se=this.containerPointToLatLng(S.add(Y));return this.setView(se,u,{zoom:g})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():xe(a);var g=fe(u.paddingTopLeft||u.padding||[0,0]),b=fe(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,g.add(b));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=b.subtract(g).divideBy(2),Y=this.project(a.getSouthWest(),S),se=this.project(a.getNorthEast(),S),ce=this.unproject(Y.add(se).divideBy(2).add(P),S);return{center:ce,zoom:S}},fitBounds:function(a,u){if(a=xe(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,u);return this.setView(g.center,g.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=fe(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Me(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,g){if(g=g||{},g.animate===!1||!ke.any3d)return this.setView(a,u,g);this._stop();var b=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),Y=this._zoom;a=Ae(a),u=u===void 0?Y:u;var se=Math.max(P.x,P.y),ce=se*this.getZoomScale(Y,u),we=S.distanceTo(b)||1,Ie=1.42,Ue=Ie*Ie;function it(nn){var Js=nn?-1:1,ra=nn?ce:se,_u=ce*ce-se*se+Js*Ue*Ue*we*we,vl=2*ra*Ue*we,xl=_u/vl,Ar=Math.sqrt(xl*xl+1)-xl,er=Ar<1e-9?-18:Math.log(Ar);return er}function Rn(nn){return(Math.exp(nn)-Math.exp(-nn))/2}function ln(nn){return(Math.exp(nn)+Math.exp(-nn))/2}function yi(nn){return Rn(nn)/ln(nn)}var Et=it(0);function Tt(nn){return se*(ln(Et)/ln(Et+Ie*nn))}function lt(nn){return se*(ln(Et)*yi(Et+Ie*nn)-Rn(Et))/Ue}function Tr(nn){return 1-Math.pow(1-nn,1.5)}var zi=Date.now(),gc=(it(1)-Et)/Ie,Sr=g.duration?1e3*g.duration:1e3*gc*.8;function yu(){var nn=(Date.now()-zi)/Sr,Js=Tr(nn)*gc;nn<=1?(this._flyToFrame=H(yu,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(lt(Js)/we)),Y),this.getScaleZoom(se/Tt(Js),Y),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),yu.call(this),this},flyToBounds:function(a,u){var g=this._getBoundsCenterZoom(a,u);return this.flyTo(g.center,g.zoom,u)},setMaxBounds:function(a){return a=xe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var g=this.getCenter(),b=this._limitCenter(g,this._zoom,xe(a));return g.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var g=fe(u.paddingTopLeft||u.padding||[0,0]),b=fe(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),Y=this.getPixelBounds(),se=ee([Y.min.add(g),Y.max.subtract(b)]),ce=se.getSize();if(!se.contains(P)){this._enforcingBounds=!0;var we=P.subtract(se.getCenter()),Ie=se.extend(P).getSize().subtract(ce);S.x+=we.x<0?-Ie.x:Ie.x,S.y+=we.y<0?-Ie.y:Ie.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),b=u.divideBy(2).round(),S=g.divideBy(2).round(),P=b.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=h(this._handleGeolocationResponse,this),g=h(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,g,a):navigator.geolocation.getCurrentPosition(u,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,g=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,g=a.coords.longitude,b=new Ce(u,g),S=b.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var Y=this.getBoundsZoom(S);this.setView(b,P.maxZoom?Math.min(Y,P.maxZoom):Y)}var se={latlng:b,bounds:S,timestamp:a.timestamp};for(var ce in a.coords)typeof a.coords[ce]=="number"&&(se[ce]=a.coords[ce]);this.fire("locationfound",se)}},addHandler:function(a,u){if(!u)return this;var g=this[a]=new u(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ot(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=at("div",g,u||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new pe(u,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,g){a=xe(a),g=fe(g||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),Y=a.getNorthWest(),se=a.getSouthEast(),ce=this.getSize().subtract(g),we=ee(this.project(se,b),this.project(Y,b)).getSize(),Ie=ke.any3d?this.options.zoomSnap:1,Ue=ce.x/we.x,it=ce.y/we.y,Rn=u?Math.max(Ue,it):Math.min(Ue,it);return b=this.getScaleZoom(Rn,b),Ie&&(b=Math.round(b/(Ie/100))*(Ie/100),b=u?Math.ceil(b/Ie)*Ie:Math.floor(b/Ie)*Ie),Math.max(S,Math.min(P,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var g=this._getTopLeftPoint(a,u);return new O(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var g=this.options.crs;return u=u===void 0?this._zoom:u,g.scale(a)/g.scale(u)},getScaleZoom:function(a,u){var g=this.options.crs;u=u===void 0?this._zoom:u;var b=g.zoom(a*g.scale(u));return isNaN(b)?1/0:b},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ae(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(fe(a),u)},layerPointToLatLng:function(a){var u=fe(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Ae(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ae(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(xe(a))},distance:function(a,u){return this.options.crs.distance(Ae(a),Ae(u))},containerPointToLayerPoint:function(a){return fe(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return fe(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(fe(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(a)))},mouseEventToContainerPoint:function(a){return As(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=za(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$e(u,"scroll",this._onScroll,this),this._containerId=p(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke.any3d,Me(a,"leaflet-container"+(ke.touch?" leaflet-touch":"")+(ke.retina?" leaflet-retina":"")+(ke.ielt9?" leaflet-oldie":"")+(ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=hr(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mt(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Me(a.markerPane,"leaflet-zoom-hide"),Me(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,g){Mt(this._mapPane,new ae(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,g)._move(a,u)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,g,b){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?g&&g.pinch&&this.fire("zoom",g):((S||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Mt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[p(this._container)]=this;var u=a?wt:$e;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),ke.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var g=[],b,S=u==="mouseout"||u==="mouseover",P=a.target||a.srcElement,Y=!1;P;){if(b=this._targets[p(P)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){Y=!0;break}if(b&&b.listens(u,!0)&&(S&&!ns(P,a)||(g.push(b),S))||P===this._container)break;P=P.parentNode}return!g.length&&!Y&&!S&&this.listens(u,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var g=a.type;g==="mousedown"&&mr(u),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,g){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,g)}var S=this._findEventTargets(a,u);if(g){for(var P=[],Y=0;Y<g.length;Y++)g[Y].listens(u,!0)&&P.push(g[Y]);S=P.concat(S)}if(S.length){u==="contextmenu"&&Zt(a);var se=S[0],ce={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var we=se.getLatLng&&(!se._radius||se._radius<=10);ce.containerPoint=we?this.latLngToContainerPoint(se.getLatLng()):this.mouseEventToContainerPoint(a),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=we?se.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(Y=0;Y<S.length;Y++)if(S[Y].fire(u,ce,!0),ce.originalEvent._stopped||S[Y].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Ts(this._mapPane)||new ae(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var g=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var g=this.getSize()._divideBy(2);return this.project(a,u)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,g){var b=this._getNewPixelOrigin(g,u);return this.project(a,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,u,g){var b=this._getNewPixelOrigin(g,u);return ee([this.project(a.getSouthWest(),u)._subtract(b),this.project(a.getNorthWest(),u)._subtract(b),this.project(a.getSouthEast(),u)._subtract(b),this.project(a.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,g){if(!g)return a;var b=this.project(a,u),S=this.getSize().divideBy(2),P=new O(b.subtract(S),b.add(S)),Y=this._getBoundsOffset(P,g,u);return Math.abs(Y.x)<=1&&Math.abs(Y.y)<=1?a:this.unproject(b.add(Y),u)},_limitOffset:function(a,u){if(!u)return a;var g=this.getPixelBounds(),b=new O(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(a,u,g){var b=ee(this.project(u.getNorthEast(),g),this.project(u.getSouthWest(),g)),S=b.min.subtract(a.min),P=b.max.subtract(a.max),Y=this._rebound(S.x,-P.x),se=this._rebound(S.y,-P.y);return new ae(Y,se)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),g=this.getMaxZoom(),b=ke.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(u,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var g=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,u),!0)},_createAnimProxy:function(){var a=this._proxy=at("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var g=Pi,b=this._proxy.style[g];Ji(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Ji(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/b);return g.animate!==!0&&!this.getSize().contains(S)?!1:(H(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,g,b){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yr(a,u){return new rt(a,u)}var On=Se.extend({options:{position:"topright"},initialize:function(a){z(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),g=this.getPosition(),b=a._controlCorners[g];return Me(u,"leaflet-control"),g.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),ni=function(a){return new On(a)};rt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",g=this._controlContainer=at("div",u+"control-container",this._container);function b(S,P){var Y=u+S+" "+u+P;a[S+P]=at("div",Y,g)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ot(this._controlCorners[a]);ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Jr=On.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,g,b){return g<b?-1:b<g?1:0}},initialize:function(a,u,g){z(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return On.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(p(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=at("div",a),g=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Zs(u),Li(u);var b=this._section=at("section",a+"-list");g&&(this._map.on("click",this.collapse,this),$e(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=at("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),$e(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Zt(P),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=at("div",a+"-base",b),this._separator=at("div",a+"-separator",b),this._overlaysList=at("div",a+"-overlays",b),u.appendChild(b)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&p(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:g}),this.options.sortLayers&&this._layers.sort(h(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Gt(this._baseLayersList),Gt(this._overlaysList),this._layerControlInputs=[];var a,u,g,b,S=0;for(g=0;g<this._layers.length;g++)b=this._layers[g],this._addItem(b),u=u||b.overlay,a=a||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(p(a.target)),g=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,u)},_createRadioElement:function(a,u){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=g,b.firstChild},_addItem:function(a){var u=document.createElement("label"),g=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=g):b=this._createRadioElement("leaflet-base-layers_"+p(this),g),this._layerControlInputs.push(b),b.layerId=p(a.layer),$e(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");u.appendChild(P),P.appendChild(b),P.appendChild(S);var Y=a.overlay?this._overlaysList:this._baseLayersList;return Y.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,g,b=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)u=a[P],g=this._getLayer(u.layerId).layer,u.checked?b.push(g):u.checked||S.push(g);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<b.length;P++)this._map.hasLayer(b[P])||this._map.addLayer(b[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,g,b=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],g=this._getLayer(u.layerId).layer,u.disabled=g.options.minZoom!==void 0&&b<g.options.minZoom||g.options.maxZoom!==void 0&&b>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,$e(a,"click",Zt),this.expand();var u=this;setTimeout(function(){wt(a,"click",Zt),u._preventClick=!1})}}),el=function(a,u,g){return new Jr(a,u,g)},Ys=On.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",g=at("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,g,b,S){var P=at("a",g,b);return P.innerHTML=a,P.href="#",P.title=u,P.setAttribute("role","button"),P.setAttribute("aria-label",u),Zs(P),$e(P,"click",es),$e(P,"click",S,this),$e(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Pt(this._zoomInButton,u),Pt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Me(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Me(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});rt.mergeOptions({zoomControl:!0}),rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ys,this.addControl(this.zoomControl))});var sc=function(a){return new Ys(a)},tl=On.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",g=at("div",u),b=this.options;return this._addScales(b,u+"-line",g),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,g){a.metric&&(this._mScale=at("div",u,g)),a.imperial&&(this._iScale=at("div",u,g))},_update:function(){var a=this._map,u=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),g=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,g,u/a)},_updateImperial:function(a){var u=a*3.2808399,g,b,S;u>5280?(g=u/5280,b=this._getRoundNum(g),this._updateScale(this._iScale,b+" mi",b/g)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),g=a/u;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,u*g}}),ea=function(a){return new tl(a)},nl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ha=On.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ke.inlineSvg?nl+" ":"")+"Leaflet</a>"},initialize:function(a){z(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=at("div","leaflet-control-attribution"),Zs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});rt.mergeOptions({attributionControl:!0}),rt.addInitHook(function(){this.options.attributionControl&&new Ha().addTo(this)});var Fa=function(a){return new Ha(a)};On.Layers=Jr,On.Zoom=Ys,On.Scale=tl,On.Attribution=Ha,ni.layers=el,ni.zoom=sc,ni.scale=ea,ni.attribution=Fa;var pi=Se.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pi.addTo=function(a,u){return a.addHandler(u,this),this};var rc={Events:W},is=ke.touch?"touchstart mousedown":"mousedown",ss=me.extend({options:{clickTolerance:3},initialize:function(a,u,g,b){z(this,b),this._element=a,this._dragStartTarget=u||a,this._preventOutline=g},enable:function(){this._enabled||($e(this._dragStartTarget,is,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ss._dragging===this&&this.finishDrag(!0),wt(this._dragStartTarget,is,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Yr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){ss._dragging===this&&this.finishDrag();return}if(!(ss._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(ss._dragging=this,this._preventOutline&&mr(this._element),Qr(),ji(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,g=qa(this._element);this._startPoint=new ae(u.clientX,u.clientY),this._startPos=Ts(this._element),this._parentScale=ei(g);var b=a.type==="mousedown";$e(document,b?"mousemove":"touchmove",this._onMove,this),$e(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,g=new ae(u.clientX,u.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Zt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Me(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Mt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wt(document,"mousemove touchmove",this._onMove,this),wt(document,"mouseup touchend touchcancel",this._onUp,this),fr(),vn();var u=this._moved&&this._moving;this._moving=!1,ss._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function il(a,u,g){var b,S=[1,4,2,8],P,Y,se,ce,we,Ie,Ue,it;for(P=0,Ie=a.length;P<Ie;P++)a[P]._code=de(a[P],u);for(se=0;se<4;se++){for(Ue=S[se],b=[],P=0,Ie=a.length,Y=Ie-1;P<Ie;Y=P++)ce=a[P],we=a[Y],ce._code&Ue?we._code&Ue||(it=re(we,ce,Ue,u,g),it._code=de(it,u),b.push(it)):(we._code&Ue&&(it=re(we,ce,Ue,u,g),it._code=de(it,u),b.push(it)),b.push(ce));a=b}return a}function sl(a,u){var g,b,S,P,Y,se,ce,we,Ie;if(!a||a.length===0)throw new Error("latlngs not passed");_t(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ue=Ae([0,0]),it=xe(a),Rn=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());Rn<1700&&(Ue=Ga(a));var ln=a.length,yi=[];for(g=0;g<ln;g++){var Et=Ae(a[g]);yi.push(u.project(Ae([Et.lat-Ue.lat,Et.lng-Ue.lng])))}for(se=ce=we=0,g=0,b=ln-1;g<ln;b=g++)S=yi[g],P=yi[b],Y=S.y*P.x-P.y*S.x,ce+=(S.x+P.x)*Y,we+=(S.y+P.y)*Y,se+=Y*3;se===0?Ie=yi[0]:Ie=[ce/se,we/se];var Tt=u.unproject(fe(Ie));return Ae([Tt.lat+Ue.lat,Tt.lng+Ue.lng])}function Ga(a){for(var u=0,g=0,b=0,S=0;S<a.length;S++){var P=Ae(a[S]);u+=P.lat,g+=P.lng,b++}return Ae([u/b,g/b])}var _r={__proto__:null,clipPolygon:il,polygonCenter:sl,centroid:Ga};function Vn(a,u){if(!u||!a.length)return a.slice();var g=u*u;return a=T(a,g),a=Ws(a,g),a}function rl(a,u,g){return Math.sqrt(Qe(a,u,g,!0))}function ac(a,u,g){return Qe(a,u,g)}function Ws(a,u){var g=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(g);S[0]=S[g-1]=1,m(a,S,u,0,g-1);var P,Y=[];for(P=0;P<g;P++)S[P]&&Y.push(a[P]);return Y}function m(a,u,g,b,S){var P=0,Y,se,ce;for(se=b+1;se<=S-1;se++)ce=Qe(a[se],a[b],a[S],!0),ce>P&&(Y=se,P=ce);P>g&&(u[Y]=1,m(a,u,g,b,Y),m(a,u,g,Y,S))}function T(a,u){for(var g=[a[0]],b=1,S=0,P=a.length;b<P;b++)Ne(a[b],a[S])>u&&(g.push(a[b]),S=b);return S<P-1&&g.push(a[P-1]),g}var N;function U(a,u,g,b,S){var P=b?N:de(a,g),Y=de(u,g),se,ce,we;for(N=Y;;){if(!(P|Y))return[a,u];if(P&Y)return!1;se=P||Y,ce=re(a,u,se,g,S),we=de(ce,g),se===P?(a=ce,P=we):(u=ce,Y=we)}}function re(a,u,g,b,S){var P=u.x-a.x,Y=u.y-a.y,se=b.min,ce=b.max,we,Ie;return g&8?(we=a.x+P*(ce.y-a.y)/Y,Ie=ce.y):g&4?(we=a.x+P*(se.y-a.y)/Y,Ie=se.y):g&2?(we=ce.x,Ie=a.y+Y*(ce.x-a.x)/P):g&1&&(we=se.x,Ie=a.y+Y*(se.x-a.x)/P),new ae(we,Ie,S)}function de(a,u){var g=0;return a.x<u.min.x?g|=1:a.x>u.max.x&&(g|=2),a.y<u.min.y?g|=4:a.y>u.max.y&&(g|=8),g}function Ne(a,u){var g=u.x-a.x,b=u.y-a.y;return g*g+b*b}function Qe(a,u,g,b){var S=u.x,P=u.y,Y=g.x-S,se=g.y-P,ce=Y*Y+se*se,we;return ce>0&&(we=((a.x-S)*Y+(a.y-P)*se)/ce,we>1?(S=g.x,P=g.y):we>0&&(S+=Y*we,P+=se*we)),Y=a.x-S,se=a.y-P,b?Y*Y+se*se:new ae(S,P)}function _t(a){return!G(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function vt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_t(a)}function Ut(a,u){var g,b,S,P,Y,se,ce,we;if(!a||a.length===0)throw new Error("latlngs not passed");_t(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ie=Ae([0,0]),Ue=xe(a),it=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());it<1700&&(Ie=Ga(a));var Rn=a.length,ln=[];for(g=0;g<Rn;g++){var yi=Ae(a[g]);ln.push(u.project(Ae([yi.lat-Ie.lat,yi.lng-Ie.lng])))}for(g=0,b=0;g<Rn-1;g++)b+=ln[g].distanceTo(ln[g+1])/2;if(b===0)we=ln[0];else for(g=0,P=0;g<Rn-1;g++)if(Y=ln[g],se=ln[g+1],S=Y.distanceTo(se),P+=S,P>b){ce=(P-b)/S,we=[se.x-ce*(se.x-Y.x),se.y-ce*(se.y-Y.y)];break}var Et=u.unproject(fe(we));return Ae([Et.lat+Ie.lat,Et.lng+Ie.lng])}var ki={__proto__:null,simplify:Vn,pointToSegmentDistance:rl,closestPointOnSegment:ac,clipSegment:U,_getEdgeIntersection:re,_getBitCode:de,_sqClosestPointOnSegment:Qe,isFlat:_t,_flat:vt,polylineCenter:Ut},Di={project:function(a){return new ae(a.lng,a.lat)},unproject:function(a){return new Ce(a.y,a.x)},bounds:new O([-180,-90],[180,90])},gi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,g=this.R,b=a.lat*u,S=this.R_MINOR/g,P=Math.sqrt(1-S*S),Y=P*Math.sin(b),se=Math.tan(Math.PI/4-b/2)/Math.pow((1-Y)/(1+Y),P/2);return b=-g*Math.log(Math.max(se,1e-10)),new ae(a.lng*u*g,b)},unproject:function(a){for(var u=180/Math.PI,g=this.R,b=this.R_MINOR/g,S=Math.sqrt(1-b*b),P=Math.exp(-a.y/g),Y=Math.PI/2-2*Math.atan(P),se=0,ce=.1,we;se<15&&Math.abs(ce)>1e-7;se++)we=S*Math.sin(Y),we=Math.pow((1-we)/(1+we),S/2),ce=Math.PI/2-2*Math.atan(P*we)-Y,Y+=ce;return new Ce(Y*u,a.x*u/g)}},rs={__proto__:null,LonLat:Di,Mercator:gi,SphericalMercator:$i},ta=o({},Nt,{code:"EPSG:3395",projection:gi,transformation:(function(){var a=.5/(Math.PI*gi.R);return jn(a,.5,-a,.5)})()}),na=o({},Nt,{code:"EPSG:4326",projection:Di,transformation:jn(1/180,1,-1/180,.5)}),$a=o({},He,{projection:Di,transformation:jn(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var g=u.lng-a.lng,b=u.lat-a.lat;return Math.sqrt(g*g+b*b)},infinite:!0});He.Earth=Nt,He.EPSG3395=ta,He.EPSG3857=Ti,He.EPSG900913=Qn,He.EPSG4326=na,He.Simple=$a;var as=me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[p(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[p(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var g=this.getEvents();u.on(g,this),this.once("remove",function(){u.off(g,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});rt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=p(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=p(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return p(a)in this._layers},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},_addLayers:function(a){a=a?G(a)?a:[a]:[];for(var u=0,g=a.length;u<g;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[p(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=p(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,g=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Za=as.extend({initialize:function(a,u){z(this,u),this._layers={};var g,b;if(a)for(g=0,b=a.length;g<b;g++)this.addLayer(a[g])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),g,b;for(g in this._layers)b=this._layers[g],b[a]&&b[a].apply(b,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return p(a)}}),Mm=function(a,u){return new Za(a,u)},Cs=Za.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Za.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Za.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new pe;for(var u in this._layers){var g=this._layers[u];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),Zd=function(a,u){return new Cs(a,u)},Rs=Se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){z(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(g,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,u){var g=this.options,b=g[u+"Size"];typeof b=="number"&&(b=[b,b]);var S=fe(b),P=fe(u==="shadow"&&g.shadowAnchor||g.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(g.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return ke.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function al(a){return new Rs(a)}var ol=Rs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ol.imagePath!="string"&&(ol.imagePath=this._detectIconPath()),(this.options.imagePath||ol.imagePath)+Rs.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(g,b,S){var P=b.exec(g);return P&&P[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=at("div","leaflet-default-icon-path",document.body),u=hr(a,"background-image")||hr(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),ll=pi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ss(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Me(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,g=u._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=Ts(u._icon),Y=g.getPixelBounds(),se=g.getPixelOrigin(),ce=ee(Y.min._subtract(se).add(S),Y.max._subtract(se).subtract(S));if(!ce.contains(P)){var we=fe((Math.max(ce.max.x,P.x)-ce.max.x)/(Y.max.x-ce.max.x)-(Math.min(ce.min.x,P.x)-ce.min.x)/(Y.min.x-ce.min.x),(Math.max(ce.max.y,P.y)-ce.max.y)/(Y.max.y-ce.max.y)-(Math.min(ce.min.y,P.y)-ce.min.y)/(Y.min.y-ce.min.y)).multiplyBy(b);g.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),Mt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=H(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,g=u._shadow,b=Ts(u._icon),S=u._map.layerPointToLatLng(b);g&&Mt(g,b),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),cl=as.extend({options:{icon:new ol,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){z(this,u),this._latlng=Ae(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Ae(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),b=!1;g!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),Me(g,u),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(g,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(Me(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(this._icon,"focus",this._panOnFocus,this),ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ot(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Mt(this._icon,a),this._shadow&&Mt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ll)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ll(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&zt(this._icon,a),this._shadow&&zt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,g=u.iconSize?fe(u.iconSize):fe(0,0),b=u.iconAnchor?fe(u.iconAnchor):fe(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:g.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Kd(a,u){return new cl(a,u)}var Is=as.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return z(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ka=Is.extend({options:{fill:!0,radius:10},initialize:function(a,u){z(this,u),this._latlng=Ae(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Ae(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Is.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,g=this._clickTolerance(),b=[a+g,u+g];this._pxBounds=new O(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Yd(a,u){return new Ka(a,u)}var oc=Ka.extend({initialize:function(a,u,g){if(typeof u=="number"&&(u=o({},g,{radius:u})),z(this,u),this._latlng=Ae(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new pe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Is.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,g=this._map,b=g.options.crs;if(b.distance===Nt.distance){var S=Math.PI/180,P=this._mRadius/Nt.R/S,Y=g.project([u+P,a]),se=g.project([u-P,a]),ce=Y.add(se).divideBy(2),we=g.unproject(ce).lat,Ie=Math.acos((Math.cos(P*S)-Math.sin(u*S)*Math.sin(we*S))/(Math.cos(u*S)*Math.cos(we*S)))/S;(isNaN(Ie)||Ie===0)&&(Ie=P/Math.cos(Math.PI/180*u)),this._point=ce.subtract(g.getPixelOrigin()),this._radius=isNaN(Ie)?0:ce.x-g.project([we,a-Ie]).x,this._radiusY=ce.y-Y.y}else{var Ue=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ue).x}this._updateBounds()}});function Wd(a,u,g){return new oc(a,u,g)}var Qs=Is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){z(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,g=null,b=Qe,S,P,Y=0,se=this._parts.length;Y<se;Y++)for(var ce=this._parts[Y],we=1,Ie=ce.length;we<Ie;we++){S=ce[we-1],P=ce[we];var Ue=b(a,S,P,!0);Ue<u&&(u=Ue,g=b(a,S,P))}return g&&(g.distance=Math.sqrt(u)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ut(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Ae(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new pe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return _t(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],g=_t(a),b=0,S=a.length;b<S;b++)g?(u[b]=Ae(a[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(a[b]);return u},_project:function(){var a=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new ae(a,a);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,g){var b=a[0]instanceof Ce,S=a.length,P,Y;if(b){for(Y=[],P=0;P<S;P++)Y[P]=this._map.latLngToLayerPoint(a[P]),g.extend(Y[P]);u.push(Y)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],u,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,g,b,S,P,Y,se,ce;for(g=0,S=0,P=this._rings.length;g<P;g++)for(ce=this._rings[g],b=0,Y=ce.length;b<Y-1;b++)se=U(ce[b],ce[b+1],a,b,!0),se&&(u[S]=u[S]||[],u[S].push(se[0]),(se[1]!==ce[b+1]||b===Y-2)&&(u[S].push(se[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,g=0,b=a.length;g<b;g++)a[g]=Vn(a[g],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var g,b,S,P,Y,se,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,P=this._parts.length;g<P;g++)for(se=this._parts[g],b=0,Y=se.length,S=Y-1;b<Y;S=b++)if(!(!u&&b===0)&&rl(a,se[S],se[b])<=ce)return!0;return!1}});function jm(a,u){return new Qs(a,u)}Qs._flat=vt;var Ya=Qs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Qs.prototype._convertLatLngs.call(this,a),g=u.length;return g>=2&&u[0]instanceof Ce&&u[0].equals(u[g-1])&&u.pop(),u},_setLatLngs:function(a){Qs.prototype._setLatLngs.call(this,a),_t(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _t(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,g=new ae(u,u);if(a=new O(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,P;b<S;b++)P=il(this._rings[b],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,g,b,S,P,Y,se,ce,we;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,ce=this._parts.length;P<ce;P++)for(g=this._parts[P],Y=0,we=g.length,se=we-1;Y<we;se=Y++)b=g[Y],S=g[se],b.y>a.y!=S.y>a.y&&a.x<(S.x-b.x)*(a.y-b.y)/(S.y-b.y)+b.x&&(u=!u);return u||Qs.prototype._containsPoint.call(this,a,!0)}});function Lm(a,u){return new Ya(a,u)}var Xs=Cs.extend({initialize:function(a,u){z(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=G(a)?a:a.features,g,b,S;if(u){for(g=0,b=u.length;g<b;g++)S=u[g],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var Y=zn(a,P);return Y?(Y.feature=uc(a),Y.defaultOptions=Y.options,this.resetStyle(Y),P.onEachFeature&&P.onEachFeature(a,Y),this.addLayer(Y)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function zn(a,u){var g=a.type==="Feature"?a.geometry:a,b=g?g.coordinates:null,S=[],P=u&&u.pointToLayer,Y=u&&u.coordsToLatLng||lc,se,ce,we,Ie;if(!b&&!g)return null;switch(g.type){case"Point":return se=Y(b),Wa(P,a,se,u);case"MultiPoint":for(we=0,Ie=b.length;we<Ie;we++)se=Y(b[we]),S.push(Wa(P,a,se,u));return new Cs(S);case"LineString":case"MultiLineString":return ce=ul(b,g.type==="LineString"?0:1,Y),new Qs(ce,u);case"Polygon":case"MultiPolygon":return ce=ul(b,g.type==="Polygon"?1:2,Y),new Ya(ce,u);case"GeometryCollection":for(we=0,Ie=g.geometries.length;we<Ie;we++){var Ue=zn({geometry:g.geometries[we],type:"Feature",properties:a.properties},u);Ue&&S.push(Ue)}return new Cs(S);case"FeatureCollection":for(we=0,Ie=g.features.length;we<Ie;we++){var it=zn(g.features[we],u);it&&S.push(it)}return new Cs(S);default:throw new Error("Invalid GeoJSON object.")}}function Wa(a,u,g,b){return a?a(u,g):new cl(g,b&&b.markersInheritOptions&&b)}function lc(a){return new Ce(a[1],a[0],a[2])}function ul(a,u,g){for(var b=[],S=0,P=a.length,Y;S<P;S++)Y=u?ul(a[S],u-1,g):(g||lc)(a[S]),b.push(Y);return b}function cc(a,u){return a=Ae(a),a.alt!==void 0?[C(a.lng,u),C(a.lat,u),C(a.alt,u)]:[C(a.lng,u),C(a.lat,u)]}function dl(a,u,g,b){for(var S=[],P=0,Y=a.length;P<Y;P++)S.push(u?dl(a[P],_t(a[P])?0:u-1,g,b):cc(a[P],b));return!u&&g&&S.length>0&&S.push(S[0].slice()),S}function vr(a,u){return a.feature?o({},a.feature,{geometry:u}):uc(u)}function uc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var xr={toGeoJSON:function(a){return vr(this,{type:"Point",coordinates:cc(this.getLatLng(),a)})}};cl.include(xr),oc.include(xr),Ka.include(xr),Qs.include({toGeoJSON:function(a){var u=!_t(this._latlngs),g=dl(this._latlngs,u?1:0,!1,a);return vr(this,{type:(u?"Multi":"")+"LineString",coordinates:g})}}),Ya.include({toGeoJSON:function(a){var u=!_t(this._latlngs),g=u&&!_t(this._latlngs[0]),b=dl(this._latlngs,g?2:u?1:0,!0,a);return u||(b=[b]),vr(this,{type:(g?"Multi":"")+"Polygon",coordinates:b})}}),Za.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(g){u.push(g.toGeoJSON(a).geometry.coordinates)}),vr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var g=u==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(g)b.push(P.geometry);else{var Y=uc(P);Y.type==="FeatureCollection"?b.push.apply(b,Y.features):b.push(Y)}}}),g?vr(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function dc(a,u){return new Xs(a,u)}var hl=dc,Qa=as.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,g){this._url=a,this._bounds=xe(u),z(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&$t(this._image),this},bringToBack:function(){return this._map&&fi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=xe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:at("img");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onload=h(this.fire,this,"load"),u.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ji(this._image,g,u)},_reset:function(){var a=this._image,u=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=u.getSize();Mt(a,u.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Qd=function(a,u,g){return new Qa(a,u,g)},br=Qa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:at("video");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onloadeddata=h(this.fire,this,"load"),a){for(var g=u.getElementsByTagName("source"),b=[],S=0;S<g.length;S++)b.push(g[S].src);this._url=g.length>0?b:[u.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var Y=at("source");Y.src=this._url[P],u.appendChild(Y)}}});function Xa(a,u,g){return new br(a,u,g)}var hc=Qa.extend({_initImage:function(){var a=this._image=this._url;Me(a,"leaflet-image-layer"),this._zoomAnimated&&Me(a,"leaflet-zoom-animated"),this.options.className&&Me(a,this.options.className),a.onselectstart=E,a.onmousemove=E}});function Xd(a,u,g){return new hc(a,u,g)}var Un=as.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Ce||G(a))?(this._latlng=Ae(a),z(this,u)):(z(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&zt(this._container,1),this.bringToFront(),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(zt(this._container,0),this._removeTimeout=setTimeout(h(ot,void 0,this._container),200)):ot(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ae(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$t(this._container),this},bringToBack:function(){return this._map&&fi(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Cs){u=null;var g=this._source._layers;for(var b in g)if(g[b]._map){u=g[b];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=fe(this.options.offset),g=this._getAnchor();this._zoomAnimated?Mt(this._container,a.add(g)):u=u.add(a).add(g);var b=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});rt.include({_initOverlay:function(a,u,g,b){var S=u;return S instanceof a||(S=new a(b).setContent(u)),g&&S.setLatLng(g),S}}),as.include({_initOverlay:function(a,u,g,b){var S=g;return S instanceof a?(z(S,b),S._source=this):(S=u&&!b?u:new a(b,this),S.setContent(g)),S}});var fl=Un.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Un.prototype.openOn.call(this,a)},onAdd:function(a){Un.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Is||this._source.on("preclick",ht))},onRemove:function(a){Un.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Is||this._source.off("preclick",ht))},getEvents:function(){var a=Un.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=at("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=at("div",a+"-content-wrapper",u);if(this._contentNode=at("div",a+"-content",g),Zs(u),Li(this._contentNode),$e(u,"contextmenu",ht),this._tipContainer=at("div",a+"-tip-container",u),this._tip=at("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=at("a",a+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',$e(b,"click",function(S){Zt(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),u.width=g+1+"px",u.whiteSpace="",u.height="";var b=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&b>S?(u.height=S+"px",Me(a,P)):Pt(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();Mt(this._container,u.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(hr(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+u,b=this._containerWidth,S=new ae(this._containerLeft,-g-this._containerBottom);S._add(Ts(this._container));var P=a.layerPointToContainerPoint(S),Y=fe(this.options.autoPanPadding),se=fe(this.options.autoPanPaddingTopLeft||Y),ce=fe(this.options.autoPanPaddingBottomRight||Y),we=a.getSize(),Ie=0,Ue=0;P.x+b+ce.x>we.x&&(Ie=P.x+b-we.x+ce.x),P.x-Ie-se.x<0&&(Ie=P.x-se.x),P.y+g+ce.y>we.y&&(Ue=P.y+g-we.y+ce.y),P.y-Ue-se.y<0&&(Ue=P.y-se.y),(Ie||Ue)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ie,Ue]))}},_getAnchor:function(){return fe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jd=function(a,u){return new fl(a,u)};rt.mergeOptions({closePopupOnClick:!0}),rt.include({openPopup:function(a,u,g){return this._initOverlay(fl,a,u,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),as.include({bindPopup:function(a,u){return this._popup=this._initOverlay(fl,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Cs||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){es(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ml=Un.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Un.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Un.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Un.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=at("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,g,b=this._map,S=this._container,P=b.latLngToContainerPoint(b.getCenter()),Y=b.layerPointToContainerPoint(a),se=this.options.direction,ce=S.offsetWidth,we=S.offsetHeight,Ie=fe(this.options.offset),Ue=this._getAnchor();se==="top"?(u=ce/2,g=we):se==="bottom"?(u=ce/2,g=0):se==="center"?(u=ce/2,g=we/2):se==="right"?(u=0,g=we/2):se==="left"?(u=ce,g=we/2):Y.x<P.x?(se="right",u=0,g=we/2):(se="left",u=ce+(Ie.x+Ue.x)*2,g=we/2),a=a.subtract(fe(u,g,!0)).add(Ie).add(Ue),Pt(S,"leaflet-tooltip-right"),Pt(S,"leaflet-tooltip-left"),Pt(S,"leaflet-tooltip-top"),Pt(S,"leaflet-tooltip-bottom"),Me(S,"leaflet-tooltip-"+se),Mt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&zt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return fe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),km=function(a,u){return new ml(a,u)};rt.include({openTooltip:function(a,u,g){return this._initOverlay(ml,a,u,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),as.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ml,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[u](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Cs||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&($e(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),$e(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,g,b;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(g),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var eh=Rs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Gt(u),u.appendChild(g.html)):u.innerHTML=g.html!==!1?g.html:"",g.bgPos){var b=fe(g.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Dm(a){return new eh(a)}Rs.Default=ol;var Ja=as.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){z(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ot(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($t(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ae?a:new ae(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,g=-a(-1/0,1/0),b=0,S=u.length,P;b<S;b++)P=u[b].style.zIndex,u[b]!==this._container&&P&&(g=a(g,+P));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke.ielt9){zt(this._container,this.options.opacity);var a=+new Date,u=!1,g=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);zt(S.el,P),P<1?u=!0:(S.active?g=!0:this._onOpaqueTile(S),S.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),u&&(K(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=at("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=u-Math.abs(a-g),this._onUpdateLevel(g)):(ot(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var b=this._levels[a],S=this._map;return b||(b=this._levels[a]={},b.el=at("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,S.getCenter(),S.getZoom()),E(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var a,u,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ot(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,g,b){var S=Math.floor(a/2),P=Math.floor(u/2),Y=g-1,se=new ae(+S,+P);se.z=+Y;var ce=this._tileCoordsToKey(se),we=this._tiles[ce];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),Y>b?this._retainParent(S,P,Y,b):!1)},_retainChildren:function(a,u,g,b){for(var S=2*a;S<2*a+2;S++)for(var P=2*u;P<2*u+2;P++){var Y=new ae(S,P);Y.z=g+1;var se=this._tileCoordsToKey(Y),ce=this._tiles[se];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);g+1<b&&this._retainChildren(S,P,g+1,b)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,g,b){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,u)},_setZoomTransform:function(a,u,g){var b=this._map.getZoomScale(g,a.zoom),S=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,g)).round();ke.any3d?Ji(a.el,S,b):Mt(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,g=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],b).x/g.x),Math.ceil(a.project([0,u.wrapLng[1]],b).x/g.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],b).y/g.x),Math.ceil(a.project([u.wrapLat[1],0],b).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,g=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(g,this._tileZoom),S=u.project(a,this._tileZoom).floor(),P=u.getSize().divideBy(b*2);return new O(S.subtract(P),S.add(P))},_update:function(a){var u=this._map;if(u){var g=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(b),P=S.getCenter(),Y=[],se=this.options.keepBuffer,ce=new O(S.getBottomLeft().subtract([se,-se]),S.getTopRight().add([se,-se]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Ie=this._tiles[we].coords;(Ie.z!==this._tileZoom||!ce.contains(new ae(Ie.x,Ie.y)))&&(this._tiles[we].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var Ue=S.min.y;Ue<=S.max.y;Ue++)for(var it=S.min.x;it<=S.max.x;it++){var Rn=new ae(it,Ue);if(Rn.z=this._tileZoom,!!this._isValidTile(Rn)){var ln=this._tiles[this._tileCoordsToKey(Rn)];ln?ln.current=!0:Y.push(Rn)}}if(Y.sort(function(Et,Tt){return Et.distanceTo(P)-Tt.distanceTo(P)}),Y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yi=document.createDocumentFragment();for(it=0;it<Y.length;it++)this._addTile(Y[it],yi);this._level.el.appendChild(yi)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var g=this._globalTileRange;if(!u.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!u.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return xe(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,g=this.getTileSize(),b=a.scaleBy(g),S=b.add(g),P=u.unproject(b,a.z),Y=u.unproject(S,a.z);return[P,Y]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),g=new pe(u[0],u[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),g=new ae(+u[0],+u[1]);return g.z=+u[2],g},_removeTile:function(a){var u=this._tiles[a];u&&(ot(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Me(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=E,a.onmousemove=E,ke.ielt9&&this.options.opacity<1&&zt(a,this.options.opacity)},_addTile:function(a,u){var g=this._getTilePos(a),b=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),h(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&H(h(this._tileReady,this,a,null,S)),Mt(S,g),this._tiles[b]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,g){u&&this.fire("tileerror",{error:u,tile:g,coords:a});var b=this._tileCoordsToKey(a);g=this._tiles[b],g&&(g.loaded=+new Date,this._map._fadeAnimated?(zt(g.el,0),K(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),u||(Me(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new ae(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new O(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function th(a){return new Ja(a)}var wr=Ja.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=z(this,u),u.detectRetina&&ke.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var g=document.createElement("img");return $e(g,"load",h(this._tileOnLoad,this,u,g)),$e(g,"error",h(this._tileOnError,this,u,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var u={r:ke.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=g),u["-y"]=g}return B(this._url,o(u,this.options))},_tileOnLoad:function(a,u){ke.ielt9?setTimeout(h(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,g){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),a(g,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,g=this.options.zoomReverse,b=this.options.zoomOffset;return g&&(a=u-a),a+b},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=E,u.onerror=E,!u.complete)){u.src=te;var g=this._tiles[a].coords;ot(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:g})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",te),Ja.prototype._removeTile.call(this,a)},_tileReady:function(a,u,g){if(!(!this._map||g&&g.getAttribute("src")===te))return Ja.prototype._tileReady.call(this,a,u,g)}});function Oi(a,u){return new wr(a,u)}var pl=wr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var g=o({},this.defaultWmsParams);for(var b in u)b in this.options||(g[b]=u[b]);u=z(this,u);var S=u.detectRetina&&ke.retina?2:1,P=this.getTileSize();g.width=P.x*S,g.height=P.y*S,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,wr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),g=this._crs,b=ee(g.project(u[0]),g.project(u[1])),S=b.min,P=b.max,Y=(this._wmsVersion>=1.3&&this._crs===na?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),se=wr.prototype.getTileUrl.call(this,a);return se+k(this.wmsParams,se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function Vi(a,u){return new pl(a,u)}wr.WMS=pl,Oi.wms=Vi;var ii=as.extend({options:{padding:.1},initialize:function(a){z(this,a),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var g=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),P=b.multiplyBy(-g).add(S).subtract(this._map._getNewPixelOrigin(a,u));ke.any3d?Ji(this._container,P,g):Mt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),g=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new O(g,g.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fc=ii.extend({options:{tolerance:0},getEvents:function(){var a=ii.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ii.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");$e(a,"mousemove",this._onMouseMove,this),$e(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$e(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,ot(this._container),wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ii.prototype._update.call(this);var a=this._bounds,u=this._container,g=a.getSize(),b=ke.retina?2:1;Mt(u,a.min),u.width=b*g.x,u.height=b*g.y,u.style.width=g.x+"px",u.style.height=g.y+"px",ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ii.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[p(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,g=u.next,b=u.prev;g?g.prev=b:this._drawLast=b,b?b.next=g:this._drawFirst=g,delete a._order,delete this._layers[p(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),g=[],b,S;for(S=0;S<u.length;S++){if(b=Number(u[S]),isNaN(b))return;g.push(b)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var g=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var g,b,S,P,Y=a._parts,se=Y.length,ce=this._ctx;if(se){for(ce.beginPath(),g=0;g<se;g++){for(b=0,S=Y[g].length;b<S;b++)P=Y[g][b],ce[b?"lineTo":"moveTo"](P.x,P.y);u&&ce.closePath()}this._fillStroke(ce,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,g=this._ctx,b=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||b)/b;S!==1&&(g.save(),g.scale(1,S)),g.beginPath(),g.arc(u.x,u.y/S,b,0,Math.PI*2,!1),S!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,u){var g=u.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),g,b,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(b=g);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var g,b,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(b=g);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Me(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,g){this._map._fireDOMEvent(u,g||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var g=u.next,b=u.prev;if(g)g.prev=b;else return;b?b.next=g:g&&(this._drawFirst=g),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var g=u.next,b=u.prev;if(b)b.next=g;else return;g?g.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function gl(a){return ke.canvas?new fc(a):null}var Er=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),fu={_initContainer:function(){this._container=at("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ii.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Er("shape");Me(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Er("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;ot(u),a.removeInteractiveTarget(u),delete this._layers[p(a)]},_updateStyle:function(a){var u=a._stroke,g=a._fill,b=a.options,S=a._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(u||(u=a._stroke=Er("stroke")),S.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=G(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(S.removeChild(u),a._stroke=null),b.fill?(g||(g=a._fill=Er("fill")),S.appendChild(g),g.color=b.fillColor||b.color,g.opacity=b.fillOpacity):g&&(S.removeChild(g),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),g=Math.round(a._radius),b=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+g+","+b+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){$t(a._container)},_bringToBack:function(a){fi(a._container)}},Ps=ke.vml?Er:_s,eo=ii.extend({_initContainer:function(){this._container=Ps("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ps("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ot(this._container),wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ii.prototype._update.call(this);var a=this._bounds,u=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,g.setAttribute("width",u.x),g.setAttribute("height",u.y)),Mt(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Ps("path");a.options.className&&Me(u,a.options.className),a.options.interactive&&Me(u,"leaflet-interactive"),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ot(a._path),a.removeInteractiveTarget(a._path),delete this._layers[p(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,g=a.options;u&&(g.stroke?(u.setAttribute("stroke",g.color),u.setAttribute("stroke-opacity",g.opacity),u.setAttribute("stroke-width",g.weight),u.setAttribute("stroke-linecap",g.lineCap),u.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?u.setAttribute("stroke-dasharray",g.dashArray):u.removeAttribute("stroke-dasharray"),g.dashOffset?u.setAttribute("stroke-dashoffset",g.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),g.fill?(u.setAttribute("fill",g.fillColor||g.color),u.setAttribute("fill-opacity",g.fillOpacity),u.setAttribute("fill-rule",g.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,Si(a._parts,u))},_updateCircle:function(a){var u=a._point,g=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||g,S="a"+g+","+b+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(u.x-g)+","+u.y+S+g*2+",0 "+S+-g*2+",0 ";this._setPath(a,P)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){$t(a._path)},_bringToBack:function(a){fi(a._path)}});ke.vml&&eo.include(fu);function yl(a){return ke.svg||ke.vml?new eo(a):null}rt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&gl(a)||yl(a)}});var ia=Ya.extend({initialize:function(a,u){Ya.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=xe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Om(a,u){return new ia(a,u)}eo.create=Ps,eo.pointsToPath=Si,Xs.geometryToLayer=zn,Xs.coordsToLatLng=lc,Xs.coordsToLatLngs=ul,Xs.latLngToCoords=cc,Xs.latLngsToCoords=dl,Xs.getFeature=vr,Xs.asFeature=uc,rt.mergeOptions({boxZoom:!0});var si=pi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ji(),Qr(),this._startPoint=this._map.mouseEventToContainerPoint(a),$e(document,{contextmenu:es,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=at("div","leaflet-zoom-box",this._container),Me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new O(this._point,this._startPoint),g=u.getSize();Mt(this._box,u.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(ot(this._box),Pt(this._container,"leaflet-crosshair")),vn(),fr(),wt(document,{contextmenu:es,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var u=new pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rt.addInitHook("addHandler","boxZoom",si),rt.mergeOptions({doubleClickZoom:!0});var mc=pi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,g=u.getZoom(),b=u.options.zoomDelta,S=a.originalEvent.shiftKey?g-b:g+b;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});rt.addInitHook("addHandler","doubleClickZoom",mc),rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ms=pi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ss(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=xe(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),g=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-u+g)%a+u-g,P=(b+u+g)%a-u-g,Y=Math.abs(S+g)<Math.abs(P+g)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Y},_onDragEnd:function(a){var u=this._map,g=u.options,b=!g.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),b)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,Y=g.easeLinearity,se=S.multiplyBy(Y/P),ce=se.distanceTo([0,0]),we=Math.min(g.inertiaMaxSpeed,ce),Ie=se.multiplyBy(we/ce),Ue=we/(g.inertiaDeceleration*Y),it=Ie.multiplyBy(-Ue/2).round();!it.x&&!it.y?u.fire("moveend"):(it=u._limitOffset(it,u.options.maxBounds),H(function(){u.panBy(it,{duration:Ue,easeLinearity:Y,noMoveStart:!0,animate:!0})}))}}});rt.addInitHook("addHandler","dragging",Ms),rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var mu=pi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),$e(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,g=a.scrollTop||u.scrollTop,b=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},g=this.keyCodes,b,S;for(b=0,S=g.left.length;b<S;b++)u[g.left[b]]=[-1*a,0];for(b=0,S=g.right.length;b<S;b++)u[g.right[b]]=[a,0];for(b=0,S=g.down.length;b<S;b++)u[g.down[b]]=[0,a];for(b=0,S=g.up.length;b<S;b++)u[g.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},g=this.keyCodes,b,S;for(b=0,S=g.zoomIn.length;b<S;b++)u[g.zoomIn[b]]=a;for(b=0,S=g.zoomOut.length;b<S;b++)u[g.zoomOut[b]]=-a},_addHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,g=this._map,b;if(u in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(b=this._panKeys[u],a.shiftKey&&(b=fe(b).multiplyBy(3)),g.options.maxBounds&&(b=g._limitOffset(fe(b),g.options.maxBounds)),g.options.worldCopyJump){var S=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(b)));g.panTo(S)}else g.panBy(b)}else if(u in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;es(a)}}});rt.addInitHook("addHandler","keyboard",mu),rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _l=pi.extend({addHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=xn(a),g=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),b),es(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,P=g?Math.ceil(S/g)*g:S,Y=a._limitZoom(u+(this._delta>0?P:-P))-u;this._delta=0,this._startTime=null,Y&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+Y):a.setZoomAround(this._lastMousePos,u+Y))}});rt.addInitHook("addHandler","scrollWheelZoom",_l);var sa=600;rt.mergeOptions({tapHold:ke.touchNative&&ke.safari&&ke.mobile,tapTolerance:15});var pc=pi.extend({addHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new ae(u.clientX,u.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&($e(document,"touchend",Zt),$e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),sa),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){wt(document,"touchend",Zt),wt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new ae(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});g._simulated=!0,u.target.dispatchEvent(g)}});rt.addInitHook("addHandler","tapHold",pc),rt.mergeOptions({touchZoom:ke.touch,bounceAtZoomLimits:!0});var pu=pi.extend({addHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var g=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(g.add(b)._divideBy(2))),this._startDist=g.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),Zt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,g=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]),S=g.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=g._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var Y=h(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(Y,this,!0),Zt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});rt.addInitHook("addHandler","touchZoom",pu),rt.BoxZoom=si,rt.DoubleClickZoom=mc,rt.Drag=Ms,rt.Keyboard=mu,rt.ScrollWheelZoom=_l,rt.TapHold=pc,rt.TouchZoom=pu,t.Bounds=O,t.Browser=ke,t.CRS=He,t.Canvas=fc,t.Circle=oc,t.CircleMarker=Ka,t.Class=Se,t.Control=On,t.DivIcon=eh,t.DivOverlay=Un,t.DomEvent=Ns,t.DomUtil=pr,t.Draggable=ss,t.Evented=me,t.FeatureGroup=Cs,t.GeoJSON=Xs,t.GridLayer=Ja,t.Handler=pi,t.Icon=Rs,t.ImageOverlay=Qa,t.LatLng=Ce,t.LatLngBounds=pe,t.Layer=as,t.LayerGroup=Za,t.LineUtil=ki,t.Map=rt,t.Marker=cl,t.Mixin=rc,t.Path=Is,t.Point=ae,t.PolyUtil=_r,t.Polygon=Ya,t.Polyline=Qs,t.Popup=fl,t.PosAnimation=Ks,t.Projection=rs,t.Rectangle=ia,t.Renderer=ii,t.SVG=eo,t.SVGOverlay=hc,t.TileLayer=wr,t.Tooltip=ml,t.Transformation=ys,t.Util=F,t.VideoOverlay=br,t.bind=h,t.bounds=ee,t.canvas=gl,t.circle=Wd,t.circleMarker=Yd,t.control=ni,t.divIcon=Dm,t.extend=o,t.featureGroup=Zd,t.geoJSON=dc,t.geoJson=hl,t.gridLayer=th,t.icon=al,t.imageOverlay=Qd,t.latLng=Ae,t.latLngBounds=xe,t.layerGroup=Mm,t.map=yr,t.marker=Kd,t.point=fe,t.polygon=Lm,t.polyline=jm,t.popup=Jd,t.rectangle=Om,t.setOptions=z,t.stamp=p,t.svg=yl,t.svgOverlay=Xd,t.tileLayer=Oi,t.tooltip=km,t.transformation=jn,t.version=s,t.videoOverlay=Xa;var gu=window.L;t.noConflict=function(){return window.L=gu,this},window.L=t}))})(od,od.exports)),od.exports}var Pm=A6();const n2=u1(Pm);function i2(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function s2(n,e){return e==null?function(s,o){const c=D.useRef(void 0);return c.current||(c.current=n(s,o)),c}:function(s,o){const c=D.useRef(void 0);c.current||(c.current=n(s,o));const h=D.useRef(s),{instance:_}=c.current;return D.useEffect(function(){h.current!==s&&(e(_,s,h.current),h.current=s)},[_,s,e]),c}}function N6(n,e){D.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function r2(n){return function(t){const s=e2(),o=n(t2(t,s),s);return _6(s.map,t.attribution),T6(o.current,t.eventHandlers),N6(o.current,s),o}}function C6(n,e){const t=s2(n,e),s=r2(t);return w6(s)}function R6(n,e){const t=s2(n,e),s=r2(t);return E6(s)}function I6(n,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function P6(){return e2().map}function M6(n){const e=P6();return D.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function j6({bounds:n,boundsOptions:e,center:t,children:s,className:o,id:c,placeholder:h,style:_,whenReady:p,zoom:v,...w},E){const[C]=D.useState({className:o,id:c,style:_}),[R,j]=D.useState(null),z=D.useRef(void 0);D.useImperativeHandle(E,()=>R?.map??null,[R]);const k=D.useCallback(B=>{if(B!==null&&!z.current){const G=new Pm.Map(B,w);z.current=G,t!=null&&v!=null?G.setView(t,v):n!=null&&G.fitBounds(n,e),p!=null&&G.whenReady(p),j(x6(G))}},[]);D.useEffect(()=>()=>{R?.map.remove()},[R]);const V=R?dn.createElement(tv,{value:R},s):h??null;return dn.createElement("div",{...C,ref:k},V)}const L6=D.forwardRef(j6),k6=C6(function({position:e,...t},s){const o=new Pm.Marker(e,t);return i2(o,b6(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),D6=R6(function({url:e,...t},s){const o=new Pm.TileLayer(e,t2(t,s));return i2(o,s)},function(e,t,s){I6(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)});delete n2.Icon.Default.prototype._getIconUrl;n2.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function O6({position:n,setPosition:e,setAddress:t}){const s=M6({click(o){e(o.latlng),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.latlng.lat}&lon=${o.latlng.lng}`).then(c=>c.json()).then(c=>{c&&c.display_name&&t(c.display_name)}).catch(c=>console.error("Error reverse geocoding",c))}});return D.useEffect(()=>{n&&s.flyTo(n,16)},[n,s]),n===null?null:f.jsx(k6,{position:n})}const V6=({onConfirm:n,initialLocation:e})=>{const[t,s]=D.useState(e?{lat:e.lat,lng:e.lng}:null),[o,c]=D.useState(e?.address||""),[h,_]=D.useState(""),[p,v]=D.useState(!1),w=[-12.0464,-77.0428],E=async R=>{if(R.preventDefault(),!!h){v(!0);try{let j=h;!j.toLowerCase().includes("peru")&&!j.toLowerCase().includes("per")&&(j+=", Per");const k=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(j)}`)).json();if(k&&k.length>0){const V=k[0],B={lat:parseFloat(V.lat),lng:parseFloat(V.lon)};s(B),c(V.display_name)}else console.log("No location found")}catch(j){console.error("Search error:",j)}finally{v(!1)}}},C=()=>{t&&n({lat:t.lat,lng:t.lng,address:o})};return f.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[f.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[f.jsxs("div",{className:"relative flex gap-2",children:[f.jsxs("div",{className:"relative flex-grow",children:[f.jsx("input",{type:"text",value:h,onChange:R=>_(R.target.value),onKeyDown:R=>R.key==="Enter"&&E(R),placeholder:"Buscar ciudad, calle o lugar...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-[#fc7f51] focus:ring-1 focus:ring-[#fc7f51] outline-none text-sm"}),f.jsx(Zl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),f.jsx("button",{type:"button",onClick:E,disabled:p,className:"bg-[#262626] text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-black transition disabled:opacity-70",children:p?f.jsx(eu,{className:"w-4 h-4 animate-spin"}):"Buscar"})]}),o&&f.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-start gap-1",children:[f.jsx(qr,{className:"w-3 h-3 mt-0.5 text-[#fc7f51]"}),f.jsx("span",{className:"line-clamp-2",children:o})]})]}),f.jsx("div",{className:"flex-grow min-h-[300px] relative z-0",children:f.jsxs(L6,{center:w,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[f.jsx(D6,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f.jsx(O6,{position:t,setPosition:s,setAddress:c})]})}),f.jsx("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-end",children:f.jsx("button",{type:"button",onClick:C,disabled:!t,className:"bg-[#fc7f51] text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-[#e56b3e] transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ubicacin"})})]})},z6=()=>{const{user:n,userData:e}=La(),[t,s]=D.useState(!1),[o,c]=D.useState(!1),[h,_]=D.useState(null),[p,v]=D.useState("properties"),[w,E]=D.useState(""),[C,R]=D.useState(!1),[j,z]=D.useState({displayName:"",email:"",phoneNumber:"",newPassword:""}),[k,V]=D.useState(!1),[B,G]=D.useState([]),[ne,te]=D.useState({title:"",content:""}),[ye,q]=D.useState(null),[I,Z]=D.useState(null),[$,H]=D.useState(!1),[K,F]=D.useState([]),[Se,be]=D.useState([]),[W,me]=D.useState({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,gym:!1,security:!1,exchangeRate:3.8}),[ae,Re]=D.useState([]),[fe,O]=D.useState([]),[ee,pe]=D.useState(!0),[xe,Ce]=D.useState(null),[Ae,He]=D.useState(!1),[Nt,It]=D.useState(null),[$i,ys]=D.useState(""),[jn,Ti]=D.useState([]),[Qn,_s]=D.useState(""),[Si,Zi]=D.useState(""),hi=async()=>{if(n){pe(!0);try{const X=Ds(yn(Xe,"properties"),xa("agentId","==",n.uid)),ze=(await ir(X)).docs.map(Be=>({id:Be.id,...Be.data()}));ze.sort((Be,dt)=>(dt.createdAt?.seconds||0)-(Be.createdAt?.seconds||0)),Re(ze)}catch(X){console.error("Error fetching properties:",X)}finally{pe(!1)}}},qt=async()=>{if(n){H(!0);try{const X=Ds(yn(Xe,"tips"),xa("agentId","==",n.uid),H_("createdAt","desc")),je=await ir(X);G(je.docs.map(ze=>({id:ze.id,...ze.data()})))}catch(X){console.error("Error fetching tips:",X)}finally{H(!1)}}};D.useEffect(()=>{e?.isActivated&&(hi(),(async()=>{try{const ze=Ds(yn(Xe,"visits"),xa("agentId","==",n.uid)),Be=await ir(ze);O(Be.docs.map(dt=>({id:dt.id,...dt.data()})))}catch(ze){console.error("Error fetching visits:",ze)}})(),qt(),(async()=>{try{const ze=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(ze.ok){const dt=(await ze.json()).rates.PEN;dt&&me(We=>({...We,exchangeRate:dt}))}}catch(ze){console.error("Error fetching initial exchange rate:",ze)}})()),z({displayName:e?.displayName||n?.displayName||"",email:e?.email||n?.email||"",phoneNumber:e?.phoneNumber||"",newPassword:"",photoURL:e?.photoURL||n?.photoURL||""})},[n,e]);const Qt=async X=>{if(window.confirm("Ests seguro de que deseas eliminar esta propiedad?"))try{await Gf(Yt(Xe,"properties",X)),Oe.success("Propiedad eliminada correctamente."),hi()}catch(je){console.error("Error deleting property:",je),Oe.error("Error al eliminar la propiedad.")}},Ai=async X=>{X.preventDefault(),R(!0);try{const je=Ds(yn(Xe,"activation_codes"),xa("code","==",w),xa("used","==",!1)),ze=await ir(je);if(ze.empty){Oe.error("Cdigo invlido o ya usado."),R(!1);return}const Be=ze.docs[0];await Ir(Yt(Xe,"activation_codes",Be.id),{used:!0,usedBy:n.uid,usedAt:new Date}),await Ir(Yt(Xe,"users",n.uid),{isActivated:!0,activationCode:w}),Oe.success("Cuenta activada con xito! Recargando..."),setTimeout(()=>window.location.reload(),1500)}catch(je){console.error("Error activating account:",je),Oe.error("Error al activar la cuenta.")}finally{R(!1)}},ka=async X=>{X.preventDefault(),V(!0);try{j.displayName!==n.displayName&&await uy(n,{displayName:j.displayName}),j.email!==n.email&&await QI(n,j.email);let je=n.photoURL;if(xe){const We=qg(Hg,`profile_photos/${n.uid}/${Date.now()}_${xe.name}`),rn=await Ug(We,xe);je=await Bg(rn.ref),await uy(n,{photoURL:je})}if(await Ir(Yt(Xe,"users",n.uid),{displayName:j.displayName,email:j.email,phoneNumber:j.phoneNumber,photoURL:je}),j.newPassword){if(j.newPassword.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");await XI(n,j.newPassword),z(We=>({...We,newPassword:""})),Oe.success("Contrasea actualizada.")}const ze=U5(Xe),Be=Ds(yn(Xe,"properties"),xa("agentId","==",n.uid));(await ir(Be)).forEach(We=>{ze.update(We.ref,{agentName:j.displayName,agentPhone:j.phoneNumber||""})}),await ze.commit(),Oe.success("Perfil actualizado correctamente."),hi()}catch(je){console.error("Error updating profile:",je),Oe.error("Error al actualizar perfil. Si cambiaste el email, podras necesitar volver a iniciar sesin.")}finally{V(!1)}},Gr=async X=>{X.preventDefault(),H(!0);try{let je="";if(ye){const ze=qg(Hg,`tip_images/${n.uid}/${Date.now()}_${ye.name}`),Be=await Ug(ze,ye);je=await Bg(Be.ref)}if(I){const ze={...ne,updatedAt:new Date};je&&(ze.imageUrl=je),await Ir(Yt(Xe,"tips",I),ze),Oe.success("Tip actualizado.")}else await Dl(yn(Xe,"tips"),{...ne,agentId:n.uid,agentName:n.displayName||"Agente",createdAt:new Date,likes:0,imageUrl:je||null}),Oe.success("Tip publicado.");te({title:"",content:""}),q(null),Z(null),typeof qt=="function"&&qt()}catch(je){console.error("Error saving tip:",je),je.code==="failed-precondition"?Oe.error("El ndice de base de datos se est creando. Intenta de nuevo en unos minutos."):Oe.error("Error al guardar el tip.")}finally{H(!1)}},Cn=async X=>{if(window.confirm("Seguro que quieres eliminar este tip?"))try{await Gf(Yt(Xe,"tips",X)),G(je=>je.filter(ze=>ze.id!==X)),Oe.success("Tip eliminado.")}catch(je){console.error("Error deleting tip:",je)}},Us=X=>{te({title:X.title||"",content:X.content||""}),Z(X.id),v("tips")},Bs=async(X,je)=>{const ze=je==="disponible"?"tomada":"disponible";Re(Be=>Be.map(dt=>dt.id===X?{...dt,status:ze}:dt)),Oe.success(`Estado actualizado a: ${ze==="disponible"?"Disponible":"No Disponible"}`);try{await Ir(Yt(Xe,"properties",X),{status:ze})}catch(Be){Re(dt=>dt.map(We=>We.id===X?{...We,status:je}:We)),console.error("Error updating status:",Be),Oe.error("No se pudo actualizar el estado.")}},dr=X=>{It(X.id),ys(X.title),Ti(X.availableVisitSlots||[]),_s(""),Zi(""),He(!0)},Ki=()=>{if(!Qn||!Si){Oe.error("Selecciona fecha y hora.");return}const X={date:Qn,time:Si,id:Date.now().toString()};Ti(je=>[...je,X]),_s(""),Zi("")},Ko=X=>{Ti(je=>je.filter(ze=>ze.id!==X))},$r=async()=>{try{await Ir(Yt(Xe,"properties",Nt),{availableVisitSlots:jn}),Re(X=>X.map(je=>je.id===Nt?{...je,availableVisitSlots:jn}:je)),Oe.success("Horarios de visita guardados."),He(!1)}catch(X){console.error("Error saving slots:",X),Oe.error("Error al guardar horarios.")}},Zr=X=>{const je=Array.from(X.target.files),ze=je.map(Be=>URL.createObjectURL(Be));be(Be=>[...Be,...ze]),F(Be=>[...Be,...je])},Da=X=>{if(Se[X].startsWith("blob:")){const ze=Se.slice(0,X).filter(Be=>Be.startsWith("blob:")).length;F(Be=>Be.filter((dt,We)=>We!==ze))}be(ze=>ze.filter((Be,dt)=>dt!==X))},Xn=X=>{_(X.id),me({title:X.title,description:X.description,type:X.type,currency:X.currency||"USD",price:X.price,category:X.category,location:X.location,footage:X.footage,bedrooms:X.bedrooms||"",bathrooms:X.bathrooms||"",antiquityType:X.antiquityType||"estreno",antiquityYears:X.antiquityYears||"",lat:X.lat||"",lng:X.lng||"",antiquity:X.antiquity||"estreno",floor:X.floor||"",elevator:X.elevator||!1,parking:X.parking||!1,isExclusive:X.isExclusive||!1,isInBuilding:X.isInBuilding||!1,isDuplex:X.isDuplex||!1,furnished:X.furnished||!1,pool:X.pool||!1,gym:X.gym||!1,pool:X.pool||!1,gym:X.gym||!1,security:X.security||!1,exchangeRate:X.exchangeRate||3.8}),be(X.images||[]),F([]),v("properties"),window.scrollTo({top:0,behavior:"smooth"})},en=()=>{_(null),me({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,pool:!1,gym:!1,security:!1,exchangeRate:3.8}),be([]),F([])},Fn=async X=>{X.preventDefault(),s(!0);try{const je=K.map(async Be=>{const dt=qg(Hg,`properties/${n.uid}/${Date.now()}_${Be.name}`),We=await Ug(dt,Be);return await Bg(We.ref)}),ze=await Promise.all(je);if(h){const Be={...W,price:parseFloat(W.price),footage:parseFloat(W.footage),bedrooms:W.category==="construido"?parseInt(W.bedrooms):0,bathrooms:W.category==="construido"?parseInt(W.bathrooms):0,agentPhone:e.phoneNumber||""};ze.length>0&&(Be.images=[...Se.filter(dt=>dt.startsWith("http")),...ze]),await Ir(Yt(Xe,"properties",h),Be),Oe.success("Propiedad actualizada con xito!")}else await Dl(yn(Xe,"properties"),{...W,agentId:n.uid,agentName:e.displayName||"Agente",agentPhone:e.phoneNumber||"",images:ze,createdAt:new Date,status:"disponible",views:0,isPromoted:!1,price:parseFloat(W.price),footage:parseFloat(W.footage),bedrooms:W.category==="construido"?parseInt(W.bedrooms):0,bathrooms:W.category==="construido"?parseInt(W.bathrooms):0}),Oe.success("Propiedad publicada con xito!"),me({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,pool:!1,gym:!1,security:!1,exchangeRate:3.8}),F([]),be([]),_(null),hi()}catch(je){console.error("Error adding property: ",je),Oe.error("Hubo un error al publicar la propiedad.")}finally{s(!1)}};D.useEffect(()=>{if(e?.role!=="superadmin")return;(async()=>{try{const je=Ds(yn(Xe,"activation_codes"),xa("code","==","AGENT2024"));(await ir(je)).empty&&await Dl(yn(Xe,"activation_codes"),{code:"AGENT2024",used:!1,createdAt:new Date,type:"standard"})}catch{console.debug("Skipping code creation (not authorized)")}})()},[e]);const Ft=e?.isActivated;return f.jsxs("div",{className:"min-h-screen bg-gray-50 pt-28 pb-12 px-6",children:[f.jsxs("div",{className:"container mx-auto max-w-6xl",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold font-[Montserrat] text-gray-800 mb-6",children:"Panel de Agente"}),f.jsxs("div",{className:"flex flex-wrap gap-4 border-b border-gray-200",children:[f.jsx("button",{onClick:()=>v("properties"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="properties"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mis Propiedades"}),f.jsx("button",{onClick:()=>v("inquiries"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="inquiries"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Visitas Agendadas"}),f.jsx("button",{onClick:()=>v("tips"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="tips"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tips Inmobiliarios"}),f.jsx("button",{onClick:()=>v("profile"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="profile"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mi Perfil"})]})]}),Ft?f.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[p==="properties"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 h-fit",children:[f.jsx("div",{className:"bg-[#16151a] p-6 text-white",children:f.jsx("h2",{className:"text-xl font-bold",children:h?"Editar Propiedad":"Nueva Propiedad"})}),f.jsxs("form",{onSubmit:Fn,className:"p-8 space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),f.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none uppercase",placeholder:"Ej: Departamento en Miraflores",value:W.title,onChange:X=>me({...W,title:X.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),f.jsxs("div",{className:"flex",children:[f.jsxs("select",{className:"w-24 px-2 py-3 rounded-l-lg border border-r-0 border-gray-200 bg-gray-50 text-sm font-bold",value:W.currency,onChange:X=>me({...W,currency:X.target.value}),children:[f.jsx("option",{value:"USD",children:"USD"}),f.jsx("option",{value:"PEN",children:"PEN"})]}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-r-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"0.00",value:W.price,onChange:X=>me({...W,price:X.target.value})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operacin"}),f.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:W.type,onChange:X=>me({...W,type:X.target.value}),children:[f.jsx("option",{value:"venta",children:"Venta"}),f.jsx("option",{value:"alquiler",children:"Alquiler"}),f.jsx("option",{value:"alquiler",children:"Anticresis"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),f.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:W.category,onChange:X=>me({...W,category:X.target.value}),children:[f.jsx("option",{value:"construido",children:"Construido"}),f.jsx("option",{value:"terreno",children:"Terreno"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metraje (m)"}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"120",value:W.footage,onChange:X=>me({...W,footage:X.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Antigedad"}),f.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:W.antiquity,onChange:X=>me({...W,antiquity:X.target.value}),children:[f.jsx("option",{value:"estreno",children:"Estreno"}),f.jsx("option",{value:"preventa",children:"Pre-Venta"}),f.jsx("option",{value:"up_to_5",children:"Hasta 5 aos"}),f.jsx("option",{value:"5_to_10",children:"5 a 10 aos"}),f.jsx("option",{value:"more_than_10",children:"Ms de 10 aos"}),f.jsx("option",{value:"more_than_20",children:"Ms de 20 aos"})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-8",children:[f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:W.isExclusive,onChange:X=>me({...W,isExclusive:X.target.checked})}),f.jsx("span",{className:"font-bold text-[#fc7f51]",children:"Es Exclusiva?"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:W.parking,onChange:X=>me({...W,parking:X.target.checked})}),f.jsx("span",{className:"font-medium text-gray-700",children:"Tiene Cochera"})]}),W.category==="construido"&&f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:W.isInBuilding,onChange:X=>me({...W,isInBuilding:X.target.checked})}),f.jsx("span",{className:"font-medium text-gray-700",children:"Es Edificio / Departamento"})]})]})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-3 uppercase tracking-wider",children:"Caractersticas Adicionales"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.elevator,onChange:X=>me({...W,elevator:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Ascensor"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.furnished,onChange:X=>me({...W,furnished:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amoblado"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.pool,onChange:X=>me({...W,pool:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Piscina"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.gym,onChange:X=>me({...W,gym:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Gimnasio"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.security,onChange:X=>me({...W,security:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Seguridad 24/7"})]})]})]}),W.category==="construido"&&f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaciones"}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:W.bedrooms,onChange:X=>me({...W,bedrooms:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Baos"}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:W.bathrooms,onChange:X=>me({...W,bathrooms:X.target.value})})]})]}),W.category==="construido"&&W.isInBuilding&&f.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-orange-50 p-4 rounded-xl border border-orange-100",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piso"}),f.jsx("input",{type:"text",placeholder:"Ej. 5",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:W.floor,onChange:X=>me({...W,floor:X.target.value})})]}),f.jsx("div",{className:"flex items-center pt-8",children:f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:W.isDuplex,onChange:X=>me({...W,isDuplex:X.target.checked})}),f.jsx("span",{className:"font-medium text-gray-700",children:"Es Dplex?"})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-grow",children:[f.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),f.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition uppercase",placeholder:"Direccin o Link Maps",value:W.location,onChange:async X=>{const je=X.target.value;let ze=null,Be=null;const dt=je.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(dt)ze=parseFloat(dt[1]),Be=parseFloat(dt[2]);else{const We=je.match(/[?&](?:q|query|ll)=(-?\d+\.\d+),(-?\d+\.\d+)/);if(We)ze=parseFloat(We[1]),Be=parseFloat(We[2]);else{const rn=je.match(/^(-?\d+\.\d+),\s*(-?\d+\.\d+)$/);rn&&(ze=parseFloat(rn[1]),Be=parseFloat(rn[2]))}}if(me(We=>({...We,location:je,...ze&&Be?{lat:ze,lng:Be}:{}})),ze&&Be)try{const rn=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ze}&lon=${Be}`)).json();rn&&rn.display_name?(me(Ni=>({...Ni,location:rn.display_name,lat:ze,lng:Be})),Oe.success("Direccin detectada automticamente.")):Oe.success("Coordenadas detectadas del enlace!")}catch(We){console.error("Geocoding error:",We),Oe.success("Coordenadas detectadas del enlace!")}}})]}),f.jsx("button",{type:"button",onClick:()=>c(!0),className:"bg-[#262626] text-white px-4 rounded-lg hover:bg-black transition flex items-center justify-center",title:"Buscar en Mapa",children:f.jsx(qr,{className:"w-5 h-5"})})]})]}),o&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-[600px] flex flex-col overflow-hidden relative",children:[f.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Seleccionar Ubicacin"}),f.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(jr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"flex-grow p-0",children:f.jsx(V6,{onConfirm:X=>{me({...W,location:X.address||`${X.lat}, ${X.lng}`,lat:X.lat,lng:X.lng}),c(!1)}})})]})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),f.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-24 resize-none",value:W.description,onChange:X=>me({...W,description:X.target.value})})]}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[f.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Zr,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),f.jsx($g,{className:"h-6 w-6 text-[#fc7f51] mx-auto mb-2"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Subir fotos"})]}),Se.length>0&&f.jsx("div",{className:"grid grid-cols-4 gap-2",children:Se.map((X,je)=>f.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[f.jsx("img",{src:X,alt:"",className:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>Da(je),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5",children:f.jsx(jr,{className:"w-3 h-3"})})]},je))}),f.jsxs("div",{className:"flex gap-2",children:[h&&f.jsx("button",{type:"button",onClick:en,className:"flex-1 bg-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2",children:t?f.jsx(eu,{className:"animate-spin"}):h?"Actualizar Propiedad":"Publicar Propiedad"})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Propiedades"}),f.jsxs("span",{className:"bg-orange-100 text-[#fc7f51] px-3 py-1 rounded-full text-sm font-bold",children:[ae.length," Total"]})]}),ee?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx(eu,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):ae.length===0?f.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No has publicado ninguna propiedad an."}):f.jsx("div",{className:"grid gap-4",children:ae.map(X=>f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"w-full sm:w-24 h-48 sm:h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:f.jsx("img",{src:X.images?.[0]||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Sin+Img",alt:X.title,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-grow",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:X.title}),f.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${X.status==="disponible"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:X.status})]}),f.jsx("p",{className:"text-gray-500 text-xs mt-1",children:X.location}),f.jsxs("p",{className:"text-[#fc7f51] font-bold text-sm mt-1",children:[X.currency==="USD"?"$":"S/."," ",X.price?.toLocaleString("en-US",{maximumFractionDigits:0})]}),f.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[f.jsx("button",{onClick:()=>Bs(X.id,X.status),className:`tx-xs px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 sm:flex-none text-center ${X.status==="disponible"?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:X.status==="disponible"?"Marcar Vendido/Alquilado":"Marcar Disponible"}),f.jsx("button",{onClick:()=>Xn(X),className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-100 transition flex-1 sm:flex-none",children:"Editar"}),f.jsx("button",{onClick:()=>dr(X),className:"bg-purple-50 text-purple-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-purple-100 transition flex-1 sm:flex-none",title:"Gestionar horarios de visita",children:f.jsx(Jc,{className:"w-4 h-4 mx-auto"})}),f.jsx("button",{onClick:()=>Qt(X.id),className:"bg-red-50 text-red-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-red-100 transition flex-1 sm:flex-none",children:f.jsx(jy,{className:"w-4 h-4 mx-auto"})})]})]})]},X.id))})]})]}),p==="profile"&&f.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[f.jsx(Rd,{className:"w-6 h-6 text-[#fc7f51]"})," Editar Perfil"]}),f.jsxs("form",{onSubmit:ka,className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col items-center mb-6",children:[f.jsxs("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 border-2 border-white shadow-md relative group",children:[f.jsx("img",{src:xe?URL.createObjectURL(xe):j.photoURL||n.photoURL||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Perfil",alt:"Profile",className:"w-full h-full object-cover"}),f.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer transition",children:[f.jsx($g,{className:"w-6 h-6 text-white"}),f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:X=>X.target.files?.[0]&&Ce(X.target.files[0])})]})]}),f.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Click para cambiar foto"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Publico"}),f.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.displayName,onChange:X=>z({...j,displayName:X.target.value}),required:!0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este nombre aparecer en todas tus propiedades publicadas."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.email,onChange:X=>z({...j,email:X.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),f.jsx("input",{type:"tel",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.phoneNumber,onChange:X=>z({...j,phoneNumber:X.target.value})})]}),f.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea (Opcional)"}),f.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Dejar vaca para mantener la actual",value:j.newPassword||"",onChange:X=>z({...j,newPassword:X.target.value})}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres."})]}),f.jsx("button",{type:"submit",disabled:k,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-xl hover:bg-[#e56b3e] transition disabled:opacity-70",children:k?"Guardando...":"Guardar Cambios"})]})]}),p==="inquiries"&&f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Visitas Agendadas"}),fe.length===0?f.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No tienes visitas programadas."}):f.jsx("div",{className:"space-y-4",children:fe.map(X=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg uppercase",children:X.propertyTitle}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(Rd,{className:"w-4 h-4 text-[#fc7f51]"}),f.jsx("span",{className:"font-medium text-gray-700",children:X.clientName})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-500",children:[f.jsx(X_,{className:"w-3 h-3"})," ",X.clientPhone]})]}),f.jsxs("div",{className:"text-left sm:text-right bg-orange-50 px-4 py-2 rounded-lg border border-orange-100 w-full sm:w-auto",children:[f.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:"Fecha de Visita"}),f.jsx("div",{className:"font-bold text-[#fc7f51] text-lg",children:X.visitDate?new Date(X.visitDate+"T00:00:00").toLocaleDateString("es-PE"):"Por definir"}),f.jsx("div",{className:"text-sm font-medium text-gray-700",children:X.visitTime||"Hora por definir"})]})]},X.id))})]}),p==="tips"&&f.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsx("div",{className:"md:col-span-1",children:f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-24",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:I?"Editar Tip":"Nuevo Tip"}),f.jsxs("form",{onSubmit:Gr,className:"space-y-4",children:[f.jsx("input",{type:"text",placeholder:"Ttulo del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:ne.title,onChange:X=>te({...ne,title:X.target.value}),required:!0}),f.jsx("textarea",{placeholder:"Contenido del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-32 resize-none",value:ne.content,onChange:X=>te({...ne,content:X.target.value}),required:!0}),f.jsxs("div",{className:"border border-dashed border-gray-200 rounded-lg p-4 text-center cursor-pointer relative hover:bg-gray-50 transition group",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:X=>X.target.files?.[0]&&q(X.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer z-10 w-full h-full"}),ye?f.jsxs("div",{className:"relative z-0",children:[f.jsx("span",{className:"text-sm text-green-600 block mb-1 font-medium",children:"Imagen seleccionada"}),f.jsx("p",{className:"text-xs text-gray-500 truncate",children:ye.name})]}):f.jsxs("div",{className:"relative z-0",children:[f.jsx($g,{className:"w-6 h-6 text-gray-400 mx-auto mb-2 group-hover:text-[#fc7f51] transition"}),f.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Click para subir imagen (Opcional)"})]})]}),f.jsx("button",{type:"submit",disabled:$,className:"w-full bg-[#fc7f51] text-white font-bold py-2 rounded-lg hover:bg-[#e56b3e] transition",children:I?"Actualizar":"Publicar"}),I&&f.jsx("button",{type:"button",onClick:()=>{Z(null),te({title:"",content:""})},className:"w-full bg-gray-100 text-gray-600 font-bold py-2 rounded-lg hover:bg-gray-200 transition",children:"Cancelar"})]})]})}),f.jsxs("div",{className:"md:col-span-2 space-y-4",children:[f.jsxs("h3",{className:"font-bold text-gray-800 mb-4",children:["Tips Publicados (",B.length,")"]}),B.length===0?f.jsx("p",{className:"text-gray-500 text-center py-10",children:"No has publicado tips an."}):B.map(X=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative group",children:[X.imageUrl&&f.jsx("div",{className:"h-40 w-full mb-4 rounded-lg overflow-hidden bg-gray-100 border border-gray-50",children:f.jsx("img",{src:X.imageUrl,alt:X.title,className:"w-full h-full object-cover"})}),f.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:X.title}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:X.content}),f.jsx("div",{className:"text-xs text-gray-400",children:X.createdAt?.seconds?new Date(X.createdAt.seconds*1e3).toLocaleDateString():"Reciente"}),f.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[f.jsx("button",{onClick:()=>Us(X),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:f.jsx(RD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Cn(X.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:f.jsx(jy,{className:"w-4 h-4"})})]})]},X.id))]})]})]}):f.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:f.jsx(GD,{className:"w-8 h-8 text-[#fc7f51]"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cuenta Inactiva"}),f.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Ingresa tu cdigo de activacin para acceder al panel."}),f.jsxs("form",{onSubmit:Ai,className:"w-full space-y-4",children:[f.jsx("input",{type:"text",value:w,onChange:X=>E(X.target.value.toUpperCase()),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition text-center font-mono text-lg tracking-widest uppercase",placeholder:"CDIGO",required:!0}),f.jsx("button",{type:"submit",disabled:C,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition disabled:opacity-70",children:C?"Verificando...":"Activar Cuenta"})]})]})]}),Ae&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden relative",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Gestionar Horarios de Visita"}),f.jsx("p",{className:"text-sm text-gray-500 mt-1 uppercase",children:$i})]}),f.jsx("button",{onClick:()=>He(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(jr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"flex gap-2 items-end",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Fecha"}),f.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none text-sm",value:Qn,onChange:X=>_s(X.target.value)})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Hora"}),f.jsx("input",{type:"time",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none text-sm",value:Si,onChange:X=>Zi(X.target.value)})]}),f.jsx("button",{onClick:Ki,className:"bg-[#fc7f51] text-white px-4 py-2 rounded-lg hover:bg-[#e56b3e] transition font-bold text-sm",children:f.jsx(rO,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:jn.length===0?f.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"No hay horarios disponibles. Agrega fechas y horas."}):jn.sort((X,je)=>new Date(X.date+"T"+X.time)-new Date(je.date+"T"+je.time)).map(X=>f.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-2.5 rounded-lg border border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Jc,{className:"w-4 h-4 text-[#fc7f51]"}),f.jsx("span",{className:"font-medium text-gray-700 text-sm",children:new Date(X.date+"T00:00:00").toLocaleDateString("es-PE",{weekday:"short",day:"numeric",month:"short"})}),f.jsxs("span",{className:"text-gray-500 text-sm flex items-center gap-1",children:[f.jsx(Zf,{className:"w-3 h-3"})," ",X.time]})]}),f.jsx("button",{onClick:()=>Ko(X.id),className:"text-red-400 hover:text-red-600 transition",children:f.jsx(jr,{className:"w-4 h-4"})})]},X.id))}),f.jsxs("button",{onClick:$r,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-lg hover:bg-[#e56b3e] transition",children:["Guardar Horarios (",jn.length,")"]})]})]})})]})},U6=()=>{const{user:n}=La(),[e,t]=D.useState([]),[s,o]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const h=Ds(yn(Xe,"properties")),p=(await ir(h)).docs.map(v=>({id:v.id,...v.data()}));console.log("ClientDashboard Fetched properties:",p),t(p)}catch(h){console.error("Error fetching properties:",h)}finally{o(!1)}})()},[n]),f.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:f.jsxs("div",{className:"container mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:["Hola, ",n?.displayName||"Usuario"]}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Bienvenido a tu panel personal. Aqu encontrars las propiedades que te interesan."})]}),f.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1",children:[f.jsx("button",{className:"px-4 py-2 text-[#fc7f51] border-b-2 border-[#fc7f51] font-bold",children:"Mis Favoritos"}),f.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Vistos Recientemente"}),f.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Alertas"})]}),s?f.jsx("div",{className:"flex justify-center py-20",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#fc7f51]"})}):e.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden group border border-gray-100",children:[f.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[f.jsx("img",{src:c.images?.[0]||"https://images.unsplash.com/photo-1600596542815-9ad4dc2f2072?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),f.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500",children:f.jsx(Yf,{className:"w-5 h-5 fill-current"})}),f.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider",children:c.type})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:c.title}),f.jsxs("span",{className:"text-[#fc7f51] font-bold text-lg",children:[c.currency==="USD"?"$":"S/."," ",c.price?.toLocaleString("en-US",{maximumFractionDigits:0})]})]}),f.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.location}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-4",children:[c.category==="construido"?f.jsxs(f.Fragment,{children:[f.jsxs("span",{children:[c.bedrooms," Hab"]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[c.bathrooms," Baos"]}),f.jsx("span",{children:""})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{children:"Terreno"}),f.jsx("span",{children:""})]}),f.jsxs("span",{children:[c.footage," m"]})]}),f.jsx(bt,{to:`/properties/${c.id}`,className:"mt-4 block w-full py-3 bg-gray-50 hover:bg-[#fc7f51] hover:text-white text-gray-600 font-bold text-center rounded-xl transition text-sm",children:"Ver Detalles"})]})]},c.id))}):f.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[f.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(Yf,{className:"w-8 h-8 text-[#fc7f51]"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"An no tienes favoritos"}),f.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explora nuestro catlogo y guarda las propiedades que ms te gusten para verlas aqu."}),f.jsxs(bt,{to:"/",className:"inline-flex items-center gap-2 bg-[#fc7f51] text-white px-8 py-3 rounded-full font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:[f.jsx(Zl,{className:"w-5 h-5"}),"Explorar Propiedades"]})]})]})})},B6=()=>{const[n,e]=D.useState({totalAgents:0,totalProperties:0,activeCodes:0}),[t,s]=D.useState([]),[o,c]=D.useState(!0),[h,_]=D.useState(!1),[p,v]=D.useState(null),[w,E]=D.useState([]),[C,R]=D.useState(!1),[j,z]=D.useState(!1),k=async()=>{try{const te=Ds(yn(Xe,"users"),xa("role","==","agente")),ye=await Hw(te),q=await Hw(yn(Xe,"properties")),I=Ds(yn(Xe,"activation_codes"),H_("createdAt","desc")),$=(await ir(I)).docs.map(H=>({id:H.id,...H.data()}));s($),e({totalAgents:ye.data().count,totalProperties:q.data().count,activeCodes:$.filter(H=>!H.used).length})}catch(te){console.error("Error fetching admin stats:",te),Oe.error("Error al cargar estadsticas")}finally{c(!1)}};D.useEffect(()=>{k()},[]);const V=async()=>{_(!0);try{const te="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ye="";for(let q=0;q<8;q++)ye+=te.charAt(Math.floor(Math.random()*te.length));await Dl(yn(Xe,"activation_codes"),{code:ye,used:!1,createdAt:new Date,usedBy:null,usedAt:null}),Oe.success("Cdigo generado correctamente!"),k()}catch(te){console.error("Error generating code:",te),Oe.error("No se pudo generar el cdigo")}finally{_(!1)}},B=te=>{navigator.clipboard.writeText(te),Oe.success("Cdigo copiado al portapapeles")},G=async te=>{if(te){R(!0),z(!0),E([]);try{const ye=await Lo(Yt(Xe,"users",te));if(ye.exists())v({id:ye.id,...ye.data()});else{v(null),Oe.error("Usuario no encontrado (probablemente ya eliminado).");return}const q=Ds(yn(Xe,"properties"),xa("agentId","==",te)),Z=(await ir(q)).docs.map($=>({id:$.id,...$.data()}));E(Z)}catch(ye){console.error("Error details:",ye),Oe.error("Error al cargar detalles")}finally{R(!1)}}},ne=async()=>{if(!(!p||!window.confirm(`Ests seguro de que quieres eliminar a ${p.displayName||"este usuario"} y todas sus propiedades? Esta accin no se puede deshacer.`)))try{const te=w.map(ye=>Gf(Yt(Xe,"properties",ye.id)));await Promise.all(te),await Gf(Yt(Xe,"users",p.id)),Oe.success("Usuario y sus propiedades eliminados."),z(!1),k()}catch(te){console.error("Error deleting user:",te),Oe.error("Error al eliminar usuario.")}};return o?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(Gg,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):f.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:[f.jsxs("div",{className:"container mx-auto max-w-6xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:"Panel Super Admin"}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Gestin general de la plataforma"})]}),f.jsx("button",{onClick:k,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition shadow-sm",children:f.jsx(Gg,{className:"w-5 h-5 text-gray-500"})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[f.jsx("div",{className:"bg-orange-50 p-4 rounded-xl",children:f.jsx(jS,{className:"w-8 h-8 text-[#fc7f51]"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Agentes Registrados"}),f.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalAgents})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[f.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:f.jsx(IS,{className:"w-8 h-8 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Inmuebles Publicados"}),f.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalProperties})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[f.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:f.jsx(gd,{className:"w-8 h-8 text-green-500"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Cdigos Disponibles"}),f.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.activeCodes})]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[f.jsxs("div",{className:"p-8 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cdigos de Activacin"}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Genera cdigos nicos para activar cuentas de agentes."})]}),f.jsxs("button",{onClick:V,disabled:h,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/20 transition flex items-center gap-2 disabled:opacity-70",children:[h?f.jsx(Gg,{className:"w-5 h-5 animate-spin"}):f.jsx(gd,{className:"w-5 h-5"}),"Generar Nuevo Cdigo"]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CDIGO"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ESTADO"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CREADO EL"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"USADO POR"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ACCIONES"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-50",children:t.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:"5",className:"px-8 py-8 text-center text-gray-400",children:"No hay cdigos generados an."})}):t.map(te=>f.jsxs("tr",{className:"hover:bg-gray-50/50 transition",children:[f.jsx("td",{className:"px-8 py-4",children:f.jsx("span",{className:"font-mono font-bold text-lg text-gray-700 tracking-wider",children:te.code})}),f.jsx("td",{className:"px-8 py-4",children:te.used?f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Usado"}):f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Disponible"})}),f.jsx("td",{className:"px-8 py-4 text-sm text-gray-500",children:te.createdAt?.toDate().toLocaleDateString()}),f.jsx("td",{className:"px-8 py-4 text-sm text-gray-500 relative group cursor-pointer",onClick:()=>te.usedBy&&G(te.usedBy),children:te.usedBy?f.jsxs("div",{className:"flex items-center gap-2 hover:text-[#fc7f51] transition",children:[f.jsx("span",{children:te.usedBy}),f.jsx(Kf,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}):"-"}),f.jsx("td",{className:"px-8 py-4",children:te.used?f.jsx("button",{onClick:()=>G(te.usedBy),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition",title:"Ver Detalles",children:f.jsx(Kf,{className:"w-5 h-5"})}):f.jsx("button",{onClick:()=>B(te.code),className:"text-[#fc7f51] hover:text-[#e56b3e] p-2 hover:bg-orange-50 rounded-lg transition",title:"Copiar cdigo",children:f.jsx(bD,{className:"w-5 h-5"})})})]},te.id))})]})})]})]}),j&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Detalles del Agente"}),f.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-gray-200 rounded-full transition",children:f.jsx(jr,{className:"w-5 h-5 text-gray-500"})})]}),f.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:C?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx(eu,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):p?f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-bold text-gray-800",children:p.displayName||"Sin Nombre"}),f.jsx("p",{className:"text-gray-500",children:p.email}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:p.phoneNumber||"Sin Telfono"}),f.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-orange-100 text-[#fc7f51] text-xs font-bold rounded-lg uppercase",children:p.role})]}),f.jsxs("button",{onClick:ne,className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition",children:[f.jsx(jy,{className:"w-4 h-4"}),"Eliminar Usuario"]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:["Propiedades Publicadas (",w.length,")"]}),w.length===0?f.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Este usuario no tiene propiedades."}):f.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map(te=>f.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex gap-3 hover:bg-gray-50 transition",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:te.images?.[0]&&f.jsx("img",{src:te.images[0],className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:te.title}),f.jsx("p",{className:"text-xs text-gray-500 truncate",children:te.location}),f.jsxs("p",{className:"text-[#fc7f51] font-bold text-xs mt-1",children:["$",te.price?.toLocaleString()]})]})]},te.id))})]})]}):f.jsx("p",{className:"text-center text-red-500",children:"No se pudo cargar la informacin."})})]})})]})},q6=()=>{const{user:n}=La(),[e,t]=D.useState(!1),s=async()=>{t(!0);try{const c=[{title:"Modern Apartment in Downtown",price:25e4,location:"Downtown City Center",type:"venta",category:"construido",bedrooms:2,bathrooms:2,footage:85,description:"Stunning view of the city.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"]},{title:"Cozy Family Home",price:1500,location:"Suburban Area",type:"alquiler",category:"construido",bedrooms:3,bathrooms:2,footage:120,description:"Ideal for a small family.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1560184897-ae75f418493e"]}];for(const h of c)await Dl(yn(Xe,"properties"),h);Oe.success("Propiedades de demostracin creadas!")}catch(c){console.error("Error creating demo props:",c),Oe.error("Error al crear propiedades demo")}finally{t(!1)}},o=async()=>{if(!n){Oe.error("Debes iniciar sesin primero.");return}t(!0);try{const c=Yt(Xe,"users",n.uid);await Ir(c,{role:"superadmin",isActivated:!0}),Oe.success(`Rol actualizado! Ahora eres Super Admin: ${n.email}`),setTimeout(()=>window.location.reload(),1500)}catch(c){console.error("Error making superadmin:",c),Oe.error("Error al actualizar rol")}finally{t(!1)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 space-y-8",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg border border-gray-100 text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Configuracin Inicial"}),f.jsx("p",{className:"text-gray-500 mb-8",children:"Usa estas herramientas para inicializar tu base de datos."}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"1. Configurar Admin"}),f.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Convierte tu usuario actual (",n?.email||"No logueado",") en Super Admin."]}),f.jsx("button",{onClick:o,disabled:e||!n,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Hacerme Super Admin"})]}),f.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"2. Datos de Prueba"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crea propiedades de ejemplo para ver cmo luce el dashboard."}),f.jsx("button",{onClick:s,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Crear Propiedades Demo"})]})]}),f.jsx("p",{className:"mt-8 text-xs text-gray-400",children:"Nota: Esta pgina debe ser eliminada o asegurada antes de produccin."})]})})};function H6(){const e=zs().pathname==="/superadmin";return f.jsx(H4,{children:f.jsxs("div",{className:"flex flex-col min-h-screen",children:[!e&&f.jsx(u6,{}),f.jsx("main",{className:"flex-grow",children:f.jsxs(NN,{children:[f.jsx(oi,{path:"/",element:f.jsx(IO,{})}),f.jsx(oi,{path:"/about",element:f.jsx(l6,{})}),f.jsx(oi,{path:"/contact",element:f.jsx(h6,{})}),f.jsx(oi,{path:"/properties",element:f.jsx(l1,{})}),f.jsx(oi,{path:"/properties/:id",element:f.jsx(o6,{})}),f.jsx(oi,{path:"/search",element:f.jsx(l1,{})}),f.jsx(oi,{path:"/tips",element:f.jsx(f6,{})}),f.jsx(oi,{path:"/tips/:id",element:f.jsx(m6,{})}),f.jsx(oi,{path:"/login",element:f.jsx(p6,{})}),f.jsx(oi,{path:"/register",element:f.jsx(g6,{})}),f.jsx(oi,{path:"/forgot-password",element:f.jsx(y6,{})}),f.jsx(oi,{path:"/setup",element:f.jsx(q6,{})}),f.jsx(oi,{path:"/agent-dashboard",element:f.jsx(Fg,{allowedRoles:["agente"],children:f.jsx(z6,{})})}),f.jsx(oi,{path:"/client-dashboard",element:f.jsx(Fg,{allowedRoles:["cliente"],children:f.jsx(U6,{})})}),f.jsx(oi,{path:"/superadmin",element:f.jsx(Fg,{allowedRoles:["superadmin"],children:f.jsx(B6,{})})})]})}),!e&&f.jsx(d6,{})]})})}IA.createRoot(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(XN,{children:f.jsx(H6,{})})}));
