(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Hw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var og={exports:{}},qu={};var Mb;function K2(){if(Mb)return qu;Mb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var _ in o)_!=="key"&&(c[_]=o[_])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:d,ref:o!==void 0?o:null,props:c}}return qu.Fragment=e,qu.jsx=t,qu.jsxs=t,qu}var Lb;function W2(){return Lb||(Lb=1,og.exports=K2()),og.exports}var y=W2(),lg={exports:{}},We={};var Ob;function Q2(){if(Ob)return We;Ob=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),N=Symbol.iterator;function R(Y){return Y===null||typeof Y!="object"?null:(Y=N&&Y[N]||Y["@@iterator"],typeof Y=="function"?Y:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,D={};function O(Y,ue,xe){this.props=Y,this.context=ue,this.refs=D,this.updater=xe||j}O.prototype.isReactComponent={},O.prototype.setState=function(Y,ue){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ue,"setState")},O.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function B(){}B.prototype=O.prototype;function Z(Y,ue,xe){this.props=Y,this.context=ue,this.refs=D,this.updater=xe||j}var J=Z.prototype=new B;J.constructor=Z,V(J,O.prototype),J.isPureReactComponent=!0;var ee=Array.isArray;function me(){}var z={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function F(Y,ue,xe){var Ee=xe.ref;return{$$typeof:n,type:Y,key:ue,ref:Ee!==void 0?Ee:null,props:xe}}function G(Y,ue){return F(Y.type,ue,Y.props)}function U(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function $(Y){var ue={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(xe){return ue[xe]})}var q=/\/+/g;function pe(Y,ue){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):ue.toString(36)}function Le(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(me,me):(Y.status="pending",Y.then(function(ue){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ue)},function(ue){Y.status==="pending"&&(Y.status="rejected",Y.reason=ue)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ae(Y,ue,xe,Ee,Ne){var Re=typeof Y;(Re==="undefined"||Re==="boolean")&&(Y=null);var Ge=!1;if(Y===null)Ge=!0;else switch(Re){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(Y.$$typeof){case n:case e:Ge=!0;break;case w:return Ge=Y._init,ae(Ge(Y._payload),ue,xe,Ee,Ne)}}if(Ge)return Ne=Ne(Y),Ge=Ee===""?"."+pe(Y,0):Ee,ee(Ne)?(xe="",Ge!=null&&(xe=Ge.replace(q,"$&/")+"/"),ae(Ne,ue,xe,"",function(ji){return ji})):Ne!=null&&(U(Ne)&&(Ne=G(Ne,xe+(Ne.key==null||Y&&Y.key===Ne.key?"":(""+Ne.key).replace(q,"$&/")+"/")+Ge)),ue.push(Ne)),1;Ge=0;var At=Ee===""?".":Ee+":";if(ee(Y))for(var Ct=0;Ct<Y.length;Ct++)Ee=Y[Ct],Re=At+pe(Ee,Ct),Ge+=ae(Ee,ue,xe,Re,Ne);else if(Ct=R(Y),typeof Ct=="function")for(Y=Ct.call(Y),Ct=0;!(Ee=Y.next()).done;)Ee=Ee.value,Re=At+pe(Ee,Ct++),Ge+=ae(Ee,ue,xe,Re,Ne);else if(Re==="object"){if(typeof Y.then=="function")return ae(Le(Y),ue,xe,Ee,Ne);throw ue=String(Y),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function Te(Y,ue,xe){if(Y==null)return Y;var Ee=[],Ne=0;return ae(Y,Ee,"","",function(Re){return ue.call(xe,Re,Ne++)}),Ee}function Q(Y){if(Y._status===-1){var ue=Y._result;ue=ue(),ue.then(function(xe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=xe)},function(xe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=xe)}),Y._status===-1&&(Y._status=0,Y._result=ue)}if(Y._status===1)return Y._result.default;throw Y._result}var Ae=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},we={map:Te,forEach:function(Y,ue,xe){Te(Y,function(){ue.apply(this,arguments)},xe)},count:function(Y){var ue=0;return Te(Y,function(){ue++}),ue},toArray:function(Y){return Te(Y,function(ue){return ue})||[]},only:function(Y){if(!U(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return We.Activity=T,We.Children=we,We.Component=O,We.Fragment=t,We.Profiler=o,We.PureComponent=Z,We.StrictMode=s,We.Suspense=m,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,We.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return z.H.useMemoCache(Y)}},We.cache=function(Y){return function(){return Y.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(Y,ue,xe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Ee=V({},Y.props),Ne=Y.key;if(ue!=null)for(Re in ue.key!==void 0&&(Ne=""+ue.key),ue)!I.call(ue,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ue.ref===void 0||(Ee[Re]=ue[Re]);var Re=arguments.length-2;if(Re===1)Ee.children=xe;else if(1<Re){for(var Ge=Array(Re),At=0;At<Re;At++)Ge[At]=arguments[At+2];Ee.children=Ge}return F(Y.type,Ne,Ee)},We.createContext=function(Y){return Y={$$typeof:d,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:c,_context:Y},Y},We.createElement=function(Y,ue,xe){var Ee,Ne={},Re=null;if(ue!=null)for(Ee in ue.key!==void 0&&(Re=""+ue.key),ue)I.call(ue,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Ne[Ee]=ue[Ee]);var Ge=arguments.length-2;if(Ge===1)Ne.children=xe;else if(1<Ge){for(var At=Array(Ge),Ct=0;Ct<Ge;Ct++)At[Ct]=arguments[Ct+2];Ne.children=At}if(Y&&Y.defaultProps)for(Ee in Ge=Y.defaultProps,Ge)Ne[Ee]===void 0&&(Ne[Ee]=Ge[Ee]);return F(Y,Re,Ne)},We.createRef=function(){return{current:null}},We.forwardRef=function(Y){return{$$typeof:_,render:Y}},We.isValidElement=U,We.lazy=function(Y){return{$$typeof:w,_payload:{_status:-1,_result:Y},_init:Q}},We.memo=function(Y,ue){return{$$typeof:v,type:Y,compare:ue===void 0?null:ue}},We.startTransition=function(Y){var ue=z.T,xe={};z.T=xe;try{var Ee=Y(),Ne=z.S;Ne!==null&&Ne(xe,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(me,Ae)}catch(Re){Ae(Re)}finally{ue!==null&&xe.types!==null&&(ue.types=xe.types),z.T=ue}},We.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},We.use=function(Y){return z.H.use(Y)},We.useActionState=function(Y,ue,xe){return z.H.useActionState(Y,ue,xe)},We.useCallback=function(Y,ue){return z.H.useCallback(Y,ue)},We.useContext=function(Y){return z.H.useContext(Y)},We.useDebugValue=function(){},We.useDeferredValue=function(Y,ue){return z.H.useDeferredValue(Y,ue)},We.useEffect=function(Y,ue){return z.H.useEffect(Y,ue)},We.useEffectEvent=function(Y){return z.H.useEffectEvent(Y)},We.useId=function(){return z.H.useId()},We.useImperativeHandle=function(Y,ue,xe){return z.H.useImperativeHandle(Y,ue,xe)},We.useInsertionEffect=function(Y,ue){return z.H.useInsertionEffect(Y,ue)},We.useLayoutEffect=function(Y,ue){return z.H.useLayoutEffect(Y,ue)},We.useMemo=function(Y,ue){return z.H.useMemo(Y,ue)},We.useOptimistic=function(Y,ue){return z.H.useOptimistic(Y,ue)},We.useReducer=function(Y,ue,xe){return z.H.useReducer(Y,ue,xe)},We.useRef=function(Y){return z.H.useRef(Y)},We.useState=function(Y){return z.H.useState(Y)},We.useSyncExternalStore=function(Y,ue,xe){return z.H.useSyncExternalStore(Y,ue,xe)},We.useTransition=function(){return z.H.useTransition()},We.version="19.2.4",We}var Db;function x_(){return Db||(Db=1,lg.exports=Q2()),lg.exports}var H=x_();const an=Hw(H);var cg={exports:{}},Fu={},ug={exports:{}},hg={};var kb;function X2(){return kb||(kb=1,(function(n){function e(ae,Te){var Q=ae.length;ae.push(Te);e:for(;0<Q;){var Ae=Q-1>>>1,we=ae[Ae];if(0<o(we,Te))ae[Ae]=Te,ae[Q]=we,Q=Ae;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var Te=ae[0],Q=ae.pop();if(Q!==Te){ae[0]=Q;e:for(var Ae=0,we=ae.length,Y=we>>>1;Ae<Y;){var ue=2*(Ae+1)-1,xe=ae[ue],Ee=ue+1,Ne=ae[Ee];if(0>o(xe,Q))Ee<we&&0>o(Ne,xe)?(ae[Ae]=Ne,ae[Ee]=Q,Ae=Ee):(ae[Ae]=xe,ae[ue]=Q,Ae=ue);else if(Ee<we&&0>o(Ne,Q))ae[Ae]=Ne,ae[Ee]=Q,Ae=Ee;else break e}}return Te}function o(ae,Te){var Q=ae.sortIndex-Te.sortIndex;return Q!==0?Q:ae.id-Te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();n.unstable_now=function(){return d.now()-_}}var m=[],v=[],w=1,T=null,N=3,R=!1,j=!1,V=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function J(ae){for(var Te=t(v);Te!==null;){if(Te.callback===null)s(v);else if(Te.startTime<=ae)s(v),Te.sortIndex=Te.expirationTime,e(m,Te);else break;Te=t(v)}}function ee(ae){if(V=!1,J(ae),!j)if(t(m)!==null)j=!0,me||(me=!0,$());else{var Te=t(v);Te!==null&&Le(ee,Te.startTime-ae)}}var me=!1,z=-1,I=5,F=-1;function G(){return D?!0:!(n.unstable_now()-F<I)}function U(){if(D=!1,me){var ae=n.unstable_now();F=ae;var Te=!0;try{e:{j=!1,V&&(V=!1,B(z),z=-1),R=!0;var Q=N;try{t:{for(J(ae),T=t(m);T!==null&&!(T.expirationTime>ae&&G());){var Ae=T.callback;if(typeof Ae=="function"){T.callback=null,N=T.priorityLevel;var we=Ae(T.expirationTime<=ae);if(ae=n.unstable_now(),typeof we=="function"){T.callback=we,J(ae),Te=!0;break t}T===t(m)&&s(m),J(ae)}else s(m);T=t(m)}if(T!==null)Te=!0;else{var Y=t(v);Y!==null&&Le(ee,Y.startTime-ae),Te=!1}}break e}finally{T=null,N=Q,R=!1}Te=void 0}}finally{Te?$():me=!1}}}var $;if(typeof Z=="function")$=function(){Z(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,pe=q.port2;q.port1.onmessage=U,$=function(){pe.postMessage(null)}}else $=function(){O(U,0)};function Le(ae,Te){z=O(function(){ae(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(ae){switch(N){case 1:case 2:case 3:var Te=3;break;default:Te=N}var Q=N;N=Te;try{return ae()}finally{N=Q}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(ae,Te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Q=N;N=ae;try{return Te()}finally{N=Q}},n.unstable_scheduleCallback=function(ae,Te,Q){var Ae=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Ae+Q:Ae):Q=Ae,ae){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=Q+we,ae={id:w++,callback:Te,priorityLevel:ae,startTime:Q,expirationTime:we,sortIndex:-1},Q>Ae?(ae.sortIndex=Q,e(v,ae),t(m)===null&&ae===t(v)&&(V?(B(z),z=-1):V=!0,Le(ee,Q-Ae))):(ae.sortIndex=we,e(m,ae),j||R||(j=!0,me||(me=!0,$()))),ae},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(ae){var Te=N;return function(){var Q=N;N=Te;try{return ae.apply(this,arguments)}finally{N=Q}}}})(hg)),hg}var jb;function J2(){return jb||(jb=1,ug.exports=X2()),ug.exports}var dg={exports:{}},ei={};var Vb;function eA(){if(Vb)return ei;Vb=1;var n=x_();function e(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,v,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:v,implementation:w}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ei.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ei.createPortal=function(m,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(m,v,null,w)},ei.flushSync=function(m){var v=d.T,w=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=v,s.p=w,s.d.f()}},ei.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(m,v))},ei.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},ei.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var w=v.as,T=_(w,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,R=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:N,fetchPriority:R}):w==="script"&&s.d.X(m,{crossOrigin:T,integrity:N,fetchPriority:R,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ei.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=_(v.as,v.crossOrigin);s.d.M(m,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(m)},ei.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,T=_(w,v.crossOrigin);s.d.L(m,w,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ei.preloadModule=function(m,v){if(typeof m=="string")if(v){var w=_(v.as,v.crossOrigin);s.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(m)},ei.requestFormReset=function(m){s.d.r(m)},ei.unstable_batchedUpdates=function(m,v){return m(v)},ei.useFormState=function(m,v,w){return d.H.useFormState(m,v,w)},ei.useFormStatus=function(){return d.H.useHostTransitionStatus()},ei.version="19.2.4",ei}var zb;function qw(){if(zb)return dg.exports;zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dg.exports=eA(),dg.exports}var Ub;function tA(){if(Ub)return Fu;Ub=1;var n=J2(),e=x_(),t=qw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function d(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function _(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(c(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return m(g),i;if(b===h)return m(g),r;b=b.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=b;else{for(var A=!1,M=g.child;M;){if(M===l){A=!0,l=g,h=b;break}if(M===h){A=!0,h=g,l=b;break}M=M.sibling}if(!A){for(M=b.child;M;){if(M===l){A=!0,l=b,h=g;break}if(M===h){A=!0,h=b,l=g;break}M=M.sibling}if(!A)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function w(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=w(i),r!==null)return r;i=i.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case ee:return"Suspense";case me:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case Z:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case J:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return r=i.displayName||null,r!==null?r:pe(i.type)||"Memo";case I:r=i._payload,i=i._init;try{return pe(i(r))}catch{}}return null}var Le=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},Ae=[],we=-1;function Y(i){return{current:i}}function ue(i){0>we||(i.current=Ae[we],Ae[we]=null,we--)}function xe(i,r){we++,Ae[we]=i.current,i.current=r}var Ee=Y(null),Ne=Y(null),Re=Y(null),Ge=Y(null);function At(i,r){switch(xe(Re,r),xe(Ne,i),xe(Ee,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?tb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=tb(r),i=nb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(Ee),xe(Ee,i)}function Ct(){ue(Ee),ue(Ne),ue(Re)}function ji(i){i.memoizedState!==null&&xe(Ge,i);var r=Ee.current,l=nb(r,i.type);r!==l&&(xe(Ne,i),xe(Ee,l))}function as(i){Ne.current===i&&(ue(Ee),ue(Ne)),Ge.current===i&&(ue(Ge),zu._currentValue=Q)}var gi,os;function de(i){if(gi===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);gi=r&&r[1]||"",os=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gi+i+os}var Ke=!1;function vt(i,r){if(!i||Ke)return"";Ke=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(he){var le=he}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(he){le=he}i.call(ve.prototype)}}else{try{throw Error()}catch(he){le=he}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(he){if(he&&le&&typeof he.stack=="string")return[he.stack,le.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),A=b[0],M=b[1];if(A&&M){var W=A.split(`
`),re=M.split(`
`);for(g=h=0;h<W.length&&!W[h].includes("DetermineComponentFrameRoot");)h++;for(;g<re.length&&!re[g].includes("DetermineComponentFrameRoot");)g++;if(h===W.length||g===re.length)for(h=W.length-1,g=re.length-1;1<=h&&0<=g&&W[h]!==re[g];)g--;for(;1<=h&&0<=g;h--,g--)if(W[h]!==re[g]){if(h!==1||g!==1)do if(h--,g--,0>g||W[h]!==re[g]){var fe=`
`+W[h].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=h&&0<=g);break}}}finally{Ke=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?de(l):""}function it(i,r){switch(i.tag){case 26:case 27:case 5:return de(i.type);case 16:return de("Lazy");case 13:return i.child!==r&&r!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return vt(i.type,!1);case 11:return vt(i.type.render,!1);case 1:return vt(i.type,!0);case 31:return de("Activity");default:return""}}function un(i){try{var r="",l=null;do r+=it(i,l),l=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Vt=Object.prototype.hasOwnProperty,Jt=n.unstable_scheduleCallback,ls=n.unstable_cancelCallback,Fl=n.unstable_shouldYield,zo=n.unstable_requestPaint,Bn=n.unstable_now,Dr=n.unstable_getCurrentPriorityLevel,kr=n.unstable_ImmediatePriority,Sa=n.unstable_UserBlockingPriority,Ls=n.unstable_NormalPriority,su=n.unstable_LowPriority,Uo=n.unstable_IdlePriority,Bo=n.log,Gl=n.unstable_setDisableYieldValue,_i=null,hn=null;function ri(i){if(typeof Bo=="function"&&Gl(i),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(_i,i)}catch{}}var Yt=Math.clz32?Math.clz32:Zl,tr=Math.log,Aa=Math.LN2;function Zl(i){return i>>>=0,i===0?32:31-(tr(i)/Aa|0)|0}var Vi=256,nr=262144,Kt=4194304;function cs(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function us(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~b,h!==0?g=cs(h):(A&=M,A!==0?g=cs(A):l||(l=M&~i,l!==0&&(g=cs(l))))):(M=h&~b,M!==0?g=cs(M):A!==0?g=cs(A):l||(l=h&~i,l!==0&&(g=cs(l)))),g===0?0:r!==0&&r!==g&&(r&b)===0&&(b=g&-g,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:g}function zi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ru(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var i=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),i}function hs(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Os(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function au(i,r,l,h,g,b){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,W=i.expirationTimes,re=i.hiddenUpdates;for(l=A&~l;0<l;){var fe=31-Yt(l),ve=1<<fe;M[fe]=0,W[fe]=-1;var le=re[fe];if(le!==null)for(re[fe]=null,fe=0;fe<le.length;fe++){var he=le[fe];he!==null&&(he.lane&=-536870913)}l&=~ve}h!==0&&jr(i,h,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~r))}function jr(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Yt(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Ho(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Yt(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function qo(i,r){var l=r&-r;return l=(l&42)!==0?1:In(l),(l&(i.suspendedLanes|r))!==0?0:l}function In(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oe(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fo(){var i=Te.p;return i!==0?i:(i=window.event,i===void 0?32:Sb(i.type))}function yi(i,r){var l=Te.p;try{return Te.p=i,r()}finally{Te.p=l}}var vi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+vi,en="__reactProps$"+vi,Ui="__reactContainer$"+vi,Bi="__reactEvents$"+vi,Yl="__reactListeners$"+vi,Kl="__reactHandles$"+vi,Wl="__reactResources$"+vi,ds="__reactMarker$"+vi;function Ca(i){delete i[Wt],delete i[en],delete i[Bi],delete i[Yl],delete i[Kl]}function Hi(i){var r=i[Wt];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Ui]||l[Wt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=cb(i);i!==null;){if(l=i[Wt])return l;i=cb(i)}return r}i=l,l=i.parentNode}return null}function bi(i){if(i=i[Wt]||i[Ui]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Pn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function fs(i){var r=i[Wl];return r||(r=i[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function tn(i){i[ds]=!0}var Go=new Set,Zo={};function ms(i,r){xi(i,r),xi(i+"Capture",r)}function xi(i,r){for(Zo[i]=r,i=0;i<r.length;i++)Go.add(r[i])}var Ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Na={},Ra={};function ir(i){return Vt.call(Ra,i)?!0:Vt.call(Na,i)?!1:Ds.test(i)?Ra[i]=!0:(Na[i]=!0,!1)}function tt(i,r,l){if(ir(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function st(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Ut(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}function Bt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ai(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Vr(i,r,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,b=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(A){l=""+A,b.call(this,A)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Pe(i){if(!i._valueTracker){var r=ai(i)?"checked":"value";i._valueTracker=Vr(i,r,""+i[r])}}function Nt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=ai(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function wi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ps=/[\n"\\]/g;function Dt(i){return i.replace(ps,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ia(i,r,l,h,g,b,A,M){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Bt(r)):i.value!==""+Bt(r)&&(i.value=""+Bt(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?qi(i,A,Bt(r)):l!=null?qi(i,A,Bt(l)):h!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Bt(M):i.removeAttribute("name")}function zr(i,r,l,h,g,b,A,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){Pe(i);return}l=l!=null?""+Bt(l):"",r=r!=null?""+Bt(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Pe(i)}function qi(i,r,l){r==="number"&&wi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Rt(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Bt(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function gs(i,r,l){if(r!=null&&(r=""+Bt(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+Bt(l):""}function Ti(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Le(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=Bt(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Pe(i)}function gn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ks(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||Pa.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Ur(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&ks(i,g,h)}else for(var b in r)r.hasOwnProperty(b)&&ks(i,b,r[b])}function sr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Br=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(i){return _s.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Yn(){}var Ma=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ar=null,Ue=null;function Mn(i){var r=bi(i);if(r&&(i=r.stateNode)){var l=i[en]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ia(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[en]||null;if(!g)throw Error(s(90));Ia(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Nt(h)}break e;case"textarea":gs(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Rt(i,!!l.multiple,r,!1)}}}var yt=!1;function js(i,r,l){if(yt)return i(r,l);yt=!0;try{var h=i(r);return h}finally{if(yt=!1,(ar!==null||Ue!==null)&&(wd(),ar&&(r=ar,i=Ue,Ue=ar=null,Mn(r),i)))for(r=0;r<i.length;r++)Mn(i[r])}}function oi(i,r){var l=i.stateNode;if(l===null)return null;var h=l[en]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Wn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Vs=!1}var Ei=null,zs=null,Ht=null;function Fi(){if(Ht)return Ht;var i,r=zs,l=r.length,h,g="value"in Ei?Ei.value:Ei.textContent,b=g.length;for(i=0;i<l&&r[i]===g[i];i++);var A=l-i;for(h=1;h<=A&&r[l-h]===g[b-h];h++);return Ht=g.slice(i,1<h?1-h:void 0)}function or(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ys(){return!0}function Gi(){return!1}function _n(i){function r(l,h,g,b,A){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ys:Gi,this.isPropagationStopped=Gi,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),r}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=_n(Zi),Us=T({},Zi,{view:0,detail:0}),et=_n(Us),lr,Ln,Qn,Hr=T({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qn&&(Qn&&i.type==="mousemove"?(lr=i.screenX-Qn.screenX,Ln=i.screenY-Qn.screenY):Ln=lr=0,Qn=i),lr)},movementY:function(i){return"movementY"in i?i.movementY:Ln}}),$o=_n(Hr),Bs=T({},Hr,{dataTransfer:0}),Ql=_n(Bs),Yo=T({},Us,{relatedTarget:0}),qr=_n(Yo),Ko=T({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),La=_n(Ko),Oa=T({},Zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),li=_n(Oa),Xl=T({},Zi,{data:0}),$i=_n(Xl),Yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Da(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Qo[i])?!!r[i]:!1}function cr(){return Da}var On=T({},Us,{key:function(i){if(i.key){var r=Yi[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=or(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(i){return i.type==="keypress"?or(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?or(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Xo=_n(On),Jl=T({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=_n(Jl),f=T({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),E=_n(f),C=T({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=_n(C),ie=T({},Hr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ce=_n(ie),Se=T({},Zi,{newState:0,oldState:0}),Fe=_n(Se),pt=[9,13,27,32],gt=Wn&&"CompositionEvent"in window,kt=null;Wn&&"documentMode"in document&&(kt=document.documentMode);var Si=Wn&&"TextEvent"in window&&!kt,Ai=Wn&&(!gt||kt&&8<kt&&11>=kt),ci=" ",Ki=!1;function Fr(i,r){switch(i){case"keyup":return pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gr(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ka=!1;function Wi(i,r){switch(i){case"compositionend":return Gr(r);case"keypress":return r.which!==32?null:(Ki=!0,ci);case"textInput":return i=r.data,i===ci&&Ki?null:i;default:return null}}function ja(i,r){if(ka)return i==="compositionend"||!gt&&Fr(i,r)?(i=Fi(),Ht=zs=Ei=null,ka=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ai&&r.locale!=="ko"?null:r.data;default:return null}}var Sm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bs(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Sm[i.type]:r==="textarea"}function zh(i,r,l,h){ar?Ue?Ue.push(h):Ue=[h]:ar=h,r=Rd(r,"onChange"),0<r.length&&(l=new vs("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var xs=null,Jo=null;function el(i){K0(i,0)}function tl(i){var r=Pn(i);if(Nt(r))return i}function nl(i,r){if(i==="change")return r}var Uh=!1;if(Wn){var ws;if(Wn){var Va="oninput"in document;if(!Va){var Bh=document.createElement("div");Bh.setAttribute("oninput","return;"),Va=typeof Bh.oninput=="function"}ws=Va}else ws=!1;Uh=ws&&(!document.documentMode||9<document.documentMode)}function ec(){xs&&(xs.detachEvent("onpropertychange",Hh),Jo=xs=null)}function Hh(i){if(i.propertyName==="value"&&tl(Jo)){var r=[];zh(r,Jo,i,Kn(i)),js(el,r)}}function qs(i,r,l){i==="focusin"?(ec(),xs=r,Jo=l,xs.attachEvent("onpropertychange",Hh)):i==="focusout"&&ec()}function Am(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tl(Jo)}function za(i,r){if(i==="click")return tl(r)}function Cm(i,r){if(i==="input"||i==="change")return tl(r)}function Fs(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Dn=typeof Object.is=="function"?Object.is:Fs;function Ua(i,r){if(Dn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Vt.call(r,g)||!Dn(i[g],r[g]))return!1}return!0}function tc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function il(i,r){var l=tc(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tc(l)}}function nc(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?nc(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function sl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=wi(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=wi(i.document)}return r}function ur(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ic=Wn&&"documentMode"in document&&11>=document.documentMode,hr=null,sc=null,rl=null,Ba=!1;function qh(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ba||hr==null||hr!==wi(h)||(h=hr,"selectionStart"in h&&ur(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),rl&&Ua(rl,h)||(rl=h,h=Rd(sc,"onSelect"),0<h.length&&(r=new vs("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=hr)))}function dr(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Ha={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},rc={},Fh={};Wn&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function kn(i){if(rc[i])return rc[i];if(!Ha[i])return i;var r=Ha[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Fh)return rc[i]=r[l];return i}var al=kn("animationend"),Gh=kn("animationiteration"),ol=kn("animationstart"),Nm=kn("transitionrun"),Zh=kn("transitionstart"),Rm=kn("transitioncancel"),qa=kn("transitionend"),$h=new Map,fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fr.push("scrollEnd");function Ci(i,r){$h.set(i,r),ms(r,[i])}var ll=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ni=[],Xn=0,ac=0;function cl(){for(var i=Xn,r=ac=Xn=0;r<i;){var l=Ni[r];Ni[r++]=null;var h=Ni[r];Ni[r++]=null;var g=Ni[r];Ni[r++]=null;var b=Ni[r];if(Ni[r++]=null,h!==null&&g!==null){var A=h.pending;A===null?g.next=g:(g.next=A.next,A.next=g),h.pending=g}b!==0&&Fa(l,g,b)}}function mr(i,r,l,h){Ni[Xn++]=i,Ni[Xn++]=r,Ni[Xn++]=l,Ni[Xn++]=h,ac|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function ou(i,r,l,h){return mr(i,r,l,h),ul(i)}function Ts(i,r){return mr(i,null,null,r),ul(i)}function Fa(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,b=i.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&r!==null&&(g=31-Yt(l),i=b.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),b):null}function ul(i){if(50<Mu)throw Mu=0,Pp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Zr={};function Im(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(i,r,l,h){return new Im(i,r,l,h)}function oc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Es(i,r){var l=i.alternate;return l===null?(l=Jn(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function lu(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function hl(i,r,l,h,g,b){var A=0;if(h=i,typeof i=="function")oc(i)&&(A=1);else if(typeof i=="string")A=j2(i,l,Ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case F:return i=Jn(31,l,r,g),i.elementType=F,i.lanes=b,i;case V:return $r(l.children,g,b,r);case D:A=8,g|=24;break;case O:return i=Jn(12,l,r,g|2),i.elementType=O,i.lanes=b,i;case ee:return i=Jn(13,l,r,g),i.elementType=ee,i.lanes=b,i;case me:return i=Jn(19,l,r,g),i.elementType=me,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:A=10;break e;case B:A=9;break e;case J:A=11;break e;case z:A=14;break e;case I:A=16,h=null;break e}A=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=Jn(A,l,r,g),r.elementType=i,r.type=h,r.lanes=b,r}function $r(i,r,l,h){return i=Jn(7,i,h,r),i.lanes=l,i}function lc(i,r,l){return i=Jn(6,i,null,r),i.lanes=l,i}function cu(i){var r=Jn(18,null,null,0);return r.stateNode=i,r}function uu(i,r,l){return r=Jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a=new WeakMap;function u(i,r){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(r={value:i,source:r,stack:un(r)},a.set(i,r),r)}return{value:i,source:r,stack:un(r)}}var p=[],x=0,S=null,P=0,K=[],ne=0,oe=null,ye=1,Ce="";function je(i,r){p[x++]=P,p[x++]=S,S=i,P=r}function Xe(i,r,l){K[ne++]=ye,K[ne++]=Ce,K[ne++]=oe,oe=i;var h=ye;i=Ce;var g=32-Yt(h)-1;h&=~(1<<g),l+=1;var b=32-Yt(r)+g;if(30<b){var A=g-g%5;b=(h&(1<<A)-1).toString(32),h>>=A,g-=A,ye=1<<32-Yt(r)+g|l<<g|h,Ce=b+i}else ye=1<<b|l<<g|h,Ce=i}function An(i){i.return!==null&&(je(i,1),Xe(i,1,0))}function nn(i){for(;i===S;)S=p[--x],p[x]=null,P=p[--x],p[x]=null;for(;i===oe;)oe=K[--ne],K[ne]=null,Ce=K[--ne],K[ne]=null,ye=K[--ne],K[ne]=null}function ui(i,r){K[ne++]=ye,K[ne++]=Ce,K[ne++]=oe,ye=r.id,Ce=r.overflow,oe=i}var bt=null,xt=null,rt=!1,pr=null,Ri=!1,cc=Error(s(519));function gr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(u(r,i)),cc}function hu(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Wt]=i,r[en]=h,l){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(l=0;l<Ou.length;l++)ot(Ou[l],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":ot("invalid",r),zr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ot("invalid",r);break;case"textarea":ot("invalid",r),Ti(r,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||J0(r.textContent,l)?(h.popover!=null&&(ot("beforetoggle",r),ot("toggle",r)),h.onScroll!=null&&ot("scroll",r),h.onScrollEnd!=null&&ot("scrollend",r),h.onClick!=null&&(r.onclick=Yn),r=!0):r=!1,r||gr(i,!0)}function Qt(i){for(bt=i.return;bt;)switch(bt.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:bt=bt.return}}function Gs(i){if(i!==bt)return!1;if(!rt)return Qt(i),rt=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Zp(i.type,i.memoizedProps)),l=!l),l&&xt&&gr(i),Qt(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=lb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=lb(i)}else r===27?(r=xt,so(i.type)?(i=Qp,Qp=null,xt=i):xt=r):xt=bt?As(i.stateNode.nextSibling):null;return!0}function Yr(){xt=bt=null,rt=!1}function du(){var i=pr;return i!==null&&(Li===null?Li=i:Li.push.apply(Li,i),pr=null),i}function dl(i){pr===null?pr=[i]:pr.push(i)}var fl=Y(null),_r=null,Zs=null;function Ga(i,r,l){xe(fl,r._currentValue),r._currentValue=l}function Kr(i){i._currentValue=fl.current,ue(fl)}function Pm(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function Mm(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var A=g.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=g;for(var W=0;W<r.length;W++)if(M.context===r[W]){b.lanes|=l,M=b.alternate,M!==null&&(M.lanes|=l),Pm(b.return,l,i),h||(A=null);break e}b=M.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(s(341));A.lanes|=l,b=A.alternate,b!==null&&(b.lanes|=l),Pm(A,l,i),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===i){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function uc(i,r,l,h){i=null;for(var g=r,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var M=g.type;Dn(g.pendingProps.value,A.value)||(i!==null?i.push(M):i=[M])}}else if(g===Ge.current){if(A=g.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(zu):i=[zu])}g=g.return}i!==null&&Mm(r,i,l,h),r.flags|=262144}function Yh(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ml(i){_r=i,Zs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Hn(i){return Vy(_r,i)}function Kh(i,r){return _r===null&&ml(i),Vy(i,r)}function Vy(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Zs===null){if(i===null)throw Error(s(308));Zs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Zs=Zs.next=r;return l}var LS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},OS=n.unstable_scheduleCallback,DS=n.unstable_NormalPriority,yn={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lm(){return{controller:new LS,data:new Map,refCount:0}}function fu(i){i.refCount--,i.refCount===0&&OS(DS,function(){i.controller.abort()})}var mu=null,Om=0,hc=0,dc=null;function kS(i,r){if(mu===null){var l=mu=[];Om=0,hc=jp(),dc={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Om++,r.then(zy,zy),r}function zy(){if(--Om===0&&mu!==null){dc!==null&&(dc.status="fulfilled");var i=mu;mu=null,hc=0,dc=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function jS(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var Uy=ae.S;ae.S=function(i,r){T0=Bn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&kS(i,r),Uy!==null&&Uy(i,r)};var pl=Y(null);function Dm(){var i=pl.current;return i!==null?i:jt.pooledCache}function Wh(i,r){r===null?xe(pl,pl.current):xe(pl,r.pool)}function By(){var i=Dm();return i===null?null:{parent:yn._currentValue,pool:i}}var fc=Error(s(460)),km=Error(s(474)),Qh=Error(s(542)),Xh={then:function(){}};function Hy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qy(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Yn,Yn),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gy(i),i;default:if(typeof r.status=="string")r.then(Yn,Yn);else{if(i=jt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Gy(i),i}throw _l=r,fc}}function gl(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(_l=l,fc):l}}var _l=null;function Fy(){if(_l===null)throw Error(s(459));var i=_l;return _l=null,i}function Gy(i){if(i===fc||i===Qh)throw Error(s(483))}var mc=null,pu=0;function Jh(i){var r=pu;return pu+=1,mc===null&&(mc=[]),qy(mc,i,r)}function gu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ed(i,r){throw r.$$typeof===N?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Zy(i){function r(te,X){if(i){var se=te.deletions;se===null?(te.deletions=[X],te.flags|=16):se.push(X)}}function l(te,X){if(!i)return null;for(;X!==null;)r(te,X),X=X.sibling;return null}function h(te){for(var X=new Map;te!==null;)te.key!==null?X.set(te.key,te):X.set(te.index,te),te=te.sibling;return X}function g(te,X){return te=Es(te,X),te.index=0,te.sibling=null,te}function b(te,X,se){return te.index=se,i?(se=te.alternate,se!==null?(se=se.index,se<X?(te.flags|=67108866,X):se):(te.flags|=67108866,X)):(te.flags|=1048576,X)}function A(te){return i&&te.alternate===null&&(te.flags|=67108866),te}function M(te,X,se,ge){return X===null||X.tag!==6?(X=lc(se,te.mode,ge),X.return=te,X):(X=g(X,se),X.return=te,X)}function W(te,X,se,ge){var Ve=se.type;return Ve===V?fe(te,X,se.props.children,ge,se.key):X!==null&&(X.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&gl(Ve)===X.type)?(X=g(X,se.props),gu(X,se),X.return=te,X):(X=hl(se.type,se.key,se.props,null,te.mode,ge),gu(X,se),X.return=te,X)}function re(te,X,se,ge){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=uu(se,te.mode,ge),X.return=te,X):(X=g(X,se.children||[]),X.return=te,X)}function fe(te,X,se,ge,Ve){return X===null||X.tag!==7?(X=$r(se,te.mode,ge,Ve),X.return=te,X):(X=g(X,se),X.return=te,X)}function ve(te,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=lc(""+X,te.mode,se),X.return=te,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return se=hl(X.type,X.key,X.props,null,te.mode,se),gu(se,X),se.return=te,se;case j:return X=uu(X,te.mode,se),X.return=te,X;case I:return X=gl(X),ve(te,X,se)}if(Le(X)||$(X))return X=$r(X,te.mode,se,null),X.return=te,X;if(typeof X.then=="function")return ve(te,Jh(X),se);if(X.$$typeof===Z)return ve(te,Kh(te,X),se);ed(te,X)}return null}function le(te,X,se,ge){var Ve=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ve!==null?null:M(te,X,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case R:return se.key===Ve?W(te,X,se,ge):null;case j:return se.key===Ve?re(te,X,se,ge):null;case I:return se=gl(se),le(te,X,se,ge)}if(Le(se)||$(se))return Ve!==null?null:fe(te,X,se,ge,null);if(typeof se.then=="function")return le(te,X,Jh(se),ge);if(se.$$typeof===Z)return le(te,X,Kh(te,se),ge);ed(te,se)}return null}function he(te,X,se,ge,Ve){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return te=te.get(se)||null,M(X,te,""+ge,Ve);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case R:return te=te.get(ge.key===null?se:ge.key)||null,W(X,te,ge,Ve);case j:return te=te.get(ge.key===null?se:ge.key)||null,re(X,te,ge,Ve);case I:return ge=gl(ge),he(te,X,se,ge,Ve)}if(Le(ge)||$(ge))return te=te.get(se)||null,fe(X,te,ge,Ve,null);if(typeof ge.then=="function")return he(te,X,se,Jh(ge),Ve);if(ge.$$typeof===Z)return he(te,X,se,Kh(X,ge),Ve);ed(X,ge)}return null}function De(te,X,se,ge){for(var Ve=null,wt=null,ke=X,Je=X=0,ut=null;ke!==null&&Je<se.length;Je++){ke.index>Je?(ut=ke,ke=null):ut=ke.sibling;var Tt=le(te,ke,se[Je],ge);if(Tt===null){ke===null&&(ke=ut);break}i&&ke&&Tt.alternate===null&&r(te,ke),X=b(Tt,X,Je),wt===null?Ve=Tt:wt.sibling=Tt,wt=Tt,ke=ut}if(Je===se.length)return l(te,ke),rt&&je(te,Je),Ve;if(ke===null){for(;Je<se.length;Je++)ke=ve(te,se[Je],ge),ke!==null&&(X=b(ke,X,Je),wt===null?Ve=ke:wt.sibling=ke,wt=ke);return rt&&je(te,Je),Ve}for(ke=h(ke);Je<se.length;Je++)ut=he(ke,te,Je,se[Je],ge),ut!==null&&(i&&ut.alternate!==null&&ke.delete(ut.key===null?Je:ut.key),X=b(ut,X,Je),wt===null?Ve=ut:wt.sibling=ut,wt=ut);return i&&ke.forEach(function(co){return r(te,co)}),rt&&je(te,Je),Ve}function Be(te,X,se,ge){if(se==null)throw Error(s(151));for(var Ve=null,wt=null,ke=X,Je=X=0,ut=null,Tt=se.next();ke!==null&&!Tt.done;Je++,Tt=se.next()){ke.index>Je?(ut=ke,ke=null):ut=ke.sibling;var co=le(te,ke,Tt.value,ge);if(co===null){ke===null&&(ke=ut);break}i&&ke&&co.alternate===null&&r(te,ke),X=b(co,X,Je),wt===null?Ve=co:wt.sibling=co,wt=co,ke=ut}if(Tt.done)return l(te,ke),rt&&je(te,Je),Ve;if(ke===null){for(;!Tt.done;Je++,Tt=se.next())Tt=ve(te,Tt.value,ge),Tt!==null&&(X=b(Tt,X,Je),wt===null?Ve=Tt:wt.sibling=Tt,wt=Tt);return rt&&je(te,Je),Ve}for(ke=h(ke);!Tt.done;Je++,Tt=se.next())Tt=he(ke,te,Je,Tt.value,ge),Tt!==null&&(i&&Tt.alternate!==null&&ke.delete(Tt.key===null?Je:Tt.key),X=b(Tt,X,Je),wt===null?Ve=Tt:wt.sibling=Tt,wt=Tt);return i&&ke.forEach(function(Y2){return r(te,Y2)}),rt&&je(te,Je),Ve}function Ot(te,X,se,ge){if(typeof se=="object"&&se!==null&&se.type===V&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case R:e:{for(var Ve=se.key;X!==null;){if(X.key===Ve){if(Ve=se.type,Ve===V){if(X.tag===7){l(te,X.sibling),ge=g(X,se.props.children),ge.return=te,te=ge;break e}}else if(X.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&gl(Ve)===X.type){l(te,X.sibling),ge=g(X,se.props),gu(ge,se),ge.return=te,te=ge;break e}l(te,X);break}else r(te,X);X=X.sibling}se.type===V?(ge=$r(se.props.children,te.mode,ge,se.key),ge.return=te,te=ge):(ge=hl(se.type,se.key,se.props,null,te.mode,ge),gu(ge,se),ge.return=te,te=ge)}return A(te);case j:e:{for(Ve=se.key;X!==null;){if(X.key===Ve)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){l(te,X.sibling),ge=g(X,se.children||[]),ge.return=te,te=ge;break e}else{l(te,X);break}else r(te,X);X=X.sibling}ge=uu(se,te.mode,ge),ge.return=te,te=ge}return A(te);case I:return se=gl(se),Ot(te,X,se,ge)}if(Le(se))return De(te,X,se,ge);if($(se)){if(Ve=$(se),typeof Ve!="function")throw Error(s(150));return se=Ve.call(se),Be(te,X,se,ge)}if(typeof se.then=="function")return Ot(te,X,Jh(se),ge);if(se.$$typeof===Z)return Ot(te,X,Kh(te,se),ge);ed(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(l(te,X.sibling),ge=g(X,se),ge.return=te,te=ge):(l(te,X),ge=lc(se,te.mode,ge),ge.return=te,te=ge),A(te)):l(te,X)}return function(te,X,se,ge){try{pu=0;var Ve=Ot(te,X,se,ge);return mc=null,Ve}catch(ke){if(ke===fc||ke===Qh)throw ke;var wt=Jn(29,ke,null,te.mode);return wt.lanes=ge,wt.return=te,wt}}}var yl=Zy(!0),$y=Zy(!1),Za=!1;function jm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $a(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ya(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Et&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=ul(i),Fa(i,null,l),r}return mr(i,h,r,l),ul(i)}function _u(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}function zm(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=A:b=b.next=A,l=l.next}while(l!==null);b===null?g=b=r:b=b.next=r}else g=b=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Um=!1;function yu(){if(Um){var i=dc;if(i!==null)throw i}}function vu(i,r,l,h){Um=!1;var g=i.updateQueue;Za=!1;var b=g.firstBaseUpdate,A=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var W=M,re=W.next;W.next=null,A===null?b=re:A.next=re,A=W;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,M=fe.lastBaseUpdate,M!==A&&(M===null?fe.firstBaseUpdate=re:M.next=re,fe.lastBaseUpdate=W))}if(b!==null){var ve=g.baseState;A=0,fe=re=W=null,M=b;do{var le=M.lane&-536870913,he=le!==M.lane;if(he?(ct&le)===le:(h&le)===le){le!==0&&le===hc&&(Um=!0),fe!==null&&(fe=fe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var De=i,Be=M;le=r;var Ot=l;switch(Be.tag){case 1:if(De=Be.payload,typeof De=="function"){ve=De.call(Ot,ve,le);break e}ve=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Be.payload,le=typeof De=="function"?De.call(Ot,ve,le):De,le==null)break e;ve=T({},ve,le);break e;case 2:Za=!0}}le=M.callback,le!==null&&(i.flags|=64,he&&(i.flags|=8192),he=g.callbacks,he===null?g.callbacks=[le]:he.push(le))}else he={lane:le,tag:M.tag,payload:M.payload,callback:M.callback,next:null},fe===null?(re=fe=he,W=ve):fe=fe.next=he,A|=le;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;he=M,M=he.next,he.next=null,g.lastBaseUpdate=he,g.shared.pending=null}}while(!0);fe===null&&(W=ve),g.baseState=W,g.firstBaseUpdate=re,g.lastBaseUpdate=fe,b===null&&(g.shared.lanes=0),Ja|=A,i.lanes=A,i.memoizedState=ve}}function Yy(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Ky(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Yy(l[i],r)}var pc=Y(null),td=Y(0);function Wy(i,r){i=sa,xe(td,i),xe(pc,r),sa=i|r.baseLanes}function Bm(){xe(td,sa),xe(pc,pc.current)}function Hm(){sa=td.current,ue(pc),ue(td)}var Qi=Y(null),Ss=null;function Ka(i){var r=i.alternate;xe(dn,dn.current&1),xe(Qi,i),Ss===null&&(r===null||pc.current!==null||r.memoizedState!==null)&&(Ss=i)}function qm(i){xe(dn,dn.current),xe(Qi,i),Ss===null&&(Ss=i)}function Qy(i){i.tag===22?(xe(dn,dn.current),xe(Qi,i),Ss===null&&(Ss=i)):Wa()}function Wa(){xe(dn,dn.current),xe(Qi,Qi.current)}function Xi(i){ue(Qi),Ss===i&&(Ss=null),ue(dn)}var dn=Y(0);function nd(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Kp(l)||Wp(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wr=0,Qe=null,Mt=null,vn=null,id=!1,gc=!1,vl=!1,sd=0,bu=0,_c=null,VS=0;function sn(){throw Error(s(321))}function Fm(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Dn(i[l],r[l]))return!1;return!0}function Gm(i,r,l,h,g,b){return Wr=b,Qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ae.H=i===null||i.memoizedState===null?Ov:ap,vl=!1,b=l(h,g),vl=!1,gc&&(b=Jy(r,l,h,g)),Xy(i),b}function Xy(i){ae.H=Tu;var r=Mt!==null&&Mt.next!==null;if(Wr=0,vn=Mt=Qe=null,id=!1,bu=0,_c=null,r)throw Error(s(300));i===null||bn||(i=i.dependencies,i!==null&&Yh(i)&&(bn=!0))}function Jy(i,r,l,h){Qe=i;var g=0;do{if(gc&&(_c=null),bu=0,gc=!1,25<=g)throw Error(s(301));if(g+=1,vn=Mt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ae.H=Dv,b=r(l,h)}while(gc);return b}function zS(){var i=ae.H,r=i.useState()[0];return r=typeof r.then=="function"?xu(r):r,i=i.useState()[0],(Mt!==null?Mt.memoizedState:null)!==i&&(Qe.flags|=1024),r}function Zm(){var i=sd!==0;return sd=0,i}function $m(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Ym(i){if(id){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}id=!1}Wr=0,vn=Mt=Qe=null,gc=!1,bu=sd=0,_c=null}function hi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Qe.memoizedState=vn=i:vn=vn.next=i,vn}function fn(){if(Mt===null){var i=Qe.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var r=vn===null?Qe.memoizedState:vn.next;if(r!==null)vn=r,Mt=i;else{if(i===null)throw Qe.alternate===null?Error(s(467)):Error(s(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},vn===null?Qe.memoizedState=vn=i:vn=vn.next=i}return vn}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xu(i){var r=bu;return bu+=1,_c===null&&(_c=[]),i=qy(_c,i,r),r=Qe,(vn===null?r.memoizedState:vn.next)===null&&(r=r.alternate,ae.H=r===null||r.memoizedState===null?Ov:ap),i}function ad(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return xu(i);if(i.$$typeof===Z)return Hn(i)}throw Error(s(438,String(i)))}function Km(i){var r=null,l=Qe.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Qe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=rd(),Qe.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=G;return r.index++,l}function Qr(i,r){return typeof r=="function"?r(i):r}function od(i){var r=fn();return Wm(r,Mt,i)}function Wm(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,b=h.pending;if(b!==null){if(g!==null){var A=g.next;g.next=b.next,b.next=A}r.baseQueue=g=b,h.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{r=g.next;var M=A=null,W=null,re=r,fe=!1;do{var ve=re.lane&-536870913;if(ve!==re.lane?(ct&ve)===ve:(Wr&ve)===ve){var le=re.revertLane;if(le===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ve===hc&&(fe=!0);else if((Wr&le)===le){re=re.next,le===hc&&(fe=!0);continue}else ve={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},W===null?(M=W=ve,A=b):W=W.next=ve,Qe.lanes|=le,Ja|=le;ve=re.action,vl&&l(b,ve),b=re.hasEagerState?re.eagerState:l(b,ve)}else le={lane:ve,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},W===null?(M=W=le,A=b):W=W.next=le,Qe.lanes|=ve,Ja|=ve;re=re.next}while(re!==null&&re!==r);if(W===null?A=b:W.next=M,!Dn(b,i.memoizedState)&&(bn=!0,fe&&(l=dc,l!==null)))throw l;i.memoizedState=b,i.baseState=A,i.baseQueue=W,h.lastRenderedState=b}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Qm(i){var r=fn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,b=r.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do b=i(b,A.action),A=A.next;while(A!==g);Dn(b,r.memoizedState)||(bn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,h]}function ev(i,r,l){var h=Qe,g=fn(),b=rt;if(b){if(l===void 0)throw Error(s(407));l=l()}else l=r();var A=!Dn((Mt||g).memoizedState,l);if(A&&(g.memoizedState=l,bn=!0),g=g.queue,ep(iv.bind(null,h,g,i),[i]),g.getSnapshot!==r||A||vn!==null&&vn.memoizedState.tag&1){if(h.flags|=2048,yc(9,{destroy:void 0},nv.bind(null,h,g,l,r),null),jt===null)throw Error(s(349));b||(Wr&127)!==0||tv(h,r,l)}return l}function tv(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Qe.updateQueue,r===null?(r=rd(),Qe.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function nv(i,r,l,h){r.value=l,r.getSnapshot=h,sv(r)&&rv(i)}function iv(i,r,l){return l(function(){sv(r)&&rv(i)})}function sv(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Dn(i,l)}catch{return!0}}function rv(i){var r=Ts(i,2);r!==null&&Oi(r,i,2)}function Xm(i){var r=hi();if(typeof i=="function"){var l=i;if(i=l(),vl){ri(!0);try{l()}finally{ri(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:i},r}function av(i,r,l,h){return i.baseState=l,Wm(i,Mt,typeof h=="function"?h:Qr)}function US(i,r,l,h,g){if(ud(i))throw Error(s(485));if(i=r.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};ae.T!==null?l(!0):b.isTransition=!1,h(b),l=r.pending,l===null?(b.next=r.pending=b,ov(r,b)):(b.next=l.next,r.pending=l.next=b)}}function ov(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var b=ae.T,A={};ae.T=A;try{var M=l(g,h),W=ae.S;W!==null&&W(A,M),lv(i,r,M)}catch(re){Jm(i,r,re)}finally{b!==null&&A.types!==null&&(b.types=A.types),ae.T=b}}else try{b=l(g,h),lv(i,r,b)}catch(re){Jm(i,r,re)}}function lv(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){cv(i,r,h)},function(h){return Jm(i,r,h)}):cv(i,r,l)}function cv(i,r,l){r.status="fulfilled",r.value=l,uv(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,ov(i,l)))}function Jm(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,uv(r),r=r.next;while(r!==h)}i.action=null}function uv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function hv(i,r){return r}function dv(i,r){if(rt){var l=jt.formState;if(l!==null){e:{var h=Qe;if(rt){if(xt){t:{for(var g=xt,b=Ri;g.nodeType!==8;){if(!b){g=null;break t}if(g=As(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){xt=As(g.nextSibling),h=g.data==="F!";break e}}gr(h)}h=!1}h&&(r=l[0])}}return l=hi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hv,lastRenderedState:r},l.queue=h,l=Pv.bind(null,Qe,h),h.dispatch=l,h=Xm(!1),b=rp.bind(null,Qe,!1,h.queue),h=hi(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=US.bind(null,Qe,g,b,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function fv(i){var r=fn();return mv(r,Mt,i)}function mv(i,r,l){if(r=Wm(i,r,hv)[0],i=od(Qr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=xu(r)}catch(A){throw A===fc?Qh:A}else h=r;r=fn();var g=r.queue,b=g.dispatch;return l!==r.memoizedState&&(Qe.flags|=2048,yc(9,{destroy:void 0},BS.bind(null,g,l),null)),[h,b,i]}function BS(i,r){i.action=r}function pv(i){var r=fn(),l=Mt;if(l!==null)return mv(r,l,i);fn(),r=r.memoizedState,l=fn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function yc(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Qe.updateQueue,r===null&&(r=rd(),Qe.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function gv(){return fn().memoizedState}function ld(i,r,l,h){var g=hi();Qe.flags|=i,g.memoizedState=yc(1|r,{destroy:void 0},l,h===void 0?null:h)}function cd(i,r,l,h){var g=fn();h=h===void 0?null:h;var b=g.memoizedState.inst;Mt!==null&&h!==null&&Fm(h,Mt.memoizedState.deps)?g.memoizedState=yc(r,b,l,h):(Qe.flags|=i,g.memoizedState=yc(1|r,b,l,h))}function _v(i,r){ld(8390656,8,i,r)}function ep(i,r){cd(2048,8,i,r)}function HS(i){Qe.flags|=4;var r=Qe.updateQueue;if(r===null)r=rd(),Qe.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function yv(i){var r=fn().memoizedState;return HS({ref:r,nextImpl:i}),function(){if((Et&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function vv(i,r){return cd(4,2,i,r)}function bv(i,r){return cd(4,4,i,r)}function xv(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function wv(i,r,l){l=l!=null?l.concat([i]):null,cd(4,4,xv.bind(null,r,i),l)}function tp(){}function Tv(i,r){var l=fn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Fm(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function Ev(i,r){var l=fn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Fm(r,h[1]))return h[0];if(h=i(),vl){ri(!0);try{i()}finally{ri(!1)}}return l.memoizedState=[h,r],h}function np(i,r,l){return l===void 0||(Wr&1073741824)!==0&&(ct&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=S0(),Qe.lanes|=i,Ja|=i,l)}function Sv(i,r,l,h){return Dn(l,r)?l:pc.current!==null?(i=np(i,l,h),Dn(i,r)||(bn=!0),i):(Wr&42)===0||(Wr&1073741824)!==0&&(ct&261930)===0?(bn=!0,i.memoizedState=l):(i=S0(),Qe.lanes|=i,Ja|=i,r)}function Av(i,r,l,h,g){var b=Te.p;Te.p=b!==0&&8>b?b:8;var A=ae.T,M={};ae.T=M,rp(i,!1,r,l);try{var W=g(),re=ae.S;if(re!==null&&re(M,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var fe=jS(W,h);wu(i,r,fe,ts(i))}else wu(i,r,h,ts(i))}catch(ve){wu(i,r,{then:function(){},status:"rejected",reason:ve},ts())}finally{Te.p=b,A!==null&&M.types!==null&&(A.types=M.types),ae.T=A}}function qS(){}function ip(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=Cv(i).queue;Av(i,g,r,Q,l===null?qS:function(){return Nv(i),l(h)})}function Cv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:Q},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Nv(i){var r=Cv(i);r.next===null&&(r=i.alternate.memoizedState),wu(i,r.next.queue,{},ts())}function sp(){return Hn(zu)}function Rv(){return fn().memoizedState}function Iv(){return fn().memoizedState}function FS(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ts();i=$a(l);var h=Ya(r,i,l);h!==null&&(Oi(h,r,l),_u(h,r,l)),r={cache:Lm()},i.payload=r;return}r=r.return}}function GS(i,r,l){var h=ts();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ud(i)?Mv(r,l):(l=ou(i,r,l,h),l!==null&&(Oi(l,i,h),Lv(l,r,h)))}function Pv(i,r,l){var h=ts();wu(i,r,l,h)}function wu(i,r,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ud(i))Mv(r,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var A=r.lastRenderedState,M=b(A,l);if(g.hasEagerState=!0,g.eagerState=M,Dn(M,A))return mr(i,r,g,0),jt===null&&cl(),!1}catch{}if(l=ou(i,r,g,h),l!==null)return Oi(l,i,h),Lv(l,r,h),!0}return!1}function rp(i,r,l,h){if(h={lane:2,revertLane:jp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ud(i)){if(r)throw Error(s(479))}else r=ou(i,l,h,2),r!==null&&Oi(r,i,2)}function ud(i){var r=i.alternate;return i===Qe||r!==null&&r===Qe}function Mv(i,r){gc=id=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function Lv(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}var Tu={readContext:Hn,use:ad,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};Tu.useEffectEvent=sn;var Ov={readContext:Hn,use:ad,useCallback:function(i,r){return hi().memoizedState=[i,r===void 0?null:r],i},useContext:Hn,useEffect:_v,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,ld(4194308,4,xv.bind(null,r,i),l)},useLayoutEffect:function(i,r){return ld(4194308,4,i,r)},useInsertionEffect:function(i,r){ld(4,2,i,r)},useMemo:function(i,r){var l=hi();r=r===void 0?null:r;var h=i();if(vl){ri(!0);try{i()}finally{ri(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=hi();if(l!==void 0){var g=l(r);if(vl){ri(!0);try{l(r)}finally{ri(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=GS.bind(null,Qe,i),[h.memoizedState,i]},useRef:function(i){var r=hi();return i={current:i},r.memoizedState=i},useState:function(i){i=Xm(i);var r=i.queue,l=Pv.bind(null,Qe,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:tp,useDeferredValue:function(i,r){var l=hi();return np(l,i,r)},useTransition:function(){var i=Xm(!1);return i=Av.bind(null,Qe,i.queue,!0,!1),hi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Qe,g=hi();if(rt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),jt===null)throw Error(s(349));(ct&127)!==0||tv(h,r,l)}g.memoizedState=l;var b={value:l,getSnapshot:r};return g.queue=b,_v(iv.bind(null,h,b,i),[i]),h.flags|=2048,yc(9,{destroy:void 0},nv.bind(null,h,b,l,r),null),l},useId:function(){var i=hi(),r=jt.identifierPrefix;if(rt){var l=Ce,h=ye;l=(h&~(1<<32-Yt(h)-1)).toString(32)+l,r="_"+r+"R_"+l,l=sd++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=VS++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:sp,useFormState:dv,useActionState:dv,useOptimistic:function(i){var r=hi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=rp.bind(null,Qe,!0,l),l.dispatch=r,[i,r]},useMemoCache:Km,useCacheRefresh:function(){return hi().memoizedState=FS.bind(null,Qe)},useEffectEvent:function(i){var r=hi(),l={impl:i};return r.memoizedState=l,function(){if((Et&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},ap={readContext:Hn,use:ad,useCallback:Tv,useContext:Hn,useEffect:ep,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:bv,useMemo:Ev,useReducer:od,useRef:gv,useState:function(){return od(Qr)},useDebugValue:tp,useDeferredValue:function(i,r){var l=fn();return Sv(l,Mt.memoizedState,i,r)},useTransition:function(){var i=od(Qr)[0],r=fn().memoizedState;return[typeof i=="boolean"?i:xu(i),r]},useSyncExternalStore:ev,useId:Rv,useHostTransitionStatus:sp,useFormState:fv,useActionState:fv,useOptimistic:function(i,r){var l=fn();return av(l,Mt,i,r)},useMemoCache:Km,useCacheRefresh:Iv};ap.useEffectEvent=yv;var Dv={readContext:Hn,use:ad,useCallback:Tv,useContext:Hn,useEffect:ep,useImperativeHandle:wv,useInsertionEffect:vv,useLayoutEffect:bv,useMemo:Ev,useReducer:Qm,useRef:gv,useState:function(){return Qm(Qr)},useDebugValue:tp,useDeferredValue:function(i,r){var l=fn();return Mt===null?np(l,i,r):Sv(l,Mt.memoizedState,i,r)},useTransition:function(){var i=Qm(Qr)[0],r=fn().memoizedState;return[typeof i=="boolean"?i:xu(i),r]},useSyncExternalStore:ev,useId:Rv,useHostTransitionStatus:sp,useFormState:pv,useActionState:pv,useOptimistic:function(i,r){var l=fn();return Mt!==null?av(l,Mt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Km,useCacheRefresh:Iv};Dv.useEffectEvent=yv;function op(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:T({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var lp={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=ts(),g=$a(h);g.payload=r,l!=null&&(g.callback=l),r=Ya(i,g,h),r!==null&&(Oi(r,i,h),_u(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=ts(),g=$a(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Ya(i,g,h),r!==null&&(Oi(r,i,h),_u(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ts(),h=$a(l);h.tag=2,r!=null&&(h.callback=r),r=Ya(i,h,l),r!==null&&(Oi(r,i,l),_u(r,i,l))}};function kv(i,r,l,h,g,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,A):r.prototype&&r.prototype.isPureReactComponent?!Ua(l,h)||!Ua(g,b):!0}function jv(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&lp.enqueueReplaceState(r,r.state,null)}function bl(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=T({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function Vv(i){ll(i)}function zv(i){console.error(i)}function Uv(i){ll(i)}function hd(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function Bv(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function cp(i,r,l){return l=$a(l),l.tag=3,l.payload={element:null},l.callback=function(){hd(i,r)},l}function Hv(i){return i=$a(i),i.tag=3,i}function qv(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=h.value;i.payload=function(){return g(b)},i.callback=function(){Bv(r,l,h)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Bv(r,l,h),typeof g!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function ZS(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&uc(r,l,g,!0),l=Qi.current,l!==null){switch(l.tag){case 31:case 13:return Ss===null?Td():l.alternate===null&&rn===0&&(rn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Xh?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),Op(i,h,g)),!1;case 22:return l.flags|=65536,h===Xh?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),Op(i,h,g)),!1}throw Error(s(435,l.tag))}return Op(i,h,g),Td(),!1}if(rt)return r=Qi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==cc&&(i=Error(s(422),{cause:h}),dl(u(i,l)))):(h!==cc&&(r=Error(s(423),{cause:h}),dl(u(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=u(h,l),g=cp(i.stateNode,h,g),zm(i,g),rn!==4&&(rn=2)),!1;var b=Error(s(520),{cause:h});if(b=u(b,l),Pu===null?Pu=[b]:Pu.push(b),rn!==4&&(rn=2),r===null)return!0;h=u(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=cp(l.stateNode,h,i),zm(l,i),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(eo===null||!eo.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Hv(g),qv(g,i,l,h),zm(l,g),!1}l=l.return}while(l!==null);return!1}var up=Error(s(461)),bn=!1;function qn(i,r,l,h){r.child=i===null?$y(r,null,l,h):yl(r,i.child,l,h)}function Fv(i,r,l,h,g){l=l.render;var b=r.ref;if("ref"in h){var A={};for(var M in h)M!=="ref"&&(A[M]=h[M])}else A=h;return ml(r),h=Gm(i,r,l,A,b,g),M=Zm(),i!==null&&!bn?($m(i,r,g),Xr(i,r,g)):(rt&&M&&An(r),r.flags|=1,qn(i,r,h,g),r.child)}function Gv(i,r,l,h,g){if(i===null){var b=l.type;return typeof b=="function"&&!oc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,Zv(i,r,b,h,g)):(i=hl(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(b=i.child,!yp(i,g)){var A=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ua,l(A,h)&&i.ref===r.ref)return Xr(i,r,g)}return r.flags|=1,i=Es(b,h),i.ref=r.ref,i.return=r,r.child=i}function Zv(i,r,l,h,g){if(i!==null){var b=i.memoizedProps;if(Ua(b,h)&&i.ref===r.ref)if(bn=!1,r.pendingProps=h=b,yp(i,g))(i.flags&131072)!==0&&(bn=!0);else return r.lanes=i.lanes,Xr(i,r,g)}return hp(i,r,l,h,g)}function $v(i,r,l,h){var g=h.children,b=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(h=r.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~b}else h=0,r.child=null;return Yv(i,r,b,l,h)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wh(r,b!==null?b.cachePool:null),b!==null?Wy(r,b):Bm(),Qy(r);else return h=r.lanes=536870912,Yv(i,r,b!==null?b.baseLanes|l:l,l,h)}else b!==null?(Wh(r,b.cachePool),Wy(r,b),Wa(),r.memoizedState=null):(i!==null&&Wh(r,null),Bm(),Wa());return qn(i,r,g,l),r.child}function Eu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Yv(i,r,l,h,g){var b=Dm();return b=b===null?null:{parent:yn._currentValue,pool:b},r.memoizedState={baseLanes:l,cachePool:b},i!==null&&Wh(r,null),Bm(),Qy(r),i!==null&&uc(i,r,h,!0),r.childLanes=g,null}function dd(i,r){return r=md({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Kv(i,r,l){return yl(r,i.child,null,l),i=dd(r,r.pendingProps),i.flags|=2,Xi(r),r.memoizedState=null,i}function $S(i,r,l){var h=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(rt){if(h.mode==="hidden")return i=dd(r,h),r.lanes=536870912,Eu(null,i);if(qm(r),(i=xt)?(i=ob(i,Ri),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oe!==null?{id:ye,overflow:Ce}:null,retryLane:536870912,hydrationErrors:null},l=cu(i),l.return=r,r.child=l,bt=r,xt=null)):i=null,i===null)throw gr(r);return r.lanes=536870912,null}return dd(r,h)}var b=i.memoizedState;if(b!==null){var A=b.dehydrated;if(qm(r),g)if(r.flags&256)r.flags&=-257,r=Kv(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(bn||uc(i,r,l,!1),g=(l&i.childLanes)!==0,bn||g){if(h=jt,h!==null&&(A=qo(h,l),A!==0&&A!==b.retryLane))throw b.retryLane=A,Ts(i,A),Oi(h,i,A),up;Td(),r=Kv(i,r,l)}else i=b.treeContext,xt=As(A.nextSibling),bt=r,rt=!0,pr=null,Ri=!1,i!==null&&ui(r,i),r=dd(r,h),r.flags|=4096;return r}return i=Es(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function fd(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function hp(i,r,l,h,g){return ml(r),l=Gm(i,r,l,h,void 0,g),h=Zm(),i!==null&&!bn?($m(i,r,g),Xr(i,r,g)):(rt&&h&&An(r),r.flags|=1,qn(i,r,l,g),r.child)}function Wv(i,r,l,h,g,b){return ml(r),r.updateQueue=null,l=Jy(r,h,l,g),Xy(i),h=Zm(),i!==null&&!bn?($m(i,r,b),Xr(i,r,b)):(rt&&h&&An(r),r.flags|=1,qn(i,r,l,b),r.child)}function Qv(i,r,l,h,g){if(ml(r),r.stateNode===null){var b=Zr,A=l.contextType;typeof A=="object"&&A!==null&&(b=Hn(A)),b=new l(h,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=lp,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=h,b.state=r.memoizedState,b.refs={},jm(r),A=l.contextType,b.context=typeof A=="object"&&A!==null?Hn(A):Zr,b.state=r.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(op(r,l,A,h),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&lp.enqueueReplaceState(b,b.state,null),vu(r,h,b,g),yu(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){b=r.stateNode;var M=r.memoizedProps,W=bl(l,M);b.props=W;var re=b.context,fe=l.contextType;A=Zr,typeof fe=="object"&&fe!==null&&(A=Hn(fe));var ve=l.getDerivedStateFromProps;fe=typeof ve=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||re!==A)&&jv(r,b,h,A),Za=!1;var le=r.memoizedState;b.state=le,vu(r,h,b,g),yu(),re=r.memoizedState,M||le!==re||Za?(typeof ve=="function"&&(op(r,l,ve,h),re=r.memoizedState),(W=Za||kv(r,l,W,h,le,re,A))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=re),b.props=h,b.state=re,b.context=A,h=W):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{b=r.stateNode,Vm(i,r),A=r.memoizedProps,fe=bl(l,A),b.props=fe,ve=r.pendingProps,le=b.context,re=l.contextType,W=Zr,typeof re=="object"&&re!==null&&(W=Hn(re)),M=l.getDerivedStateFromProps,(re=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==ve||le!==W)&&jv(r,b,h,W),Za=!1,le=r.memoizedState,b.state=le,vu(r,h,b,g),yu();var he=r.memoizedState;A!==ve||le!==he||Za||i!==null&&i.dependencies!==null&&Yh(i.dependencies)?(typeof M=="function"&&(op(r,l,M,h),he=r.memoizedState),(fe=Za||kv(r,l,fe,h,le,he,W)||i!==null&&i.dependencies!==null&&Yh(i.dependencies))?(re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,he,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,he,W)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&le===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&le===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=he),b.props=h,b.state=he,b.context=W,h=fe):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&le===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&le===i.memoizedState||(r.flags|=1024),h=!1)}return b=h,fd(i,r),h=(r.flags&128)!==0,b||h?(b=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,i!==null&&h?(r.child=yl(r,i.child,null,g),r.child=yl(r,null,l,g)):qn(i,r,l,g),r.memoizedState=b.state,i=r.child):i=Xr(i,r,g),i}function Xv(i,r,l,h){return Yr(),r.flags|=256,qn(i,r,l,h),r.child}var dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fp(i){return{baseLanes:i,cachePool:By()}}function mp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=es),i}function Jv(i,r,l){var h=r.pendingProps,g=!1,b=(r.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(dn.current&2)!==0),A&&(g=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if(rt){if(g?Ka(r):Wa(),(i=xt)?(i=ob(i,Ri),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oe!==null?{id:ye,overflow:Ce}:null,retryLane:536870912,hydrationErrors:null},l=cu(i),l.return=r,r.child=l,bt=r,xt=null)):i=null,i===null)throw gr(r);return Wp(i)?r.lanes=32:r.lanes=536870912,null}var M=h.children;return h=h.fallback,g?(Wa(),g=r.mode,M=md({mode:"hidden",children:M},g),h=$r(h,g,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,h=r.child,h.memoizedState=fp(l),h.childLanes=mp(i,A,l),r.memoizedState=dp,Eu(null,h)):(Ka(r),pp(r,M))}var W=i.memoizedState;if(W!==null&&(M=W.dehydrated,M!==null)){if(b)r.flags&256?(Ka(r),r.flags&=-257,r=gp(i,r,l)):r.memoizedState!==null?(Wa(),r.child=i.child,r.flags|=128,r=null):(Wa(),M=h.fallback,g=r.mode,h=md({mode:"visible",children:h.children},g),M=$r(M,g,l,null),M.flags|=2,h.return=r,M.return=r,h.sibling=M,r.child=h,yl(r,i.child,null,l),h=r.child,h.memoizedState=fp(l),h.childLanes=mp(i,A,l),r.memoizedState=dp,r=Eu(null,h));else if(Ka(r),Wp(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var re=A.dgst;A=re,h=Error(s(419)),h.stack="",h.digest=A,dl({value:h,source:null,stack:null}),r=gp(i,r,l)}else if(bn||uc(i,r,l,!1),A=(l&i.childLanes)!==0,bn||A){if(A=jt,A!==null&&(h=qo(A,l),h!==0&&h!==W.retryLane))throw W.retryLane=h,Ts(i,h),Oi(A,i,h),up;Kp(M)||Td(),r=gp(i,r,l)}else Kp(M)?(r.flags|=192,r.child=i.child,r=null):(i=W.treeContext,xt=As(M.nextSibling),bt=r,rt=!0,pr=null,Ri=!1,i!==null&&ui(r,i),r=pp(r,h.children),r.flags|=4096);return r}return g?(Wa(),M=h.fallback,g=r.mode,W=i.child,re=W.sibling,h=Es(W,{mode:"hidden",children:h.children}),h.subtreeFlags=W.subtreeFlags&65011712,re!==null?M=Es(re,M):(M=$r(M,g,l,null),M.flags|=2),M.return=r,h.return=r,h.sibling=M,r.child=h,Eu(null,h),h=r.child,M=i.child.memoizedState,M===null?M=fp(l):(g=M.cachePool,g!==null?(W=yn._currentValue,g=g.parent!==W?{parent:W,pool:W}:g):g=By(),M={baseLanes:M.baseLanes|l,cachePool:g}),h.memoizedState=M,h.childLanes=mp(i,A,l),r.memoizedState=dp,Eu(i.child,h)):(Ka(r),l=i.child,i=l.sibling,l=Es(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=l,r.memoizedState=null,l)}function pp(i,r){return r=md({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function md(i,r){return i=Jn(22,i,null,r),i.lanes=0,i}function gp(i,r,l){return yl(r,i.child,null,l),i=pp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function e0(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Pm(i.return,r,l)}function _p(i,r,l,h,g,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:b}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=l,A.tailMode=g,A.treeForkCount=b)}function t0(i,r,l){var h=r.pendingProps,g=h.revealOrder,b=h.tail;h=h.children;var A=dn.current,M=(A&2)!==0;if(M?(A=A&1|2,r.flags|=128):A&=1,xe(dn,A),qn(i,r,h,l),h=rt?P:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&e0(i,l,r);else if(i.tag===19)e0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&nd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),_p(r,!1,g,l,b,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&nd(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}_p(r,!0,l,null,b,h);break;case"together":_p(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function Xr(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Ja|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(uc(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Es(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Es(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function yp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Yh(i)))}function YS(i,r,l){switch(r.tag){case 3:At(r,r.stateNode.containerInfo),Ga(r,yn,i.memoizedState.cache),Yr();break;case 27:case 5:ji(r);break;case 4:At(r,r.stateNode.containerInfo);break;case 10:Ga(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,qm(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Ka(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Jv(i,r,l):(Ka(r),i=Xr(i,r,l),i!==null?i.sibling:null);Ka(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(uc(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return t0(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),xe(dn,dn.current),h)break;return null;case 22:return r.lanes=0,$v(i,r,l,r.pendingProps);case 24:Ga(r,yn,i.memoizedState.cache)}return Xr(i,r,l)}function n0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)bn=!0;else{if(!yp(i,l)&&(r.flags&128)===0)return bn=!1,YS(i,r,l);bn=(i.flags&131072)!==0}else bn=!1,rt&&(r.flags&1048576)!==0&&Xe(r,P,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(i=gl(r.elementType),r.type=i,typeof i=="function")oc(i)?(h=bl(i,h),r.tag=1,r=Qv(null,r,i,h,l)):(r.tag=0,r=hp(null,r,i,h,l));else{if(i!=null){var g=i.$$typeof;if(g===J){r.tag=11,r=Fv(null,r,i,h,l);break e}else if(g===z){r.tag=14,r=Gv(null,r,i,h,l);break e}}throw r=pe(i)||i,Error(s(306,r,""))}}return r;case 0:return hp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=bl(h,r.pendingProps),Qv(i,r,h,g,l);case 3:e:{if(At(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var b=r.memoizedState;g=b.element,Vm(i,r),vu(r,h,null,l);var A=r.memoizedState;if(h=A.cache,Ga(r,yn,h),h!==b.cache&&Mm(r,[yn],l,!0),yu(),h=A.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Xv(i,r,h,l);break e}else if(h!==g){g=u(Error(s(424)),r),dl(g),r=Xv(i,r,h,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,xt=As(i.firstChild),bt=r,rt=!0,pr=null,Ri=!0,l=$y(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Yr(),h===g){r=Xr(i,r,l);break e}qn(i,r,h,l)}r=r.child}return r;case 26:return fd(i,r),i===null?(l=fb(r.type,null,r.pendingProps,null))?r.memoizedState=l:rt||(l=r.type,i=r.pendingProps,h=Id(Re.current).createElement(l),h[Wt]=r,h[en]=i,Fn(h,l,i),tn(h),r.stateNode=h):r.memoizedState=fb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ji(r),i===null&&rt&&(h=r.stateNode=ub(r.type,r.pendingProps,Re.current),bt=r,Ri=!0,g=xt,so(r.type)?(Qp=g,xt=As(h.firstChild)):xt=g),qn(i,r,r.pendingProps.children,l),fd(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&rt&&((g=h=xt)&&(h=E2(h,r.type,r.pendingProps,Ri),h!==null?(r.stateNode=h,bt=r,xt=As(h.firstChild),Ri=!1,g=!0):g=!1),g||gr(r)),ji(r),g=r.type,b=r.pendingProps,A=i!==null?i.memoizedProps:null,h=b.children,Zp(g,b)?h=null:A!==null&&Zp(g,A)&&(r.flags|=32),r.memoizedState!==null&&(g=Gm(i,r,zS,null,null,l),zu._currentValue=g),fd(i,r),qn(i,r,h,l),r.child;case 6:return i===null&&rt&&((i=l=xt)&&(l=S2(l,r.pendingProps,Ri),l!==null?(r.stateNode=l,bt=r,xt=null,i=!0):i=!1),i||gr(r)),null;case 13:return Jv(i,r,l);case 4:return At(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=yl(r,null,h,l):qn(i,r,h,l),r.child;case 11:return Fv(i,r,r.type,r.pendingProps,l);case 7:return qn(i,r,r.pendingProps,l),r.child;case 8:return qn(i,r,r.pendingProps.children,l),r.child;case 12:return qn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,Ga(r,r.type,h.value),qn(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,ml(r),g=Hn(g),h=h(g),r.flags|=1,qn(i,r,h,l),r.child;case 14:return Gv(i,r,r.type,r.pendingProps,l);case 15:return Zv(i,r,r.type,r.pendingProps,l);case 19:return t0(i,r,l);case 31:return $S(i,r,l);case 22:return $v(i,r,l,r.pendingProps);case 24:return ml(r),h=Hn(yn),i===null?(g=Dm(),g===null&&(g=jt,b=Lm(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),r.memoizedState={parent:h,cache:g},jm(r),Ga(r,yn,g)):((i.lanes&l)!==0&&(Vm(i,r),vu(r,null,null,l),yu()),g=i.memoizedState,b=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ga(r,yn,h)):(h=b.cache,Ga(r,yn,h),h!==g.cache&&Mm(r,[yn],l,!0))),qn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Jr(i){i.flags|=4}function vp(i,r,l,h,g){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(R0())i.flags|=8192;else throw _l=Xh,km}else i.flags&=-16777217}function i0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!yb(r))if(R0())i.flags|=8192;else throw _l=Xh,km}function pd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?$l():536870912,i.lanes|=r,wc|=r)}function Su(i,r){if(!rt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function qt(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function KS(i,r,l){var h=r.pendingProps;switch(nn(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(r),null;case 1:return qt(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Kr(yn),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Gs(r)?Jr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,du())),qt(r),null;case 26:var g=r.type,b=r.memoizedState;return i===null?(Jr(r),b!==null?(qt(r),i0(r,b)):(qt(r),vp(r,g,null,h,l))):b?b!==i.memoizedState?(Jr(r),qt(r),i0(r,b)):(qt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&Jr(r),qt(r),vp(r,g,i,h,l)),null;case 27:if(as(r),l=Re.current,g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Jr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return qt(r),null}i=Ee.current,Gs(r)?hu(r):(i=ub(g,h,l),r.stateNode=i,Jr(r))}return qt(r),null;case 5:if(as(r),g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&Jr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return qt(r),null}if(b=Ee.current,Gs(r))hu(r);else{var A=Id(Re.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?A.createElement(g,{is:h.is}):A.createElement(g)}}b[Wt]=r,b[en]=h;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=b;e:switch(Fn(b,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Jr(r)}}return qt(r),vp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&Jr(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=Re.current,Gs(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=bt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Wt]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||J0(i.nodeValue,l)),i||gr(r,!0)}else i=Id(i).createTextNode(h),i[Wt]=r,r.stateNode=i}return qt(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(h=Gs(r),l!==null){if(i===null){if(!h)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Wt]=r}else Yr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),i=!1}else l=du(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(Xi(r),r):(Xi(r),null);if((r.flags&128)!==0)throw Error(s(558))}return qt(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Gs(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Wt]=r}else Yr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),g=!1}else g=du(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Xi(r),r):(Xi(r),null)}return Xi(r),(r.flags&128)!==0?(r.lanes=l,r):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==g&&(h.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),pd(r,r.updateQueue),qt(r),null);case 4:return Ct(),i===null&&Bp(r.stateNode.containerInfo),qt(r),null;case 10:return Kr(r.type),qt(r),null;case 19:if(ue(dn),h=r.memoizedState,h===null)return qt(r),null;if(g=(r.flags&128)!==0,b=h.rendering,b===null)if(g)Su(h,!1);else{if(rn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(b=nd(i),b!==null){for(r.flags|=128,Su(h,!1),i=b.updateQueue,r.updateQueue=i,pd(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)lu(l,i),l=l.sibling;return xe(dn,dn.current&1|2),rt&&je(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&Bn()>bd&&(r.flags|=128,g=!0,Su(h,!1),r.lanes=4194304)}else{if(!g)if(i=nd(b),i!==null){if(r.flags|=128,g=!0,i=i.updateQueue,r.updateQueue=i,pd(r,i),Su(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!rt)return qt(r),null}else 2*Bn()-h.renderingStartTime>bd&&l!==536870912&&(r.flags|=128,g=!0,Su(h,!1),r.lanes=4194304);h.isBackwards?(b.sibling=r.child,r.child=b):(i=h.last,i!==null?i.sibling=b:r.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Bn(),i.sibling=null,l=dn.current,xe(dn,g?l&1|2:l&1),rt&&je(r,h.treeForkCount),i):(qt(r),null);case 22:case 23:return Xi(r),Hm(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(qt(r),r.subtreeFlags&6&&(r.flags|=8192)):qt(r),l=r.updateQueue,l!==null&&pd(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&ue(pl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Kr(yn),qt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function WS(i,r){switch(nn(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Kr(yn),Ct(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return as(r),null;case 31:if(r.memoizedState!==null){if(Xi(r),r.alternate===null)throw Error(s(340));Yr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Xi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Yr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ue(dn),null;case 4:return Ct(),null;case 10:return Kr(r.type),null;case 22:case 23:return Xi(r),Hm(),i!==null&&ue(pl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Kr(yn),null;case 25:return null;default:return null}}function s0(i,r){switch(nn(r),r.tag){case 3:Kr(yn),Ct();break;case 26:case 27:case 5:as(r);break;case 4:Ct();break;case 31:r.memoizedState!==null&&Xi(r);break;case 13:Xi(r);break;case 19:ue(dn);break;case 10:Kr(r.type);break;case 22:case 23:Xi(r),Hm(),i!==null&&ue(pl);break;case 24:Kr(yn)}}function Au(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var b=l.create,A=l.inst;h=b(),A.destroy=h}l=l.next}while(l!==g)}}catch(M){Pt(r,r.return,M)}}function Qa(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var b=g.next;h=b;do{if((h.tag&i)===i){var A=h.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,g=r;var W=l,re=M;try{re()}catch(fe){Pt(g,W,fe)}}}h=h.next}while(h!==b)}}catch(fe){Pt(r,r.return,fe)}}function r0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{Ky(r,l)}catch(h){Pt(i,i.return,h)}}}function a0(i,r,l){l.props=bl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Pt(i,r,h)}}function Cu(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Pt(i,r,g)}}function yr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Pt(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Pt(i,r,g)}else l.current=null}function o0(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Pt(i,i.return,g)}}function bp(i,r,l){try{var h=i.stateNode;y2(h,i.type,l,r),h[en]=r}catch(g){Pt(i,i.return,g)}}function l0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&so(i.type)||i.tag===4}function xp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&so(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function wp(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Yn));else if(h!==4&&(h===27&&so(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(wp(i,r,l),i=i.sibling;i!==null;)wp(i,r,l),i=i.sibling}function gd(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&so(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(gd(i,r,l),i=i.sibling;i!==null;)gd(i,r,l),i=i.sibling}function c0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Fn(r,h,l),r[Wt]=i,r[en]=l}catch(b){Pt(i,i.return,b)}}var ea=!1,xn=!1,Tp=!1,u0=typeof WeakSet=="function"?WeakSet:Set,jn=null;function QS(i,r){if(i=i.containerInfo,Fp=jd,i=sl(i),ur(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var A=0,M=-1,W=-1,re=0,fe=0,ve=i,le=null;t:for(;;){for(var he;ve!==l||g!==0&&ve.nodeType!==3||(M=A+g),ve!==b||h!==0&&ve.nodeType!==3||(W=A+h),ve.nodeType===3&&(A+=ve.nodeValue.length),(he=ve.firstChild)!==null;)le=ve,ve=he;for(;;){if(ve===i)break t;if(le===l&&++re===g&&(M=A),le===b&&++fe===h&&(W=A),(he=ve.nextSibling)!==null)break;ve=le,le=ve.parentNode}ve=he}l=M===-1||W===-1?null:{start:M,end:W}}else l=null}l=l||{start:0,end:0}}else l=null;for(Gp={focusedElem:i,selectionRange:l},jd=!1,jn=r;jn!==null;)if(r=jn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,jn=i;else for(;jn!==null;){switch(r=jn,b=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=r,g=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var De=bl(l.type,g);i=h.getSnapshotBeforeUpdate(De,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Be){Pt(l,l.return,Be)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Yp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Yp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,jn=i;break}jn=r.return}}function h0(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:na(i,l),h&4&&Au(5,l);break;case 1:if(na(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(A){Pt(l,l.return,A)}else{var g=bl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Pt(l,l.return,A)}}h&64&&r0(l),h&512&&Cu(l,l.return);break;case 3:if(na(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Ky(i,r)}catch(A){Pt(l,l.return,A)}}break;case 27:r===null&&h&4&&c0(l);case 26:case 5:na(i,l),r===null&&h&4&&o0(l),h&512&&Cu(l,l.return);break;case 12:na(i,l);break;case 31:na(i,l),h&4&&m0(i,l);break;case 13:na(i,l),h&4&&p0(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=a2.bind(null,l),A2(i,l))));break;case 22:if(h=l.memoizedState!==null||ea,!h){r=r!==null&&r.memoizedState!==null||xn,g=ea;var b=xn;ea=h,(xn=r)&&!b?ia(i,l,(l.subtreeFlags&8772)!==0):na(i,l),ea=g,xn=b}break;case 30:break;default:na(i,l)}}function d0(i){var r=i.alternate;r!==null&&(i.alternate=null,d0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ca(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Gt=null,Ii=!1;function ta(i,r,l){for(l=l.child;l!==null;)f0(i,r,l),l=l.sibling}function f0(i,r,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(_i,l)}catch{}switch(l.tag){case 26:xn||yr(l,r),ta(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xn||yr(l,r);var h=Gt,g=Ii;so(l.type)&&(Gt=l.stateNode,Ii=!1),ta(i,r,l),ku(l.stateNode),Gt=h,Ii=g;break;case 5:xn||yr(l,r);case 6:if(h=Gt,g=Ii,Gt=null,ta(i,r,l),Gt=h,Ii=g,Gt!==null)if(Ii)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(l.stateNode)}catch(b){Pt(l,r,b)}else try{Gt.removeChild(l.stateNode)}catch(b){Pt(l,r,b)}break;case 18:Gt!==null&&(Ii?(i=Gt,rb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ic(i)):rb(Gt,l.stateNode));break;case 4:h=Gt,g=Ii,Gt=l.stateNode.containerInfo,Ii=!0,ta(i,r,l),Gt=h,Ii=g;break;case 0:case 11:case 14:case 15:Qa(2,l,r),xn||Qa(4,l,r),ta(i,r,l);break;case 1:xn||(yr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&a0(l,r,h)),ta(i,r,l);break;case 21:ta(i,r,l);break;case 22:xn=(h=xn)||l.memoizedState!==null,ta(i,r,l),xn=h;break;default:ta(i,r,l)}}function m0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ic(i)}catch(l){Pt(r,r.return,l)}}}function p0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ic(i)}catch(l){Pt(r,r.return,l)}}function XS(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new u0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new u0),r;default:throw Error(s(435,i.tag))}}function _d(i,r){var l=XS(i);r.forEach(function(h){if(!l.has(h)){l.add(h);var g=o2.bind(null,i,h);h.then(g,g)}})}function Pi(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],b=i,A=r,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(so(M.type)){Gt=M.stateNode,Ii=!1;break e}break;case 5:Gt=M.stateNode,Ii=!1;break e;case 3:case 4:Gt=M.stateNode.containerInfo,Ii=!0;break e}M=M.return}if(Gt===null)throw Error(s(160));f0(b,A,g),Gt=null,Ii=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)g0(r,i),r=r.sibling}var $s=null;function g0(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pi(r,i),Mi(i),h&4&&(Qa(3,i,i.return),Au(3,i),Qa(5,i,i.return));break;case 1:Pi(r,i),Mi(i),h&512&&(xn||l===null||yr(l,l.return)),h&64&&ea&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=$s;if(Pi(r,i),Mi(i),h&512&&(xn||l===null||yr(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":b=g.getElementsByTagName("title")[0],(!b||b[ds]||b[Wt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(h),g.head.insertBefore(b,g.querySelector("head > title"))),Fn(b,h,l),b[Wt]=i,tn(b),h=b;break e;case"link":var A=gb("link","href",g).get(h+(l.href||""));if(A){for(var M=0;M<A.length;M++)if(b=A[M],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(M,1);break t}}b=g.createElement(h),Fn(b,h,l),g.head.appendChild(b);break;case"meta":if(A=gb("meta","content",g).get(h+(l.content||""))){for(M=0;M<A.length;M++)if(b=A[M],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(M,1);break t}}b=g.createElement(h),Fn(b,h,l),g.head.appendChild(b);break;default:throw Error(s(468,h))}b[Wt]=i,tn(b),h=b}i.stateNode=h}else _b(g,i.type,i.stateNode);else i.stateNode=pb(g,h,i.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?_b(g,i.type,i.stateNode):pb(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&bp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Pi(r,i),Mi(i),h&512&&(xn||l===null||yr(l,l.return)),l!==null&&h&4&&bp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Pi(r,i),Mi(i),h&512&&(xn||l===null||yr(l,l.return)),i.flags&32){g=i.stateNode;try{gn(g,"")}catch(De){Pt(i,i.return,De)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,bp(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Tp=!0);break;case 6:if(Pi(r,i),Mi(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){Pt(i,i.return,De)}}break;case 3:if(Ld=null,g=$s,$s=Pd(r.containerInfo),Pi(r,i),$s=g,Mi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ic(r.containerInfo)}catch(De){Pt(i,i.return,De)}Tp&&(Tp=!1,_0(i));break;case 4:h=$s,$s=Pd(i.stateNode.containerInfo),Pi(r,i),Mi(i),$s=h;break;case 12:Pi(r,i),Mi(i);break;case 31:Pi(r,i),Mi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_d(i,h)));break;case 13:Pi(r,i),Mi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vd=Bn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_d(i,h)));break;case 22:g=i.memoizedState!==null;var W=l!==null&&l.memoizedState!==null,re=ea,fe=xn;if(ea=re||g,xn=fe||W,Pi(r,i),xn=fe,ea=re,Mi(i),h&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||W||ea||xn||xl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){W=l=r;try{if(b=W.stateNode,g)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=W.stateNode;var ve=W.memoizedProps.style,le=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;M.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(De){Pt(W,W.return,De)}}}else if(r.tag===6){if(l===null){W=r;try{W.stateNode.nodeValue=g?"":W.memoizedProps}catch(De){Pt(W,W.return,De)}}}else if(r.tag===18){if(l===null){W=r;try{var he=W.stateNode;g?ab(he,!0):ab(W.stateNode,!1)}catch(De){Pt(W,W.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,_d(i,l))));break;case 19:Pi(r,i),Mi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_d(i,h)));break;case 30:break;case 21:break;default:Pi(r,i),Mi(i)}}function Mi(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(l0(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,b=xp(i);gd(i,b,g);break;case 5:var A=l.stateNode;l.flags&32&&(gn(A,""),l.flags&=-33);var M=xp(i);gd(i,M,A);break;case 3:case 4:var W=l.stateNode.containerInfo,re=xp(i);wp(i,re,W);break;default:throw Error(s(161))}}catch(fe){Pt(i,i.return,fe)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function _0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;_0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function na(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h0(i,r.alternate,r),r=r.sibling}function xl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Qa(4,r,r.return),xl(r);break;case 1:yr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&a0(r,r.return,l),xl(r);break;case 27:ku(r.stateNode);case 26:case 5:yr(r,r.return),xl(r);break;case 22:r.memoizedState===null&&xl(r);break;case 30:xl(r);break;default:xl(r)}i=i.sibling}}function ia(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,b=r,A=b.flags;switch(b.tag){case 0:case 11:case 15:ia(g,b,l),Au(4,b);break;case 1:if(ia(g,b,l),h=b,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(re){Pt(h,h.return,re)}if(h=b,g=h.updateQueue,g!==null){var M=h.stateNode;try{var W=g.shared.hiddenCallbacks;if(W!==null)for(g.shared.hiddenCallbacks=null,g=0;g<W.length;g++)Yy(W[g],M)}catch(re){Pt(h,h.return,re)}}l&&A&64&&r0(b),Cu(b,b.return);break;case 27:c0(b);case 26:case 5:ia(g,b,l),l&&h===null&&A&4&&o0(b),Cu(b,b.return);break;case 12:ia(g,b,l);break;case 31:ia(g,b,l),l&&A&4&&m0(g,b);break;case 13:ia(g,b,l),l&&A&4&&p0(g,b);break;case 22:b.memoizedState===null&&ia(g,b,l),Cu(b,b.return);break;case 30:break;default:ia(g,b,l)}r=r.sibling}}function Ep(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&fu(l))}function Sp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&fu(i))}function Ys(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)y0(i,r,l,h),r=r.sibling}function y0(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Ys(i,r,l,h),g&2048&&Au(9,r);break;case 1:Ys(i,r,l,h);break;case 3:Ys(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&fu(i)));break;case 12:if(g&2048){Ys(i,r,l,h),i=r.stateNode;try{var b=r.memoizedProps,A=b.id,M=b.onPostCommit;typeof M=="function"&&M(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(W){Pt(r,r.return,W)}}else Ys(i,r,l,h);break;case 31:Ys(i,r,l,h);break;case 13:Ys(i,r,l,h);break;case 23:break;case 22:b=r.stateNode,A=r.alternate,r.memoizedState!==null?b._visibility&2?Ys(i,r,l,h):Nu(i,r):b._visibility&2?Ys(i,r,l,h):(b._visibility|=2,vc(i,r,l,h,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Ep(A,r);break;case 24:Ys(i,r,l,h),g&2048&&Sp(r.alternate,r);break;default:Ys(i,r,l,h)}}function vc(i,r,l,h,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=i,A=r,M=l,W=h,re=A.flags;switch(A.tag){case 0:case 11:case 15:vc(b,A,M,W,g),Au(8,A);break;case 23:break;case 22:var fe=A.stateNode;A.memoizedState!==null?fe._visibility&2?vc(b,A,M,W,g):Nu(b,A):(fe._visibility|=2,vc(b,A,M,W,g)),g&&re&2048&&Ep(A.alternate,A);break;case 24:vc(b,A,M,W,g),g&&re&2048&&Sp(A.alternate,A);break;default:vc(b,A,M,W,g)}r=r.sibling}}function Nu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:Nu(l,h),g&2048&&Ep(h.alternate,h);break;case 24:Nu(l,h),g&2048&&Sp(h.alternate,h);break;default:Nu(l,h)}r=r.sibling}}var Ru=8192;function bc(i,r,l){if(i.subtreeFlags&Ru)for(i=i.child;i!==null;)v0(i,r,l),i=i.sibling}function v0(i,r,l){switch(i.tag){case 26:bc(i,r,l),i.flags&Ru&&i.memoizedState!==null&&V2(l,$s,i.memoizedState,i.memoizedProps);break;case 5:bc(i,r,l);break;case 3:case 4:var h=$s;$s=Pd(i.stateNode.containerInfo),bc(i,r,l),$s=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Ru,Ru=16777216,bc(i,r,l),Ru=h):bc(i,r,l));break;default:bc(i,r,l)}}function b0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Iu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];jn=h,w0(h,i)}b0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x0(i),i=i.sibling}function x0(i){switch(i.tag){case 0:case 11:case 15:Iu(i),i.flags&2048&&Qa(9,i,i.return);break;case 3:Iu(i);break;case 12:Iu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,yd(i)):Iu(i);break;default:Iu(i)}}function yd(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];jn=h,w0(h,i)}b0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Qa(8,r,r.return),yd(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,yd(r));break;default:yd(r)}i=i.sibling}}function w0(i,r){for(;jn!==null;){var l=jn;switch(l.tag){case 0:case 11:case 15:Qa(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:fu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,jn=h;else e:for(l=i;jn!==null;){h=jn;var g=h.sibling,b=h.return;if(d0(h),h===l){jn=null;break e}if(g!==null){g.return=b,jn=g;break e}jn=b}}}var JS={getCacheForType:function(i){var r=Hn(yn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return Hn(yn).controller.signal}},e2=typeof WeakMap=="function"?WeakMap:Map,Et=0,jt=null,at=null,ct=0,It=0,Ji=null,Xa=!1,xc=!1,Ap=!1,sa=0,rn=0,Ja=0,wl=0,Cp=0,es=0,wc=0,Pu=null,Li=null,Np=!1,vd=0,T0=0,bd=1/0,xd=null,eo=null,Cn=0,to=null,Tc=null,ra=0,Rp=0,Ip=null,E0=null,Mu=0,Pp=null;function ts(){return(Et&2)!==0&&ct!==0?ct&-ct:ae.T!==null?jp():Fo()}function S0(){if(es===0)if((ct&536870912)===0||rt){var i=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),es=i}else es=536870912;return i=Qi.current,i!==null&&(i.flags|=32),es}function Oi(i,r,l){(i===jt&&(It===2||It===9)||i.cancelPendingCommit!==null)&&(Ec(i,0),no(i,ct,es,!1)),Os(i,l),((Et&2)===0||i!==jt)&&(i===jt&&((Et&2)===0&&(wl|=l),rn===4&&no(i,ct,es,!1)),vr(i))}function A0(i,r,l){if((Et&6)!==0)throw Error(s(327));var h=!l&&(r&127)===0&&(r&i.expiredLanes)===0||zi(i,r),g=h?i2(i,r):Lp(i,r,!0),b=h;do{if(g===0){xc&&!h&&no(i,r,0,!1);break}else{if(l=i.current.alternate,b&&!t2(l)){g=Lp(i,r,!1),b=!1;continue}if(g===2){if(b=r,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var M=i;g=Pu;var W=M.current.memoizedState.isDehydrated;if(W&&(Ec(M,A).flags|=256),A=Lp(M,A,!1),A!==2){if(Ap&&!W){M.errorRecoveryDisabledLanes|=b,wl|=b,g=4;break e}b=Li,Li=g,b!==null&&(Li===null?Li=b:Li.push.apply(Li,b))}g=A}if(b=!1,g!==2)continue}}if(g===1){Ec(i,0),no(i,r,0,!0);break}e:{switch(h=i,b=g,b){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:no(h,r,es,!Xa);break e;case 2:Li=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=vd+300-Bn(),10<g)){if(no(h,r,es,!Xa),us(h,0,!0)!==0)break e;ra=r,h.timeoutHandle=ib(C0.bind(null,h,l,Li,xd,Np,r,es,wl,wc,Xa,b,"Throttled",-0,0),g);break e}C0(h,l,Li,xd,Np,r,es,wl,wc,Xa,b,null,-0,0)}}break}while(!0);vr(i)}function C0(i,r,l,h,g,b,A,M,W,re,fe,ve,le,he){if(i.timeoutHandle=-1,ve=r.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},v0(r,b,ve);var De=(b&62914560)===b?vd-Bn():(b&4194048)===b?T0-Bn():0;if(De=z2(ve,De),De!==null){ra=b,i.cancelPendingCommit=De(D0.bind(null,i,r,b,l,h,g,A,M,W,fe,ve,null,le,he)),no(i,b,A,!re);return}}D0(i,r,b,l,h,g,A,M,W)}function t2(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],b=g.getSnapshot;g=g.value;try{if(!Dn(b(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function no(i,r,l,h){r&=~Cp,r&=~wl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var b=31-Yt(g),A=1<<b;h[b]=-1,g&=~A}l!==0&&jr(i,l,r)}function wd(){return(Et&6)===0?(Lu(0),!1):!0}function Mp(){if(at!==null){if(It===0)var i=at.return;else i=at,Zs=_r=null,Ym(i),mc=null,pu=0,i=at;for(;i!==null;)s0(i.alternate,i),i=i.return;at=null}}function Ec(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,x2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ra=0,Mp(),jt=i,at=l=Es(i.current,null),ct=r,It=0,Ji=null,Xa=!1,xc=zi(i,r),Ap=!1,wc=es=Cp=wl=Ja=rn=0,Li=Pu=null,Np=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-Yt(h),b=1<<g;r|=i[g],h&=~b}return sa=r,cl(),l}function N0(i,r){Qe=null,ae.H=Tu,r===fc||r===Qh?(r=Fy(),It=3):r===km?(r=Fy(),It=4):It=r===up?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ji=r,at===null&&(rn=1,hd(i,u(r,i.current)))}function R0(){var i=Qi.current;return i===null?!0:(ct&4194048)===ct?Ss===null:(ct&62914560)===ct||(ct&536870912)!==0?i===Ss:!1}function I0(){var i=ae.H;return ae.H=Tu,i===null?Tu:i}function P0(){var i=ae.A;return ae.A=JS,i}function Td(){rn=4,Xa||(ct&4194048)!==ct&&Qi.current!==null||(xc=!0),(Ja&134217727)===0&&(wl&134217727)===0||jt===null||no(jt,ct,es,!1)}function Lp(i,r,l){var h=Et;Et|=2;var g=I0(),b=P0();(jt!==i||ct!==r)&&(xd=null,Ec(i,r)),r=!1;var A=rn;e:do try{if(It!==0&&at!==null){var M=at,W=Ji;switch(It){case 8:Mp(),A=6;break e;case 3:case 2:case 9:case 6:Qi.current===null&&(r=!0);var re=It;if(It=0,Ji=null,Sc(i,M,W,re),l&&xc){A=0;break e}break;default:re=It,It=0,Ji=null,Sc(i,M,W,re)}}n2(),A=rn;break}catch(fe){N0(i,fe)}while(!0);return r&&i.shellSuspendCounter++,Zs=_r=null,Et=h,ae.H=g,ae.A=b,at===null&&(jt=null,ct=0,cl()),A}function n2(){for(;at!==null;)M0(at)}function i2(i,r){var l=Et;Et|=2;var h=I0(),g=P0();jt!==i||ct!==r?(xd=null,bd=Bn()+500,Ec(i,r)):xc=zi(i,r);e:do try{if(It!==0&&at!==null){r=at;var b=Ji;t:switch(It){case 1:It=0,Ji=null,Sc(i,r,b,1);break;case 2:case 9:if(Hy(b)){It=0,Ji=null,L0(r);break}r=function(){It!==2&&It!==9||jt!==i||(It=7),vr(i)},b.then(r,r);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:Hy(b)?(It=0,Ji=null,L0(r)):(It=0,Ji=null,Sc(i,r,b,7));break;case 5:var A=null;switch(at.tag){case 26:A=at.memoizedState;case 5:case 27:var M=at;if(A?yb(A):M.stateNode.complete){It=0,Ji=null;var W=M.sibling;if(W!==null)at=W;else{var re=M.return;re!==null?(at=re,Ed(re)):at=null}break t}}It=0,Ji=null,Sc(i,r,b,5);break;case 6:It=0,Ji=null,Sc(i,r,b,6);break;case 8:Mp(),rn=6;break e;default:throw Error(s(462))}}s2();break}catch(fe){N0(i,fe)}while(!0);return Zs=_r=null,ae.H=h,ae.A=g,Et=l,at!==null?0:(jt=null,ct=0,cl(),rn)}function s2(){for(;at!==null&&!Fl();)M0(at)}function M0(i){var r=n0(i.alternate,i,sa);i.memoizedProps=i.pendingProps,r===null?Ed(i):at=r}function L0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=Wv(l,r,r.pendingProps,r.type,void 0,ct);break;case 11:r=Wv(l,r,r.pendingProps,r.type.render,r.ref,ct);break;case 5:Ym(r);default:s0(l,r),r=at=lu(r,sa),r=n0(l,r,sa)}i.memoizedProps=i.pendingProps,r===null?Ed(i):at=r}function Sc(i,r,l,h){Zs=_r=null,Ym(r),mc=null,pu=0;var g=r.return;try{if(ZS(i,g,r,l,ct)){rn=1,hd(i,u(l,i.current)),at=null;return}}catch(b){if(g!==null)throw at=g,b;rn=1,hd(i,u(l,i.current)),at=null;return}r.flags&32768?(rt||h===1?i=!0:xc||(ct&536870912)!==0?i=!1:(Xa=i=!0,(h===2||h===9||h===3||h===6)&&(h=Qi.current,h!==null&&h.tag===13&&(h.flags|=16384))),O0(r,i)):Ed(r)}function Ed(i){var r=i;do{if((r.flags&32768)!==0){O0(r,Xa);return}i=r.return;var l=KS(r.alternate,r,sa);if(l!==null){at=l;return}if(r=r.sibling,r!==null){at=r;return}at=r=i}while(r!==null);rn===0&&(rn=5)}function O0(i,r){do{var l=WS(i.alternate,i);if(l!==null){l.flags&=32767,at=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){at=i;return}at=i=l}while(i!==null);rn=6,at=null}function D0(i,r,l,h,g,b,A,M,W){i.cancelPendingCommit=null;do Sd();while(Cn!==0);if((Et&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(b=r.lanes|r.childLanes,b|=ac,au(i,l,b,A,M,W),i===jt&&(at=jt=null,ct=0),Tc=r,to=i,ra=l,Rp=b,Ip=g,E0=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,l2(Ls,function(){return U0(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null,g=Te.p,Te.p=2,A=Et,Et|=4;try{QS(i,r,l)}finally{Et=A,Te.p=g,ae.T=h}}Cn=1,k0(),j0(),V0()}}function k0(){if(Cn===1){Cn=0;var i=to,r=Tc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=ae.T,ae.T=null;var h=Te.p;Te.p=2;var g=Et;Et|=4;try{g0(r,i);var b=Gp,A=sl(i.containerInfo),M=b.focusedElem,W=b.selectionRange;if(A!==M&&M&&M.ownerDocument&&nc(M.ownerDocument.documentElement,M)){if(W!==null&&ur(M)){var re=W.start,fe=W.end;if(fe===void 0&&(fe=re),"selectionStart"in M)M.selectionStart=re,M.selectionEnd=Math.min(fe,M.value.length);else{var ve=M.ownerDocument||document,le=ve&&ve.defaultView||window;if(le.getSelection){var he=le.getSelection(),De=M.textContent.length,Be=Math.min(W.start,De),Ot=W.end===void 0?Be:Math.min(W.end,De);!he.extend&&Be>Ot&&(A=Ot,Ot=Be,Be=A);var te=il(M,Be),X=il(M,Ot);if(te&&X&&(he.rangeCount!==1||he.anchorNode!==te.node||he.anchorOffset!==te.offset||he.focusNode!==X.node||he.focusOffset!==X.offset)){var se=ve.createRange();se.setStart(te.node,te.offset),he.removeAllRanges(),Be>Ot?(he.addRange(se),he.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),he.addRange(se))}}}}for(ve=[],he=M;he=he.parentNode;)he.nodeType===1&&ve.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ve.length;M++){var ge=ve[M];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}jd=!!Fp,Gp=Fp=null}finally{Et=g,Te.p=h,ae.T=l}}i.current=r,Cn=2}}function j0(){if(Cn===2){Cn=0;var i=to,r=Tc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=ae.T,ae.T=null;var h=Te.p;Te.p=2;var g=Et;Et|=4;try{h0(i,r.alternate,r)}finally{Et=g,Te.p=h,ae.T=l}}Cn=3}}function V0(){if(Cn===4||Cn===3){Cn=0,zo();var i=to,r=Tc,l=ra,h=E0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Cn=5:(Cn=0,Tc=to=null,z0(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(eo=null),Oe(l),r=r.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(_i,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=ae.T,g=Te.p,Te.p=2,ae.T=null;try{for(var b=i.onRecoverableError,A=0;A<h.length;A++){var M=h[A];b(M.value,{componentStack:M.stack})}}finally{ae.T=r,Te.p=g}}(ra&3)!==0&&Sd(),vr(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===Pp?Mu++:(Mu=0,Pp=i):Mu=0,Lu(0)}}function z0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,fu(r)))}function Sd(){return k0(),j0(),V0(),U0()}function U0(){if(Cn!==5)return!1;var i=to,r=Rp;Rp=0;var l=Oe(ra),h=ae.T,g=Te.p;try{Te.p=32>l?32:l,ae.T=null,l=Ip,Ip=null;var b=to,A=ra;if(Cn=0,Tc=to=null,ra=0,(Et&6)!==0)throw Error(s(331));var M=Et;if(Et|=4,x0(b.current),y0(b,b.current,A,l),Et=M,Lu(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(_i,b)}catch{}return!0}finally{Te.p=g,ae.T=h,z0(i,r)}}function B0(i,r,l){r=u(l,r),r=cp(i.stateNode,r,2),i=Ya(i,r,2),i!==null&&(Os(i,2),vr(i))}function Pt(i,r,l){if(i.tag===3)B0(i,i,l);else for(;r!==null;){if(r.tag===3){B0(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(eo===null||!eo.has(h))){i=u(l,i),l=Hv(2),h=Ya(r,l,2),h!==null&&(qv(l,h,r,i),Os(h,2),vr(h));break}}r=r.return}}function Op(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new e2;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(Ap=!0,g.add(l),i=r2.bind(null,i,r,l),r.then(i,i))}function r2(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,jt===i&&(ct&l)===l&&(rn===4||rn===3&&(ct&62914560)===ct&&300>Bn()-vd?(Et&2)===0&&Ec(i,0):Cp|=l,wc===ct&&(wc=0)),vr(i)}function H0(i,r){r===0&&(r=$l()),i=Ts(i,r),i!==null&&(Os(i,r),vr(i))}function a2(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),H0(i,l)}function o2(i,r){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),H0(i,l)}function l2(i,r){return Jt(i,r)}var Ad=null,Ac=null,Dp=!1,Cd=!1,kp=!1,io=0;function vr(i){i!==Ac&&i.next===null&&(Ac===null?Ad=Ac=i:Ac=Ac.next=i),Cd=!0,Dp||(Dp=!0,u2())}function Lu(i,r){if(!kp&&Cd){kp=!0;do for(var l=!1,h=Ad;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var b=0;else{var A=h.suspendedLanes,M=h.pingedLanes;b=(1<<31-Yt(42|i)+1)-1,b&=g&~(A&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Z0(h,b))}else b=ct,b=us(h,h===jt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||zi(h,b)||(l=!0,Z0(h,b));h=h.next}while(l);kp=!1}}function c2(){q0()}function q0(){Cd=Dp=!1;var i=0;io!==0&&b2()&&(i=io);for(var r=Bn(),l=null,h=Ad;h!==null;){var g=h.next,b=F0(h,r);b===0?(h.next=null,l===null?Ad=g:l.next=g,g===null&&(Ac=l)):(l=h,(i!==0||(b&3)!==0)&&(Cd=!0)),h=g}Cn!==0&&Cn!==5||Lu(i),io!==0&&(io=0)}function F0(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-Yt(b),M=1<<A,W=g[A];W===-1?((M&l)===0||(M&h)!==0)&&(g[A]=ru(M,r)):W<=r&&(i.expiredLanes|=M),b&=~M}if(r=jt,l=ct,l=us(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(It===2||It===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ls(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||zi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&ls(h),Oe(l)){case 2:case 8:l=Sa;break;case 32:l=Ls;break;case 268435456:l=Uo;break;default:l=Ls}return h=G0.bind(null,i),l=Jt(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&ls(h),i.callbackPriority=2,i.callbackNode=null,2}function G0(i,r){if(Cn!==0&&Cn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Sd()&&i.callbackNode!==l)return null;var h=ct;return h=us(i,i===jt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(A0(i,h,r),F0(i,Bn()),i.callbackNode!=null&&i.callbackNode===l?G0.bind(null,i):null)}function Z0(i,r){if(Sd())return null;A0(i,r,!0)}function u2(){w2(function(){(Et&6)!==0?Jt(kr,c2):q0()})}function jp(){if(io===0){var i=hc;i===0&&(i=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),io=i}return io}function $0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rr(""+i)}function Y0(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function h2(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var b=$0((g[en]||null).action),A=h.submitter;A&&(r=(r=A[en]||null)?$0(r.formAction):A.getAttribute("formAction"),r!==null&&(b=r,A=null));var M=new vs("action","action",null,h,g);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(io!==0){var W=A?Y0(g,A):new FormData(g);ip(l,{pending:!0,data:W,method:g.method,action:b},null,W)}}else typeof b=="function"&&(M.preventDefault(),W=A?Y0(g,A):new FormData(g),ip(l,{pending:!0,data:W,method:g.method,action:b},b,W))},currentTarget:g}]})}}for(var Vp=0;Vp<fr.length;Vp++){var zp=fr[Vp],d2=zp.toLowerCase(),f2=zp[0].toUpperCase()+zp.slice(1);Ci(d2,"on"+f2)}Ci(al,"onAnimationEnd"),Ci(Gh,"onAnimationIteration"),Ci(ol,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Nm,"onTransitionRun"),Ci(Zh,"onTransitionStart"),Ci(Rm,"onTransitionCancel"),Ci(qa,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function K0(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var b=void 0;if(r)for(var A=h.length-1;0<=A;A--){var M=h[A],W=M.instance,re=M.currentTarget;if(M=M.listener,W!==b&&g.isPropagationStopped())break e;b=M,g.currentTarget=re;try{b(g)}catch(fe){ll(fe)}g.currentTarget=null,b=W}else for(A=0;A<h.length;A++){if(M=h[A],W=M.instance,re=M.currentTarget,M=M.listener,W!==b&&g.isPropagationStopped())break e;b=M,g.currentTarget=re;try{b(g)}catch(fe){ll(fe)}g.currentTarget=null,b=W}}}}function ot(i,r){var l=r[Bi];l===void 0&&(l=r[Bi]=new Set);var h=i+"__bubble";l.has(h)||(W0(r,i,2,!1),l.add(h))}function Up(i,r,l){var h=0;r&&(h|=4),W0(l,i,h,r)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function Bp(i){if(!i[Nd]){i[Nd]=!0,Go.forEach(function(l){l!=="selectionchange"&&(m2.has(l)||Up(l,!1,i),Up(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Nd]||(r[Nd]=!0,Up("selectionchange",!1,r))}}function W0(i,r,l,h){switch(Sb(r)){case 2:var g=H2;break;case 8:g=q2;break;default:g=ng}l=g.bind(null,r,l,i),g=void 0,!Vs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function Hp(i,r,l,h,g){var b=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===g)break;if(A===4)for(A=h.return;A!==null;){var W=A.tag;if((W===3||W===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;M!==null;){if(A=Hi(M),A===null)return;if(W=A.tag,W===5||W===6||W===26||W===27){h=b=A;continue e}M=M.parentNode}}h=h.return}js(function(){var re=b,fe=Kn(l),ve=[];e:{var le=$h.get(i);if(le!==void 0){var he=vs,De=i;switch(i){case"keypress":if(or(l)===0)break e;case"keydown":case"keyup":he=Xo;break;case"focusin":De="focus",he=qr;break;case"focusout":De="blur",he=qr;break;case"beforeblur":case"afterblur":he=qr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=E;break;case al:case Gh:case ol:he=La;break;case qa:he=k;break;case"scroll":case"scrollend":he=et;break;case"wheel":he=ce;break;case"copy":case"cut":case"paste":he=li;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Hs;break;case"toggle":case"beforetoggle":he=Fe}var Be=(r&4)!==0,Ot=!Be&&(i==="scroll"||i==="scrollend"),te=Be?le!==null?le+"Capture":null:le;Be=[];for(var X=re,se;X!==null;){var ge=X;if(se=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||se===null||te===null||(ge=oi(X,te),ge!=null&&Be.push(Du(X,ge,se))),Ot)break;X=X.return}0<Be.length&&(le=new he(le,De,null,l,fe),ve.push({event:le,listeners:Be}))}}if((r&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",le&&l!==Ma&&(De=l.relatedTarget||l.fromElement)&&(Hi(De)||De[Ui]))break e;if((he||le)&&(le=fe.window===fe?fe:(le=fe.ownerDocument)?le.defaultView||le.parentWindow:window,he?(De=l.relatedTarget||l.toElement,he=re,De=De?Hi(De):null,De!==null&&(Ot=c(De),Be=De.tag,De!==Ot||Be!==5&&Be!==27&&Be!==6)&&(De=null)):(he=null,De=re),he!==De)){if(Be=$o,ge="onMouseLeave",te="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Be=Hs,ge="onPointerLeave",te="onPointerEnter",X="pointer"),Ot=he==null?le:Pn(he),se=De==null?le:Pn(De),le=new Be(ge,X+"leave",he,l,fe),le.target=Ot,le.relatedTarget=se,ge=null,Hi(fe)===re&&(Be=new Be(te,X+"enter",De,l,fe),Be.target=se,Be.relatedTarget=Ot,ge=Be),Ot=ge,he&&De)t:{for(Be=p2,te=he,X=De,se=0,ge=te;ge;ge=Be(ge))se++;ge=0;for(var Ve=X;Ve;Ve=Be(Ve))ge++;for(;0<se-ge;)te=Be(te),se--;for(;0<ge-se;)X=Be(X),ge--;for(;se--;){if(te===X||X!==null&&te===X.alternate){Be=te;break t}te=Be(te),X=Be(X)}Be=null}else Be=null;he!==null&&Q0(ve,le,he,Be,!1),De!==null&&Ot!==null&&Q0(ve,Ot,De,Be,!0)}}e:{if(le=re?Pn(re):window,he=le.nodeName&&le.nodeName.toLowerCase(),he==="select"||he==="input"&&le.type==="file")var wt=nl;else if(bs(le))if(Uh)wt=Cm;else{wt=Am;var ke=qs}else he=le.nodeName,!he||he.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?re&&sr(re.elementType)&&(wt=nl):wt=za;if(wt&&(wt=wt(i,re))){zh(ve,wt,l,fe);break e}ke&&ke(i,le,re),i==="focusout"&&re&&le.type==="number"&&re.memoizedProps.value!=null&&qi(le,"number",le.value)}switch(ke=re?Pn(re):window,i){case"focusin":(bs(ke)||ke.contentEditable==="true")&&(hr=ke,sc=re,rl=null);break;case"focusout":rl=sc=hr=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,qh(ve,l,fe);break;case"selectionchange":if(ic)break;case"keydown":case"keyup":qh(ve,l,fe)}var Je;if(gt)e:{switch(i){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ka?Fr(i,l)&&(ut="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ut="onCompositionStart");ut&&(Ai&&l.locale!=="ko"&&(ka||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ka&&(Je=Fi()):(Ei=fe,zs="value"in Ei?Ei.value:Ei.textContent,ka=!0)),ke=Rd(re,ut),0<ke.length&&(ut=new $i(ut,i,null,l,fe),ve.push({event:ut,listeners:ke}),Je?ut.data=Je:(Je=Gr(l),Je!==null&&(ut.data=Je)))),(Je=Si?Wi(i,l):ja(i,l))&&(ut=Rd(re,"onBeforeInput"),0<ut.length&&(ke=new $i("onBeforeInput","beforeinput",null,l,fe),ve.push({event:ke,listeners:ut}),ke.data=Je)),h2(ve,i,re,l,fe)}K0(ve,r)})}function Du(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Rd(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=oi(i,l),g!=null&&h.unshift(Du(i,g,b)),g=oi(i,r),g!=null&&h.push(Du(i,g,b))),i.tag===3)return h;i=i.return}return[]}function p2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Q0(i,r,l,h,g){for(var b=r._reactName,A=[];l!==null&&l!==h;){var M=l,W=M.alternate,re=M.stateNode;if(M=M.tag,W!==null&&W===h)break;M!==5&&M!==26&&M!==27||re===null||(W=re,g?(re=oi(l,b),re!=null&&A.unshift(Du(l,re,W))):g||(re=oi(l,b),re!=null&&A.push(Du(l,re,W)))),l=l.return}A.length!==0&&i.push({event:r,listeners:A})}var g2=/\r\n?/g,_2=/\u0000|\uFFFD/g;function X0(i){return(typeof i=="string"?i:""+i).replace(g2,`
`).replace(_2,"")}function J0(i,r){return r=X0(r),X0(i)===r}function Lt(i,r,l,h,g,b){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||gn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&gn(i,""+h);break;case"className":st(i,"class",h);break;case"tabIndex":st(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":st(i,l,h);break;case"style":Ur(i,h,b);break;case"data":if(r!=="object"){st(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=rr(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Lt(i,r,"name",g.name,g,null),Lt(i,r,"formEncType",g.formEncType,g,null),Lt(i,r,"formMethod",g.formMethod,g,null),Lt(i,r,"formTarget",g.formTarget,g,null)):(Lt(i,r,"encType",g.encType,g,null),Lt(i,r,"method",g.method,g,null),Lt(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=rr(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Yn);break;case"onScroll":h!=null&&ot("scroll",i);break;case"onScrollEnd":h!=null&&ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=rr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ot("beforetoggle",i),ot("toggle",i),tt(i,"popover",h);break;case"xlinkActuate":Ut(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ut(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ut(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ut(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ut(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ut(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":tt(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Br.get(l)||l,tt(i,l,h))}}function qp(i,r,l,h,g,b){switch(l){case"style":Ur(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?gn(i,h):(typeof h=="number"||typeof h=="bigint")&&gn(i,""+h);break;case"onScroll":h!=null&&ot("scroll",i);break;case"onScrollEnd":h!=null&&ot("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),b=i[en]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(r,b,g),typeof h=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):tt(i,l,h)}}}function Fn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",i),ot("load",i);var h=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var A=l[b];if(A!=null)switch(b){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Lt(i,r,b,A,l,null)}}g&&Lt(i,r,"srcSet",l.srcSet,l,null),h&&Lt(i,r,"src",l.src,l,null);return;case"input":ot("invalid",i);var M=b=A=g=null,W=null,re=null;for(h in l)if(l.hasOwnProperty(h)){var fe=l[h];if(fe!=null)switch(h){case"name":g=fe;break;case"type":A=fe;break;case"checked":W=fe;break;case"defaultChecked":re=fe;break;case"value":b=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,r));break;default:Lt(i,r,h,fe,l,null)}}zr(i,b,M,W,re,A,g,!1);return;case"select":ot("invalid",i),h=A=b=null;for(g in l)if(l.hasOwnProperty(g)&&(M=l[g],M!=null))switch(g){case"value":b=M;break;case"defaultValue":A=M;break;case"multiple":h=M;default:Lt(i,r,g,M,l,null)}r=b,l=A,i.multiple=!!h,r!=null?Rt(i,!!h,r,!1):l!=null&&Rt(i,!!h,l,!0);return;case"textarea":ot("invalid",i),b=g=h=null;for(A in l)if(l.hasOwnProperty(A)&&(M=l[A],M!=null))switch(A){case"value":h=M;break;case"defaultValue":g=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Lt(i,r,A,M,l,null)}Ti(i,h,g,b);return;case"option":for(W in l)l.hasOwnProperty(W)&&(h=l[W],h!=null)&&(W==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":Lt(i,r,W,h,l,null));return;case"dialog":ot("beforetoggle",i),ot("toggle",i),ot("cancel",i),ot("close",i);break;case"iframe":case"object":ot("load",i);break;case"video":case"audio":for(h=0;h<Ou.length;h++)ot(Ou[h],i);break;case"image":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"embed":case"source":case"link":ot("error",i),ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in l)if(l.hasOwnProperty(re)&&(h=l[re],h!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Lt(i,r,re,h,l,null)}return;default:if(sr(r)){for(fe in l)l.hasOwnProperty(fe)&&(h=l[fe],h!==void 0&&qp(i,r,fe,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&Lt(i,r,M,h,l,null))}function y2(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,A=null,M=null,W=null,re=null,fe=null;for(he in l){var ve=l[he];if(l.hasOwnProperty(he)&&ve!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":W=ve;default:h.hasOwnProperty(he)||Lt(i,r,he,null,h,ve)}}for(var le in h){var he=h[le];if(ve=l[le],h.hasOwnProperty(le)&&(he!=null||ve!=null))switch(le){case"type":b=he;break;case"name":g=he;break;case"checked":re=he;break;case"defaultChecked":fe=he;break;case"value":A=he;break;case"defaultValue":M=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,r));break;default:he!==ve&&Lt(i,r,le,he,h,ve)}}Ia(i,A,M,W,re,fe,b,g);return;case"select":he=A=M=le=null;for(b in l)if(W=l[b],l.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":he=W;default:h.hasOwnProperty(b)||Lt(i,r,b,null,h,W)}for(g in h)if(b=h[g],W=l[g],h.hasOwnProperty(g)&&(b!=null||W!=null))switch(g){case"value":le=b;break;case"defaultValue":M=b;break;case"multiple":A=b;default:b!==W&&Lt(i,r,g,b,h,W)}r=M,l=A,h=he,le!=null?Rt(i,!!l,le,!1):!!h!=!!l&&(r!=null?Rt(i,!!l,r,!0):Rt(i,!!l,l?[]:"",!1));return;case"textarea":he=le=null;for(M in l)if(g=l[M],l.hasOwnProperty(M)&&g!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Lt(i,r,M,null,h,g)}for(A in h)if(g=h[A],b=l[A],h.hasOwnProperty(A)&&(g!=null||b!=null))switch(A){case"value":le=g;break;case"defaultValue":he=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==b&&Lt(i,r,A,g,h,b)}gs(i,le,he);return;case"option":for(var De in l)le=l[De],l.hasOwnProperty(De)&&le!=null&&!h.hasOwnProperty(De)&&(De==="selected"?i.selected=!1:Lt(i,r,De,null,h,le));for(W in h)le=h[W],he=l[W],h.hasOwnProperty(W)&&le!==he&&(le!=null||he!=null)&&(W==="selected"?i.selected=le&&typeof le!="function"&&typeof le!="symbol":Lt(i,r,W,le,h,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)le=l[Be],l.hasOwnProperty(Be)&&le!=null&&!h.hasOwnProperty(Be)&&Lt(i,r,Be,null,h,le);for(re in h)if(le=h[re],he=l[re],h.hasOwnProperty(re)&&le!==he&&(le!=null||he!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:Lt(i,r,re,le,h,he)}return;default:if(sr(r)){for(var Ot in l)le=l[Ot],l.hasOwnProperty(Ot)&&le!==void 0&&!h.hasOwnProperty(Ot)&&qp(i,r,Ot,void 0,h,le);for(fe in h)le=h[fe],he=l[fe],!h.hasOwnProperty(fe)||le===he||le===void 0&&he===void 0||qp(i,r,fe,le,h,he);return}}for(var te in l)le=l[te],l.hasOwnProperty(te)&&le!=null&&!h.hasOwnProperty(te)&&Lt(i,r,te,null,h,le);for(ve in h)le=h[ve],he=l[ve],!h.hasOwnProperty(ve)||le===he||le==null&&he==null||Lt(i,r,ve,le,h,he)}function eb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],b=g.transferSize,A=g.initiatorType,M=g.duration;if(b&&M&&eb(A)){for(A=0,M=g.responseEnd,h+=1;h<l.length;h++){var W=l[h],re=W.startTime;if(re>M)break;var fe=W.transferSize,ve=W.initiatorType;fe&&eb(ve)&&(W=W.responseEnd,A+=fe*(W<M?1:(M-re)/(W-re)))}if(--h,r+=8*(b+A)/(g.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Fp=null,Gp=null;function Id(i){return i.nodeType===9?i:i.ownerDocument}function tb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Zp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var $p=null;function b2(){var i=window.event;return i&&i.type==="popstate"?i===$p?!1:($p=i,!0):($p=null,!1)}var ib=typeof setTimeout=="function"?setTimeout:void 0,x2=typeof clearTimeout=="function"?clearTimeout:void 0,sb=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof sb<"u"?function(i){return sb.resolve(null).then(i).catch(T2)}:ib;function T2(i){setTimeout(function(){throw i})}function so(i){return i==="head"}function rb(i,r){var l=r,h=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(g),Ic(r);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")ku(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,ku(l);for(var b=l.firstChild;b;){var A=b.nextSibling,M=b.nodeName;b[ds]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=A}}else l==="body"&&ku(i.ownerDocument.body);l=g}while(l);Ic(r)}function ab(i,r){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Yp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Yp(l),Ca(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function E2(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ds])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=As(i.nextSibling),i===null)break}return null}function S2(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=As(i.nextSibling),i===null))return null;return i}function ob(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=As(i.nextSibling),i===null))return null;return i}function Kp(i){return i.data==="$?"||i.data==="$~"}function Wp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function A2(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function As(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Qp=null;function lb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return As(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function cb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function ub(i,r,l){switch(r=Id(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ku(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ca(i)}var Cs=new Map,hb=new Set;function Pd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var aa=Te.d;Te.d={f:C2,r:N2,D:R2,C:I2,L:P2,m:M2,X:O2,S:L2,M:D2};function C2(){var i=aa.f(),r=wd();return i||r}function N2(i){var r=bi(i);r!==null&&r.tag===5&&r.type==="form"?Nv(r):aa.r(i)}var Cc=typeof document>"u"?null:document;function db(i,r,l){var h=Cc;if(h&&typeof r=="string"&&r){var g=Dt(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),hb.has(g)||(hb.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Fn(r,"link",i),tn(r),h.head.appendChild(r)))}}function R2(i){aa.D(i),db("dns-prefetch",i,null)}function I2(i,r){aa.C(i,r),db("preconnect",i,r)}function P2(i,r,l){aa.L(i,r,l);var h=Cc;if(h&&i&&r){var g='link[rel="preload"][as="'+Dt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Dt(l.imageSizes)+'"]')):g+='[href="'+Dt(i)+'"]';var b=g;switch(r){case"style":b=Nc(i);break;case"script":b=Rc(i)}Cs.has(b)||(i=T({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Cs.set(b,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(ju(b))||r==="script"&&h.querySelector(Vu(b))||(r=h.createElement("link"),Fn(r,"link",i),tn(r),h.head.appendChild(r)))}}function M2(i,r){aa.m(i,r);var l=Cc;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Dt(h)+'"][href="'+Dt(i)+'"]',b=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Rc(i)}if(!Cs.has(b)&&(i=T({rel:"modulepreload",href:i},r),Cs.set(b,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Vu(b)))return}h=l.createElement("link"),Fn(h,"link",i),tn(h),l.head.appendChild(h)}}}function L2(i,r,l){aa.S(i,r,l);var h=Cc;if(h&&i){var g=fs(h).hoistableStyles,b=Nc(i);r=r||"default";var A=g.get(b);if(!A){var M={loading:0,preload:null};if(A=h.querySelector(ju(b)))M.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Cs.get(b))&&Xp(i,l);var W=A=h.createElement("link");tn(W),Fn(W,"link",i),W._p=new Promise(function(re,fe){W.onload=re,W.onerror=fe}),W.addEventListener("load",function(){M.loading|=1}),W.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Md(A,r,h)}A={type:"stylesheet",instance:A,count:1,state:M},g.set(b,A)}}}function O2(i,r){aa.X(i,r);var l=Cc;if(l&&i){var h=fs(l).hoistableScripts,g=Rc(i),b=h.get(g);b||(b=l.querySelector(Vu(g)),b||(i=T({src:i,async:!0},r),(r=Cs.get(g))&&Jp(i,r),b=l.createElement("script"),tn(b),Fn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function D2(i,r){aa.M(i,r);var l=Cc;if(l&&i){var h=fs(l).hoistableScripts,g=Rc(i),b=h.get(g);b||(b=l.querySelector(Vu(g)),b||(i=T({src:i,async:!0,type:"module"},r),(r=Cs.get(g))&&Jp(i,r),b=l.createElement("script"),tn(b),Fn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function fb(i,r,l,h){var g=(g=Re.current)?Pd(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Nc(l.href),l=fs(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Nc(l.href);var b=fs(g).hoistableStyles,A=b.get(i);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=g.querySelector(ju(i)))&&!b._p&&(A.instance=b,A.state.loading=5),Cs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Cs.set(i,l),b||k2(g,i,l,A.state))),r&&h===null)throw Error(s(528,""));return A}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Rc(l),l=fs(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Nc(i){return'href="'+Dt(i)+'"'}function ju(i){return'link[rel="stylesheet"]['+i+"]"}function mb(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function k2(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Fn(r,"link",l),tn(r),i.head.appendChild(r))}function Rc(i){return'[src="'+Dt(i)+'"]'}function Vu(i){return"script[async]"+i}function pb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+Dt(l.href)+'"]');if(h)return r.instance=h,tn(h),h;var g=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),tn(h),Fn(h,"style",g),Md(h,l.precedence,i),r.instance=h;case"stylesheet":g=Nc(l.href);var b=i.querySelector(ju(g));if(b)return r.state.loading|=4,r.instance=b,tn(b),b;h=mb(l),(g=Cs.get(g))&&Xp(h,g),b=(i.ownerDocument||i).createElement("link"),tn(b);var A=b;return A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),Fn(b,"link",h),r.state.loading|=4,Md(b,l.precedence,i),r.instance=b;case"script":return b=Rc(l.src),(g=i.querySelector(Vu(b)))?(r.instance=g,tn(g),g):(h=l,(g=Cs.get(b))&&(h=T({},l),Jp(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),tn(g),Fn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,Md(h,l.precedence,i));return r.instance}function Md(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,b=g,A=0;A<h.length;A++){var M=h[A];if(M.dataset.precedence===r)b=M;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Jp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ld=null;function gb(i,r,l){if(Ld===null){var h=new Map,g=Ld=new Map;g.set(l,h)}else g=Ld,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var b=l[g];if(!(b[ds]||b[Wt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(r)||"";A=i+A;var M=h.get(A);M?M.push(b):h.set(A,[b])}}return h}function _b(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function j2(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function yb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function V2(i,r,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Nc(h.href),b=r.querySelector(ju(g));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Od.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=b,tn(b);return}b=r.ownerDocument||r,h=mb(h),(g=Cs.get(g))&&Xp(h,g),b=b.createElement("link"),tn(b);var A=b;A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),Fn(b,"link",h),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Od.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var eg=0;function z2(i,r){return i.stylesheets&&i.count===0&&kd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&kd(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+r);0<i.imgBytes&&eg===0&&(eg=62500*v2());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&kd(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>eg?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Dd=null;function kd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Dd=new Map,r.forEach(U2,i),Dd=null,Od.call(i))}function U2(i,r){if(!(r.state.loading&4)){var l=Dd.get(i);if(l)var h=l.get(null);else{l=new Map,Dd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var A=g[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),h=A)}h&&l.set(null,h)}g=r.instance,A=g.getAttribute("data-precedence"),b=l.get(A)||h,b===h&&l.set(null,g),l.set(A,g),this.count++,h=Od.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var zu={$$typeof:Z,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function B2(i,r,l,h,g,b,A,M,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function vb(i,r,l,h,g,b,A,M,W,re,fe,ve){return i=new B2(i,r,l,A,W,re,fe,ve,M),r=1,b===!0&&(r|=24),b=Jn(3,null,null,r),i.current=b,b.stateNode=i,r=Lm(),r.refCount++,i.pooledCache=r,r.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:r},jm(b),i}function bb(i){return i?(i=Zr,i):Zr}function xb(i,r,l,h,g,b){g=bb(g),h.context===null?h.context=g:h.pendingContext=g,h=$a(r),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=Ya(i,h,r),l!==null&&(Oi(l,i,r),_u(l,i,r))}function wb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function tg(i,r){wb(i,r),(i=i.alternate)&&wb(i,r)}function Tb(i){if(i.tag===13||i.tag===31){var r=Ts(i,67108864);r!==null&&Oi(r,i,67108864),tg(i,67108864)}}function Eb(i){if(i.tag===13||i.tag===31){var r=ts();r=In(r);var l=Ts(i,r);l!==null&&Oi(l,i,r),tg(i,r)}}var jd=!0;function H2(i,r,l,h){var g=ae.T;ae.T=null;var b=Te.p;try{Te.p=2,ng(i,r,l,h)}finally{Te.p=b,ae.T=g}}function q2(i,r,l,h){var g=ae.T;ae.T=null;var b=Te.p;try{Te.p=8,ng(i,r,l,h)}finally{Te.p=b,ae.T=g}}function ng(i,r,l,h){if(jd){var g=ig(h);if(g===null)Hp(i,r,h,Vd,l),Ab(i,h);else if(G2(g,i,r,l,h))h.stopPropagation();else if(Ab(i,h),r&4&&-1<F2.indexOf(i)){for(;g!==null;){var b=bi(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=cs(b.pendingLanes);if(A!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var W=1<<31-Yt(A);M.entanglements[1]|=W,A&=~W}vr(b),(Et&6)===0&&(bd=Bn()+500,Lu(0))}}break;case 31:case 13:M=Ts(b,2),M!==null&&Oi(M,b,2),wd(),tg(b,2)}if(b=ig(h),b===null&&Hp(i,r,h,Vd,l),b===g)break;g=b}g!==null&&h.stopPropagation()}else Hp(i,r,h,null,l)}}function ig(i){return i=Kn(i),sg(i)}var Vd=null;function sg(i){if(Vd=null,i=Hi(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=d(r),i!==null)return i;i=null}else if(l===31){if(i=_(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Vd=i,null}function Sb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case kr:return 2;case Sa:return 8;case Ls:case su:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var rg=!1,ro=null,ao=null,oo=null,Uu=new Map,Bu=new Map,lo=[],F2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(i,r){switch(i){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":Uu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(r.pointerId)}}function Hu(i,r,l,h,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[g]},r!==null&&(r=bi(r),r!==null&&Tb(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function G2(i,r,l,h,g){switch(r){case"focusin":return ro=Hu(ro,i,r,l,h,g),!0;case"dragenter":return ao=Hu(ao,i,r,l,h,g),!0;case"mouseover":return oo=Hu(oo,i,r,l,h,g),!0;case"pointerover":var b=g.pointerId;return Uu.set(b,Hu(Uu.get(b)||null,i,r,l,h,g)),!0;case"gotpointercapture":return b=g.pointerId,Bu.set(b,Hu(Bu.get(b)||null,i,r,l,h,g)),!0}return!1}function Cb(i){var r=Hi(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=d(l),r!==null){i.blockedOn=r,yi(i.priority,function(){Eb(l)});return}}else if(r===31){if(r=_(l),r!==null){i.blockedOn=r,yi(i.priority,function(){Eb(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=ig(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ma=h,l.target.dispatchEvent(h),Ma=null}else return r=bi(l),r!==null&&Tb(r),i.blockedOn=l,!1;r.shift()}return!0}function Nb(i,r,l){zd(i)&&l.delete(r)}function Z2(){rg=!1,ro!==null&&zd(ro)&&(ro=null),ao!==null&&zd(ao)&&(ao=null),oo!==null&&zd(oo)&&(oo=null),Uu.forEach(Nb),Bu.forEach(Nb)}function Ud(i,r){i.blockedOn===r&&(i.blockedOn=null,rg||(rg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Z2)))}var Bd=null;function Rb(i){Bd!==i&&(Bd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bd===i&&(Bd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(sg(h||l)===null)continue;break}var b=bi(l);b!==null&&(i.splice(r,3),r-=3,ip(b,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Ic(i){function r(W){return Ud(W,i)}ro!==null&&Ud(ro,i),ao!==null&&Ud(ao,i),oo!==null&&Ud(oo,i),Uu.forEach(r),Bu.forEach(r);for(var l=0;l<lo.length;l++){var h=lo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<lo.length&&(l=lo[0],l.blockedOn===null);)Cb(l),l.blockedOn===null&&lo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],b=l[h+1],A=g[en]||null;if(typeof b=="function")A||Rb(l);else if(A){var M=null;if(b&&b.hasAttribute("formAction")){if(g=b,A=b[en]||null)M=A.formAction;else if(sg(g)!==null)continue}else M=A.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),Rb(l)}}}function Ib(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function ag(i){this._internalRoot=i}Hd.prototype.render=ag.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=ts();xb(l,h,i,r,null,null)},Hd.prototype.unmount=ag.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;xb(i.current,2,null,i,null,null),wd(),r[Ui]=null}};function Hd(i){this._internalRoot=i}Hd.prototype.unstable_scheduleHydration=function(i){if(i){var r=Fo();i={blockedOn:null,target:i,priority:r};for(var l=0;l<lo.length&&r!==0&&r<lo[l].priority;l++);lo.splice(l,0,i),l===0&&Cb(i)}};var Pb=e.version;if(Pb!=="19.2.4")throw Error(s(527,Pb,"19.2.4"));Te.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var $2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{_i=qd.inject($2),hn=qd}catch{}}return Fu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=Vv,b=zv,A=Uv;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=vb(i,1,!1,null,null,l,h,null,g,b,A,Ib),i[Ui]=r.current,Bp(i),new ag(r)},Fu.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",b=Vv,A=zv,M=Uv,W=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(W=l.formState)),r=vb(i,1,!0,r,l??null,h,g,W,b,A,M,Ib),r.context=bb(null),l=r.current,h=ts(),h=In(h),g=$a(h),g.callback=null,Ya(l,g,h),l=h,r.current.lanes=l,Os(r,l),vr(r),i[Ui]=r.current,Bp(i),new Hd(r)},Fu.version="19.2.4",Fu}var Bb;function nA(){if(Bb)return cg.exports;Bb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cg.exports=tA(),cg.exports}var iA=nA();var Hb="popstate";function sA(n={}){function e(o,c){let{pathname:d="/",search:_="",hash:m=""}=zl(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Bg("",{pathname:d,search:_,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let d=o.document.querySelector("base"),_="";if(d&&d.getAttribute("href")){let m=o.location.href,v=m.indexOf("#");_=v===-1?m:m.slice(0,v)}return _+"#"+(typeof c=="string"?c:hh(c))}function s(o,c){Ps(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return aA(e,t,s,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ps(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rA(){return Math.random().toString(36).substring(2,10)}function qb(n,e){return{usr:n.state,key:n.key,idx:e}}function Bg(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zl(e):e,state:t,key:e&&e.key||s||rA()}}function hh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function aA(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,_="POP",m=null,v=w();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function w(){return(d.state||{idx:null}).idx}function T(){_="POP";let D=w(),O=D==null?null:D-v;v=D,m&&m({action:_,location:V.location,delta:O})}function N(D,O){_="PUSH";let B=Bg(V.location,D,O);t&&t(B,D),v=w()+1;let Z=qb(B,v),J=V.createHref(B);try{d.pushState(Z,"",J)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(J)}c&&m&&m({action:_,location:V.location,delta:1})}function R(D,O){_="REPLACE";let B=Bg(V.location,D,O);t&&t(B,D),v=w();let Z=qb(B,v),J=V.createHref(B);d.replaceState(Z,"",J),c&&m&&m({action:_,location:V.location,delta:0})}function j(D){return oA(D)}let V={get action(){return _},get location(){return n(o,d)},listen(D){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Hb,T),m=D,()=>{o.removeEventListener(Hb,T),m=null}},createHref(D){return e(o,D)},createURL:j,encodeLocation(D){let O=j(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:N,replace:R,go(D){return d.go(D)}};return V}function oA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:hh(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Fw(n,e,t="/"){return lA(n,e,t,!1)}function lA(n,e,t,s){let o=typeof e=="string"?zl(e):e,c=ga(o.pathname||"/",t);if(c==null)return null;let d=Gw(n);cA(d);let _=null;for(let m=0;_==null&&m<d.length;++m){let v=bA(c);_=yA(d[m],v,s)}return _}function Gw(n,e=[],t=[],s="",o=!1){let c=(d,_,m=o,v)=>{let w={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:_,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&m)return;Zt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let T=fa([s,w.relativePath]),N=t.concat(w);d.children&&d.children.length>0&&(Zt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Gw(d.children,e,N,T,m)),!(d.path==null&&!d.index)&&e.push({path:T,score:gA(T,d.index),routesMeta:N})};return n.forEach((d,_)=>{if(d.path===""||!d.path?.includes("?"))c(d,_);else for(let m of Zw(d.path))c(d,_,!0,m)}),e}function Zw(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Zw(s.join("/")),_=[];return _.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&_.push(...d),_.map(m=>n.startsWith("/")&&m===""?"/":m)}function cA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_A(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var uA=/^:[\w-]+$/,hA=3,dA=2,fA=1,mA=10,pA=-2,Fb=n=>n==="*";function gA(n,e){let t=n.split("/"),s=t.length;return t.some(Fb)&&(s+=pA),e&&(s+=dA),t.filter(o=>!Fb(o)).reduce((o,c)=>o+(uA.test(c)?hA:c===""?fA:mA),s)}function _A(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function yA(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",d=[];for(let _=0;_<s.length;++_){let m=s[_],v=_===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",T=gf({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},w),N=m.route;if(!T&&v&&t&&!s[s.length-1].route.index&&(T=gf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:fa([c,T.pathname]),pathnameBase:EA(fa([c,T.pathnameBase])),route:N}),T.pathnameBase!=="/"&&(c=fa([c,T.pathnameBase]))}return d}function gf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=vA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),_=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:T},N)=>{if(w==="*"){let j=_[N]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const R=_[N];return T&&!R?v[w]=void 0:v[w]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:d,pattern:n}}function vA(n,e=!1,t=!0){Ps(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,_,m)=>(s.push({paramName:_,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function bA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ps(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ga(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function wA(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?zl(n):n,c;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?c=Gb(t.substring(1),"/"):c=Gb(t,e)):c=e,{pathname:c,search:SA(s),hash:AA(o)}}function Gb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function fg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function w_(n){let e=TA(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function T_(n,e,t,s=!1){let o;typeof n=="string"?o=zl(n):(o={...n},Zt(!o.pathname||!o.pathname.includes("?"),fg("?","pathname","search",o)),Zt(!o.pathname||!o.pathname.includes("#"),fg("#","pathname","hash",o)),Zt(!o.search||!o.search.includes("#"),fg("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,_;if(d==null)_=t;else{let T=e.length-1;if(!s&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),T-=1;o.pathname=N.join("/")}_=T>=0?e[T]:"/"}let m=wA(o,_),v=d&&d!=="/"&&d.endsWith("/"),w=(c||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(v||w)&&(m.pathname+="/"),m}var fa=n=>n.join("/").replace(/\/\/+/g,"/"),EA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,CA=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function NA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function RA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yw(n,e){let t=n;if(typeof t!="string"||!xA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if($w)try{let c=new URL(window.location.href),d=t.startsWith("//")?new URL(c.protocol+t):new URL(t),_=ga(d.pathname,e);d.origin===c.origin&&_!=null?t=_+d.search+d.hash:o=!0}catch{Ps(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kw=["POST","PUT","PATCH","DELETE"];new Set(Kw);var IA=["GET",...Kw];new Set(IA);var Kc=H.createContext(null);Kc.displayName="DataRouter";var $f=H.createContext(null);$f.displayName="DataRouterState";var PA=H.createContext(!1),Ww=H.createContext({isTransitioning:!1});Ww.displayName="ViewTransition";var MA=H.createContext(new Map);MA.displayName="Fetchers";var LA=H.createContext(null);LA.displayName="Await";var rs=H.createContext(null);rs.displayName="Navigation";var Eh=H.createContext(null);Eh.displayName="Location";var er=H.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var E_=H.createContext(null);E_.displayName="RouteError";var Qw="REACT_ROUTER_ERROR",OA="REDIRECT",DA="ROUTE_ERROR_RESPONSE";function kA(n){if(n.startsWith(`${Qw}:${OA}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function jA(n){if(n.startsWith(`${Qw}:${DA}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new CA(e.status,e.statusText,e.data)}catch{}}function VA(n,{relative:e}={}){Zt(Wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(rs),{hash:o,pathname:c,search:d}=Sh(n,{relative:e}),_=c;return t!=="/"&&(_=c==="/"?t:fa([t,c])),s.createHref({pathname:_,search:d,hash:o})}function Wc(){return H.useContext(Eh)!=null}function Mr(){return Zt(Wc(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Eh).location}var Xw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jw(n){H.useContext(rs).static||H.useLayoutEffect(n)}function Yf(){let{isDataRoute:n}=H.useContext(er);return n?XA():zA()}function zA(){Zt(Wc(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(Kc),{basename:e,navigator:t}=H.useContext(rs),{matches:s}=H.useContext(er),{pathname:o}=Mr(),c=JSON.stringify(w_(s)),d=H.useRef(!1);return Jw(()=>{d.current=!0}),H.useCallback((m,v={})=>{if(Ps(d.current,Xw),!d.current)return;if(typeof m=="number"){t.go(m);return}let w=T_(m,JSON.parse(c),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:fa([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,c,o,n])}H.createContext(null);function UA(){let{matches:n}=H.useContext(er),e=n[n.length-1];return e?e.params:{}}function Sh(n,{relative:e}={}){let{matches:t}=H.useContext(er),{pathname:s}=Mr(),o=JSON.stringify(w_(t));return H.useMemo(()=>T_(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function BA(n,e){return e1(n,e)}function e1(n,e,t,s,o){Zt(Wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=H.useContext(rs),{matches:d}=H.useContext(er),_=d[d.length-1],m=_?_.params:{},v=_?_.pathname:"/",w=_?_.pathnameBase:"/",T=_&&_.route;{let B=T&&T.path||"";n1(v,!T||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let N=Mr(),R;if(e){let B=typeof e=="string"?zl(e):e;Zt(w==="/"||B.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=N;let j=R.pathname||"/",V=j;if(w!=="/"){let B=w.replace(/^\//,"").split("/");V="/"+j.replace(/^\//,"").split("/").slice(B.length).join("/")}let D=Fw(n,{pathname:V});Ps(T||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Ps(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=ZA(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:fa([w,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?w:fa([w,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),d,t,s,o);return e&&O?H.createElement(Eh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},O):O}function HA(){let n=QA(),e=NA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,d)}var qA=H.createElement(HA,null),t1=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=jA(n.digest);t&&(n=t)}let e=n!==void 0?H.createElement(er.Provider,{value:this.props.routeContext},H.createElement(E_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?H.createElement(FA,{error:n},e):e}};t1.contextType=PA;var mg=new WeakMap;function FA({children:n,error:e}){let{basename:t}=H.useContext(rs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=kA(e.digest);if(s){let o=mg.get(e);if(o)throw o;let c=Yw(s.location,t);if($w&&!mg.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw mg.set(e,d),d}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function GA({routeContext:n,match:e,children:t}){let s=H.useContext(Kc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(er.Provider,{value:n},t)}function ZA(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=t?.errors;if(d!=null){let w=c.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);Zt(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let _=!1,m=-1;if(t)for(let w=0;w<c.length;w++){let T=c[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=w),T.route.id){let{loaderData:N,errors:R}=t,j=T.route.loader&&!N.hasOwnProperty(T.route.id)&&(!R||R[T.route.id]===void 0);if(T.route.lazy||j){_=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let v=t&&s?(w,T)=>{s(w,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:RA(t.matches),errorInfo:T})}:void 0;return c.reduceRight((w,T,N)=>{let R,j=!1,V=null,D=null;t&&(R=d&&T.route.id?d[T.route.id]:void 0,V=T.route.errorElement||qA,_&&(m<0&&N===0?(n1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,D=null):m===N&&(j=!0,D=T.route.hydrateFallbackElement||null)));let O=e.concat(c.slice(0,N+1)),B=()=>{let Z;return R?Z=V:j?Z=D:T.route.Component?Z=H.createElement(T.route.Component,null):T.route.element?Z=T.route.element:Z=w,H.createElement(GA,{match:T,routeContext:{outlet:w,matches:O,isDataRoute:t!=null},children:Z})};return t&&(T.route.ErrorBoundary||T.route.errorElement||N===0)?H.createElement(t1,{location:t.location,revalidation:t.revalidation,component:V,error:R,children:B(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:v}):B()},null)}function S_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $A(n){let e=H.useContext(Kc);return Zt(e,S_(n)),e}function YA(n){let e=H.useContext($f);return Zt(e,S_(n)),e}function KA(n){let e=H.useContext(er);return Zt(e,S_(n)),e}function A_(n){let e=KA(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function WA(){return A_("useRouteId")}function QA(){let n=H.useContext(E_),e=YA("useRouteError"),t=A_("useRouteError");return n!==void 0?n:e.errors?.[t]}function XA(){let{router:n}=$A("useNavigate"),e=A_("useNavigate"),t=H.useRef(!1);return Jw(()=>{t.current=!0}),H.useCallback(async(o,c={})=>{Ps(t.current,Xw),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var Zb={};function n1(n,e,t){!e&&!Zb[n]&&(Zb[n]=!0,Ps(!1,t))}H.memo(JA);function JA({routes:n,future:e,state:t,onError:s}){return e1(n,void 0,t,s,e)}function pg({to:n,replace:e,state:t,relative:s}){Zt(Wc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(rs);Ps(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=H.useContext(er),{pathname:d}=Mr(),_=Yf(),m=T_(n,w_(c),d,s==="path"),v=JSON.stringify(m);return H.useEffect(()=>{_(JSON.parse(v),{replace:e,state:t,relative:s})},[_,v,s,e,t]),null}function Ns(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eC({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){Zt(!Wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=n.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:_,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[_,o,c,d]);typeof t=="string"&&(t=zl(t));let{pathname:v="/",search:w="",hash:T="",state:N=null,key:R="default"}=t,j=H.useMemo(()=>{let V=ga(v,_);return V==null?null:{location:{pathname:V,search:w,hash:T,state:N,key:R},navigationType:s}},[_,v,w,T,N,R,s]);return Ps(j!=null,`<Router basename="${_}"> is not able to match the URL "${v}${w}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:H.createElement(rs.Provider,{value:m},H.createElement(Eh.Provider,{children:e,value:j}))}function tC({children:n,location:e}){return BA(Hg(n),e)}function Hg(n,e=[]){let t=[];return H.Children.forEach(n,(s,o)=>{if(!H.isValidElement(s))return;let c=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Hg(s.props.children,c));return}Zt(s.type===Ns,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Hg(s.props.children,c)),t.push(d)}),t}var tf="get",nf="application/x-www-form-urlencoded";function Kf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function nC(n){return Kf(n)&&n.tagName.toLowerCase()==="button"}function iC(n){return Kf(n)&&n.tagName.toLowerCase()==="form"}function sC(n){return Kf(n)&&n.tagName.toLowerCase()==="input"}function rC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function aC(n,e){return n.button===0&&(!e||e==="_self")&&!rC(n)}var Fd=null;function oC(){if(Fd===null)try{new FormData(document.createElement("form"),0),Fd=!1}catch{Fd=!0}return Fd}var lC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gg(n){return n!=null&&!lC.has(n)?(Ps(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nf}"`),null):n}function cC(n,e){let t,s,o,c,d;if(iC(n)){let _=n.getAttribute("action");s=_?ga(_,e):null,t=n.getAttribute("method")||tf,o=gg(n.getAttribute("enctype"))||nf,c=new FormData(n)}else if(nC(n)||sC(n)&&(n.type==="submit"||n.type==="image")){let _=n.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||_.getAttribute("action");if(s=m?ga(m,e):null,t=n.getAttribute("formmethod")||_.getAttribute("method")||tf,o=gg(n.getAttribute("formenctype"))||gg(_.getAttribute("enctype"))||nf,c=new FormData(_,n),!oC()){let{name:v,type:w,value:T}=n;if(w==="image"){let N=v?`${v}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else v&&c.append(v,T)}}else{if(Kf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=tf,s=null,o=nf,d=n}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function C_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function uC(n,e,t,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ga(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function hC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fC(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await hC(c,t);return d.links?d.links():[]}return[]}));return _C(s.flat(1).filter(dC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $b(n,e,t,s,o,c){let d=(m,v)=>t[v]?m.route.id!==t[v].route.id:!0,_=(m,v)=>t[v].pathname!==m.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,v)=>d(m,v)||_(m,v)):c==="data"?e.filter((m,v)=>{let w=s.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(d(m,v)||_(m,v))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function mC(n,e,{includeHydrateFallback:t}={}){return pC(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function pC(n){return[...new Set(n)]}function gC(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function _C(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(gC(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function i1(){let n=H.useContext(Kc);return C_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yC(){let n=H.useContext($f);return C_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var N_=H.createContext(void 0);N_.displayName="FrameworkContext";function s1(){let n=H.useContext(N_);return C_(n,"You must render this element inside a <HydratedRouter> element"),n}function vC(n,e){let t=H.useContext(N_),[s,o]=H.useState(!1),[c,d]=H.useState(!1),{onFocus:_,onBlur:m,onMouseEnter:v,onMouseLeave:w,onTouchStart:T}=e,N=H.useRef(null);H.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let V=O=>{O.forEach(B=>{d(B.isIntersecting)})},D=new IntersectionObserver(V,{threshold:.5});return N.current&&D.observe(N.current),()=>{D.disconnect()}}},[n]),H.useEffect(()=>{if(s){let V=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(V)}}},[s]);let R=()=>{o(!0)},j=()=>{o(!1),d(!1)};return t?n!=="intent"?[c,N,{}]:[c,N,{onFocus:Gu(_,R),onBlur:Gu(m,j),onMouseEnter:Gu(v,R),onMouseLeave:Gu(w,j),onTouchStart:Gu(T,R)}]:[!1,N,{}]}function Gu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bC({page:n,...e}){let{router:t}=i1(),s=H.useMemo(()=>Fw(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?H.createElement(wC,{page:n,matches:s,...e}):null}function xC(n){let{manifest:e,routeModules:t}=s1(),[s,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return fC(n,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[n,e,t]),s}function wC({page:n,matches:e,...t}){let s=Mr(),{future:o,manifest:c,routeModules:d}=s1(),{basename:_}=i1(),{loaderData:m,matches:v}=yC(),w=H.useMemo(()=>$b(n,e,v,c,s,"data"),[n,e,v,c,s]),T=H.useMemo(()=>$b(n,e,v,c,s,"assets"),[n,e,v,c,s]),N=H.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let V=new Set,D=!1;if(e.forEach(B=>{let Z=c.routes[B.route.id];!Z||!Z.hasLoader||(!w.some(J=>J.route.id===B.route.id)&&B.route.id in m&&d[B.route.id]?.shouldRevalidate||Z.hasClientLoader?D=!0:V.add(B.route.id))}),V.size===0)return[];let O=uC(n,_,o.unstable_trailingSlashAwareDataRequests,"data");return D&&V.size>0&&O.searchParams.set("_routes",e.filter(B=>V.has(B.route.id)).map(B=>B.route.id).join(",")),[O.pathname+O.search]},[_,o.unstable_trailingSlashAwareDataRequests,m,s,c,w,e,n,d]),R=H.useMemo(()=>mC(T,c),[T,c]),j=xC(T);return H.createElement(H.Fragment,null,N.map(V=>H.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),R.map(V=>H.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),j.map(({key:V,link:D})=>H.createElement("link",{key:V,nonce:t.nonce,...D,crossOrigin:D.crossOrigin??t.crossOrigin})))}function TC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var EC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EC&&(window.__reactRouterVersion="7.13.0")}catch{}function SC({basename:n,children:e,unstable_useTransitions:t,window:s}){let o=H.useRef();o.current==null&&(o.current=sA({window:s,v5Compat:!0}));let c=o.current,[d,_]=H.useState({action:c.action,location:c.location}),m=H.useCallback(v=>{t===!1?_(v):H.startTransition(()=>_(v))},[t]);return H.useLayoutEffect(()=>c.listen(m),[c,m]),H.createElement(eC,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:t})}var r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pn=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:_,target:m,to:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:N,...R},j){let{basename:V,unstable_useTransitions:D}=H.useContext(rs),O=typeof v=="string"&&r1.test(v),B=Yw(v,V);v=B.to;let Z=VA(v,{relative:o}),[J,ee,me]=vC(s,R),z=RC(v,{replace:d,state:_,target:m,preventScrollReset:w,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:N,unstable_useTransitions:D});function I(G){e&&e(G),G.defaultPrevented||z(G)}let F=H.createElement("a",{...R,...me,href:B.absoluteURL||Z,onClick:B.isExternal||c?e:I,ref:TC(j,ee),target:m,"data-discover":!O&&t==="render"?"true":void 0});return J&&!O?H.createElement(H.Fragment,null,F,H.createElement(bC,{page:Z})):F});pn.displayName="Link";var AC=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:_,children:m,...v},w){let T=Sh(d,{relative:v.relative}),N=Mr(),R=H.useContext($f),{navigator:j,basename:V}=H.useContext(rs),D=R!=null&&OC(T)&&_===!0,O=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,B=N.pathname,Z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(B=B.toLowerCase(),Z=Z?Z.toLowerCase():null,O=O.toLowerCase()),Z&&V&&(Z=ga(Z,V)||Z);const J=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ee=B===O||!o&&B.startsWith(O)&&B.charAt(J)==="/",me=Z!=null&&(Z===O||!o&&Z.startsWith(O)&&Z.charAt(O.length)==="/"),z={isActive:ee,isPending:me,isTransitioning:D},I=ee?e:void 0,F;typeof s=="function"?F=s(z):F=[s,ee?"active":null,me?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let G=typeof c=="function"?c(z):c;return H.createElement(pn,{...v,"aria-current":I,className:F,ref:w,style:G,to:d,viewTransition:_},typeof m=="function"?m(z):m)});AC.displayName="NavLink";var CC=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:d=tf,action:_,onSubmit:m,relative:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:N,...R},j)=>{let{unstable_useTransitions:V}=H.useContext(rs),D=MC(),O=LC(_,{relative:v}),B=d.toLowerCase()==="get"?"get":"post",Z=typeof _=="string"&&r1.test(_),J=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let me=ee.nativeEvent.submitter,z=me?.getAttribute("formmethod")||d,I=()=>D(me||ee.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:o,state:c,relative:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:N});V&&t!==!1?H.startTransition(()=>I()):I()};return H.createElement("form",{ref:j,method:B,action:O,onSubmit:s?m:J,...R,"data-discover":!Z&&n==="render"?"true":void 0})});CC.displayName="Form";function NC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(n){let e=H.useContext(Kc);return Zt(e,NC(n)),e}function RC(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:_,unstable_useTransitions:m}={}){let v=Yf(),w=Mr(),T=Sh(n,{relative:c});return H.useCallback(N=>{if(aC(N,e)){N.preventDefault();let R=t!==void 0?t:hh(w)===hh(T),j=()=>v(n,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:_});m?H.startTransition(()=>j()):j()}},[w,v,T,t,s,e,n,o,c,d,_,m])}var IC=0,PC=()=>`__${String(++IC)}__`;function MC(){let{router:n}=a1("useSubmit"),{basename:e}=H.useContext(rs),t=WA(),s=n.fetch,o=n.navigate;return H.useCallback(async(c,d={})=>{let{action:_,method:m,encType:v,formData:w,body:T}=cC(c,e);if(d.navigate===!1){let N=d.fetcherKey||PC();await s(N,t,d.action||_,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:T,formMethod:d.method||m,formEncType:d.encType||v,flushSync:d.flushSync})}else await o(d.action||_,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:T,formMethod:d.method||m,formEncType:d.encType||v,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,t])}function LC(n,{relative:e}={}){let{basename:t}=H.useContext(rs),s=H.useContext(er);Zt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Sh(n||".",{relative:e})},d=Mr();if(n==null){c.search=d.search;let _=new URLSearchParams(c.search),m=_.getAll("index");if(m.some(w=>w==="")){_.delete("index"),m.filter(T=>T).forEach(T=>_.append("index",T));let w=_.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:fa([t,c.pathname])),hh(c)}function OC(n,{relative:e}={}){let t=H.useContext(Ww);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=a1("useViewTransitionState"),o=Sh(n,{relative:e});if(!t.isTransitioning)return!1;let c=ga(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=ga(t.nextLocation.pathname,s)||t.nextLocation.pathname;return gf(o.pathname,d)!=null||gf(o.pathname,c)!=null}qw();const DC=()=>{};var Yb={};const o1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},kC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],d=n[t++],_=n[t++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|_&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=n[t++],d=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],d=o+1<n.length,_=d?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,w=c>>2,T=(c&3)<<4|_>>4;let N=(_&15)<<2|v>>6,R=v&63;m||(R=64,d||(N=64)),s.push(t[w],t[T],t[N],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(o1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],_=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||_==null||v==null||T==null)throw new jC;const N=c<<2|_>>4;if(s.push(N),v!==64){const R=_<<4&240|v>>2;if(s.push(R),T!==64){const j=v<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VC=function(n){const e=o1(n);return l1.encodeByteArray(e,!0)},_f=function(n){return VC(n).replace(/\./g,"")},c1=function(n){try{return l1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const UC=()=>zC().__FIREBASE_DEFAULTS__,BC=()=>{if(typeof process>"u"||typeof Yb>"u")return;const n=Yb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},HC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&c1(n[1]);return e&&JSON.parse(e)},Wf=()=>{try{return DC()||UC()||BC()||HC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},u1=n=>Wf()?.emulatorHosts?.[n],h1=n=>{const e=u1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},d1=()=>Wf()?.config,f1=n=>Wf()?.[`_${n}`];class qC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Lo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R_(n){return(await fetch(n,{credentials:"include"})).ok}function m1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[_f(JSON.stringify(t)),_f(JSON.stringify(d)),""].join(".")}const nh={};function FC(){const n={prod:[],emulator:[]};for(const e of Object.keys(nh))nh[e]?n.emulator.push(e):n.prod.push(e);return n}function GC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Kb=!1;function I_(n,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||nh[n]===e||nh[n]||Kb)return;nh[n]=e;function t(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=FC().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function _(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function m(N,R){N.setAttribute("width","24"),N.setAttribute("id",R),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Kb=!0,d()},N}function w(N,R){N.setAttribute("id",R),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function T(){const N=GC(s),R=t("text"),j=document.getElementById(R)||document.createElement("span"),V=t("learnmore"),D=document.getElementById(V)||document.createElement("a"),O=t("preprendIcon"),B=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Z=N.element;_(Z),w(D,V);const J=v();m(B,O),Z.append(B,j,D,J),document.body.appendChild(Z)}c?(j.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function $C(){const n=Wf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QC(){const n=si();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XC(){return!$C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JC(){try{return typeof indexedDB=="object"}catch{return!1}}function eN(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const tN="FirebaseError";class Lr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=tN,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ah.prototype.create)}}class Ah{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?nN(c,s):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new Lr(o,_,s)}}function nN(n,e){return n.replace(iN,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const iN=/\{\$([^}]+)}/g;function sN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Il(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],d=e[o];if(Wb(c)&&Wb(d)){if(!Il(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Wb(n){return n!==null&&typeof n=="object"}function Ch(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ku(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function rN(n,e){const t=new aN(n,e);return t.subscribe.bind(t)}class aN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");oN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=_g),o.error===void 0&&(o.error=_g),o.complete===void 0&&(o.complete=_g);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _g(){}function $t(n){return n&&n._delegate?n._delegate:n}class Ao{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const El="[DEFAULT]";class lN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new qC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uN(e))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=El){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=El){return this.instances.has(e)}getOptions(e=El){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cN(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=El){return this.component?this.component.multipleInstances?e:El:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cN(n){return n===El?void 0:n}function uN(n){return n.instantiationMode==="EAGER"}class hN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const dN={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},fN=ht.INFO,mN={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},pN=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=mN[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P_{constructor(e){this.name=e,this._logLevel=fN,this._logHandler=pN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const gN=(n,e)=>e.some(t=>n instanceof t);let Qb,Xb;function _N(){return Qb||(Qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yN(){return Xb||(Xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,qg=new WeakMap,g1=new WeakMap,yg=new WeakMap,M_=new WeakMap;function vN(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{t(wo(n.result)),o()},d=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&p1.set(t,n)}).catch(()=>{}),M_.set(e,n),e}function bN(n){if(qg.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});qg.set(n,e)}let Fg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||g1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xN(n){Fg=n(Fg)}function wN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(vg(this),e,...t);return g1.set(s,e.sort?e.sort():[e]),wo(s)}:yN().includes(n)?function(...e){return n.apply(vg(this),e),wo(p1.get(this))}:function(...e){return wo(n.apply(vg(this),e))}}function TN(n){return typeof n=="function"?wN(n):(n instanceof IDBTransaction&&bN(n),gN(n,_N())?new Proxy(n,Fg):n)}function wo(n){if(n instanceof IDBRequest)return vN(n);if(yg.has(n))return yg.get(n);const e=TN(n);return e!==n&&(yg.set(n,e),M_.set(e,n)),e}const vg=n=>M_.get(n);function EN(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(n,e),_=wo(d);return s&&d.addEventListener("upgradeneeded",m=>{s(wo(d.result),m.oldVersion,m.newVersion,wo(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),_.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const SN=["get","getKey","getAll","getAllKeys","count"],AN=["put","add","delete","clear"],bg=new Map;function Jb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bg.get(e))return bg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=AN.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||SN.includes(t)))return;const c=async function(d,..._){const m=this.transaction(d,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(_.shift())),(await Promise.all([v[t](..._),o&&m.done]))[0]};return bg.set(e,c),c}xN(n=>({...n,get:(e,t,s)=>Jb(e,t)||n.get(e,t,s),has:(e,t)=>!!Jb(e,t)||n.has(e,t)}));class CN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NN(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function NN(n){return n.getComponent()?.type==="VERSION"}const Gg="@firebase/app",ex="0.14.8";const _a=new P_("@firebase/app"),RN="@firebase/app-compat",IN="@firebase/analytics-compat",PN="@firebase/analytics",MN="@firebase/app-check-compat",LN="@firebase/app-check",ON="@firebase/auth",DN="@firebase/auth-compat",kN="@firebase/database",jN="@firebase/data-connect",VN="@firebase/database-compat",zN="@firebase/functions",UN="@firebase/functions-compat",BN="@firebase/installations",HN="@firebase/installations-compat",qN="@firebase/messaging",FN="@firebase/messaging-compat",GN="@firebase/performance",ZN="@firebase/performance-compat",$N="@firebase/remote-config",YN="@firebase/remote-config-compat",KN="@firebase/storage",WN="@firebase/storage-compat",QN="@firebase/firestore",XN="@firebase/ai",JN="@firebase/firestore-compat",eR="firebase",tR="12.9.0";const Zg="[DEFAULT]",nR={[Gg]:"fire-core",[RN]:"fire-core-compat",[PN]:"fire-analytics",[IN]:"fire-analytics-compat",[LN]:"fire-app-check",[MN]:"fire-app-check-compat",[ON]:"fire-auth",[DN]:"fire-auth-compat",[kN]:"fire-rtdb",[jN]:"fire-data-connect",[VN]:"fire-rtdb-compat",[zN]:"fire-fn",[UN]:"fire-fn-compat",[BN]:"fire-iid",[HN]:"fire-iid-compat",[qN]:"fire-fcm",[FN]:"fire-fcm-compat",[GN]:"fire-perf",[ZN]:"fire-perf-compat",[$N]:"fire-rc",[YN]:"fire-rc-compat",[KN]:"fire-gcs",[WN]:"fire-gcs-compat",[QN]:"fire-fst",[JN]:"fire-fst-compat",[XN]:"fire-vertex","fire-js":"fire-js",[eR]:"fire-js-all"};const yf=new Map,iR=new Map,$g=new Map;function tx(n,e){try{n.container.addComponent(e)}catch(t){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pl(n){const e=n.name;if($g.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,n);for(const t of yf.values())tx(t,n);for(const t of iR.values())tx(t,n);return!0}function Qf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ki(n){return n==null?!1:n.settings!==void 0}const sR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new Ah("app","Firebase",sR);class rR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}const Ul=tR;function _1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Zg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw To.create("bad-app-name",{appName:String(o)});if(t||(t=d1()),!t)throw To.create("no-options");const c=yf.get(o);if(c){if(Il(t,c.options)&&Il(s,c.config))return c;throw To.create("duplicate-app",{appName:o})}const d=new hN(o);for(const m of $g.values())d.addComponent(m);const _=new rR(t,s,d);return yf.set(o,_),_}function L_(n=Zg){const e=yf.get(n);if(!e&&n===Zg&&d1())return _1();if(!e)throw To.create("no-app",{appName:n});return e}function Er(n,e,t){let s=nR[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(d.join(" "));return}Pl(new Ao(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const aR="firebase-heartbeat-database",oR=1,dh="firebase-heartbeat-store";let xg=null;function y1(){return xg||(xg=EN(aR,oR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dh)}catch(t){console.warn(t)}}}}).catch(n=>{throw To.create("idb-open",{originalErrorMessage:n.message})})),xg}async function lR(n){try{const t=(await y1()).transaction(dh),s=await t.objectStore(dh).get(v1(n));return await t.done,s}catch(e){if(e instanceof Lr)_a.warn(e.message);else{const t=To.create("idb-get",{originalErrorMessage:e?.message});_a.warn(t.message)}}}async function nx(n,e){try{const s=(await y1()).transaction(dh,"readwrite");await s.objectStore(dh).put(e,v1(n)),await s.done}catch(t){if(t instanceof Lr)_a.warn(t.message);else{const s=To.create("idb-set",{originalErrorMessage:t?.message});_a.warn(s.message)}}}function v1(n){return`${n.name}!${n.options.appId}`}const cR=1024,uR=30;class hR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ix();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>uR){const o=mR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_a.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ix(),{heartbeatsToSend:t,unsentEntries:s}=dR(this._heartbeatsCache.heartbeats),o=_f(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _a.warn(e),""}}}function ix(){return new Date().toISOString().substring(0,10)}function dR(n,e=cR){const t=[];let s=n.slice();for(const o of n){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),sx(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),sx(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class fR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JC()?eN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return nx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sx(n){return _f(JSON.stringify({version:2,heartbeats:n})).length}function mR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function pR(n){Pl(new Ao("platform-logger",e=>new CN(e),"PRIVATE")),Pl(new Ao("heartbeat",e=>new hR(e),"PRIVATE")),Er(Gg,ex,n),Er(Gg,ex,"esm2020"),Er("fire-js","")}pR("");var gR="firebase",_R="12.9.0";Er(gR,_R,"app");function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yR=b1,x1=new Ah("auth","Firebase",b1());const vf=new P_("@firebase/auth");function vR(n,...e){vf.logLevel<=ht.WARN&&vf.warn(`Auth (${Ul}): ${n}`,...e)}function sf(n,...e){vf.logLevel<=ht.ERROR&&vf.error(`Auth (${Ul}): ${n}`,...e)}function Ms(n,...e){throw D_(n,...e)}function Qs(n,...e){return D_(n,...e)}function O_(n,e,t){const s={...yR(),[e]:t};return new Ah("auth","Firebase",s).create(e,{appName:n.name})}function ma(n){return O_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bR(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ms(n,"argument-error"),O_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function D_(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return x1.create(n,...e)}function He(n,e,...t){if(!n)throw D_(e,...t)}function ha(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sf(e),new Error(e)}function ya(n,e){n||ha(e)}function Yg(){return typeof self<"u"&&self.location?.href||""}function xR(){return rx()==="http:"||rx()==="https:"}function rx(){return typeof self<"u"&&self.location?.protocol||null}function wR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xR()||KC()||"connection"in navigator)?navigator.onLine:!0}function TR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Nh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ya(t>e,"Short delay should be less than long delay!"),this.isMobile=ZC()||WC()}get(){return wR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function k_(n,e){ya(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class w1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ER={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AR=new Nh(3e4,6e4);function Ta(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Or(n,e,t,s,o={}){return T1(n,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const _=Ch({key:n.config.apiKey,...d}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:m,...c};return YC()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Lo(n.emulatorConfig.host)&&(v.credentials="include"),w1.fetch()(await E1(n,n.config.apiHost,t,_),v)})}async function T1(n,e,t){n._canInitEmulator=!1;const s={...ER,...e};try{const o=new NR(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Gd(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const _=c.ok?d.errorMessage:d.error.message,[m,v]=_.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(n,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Gd(n,"email-already-in-use",d);if(m==="USER_DISABLED")throw Gd(n,"user-disabled",d);const w=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw O_(n,w,v);Ms(n,w)}}catch(o){if(o instanceof Lr)throw o;Ms(n,"network-request-failed",{message:String(o)})}}async function Rh(n,e,t,s,o={}){const c=await Or(n,e,t,s,o);return"mfaPendingCredential"in c&&Ms(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function E1(n,e,t,s){const o=`${e}${t}?${s}`,c=n,d=c.config.emulator?k_(n.config,o):`${n.config.apiScheme}://${o}`;return SR.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function CR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Qs(this.auth,"network-request-failed")),AR.get())})}}function Gd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Qs(n,e,s);return o.customData._tokenResponse=t,o}function ax(n){return n!==void 0&&n.enterprise!==void 0}class RR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return CR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IR(n,e){return Or(n,"GET","/v2/recaptchaConfig",Ta(n,e))}async function PR(n,e){return Or(n,"POST","/v1/accounts:delete",e)}async function bf(n,e){return Or(n,"POST","/v1/accounts:lookup",e)}function ih(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MR(n,e=!1){const t=$t(n),s=await t.getIdToken(e),o=j_(s);He(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:ih(wg(o.auth_time)),issuedAtTime:ih(wg(o.iat)),expirationTime:ih(wg(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function wg(n){return Number(n)*1e3}function j_(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const o=c1(t);return o?JSON.parse(o):(sf("Failed to decode base64 JWT payload"),null)}catch(o){return sf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ox(n){const e=j_(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qc(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Lr&&LR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function LR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class OR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ih(this.lastLoginAt),this.creationTime=ih(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xf(n){const e=n.auth,t=await n.getIdToken(),s=await qc(n,bf(e,{idToken:t}));He(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?S1(o.providerUserInfo):[],d=kR(n.providerData,c),_=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!d?.length,v=_?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Kg(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function DR(n){const e=$t(n);await xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kR(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function S1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function jR(n,e){const t=await T1(n,{},async()=>{const s=Ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,d=await E1(n,o,"/v1/token",`key=${c}`),_=await n._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:_,body:s};return n.emulatorConfig&&Lo(n.emulatorConfig.host)&&(m.credentials="include"),w1.fetch()(d,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VR(n,e){return Or(n,"POST","/v2/accounts:revokeToken",Ta(n,e))}class Dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ox(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=ox(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await jR(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,d=new Dc;return s&&(He(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(He(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(He(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dc,this.toJSON())}_performRefresh(){return ha("not implemented")}}function uo(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ws{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new OR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await qc(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MR(this,e)}reload(){return DR(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ws({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await xf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(ma(this.auth));const e=await this.getIdToken();return await qc(this,PR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,_=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:T,emailVerified:N,isAnonymous:R,providerData:j,stsTokenManager:V}=t;He(T&&V,e,"internal-error");const D=Dc.fromJSON(this.name,V);He(typeof T=="string",e,"internal-error"),uo(s,e.name),uo(o,e.name),He(typeof N=="boolean",e,"internal-error"),He(typeof R=="boolean",e,"internal-error"),uo(c,e.name),uo(d,e.name),uo(_,e.name),uo(m,e.name),uo(v,e.name),uo(w,e.name);const O=new Ws({uid:T,auth:e,email:o,emailVerified:N,displayName:s,isAnonymous:R,photoURL:d,phoneNumber:c,tenantId:_,stsTokenManager:D,createdAt:v,lastLoginAt:w});return j&&Array.isArray(j)&&(O.providerData=j.map(B=>({...B}))),m&&(O._redirectEventId=m),O}static async _fromIdTokenResponse(e,t,s=!1){const o=new Dc;o.updateFromServerResponse(t);const c=new Ws({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xf(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];He(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?S1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,_=new Dc;_.updateFromIdToken(s);const m=new Ws({uid:o.localId,auth:e,stsTokenManager:_,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Kg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,v),m}}const lx=new Map;function da(n){ya(n instanceof Function,"Expected a class definition");let e=lx.get(n);return e?(ya(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lx.set(n,e),e)}class A1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}A1.type="NONE";const cx=A1;function rf(n,e,t){return`firebase:${n}:${e}:${t}`}class kc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=rf(this.userKey,o.apiKey,c),this.fullPersistenceKey=rf("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await bf(this.auth,{idToken:e}).catch(()=>{});return t?Ws._fromGetAccountInfoResponse(this.auth,t,e):null}return Ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new kc(da(cx),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||da(cx);const d=rf(s,e.config.apiKey,e.name);let _=null;for(const v of t)try{const w=await v._get(d);if(w){let T;if(typeof w=="string"){const N=await bf(e,{idToken:w}).catch(()=>{});if(!N)break;T=await Ws._fromGetAccountInfoResponse(e,N,w)}else T=Ws._fromJSON(e,w);v!==c&&(_=T),c=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new kc(c,e,s):(c=m[0],_&&await c._set(d,_.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new kc(c,e,s))}}function ux(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(L1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(P1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function C1(n=si()){return/firefox\//i.test(n)}function N1(n=si()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(n=si()){return/crios\//i.test(n)}function I1(n=si()){return/iemobile/i.test(n)}function P1(n=si()){return/android/i.test(n)}function M1(n=si()){return/blackberry/i.test(n)}function L1(n=si()){return/webos/i.test(n)}function V_(n=si()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zR(n=si()){return V_(n)&&!!window.navigator?.standalone}function UR(){return QC()&&document.documentMode===10}function O1(n=si()){return V_(n)||P1(n)||L1(n)||M1(n)||/windows phone/i.test(n)||I1(n)}function D1(n,e=[]){let t;switch(n){case"Browser":t=ux(si());break;case"Worker":t=`${ux(si())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ul}/${s}`}class BR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,_)=>{try{const m=e(c);d(m)}catch(m){_(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function HR(n,e={}){return Or(n,"GET","/v2/passwordPolicy",Ta(n,e))}const qR=6;class FR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??qR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class GR{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hx(this),this.idTokenSubscription=new hx(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=da(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bf(this,{idToken:e}),s=await Ws._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ki(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,_=await this.tryRedirectSignIn(e);(!c||c===d)&&_?.user&&(s=_.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ki(this.app))return Promise.reject(ma(this));const t=e?$t(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ki(this.app)?Promise.reject(ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HR(this),t=new FR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ah("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await VR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&da(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await kc.create(this,[da(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(_,this,"internal-error"),_.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ea(n){return $t(n)}class hx{constructor(e){this.auth=e,this.observer=null,this.addObserver=rN(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(n){Xf=n}function k1(n){return Xf.loadJS(n)}function $R(){return Xf.recaptchaEnterpriseScript}function YR(){return Xf.gapiScript}function KR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class WR{constructor(){this.enterprise=new QR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class QR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const XR="recaptcha-enterprise",j1="NO_RECAPTCHA";class JR{constructor(e){this.type=XR,this.auth=Ea(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,_)=>{IR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const v=new RR(m);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(m=>{_(m)})})}function o(c,d,_){const m=window.grecaptcha;ax(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(j1)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(_=>{if(!t&&ax(window.grecaptcha))o(_,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=$R();m.length!==0&&(m+=_),k1(m).then(()=>{o(_,c,d)}).catch(v=>{d(v)})}}).catch(_=>{d(_)})})}}async function dx(n,e,t,s=!1,o=!1){const c=new JR(n);let d;if(o)d=j1;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const _={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const m=_.phoneEnrollmentInfo.phoneNumber,v=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const m=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return s?Object.assign(_,{captchaResp:d}):Object.assign(_,{captchaResponse:d}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function wf(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await dx(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dx(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}function eI(n,e){const t=Qf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Il(c,e??{}))return o;Ms(o,"already-initialized")}return t.initialize({options:e})}function tI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(da);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function nI(n,e,t){const s=Ea(n);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=V1(e),{host:d,port:_}=iI(e),m=_===null?"":`:${_}`,v={url:`${c}//${d}${m}/`},w=Object.freeze({host:d,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(Il(v,s.config.emulator)&&Il(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Lo(d)?(R_(`${c}//${d}${m}`),I_("Auth",!0)):sI()}function V1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iI(n){const e=V1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:fx(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:fx(d)}}}function fx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class z_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,t){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function rI(n,e){return Or(n,"POST","/v1/accounts:signUp",e)}async function aI(n,e){return Rh(n,"POST","/v1/accounts:signInWithPassword",Ta(n,e))}async function oI(n,e){return Or(n,"POST","/v1/accounts:sendOobCode",Ta(n,e))}async function lI(n,e){return oI(n,e)}async function cI(n,e){return Rh(n,"POST","/v1/accounts:signInWithEmailLink",Ta(n,e))}async function uI(n,e){return Rh(n,"POST","/v1/accounts:signInWithEmailLink",Ta(n,e))}class fh extends z_{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new fh(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new fh(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wf(e,t,"signInWithPassword",aI);case"emailLink":return cI(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wf(e,s,"signUpPassword",rI);case"emailLink":return uI(e,{idToken:t,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function jc(n,e){return Rh(n,"POST","/v1/accounts:signInWithIdp",Ta(n,e))}const hI="http://localhost";class va extends z_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const d=new va(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return jc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,jc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jc(e,t)}buildRequest(){const e={requestUri:hI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ch(t)}return e}}function dI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fI(n){const e=Ku(Wu(n)).link,t=e?Ku(Wu(e)).deep_link_id:null,s=Ku(Wu(n)).deep_link_id;return(s?Ku(Wu(s)).link:null)||s||t||e||n}class U_{constructor(e){const t=Ku(Wu(e)),s=t.apiKey??null,o=t.oobCode??null,c=dI(t.mode??null);He(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=fI(e);try{return new U_(t)}catch{return null}}}class Qc{constructor(){this.providerId=Qc.PROVIDER_ID}static credential(e,t){return fh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=U_.parseLink(t);return He(s,"argument-error"),fh._fromEmailAndCode(e,s.code,s.tenantId)}}Qc.PROVIDER_ID="password";Qc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class B_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xc extends B_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sh extends Xc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return He("providerId"in t&&"signInMethod"in t,"argument-error"),va._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return He(e.idToken||e.accessToken,"argument-error"),va._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return sh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return sh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:d,providerId:_}=e;if(!s&&!o&&!t&&!c||!_)return null;try{return new sh(_)._credential({idToken:t,accessToken:s,nonce:d,pendingToken:c})}catch{return null}}}class mo extends Xc{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";mo.PROVIDER_ID="facebook.com";class ca extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ca.credential(t,s)}catch{return null}}}ca.GOOGLE_SIGN_IN_METHOD="google.com";ca.PROVIDER_ID="google.com";class po extends Xc{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.GITHUB_SIGN_IN_METHOD="github.com";po.PROVIDER_ID="github.com";class go extends Xc{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return go.credential(t,s)}catch{return null}}}go.TWITTER_SIGN_IN_METHOD="twitter.com";go.PROVIDER_ID="twitter.com";async function mI(n,e){return Rh(n,"POST","/v1/accounts:signUp",Ta(n,e))}class Ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await Ws._fromIdTokenResponse(e,s,o),d=mx(s);return new Ml({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=mx(s);return new Ml({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function mx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Tf extends Lr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Tf(e,t,s,o)}}function z1(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Tf._fromErrorAndOperation(n,c,e,s):c})}async function pI(n,e,t=!1){const s=await qc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ml._forOperation(n,"link",s)}async function gI(n,e,t=!1){const{auth:s}=n;if(ki(s.app))return Promise.reject(ma(s));const o="reauthenticate";try{const c=await qc(n,z1(s,o,e,n),t);He(c.idToken,s,"internal-error");const d=j_(c.idToken);He(d,s,"internal-error");const{sub:_}=d;return He(n.uid===_,s,"user-mismatch"),Ml._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ms(s,"user-mismatch"),c}}async function U1(n,e,t=!1){if(ki(n.app))return Promise.reject(ma(n));const s="signIn",o=await z1(n,s,e),c=await Ml._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function _I(n,e){return U1(Ea(n),e)}async function B1(n){const e=Ea(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yI(n,e,t){const s=Ea(n);await wf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",lI)}async function vI(n,e,t){if(ki(n.app))return Promise.reject(ma(n));const s=Ea(n),d=await wf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&B1(n),m}),_=await Ml._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(_.user),_}function bI(n,e,t){return ki(n.app)?Promise.reject(ma(n)):_I($t(n),Qc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&B1(n),s})}async function xI(n,e){return Or(n,"POST","/v1/accounts:update",e)}async function wI(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=$t(n),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await qc(s,xI(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const _=s.providerData.find(({providerId:m})=>m==="password");_&&(_.displayName=s.displayName,_.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function TI(n,e,t,s){return $t(n).onIdTokenChanged(e,t,s)}function EI(n,e,t){return $t(n).beforeAuthStateChanged(e,t)}function SI(n,e,t,s){return $t(n).onAuthStateChanged(e,t,s)}function AI(n){return $t(n).signOut()}const Ef="__sak";class H1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CI=1e3,NI=10;class q1 extends H1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,_,m)=>{this.notifyListeners(d,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);UR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const RI=q1;class F1 extends H1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}F1.type="SESSION";const G1=F1;function II(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Jf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const _=Array.from(d).map(async v=>v(t.origin,c)),m=await II(_);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];function H_(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class PI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((_,m)=>{const v=H_("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(T){const N=T;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(N.data.response);break;default:clearTimeout(w),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Sr(){return window}function MI(n){Sr().location.href=n}function Z1(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function LI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OI(){return navigator?.serviceWorker?.controller||null}function DI(){return Z1()?self:null}const $1="firebaseLocalStorageDb",kI=1,Sf="firebaseLocalStorage",Y1="fbase_key";class Ih{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function em(n,e){return n.transaction([Sf],e?"readwrite":"readonly").objectStore(Sf)}function jI(){const n=indexedDB.deleteDatabase($1);return new Ih(n).toPromise()}function Wg(){const n=indexedDB.open($1,kI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Sf,{keyPath:Y1})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Sf)?e(s):(s.close(),await jI(),e(await Wg()))})})}async function px(n,e,t){const s=em(n,!0).put({[Y1]:e,value:t});return new Ih(s).toPromise()}async function VI(n,e){const t=em(n,!1).get(e),s=await new Ih(t).toPromise();return s===void 0?null:s.value}function gx(n,e){const t=em(n,!0).delete(e);return new Ih(t).toPromise()}const zI=800,UI=3;class K1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>UI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(DI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LI(),!this.activeServiceWorker)return;this.sender=new PI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await px(e,Ef,"1"),await gx(e,Ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>px(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>VI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=em(o,!1).getAll();return new Ih(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K1.type="LOCAL";const BI=K1;new Nh(3e4,6e4);function W1(n,e){return e?da(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class q_ extends z_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HI(n){return U1(n.auth,new q_(n),n.bypassAuthState)}function qI(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),gI(t,new q_(n),n.bypassAuthState)}async function FI(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),pI(t,new q_(n),n.bypassAuthState)}class Q1{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:d,type:_}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HI;case"linkViaPopup":case"linkViaRedirect":return FI;case"reauthViaPopup":case"reauthViaRedirect":return qI;default:Ms(this.auth,"internal-error")}}resolve(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GI=new Nh(2e3,1e4);async function _x(n,e,t){if(ki(n.app))return Promise.reject(Qs(n,"operation-not-supported-in-this-environment"));const s=Ea(n);bR(n,e,B_);const o=W1(s,t);return new Sl(s,"signInViaPopup",e,o).executeNotNull()}class Sl extends Q1{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Sl.currentPopupAction&&Sl.currentPopupAction.cancel(),Sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){ya(this.filter.length===1,"Popup operations only handle one event");const e=H_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GI.get())};e()}}Sl.currentPopupAction=null;const ZI="pendingRedirect",af=new Map;class $I extends Q1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=af.get(this.auth._key());if(!e){try{const s=await YI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}af.set(this.auth._key(),e)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YI(n,e){const t=QI(e),s=WI(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function KI(n,e){af.set(n._key(),e)}function WI(n){return da(n._redirectPersistence)}function QI(n){return rf(ZI,n.config.apiKey,n.name)}async function XI(n,e,t=!1){if(ki(n.app))return Promise.reject(ma(n));const s=Ea(n),o=W1(s,e),d=await new $I(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const JI=600*1e3;class eP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!X1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Qs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JI&&this.cachedEventUids.clear(),this.cachedEventUids.has(yx(e))}saveEventToCache(e){this.cachedEventUids.add(yx(e)),this.lastProcessedEventTime=Date.now()}}function yx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function X1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function tP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(n);default:return!1}}async function nP(n,e={}){return Or(n,"GET","/v1/projects",e)}const iP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sP=/^https?/;async function rP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nP(n);for(const t of e)try{if(aP(t))return}catch{}Ms(n,"unauthorized-domain")}function aP(n){const e=Yg(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!sP.test(t))return!1;if(iP.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const oP=new Nh(3e4,6e4);function vx(){const n=Sr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lP(n){return new Promise((e,t)=>{function s(){vx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vx(),t(Qs(n,"network-request-failed"))},timeout:oP.get()})}if(Sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Sr().gapi?.load)s();else{const o=KR("iframefcb");return Sr()[o]=()=>{gapi.load?s():t(Qs(n,"network-request-failed"))},k1(`${YR()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw of=null,e})}let of=null;function cP(n){return of=of||lP(n),of}const uP=new Nh(5e3,15e3),hP="__/auth/iframe",dP="emulator/auth/iframe",fP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pP(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?k_(e,dP):`https://${n.config.authDomain}/${hP}`,s={apiKey:e.apiKey,appName:n.name,v:Ul},o=mP.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Ch(s).slice(1)}`}async function gP(n){const e=await cP(n),t=Sr().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:pP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fP,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=Qs(n,"network-request-failed"),_=Sr().setTimeout(()=>{c(d)},uP.get());function m(){Sr().clearTimeout(_),o(s)}s.ping(m).then(m,()=>{c(d)})}))}const _P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yP=500,vP=600,bP="_blank",xP="http://localhost";class bx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wP(n,e,t,s=yP,o=vP){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const m={..._P,width:s.toString(),height:o.toString(),top:c,left:d},v=si().toLowerCase();t&&(_=R1(v)?bP:t),C1(v)&&(e=e||xP,m.scrollbars="yes");const w=Object.entries(m).reduce((N,[R,j])=>`${N}${R}=${j},`,"");if(zR(v)&&_!=="_self")return TP(e||"",_),new bx(null);const T=window.open(e||"",_,w);He(T,n,"popup-blocked");try{T.focus()}catch{}return new bx(T)}function TP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const EP="__/auth/handler",SP="emulator/auth/handler",AP=encodeURIComponent("fac");async function xx(n,e,t,s,o,c){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ul,eventId:o};if(e instanceof B_){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",sN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))d[w]=T}if(e instanceof Xc){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const _=d;for(const w of Object.keys(_))_[w]===void 0&&delete _[w];const m=await n._getAppCheckToken(),v=m?`#${AP}=${encodeURIComponent(m)}`:"";return`${CP(n)}?${Ch(_).slice(1)}${v}`}function CP({config:n}){return n.emulator?k_(n,SP):`https://${n.authDomain}/${EP}`}const Tg="webStorageSupport";class NP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=XI,this._overrideRedirectResult=KI}async _openPopup(e,t,s,o){ya(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await xx(e,t,s,Yg(),o);return wP(e,c,H_())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await xx(e,t,s,Yg(),o);return MI(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(ya(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await gP(e),s=new eP(e);return t.register("authEvent",o=>(He(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tg,{type:Tg},o=>{const c=o?.[0]?.[Tg];c!==void 0&&t(!!c),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return O1()||N1()||V_()}}const RP=NP;var wx="@firebase/auth",Tx="1.12.0";class IP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MP(n){Pl(new Ao("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=s.options;He(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:_,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D1(n)},v=new GR(s,o,c,m);return tI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Pl(new Ao("auth-internal",e=>{const t=Ea(e.getProvider("auth").getImmediate());return(s=>new IP(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(wx,Tx,PP(n)),Er(wx,Tx,"esm2020")}const LP=300,OP=f1("authIdTokenMaxAge")||LP;let Ex=null;const DP=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>OP)return;const o=t?.token;Ex!==o&&(Ex=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kP(n=L_()){const e=Qf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=eI(n,{popupRedirectResolver:RP,persistence:[BI,RI,G1]}),s=f1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=DP(c.toString());EI(t,d,()=>d(t.currentUser)),TI(t,_=>d(_))}}const o=u1("auth");return o&&nI(t,`http://${o}`),t}function jP(){return document.getElementsByTagName("head")?.[0]??document}ZR({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=Qs("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",jP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MP("Browser");var Sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Eo,J1;(function(){var n;function e(z,I){function F(){}F.prototype=I.prototype,z.F=I.prototype,z.prototype=new F,z.prototype.constructor=z,z.D=function(G,U,$){for(var q=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)q[pe-2]=arguments[pe];return I.prototype[U].apply(G,q)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(z,I,F){F||(F=0);const G=Array(16);if(typeof I=="string")for(var U=0;U<16;++U)G[U]=I.charCodeAt(F++)|I.charCodeAt(F++)<<8|I.charCodeAt(F++)<<16|I.charCodeAt(F++)<<24;else for(U=0;U<16;++U)G[U]=I[F++]|I[F++]<<8|I[F++]<<16|I[F++]<<24;I=z.g[0],F=z.g[1],U=z.g[2];let $=z.g[3],q;q=I+($^F&(U^$))+G[0]+3614090360&4294967295,I=F+(q<<7&4294967295|q>>>25),q=$+(U^I&(F^U))+G[1]+3905402710&4294967295,$=I+(q<<12&4294967295|q>>>20),q=U+(F^$&(I^F))+G[2]+606105819&4294967295,U=$+(q<<17&4294967295|q>>>15),q=F+(I^U&($^I))+G[3]+3250441966&4294967295,F=U+(q<<22&4294967295|q>>>10),q=I+($^F&(U^$))+G[4]+4118548399&4294967295,I=F+(q<<7&4294967295|q>>>25),q=$+(U^I&(F^U))+G[5]+1200080426&4294967295,$=I+(q<<12&4294967295|q>>>20),q=U+(F^$&(I^F))+G[6]+2821735955&4294967295,U=$+(q<<17&4294967295|q>>>15),q=F+(I^U&($^I))+G[7]+4249261313&4294967295,F=U+(q<<22&4294967295|q>>>10),q=I+($^F&(U^$))+G[8]+1770035416&4294967295,I=F+(q<<7&4294967295|q>>>25),q=$+(U^I&(F^U))+G[9]+2336552879&4294967295,$=I+(q<<12&4294967295|q>>>20),q=U+(F^$&(I^F))+G[10]+4294925233&4294967295,U=$+(q<<17&4294967295|q>>>15),q=F+(I^U&($^I))+G[11]+2304563134&4294967295,F=U+(q<<22&4294967295|q>>>10),q=I+($^F&(U^$))+G[12]+1804603682&4294967295,I=F+(q<<7&4294967295|q>>>25),q=$+(U^I&(F^U))+G[13]+4254626195&4294967295,$=I+(q<<12&4294967295|q>>>20),q=U+(F^$&(I^F))+G[14]+2792965006&4294967295,U=$+(q<<17&4294967295|q>>>15),q=F+(I^U&($^I))+G[15]+1236535329&4294967295,F=U+(q<<22&4294967295|q>>>10),q=I+(U^$&(F^U))+G[1]+4129170786&4294967295,I=F+(q<<5&4294967295|q>>>27),q=$+(F^U&(I^F))+G[6]+3225465664&4294967295,$=I+(q<<9&4294967295|q>>>23),q=U+(I^F&($^I))+G[11]+643717713&4294967295,U=$+(q<<14&4294967295|q>>>18),q=F+($^I&(U^$))+G[0]+3921069994&4294967295,F=U+(q<<20&4294967295|q>>>12),q=I+(U^$&(F^U))+G[5]+3593408605&4294967295,I=F+(q<<5&4294967295|q>>>27),q=$+(F^U&(I^F))+G[10]+38016083&4294967295,$=I+(q<<9&4294967295|q>>>23),q=U+(I^F&($^I))+G[15]+3634488961&4294967295,U=$+(q<<14&4294967295|q>>>18),q=F+($^I&(U^$))+G[4]+3889429448&4294967295,F=U+(q<<20&4294967295|q>>>12),q=I+(U^$&(F^U))+G[9]+568446438&4294967295,I=F+(q<<5&4294967295|q>>>27),q=$+(F^U&(I^F))+G[14]+3275163606&4294967295,$=I+(q<<9&4294967295|q>>>23),q=U+(I^F&($^I))+G[3]+4107603335&4294967295,U=$+(q<<14&4294967295|q>>>18),q=F+($^I&(U^$))+G[8]+1163531501&4294967295,F=U+(q<<20&4294967295|q>>>12),q=I+(U^$&(F^U))+G[13]+2850285829&4294967295,I=F+(q<<5&4294967295|q>>>27),q=$+(F^U&(I^F))+G[2]+4243563512&4294967295,$=I+(q<<9&4294967295|q>>>23),q=U+(I^F&($^I))+G[7]+1735328473&4294967295,U=$+(q<<14&4294967295|q>>>18),q=F+($^I&(U^$))+G[12]+2368359562&4294967295,F=U+(q<<20&4294967295|q>>>12),q=I+(F^U^$)+G[5]+4294588738&4294967295,I=F+(q<<4&4294967295|q>>>28),q=$+(I^F^U)+G[8]+2272392833&4294967295,$=I+(q<<11&4294967295|q>>>21),q=U+($^I^F)+G[11]+1839030562&4294967295,U=$+(q<<16&4294967295|q>>>16),q=F+(U^$^I)+G[14]+4259657740&4294967295,F=U+(q<<23&4294967295|q>>>9),q=I+(F^U^$)+G[1]+2763975236&4294967295,I=F+(q<<4&4294967295|q>>>28),q=$+(I^F^U)+G[4]+1272893353&4294967295,$=I+(q<<11&4294967295|q>>>21),q=U+($^I^F)+G[7]+4139469664&4294967295,U=$+(q<<16&4294967295|q>>>16),q=F+(U^$^I)+G[10]+3200236656&4294967295,F=U+(q<<23&4294967295|q>>>9),q=I+(F^U^$)+G[13]+681279174&4294967295,I=F+(q<<4&4294967295|q>>>28),q=$+(I^F^U)+G[0]+3936430074&4294967295,$=I+(q<<11&4294967295|q>>>21),q=U+($^I^F)+G[3]+3572445317&4294967295,U=$+(q<<16&4294967295|q>>>16),q=F+(U^$^I)+G[6]+76029189&4294967295,F=U+(q<<23&4294967295|q>>>9),q=I+(F^U^$)+G[9]+3654602809&4294967295,I=F+(q<<4&4294967295|q>>>28),q=$+(I^F^U)+G[12]+3873151461&4294967295,$=I+(q<<11&4294967295|q>>>21),q=U+($^I^F)+G[15]+530742520&4294967295,U=$+(q<<16&4294967295|q>>>16),q=F+(U^$^I)+G[2]+3299628645&4294967295,F=U+(q<<23&4294967295|q>>>9),q=I+(U^(F|~$))+G[0]+4096336452&4294967295,I=F+(q<<6&4294967295|q>>>26),q=$+(F^(I|~U))+G[7]+1126891415&4294967295,$=I+(q<<10&4294967295|q>>>22),q=U+(I^($|~F))+G[14]+2878612391&4294967295,U=$+(q<<15&4294967295|q>>>17),q=F+($^(U|~I))+G[5]+4237533241&4294967295,F=U+(q<<21&4294967295|q>>>11),q=I+(U^(F|~$))+G[12]+1700485571&4294967295,I=F+(q<<6&4294967295|q>>>26),q=$+(F^(I|~U))+G[3]+2399980690&4294967295,$=I+(q<<10&4294967295|q>>>22),q=U+(I^($|~F))+G[10]+4293915773&4294967295,U=$+(q<<15&4294967295|q>>>17),q=F+($^(U|~I))+G[1]+2240044497&4294967295,F=U+(q<<21&4294967295|q>>>11),q=I+(U^(F|~$))+G[8]+1873313359&4294967295,I=F+(q<<6&4294967295|q>>>26),q=$+(F^(I|~U))+G[15]+4264355552&4294967295,$=I+(q<<10&4294967295|q>>>22),q=U+(I^($|~F))+G[6]+2734768916&4294967295,U=$+(q<<15&4294967295|q>>>17),q=F+($^(U|~I))+G[13]+1309151649&4294967295,F=U+(q<<21&4294967295|q>>>11),q=I+(U^(F|~$))+G[4]+4149444226&4294967295,I=F+(q<<6&4294967295|q>>>26),q=$+(F^(I|~U))+G[11]+3174756917&4294967295,$=I+(q<<10&4294967295|q>>>22),q=U+(I^($|~F))+G[2]+718787259&4294967295,U=$+(q<<15&4294967295|q>>>17),q=F+($^(U|~I))+G[9]+3951481745&4294967295,z.g[0]=z.g[0]+I&4294967295,z.g[1]=z.g[1]+(U+(q<<21&4294967295|q>>>11))&4294967295,z.g[2]=z.g[2]+U&4294967295,z.g[3]=z.g[3]+$&4294967295}s.prototype.v=function(z,I){I===void 0&&(I=z.length);const F=I-this.blockSize,G=this.C;let U=this.h,$=0;for(;$<I;){if(U==0)for(;$<=F;)o(this,z,$),$+=this.blockSize;if(typeof z=="string"){for(;$<I;)if(G[U++]=z.charCodeAt($++),U==this.blockSize){o(this,G),U=0;break}}else for(;$<I;)if(G[U++]=z[$++],U==this.blockSize){o(this,G),U=0;break}}this.h=U,this.o+=I},s.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var I=1;I<z.length-8;++I)z[I]=0;I=this.o*8;for(var F=z.length-8;F<z.length;++F)z[F]=I&255,I/=256;for(this.v(z),z=Array(16),I=0,F=0;F<4;++F)for(let G=0;G<32;G+=8)z[I++]=this.g[F]>>>G&255;return z};function c(z,I){var F=_;return Object.prototype.hasOwnProperty.call(F,z)?F[z]:F[z]=I(z)}function d(z,I){this.h=I;const F=[];let G=!0;for(let U=z.length-1;U>=0;U--){const $=z[U]|0;G&&$==I||(F[U]=$,G=!1)}this.g=F}var _={};function m(z){return-128<=z&&z<128?c(z,function(I){return new d([I|0],I<0?-1:0)}):new d([z|0],z<0?-1:0)}function v(z){if(isNaN(z)||!isFinite(z))return T;if(z<0)return D(v(-z));const I=[];let F=1;for(let G=0;z>=F;G++)I[G]=z/F|0,F*=4294967296;return new d(I,0)}function w(z,I){if(z.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z.charAt(0)=="-")return D(w(z.substring(1),I));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=v(Math.pow(I,8));let G=T;for(let $=0;$<z.length;$+=8){var U=Math.min(8,z.length-$);const q=parseInt(z.substring($,$+U),I);U<8?(U=v(Math.pow(I,U)),G=G.j(U).add(v(q))):(G=G.j(F),G=G.add(v(q)))}return G}var T=m(0),N=m(1),R=m(16777216);n=d.prototype,n.m=function(){if(V(this))return-D(this).m();let z=0,I=1;for(let F=0;F<this.g.length;F++){const G=this.i(F);z+=(G>=0?G:4294967296+G)*I,I*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(j(this))return"0";if(V(this))return"-"+D(this).toString(z);const I=v(Math.pow(z,6));var F=this;let G="";for(;;){const U=J(F,I).g;F=O(F,U.j(I));let $=((F.g.length>0?F.g[0]:F.h)>>>0).toString(z);if(F=U,j(F))return $+G;for(;$.length<6;)$="0"+$;G=$+G}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function j(z){if(z.h!=0)return!1;for(let I=0;I<z.g.length;I++)if(z.g[I]!=0)return!1;return!0}function V(z){return z.h==-1}n.l=function(z){return z=O(this,z),V(z)?-1:j(z)?0:1};function D(z){const I=z.g.length,F=[];for(let G=0;G<I;G++)F[G]=~z.g[G];return new d(F,~z.h).add(N)}n.abs=function(){return V(this)?D(this):this},n.add=function(z){const I=Math.max(this.g.length,z.g.length),F=[];let G=0;for(let U=0;U<=I;U++){let $=G+(this.i(U)&65535)+(z.i(U)&65535),q=($>>>16)+(this.i(U)>>>16)+(z.i(U)>>>16);G=q>>>16,$&=65535,q&=65535,F[U]=q<<16|$}return new d(F,F[F.length-1]&-2147483648?-1:0)};function O(z,I){return z.add(D(I))}n.j=function(z){if(j(this)||j(z))return T;if(V(this))return V(z)?D(this).j(D(z)):D(D(this).j(z));if(V(z))return D(this.j(D(z)));if(this.l(R)<0&&z.l(R)<0)return v(this.m()*z.m());const I=this.g.length+z.g.length,F=[];for(var G=0;G<2*I;G++)F[G]=0;for(G=0;G<this.g.length;G++)for(let U=0;U<z.g.length;U++){const $=this.i(G)>>>16,q=this.i(G)&65535,pe=z.i(U)>>>16,Le=z.i(U)&65535;F[2*G+2*U]+=q*Le,B(F,2*G+2*U),F[2*G+2*U+1]+=$*Le,B(F,2*G+2*U+1),F[2*G+2*U+1]+=q*pe,B(F,2*G+2*U+1),F[2*G+2*U+2]+=$*pe,B(F,2*G+2*U+2)}for(z=0;z<I;z++)F[z]=F[2*z+1]<<16|F[2*z];for(z=I;z<2*I;z++)F[z]=0;return new d(F,0)};function B(z,I){for(;(z[I]&65535)!=z[I];)z[I+1]+=z[I]>>>16,z[I]&=65535,I++}function Z(z,I){this.g=z,this.h=I}function J(z,I){if(j(I))throw Error("division by zero");if(j(z))return new Z(T,T);if(V(z))return I=J(D(z),I),new Z(D(I.g),D(I.h));if(V(I))return I=J(z,D(I)),new Z(D(I.g),I.h);if(z.g.length>30){if(V(z)||V(I))throw Error("slowDivide_ only works with positive integers.");for(var F=N,G=I;G.l(z)<=0;)F=ee(F),G=ee(G);var U=me(F,1),$=me(G,1);for(G=me(G,2),F=me(F,2);!j(G);){var q=$.add(G);q.l(z)<=0&&(U=U.add(F),$=q),G=me(G,1),F=me(F,1)}return I=O(z,U.j(I)),new Z(U,I)}for(U=T;z.l(I)>=0;){for(F=Math.max(1,Math.floor(z.m()/I.m())),G=Math.ceil(Math.log(F)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),$=v(F),q=$.j(I);V(q)||q.l(z)>0;)F-=G,$=v(F),q=$.j(I);j($)&&($=N),U=U.add($),z=O(z,q)}return new Z(U,z)}n.B=function(z){return J(this,z).h},n.and=function(z){const I=Math.max(this.g.length,z.g.length),F=[];for(let G=0;G<I;G++)F[G]=this.i(G)&z.i(G);return new d(F,this.h&z.h)},n.or=function(z){const I=Math.max(this.g.length,z.g.length),F=[];for(let G=0;G<I;G++)F[G]=this.i(G)|z.i(G);return new d(F,this.h|z.h)},n.xor=function(z){const I=Math.max(this.g.length,z.g.length),F=[];for(let G=0;G<I;G++)F[G]=this.i(G)^z.i(G);return new d(F,this.h^z.h)};function ee(z){const I=z.g.length+1,F=[];for(let G=0;G<I;G++)F[G]=z.i(G)<<1|z.i(G-1)>>>31;return new d(F,z.h)}function me(z,I){const F=I>>5;I%=32;const G=z.g.length-F,U=[];for(let $=0;$<G;$++)U[$]=I>0?z.i($+F)>>>I|z.i($+F+1)<<32-I:z.i($+F);return new d(U,z.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,J1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,Eo=d}).apply(typeof Sx<"u"?Sx:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eT,Qu,tT,lf,Qg,nT,iT,sT;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var E=0;E<f.length;++E){var C=f[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=t(this);function o(f,E){if(E)e:{var C=s;f=f.split(".");for(var k=0;k<f.length-1;k++){var ie=f[k];if(!(ie in C))break e;C=C[ie]}f=f[f.length-1],k=C[f],E=E(k),E!=k&&E!=null&&e(C,f,{configurable:!0,writable:!0,value:E})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(E){var C=[],k;for(k in E)Object.prototype.hasOwnProperty.call(E,k)&&C.push([k,E[k]]);return C}});var c=c||{},d=this||self;function _(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function m(f,E,C){return f.call.apply(f.bind,arguments)}function v(f,E,C){return v=m,v.apply(null,arguments)}function w(f,E){var C=Array.prototype.slice.call(arguments,1);return function(){var k=C.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function T(f,E){function C(){}C.prototype=E.prototype,f.Z=E.prototype,f.prototype=new C,f.prototype.constructor=f,f.Ob=function(k,ie,ce){for(var Se=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Se[Fe-2]=arguments[Fe];return E.prototype[ie].apply(k,Se)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function R(f){const E=f.length;if(E>0){const C=Array(E);for(let k=0;k<E;k++)C[k]=f[k];return C}return[]}function j(f,E){for(let k=1;k<arguments.length;k++){const ie=arguments[k];var C=typeof ie;if(C=C!="object"?C:ie?Array.isArray(ie)?"array":C:"null",C=="array"||C=="object"&&typeof ie.length=="number"){C=f.length||0;const ce=ie.length||0;f.length=C+ce;for(let Se=0;Se<ce;Se++)f[C+Se]=ie[Se]}else f.push(ie)}}class V{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function D(f){d.setTimeout(()=>{throw f},0)}function O(){var f=z;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class B{constructor(){this.h=this.g=null}add(E,C){const k=Z.get();k.set(E,C),this.h?this.h.next=k:this.g=k,this.h=k}}var Z=new V(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,me=!1,z=new B,I=()=>{const f=Promise.resolve(void 0);ee=()=>{f.then(F)}};function F(){for(var f;f=O();){try{f.h.call(f.g)}catch(C){D(C)}var E=Z;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}me=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};d.addEventListener("test",C,E),d.removeEventListener("test",C,E)}catch{}return f})();function q(f){return/^[\s\xa0]*$/.test(f)}function pe(f,E){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}T(pe,U),pe.prototype.init=function(f,E){const C=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(C=="mouseover"?E=f.fromElement:C=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),ae=0;function Te(f,E,C,k,ie){this.listener=f,this.proxy=null,this.src=E,this.type=C,this.capture=!!k,this.ha=ie,this.key=++ae,this.da=this.fa=!1}function Q(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ae(f,E,C){for(const k in f)E.call(C,f[k],k,f)}function we(f,E){for(const C in f)E.call(void 0,f[C],C,f)}function Y(f){const E={};for(const C in f)E[C]=f[C];return E}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(f,E){let C,k;for(let ie=1;ie<arguments.length;ie++){k=arguments[ie];for(C in k)f[C]=k[C];for(let ce=0;ce<ue.length;ce++)C=ue[ce],Object.prototype.hasOwnProperty.call(k,C)&&(f[C]=k[C])}}function Ee(f){this.src=f,this.g={},this.h=0}Ee.prototype.add=function(f,E,C,k,ie){const ce=f.toString();f=this.g[ce],f||(f=this.g[ce]=[],this.h++);const Se=Re(f,E,k,ie);return Se>-1?(E=f[Se],C||(E.fa=!1)):(E=new Te(E,this.src,ce,!!k,ie),E.fa=C,f.push(E)),E};function Ne(f,E){const C=E.type;if(C in f.g){var k=f.g[C],ie=Array.prototype.indexOf.call(k,E,void 0),ce;(ce=ie>=0)&&Array.prototype.splice.call(k,ie,1),ce&&(Q(E),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Re(f,E,C,k){for(let ie=0;ie<f.length;++ie){const ce=f[ie];if(!ce.da&&ce.listener==E&&ce.capture==!!C&&ce.ha==k)return ie}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),At={};function Ct(f,E,C,k,ie){if(Array.isArray(E)){for(let ce=0;ce<E.length;ce++)Ct(f,E[ce],C,k,ie);return null}return C=un(C),f&&f[Le]?f.J(E,C,_(k)?!!k.capture:!1,ie):ji(f,E,C,!1,k,ie)}function ji(f,E,C,k,ie,ce){if(!E)throw Error("Invalid event type");const Se=_(ie)?!!ie.capture:!!ie;let Fe=vt(f);if(Fe||(f[Ge]=Fe=new Ee(f)),C=Fe.add(E,C,k,Se,ce),C.proxy)return C;if(k=as(),C.proxy=k,k.src=f,k.listener=C,f.addEventListener)$||(ie=Se),ie===void 0&&(ie=!1),f.addEventListener(E.toString(),k,ie);else if(f.attachEvent)f.attachEvent(de(E.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return C}function as(){function f(C){return E.call(f.src,f.listener,C)}const E=Ke;return f}function gi(f,E,C,k,ie){if(Array.isArray(E))for(var ce=0;ce<E.length;ce++)gi(f,E[ce],C,k,ie);else k=_(k)?!!k.capture:!!k,C=un(C),f&&f[Le]?(f=f.i,ce=String(E).toString(),ce in f.g&&(E=f.g[ce],C=Re(E,C,k,ie),C>-1&&(Q(E[C]),Array.prototype.splice.call(E,C,1),E.length==0&&(delete f.g[ce],f.h--)))):f&&(f=vt(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Re(E,C,k,ie)),(C=f>-1?E[f]:null)&&os(C))}function os(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Le])Ne(E.i,f);else{var C=f.type,k=f.proxy;E.removeEventListener?E.removeEventListener(C,k,f.capture):E.detachEvent?E.detachEvent(de(C),k):E.addListener&&E.removeListener&&E.removeListener(k),(C=vt(E))?(Ne(C,f),C.h==0&&(C.src=null,E[Ge]=null)):Q(f)}}}function de(f){return f in At?At[f]:At[f]="on"+f}function Ke(f,E){if(f.da)f=!0;else{E=new pe(E,this);const C=f.listener,k=f.ha||f.src;f.fa&&os(f),f=C.call(k,E)}return f}function vt(f){return f=f[Ge],f instanceof Ee?f:null}var it="__closure_events_fn_"+(Math.random()*1e9>>>0);function un(f){return typeof f=="function"?f:(f[it]||(f[it]=function(E){return f.handleEvent(E)}),f[it])}function Vt(){G.call(this),this.i=new Ee(this),this.M=this,this.G=null}T(Vt,G),Vt.prototype[Le]=!0,Vt.prototype.removeEventListener=function(f,E,C,k){gi(this,f,E,C,k)};function Jt(f,E){var C,k=f.G;if(k)for(C=[];k;k=k.G)C.push(k);if(f=f.M,k=E.type||E,typeof E=="string")E=new U(E,f);else if(E instanceof U)E.target=E.target||f;else{var ie=E;E=new U(k,f),xe(E,ie)}ie=!0;let ce,Se;if(C)for(Se=C.length-1;Se>=0;Se--)ce=E.g=C[Se],ie=ls(ce,k,!0,E)&&ie;if(ce=E.g=f,ie=ls(ce,k,!0,E)&&ie,ie=ls(ce,k,!1,E)&&ie,C)for(Se=0;Se<C.length;Se++)ce=E.g=C[Se],ie=ls(ce,k,!1,E)&&ie}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const C=f.g[E];for(let k=0;k<C.length;k++)Q(C[k]);delete f.g[E],f.h--}}this.G=null},Vt.prototype.J=function(f,E,C,k){return this.i.add(String(f),E,!1,C,k)},Vt.prototype.K=function(f,E,C,k){return this.i.add(String(f),E,!0,C,k)};function ls(f,E,C,k){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let ie=!0;for(let ce=0;ce<E.length;++ce){const Se=E[ce];if(Se&&!Se.da&&Se.capture==C){const Fe=Se.listener,pt=Se.ha||Se.src;Se.fa&&Ne(f.i,Se),ie=Fe.call(pt,k)!==!1&&ie}}return ie&&!k.defaultPrevented}function Fl(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:d.setTimeout(f,E||0)}function zo(f){f.g=Fl(()=>{f.g=null,f.i&&(f.i=!1,zo(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Bn extends G{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(f){G.call(this),this.h=f,this.g={}}T(Dr,G);var kr=[];function Sa(f){Ae(f.g,function(E,C){this.g.hasOwnProperty(C)&&os(E)},f),f.g={}}Dr.prototype.N=function(){Dr.Z.N.call(this),Sa(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=d.JSON.stringify,su=d.JSON.parse,Uo=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Bo(){}function Gl(){}var _i={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hn(){U.call(this,"d")}T(hn,U);function ri(){U.call(this,"c")}T(ri,U);var Yt={},tr=null;function Aa(){return tr=tr||new Vt}Yt.Ia="serverreachability";function Zl(f){U.call(this,Yt.Ia,f)}T(Zl,U);function Vi(f){const E=Aa();Jt(E,new Zl(E))}Yt.STAT_EVENT="statevent";function nr(f,E){U.call(this,Yt.STAT_EVENT,f),this.stat=E}T(nr,U);function Kt(f){const E=Aa();Jt(E,new nr(E,f))}Yt.Ja="timingevent";function cs(f,E){U.call(this,Yt.Ja,f),this.size=E}T(cs,U);function us(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},E)}function zi(){this.g=!0}zi.prototype.ua=function(){this.g=!1};function ru(f,E,C,k,ie,ce){f.info(function(){if(f.g)if(ce){var Se="",Fe=ce.split("&");for(let gt=0;gt<Fe.length;gt++){var pt=Fe[gt].split("=");if(pt.length>1){const kt=pt[0];pt=pt[1];const Si=kt.split("_");Se=Si.length>=2&&Si[1]=="type"?Se+(kt+"="+pt+"&"):Se+(kt+"=redacted&")}}}else Se=null;else Se=ce;return"XMLHTTP REQ ("+k+") [attempt "+ie+"]: "+E+`
`+C+`
`+Se})}function $l(f,E,C,k,ie,ce,Se){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+ie+"]: "+E+`
`+C+`
`+ce+" "+Se})}function hs(f,E,C,k){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+au(f,C)+(k?" "+k:"")})}function Os(f,E){f.info(function(){return"TIMEOUT: "+E})}zi.prototype.info=function(){};function au(f,E){if(!f.g)return E;if(!E)return null;try{const ce=JSON.parse(E);if(ce){for(f=0;f<ce.length;f++)if(Array.isArray(ce[f])){var C=ce[f];if(!(C.length<2)){var k=C[1];if(Array.isArray(k)&&!(k.length<1)){var ie=k[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Se=1;Se<k.length;Se++)k[Se]=""}}}}return Ls(ce)}catch{return E}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function In(){}T(In,Bo),In.prototype.g=function(){return new XMLHttpRequest},qo=new In;function Oe(f){return encodeURIComponent(String(f))}function Fo(f){var E=1;f=f.split(":");const C=[];for(;E>0&&f.length;)C.push(f.shift()),E--;return f.length&&C.push(f.join(":")),C}function yi(f,E,C,k){this.j=f,this.i=E,this.l=C,this.S=k||1,this.V=new Dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Wt={},en={};function Ui(f,E,C){f.M=1,f.A=Nt(Ut(E)),f.u=C,f.R=!0,Bi(f,null)}function Bi(f,E){f.F=Date.now(),ds(f),f.B=Ut(f.A);var C=f.B,k=f.S;Array.isArray(k)||(k=[String(k)]),sr(C.i,"t",k),f.C=0,C=f.j.L,f.h=new vi,f.g=Qo(f.j,C?E:null,!f.u),f.P>0&&(f.O=new Bn(v(f.Y,f,f.g),f.P)),E=f.V,C=f.g,k=f.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(kr[0]=ie.toString()),ie=kr);for(let ce=0;ce<ie.length;ce++){const Se=Ct(C,ie[ce],k||E.handleEvent,!1,E.h||E);if(!Se)break;E.g[Se.key]=Se}E=f.J?Y(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),Vi(),ru(f.i,f.v,f.B,f.l,f.S,f.u)}yi.prototype.ba=function(f){f=f.target;const E=this.O;E&&Gi(f)==3?E.j():this.Y(f)},yi.prototype.Y=function(f){try{if(f==this.g)e:{const Fe=Gi(this.g),pt=this.g.ya(),gt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||_n(this.g)))){this.K||Fe!=4||pt==7||(pt==8||gt<=0?Vi(3):Vi(2)),Hi(this);var E=this.g.ca();this.X=E;var C=Yl(this);if(this.o=E==200,$l(this.i,this.v,this.B,this.l,this.S,Fe,E),this.o){if(this.U&&!this.L){t:{if(this.g){var k,ie=this.g;if((k=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(k)){var ce=k;break t}}ce=null}if(f=ce)hs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fs(this,f);else{this.o=!1,this.m=3,Kt(12),Pn(this),bi(this);break e}}if(this.R){f=!0;let kt;for(;!this.K&&this.C<C.length;)if(kt=Wl(this,C),kt==en){Fe==4&&(this.m=4,Kt(14),f=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Wt){this.m=4,Kt(15),hs(this.i,this.l,C,"[Invalid Chunk]"),f=!1;break}else hs(this.i,this.l,kt,null),fs(this,kt);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||C.length!=0||this.h.h||(this.m=1,Kt(16),f=!1),this.o=this.o&&f,!f)hs(this.i,this.l,C,"[Invalid Chunked Response]"),Pn(this),bi(this);else if(C.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Ko(Se),Se.P=!0,Kt(11))}}else hs(this.i,this.l,C,null),fs(this,C);Fe==4&&Pn(this),this.o&&!this.K&&(Fe==4?li(this.j,this):(this.o=!1,ds(this)))}else Zi(this.g),E==400&&C.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),Pn(this),bi(this)}}}catch{}};function Yl(f){if(!Kl(f))return f.g.la();const E=_n(f.g);if(E==="")return"";let C="";const k=E.length,ie=Gi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Pn(f),bi(f),"";f.h.i=new d.TextDecoder}for(let ce=0;ce<k;ce++)f.h.h=!0,C+=f.h.i.decode(E[ce],{stream:!(ie&&ce==k-1)});return E.length=0,f.h.g+=C,f.C=0,f.h.g}function Kl(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Wl(f,E){var C=f.C,k=E.indexOf(`
`,C);return k==-1?en:(C=Number(E.substring(C,k)),isNaN(C)?Wt:(k+=1,k+C>E.length?en:(E=E.slice(k,k+C),f.C=k+C,E)))}yi.prototype.cancel=function(){this.K=!0,Pn(this)};function ds(f){f.T=Date.now()+f.H,Ca(f,f.H)}function Ca(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=us(v(f.aa,f),E)}function Hi(f){f.D&&(d.clearTimeout(f.D),f.D=null)}yi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Os(this.i,this.B),this.M!=2&&(Vi(),Kt(17)),Pn(this),this.m=2,bi(this)):Ca(this,this.T-f)};function bi(f){f.j.I==0||f.K||li(f.j,f)}function Pn(f){Hi(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,Sa(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function fs(f,E){try{var C=f.j;if(C.I!=0&&(C.g==f||xi(C.h,f))){if(!f.L&&xi(C.h,f)&&C.I==3){try{var k=C.Ba.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var ie=k;if(ie[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<f.F)Oa(C),lr(C);else break e;qr(C),Kt(18)}}else C.xa=ie[1],0<C.xa-C.K&&ie[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=us(v(C.Va,C),6e3));ms(C.h)<=1&&C.ta&&(C.ta=void 0)}else $i(C,11)}else if((f.L||C.g==f)&&Oa(C),!q(E))for(ie=C.Ba.g.parse(E),E=0;E<ie.length;E++){let gt=ie[E];const kt=gt[0];if(!(kt<=C.K))if(C.K=kt,gt=gt[1],C.I==2)if(gt[0]=="c"){C.M=gt[1],C.ba=gt[2];const Si=gt[3];Si!=null&&(C.ka=Si,C.j.info("VER="+C.ka));const Ai=gt[4];Ai!=null&&(C.za=Ai,C.j.info("SVER="+C.za));const ci=gt[5];ci!=null&&typeof ci=="number"&&ci>0&&(k=1.5*ci,C.O=k,C.j.info("backChannelRequestTimeoutMs_="+k)),k=C;const Ki=f.g;if(Ki){const Fr=Ki.g?Ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var ce=k.h;ce.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Ds(ce,ce.h),ce.h=null))}if(k.G){const Gr=Ki.g?Ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Gr&&(k.wa=Gr,Pe(k.J,k.G,Gr))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-f.F,C.j.info("Handshake RTT: "+C.T+"ms")),k=C;var Se=f;if(k.na=Wo(k,k.L?k.ba:null,k.W),Se.L){Na(k.h,Se);var Fe=Se,pt=k.O;pt&&(Fe.H=pt),Fe.D&&(Hi(Fe),ds(Fe)),k.g=Se}else Yo(k);C.i.length>0&&Qn(C)}else gt[0]!="stop"&&gt[0]!="close"||$i(C,7);else C.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?$i(C,7):et(C):gt[0]!="noop"&&C.l&&C.l.qa(gt),C.A=0)}}Vi(4)}catch{}}var tn=class{constructor(f,E){this.g=f,this.map=E}};function Go(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ms(f){return f.h?1:f.g?f.g.size:0}function xi(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Ds(f,E){f.g?f.g.add(E):f.h=E}function Na(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Go.prototype.cancel=function(){if(this.i=Ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ra(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const C of f.g.values())E=E.concat(C.G);return E}return R(f.i)}var ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tt(f,E){if(f){f=f.split("&");for(let C=0;C<f.length;C++){const k=f[C].indexOf("=");let ie,ce=null;k>=0?(ie=f[C].substring(0,k),ce=f[C].substring(k+1)):ie=f[C],E(ie,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function st(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof st?(this.l=f.l,Bt(this,f.j),this.o=f.o,this.g=f.g,ai(this,f.u),this.h=f.h,Vr(this,Br(f.i)),this.m=f.m):f&&(E=String(f).match(ir))?(this.l=!1,Bt(this,E[1]||"",!0),this.o=wi(E[2]||""),this.g=wi(E[3]||"",!0),ai(this,E[4]),this.h=wi(E[5]||"",!0),Vr(this,E[6]||"",!0),this.m=wi(E[7]||"")):(this.l=!1,this.i=new Ti(null,this.l))}st.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(ps(E,Ia,!0),":");var C=this.g;return(C||E=="file")&&(f.push("//"),(E=this.o)&&f.push(ps(E,Ia,!0),"@"),f.push(Oe(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&f.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(ps(C,C.charAt(0)=="/"?qi:zr,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",ps(C,gs)),f.join("")},st.prototype.resolve=function(f){const E=Ut(this);let C=!!f.j;C?Bt(E,f.j):C=!!f.o,C?E.o=f.o:C=!!f.g,C?E.g=f.g:C=f.u!=null;var k=f.h;if(C)ai(E,f.u);else if(C=!!f.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var ie=E.h.lastIndexOf("/");ie!=-1&&(k=E.h.slice(0,ie+1)+k)}if(ie=k,ie==".."||ie==".")k="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){k=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const ce=[];for(let Se=0;Se<ie.length;){const Fe=ie[Se++];Fe=="."?k&&Se==ie.length&&ce.push(""):Fe==".."?((ce.length>1||ce.length==1&&ce[0]!="")&&ce.pop(),k&&Se==ie.length&&ce.push("")):(ce.push(Fe),k=!0)}k=ce.join("/")}else k=ie}return C?E.h=k:C=f.i.toString()!=="",C?Vr(E,Br(f.i)):C=!!f.m,C&&(E.m=f.m),E};function Ut(f){return new st(f)}function Bt(f,E,C){f.j=C?wi(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function ai(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function Vr(f,E,C){E instanceof Ti?(f.i=E,rr(f.i,f.l)):(C||(E=ps(E,Rt)),f.i=new Ti(E,f.l))}function Pe(f,E,C){f.i.set(E,C)}function Nt(f){return Pe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function wi(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ps(f,E,C){return typeof f=="string"?(f=encodeURI(f).replace(E,Dt),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Dt(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ia=/[#\/\?@]/g,zr=/[#\?:]/g,qi=/[#\?]/g,Rt=/[#\?@]/g,gs=/#/g;function Ti(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function gn(f){f.g||(f.g=new Map,f.h=0,f.i&&tt(f.i,function(E,C){f.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}n=Ti.prototype,n.add=function(f,E){gn(this),this.i=null,f=_s(this,f);let C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(E),this.h+=1,this};function Pa(f,E){gn(f),E=_s(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function ks(f,E){return gn(f),E=_s(f,E),f.g.has(E)}n.forEach=function(f,E){gn(this),this.g.forEach(function(C,k){C.forEach(function(ie){f.call(E,ie,k,this)},this)},this)};function Ur(f,E){gn(f);let C=[];if(typeof E=="string")ks(f,E)&&(C=C.concat(f.g.get(_s(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)C=C.concat(f[E]);return C}n.set=function(f,E){return gn(this),this.i=null,f=_s(this,f),ks(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},n.get=function(f,E){return f?(f=Ur(this,f),f.length>0?String(f[0]):E):E};function sr(f,E,C){Pa(f,E),C.length>0&&(f.i=null,f.g.set(_s(f,E),R(C)),f.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let k=0;k<E.length;k++){var C=E[k];const ie=Oe(C);C=Ur(this,C);for(let ce=0;ce<C.length;ce++){let Se=ie;C[ce]!==""&&(Se+="="+Oe(C[ce])),f.push(Se)}}return this.i=f.join("&")};function Br(f){const E=new Ti;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function _s(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function rr(f,E){E&&!f.j&&(gn(f),f.i=null,f.g.forEach(function(C,k){const ie=k.toLowerCase();k!=ie&&(Pa(this,k),sr(this,ie,C))},f)),f.j=E}function Yn(f,E){const C=new zi;if(d.Image){const k=new Image;k.onload=w(Kn,C,"TestLoadImage: loaded",!0,E,k),k.onerror=w(Kn,C,"TestLoadImage: error",!1,E,k),k.onabort=w(Kn,C,"TestLoadImage: abort",!1,E,k),k.ontimeout=w(Kn,C,"TestLoadImage: timeout",!1,E,k),d.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else E(!1)}function Ma(f,E){const C=new zi,k=new AbortController,ie=setTimeout(()=>{k.abort(),Kn(C,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:k.signal}).then(ce=>{clearTimeout(ie),ce.ok?Kn(C,"TestPingServer: ok",!0,E):Kn(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ie),Kn(C,"TestPingServer: error",!1,E)})}function Kn(f,E,C,k,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),k(C)}catch{}}function ar(){this.g=new Uo}function Ue(f){this.i=f.Sb||null,this.h=f.ab||!1}T(Ue,Bo),Ue.prototype.g=function(){return new Mn(this.i,this.h)};function Mn(f,E){Vt.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Mn,Vt),n=Mn.prototype,n.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,oi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||d).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yt(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function yt(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?js(this):oi(this),this.readyState==3&&yt(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,js(this))},n.Na=function(f){this.g&&(this.response=f,js(this))},n.ga=function(){this.g&&js(this)};function js(f){f.readyState=4,f.l=null,f.j=null,f.B=null,oi(f)}n.setRequestHeader=function(f,E){this.A.append(f,E)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=E.next();return f.join(`\r
`)};function oi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Wn(f){let E="";return Ae(f,function(C,k){E+=k,E+=":",E+=C,E+=`\r
`}),E}function Vs(f,E,C){e:{for(k in C){var k=!1;break e}k=!0}k||(C=Wn(C),typeof f=="string"?C!=null&&Oe(C):Pe(f,E,C))}function lt(f){Vt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(lt,Vt);var Ei=/^https?$/i,zs=["POST","PUT"];n=lt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,E,C,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=N(v(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(ce){Ht(this,ce);return}if(f=C||"",C=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var ie in k)C.set(ie,k[ie]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ce of k.keys())C.set(ce,k.get(ce));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(C.keys()).find(ce=>ce.toLowerCase()=="content-type"),ie=d.FormData&&f instanceof d.FormData,!(Array.prototype.indexOf.call(zs,E,void 0)>=0)||k||ie||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Se]of C)this.g.setRequestHeader(ce,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ce){Ht(this,ce)}};function Ht(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,Fi(f),ys(f)}function Fi(f){f.A||(f.A=!0,Jt(f,"complete"),Jt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Jt(this,"complete"),Jt(this,"abort"),ys(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ys(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?or(this):this.Xa())},n.Xa=function(){or(this)};function or(f){if(f.h&&typeof c<"u"){if(f.v&&Gi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Jt(f,"readystatechange"),Gi(f)==4){f.h=!1;try{const ce=f.ca();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var k;if(k=ce===0){let Se=String(f.D).match(ir)[1]||null;!Se&&d.self&&d.self.location&&(Se=d.self.location.protocol.slice(0,-1)),k=!Ei.test(Se?Se.toLowerCase():"")}C=k}if(C)Jt(f,"complete"),Jt(f,"success");else{f.o=6;try{var ie=Gi(f)>2?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.ca()+"]",Fi(f)}}finally{ys(f)}}}}function ys(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const C=f.g;f.g=null,E||Jt(f,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Gi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),su(E)}};function _n(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(f){const E={};f=(f.g&&Gi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(q(f[k]))continue;var C=Fo(f[k]);const ie=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ce=E[ie]||[];E[ie]=ce,ce.push(C)}we(E,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(f,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||E}function Us(f){this.za=0,this.i=[],this.j=new zi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vs("baseRetryDelayMs",5e3,f),this.Za=vs("retryDelaySeedMs",1e4,f),this.Ta=vs("forwardChannelMaxRetries",2,f),this.va=vs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(f&&f.concurrentRequestLimit),this.Ba=new ar,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Us.prototype,n.ka=8,n.I=1,n.connect=function(f,E,C,k){Kt(0),this.W=f,this.H=E||{},C&&k!==void 0&&(this.H.OSID=C,this.H.OAID=k),this.F=this.X,this.J=Wo(this,null,this.W),Qn(this)};function et(f){if(Ln(f),f.I==3){var E=f.V++,C=Ut(f.J);if(Pe(C,"SID",f.M),Pe(C,"RID",E),Pe(C,"TYPE","terminate"),Bs(f,C),E=new yi(f,f.j,E),E.M=2,E.A=Nt(Ut(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(E.A.toString(),"")}catch{}!C&&d.Image&&(new Image().src=E.A,C=!0),C||(E.g=Qo(E.j,null),E.g.ea(E.A)),E.F=Date.now(),ds(E)}Yi(f)}function lr(f){f.g&&(Ko(f),f.g.cancel(),f.g=null)}function Ln(f){lr(f),f.v&&(d.clearTimeout(f.v),f.v=null),Oa(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&d.clearTimeout(f.m),f.m=null)}function Qn(f){if(!Zo(f.h)&&!f.m){f.m=!0;var E=f.Ea;ee||I(),me||(ee(),me=!0),z.add(E,f),f.D=0}}function Hr(f,E){return ms(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=us(v(f.Ea,f,E),Xl(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const ie=new yi(this,this.j,f);let ce=this.o;if(this.U&&(ce?(ce=Y(ce),xe(ce,this.U)):ce=this.U),this.u!==null||this.R||(ie.J=ce,ce=null),this.S)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var k=this.i[C];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,E>4096){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=Ql(this,ie,E),C=Ut(this.J),Pe(C,"RID",f),Pe(C,"CVER",22),this.G&&Pe(C,"X-HTTP-Session-Id",this.G),Bs(this,C),ce&&(this.R?E="headers="+Oe(Wn(ce))+"&"+E:this.u&&Vs(C,this.u,ce)),Ds(this.h,ie),this.Ra&&Pe(C,"TYPE","init"),this.S?(Pe(C,"$req",E),Pe(C,"SID","null"),ie.U=!0,Ui(ie,C,null)):Ui(ie,C,E),this.I=2}}else this.I==3&&(f?$o(this,f):this.i.length==0||Zo(this.h)||$o(this))};function $o(f,E){var C;E?C=E.l:C=f.V++;const k=Ut(f.J);Pe(k,"SID",f.M),Pe(k,"RID",C),Pe(k,"AID",f.K),Bs(f,k),f.u&&f.o&&Vs(k,f.u,f.o),C=new yi(f,f.j,C,f.D+1),f.u===null&&(C.J=f.o),E&&(f.i=E.G.concat(f.i)),E=Ql(f,C,1e3),C.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ds(f.h,C),Ui(C,k,E)}function Bs(f,E){f.H&&Ae(f.H,function(C,k){Pe(E,k,C)}),f.l&&Ae({},function(C,k){Pe(E,k,C)})}function Ql(f,E,C){C=Math.min(f.i.length,C);const k=f.l?v(f.l.Ka,f.l,f):null;e:{var ie=f.i;let Fe=-1;for(;;){const pt=["count="+C];Fe==-1?C>0?(Fe=ie[0].g,pt.push("ofs="+Fe)):Fe=0:pt.push("ofs="+Fe);let gt=!0;for(let kt=0;kt<C;kt++){var ce=ie[kt].g;const Si=ie[kt].map;if(ce-=Fe,ce<0)Fe=Math.max(0,ie[kt].g-100),gt=!1;else try{ce="req"+ce+"_"||"";try{var Se=Si instanceof Map?Si:Object.entries(Si);for(const[Ai,ci]of Se){let Ki=ci;_(ci)&&(Ki=Ls(ci)),pt.push(ce+Ai+"="+encodeURIComponent(Ki))}}catch(Ai){throw pt.push(ce+"type="+encodeURIComponent("_badmap")),Ai}}catch{k&&k(Si)}}if(gt){Se=pt.join("&");break e}}Se=void 0}return f=f.i.splice(0,C),E.G=f,Se}function Yo(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;ee||I(),me||(ee(),me=!0),z.add(E,f),f.A=0}}function qr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=us(v(f.Da,f),Xl(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,La(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=us(v(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),lr(this),La(this))};function Ko(f){f.B!=null&&(d.clearTimeout(f.B),f.B=null)}function La(f){f.g=new yi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=Ut(f.na);Pe(E,"RID","rpc"),Pe(E,"SID",f.M),Pe(E,"AID",f.K),Pe(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&Pe(E,"TO",f.ia),Pe(E,"TYPE","xmlhttp"),Bs(f,E),f.u&&f.o&&Vs(E,f.u,f.o),f.O&&(f.g.H=f.O);var C=f.g;f=f.ba,C.M=1,C.A=Nt(Ut(E)),C.u=null,C.R=!0,Bi(C,f)}n.Va=function(){this.C!=null&&(this.C=null,lr(this),qr(this),Kt(19))};function Oa(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function li(f,E){var C=null;if(f.g==E){Oa(f),Ko(f),f.g=null;var k=2}else if(xi(f.h,E))C=E.G,Na(f.h,E),k=1;else return;if(f.I!=0){if(E.o)if(k==1){C=E.u?E.u.length:0,E=Date.now()-E.F;var ie=f.D;k=Aa(),Jt(k,new cs(k,C)),Qn(f)}else Yo(f);else if(ie=E.m,ie==3||ie==0&&E.X>0||!(k==1&&Hr(f,E)||k==2&&qr(f)))switch(C&&C.length>0&&(E=f.h,E.i=E.i.concat(C)),ie){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function Xl(f,E){let C=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(C*=2),C*E}function $i(f,E){if(f.j.info("Error code "+E),E==2){var C=v(f.bb,f),k=f.Ua;const ie=!k;k=new st(k||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Bt(k,"https"),Nt(k),ie?Yn(k.toString(),C):Ma(k.toString(),C)}else Kt(2);f.I=0,f.l&&f.l.pa(E),Yi(f),Ln(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Yi(f){if(f.I=0,f.ja=[],f.l){const E=Ra(f.h);(E.length!=0||f.i.length!=0)&&(j(f.ja,E),j(f.ja,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.oa()}}function Wo(f,E,C){var k=C instanceof st?Ut(C):new st(C);if(k.g!="")E&&(k.g=E+"."+k.g),ai(k,k.u);else{var ie=d.location;k=ie.protocol,E=E?E+"."+ie.hostname:ie.hostname,ie=+ie.port;const ce=new st(null);k&&Bt(ce,k),E&&(ce.g=E),ie&&ai(ce,ie),C&&(ce.h=C),k=ce}return C=f.G,E=f.wa,C&&E&&Pe(k,C,E),Pe(k,"VER",f.ka),Bs(f,k),k}function Qo(f,E,C){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new lt(new Ue({ab:C})):new lt(f.ma),E.Fa(f.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Da(){}n=Da.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function cr(){}cr.prototype.g=function(f,E){return new On(f,E)};function On(f,E){Vt.call(this),this.g=new Us(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!q(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!q(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Hs(this)}T(On,Vt),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){et(this.g)},On.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.v&&(C={},C.__data__=Ls(f),f=C);E.i.push(new tn(E.Ya++,f)),E.I==3&&Qn(E)},On.prototype.N=function(){this.g.l=null,delete this.j,et(this.g),delete this.g,On.Z.N.call(this)};function Xo(f){hn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const C in E){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}T(Xo,hn);function Jl(){ri.call(this),this.status=1}T(Jl,ri);function Hs(f){this.g=f}T(Hs,Da),Hs.prototype.ra=function(){Jt(this.g,"a")},Hs.prototype.qa=function(f){Jt(this.g,new Xo(f))},Hs.prototype.pa=function(f){Jt(this.g,new Jl)},Hs.prototype.oa=function(){Jt(this.g,"b")},cr.prototype.createWebChannel=cr.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,sT=function(){return new cr},iT=function(){return Aa()},nT=Yt,Qg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,lf=jr,Ho.COMPLETE="complete",tT=Ho,Gl.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Qu=Gl,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,eT=lt}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});let ni=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let Jc="12.9.0";function VP(n){Jc=n}const Ll=new P_("@firebase/firestore");function Mc(){return Ll.logLevel}function Me(n,...e){if(Ll.logLevel<=ht.DEBUG){const t=e.map(F_);Ll.debug(`Firestore (${Jc}): ${n}`,...t)}}function ba(n,...e){if(Ll.logLevel<=ht.ERROR){const t=e.map(F_);Ll.error(`Firestore (${Jc}): ${n}`,...t)}}function Ol(n,...e){if(Ll.logLevel<=ht.WARN){const t=e.map(F_);Ll.warn(`Firestore (${Jc}): ${n}`,...t)}}function F_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function qe(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,rT(n,s,t)}function rT(n,e,t){let s=`FIRESTORE (${Jc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ba(s),new Error(s)}function St(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||rT(e,o,s)}function $e(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class aT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ni.UNAUTHENTICATED)))}shutdown(){}}class UP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class BP{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},_=m=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>_(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?_(m):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(St(typeof s.accessToken=="string",31837,{l:s}),new aT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new ni(e)}}class HP{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qP{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new HP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ni.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ax{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ki(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){St(this.o===void 0,3512);const s=c=>{c.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ax(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(St(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ax(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class G_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GP(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function dt(n,e){return n<e?-1:n>e?1:0}function Xg(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Eg(o)===Eg(c)?dt(o,c):Eg(o)?1:-1}return dt(n.length,e.length)}const ZP=55296,$P=57343;function Eg(n){const e=n.charCodeAt(0);return e>=ZP&&e<=$P}function Fc(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const Cx="__name__";class br{constructor(e,t,s){t===void 0?t=0:t>e.length&&qe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&qe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=br.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return dt(e.length,t.length)}static compareSegments(e,t){const s=br.isNumericId(e),o=br.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?br.extractNumericId(e).compare(br.extractNumericId(t)):Xg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class zt extends br{construct(e,t,s){return new zt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ie(_e.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new zt(t)}static emptyPath(){return new zt([])}}const YP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends br{construct(e,t,s){return new Zn(e,t,s)}static isValidIdentifier(e){return YP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cx}static keyField(){return new Zn([Cx])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Ie(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new Ie(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ie(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(s+=_,o++):(c(),o++)}if(c(),d)throw new Ie(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(t)}static emptyPath(){return new Zn([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(zt.fromString(e))}static fromName(e){return new ze(zt.fromString(e).popFirst(5))}static empty(){return new ze(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new zt(e.slice()))}}function oT(n,e,t){if(!t)throw new Ie(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KP(n,e,t,s){if(e===!0&&s===!0)throw new Ie(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Nx(n){if(!ze.isDocumentKey(n))throw new Ie(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rx(n){if(ze.isDocumentKey(n))throw new Ie(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function tm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":qe(12329,{type:typeof n})}function mi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tm(n);throw new Ie(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Sn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ph(n,e){if(!lT(n))throw new Ie(_e.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const d=n[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Ie(_e.INVALID_ARGUMENT,t);return!0}const Ix=-62135596800,Px=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Px);return new Ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ix)throw new Ie(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Px}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ph(e,Ft._jsonSchema))return new Ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ft._jsonSchemaVersion="firestore/timestamp/1.0",Ft._jsonSchema={type:Sn("string",Ft._jsonSchemaVersion),seconds:Sn("number"),nanoseconds:Sn("number")};class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Ft(0,0))}static max(){return new Ye(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mh=-1;function WP(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ye.fromTimestamp(s===1e9?new Ft(t+1,0):new Ft(t,s));return new Co(o,ze.empty(),e)}function QP(n){return new Co(n.readTime,n.key,mh)}class Co{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Co(Ye.min(),ze.empty(),mh)}static max(){return new Co(Ye.max(),ze.empty(),mh)}}function XP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ze.comparator(n.documentKey,e.documentKey),t!==0?t:dt(n.largestBatchId,e.largestBatchId))}const JP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function eu(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==JP)throw n;Me("LocalStore","Unexpectedly lost primary lease")}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):be.reject(t)}static resolve(e){return new be(((t,s)=>{t(e)}))}static reject(e){return new be(((t,s)=>{s(e)}))}static waitFor(e){return new be(((t,s)=>{let o=0,c=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++c,d&&c===o&&t()}),(m=>s(m)))})),d=!0,c===o&&t()}))}static or(e){let t=be.resolve(!1);for(const s of e)t=t.next((o=>o?be.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new be(((s,o)=>{const c=e.length,d=new Array(c);let _=0;for(let m=0;m<c;m++){const v=m;t(e[v]).next((w=>{d[v]=w,++_,_===c&&s(d)}),(w=>o(w)))}}))}static doWhile(e,t){return new be(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function tM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tu(n){return n.name==="IndexedDbTransactionError"}class nm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nm.ce=-1;const Z_=-1;function im(n){return n==null}function Af(n){return n===0&&1/n==-1/0}function nM(n){return typeof n=="number"&&Number.isInteger(n)&&!Af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const cT="";function iM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Mx(e)),e=sM(n.get(t),e);return Mx(e)}function sM(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case cT:t+="";break;default:t+=c}}return t}function Mx(n){return n+cT+""}function Lx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rM(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function uT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Xt{constructor(e,t){this.comparator=e,this.root=t||Gn.EMPTY}insert(e,t){return new Xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}}class $d{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??Gn.RED,this.left=o??Gn.EMPTY,this.right=c??Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new Gn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new Gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ox(this.data.getIterator())}getIteratorFrom(e){return new Ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Rn(this.comparator);return t.data=e,t}}class Ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class is{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new is([])}unionWith(e){let t=new Rn(Zn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new is(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fc(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hT("Invalid base64 string: "+c):c}})(e);return new $n(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new $n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const aM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(n){if(St(!!n,39018),typeof n=="string"){let e=0;const t=aM.exec(n);if(St(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mn(n.seconds),nanos:mn(n.nanos)}}function mn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ro(n){return typeof n=="string"?$n.fromBase64String(n):$n.fromUint8Array(n)}const dT="server_timestamp",fT="__type__",mT="__previous_value__",pT="__local_write_time__";function $_(n){return(n?.mapValue?.fields||{})[fT]?.stringValue===dT}function sm(n){const e=n.mapValue.fields[mT];return $_(e)?sm(e):e}function ph(n){const e=No(n.mapValue.fields[pT].timestampValue);return new Ft(e.seconds,e.nanos)}class oM{constructor(e,t,s,o,c,d,_,m,v,w,T){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=T}}const Cf="(default)";class gh{constructor(e,t){this.projectId=e,this.database=t||Cf}static empty(){return new gh("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(e){return e instanceof gh&&e.projectId===this.projectId&&e.database===this.database}}function lM(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ie(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(n.options.projectId,e)}const gT="__type__",cM="__max__",Yd={mapValue:{}},_T="__vector__",Nf="value";function Io(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$_(n)?4:hM(n)?9007199254740991:uM(n)?10:11:qe(28295,{value:n})}function Ir(n,e){if(n===e)return!0;const t=Io(n);if(t!==Io(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ph(n).isEqual(ph(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=No(o.timestampValue),_=No(c.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return Ro(o.bytesValue).isEqual(Ro(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return mn(o.geoPointValue.latitude)===mn(c.geoPointValue.latitude)&&mn(o.geoPointValue.longitude)===mn(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return mn(o.integerValue)===mn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=mn(o.doubleValue),_=mn(c.doubleValue);return d===_?Af(d)===Af(_):isNaN(d)&&isNaN(_)}return!1})(n,e);case 9:return Fc(n.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},_=c.mapValue.fields||{};if(Lx(d)!==Lx(_))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(_[m]===void 0||!Ir(d[m],_[m])))return!1;return!0})(n,e);default:return qe(52216,{left:n})}}function _h(n,e){return(n.values||[]).find((t=>Ir(t,e)))!==void 0}function Gc(n,e){if(n===e)return 0;const t=Io(n),s=Io(e);if(t!==s)return dt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return dt(n.booleanValue,e.booleanValue);case 2:return(function(c,d){const _=mn(c.integerValue||c.doubleValue),m=mn(d.integerValue||d.doubleValue);return _<m?-1:_>m?1:_===m?0:isNaN(_)?isNaN(m)?0:-1:1})(n,e);case 3:return Dx(n.timestampValue,e.timestampValue);case 4:return Dx(ph(n),ph(e));case 5:return Xg(n.stringValue,e.stringValue);case 6:return(function(c,d){const _=Ro(c),m=Ro(d);return _.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(c,d){const _=c.split("/"),m=d.split("/");for(let v=0;v<_.length&&v<m.length;v++){const w=dt(_[v],m[v]);if(w!==0)return w}return dt(_.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,d){const _=dt(mn(c.latitude),mn(d.latitude));return _!==0?_:dt(mn(c.longitude),mn(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return kx(n.arrayValue,e.arrayValue);case 10:return(function(c,d){const _=c.fields||{},m=d.fields||{},v=_[Nf]?.arrayValue,w=m[Nf]?.arrayValue,T=dt(v?.values?.length||0,w?.values?.length||0);return T!==0?T:kx(v,w)})(n.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Yd.mapValue&&d===Yd.mapValue)return 0;if(c===Yd.mapValue)return 1;if(d===Yd.mapValue)return-1;const _=c.fields||{},m=Object.keys(_),v=d.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let T=0;T<m.length&&T<w.length;++T){const N=Xg(m[T],w[T]);if(N!==0)return N;const R=Gc(_[m[T]],v[w[T]]);if(R!==0)return R}return dt(m.length,w.length)})(n.mapValue,e.mapValue);default:throw qe(23264,{he:t})}}function Dx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return dt(n,e);const t=No(n),s=No(e),o=dt(t.seconds,s.seconds);return o!==0?o:dt(t.nanos,s.nanos)}function kx(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Gc(t[o],s[o]);if(c)return c}return dt(t.length,s.length)}function Zc(n){return Jg(n)}function Jg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=No(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ro(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ze.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=Jg(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Jg(t.fields[d])}`;return o+"}"})(n.mapValue):qe(61005,{value:n})}function cf(n){switch(Io(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(n);return e?16+cf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ro(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+cf(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Oo(s.fields,((c,d)=>{o+=c.length+cf(d)})),o})(n.mapValue);default:throw qe(13486,{value:n})}}function jx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function e_(n){return!!n&&"integerValue"in n}function Y_(n){return!!n&&"arrayValue"in n}function Vx(n){return!!n&&"nullValue"in n}function zx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uf(n){return!!n&&"mapValue"in n}function uM(n){return(n?.mapValue?.fields||{})[gT]?.stringValue===_T}function rh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Oo(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=rh(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rh(n.arrayValue.values[t]);return e}return{...n}}function hM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cM}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(t)}setAll(e){let t=Zn.emptyPath(),s={},o=[];e.forEach(((d,_)=>{if(!t.isImmediateParentOf(_)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=_.popLast()}d?s[_.lastSegment()]=rh(d):o.push(_.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];uf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Oo(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new fi(rh(this.value))}}function yT(n){const e=[];return Oo(n.fields,((t,s)=>{const o=new Zn([t]);if(uf(s)){const c=yT(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new is(e)}class ii{constructor(e,t,s,o,c,d,_){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(e){return new ii(e,0,Ye.min(),Ye.min(),Ye.min(),fi.empty(),0)}static newFoundDocument(e,t,s,o){return new ii(e,1,t,Ye.min(),s,o,0)}static newNoDocument(e,t){return new ii(e,2,t,Ye.min(),Ye.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new ii(e,3,t,Ye.min(),Ye.min(),fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rf{constructor(e,t){this.position=e,this.inclusive=t}}function Ux(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(c.field.isKeyField()?s=ze.comparator(ze.fromName(d.referenceValue),t.key):s=Gc(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ir(n.position[t],e.position[t]))return!1;return!0}class yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function dM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class vT{}class En extends vT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new mM(e,t,s):t==="array-contains"?new _M(e,s):t==="in"?new yM(e,s):t==="not-in"?new vM(e,s):t==="array-contains-any"?new bM(e,s):new En(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new pM(e,s):new gM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Gc(t,this.value)):t!==null&&Io(this.value)===Io(t)&&this.matchesComparison(Gc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Js extends vT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Js(e,t)}matches(e){return bT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bT(n){return n.op==="and"}function xT(n){return fM(n)&&bT(n)}function fM(n){for(const e of n.filters)if(e instanceof Js)return!1;return!0}function t_(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+Zc(n.value);if(xT(n))return n.filters.map((e=>t_(e))).join(",");{const e=n.filters.map((t=>t_(t))).join(",");return`${n.op}(${e})`}}function wT(n,e){return n instanceof En?(function(s,o){return o instanceof En&&s.op===o.op&&s.field.isEqual(o.field)&&Ir(s.value,o.value)})(n,e):n instanceof Js?(function(s,o){return o instanceof Js&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,_)=>c&&wT(d,o.filters[_])),!0):!1})(n,e):void qe(19439)}function TT(n){return n instanceof En?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zc(t.value)}`})(n):n instanceof Js?(function(t){return t.op.toString()+" {"+t.getFilters().map(TT).join(" ,")+"}"})(n):"Filter"}class mM extends En{constructor(e,t,s){super(e,t,s),this.key=ze.fromName(s.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class pM extends En{constructor(e,t){super(e,"in",t),this.keys=ET("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gM extends En{constructor(e,t){super(e,"not-in",t),this.keys=ET("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ET(n,e){return(e.arrayValue?.values||[]).map((t=>ze.fromName(t.referenceValue)))}class _M extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Y_(t)&&_h(t.arrayValue,this.value)}}class yM extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_h(this.value.arrayValue,t)}}class vM extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_h(this.value.arrayValue,t)}}class bM extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Y_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>_h(this.value.arrayValue,s)))}}class xM{constructor(e,t=null,s=[],o=[],c=null,d=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=_,this.Te=null}}function Hx(n,e=null,t=[],s=[],o=null,c=null,d=null){return new xM(n,e,t,s,o,c,d)}function K_(n){const e=$e(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>t_(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),im(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Zc(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Zc(s))).join(",")),e.Te=t}return e.Te}function W_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Bx(n.startAt,e.startAt)&&Bx(n.endAt,e.endAt)}function n_(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class nu{constructor(e,t=null,s=[],o=[],c=null,d="F",_=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wM(n,e,t,s,o,c,d,_){return new nu(n,e,t,s,o,c,d,_)}function rm(n){return new nu(n)}function qx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TM(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function ST(n){return n.collectionGroup!==null}function ah(n){const e=$e(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Rn(Zn.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new yh(c,s))})),t.has(Zn.keyField().canonicalString())||e.Ie.push(new yh(Zn.keyField(),s))}return e.Ie}function Cr(n){const e=$e(n);return e.Ee||(e.Ee=AT(e,ah(n))),e.Ee}function EM(n){const e=$e(n);return e.Re||(e.Re=AT(e,n.explicitOrderBy)),e.Re}function AT(n,e){if(n.limitType==="F")return Hx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new yh(o.field,c)}));const t=n.endAt?new Rf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Rf(n.startAt.position,n.startAt.inclusive):null;return Hx(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function i_(n,e){const t=n.filters.concat([e]);return new nu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function SM(n,e){const t=n.explicitOrderBy.concat([e]);return new nu(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function s_(n,e,t){return new nu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function am(n,e){return W_(Cr(n),Cr(e))&&n.limitType===e.limitType}function CT(n){return`${K_(Cr(n))}|lt:${n.limitType}`}function Lc(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>TT(o))).join(", ")}]`),im(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Zc(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Zc(o))).join(",")),`Target(${s})`})(Cr(n))}; limitType=${n.limitType})`}function om(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ze.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of ah(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(d,_,m){const v=Ux(d,_,m);return d.inclusive?v<=0:v<0})(s.startAt,ah(s),o)||s.endAt&&!(function(d,_,m){const v=Ux(d,_,m);return d.inclusive?v>=0:v>0})(s.endAt,ah(s),o))})(n,e)}function AM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NT(n){return(e,t)=>{let s=!1;for(const o of ah(n)){const c=CM(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function CM(n,e,t){const s=n.field.isKeyField()?ze.comparator(e.key,t.key):(function(c,d,_){const m=d.data.field(c),v=_.data.field(c);return m!==null&&v!==null?Gc(m,v):qe(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return qe(19790,{direction:n.dir})}}class Bl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}const NM=new Xt(ze.comparator);function xa(){return NM}const RT=new Xt(ze.comparator);function Xu(...n){let e=RT;for(const t of n)e=e.insert(t.key,t);return e}function IT(n){let e=RT;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Al(){return oh()}function PT(){return oh()}function oh(){return new Bl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const RM=new Xt(ze.comparator),IM=new Rn(ze.comparator);function ft(...n){let e=IM;for(const t of n)e=e.add(t);return e}const PM=new Rn(dt);function MM(){return PM}function Q_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function MT(n){return{integerValue:""+n}}function LT(n,e){return nM(e)?MT(e):Q_(n,e)}class lm{constructor(){this._=void 0}}function LM(n,e,t){return n instanceof If?(function(o,c){const d={fields:{[fT]:{stringValue:dT},[pT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&$_(c)&&(c=sm(c)),c&&(d.fields[mT]=c),{mapValue:d}})(t,e):n instanceof vh?DT(n,e):n instanceof bh?kT(n,e):(function(o,c){const d=OT(o,c),_=Fx(d)+Fx(o.Ae);return e_(d)&&e_(o.Ae)?MT(_):Q_(o.serializer,_)})(n,e)}function OM(n,e,t){return n instanceof vh?DT(n,e):n instanceof bh?kT(n,e):t}function OT(n,e){return n instanceof xh?(function(s){return e_(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class If extends lm{}class vh extends lm{constructor(e){super(),this.elements=e}}function DT(n,e){const t=jT(e);for(const s of n.elements)t.some((o=>Ir(o,s)))||t.push(s);return{arrayValue:{values:t}}}class bh extends lm{constructor(e){super(),this.elements=e}}function kT(n,e){let t=jT(e);for(const s of n.elements)t=t.filter((o=>!Ir(o,s)));return{arrayValue:{values:t}}}class xh extends lm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Fx(n){return mn(n.integerValue||n.doubleValue)}function jT(n){return Y_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class DM{constructor(e,t){this.field=e,this.transform=t}}function kM(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof vh&&o instanceof vh||s instanceof bh&&o instanceof bh?Fc(s.elements,o.elements,Ir):s instanceof xh&&o instanceof xh?Ir(s.Ae,o.Ae):s instanceof If&&o instanceof If})(n.transform,e.transform)}class jM{constructor(e,t){this.version=e,this.transformResults=t}}class Is{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Is}static exists(e){return new Is(void 0,e)}static updateTime(e){return new Is(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cm{}function VT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new X_(n.key,Is.none()):new Mh(n.key,n.data,Is.none());{const t=n.data,s=fi.empty();let o=new Rn(Zn.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Do(n.key,s,new is(o.toArray()),Is.none())}}function VM(n,e,t){n instanceof Mh?(function(o,c,d){const _=o.value.clone(),m=Zx(o.fieldTransforms,c,d.transformResults);_.setAll(m),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(n,e,t):n instanceof Do?(function(o,c,d){if(!hf(o.precondition,c))return void c.convertToUnknownDocument(d.version);const _=Zx(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(zT(o)),m.setAll(_),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(n,e,t):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function lh(n,e,t,s){return n instanceof Mh?(function(c,d,_,m){if(!hf(c.precondition,d))return _;const v=c.value.clone(),w=$x(c.fieldTransforms,m,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Do?(function(c,d,_,m){if(!hf(c.precondition,d))return _;const v=$x(c.fieldTransforms,m,d),w=d.data;return w.setAll(zT(c)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(n,e,t,s):(function(c,d,_){return hf(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(n,e,t)}function zM(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=OT(s.transform,o||null);c!=null&&(t===null&&(t=fi.empty()),t.set(s.field,c))}return t||null}function Gx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fc(s,o,((c,d)=>kM(c,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Mh extends cm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Do extends cm{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Zx(n,e,t){const s=new Map;St(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,_=e.data.field(c.field);s.set(c.field,OM(d,_,t[o]))}return s}function $x(n,e,t){const s=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);s.set(o.field,LM(c,d,e))}return s}class X_ extends cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UM extends cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BM{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&VM(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=lh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=lh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=PT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=t.has(o.key)?null:_;const m=VT(d,_);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Ye.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ft())}isEqual(e){return this.batchId===e.batchId&&Fc(this.mutations,e.mutations,((t,s)=>Gx(t,s)))&&Fc(this.baseMutations,e.baseMutations,((t,s)=>Gx(t,s)))}}class J_{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){St(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return RM})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new J_(e,t,s,o)}}class HM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qM{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}class FM{constructor(e,t){this.count=e,this.unchangedNames=t}}var wn,_t;function GM(n){switch(n){case _e.OK:return qe(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return qe(15467,{code:n})}}function UT(n){if(n===void 0)return ba("GRPC error has no .code"),_e.UNKNOWN;switch(n){case wn.OK:return _e.OK;case wn.CANCELLED:return _e.CANCELLED;case wn.UNKNOWN:return _e.UNKNOWN;case wn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case wn.INTERNAL:return _e.INTERNAL;case wn.UNAVAILABLE:return _e.UNAVAILABLE;case wn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case wn.NOT_FOUND:return _e.NOT_FOUND;case wn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case wn.ABORTED:return _e.ABORTED;case wn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case wn.DATA_LOSS:return _e.DATA_LOSS;default:return qe(39323,{code:n})}}(_t=wn||(wn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";function ZM(){return new TextEncoder}const $M=new Eo([4294967295,4294967295],0);function Yx(n){const e=ZM().encode(n),t=new J1;return t.update(e),new Uint8Array(t.digest())}function Kx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Eo([t,s],0),new Eo([o,c],0)]}class ey{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ju(`Invalid padding: ${t}`);if(s<0)throw new Ju(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Eo.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Eo.fromNumber(s)));return o.compare($M)===1&&(o=new Eo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Yx(e),[s,o]=Kx(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ey(c,o,t);return s.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const t=Yx(e),[s,o]=Kx(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.be(d)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class um{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new um(Ye.min(),o,new Xt(dt),xa(),ft())}}class Lh{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Lh(s,t,ft(),ft(),ft())}}class df{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class BT{constructor(e,t){this.targetId=e,this.Ce=t}}class HT{constructor(e,t,s=$n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Wx{constructor(){this.ve=0,this.Fe=Qx(),this.Me=$n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),t=ft(),s=ft();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:qe(38017,{changeType:c})}})),new Lh(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=Qx()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YM{constructor(e){this.Ge=e,this.ze=new Map,this.je=xa(),this.He=Kd(),this.Je=Kd(),this.Ze=new Xt(dt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:qe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(n_(c))if(s===0){const d=new ze(c.path);this.et(t,d,ii.newNoDocument(d,Ye.min()))}else St(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const _=this.ut(e),m=_?this.ct(_,e,d):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let d,_;try{d=Ro(s).toUint8Array()}catch(m){if(m instanceof hT)return Ol("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{_=new ey(d,o,c)}catch(m){return Ol(m instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return _.ge===0?null:_}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,d)=>{const _=this.ot(d);if(_){if(c.current&&n_(_.target)){const m=new ze(_.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,ii.newNoDocument(m,e))}c.Be&&(t.set(d,c.ke()),c.Ke())}}));let s=ft();this.Je.forEach(((c,d)=>{let _=!0;d.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new um(e,t,this.Ze,this.je,s);return this.je=xa(),this.He=Kd(),this.Je=Kd(),this.Ze=new Xt(dt),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Wx,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Rn(dt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Rn(dt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Kd(){return new Xt(ze.comparator)}function Qx(){return new Xt(ze.comparator)}const KM={asc:"ASCENDING",desc:"DESCENDING"},WM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QM={and:"AND",or:"OR"};class XM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function r_(n,e){return n.useProto3Json||im(e)?e:{value:e}}function Pf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JM(n,e){return Pf(n,e.toTimestamp())}function Nr(n){return St(!!n,49232),Ye.fromTimestamp((function(t){const s=No(t);return new Ft(s.seconds,s.nanos)})(n))}function ty(n,e){return a_(n,e).canonicalString()}function a_(n,e){const t=(function(o){return new zt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function FT(n){const e=zt.fromString(n);return St(WT(e),10190,{key:e.toString()}),e}function o_(n,e){return ty(n.databaseId,e.path)}function Sg(n,e){const t=FT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(ZT(t))}function GT(n,e){return ty(n.databaseId,e)}function eL(n){const e=FT(n);return e.length===4?zt.emptyPath():ZT(e)}function l_(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZT(n){return St(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Xx(n,e,t){return{name:o_(n,e),fields:t.value.mapValue.fields}}function tL(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:qe(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(St(w===void 0||typeof w=="string",58123),$n.fromBase64String(w||"")):(St(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),$n.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(v){const w=v.code===void 0?_e.UNKNOWN:UT(v.code);return new Ie(w,v.message||"")})(d);t=new HT(s,o,c,_||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sg(n,s.document.name),c=Nr(s.document.updateTime),d=s.document.createTime?Nr(s.document.createTime):Ye.min(),_=new fi({mapValue:{fields:s.document.fields}}),m=ii.newFoundDocument(o,c,d,_),v=s.targetIds||[],w=s.removedTargetIds||[];t=new df(v,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sg(n,s.document),c=s.readTime?Nr(s.readTime):Ye.min(),d=ii.newNoDocument(o,c),_=s.removedTargetIds||[];t=new df([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sg(n,s.document),c=s.removedTargetIds||[];t=new df([],c,o,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new FM(o,c),_=s.targetId;t=new BT(_,d)}}return t}function nL(n,e){let t;if(e instanceof Mh)t={update:Xx(n,e.key,e.value)};else if(e instanceof X_)t={delete:o_(n,e.key)};else if(e instanceof Do)t={update:Xx(n,e.key,e.data),updateMask:hL(e.fieldMask)};else{if(!(e instanceof UM))return qe(16599,{dt:e.type});t={verify:o_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const _=d.transform;if(_ instanceof If)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof vh)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof bh)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof xh)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw qe(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:JM(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:qe(27497)})(n,e.precondition)),t}function iL(n,e){return n&&n.length>0?(St(e!==void 0,14353),n.map((t=>(function(o,c){let d=o.updateTime?Nr(o.updateTime):Nr(c);return d.isEqual(Ye.min())&&(d=Nr(c)),new jM(d,o.transformResults||[])})(t,e)))):[]}function sL(n,e){return{documents:[GT(n,e.path)]}}function $T(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=GT(n,o);const c=(function(v){if(v.length!==0)return KT(Js.create(v,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((w=>(function(N){return{field:_o(N.field),direction:lL(N.dir)}})(w)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=r_(n,e.limit);return _!==null&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function rL(n,e,t,s){const{ft:o,parent:c}=$T(n,e),d={},_=[];let m=0;return t.forEach((v=>{const w="aggregate_"+m++;d[w]=v.alias,v.aggregateType==="count"?_.push({alias:w,count:{}}):v.aggregateType==="avg"?_.push({alias:w,avg:{field:_o(v.fieldPath)}}):v.aggregateType==="sum"&&_.push({alias:w,sum:{field:_o(v.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:_,structuredQuery:o.structuredQuery},parent:o.parent},gt:d,parent:c}}function aL(n){let e=eL(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){St(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(T){const N=YT(T);return N instanceof Js&&xT(N)?N.getFilters():[N]})(t.where));let d=[];t.orderBy&&(d=(function(T){return T.map((N=>(function(j){return new yh(Oc(j.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(N)))})(t.orderBy));let _=null;t.limit&&(_=(function(T){let N;return N=typeof T=="object"?T.value:T,im(N)?null:N})(t.limit));let m=null;t.startAt&&(m=(function(T){const N=!!T.before,R=T.values||[];return new Rf(R,N)})(t.startAt));let v=null;return t.endAt&&(v=(function(T){const N=!T.before,R=T.values||[];return new Rf(R,N)})(t.endAt)),wM(e,o,d,c,_,"F",m,v)}function oL(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Oc(t.unaryFilter.field);return En.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Oc(t.unaryFilter.field);return En.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Oc(t.unaryFilter.field);return En.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Oc(t.unaryFilter.field);return En.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return En.create(Oc(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Js.create(t.compositeFilter.filters.map((s=>YT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qe(1026)}})(t.compositeFilter.op))})(n):qe(30097,{filter:n})}function lL(n){return KM[n]}function cL(n){return WM[n]}function uL(n){return QM[n]}function _o(n){return{fieldPath:n.canonicalString()}}function Oc(n){return Zn.fromServerFormat(n.fieldPath)}function KT(n){return n instanceof En?(function(t){if(t.op==="=="){if(zx(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NAN"}};if(Vx(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zx(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NAN"}};if(Vx(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(t.field),op:cL(t.op),value:t.value}}})(n):n instanceof Js?(function(t){const s=t.getFilters().map((o=>KT(o)));return s.length===1?s[0]:{compositeFilter:{op:uL(t.op),filters:s}}})(n):qe(54877,{filter:n})}function hL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function WT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function QT(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class bo{constructor(e,t,s,o,c=Ye.min(),d=Ye.min(),_=$n.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=m}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dL{constructor(e){this.yt=e}}function fL(n){const e=aL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?s_(e,e.limit,"L"):e}class mL{constructor(){this.Sn=new pL}addToCollectionParentIndex(e,t){return this.Sn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(Co.min())}updateCollectionGroup(e,t,s){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class pL{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Rn(zt.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rn(zt.comparator)).toArray()}}const Jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class Di{static withCacheSize(e){return new Di(e,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Di.DEFAULT_COLLECTION_PERCENTILE=10,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Di.DEFAULT=new Di(XT,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Di.DISABLED=new Di(-1,0,0);class $c{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $c(0)}static ar(){return new $c(-1)}}const ew="LruGarbageCollector",gL=1048576;function tw([n,e],[t,s]){const o=dt(n,t);return o===0?dt(e,s):o}class _L{constructor(e){this.Pr=e,this.buffer=new Rn(tw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();tw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yL{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Me(ew,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tu(t)?Me(ew,"Ignoring IndexedDB error during garbage collection: ",t):await eu(t)}await this.Ar(3e5)}))}}class vL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return be.resolve(nm.ce);const s=new _L(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Jx)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jx):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,c,d,_,m,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,_=Date.now(),this.removeTargets(e,s,t)))).next((T=>(c=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(v=Date.now(),Mc()<=ht.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${c} targets in `+(m-_)+`ms
	Removed ${T} documents in `+(v-m)+`ms
Total Duration: ${v-w}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function bL(n,e){return new vL(n,e)}class xL{constructor(){this.changes=new Bl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?be.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class TL{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&lh(s.mutation,o,is.empty(),Ft.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ft()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ft()){const o=Al();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let d=Xu();return c.forEach(((_,m)=>{d=d.insert(_,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=Al();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ft())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,_)=>{t.set(d,_)}))}))}computeViews(e,t,s,o){let c=xa();const d=oh(),_=(function(){return oh()})();return t.forEach(((m,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Do)?c=c.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),lh(w.mutation,v,w.mutation.getFieldMask(),Ft.now())):d.set(v.key,is.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((v,w)=>d.set(v,w))),t.forEach(((v,w)=>_.set(v,new wL(w,d.get(v)??null)))),_)))}recalculateAndSaveOverlays(e,t){const s=oh();let o=new Xt(((d,_)=>d-_)),c=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const _ of d)_.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let w=s.get(m)||is.empty();w=_.applyToLocalView(v,w),s.set(m,w);const T=(o.get(_.batchId)||ft()).add(m);o=o.insert(_.batchId,T)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const m=_.getNext(),v=m.key,w=m.value,T=PT();w.forEach((N=>{if(!c.has(N)){const R=VT(t.get(N),s.get(N));R!==null&&T.set(N,R),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,T))}return be.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return TM(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ST(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):be.resolve(Al());let _=mh,m=c;return d.next((v=>be.forEach(v,((w,T)=>(_<T.largestBatchId&&(_=T.largestBatchId),c.get(w)?be.resolve():this.remoteDocumentCache.getEntry(e,w).next((N=>{m=m.insert(w,N)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,m,v,ft()))).next((w=>({batchId:_,changes:IT(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next((s=>{let o=Xu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let d=Xu();return this.indexManager.getCollectionParents(e,c).next((_=>be.forEach(_,(m=>{const v=(function(T,N){return new nu(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((T,N)=>{d=d.insert(T,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((d=>{c.forEach(((m,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,ii.newInvalidDocument(w)))}));let _=Xu();return d.forEach(((m,v)=>{const w=c.get(m);w!==void 0&&lh(w.mutation,v,is.empty(),Ft.now()),om(t,v)&&(_=_.insert(m,v))})),_}))}}class EL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return be.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Nr(o.createTime)}})(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:fL(o.bundledQuery),readTime:Nr(o.readTime)}})(t)),be.resolve()}}class SL{constructor(){this.overlays=new Xt(ze.comparator),this.Lr=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Al();return be.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.bt(e,t,c)})),be.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),be.resolve()}getOverlaysForCollection(e,t,s){const o=Al(),c=t.length+1,d=new ze(t.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const m=_.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&m.largestBatchId>s&&o.set(m.getKey(),m)}return be.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new Xt(((v,w)=>v-w));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Al(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const _=Al(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,w)=>_.set(v,w))),!(_.size()>=o)););return be.resolve(_)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new HM(t,s));let c=this.Lr.get(t);c===void 0&&(c=ft(),this.Lr.set(t,c)),this.Lr.set(t,c.add(s.key))}}class AL{constructor(){this.sessionToken=$n.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}class ny{constructor(){this.kr=new Rn(Vn.Kr),this.qr=new Rn(Vn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Vn(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Vn(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new ze(new zt([])),s=new Vn(t,e),o=new Vn(t,e+1),c=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ze(new zt([])),s=new Vn(t,e),o=new Vn(t,e+1);let c=ft();return this.qr.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const t=new Vn(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Vn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ze.comparator(e.key,t.key)||dt(e.Hr,t.Hr)}static Ur(e,t){return dt(e.Hr,t.Hr)||ze.comparator(e.key,t.key)}}class CL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Rn(Vn.Kr)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new BM(c,t,s,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new Vn(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return be.resolve(d)}lookupMutationBatch(e,t){return be.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),c=o<0?0:o;return be.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?Z_:this.Yn-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Vn(t,0),o=new Vn(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(d=>{const _=this.Zr(d.Hr);c.push(_)})),be.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Rn(dt);return t.forEach((o=>{const c=new Vn(o,0),d=new Vn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(_=>{s=s.add(_.Hr)}))})),be.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;ze.isDocumentKey(c)||(c=c.child(""));const d=new Vn(new ze(c),0);let _=new Rn(dt);return this.Jr.forEachWhile((m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(_=_.add(m.Hr)),!0)}),d),be.resolve(this.Yr(_))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){St(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return be.forEach(t.mutations,(o=>{const c=new Vn(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Vn(t,0),o=this.Jr.firstAfterOrEqual(s);return be.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class NL{constructor(e){this.ti=e,this.docs=(function(){return new Xt(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,d=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return be.resolve(s?s.document.mutableCopy():ii.newInvalidDocument(t))}getEntries(e,t){let s=xa();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ii.newInvalidDocument(o))})),be.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=xa();const d=t.path,_=new ze(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(_);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||XP(QP(w),s)<=0||(o.has(w.key)||om(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return be.resolve(c)}getAllFromCollectionGroup(e,t,s,o){qe(9500)}ni(e,t){return be.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new RL(this)}getSize(e){return be.resolve(this.size)}}class RL extends xL{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),be.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class IL{constructor(e){this.persistence=e,this.ri=new Bl((t=>K_(t)),W_),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ii=0,this.si=new ny,this.targetCount=0,this.oi=$c._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),be.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new $c(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.lr(t),be.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=t&&s.get(_.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),be.waitFor(c).next((()=>o))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return be.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),be.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),be.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),be.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return be.resolve(s)}containsKey(e,t){return be.resolve(this.si.containsKey(t))}}class JT{constructor(e,t){this._i={},this.overlays={},this.ai=new nm(0),this.ui=!1,this.ui=!0,this.ci=new AL,this.referenceDelegate=e(this),this.li=new IL(this),this.indexManager=new mL,this.remoteDocumentCache=(function(o){return new NL(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new dL(t),this.Pi=new EL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new CL(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){Me("MemoryPersistence","Starting transaction:",e);const o=new PL(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,t){return be.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class PL extends eM{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Ri=new ny,this.Ai=null}static Vi(e){return new iy(e)}get di(){if(this.Ai)return this.Ai;throw qe(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),be.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),be.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.di,(s=>{const o=ze.fromPath(s);return this.mi(e,o).next((c=>{c||t.removeEntry(o,Ye.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return be.or([()=>be.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Mf{constructor(e,t){this.persistence=e,this.fi=new Bl((s=>iM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=bL(this,t)}static Vi(e,t){return new Mf(e,t)}Ti(){}Ii(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return be.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?be.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,t).next((_=>{_||(s++,c.removeEntry(d,Ye.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),be.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),be.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cf(e.data.value)),t}wr(e,t,s){return be.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return be.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sy{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=ft(),o=ft();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sy(e,t.fromCache,s,o)}}class ML{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return XC()?8:tM(si())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.gs(e,t).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,t,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new ML;return this.ys(e,t,d).next((_=>{if(c.result=_,this.As)return this.ws(e,t,d,_.size)}))})).next((()=>c.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(Mc()<=ht.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",Lc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),be.resolve()):(Mc()<=ht.DEBUG&&Me("QueryEngine","Query:",Lc(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Mc()<=ht.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",Lc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):be.resolve())}gs(e,t){if(qx(t))return be.resolve(null);let s=Cr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=s_(t,null,"F"),s=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=ft(...c);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,s).next((m=>{const v=this.bs(t,_);return this.Ss(t,v,d,m.readTime)?this.gs(e,s_(t,null,"F")):this.Ds(e,v,t,m)}))))})))))}ps(e,t,s,o){return qx(t)||o.isEqual(Ye.min())?be.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(t,c);return this.Ss(t,d,s,o)?be.resolve(null):(Mc()<=ht.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lc(t)),this.Ds(e,d,t,WP(o,mh)).next((_=>_)))}))}bs(e,t){let s=new Rn(NT(e));return t.forEach(((o,c)=>{om(e,c)&&(s=s.add(c))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,t,s){return Mc()<=ht.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Lc(t)),this.fs.getDocumentsMatchingQuery(e,t,Co.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ry="LocalStore",OL=3e8;class DL{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new Xt(dt),this.Fs=new Bl((c=>K_(c)),W_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function kL(n,e,t,s){return new DL(n,e,t,s)}async function eE(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],_=[];let m=ft();for(const v of o){d.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of c){_.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(s,m).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:_})))}))}))}function jL(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(_,m,v,w){const T=v.batch,N=T.keys();let R=be.resolve();return N.forEach((j=>{R=R.next((()=>w.getEntry(m,j))).next((V=>{const D=v.docVersions.get(j);St(D!==null,48541),V.version.compareTo(D)<0&&(T.applyToRemoteDocument(V,v),V.isValidDocument()&&(V.setReadTime(v.commitVersion),w.addEntry(V)))}))})),R.next((()=>_.mutationQueue.removeMutationBatch(m,T)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(_){let m=ft();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(m=m.add(_.batch.mutations[v].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function tE(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function VL(n,e){const t=$e(n),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const _=[];e.targetChanges.forEach(((w,T)=>{const N=o.get(T);if(!N)return;_.push(t.li.removeMatchingKeys(c,w.removedDocuments,T).next((()=>t.li.addMatchingKeys(c,w.addedDocuments,T))));let R=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken($n.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,s)),o=o.insert(T,R),(function(V,D,O){return V.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=OL?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(N,R,w)&&_.push(t.li.updateTargetData(c,R))}));let m=xa(),v=ft();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),_.push(zL(c,d,e.documentUpdates).next((w=>{m=w.Bs,v=w.Ls}))),!s.isEqual(Ye.min())){const w=t.li.getLastRemoteSnapshotVersion(c).next((T=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));_.push(w)}return be.waitFor(_).next((()=>d.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,m,v))).next((()=>m))})).then((c=>(t.vs=o,c)))}function zL(n,e,t){let s=ft(),o=ft();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let d=xa();return t.forEach(((_,m)=>{const v=c.get(_);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(_)),m.isNoDocument()&&m.version.isEqual(Ye.min())?(e.removeEntry(_,m.readTime),d=d.insert(_,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),d=d.insert(_,m)):Me(ry,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function UL(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Z_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function BL(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((c=>c?(o=c,be.resolve(o)):t.li.allocateTargetId(s).next((d=>(o=new bo(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function c_(n,e,t){const s=$e(n),o=s.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!tu(d))throw d;Me(ry,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function nw(n,e,t){const s=$e(n);let o=Ye.min(),c=ft();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,v,w){const T=$e(m),N=T.Fs.get(w);return N!==void 0?be.resolve(T.vs.get(N)):T.li.getTargetData(v,w)})(s,d,Cr(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,_.targetId).next((m=>{c=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,t?o:Ye.min(),t?c:ft()))).next((_=>(HL(s,AM(e),_),{documents:_,ks:c})))))}function HL(n,e,t){let s=n.Ms.get(e)||Ye.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Ms.set(e,s)}class iw{constructor(){this.activeTargetIds=MM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qL{constructor(){this.vo=new iw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new iw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FL{Mo(e){}shutdown(){}}const sw="ConnectivityMonitor";class rw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Me(sw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Me(sw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wd=null;function u_(){return Wd===null?Wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wd++,"0x"+Wd.toString(16)}const Ag="RestConnection",GL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ZL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Cf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,c){const d=u_(),_=this.Qo(e,t.toUriEncodedString());Me(Ag,`Sending RPC '${e}' ${d}:`,_,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:v}=new URL(_),w=Lo(v);return this.zo(e,_,m,s,w).then((T=>(Me(Ag,`Received RPC '${e}' ${d}: `,T),T)),(T=>{throw Ol(Ag,`RPC '${e}' ${d} failed with error: `,T,"url: ",_,"request:",s),T}))}jo(e,t,s,o,c,d){return this.Wo(e,t,s,o,c)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,t){const s=GL[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class $L{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ti="WebChannelConnection",Zu=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Vc extends ZL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vc.c_){const e=iT();Zu(e,nT.STAT_EVENT,(t=>{t.stat===Qg.PROXY?Me(ti,"STAT_EVENT: detected buffering proxy"):t.stat===Qg.NOPROXY&&Me(ti,"STAT_EVENT: detected no buffering proxy")})),Vc.c_=!0}}zo(e,t,s,o,c){const d=u_();return new Promise(((_,m)=>{const v=new eT;v.setWithCredentials(!0),v.listenOnce(tT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case lf.NO_ERROR:const T=v.getResponseJson();Me(ti,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(T)),_(T);break;case lf.TIMEOUT:Me(ti,`RPC '${e}' ${d} timed out`),m(new Ie(_e.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const N=v.getStatus();if(Me(ti,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const j=R?.error;if(j&&j.status&&j.message){const V=(function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(B)>=0?B:_e.UNKNOWN})(j.status);m(new Ie(V,j.message))}else m(new Ie(_e.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new Ie(_e.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Me(ti,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);Me(ti,`RPC '${e}' ${d} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=u_(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(_.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,t,s),_.encodeInitMessageHeaders=!0;const v=c.join("");Me(ti,`Creating RPC '${e}' stream ${o}: ${v}`,_);const w=d.createWebChannel(v,_);this.I_(w);let T=!1,N=!1;const R=new $L({Ho:j=>{N?Me(ti,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(Me(ti,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),Me(ti,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Jo:()=>w.close()});return Zu(w,Qu.EventType.OPEN,(()=>{N||(Me(ti,`RPC '${e}' stream ${o} transport opened.`),R.i_())})),Zu(w,Qu.EventType.CLOSE,(()=>{N||(N=!0,Me(ti,`RPC '${e}' stream ${o} transport closed`),R.o_(),this.E_(w))})),Zu(w,Qu.EventType.ERROR,(j=>{N||(N=!0,Ol(ti,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),R.o_(new Ie(_e.UNAVAILABLE,"The operation could not be completed")))})),Zu(w,Qu.EventType.MESSAGE,(j=>{if(!N){const V=j.data[0];St(!!V,16349);const D=V,O=D?.error||D[0]?.error;if(O){Me(ti,`RPC '${e}' stream ${o} received error:`,O);const B=O.status;let Z=(function(me){const z=wn[me];if(z!==void 0)return UT(z)})(B),J=O.message;B==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&Ol(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Z===void 0&&(Z=_e.INTERNAL,J="Unknown error status: "+B+" with message "+O.message),N=!0,R.o_(new Ie(Z,J)),w.close()}else Me(ti,`RPC '${e}' stream ${o} received:`,V),R.__(V)}})),Vc.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return sT()}}function YL(n){return new Vc(n)}function Cg(){return typeof document<"u"?document:null}function hm(n){return new XM(n,!0)}Vc.c_=!1;class nE{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const aw="PersistentStream";class iE{constructor(e,t,s,o,c,d,_,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(ba(t.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ie(_e.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Me(aw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Me(aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KL extends iE{constructor(e,t,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=tL(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ye.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ye.min():d.readTime?Nr(d.readTime):Ye.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=l_(this.serializer),t.addTarget=(function(c,d){let _;const m=d.target;if(_=n_(m)?{documents:sL(c,m)}:{query:$T(c,m).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=qT(c,d.resumeToken);const v=r_(c,d.expectedCount);v!==null&&(_.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ye.min())>0){_.readTime=Pf(c,d.snapshotVersion.toTimestamp());const v=r_(c,d.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,e);const s=oL(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=l_(this.serializer),t.removeTarget=e,this.K_(t)}}class WL extends iE{constructor(e,t,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=iL(e.writeResults,e.commitTime),s=Nr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=l_(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>nL(this.serializer,s)))};this.K_(t)}}class QL{}class XL extends QL{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ie(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,a_(t,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ie(_e.UNKNOWN,c.toString())}))}jo(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,a_(t,s),o,d,_,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ie(_e.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JL(n,e,t,s){return new XL(n,e,t,s)}class eO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ba(t),this.aa=!1):Me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Dl="RemoteStore";class tO{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Hl(this)&&(Me(Dl,"Restarting streams for network reachability change."),await(async function(m){const v=$e(m);v.Ea.add(4),await Oh(v),v.Va.set("Unknown"),v.Ea.delete(4),await dm(v)})(this))}))})),this.Va=new eO(s,o)}}async function dm(n){if(Hl(n))for(const e of n.Ra)await e(!0)}async function Oh(n){for(const e of n.Ra)await e(!1)}function sE(n,e){const t=$e(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),cy(t)?ly(t):iu(t).O_()&&oy(t,e))}function ay(n,e){const t=$e(n),s=iu(t);t.Ia.delete(e),s.O_()&&rE(t,e),t.Ia.size===0&&(s.O_()?s.L_():Hl(t)&&t.Va.set("Unknown"))}function oy(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}iu(n).Z_(e)}function rE(n,e){n.da.$e(e),iu(n).X_(e)}function ly(n){n.da=new YM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),iu(n).start(),n.Va.ua()}function cy(n){return Hl(n)&&!iu(n).x_()&&n.Ia.size>0}function Hl(n){return $e(n).Ea.size===0}function aE(n){n.da=void 0}async function nO(n){n.Va.set("Online")}async function iO(n){n.Ia.forEach(((e,t)=>{oy(n,e)}))}async function sO(n,e){aE(n),cy(n)?(n.Va.ha(e),ly(n)):n.Va.set("Unknown")}async function rO(n,e,t){if(n.Va.set("Online"),e instanceof HT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const _ of c.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(n,e)}catch(s){Me(Dl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lf(n,s)}else if(e instanceof df?n.da.Xe(e):e instanceof BT?n.da.st(e):n.da.tt(e),!t.isEqual(Ye.min()))try{const s=await tE(n.localStore);t.compareTo(s)>=0&&await(function(c,d){const _=c.da.Tt(d);return _.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(m.resumeToken,d))}})),_.targetMismatches.forEach(((m,v)=>{const w=c.Ia.get(m);if(!w)return;c.Ia.set(m,w.withResumeToken($n.EMPTY_BYTE_STRING,w.snapshotVersion)),rE(c,m);const T=new bo(w.target,m,v,w.sequenceNumber);oy(c,T)})),c.remoteSyncer.applyRemoteEvent(_)})(n,t)}catch(s){Me(Dl,"Failed to raise snapshot:",s),await Lf(n,s)}}async function Lf(n,e,t){if(!tu(e))throw e;n.Ea.add(1),await Oh(n),n.Va.set("Offline"),t||(t=()=>tE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Me(Dl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await dm(n)}))}function oE(n,e){return e().catch((t=>Lf(n,t,e)))}async function fm(n){const e=$e(n),t=Po(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Z_;for(;aO(e);)try{const o=await UL(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,oO(e,o)}catch(o){await Lf(e,o)}lE(e)&&cE(e)}function aO(n){return Hl(n)&&n.Ta.length<10}function oO(n,e){n.Ta.push(e);const t=Po(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function lE(n){return Hl(n)&&!Po(n).x_()&&n.Ta.length>0}function cE(n){Po(n).start()}async function lO(n){Po(n).ra()}async function cO(n){const e=Po(n);for(const t of n.Ta)e.ea(t.mutations)}async function uO(n,e,t){const s=n.Ta.shift(),o=J_.from(s,e,t);await oE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await fm(n)}async function hO(n,e){e&&Po(n).Y_&&await(async function(s,o){if((function(d){return GM(d)&&d!==_e.ABORTED})(o.code)){const c=s.Ta.shift();Po(s).B_(),await oE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await fm(s)}})(n,e),lE(n)&&cE(n)}async function ow(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Me(Dl,"RemoteStore received new credentials");const s=Hl(t);t.Ea.add(3),await Oh(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dm(t)}async function dO(n,e){const t=$e(n);e?(t.Ea.delete(2),await dm(t)):e||(t.Ea.add(2),await Oh(t),t.Va.set("Unknown"))}function iu(n){return n.ma||(n.ma=(function(t,s,o){const c=$e(t);return c.sa(),new KL(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:nO.bind(null,n),Yo:iO.bind(null,n),t_:sO.bind(null,n),J_:rO.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),cy(n)?ly(n):n.Va.set("Unknown")):(await n.ma.stop(),aE(n))}))),n.ma}function Po(n){return n.fa||(n.fa=(function(t,s,o){const c=$e(t);return c.sa(),new WL(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lO.bind(null,n),t_:hO.bind(null,n),ta:cO.bind(null,n),na:uO.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await fm(n)):(await n.fa.stop(),n.Ta.length>0&&(Me(Dl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class uy{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const d=Date.now()+s,_=new uy(e,t,d,o,c);return _.start(s),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(n,e){if(ba("AsyncQueue",`${e}: ${n}`),tu(n))return new Ie(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class zc{static emptySet(e){return new zc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ze.comparator(t.key,s.key):(t,s)=>ze.comparator(t.key,s.key),this.keyedMap=Xu(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new zc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class lw{constructor(){this.ga=new Xt(ze.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):qe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Yc{constructor(e,t,s,o,c,d,_,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,c){const d=[];return t.forEach((_=>{d.push({type:0,doc:_})})),new Yc(e,t,zc.emptySet(t),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class fO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class mO{constructor(){this.queries=cw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=$e(t),c=o.queries;o.queries=cw(),c.forEach(((d,_)=>{for(const m of _.ba)m.onError(s)}))})(this,new Ie(_e.ABORTED,"Firestore shutting down"))}}function cw(){return new Bl((n=>CT(n)),am)}async function dy(n,e){const t=$e(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new fO,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const _=hy(d,`Initialization of query '${Lc(e.query)}' failed`);return void e.onError(_)}t.queries.set(o,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&my(t)}async function fy(n,e){const t=$e(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function pO(n,e){const t=$e(n);let s=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const _ of d.ba)_.Fa(o)&&(s=!0);d.wa=o}}s&&my(t)}function gO(n,e,t){const s=$e(n),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(t);s.queries.delete(e)}function my(n){n.Ca.forEach((e=>{e.next()}))}var h_,uw;(uw=h_||(h_={})).Ma="default",uw.Cache="cache";class py{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Yc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==h_.Cache}}class uE{constructor(e){this.key=e}}class hE{constructor(e){this.key=e}}class _O{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ft(),this.mutatedKeys=ft(),this.eu=NT(e),this.tu=new zc(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new lw,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,_=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const N=o.get(w),R=om(this.query,T)?T:null,j=!!N&&this.mutatedKeys.has(N.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;N&&R?N.data.isEqual(R.data)?j!==V&&(s.track({type:3,doc:R}),D=!0):this.su(N,R)||(s.track({type:2,doc:R}),D=!0,(m&&this.eu(R,m)>0||v&&this.eu(R,v)<0)&&(_=!0)):!N&&R?(s.track({type:0,doc:R}),D=!0):N&&!R&&(s.track({type:1,doc:N}),D=!0,(m||v)&&(_=!0)),D&&(R?(d=d.add(R),c=V?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Ss:_,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,T)=>(function(R,j){const V=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:D})}};return V(R)-V(j)})(w.type,T.type)||this.eu(w.doc,T.doc))),this.ou(s),o=o??!1;const _=t&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,v=m!==this.Xa;return this.Xa=m,d.length!==0||v?{snapshot:new Yc(this.query,e.tu,c,d,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ft(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new hE(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new uE(s))})),t}cu(e){this.Za=e.ks,this.Ya=ft();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gy="SyncEngine";class yO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class vO{constructor(e){this.key=e,this.hu=!1}}class bO{constructor(e,t,s,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Bl((_=>CT(_)),am),this.Iu=new Map,this.Eu=new Set,this.Ru=new Xt(ze.comparator),this.Au=new Map,this.Vu=new ny,this.du={},this.mu=new Map,this.fu=$c.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xO(n,e,t=!0){const s=_E(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await dE(s,e,t,!0),o}async function wO(n,e){const t=_E(n);await dE(t,e,!0,!1)}async function dE(n,e,t,s){const o=await BL(n.localStore,Cr(e)),c=o.targetId,d=n.sharedClientState.addLocalQueryTarget(c,t);let _;return s&&(_=await TO(n,e,c,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&sE(n.remoteStore,o),_}async function TO(n,e,t,s,o){n.pu=(T,N,R)=>(async function(V,D,O,B){let Z=D.view.ru(O);Z.Ss&&(Z=await nw(V.localStore,D.query,!1).then((({documents:z})=>D.view.ru(z,Z))));const J=B&&B.targetChanges.get(D.targetId),ee=B&&B.targetMismatches.get(D.targetId)!=null,me=D.view.applyChanges(Z,V.isPrimaryClient,J,ee);return dw(V,D.targetId,me.au),me.snapshot})(n,T,N,R);const c=await nw(n.localStore,e,!0),d=new _O(e,c.ks),_=d.ru(c.documents),m=Lh.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=d.applyChanges(_,n.isPrimaryClient,m);dw(n,t,v.au);const w=new yO(e,t,d);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function EO(n,e,t){const s=$e(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!am(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await c_(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ay(s.remoteStore,o.targetId),d_(s,o.targetId)})).catch(eu)):(d_(s,o.targetId),await c_(s.localStore,o.targetId,!0))}async function SO(n,e){const t=$e(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ay(t.remoteStore,s.targetId))}async function AO(n,e,t){const s=LO(n);try{const o=await(function(d,_){const m=$e(d),v=Ft.now(),w=_.reduce(((R,j)=>R.add(j.key)),ft());let T,N;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let j=xa(),V=ft();return m.xs.getEntries(R,w).next((D=>{j=D,j.forEach(((O,B)=>{B.isValidDocument()||(V=V.add(O))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,j))).next((D=>{T=D;const O=[];for(const B of _){const Z=zM(B,T.get(B.key).overlayedDocument);Z!=null&&O.push(new Do(B.key,Z,yT(Z.value.mapValue),Is.exists(!0)))}return m.mutationQueue.addMutationBatch(R,v,O,_)})).next((D=>{N=D;const O=D.applyToLocalDocumentSet(T,V);return m.documentOverlayCache.saveOverlays(R,D.batchId,O)}))})).then((()=>({batchId:N.batchId,changes:IT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,_,m){let v=d.du[d.currentUser.toKey()];v||(v=new Xt(dt)),v=v.insert(_,m),d.du[d.currentUser.toKey()]=v})(s,o.batchId,t),await Dh(s,o.changes),await fm(s.remoteStore)}catch(o){const c=hy(o,"Failed to persist write");t.reject(c)}}async function fE(n,e){const t=$e(n);try{const s=await VL(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=t.Au.get(c);d&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?St(d.hu,14607):o.removedDocuments.size>0&&(St(d.hu,42227),d.hu=!1))})),await Dh(t,s,e)}catch(s){await eu(s)}}function hw(n,e,t){const s=$e(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const m=$e(d);m.onlineState=_;let v=!1;m.queries.forEach(((w,T)=>{for(const N of T.ba)N.va(_)&&(v=!0)})),v&&my(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CO(n,e,t){const s=$e(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new Xt(ze.comparator);d=d.insert(c,ii.newNoDocument(c,Ye.min()));const _=ft().add(c),m=new um(Ye.min(),new Map,new Xt(dt),d,_);await fE(s,m),s.Ru=s.Ru.remove(c),s.Au.delete(e),_y(s)}else await c_(s.localStore,e,!1).then((()=>d_(s,e,t))).catch(eu)}async function NO(n,e){const t=$e(n),s=e.batch.batchId;try{const o=await jL(t.localStore,e);pE(t,s,null),mE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Dh(t,o)}catch(o){await eu(o)}}async function RO(n,e,t){const s=$e(n);try{const o=await(function(d,_){const m=$e(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return m.mutationQueue.lookupMutationBatch(v,_).next((T=>(St(T!==null,37113),w=T.keys(),m.mutationQueue.removeMutationBatch(v,T)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,w,_))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>m.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);pE(s,e,t),mE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Dh(s,o)}catch(o){await eu(o)}}function mE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function pE(n,e,t){const s=$e(n);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function d_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||gE(n,s)}))}function gE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(ay(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),_y(n))}function dw(n,e,t){for(const s of t)s instanceof uE?(n.Vu.addReference(s.key,e),IO(n,s)):s instanceof hE?(Me(gy,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||gE(n,s.key)):qe(19791,{wu:s})}function IO(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(Me(gy,"New document in limbo: "+t),n.Eu.add(s),_y(n))}function _y(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ze(zt.fromString(e)),s=n.fu.next();n.Au.set(s,new vO(t)),n.Ru=n.Ru.insert(t,s),sE(n.remoteStore,new bo(Cr(rm(t.path)),s,"TargetPurposeLimboResolution",nm.ce))}}async function Dh(n,e,t){const s=$e(n),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((_,m)=>{d.push(s.pu(m,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(v){o.push(v);const w=sy.Es(m.targetId,v);c.push(w)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(m,v){const w=$e(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>be.forEach(v,(N=>be.forEach(N.Ts,(R=>w.persistence.referenceDelegate.addReference(T,N.targetId,R))).next((()=>be.forEach(N.Is,(R=>w.persistence.referenceDelegate.removeReference(T,N.targetId,R)))))))))}catch(T){if(!tu(T))throw T;Me(ry,"Failed to update sequence numbers: "+T)}for(const T of v){const N=T.targetId;if(!T.fromCache){const R=w.vs.get(N),j=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(j);w.vs=w.vs.insert(N,V)}}})(s.localStore,c))}async function PO(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Me(gy,"User change. New user:",e.toKey());const s=await eE(t.localStore,e);t.currentUser=e,(function(c,d){c.mu.forEach((_=>{_.forEach((m=>{m.reject(new Ie(_e.CANCELLED,d))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Dh(t,s.Ns)}}function MO(n,e){const t=$e(n),s=t.Au.get(e);if(s&&s.hu)return ft().add(s.key);{let o=ft();const c=t.Iu.get(e);if(!c)return o;for(const d of c){const _=t.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function _E(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CO.bind(null,e),e.Pu.J_=pO.bind(null,e.eventManager),e.Pu.yu=gO.bind(null,e.eventManager),e}function LO(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RO.bind(null,e),e}class Of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return kL(this.persistence,new LL,e.initialUser,this.serializer)}Cu(e){return new JT(iy.Vi,this.serializer)}Du(e){return new qL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Of.provider={build:()=>new Of};class OO extends Of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){St(this.persistence.referenceDelegate instanceof Mf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yL(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Di.withCacheSize(this.cacheSizeBytes):Di.DEFAULT;return new JT((s=>Mf.Vi(s,t)),this.serializer)}}class f_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PO.bind(null,this.syncEngine),await dO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mO})()}createDatastore(e){const t=hm(e.databaseInfo.databaseId),s=YL(e.databaseInfo);return JL(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,d,_){return new tO(s,o,c,d,_)})(this.localStore,this.datastore,e.asyncQueue,(t=>hw(this.syncEngine,t,0)),(function(){return rw.v()?new rw:new FL})())}createSyncEngine(e,t){return(function(o,c,d,_,m,v,w){const T=new bO(o,c,d,_,m,v);return w&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=$e(t);Me(Dl,"RemoteStore shutting down."),s.Ea.add(5),await Oh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}f_.provider={build:()=>new f_};class yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ba("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Mo="FirestoreClient";class DO{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=ni.UNAUTHENTICATED,this.clientId=G_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{Me(Mo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Me(Mo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=hy(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ng(n,e){n.asyncQueue.verifyOperationInProgress(),Me(Mo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await eE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function fw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kO(n);Me(Mo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>ow(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>ow(e.remoteStore,o))),n._onlineComponents=e}async function kO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Me(Mo,"Using user provided OfflineComponentProvider");try{await Ng(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===_e.FAILED_PRECONDITION||o.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ol("Error using user provided cache. Falling back to memory cache: "+t),await Ng(n,new Of)}}else Me(Mo,"Using default OfflineComponentProvider"),await Ng(n,new OO(void 0));return n._offlineComponents}async function vy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Me(Mo,"Using user provided OnlineComponentProvider"),await fw(n,n._uninitializedComponentsProvider._online)):(Me(Mo,"Using default OnlineComponentProvider"),await fw(n,new f_))),n._onlineComponents}function jO(n){return vy(n).then((e=>e.syncEngine))}function VO(n){return vy(n).then((e=>e.datastore))}async function Df(n){const e=await vy(n),t=e.eventManager;return t.onListen=xO.bind(null,e.syncEngine),t.onUnlisten=EO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SO.bind(null,e.syncEngine),t}function zO(n,e,t,s){const o=new yy(s),c=new py(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>dy(await Df(n),c))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>fy(await Df(n),c)))}}function UO(n,e,t={}){const s=new Ar;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,m,v){const w=new yy({next:N=>{w.Nu(),d.enqueueAndForget((()=>fy(c,T)));const R=N.docs.has(_);!R&&N.fromCache?v.reject(new Ie(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&N.fromCache&&m&&m.source==="server"?v.reject(new Ie(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),T=new py(rm(_.path),w,{includeMetadataChanges:!0,Ka:!0});return dy(c,T)})(await Df(n),n.asyncQueue,e,t,s))),s.promise}function BO(n,e,t={}){const s=new Ar;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,m,v){const w=new yy({next:N=>{w.Nu(),d.enqueueAndForget((()=>fy(c,T))),N.fromCache&&m.source==="server"?v.reject(new Ie(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),T=new py(_,w,{includeMetadataChanges:!0,Ka:!0});return dy(c,T)})(await Df(n),n.asyncQueue,e,t,s))),s.promise}function HO(n,e,t){const s=new Ar;return n.asyncQueue.enqueueAndForget((async()=>{try{const o=await VO(n);s.resolve((async function(d,_,m){const v=$e(d),{request:w,gt:T,parent:N}=rL(v.serializer,EM(_),m);v.connection.Ko||delete w.parent;const R=(await v.jo("RunAggregationQuery",v.serializer.databaseId,N,w,1)).filter((V=>!!V.result));St(R.length===1,64727);const j=R[0].result?.aggregateFields;return Object.keys(j).reduce(((V,D)=>(V[T[D]]=j[D],V)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}function qO(n,e){const t=new Ar;return n.asyncQueue.enqueueAndForget((async()=>AO(await jO(n),e,t))),t.promise}function yE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const FO="ComponentProvider",mw=new Map;function GO(n,e,t,s,o){return new oM(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,yE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const vE="firestore.googleapis.com",pw=!0;class gw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vE,this.ssl=pw}else this.host=e.host,this.ssl=e.ssl??pw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gL)throw new Ie(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zP;switch(s.type){case"firstParty":return new qP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ie(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=mw.get(t);s&&(Me(FO,"Removing Datastore"),mw.delete(t),s.terminate())})(this),Promise.resolve()}}function ZO(n,e,t,s={}){n=mi(n,mm);const o=Lo(e),c=n._getSettings(),d={...c,emulatorOptions:n._getEmulatorOptions()},_=`${e}:${t}`;o&&(R_(`https://${_}`),I_("Firestore",!0)),c.host!==vE&&c.host!==_&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:_,ssl:o,emulatorOptions:s};if(!Il(m,d)&&(n._setSettings(m),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=ni.MOCK_USER;else{v=m1(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new Ie(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ni(T)}n._authCredentials=new UP(new aT(v,w))}}class ko{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class on{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ph(t,on._jsonSchema))return new on(e,s||null,new ze(zt.fromString(t.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:Sn("string",on._jsonSchemaVersion),referencePath:Sn("string")};class So extends ko{constructor(e,t,s){super(e,t,rm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ze(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function Un(n,e,...t){if(n=$t(n),oT("collection","path",e),n instanceof mm){const s=zt.fromString(e,...t);return Rx(s),new So(n,null,s)}{if(!(n instanceof on||n instanceof So))throw new Ie(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(zt.fromString(e,...t));return Rx(s),new So(n.firestore,null,s)}}function Tn(n,e,...t){if(n=$t(n),arguments.length===1&&(e=G_.newId()),oT("doc","path",e),n instanceof mm){const s=zt.fromString(e,...t);return Nx(s),new on(n,null,new ze(s))}{if(!(n instanceof on||n instanceof So))throw new Ie(_e.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(zt.fromString(e,...t));return Nx(s),new on(n.firestore,n instanceof So?n.converter:null,new ze(s))}}const _w="AsyncQueue";class yw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nE(this,"async_queue_retry"),this._c=()=>{const s=Cg();s&&Me(_w,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Cg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Cg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!tu(e))throw e;Me(_w,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ba("INTERNAL UNHANDLED ERROR: ",vw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=uy.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&qe(47125,{Pc:vw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function vw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Pr extends mm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new yw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yw(e),this._firestoreClient=void 0,await e}}}function $O(n,e){const t=typeof n=="object"?n:L_(),s=typeof n=="string"?n:Cf,o=Qf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=h1("firestore");c&&ZO(o,...c)}return o}function kh(n){if(n._terminated)throw new Ie(_e.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YO(n),n._firestoreClient}function YO(n){const e=n._freezeSettings(),t=GO(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new DO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs($n.fromBase64String(e))}catch(t){throw new Ie(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rs($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ph(e,Rs._jsonSchema))return Rs.fromBase64String(e.bytes)}}Rs._jsonSchemaVersion="firestore/bytes/1.0",Rs._jsonSchema={type:Sn("string",Rs._jsonSchemaVersion),bytes:Sn("string")};class by{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pm{constructor(e){this._methodName=e}}class Rr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(Ph(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:Sn("string",Rr._jsonSchemaVersion),latitude:Sn("number"),longitude:Sn("number")};class Xs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ph(e,Xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Xs(e.vectorValues);throw new Ie(_e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xs._jsonSchemaVersion="firestore/vectorValue/1.0",Xs._jsonSchema={type:Sn("string",Xs._jsonSchemaVersion),vectorValues:Sn("object")};const KO=/^__.*__$/;class WO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Do(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mh(e,this.data,t,this.fieldTransforms)}}class bE{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Do(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{dataSource:n})}}class xy{constructor(e,t,s,o,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return kf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(xE(this.dataSource)&&KO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||hm(e)}createContext(e,t,s,o=!1){return new xy({dataSource:e,methodName:t,targetDoc:s,path:Zn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gm(n){const e=n._freezeSettings(),t=hm(n._databaseId);return new QO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wE(n,e,t,s,o,c={}){const d=n.createContext(c.merge||c.mergeFields?2:0,e,t,o);Ty("Data must be an object, but it was:",d,s);const _=TE(s,d);let m,v;if(c.merge)m=new is(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const T of c.mergeFields){const N=kl(e,T,t);if(!d.contains(N))throw new Ie(_e.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);AE(w,N)||w.push(N)}m=new is(w),v=d.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,v=d.fieldTransforms;return new WO(new fi(_),m,v)}class _m extends pm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _m}}class wy extends pm{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new xh(e.serializer,LT(e.serializer,this.Vc));return new DM(e.path,t)}isEqual(e){return e instanceof wy&&this.Vc===e.Vc}}function XO(n,e,t,s){const o=n.createContext(1,e,t);Ty("Data must be an object, but it was:",o,s);const c=[],d=fi.empty();Oo(s,((m,v)=>{const w=SE(e,m,t);v=$t(v);const T=o.childContextForFieldPath(w);if(v instanceof _m)c.push(w);else{const N=jh(v,T);N!=null&&(c.push(w),d.set(w,N))}}));const _=new is(c);return new bE(d,_,o.fieldTransforms)}function JO(n,e,t,s,o,c){const d=n.createContext(1,e,t),_=[kl(e,s,t)],m=[o];if(c.length%2!=0)throw new Ie(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)_.push(kl(e,c[N])),m.push(c[N+1]);const v=[],w=fi.empty();for(let N=_.length-1;N>=0;--N)if(!AE(v,_[N])){const R=_[N];let j=m[N];j=$t(j);const V=d.childContextForFieldPath(R);if(j instanceof _m)v.push(R);else{const D=jh(j,V);D!=null&&(v.push(R),w.set(R,D))}}const T=new is(v);return new bE(w,T,d.fieldTransforms)}function eD(n,e,t,s=!1){return jh(t,n.createContext(s?4:3,e))}function jh(n,e){if(EE(n=$t(n)))return Ty("Unsupported field value:",e,n),TE(n,e);if(n instanceof pm)return(function(s,o){if(!xE(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const _ of s){let m=jh(_,o.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=$t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Ft.fromDate(s);return{timestampValue:Pf(o.serializer,c)}}if(s instanceof Ft){const c=new Ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pf(o.serializer,c)}}if(s instanceof Rr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Rs)return{bytesValue:qT(o.serializer,s._byteString)};if(s instanceof on){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ty(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Xs)return(function(d,_){const m=d instanceof Xs?d.toArray():d;return{mapValue:{fields:{[gT]:{stringValue:_T},[Nf]:{arrayValue:{values:m.map((w=>{if(typeof w!="number")throw _.createError("VectorValues must only contain numeric values.");return Q_(_.serializer,w)}))}}}}}})(s,o);if(QT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${tm(s)}`)})(n,e)}function TE(n,e){const t={};return uT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(n,((s,o)=>{const c=jh(o,e.childContextForField(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function EE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ft||n instanceof Rr||n instanceof Rs||n instanceof on||n instanceof pm||n instanceof Xs||QT(n))}function Ty(n,e,t){if(!EE(t)||!lT(t)){const s=tm(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function kl(n,e,t){if((e=$t(e))instanceof by)return e._internalPath;if(typeof e=="string")return SE(n,e);throw kf("Field path arguments must be of type string or ",n,!1,void 0,t)}const tD=new RegExp("[~\\*/\\[\\]]");function SE(n,e,t){if(e.search(tD)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new by(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kf(n,e,t,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new Ie(_e.INVALID_ARGUMENT,_+n+m)}function AE(n,e){return n.some((t=>t.isEqual(e)))}class nD{convertValue(e,t="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Oo(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Nf].arrayValue?.values?.map((s=>mn(s.doubleValue)));return new Xs(t)}convertGeoPoint(e){return new Rr(mn(e.latitude),mn(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=sm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ph(e));default:return null}}convertTimestamp(e){const t=No(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=zt.fromString(e);St(WT(s),9688,{name:e});const o=new gh(s.get(1),s.get(3)),c=new ze(s.popFirst(5));return o.isEqual(t)||ba(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class ym extends nD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function iD(n){return new wy("increment",n)}const bw="@firebase/firestore",xw="4.11.0";function ww(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class sD{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class rD{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new fi({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class CE{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(kl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aD extends CE{data(){return super.data()}}function NE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ey{}class RE extends Ey{}function Ks(n,e,...t){let s=[];e instanceof Ey&&s.push(e),s=s.concat(t),(function(c){const d=c.filter((m=>m instanceof Sy)).length,_=c.filter((m=>m instanceof vm)).length;if(d>1||d>0&&_>0)throw new Ie(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class vm extends RE{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new vm(e,t,s)}_apply(e){const t=this._parse(e);return IE(e._query,t),new ko(e.firestore,e.converter,i_(e._query,t))}_parse(e){const t=gm(e.firestore);return(function(c,d,_,m,v,w,T){let N;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Ie(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Ew(T,w);const j=[];for(const V of T)j.push(Tw(m,c,V));N={arrayValue:{values:j}}}else N=Tw(m,c,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Ew(T,w),N=eD(_,d,T,w==="in"||w==="not-in");return En.create(v,w,N)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ho(n,e,t){const s=e,o=kl("where",n);return vm._create(o,s,t)}class Sy extends Ey{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sy(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Js.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let d=o;const _=c.getFlattenedFilters();for(const m of _)IE(d,m),d=i_(d,m)})(e._query,t),new ko(e.firestore,e.converter,i_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ay extends RE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ay(e,t)}_apply(e){const t=(function(o,c,d){if(o.startAt!==null)throw new Ie(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ie(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yh(c,d)})(e._query,this._field,this._direction);return new ko(e.firestore,e.converter,SM(e._query,t))}}function oD(n,e="asc"){const t=e,s=kl("orderBy",n);return Ay._create(s,t)}function Tw(n,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new Ie(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ST(e)&&t.indexOf("/")!==-1)throw new Ie(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(zt.fromString(t));if(!ze.isDocumentKey(s))throw new Ie(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jx(n,new ze(s))}if(t instanceof on)return jx(n,t._key);throw new Ie(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(t)}.`)}function Ew(n,e){if(!Array.isArray(n)||n.length===0)throw new Ie(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IE(n,e){const t=(function(o,c){for(const d of o)for(const _ of d.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ie(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function PE(n,e,t){let s;return s=n?n.toFirestore(e):e,s}function lD(){return new sD("count")}function Sw(n){return cD(n,{count:lD()})}function cD(n,e){const t=mi(n.firestore,Pr),s=kh(t),o=rM(e,((c,d)=>new qM(d,c.aggregateType,c._internalFieldPath)));return HO(s,n._query,o).then((c=>(function(_,m,v){const w=new ym(_);return new rD(m,w,v)})(t,n,c)))}class eh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cl extends CE{constructor(e,t,s,o,c,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(kl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(_e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Cl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cl._jsonSchema={type:Sn("string",Cl._jsonSchemaVersion),bundleSource:Sn("string","DocumentSnapshot"),bundleName:Sn("string"),bundle:Sn("string")};class ff extends Cl{data(e={}){return super.data(e)}}class Nl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new eh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new ff(this._firestore,this._userDataWriter,s.key,s,new eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const m=new ff(o._firestore,o._userDataWriter,_.doc.key,_.doc,new eh(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const m=new ff(o._firestore,o._userDataWriter,_.doc.key,_.doc,new eh(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return _.type!==0&&(v=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),w=d.indexOf(_.doc.key)),{type:uD(_.type),doc:m,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(_e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=G_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:n})}}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Sn("string",Nl._jsonSchemaVersion),bundleSource:Sn("string","QuerySnapshot"),bundleName:Sn("string"),bundle:Sn("string")};function Uc(n){n=mi(n,on);const e=mi(n.firestore,Pr),t=kh(e);return UO(t,n._key).then((s=>ME(e,n,s)))}function ua(n){n=mi(n,ko);const e=mi(n.firestore,Pr),t=kh(e),s=new ym(e);return NE(n._query),BO(t,n._query).then((o=>new Nl(e,s,n,o)))}function Rg(n,e,t){n=mi(n,on);const s=mi(n.firestore,Pr),o=PE(n.converter,e),c=gm(s);return bm(s,[wE(c,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Is.none())])}function fo(n,e,t,...s){n=mi(n,on);const o=mi(n.firestore,Pr),c=gm(o);let d;return d=typeof(e=$t(e))=="string"||e instanceof by?JO(c,"updateDoc",n._key,e,t,s):XO(c,"updateDoc",n._key,e),bm(o,[d.toMutation(n._key,Is.exists(!0))])}function Aw(n){return bm(mi(n.firestore,Pr),[new X_(n._key,Is.none())])}function Bc(n,e){const t=mi(n.firestore,Pr),s=Tn(n),o=PE(n.converter,e),c=gm(n.firestore);return bm(t,[wE(c,"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Is.exists(!1))]).then((()=>s))}function hD(n,...e){n=$t(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ww(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ww(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let c,d,_;if(n instanceof on)d=mi(n.firestore,Pr),_=rm(n._key.path),c={next:v=>{e[s]&&e[s](ME(d,n,v))},error:e[s+1],complete:e[s+2]};else{const v=mi(n,ko);d=mi(v.firestore,Pr),_=v._query;const w=new ym(d);c={next:T=>{e[s]&&e[s](new Nl(d,w,v,T))},error:e[s+1],complete:e[s+2]},NE(n._query)}const m=kh(d);return zO(m,_,o,c)}function bm(n,e){const t=kh(n);return qO(t,e)}function ME(n,e,t){const s=t.docs.get(e._key),o=new ym(n);return new Cl(n,o,e._key,s,new eh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){VP(Ul),Pl(new Ao("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),_=new Pr(new BP(s.getProvider("auth-internal")),new FP(d,s.getProvider("app-check-internal")),lM(d,o),d);return c={useFetchStreams:t,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),Er(bw,xw,e),Er(bw,xw,"esm2020")})();const LE="firebasestorage.googleapis.com",OE="storageBucket",dD=120*1e3,fD=600*1e3;class cn extends Lr{constructor(e,t,s=0){super(Ig(e),`Firebase Storage: ${t} (${Ig(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ig(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function Ig(n){return"storage/"+n}function Cy(){const n="An unknown error occurred, please check the error payload for server response.";return new cn(ln.UNKNOWN,n)}function mD(n){return new cn(ln.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function pD(n){return new cn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(ln.UNAUTHENTICATED,n)}function _D(){return new cn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yD(n){return new cn(ln.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function vD(){return new cn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bD(){return new cn(ln.CANCELED,"User canceled the upload/download.")}function xD(n){return new cn(ln.INVALID_URL,"Invalid URL '"+n+"'.")}function wD(n){return new cn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function TD(){return new cn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OE+"' property when initializing the app?")}function ED(){return new cn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SD(){return new cn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AD(n){return new cn(ln.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function m_(n){return new cn(ln.INVALID_ARGUMENT,n)}function DE(){return new cn(ln.APP_DELETED,"The Firebase app was deleted.")}function CD(n){return new cn(ln.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ch(n,e){return new cn(ln.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function $u(n){throw new cn(ln.INTERNAL_ERROR,"Internal error: "+n)}class ss{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ss.makeFromUrl(e,t)}catch{return new ss(e,"")}if(s.path==="")return s;throw wD(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const d="(/(.*))?$",_=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function v(J){J.path_=decodeURIComponent(J.path)}const w="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",R=new RegExp(`^https?://${T}/${w}/b/${o}/o${N}`,"i"),j={bucket:1,path:3},V=t===LE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",O=new RegExp(`^https?://${V}/${o}/${D}`,"i"),Z=[{regex:_,indices:m,postModify:c},{regex:R,indices:j,postModify:v},{regex:O,indices:{bucket:1,path:2},postModify:v}];for(let J=0;J<Z.length;J++){const ee=Z[J],me=ee.regex.exec(e);if(me){const z=me[ee.indices.bucket];let I=me[ee.indices.path];I||(I=""),s=new ss(z,I),ee.postModify(s);break}}if(s==null)throw xD(e);return s}}class ND{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function RD(n,e,t){let s=1,o=null,c=null,d=!1,_=0;function m(){return _===2}let v=!1;function w(...D){v||(v=!0,e.apply(null,D))}function T(D){o=setTimeout(()=>{o=null,n(R,m())},D)}function N(){c&&clearTimeout(c)}function R(D,...O){if(v){N();return}if(D){N(),w.call(null,D,...O);return}if(m()||d){N(),w.call(null,D,...O);return}s<64&&(s*=2);let Z;_===1?(_=2,Z=0):Z=(s+Math.random())*1e3,T(Z)}let j=!1;function V(D){j||(j=!0,N(),!v&&(o!==null?(D||(_=2),clearTimeout(o),T(0)):D||(_=1)))}return T(0),c=setTimeout(()=>{d=!0,V(!0)},t),V}function ID(n){n(!1)}function PD(n){return n!==void 0}function MD(n){return typeof n=="object"&&!Array.isArray(n)}function Ny(n){return typeof n=="string"||n instanceof String}function Cw(n){return Ry()&&n instanceof Blob}function Ry(){return typeof Blob<"u"}function Nw(n,e,t,s){if(s<e)throw m_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw m_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Iy(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function kE(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Rl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Rl||(Rl={}));function LD(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}class OD{constructor(e,t,s,o,c,d,_,m,v,w,T,N=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=_,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=T,this.retry=N,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,V)=>{this.resolve_=j,this.reject_=V,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Qd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=_=>{const m=_.loaded,v=_.lengthComputable?_.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const _=c.getErrorCode()===Rl.NO_ERROR,m=c.getStatus();if(!_||LD(m,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Rl.ABORT;s(!1,new Qd(!1,null,w));return}const v=this.successCodes_.indexOf(m)!==-1;s(!0,new Qd(v,c))})},t=(s,o)=>{const c=this.resolve_,d=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(_,_.getResponse());PD(m)?c(m):c()}catch(m){d(m)}else if(_!==null){const m=Cy();m.serverResponse=_.getErrorText(),this.errorCallback_?d(this.errorCallback_(_,m)):d(m)}else if(o.canceled){const m=this.appDelete_?DE():bD();d(m)}else{const m=vD();d(m)}};this.canceled_?t(!1,new Qd(!1,null,!0)):this.backoffId_=RD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ID(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qd{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function DD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function kD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function VD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function zD(n,e,t,s,o,c,d=!0,_=!1){const m=kE(n.urlParams),v=n.url+m,w=Object.assign({},n.headers);return jD(w,e),DD(w,t),kD(w,c),VD(w,s),new OD(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,d,_)}function UD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BD(...n){const e=UD();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Ry())return new Blob(n);throw new cn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function qD(n){if(typeof atob>"u")throw AD("base-64");return atob(n)}const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pg{constructor(e,t){this.data=e,this.contentType=t||null}}function FD(n,e){switch(n){case xr.RAW:return new Pg(jE(e));case xr.BASE64:case xr.BASE64URL:return new Pg(VE(n,e));case xr.DATA_URL:return new Pg(ZD(e),$D(e))}throw Cy()}function jE(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=s,d=n.charCodeAt(++t);s=65536|(c&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function GD(n){let e;try{e=decodeURIComponent(n)}catch{throw ch(xr.DATA_URL,"Malformed data URL.")}return jE(e)}function VE(n,e){switch(n){case xr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw ch(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw ch(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=qD(e)}catch(o){throw o.message.includes("polyfill")?o:ch(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class zE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ch(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=YD(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function ZD(n){const e=new zE(n);return e.base64?VE(xr.BASE64,e.rest):GD(e.rest)}function $D(n){return new zE(n).contentType}function YD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class yo{constructor(e,t){let s=0,o="";Cw(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Cw(this.data_)){const s=this.data_,o=HD(s,e,t);return o===null?null:new yo(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new yo(s,!0)}}static getBlob(...e){if(Ry()){const t=e.map(s=>s instanceof yo?s.data_:s);return new yo(BD.apply(null,t))}else{const t=e.map(d=>Ny(d)?FD(xr.RAW,d).data:d.data_);let s=0;t.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return t.forEach(d=>{for(let _=0;_<d.length;_++)o[c++]=d[_]}),new yo(o,!0)}}uploadData(){return this.data_}}function UE(n){let e;try{e=JSON.parse(n)}catch{return null}return MD(e)?e:null}function KD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function WD(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function BE(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function QD(n,e){return e}class di{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||QD}}let Xd=null;function XD(n){return!Ny(n)||n.length<2?n:BE(n)}function HE(){if(Xd)return Xd;const n=[];n.push(new di("bucket")),n.push(new di("generation")),n.push(new di("metageneration")),n.push(new di("name","fullPath",!0));function e(c,d){return XD(d)}const t=new di("name");t.xform=e,n.push(t);function s(c,d){return d!==void 0?Number(d):d}const o=new di("size");return o.xform=s,n.push(o),n.push(new di("timeCreated")),n.push(new di("updated")),n.push(new di("md5Hash",null,!0)),n.push(new di("cacheControl",null,!0)),n.push(new di("contentDisposition",null,!0)),n.push(new di("contentEncoding",null,!0)),n.push(new di("contentLanguage",null,!0)),n.push(new di("contentType",null,!0)),n.push(new di("metadata","customMetadata",!0)),Xd=n,Xd}function JD(n,e){function t(){const s=n.bucket,o=n.fullPath,c=new ss(s,o);return e._makeStorageReference(c)}Object.defineProperty(n,"ref",{get:t})}function ek(n,e,t){const s={};s.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];s[d.local]=d.xform(s,e[d.server])}return JD(s,n),s}function qE(n,e,t){const s=UE(e);return s===null?null:ek(n,s,t)}function tk(n,e,t,s){const o=UE(e);if(o===null||!Ny(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(v=>{const w=n.bucket,T=n.fullPath,N="/b/"+d(w)+"/o/"+d(T),R=Iy(N,t,s),j=kE({alt:"media",token:v});return R+j})[0]}function nk(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}class FE{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function GE(n){if(!n)throw Cy()}function ik(n,e){function t(s,o){const c=qE(n,o,e);return GE(c!==null),c}return t}function sk(n,e){function t(s,o){const c=qE(n,o,e);return GE(c!==null),tk(c,o,n.host,n._protocol)}return t}function ZE(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=_D():o=gD():t.getStatus()===402?o=pD(n.bucket):t.getStatus()===403?o=yD(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function rk(n){const e=ZE(n);function t(s,o){let c=e(s,o);return s.getStatus()===404&&(c=mD(n.path)),c.serverResponse=o.serverResponse,c}return t}function ak(n,e,t){const s=e.fullServerUrl(),o=Iy(s,n.host,n._protocol),c="GET",d=n.maxOperationRetryTime,_=new FE(o,c,sk(n,t),d);return _.errorHandler=rk(e),_}function ok(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function lk(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=ok(null,e)),s}function ck(n,e,t,s,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function _(){let Z="";for(let J=0;J<2;J++)Z=Z+Math.random().toString().slice(2);return Z}const m=_();d["Content-Type"]="multipart/related; boundary="+m;const v=lk(e,s,o),w=nk(v,t),T="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+v.contentType+`\r
\r
`,N=`\r
--`+m+"--",R=yo.getBlob(T,s,N);if(R===null)throw ED();const j={name:v.fullPath},V=Iy(c,n.host,n._protocol),D="POST",O=n.maxUploadRetryTime,B=new FE(V,D,ik(n,t),O);return B.urlParams=j,B.headers=d,B.body=R.uploadData(),B.errorHandler=ZE(e),B}class uk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,c){if(this.sent_)throw $u("cannot .send() more than once");if(Lo(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hk extends uk{initXhr(){this.xhr_.responseType="text"}}function $E(){return new hk}class jl{constructor(e,t){this._service=e,t instanceof ss?this._location=t:this._location=ss.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jl(e,t)}get root(){const e=new ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BE(this._location.path)}get storage(){return this._service}get parent(){const e=KD(this._location.path);if(e===null)return null;const t=new ss(this._location.bucket,e);return new jl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw CD(e)}}function dk(n,e,t){n._throwIfRoot("uploadBytes");const s=ck(n.storage,n._location,HE(),new yo(e,!0),t);return n.storage.makeRequestWithTokens(s,$E).then(o=>({metadata:o,ref:n}))}function fk(n){n._throwIfRoot("getDownloadURL");const e=ak(n.storage,n._location,HE());return n.storage.makeRequestWithTokens(e,$E).then(t=>{if(t===null)throw SD();return t})}function mk(n,e){const t=WD(n._location.path,e),s=new ss(n._location.bucket,t);return new jl(n.storage,s)}function pk(n){return/^[A-Za-z]+:\/\//.test(n)}function gk(n,e){return new jl(n,e)}function YE(n,e){if(n instanceof Py){const t=n;if(t._bucket==null)throw TD();const s=new jl(t,t._bucket);return e!=null?YE(s,e):s}else return e!==void 0?mk(n,e):n}function _k(n,e){if(e&&pk(e)){if(n instanceof Py)return gk(n,e);throw m_("To use ref(service, url), the first argument must be a Storage instance.")}else return YE(n,e)}function Rw(n,e){const t=e?.[OE];return t==null?null:ss.makeFromBucketSpec(t,n)}function yk(n,e,t,s={}){n.host=`${e}:${t}`;const o=Lo(e);o&&(R_(`https://${n.host}/b`),I_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:m1(c,n.app.options.projectId))}class Py{constructor(e,t,s,o,c,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=LE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dD,this._maxUploadRetryTime=fD,this._requests=new Set,o!=null?this._bucket=ss.makeFromBucketSpec(o,this._host):this._bucket=Rw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ss.makeFromBucketSpec(this._url,e):this._bucket=Rw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jl(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new ND(DE());{const d=zD(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Iw="@firebase/storage",Pw="0.14.0";const KE="storage";function vk(n,e,t){return n=$t(n),dk(n,e,t)}function bk(n){return n=$t(n),fk(n)}function xk(n,e){return n=$t(n),_k(n,e)}function wk(n=L_(),e){n=$t(n);const s=Qf(n,KE).getImmediate({identifier:e}),o=h1("storage");return o&&Tk(s,...o),s}function Tk(n,e,t,s={}){yk(n,e,t,s)}function Ek(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Py(t,s,o,e,Ul)}function Sk(){Pl(new Ao(KE,Ek,"PUBLIC").setMultipleInstances(!0)),Er(Iw,Pw,""),Er(Iw,Pw,"esm2020")}Sk();const Ak={apiKey:"AIzaSyDhATfuTR03Z0MDHK6LdVtePzvnOlw2RYs",authDomain:"inmobiliaria-89dca.firebaseapp.com",projectId:"inmobiliaria-89dca",storageBucket:"inmobiliaria-89dca.firebasestorage.app",messagingSenderId:"264339137867",appId:"1:264339137867:web:721f347d175208451c34ce",measurementId:"G-71P9DV29GB"},My=_1(Ak),Tl=kP(My),nt=$O(My),Ck=wk(My),Nk=new ca,Rk=new sh("apple.com");let Ik={data:""},Pk=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||Ik},Mk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Lk=/\/\*[^]*?\*\/|  +/g,Mw=/\n+/g,vo=(n,e)=>{let t="",s="",o="";for(let c in n){let d=n[c];c[0]=="@"?c[1]=="i"?t=c+" "+d+";":s+=c[1]=="f"?vo(d,c):c+"{"+vo(d,c[1]=="k"?"":e)+"}":typeof d=="object"?s+=vo(d,e?e.replace(/([^,])+/g,_=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,_):_?_+" "+m:m)):c):d!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=vo.p?vo.p(c,d):c+":"+d+";")}return t+(e&&o?e+"{"+o+"}":o)+s},oa={},WE=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+WE(n[t]);return e}return n},Ok=(n,e,t,s,o)=>{let c=WE(n),d=oa[c]||(oa[c]=(m=>{let v=0,w=11;for(;v<m.length;)w=101*w+m.charCodeAt(v++)>>>0;return"go"+w})(c));if(!oa[d]){let m=c!==n?n:(v=>{let w,T,N=[{}];for(;w=Mk.exec(v.replace(Lk,""));)w[4]?N.shift():w[3]?(T=w[3].replace(Mw," ").trim(),N.unshift(N[0][T]=N[0][T]||{})):N[0][w[1]]=w[2].replace(Mw," ").trim();return N[0]})(n);oa[d]=vo(o?{["@keyframes "+d]:m}:m,t?"":"."+d)}let _=t&&oa.g?oa.g:null;return t&&(oa.g=oa[d]),((m,v,w,T)=>{T?v.data=v.data.replace(T,m):v.data.indexOf(m)===-1&&(v.data=w?m+v.data:v.data+m)})(oa[d],e,s,_),d},Dk=(n,e,t)=>n.reduce((s,o,c)=>{let d=e[c];if(d&&d.call){let _=d(t),m=_&&_.props&&_.props.className||/^go/.test(_)&&_;d=m?"."+m:_&&typeof _=="object"?_.props?"":vo(_,""):_===!1?"":_}return s+o+(d??"")},"");function xm(n){let e=this||{},t=n.call?n(e.p):n;return Ok(t.unshift?t.raw?Dk(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,Pk(e.target),e.g,e.o,e.k)}let QE,p_,g_;xm.bind({g:1});let wa=xm.bind({k:1});function kk(n,e,t,s){vo.p=e,QE=n,p_=t,g_=s}function jo(n,e){let t=this||{};return function(){let s=arguments;function o(c,d){let _=Object.assign({},c),m=_.className||o.className;t.p=Object.assign({theme:p_&&p_()},_),t.o=/ *go\d+/.test(m),_.className=xm.apply(t,s)+(m?" "+m:"");let v=n;return n[0]&&(v=_.as||n,delete _.as),g_&&v[0]&&g_(_),QE(v,_)}return o}}var jk=n=>typeof n=="function",jf=(n,e)=>jk(n)?n(e):n,Vk=(()=>{let n=0;return()=>(++n).toString()})(),XE=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),zk=20,Ly="default",JE=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(d=>d.id===e.toast.id?{...d,...e.toast}:d)};case 2:let{toast:s}=e;return JE(n,{type:n.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(d=>d.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let c=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+c}))}}},mf=[],eS={toasts:[],pausedAt:void 0,settings:{toastLimit:zk}},wr={},tS=(n,e=Ly)=>{wr[e]=JE(wr[e]||eS,n),mf.forEach(([t,s])=>{t===e&&s(wr[e])})},nS=n=>Object.keys(wr).forEach(e=>tS(n,e)),Uk=n=>Object.keys(wr).find(e=>wr[e].toasts.some(t=>t.id===n)),wm=(n=Ly)=>e=>{tS(e,n)},Bk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Hk=(n={},e=Ly)=>{let[t,s]=H.useState(wr[e]||eS),o=H.useRef(wr[e]);H.useEffect(()=>(o.current!==wr[e]&&s(wr[e]),mf.push([e,s]),()=>{let d=mf.findIndex(([_])=>_===e);d>-1&&mf.splice(d,1)}),[e]);let c=t.toasts.map(d=>{var _,m,v;return{...n,...n[d.type],...d,removeDelay:d.removeDelay||((_=n[d.type])==null?void 0:_.removeDelay)||n?.removeDelay,duration:d.duration||((m=n[d.type])==null?void 0:m.duration)||n?.duration||Bk[d.type],style:{...n.style,...(v=n[d.type])==null?void 0:v.style,...d.style}}});return{...t,toasts:c}},qk=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||Vk()}),Vh=n=>(e,t)=>{let s=qk(e,n,t);return wm(s.toasterId||Uk(s.id))({type:2,toast:s}),s.id},Nn=(n,e)=>Vh("blank")(n,e);Nn.error=Vh("error");Nn.success=Vh("success");Nn.loading=Vh("loading");Nn.custom=Vh("custom");Nn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?wm(e)(t):nS(t)};Nn.dismissAll=n=>Nn.dismiss(void 0,n);Nn.remove=(n,e)=>{let t={type:4,toastId:n};e?wm(e)(t):nS(t)};Nn.removeAll=n=>Nn.remove(void 0,n);Nn.promise=(n,e,t)=>{let s=Nn.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?jf(e.success,o):void 0;return c?Nn.success(c,{id:s,...t,...t?.success}):Nn.dismiss(s),o}).catch(o=>{let c=e.error?jf(e.error,o):void 0;c?Nn.error(c,{id:s,...t,...t?.error}):Nn.dismiss(s)}),n};var Fk=1e3,Gk=(n,e="default")=>{let{toasts:t,pausedAt:s}=Hk(n,e),o=H.useRef(new Map).current,c=H.useCallback((T,N=Fk)=>{if(o.has(T))return;let R=setTimeout(()=>{o.delete(T),d({type:4,toastId:T})},N);o.set(T,R)},[]);H.useEffect(()=>{if(s)return;let T=Date.now(),N=t.map(R=>{if(R.duration===1/0)return;let j=(R.duration||0)+R.pauseDuration-(T-R.createdAt);if(j<0){R.visible&&Nn.dismiss(R.id);return}return setTimeout(()=>Nn.dismiss(R.id,e),j)});return()=>{N.forEach(R=>R&&clearTimeout(R))}},[t,s,e]);let d=H.useCallback(wm(e),[e]),_=H.useCallback(()=>{d({type:5,time:Date.now()})},[d]),m=H.useCallback((T,N)=>{d({type:1,toast:{id:T,height:N}})},[d]),v=H.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),w=H.useCallback((T,N)=>{let{reverseOrder:R=!1,gutter:j=8,defaultPosition:V}=N||{},D=t.filter(Z=>(Z.position||V)===(T.position||V)&&Z.height),O=D.findIndex(Z=>Z.id===T.id),B=D.filter((Z,J)=>J<O&&Z.visible).length;return D.filter(Z=>Z.visible).slice(...R?[B+1]:[0,B]).reduce((Z,J)=>Z+(J.height||0)+j,0)},[t]);return H.useEffect(()=>{t.forEach(T=>{if(T.dismissed)c(T.id,T.removeDelay);else{let N=o.get(T.id);N&&(clearTimeout(N),o.delete(T.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:m,startPause:_,endPause:v,calculateOffset:w}}},Zk=wa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$k=wa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yk=wa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Kk=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$k} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Yk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Wk=wa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Qk=jo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Wk} 1s linear infinite;
`,Xk=wa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Jk=wa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,e4=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Jk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,t4=jo("div")`
  position: absolute;
`,n4=jo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,i4=wa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,s4=jo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${i4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,r4=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?H.createElement(s4,null,e):e:t==="blank"?null:H.createElement(n4,null,H.createElement(Qk,{...s}),t!=="loading"&&H.createElement(t4,null,t==="error"?H.createElement(Kk,{...s}):H.createElement(e4,{...s})))},a4=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,o4=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,l4="0%{opacity:0;} 100%{opacity:1;}",c4="0%{opacity:1;} 100%{opacity:0;}",u4=jo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,h4=jo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,d4=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=XE()?[l4,c4]:[a4(t),o4(t)];return{animation:e?`${wa(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wa(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},f4=H.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?d4(n.position||e||"top-center",n.visible):{opacity:0},c=H.createElement(r4,{toast:n}),d=H.createElement(h4,{...n.ariaProps},jf(n.message,n));return H.createElement(u4,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:c,message:d}):H.createElement(H.Fragment,null,c,d))});kk(H.createElement);var m4=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=H.useCallback(d=>{if(d){let _=()=>{let m=d.getBoundingClientRect().height;s(n,m)};_(),new MutationObserver(_).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return H.createElement("div",{ref:c,className:e,style:t},o)},p4=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:XE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},g4=xm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jd=16,_4=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:d,containerClassName:_})=>{let{toasts:m,handlers:v}=Gk(t,c);return H.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Jd,left:Jd,right:Jd,bottom:Jd,pointerEvents:"none",...d},className:_,onMouseEnter:v.startPause,onMouseLeave:v.endPause},m.map(w=>{let T=w.position||e,N=v.calculateOffset(w,{reverseOrder:n,gutter:s,defaultPosition:e}),R=p4(T,N);return H.createElement(m4,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?g4:"",style:R},w.type==="custom"?jf(w.message,w):o?o(w):H.createElement(f4,{toast:w,position:T}))}))},Ze=Nn;const iS=H.createContext();function Vo(){return H.useContext(iS)}function y4({children:n}){const[e,t]=H.useState(null),[s,o]=H.useState(null),[c,d]=H.useState(!0),_=async(V,D,O="cliente",B="",Z="")=>{try{const J=await vI(Tl,V,D);return await wI(J.user,{displayName:B}),await Rg(Tn(nt,"users",J.user.uid),{email:V,role:O,displayName:B,phoneNumber:Z,createdAt:new Date}),J}catch(J){throw console.error("Signup error",J),R(J)}},m=(V,D)=>bI(Tl,V,D).catch(O=>{throw R(O)}),v=async(V="cliente")=>{try{const D=await _x(Tl,Nk);return(await Uc(Tn(nt,"users",D.user.uid))).exists()||await Rg(Tn(nt,"users",D.user.uid),{email:D.user.email,displayName:D.user.displayName,phoneNumber:D.user.phoneNumber||"",role:V,createdAt:new Date}),D}catch(D){throw R(D)}},w=async(V="cliente")=>{try{const D=await _x(Tl,Rk);return(await Uc(Tn(nt,"users",D.user.uid))).exists()||await Rg(Tn(nt,"users",D.user.uid),{email:D.user.email,displayName:D.user.displayName,phoneNumber:D.user.phoneNumber||"",role:V,createdAt:new Date}),D}catch(D){throw R(D)}},T=()=>AI(Tl),N=V=>yI(Tl,V).catch(D=>{throw R(D)}),R=V=>{let D="Ocurri un error inesperado. Por favor intenta de nuevo.";return V.code==="auth/email-already-in-use"&&(D="Este correo ya est registrado."),V.code==="auth/invalid-email"&&(D="El correo no es vlido."),V.code==="auth/user-not-found"&&(D="No encontramos una cuenta con este correo."),V.code==="auth/wrong-password"&&(D="La contrasea es incorrecta."),V.code==="auth/weak-password"&&(D="La contrasea debe tener al menos 6 caracteres."),new Error(D)};H.useEffect(()=>SI(Tl,async D=>{if(t(D),D){const O=await Uc(Tn(nt,"users",D.uid));O.exists()&&o(O.data())}else o(null);d(!1)}),[]);const j={user:e,userData:s,signup:_,login:m,loginWithGoogle:v,loginWithApple:w,logout:T,resetPassword:N};return y.jsxs(iS.Provider,{value:j,children:[!c&&n,y.jsx(_4,{position:"top-center"})]})}const Mg=({children:n,allowedRoles:e})=>{const{user:t,userData:s,loading:o}=Vo();return o?y.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?e&&s&&!e.includes(s.role)?s.role==="agente"?y.jsx(pg,{to:"/agent-dashboard"}):y.jsx(pg,{to:"/client-dashboard"}):n:y.jsx(pg,{to:"/login"})};const sS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const v4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const b4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const Lw=n=>{const e=b4(n);return e.charAt(0).toUpperCase()+e.slice(1)};var x4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const w4=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const T4=H.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,..._},m)=>H.createElement("svg",{ref:m,...x4,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:sS("lucide",o),...!c&&!w4(_)&&{"aria-hidden":"true"},..._},[...d.map(([v,w])=>H.createElement(v,w)),...Array.isArray(c)?c:[c]]));const mt=(n,e)=>{const t=H.forwardRef(({className:s,...o},c)=>H.createElement(T4,{ref:c,iconNode:e,className:sS(`lucide-${v4(Lw(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Lw(n),t};const E4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],S4=mt("arrow-right",E4);const A4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],C4=mt("briefcase",A4);const N4=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],R4=mt("building",N4);const I4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],P4=mt("circle-user",I4);const M4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],L4=mt("copy",M4);const O4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vf=mt("eye",O4);const D4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],k4=mt("facebook",D4);const j4=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],V4=mt("heart-handshake",j4);const z4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],zf=mt("heart",z4);const U4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],rS=mt("house",U4);const B4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],H4=mt("instagram",B4);const q4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Uf=mt("key",q4);const F4=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],G4=mt("lightbulb",F4);const Z4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],$4=mt("linkedin",Z4);const Y4=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],K4=mt("list-filter",Y4);const W4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bf=mt("loader-circle",W4);const Q4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],X4=mt("lock",Q4);const J4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],aS=mt("mail",J4);const e5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pa=mt("map-pin",e5);const t5=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],n5=mt("message-circle",t5);const i5=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],s5=mt("mountain",i5);const r5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oS=mt("phone",r5);const a5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Lg=mt("refresh-cw",a5);const o5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tm=mt("search",o5);const l5=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],c5=mt("share",l5);const u5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],h5=mt("shield-check",u5);const d5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],f5=mt("target",d5);const m5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],p5=mt("trash-2",m5);const g5=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],_5=mt("tree-palm",g5);const y5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],v5=mt("upload",y5);const b5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],x5=mt("user",b5);const w5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lS=mt("users",w5);const T5=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],E5=mt("warehouse",T5);const S5=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],A5=mt("waves",S5);const C5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wh=mt("x",C5),N5=({property:n})=>{const[t,s]=H.useState(0),[o,c]=H.useState(!1),d=n.currency||"USD",_=typeof n.price=="number"?n.price:parseFloat(n.price);let m,v;d==="USD"?(m=_,v=_*3.75):(v=_,m=_/3.75);const w=(N,R)=>N?N.toLocaleString("en-US",{style:"currency",currency:R,maximumFractionDigits:0}):"0";H.useEffect(()=>{let N;return o&&n.images&&n.images.length>1?N=setInterval(()=>{s(R=>(R+1)%n.images.length)},1e3):s(0),()=>clearInterval(N)},[o,n.images]);const T=n.images?.[t]||n.images?.[0]||"https://via.placeholder.com/400x300?text=No+Image";return y.jsxs(pn,{to:`/properties/${n.id}`,className:"group block relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[y.jsxs("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[y.jsx("img",{src:T,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),n.isPromoted&&y.jsx("div",{className:"absolute top-3 left-3 bg-[#fc7f51] text-white px-2 py-1 rounded-md text-xs font-bold shadow-md z-10",children:"DESTACADO"}),y.jsx("button",{className:"absolute top-3 right-3 text-white/70 hover:scale-110 transition z-10",children:y.jsx(zf,{className:"w-6 h-6 fill-black/50 text-white stroke-[2px]"})}),y.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 backdrop-blur-md px-3 py-1 rounded-lg text-white text-xs font-bold uppercase",children:n.type})]}),y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("h3",{className:"font-semibold text-gray-500 truncate pr-2 text-xs uppercase tracking-wide",children:n.location||n.address}),y.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",title:"Vistas",children:[y.jsx(Vf,{className:"w-3 h-3 text-[#fc7f51]"}),y.jsx("span",{className:"text-xs font-bold text-gray-700",children:n.views||0})]})]}),y.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Agente: ",n.agentName||"Inmuvete"]}),y.jsx("p",{className:"text-gray-800 text-sm font-semibold mb-1 line-clamp-1",children:n.title}),y.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[y.jsx("span",{className:"font-bold text-[#fc7f51] text-lg",children:w(m,"USD")}),y.jsx("span",{className:"text-xs text-gray-400 font-medium",children:w(v,"PEN")})]})]})},R5=[{icon:R4,label:"Departamentos"},{icon:E5,label:"Casas"},{icon:_5,label:"Terrenos"},{icon:s5,label:"Campestres"},{icon:A5,label:"Playa"}],I5=()=>{const[n,e]=H.useState("venta"),[t,s]=H.useState(""),[o,c]=H.useState("departamento"),[d,_]=H.useState("USD"),[m,v]=H.useState(""),[w,T]=H.useState(""),[N,R]=H.useState(!1),[j,V]=H.useState(!1),[D,O]=H.useState({location:"",footage:"",price:""}),B=()=>{const Q=`Hola, quiero vender mi propiedad.

 Ubicacin: ${D.location}
 Metraje: ${D.footage} m
 Precio Estimado: $${D.price}

Solicito ms informacin.`,Ae=`https://wa.me/51999999999?text=${encodeURIComponent(Q)}`;window.open(Ae,"_blank"),V(!1),O({location:"",footage:"",price:""})},Z=["Lima","Arequipa","Cusco","Trujillo","Piura","Ica","Tacna"],[J,ee]=H.useState([]),[me,z]=H.useState(!1),I=Q=>{const Ae=Q.target.value;if(s(Ae),Ae.length>0){const we=Z.filter(Y=>Y.toLowerCase().includes(Ae.toLowerCase()));ee(we),z(!0)}else z(!1)},F=Q=>{s(Q),z(!1)},[G,U]=H.useState([]),[$,q]=H.useState(!0);H.useEffect(()=>{q(!0);const Q=Ks(Un(nt,"properties")),Ae=hD(Q,we=>{const Y=we.docs.map(ue=>({id:ue.id,...ue.data()}));Y.sort((ue,xe)=>{if(ue.isPromoted&&!xe.isPromoted)return-1;if(!ue.isPromoted&&xe.isPromoted)return 1;const Ee=ue.createdAt?.seconds||0;return(xe.createdAt?.seconds||0)-Ee}),U(Y),q(!1)},we=>{console.error("Error fetching properties:",we),q(!1)});return()=>Ae()},[]);const[pe,Le]=H.useState([]),[ae,Te]=H.useState(!0);return H.useEffect(()=>{(async()=>{try{const Ae=Ks(Un(nt,"tips"),limit(3)),Y=(await ua(Ae)).docs.map(ue=>({id:ue.id,...ue.data()}));Y.sort((ue,xe)=>(xe.createdAt?.seconds||0)-(ue.createdAt?.seconds||0)),Le(Y)}catch(Ae){console.error("Error fetching tips:",Ae)}finally{Te(!1)}})()},[]),y.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[y.jsxs("div",{className:"relative h-[85vh] min-h-[700px] flex items-center pt-20",children:[y.jsxs("div",{className:"absolute inset-0 z-0",children:[y.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",alt:"Hero",className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/20"})]}),y.jsxs("div",{className:"relative z-10 container mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center",children:[y.jsxs("div",{className:"lg:col-span-5 bg-white rounded-3xl shadow-2xl overflow-hidden animate-fadeIn",children:[y.jsxs("div",{className:"p-8 pb-4 bg-[#262626] text-white",children:[y.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Encuentra tu prximo hogar"}),y.jsx("p",{className:"text-gray-300 text-sm",children:"Explora propiedades nicas para vivir o invertir."})]}),y.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[y.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["venta","alquiler","anticresis"].map(Q=>y.jsx("button",{onClick:()=>e(Q),className:`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${n===Q?"bg-white text-[#fc7f51] shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700"}`,children:Q},Q))}),y.jsxs("div",{className:"relative",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"En dnde buscas?"}),y.jsxs("div",{className:"relative",children:[y.jsx(pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),y.jsx("input",{type:"text",value:t,onChange:I,onFocus:()=>t&&z(!0),placeholder:"Ciudad, distrito o zona...",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"}),me&&J.length>0&&y.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:J.map(Q=>y.jsxs("div",{onClick:()=>F(Q),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-2 text-gray-700 font-medium",children:[y.jsx(pa,{className:"w-4 h-4 text-[#fc7f51]"}),Q]},Q))})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo de Inmueble"}),y.jsxs("div",{className:"relative",children:[y.jsx(rS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),y.jsxs("select",{value:o,onChange:Q=>c(Q.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none appearance-none font-medium cursor-pointer",children:[y.jsx("option",{value:"departamento",children:"Departamento"}),y.jsx("option",{value:"casa",children:"Casa"}),y.jsx("option",{value:"terreno",children:"Terreno"}),y.jsx("option",{value:"oficina",children:"Oficina"}),y.jsx("option",{value:"local",children:"Local Comercial"}),y.jsx("option",{value:"otro",children:"Otro"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),y.jsx("div",{className:"relative",children:y.jsxs("div",{className:"flex bg-gray-50 rounded-xl border border-gray-200 p-1 h-[58px] items-center",children:[y.jsx("button",{onClick:()=>_("USD"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${d==="USD"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"$ USD"}),y.jsx("button",{onClick:()=>_("PEN"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${d==="PEN"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"S/ PEN"})]})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Rango de Precio"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("input",{type:"number",placeholder:"Mnimo",value:m,onChange:Q=>v(Q.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"}),y.jsx("input",{type:"number",placeholder:"Mximo",value:w,onChange:Q=>T(Q.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"})]})]}),y.jsxs("button",{onClick:()=>R(!N),className:"flex items-center gap-2 text-[#fc7f51] font-bold text-sm hover:underline",children:[y.jsx(K4,{className:"w-4 h-4"}),N?"Menos filtros":"Ms filtros (Habitaciones, Baos, rea...)"]}),N&&y.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fadeIn",children:[y.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),y.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[y.jsx("option",{value:"",children:"Cualquiera"}),y.jsx("option",{value:"1",children:"1+"}),y.jsx("option",{value:"2",children:"2+"}),y.jsx("option",{value:"3",children:"3+"}),y.jsx("option",{value:"4",children:"4+"})]})]}),y.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),y.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[y.jsx("option",{value:"",children:"Cualquiera"}),y.jsx("option",{value:"1",children:"1+"}),y.jsx("option",{value:"2",children:"2+"}),y.jsx("option",{value:"3",children:"3+"})]})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"rea Mnima (m)"}),y.jsx("input",{type:"number",placeholder:"Ej: 80",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none"})]})]}),y.jsxs("button",{className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2",children:[y.jsx(Tm,{className:"w-6 h-6"}),"BUSCAR PROPIEDADES"]})]})]}),y.jsx("div",{className:"hidden lg:block lg:col-span-7",children:y.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[y.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-[#fc7f51] transform hover:-translate-x-2 transition cursor-pointer",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:y.jsx(C4,{className:"w-6 h-6 text-[#fc7f51]"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Eres Propietario?"}),y.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros y vndela ms rpido."})]})]}),y.jsx(pn,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),y.jsx("button",{onClick:()=>V(!0),className:"block w-full text-left bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-blue-500 transform hover:-translate-x-2 transition cursor-pointer delay-100",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:y.jsx(Uf,{className:"w-6 h-6 text-blue-500"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Vendes tu Propiedad?"}),y.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos para vender rpido y seguro al mejor precio."})]})]})})]})})]})]}),j&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden animate-fadeIn",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[y.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Vende con nosotros"}),y.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:y.jsx(wh,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ingresa los datos de tu propiedad para enviarlos a un agente."}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin / Distrito"}),y.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: Miraflores, Lima",value:D.location,onChange:Q=>O({...D,location:Q.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metraje Aprox. (m)"}),y.jsx("input",{type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 120",value:D.footage,onChange:Q=>O({...D,footage:Q.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto Estimado de Venta"}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),y.jsx("input",{type:"number",className:"w-full pl-8 pr-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 150000",value:D.price,onChange:Q=>O({...D,price:Q.target.value})})]})]}),y.jsxs("button",{onClick:B,disabled:!D.location||!D.footage||!D.price,className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3 rounded-lg shadow-lg hover:shadow-green-500/30 transition flex items-center justify-center gap-2 mt-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[y.jsx(Uf,{className:"w-5 h-5"}),"Enviar por WhatsApp"]})]})]})}),y.jsx("div",{className:"bg-gray-50 py-10 border-b border-gray-200",children:y.jsx("div",{className:"container mx-auto px-6",children:y.jsx("div",{className:"flex gap-4 md:gap-12 overflow-x-auto no-scrollbar items-center justify-start md:justify-center py-2",children:R5.map((Q,Ae)=>y.jsxs("div",{className:"flex flex-col items-center gap-3 min-w-[100px] cursor-pointer group opacity-60 hover:opacity-100 transition-all duration-300 hover:-translate-y-1",children:[y.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-md border border-gray-100 group-hover:border-[#fc7f51]/30 transition",children:y.jsx(Q.icon,{className:"w-7 h-7 text-[#262626] group-hover:text-[#fc7f51] transition",strokeWidth:1.5})}),y.jsx("span",{className:"text-sm font-semibold text-[#262626] group-hover:text-[#fc7f51] whitespace-nowrap transition",children:Q.label})]},Ae))})})}),y.jsxs("main",{id:"properties",className:"container mx-auto px-6 py-20",children:[y.jsxs("div",{className:"flex justify-between items-end mb-12",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Oportunidades"}),y.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Propiedades Destacadas"})]}),y.jsxs(pn,{to:"/properties",className:"hidden md:flex items-center gap-2 text-[#262626] font-semibold hover:text-[#fc7f51] transition group",children:["Ver todo ",y.jsx(S4,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:$?y.jsxs("div",{className:"col-span-full py-20 text-center",children:[y.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"}),y.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando propiedades..."})]}):G.length===0?y.jsx("div",{className:"col-span-full py-20 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:y.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propiedades disponibles en este momento."})}):G.filter(Q=>{if(n&&Q.type!==n)return!1;if(o){if(o==="terreno"){if(Q.category!=="terreno")return!1}else if(o!=="otro"&&Q.category==="terreno")return!1}if(t&&!Q.location?.toLowerCase().includes(t.toLowerCase())&&!Q.address?.toLowerCase().includes(t.toLowerCase()))return!1;const Ae=parseFloat(Q.price);return!(m&&Ae<parseFloat(m)||w&&Ae>parseFloat(w)||d&&Q.currency!==d)}).sort((Q,Ae)=>(Ae.isExclusive===!0?1:0)-(Q.isExclusive===!0?1:0)).map(Q=>y.jsx(N5,{property:Q},Q.id))}),y.jsx("div",{className:"mt-12 text-center md:hidden",children:y.jsx("button",{className:"bg-white border border-gray-300 text-[#262626] px-8 py-3 rounded-full font-bold shadow-sm hover:bg-gray-50 transition",children:"Ver todas las propiedades"})})]}),y.jsx("section",{className:"bg-gray-50 py-20 border-t border-gray-200",children:y.jsxs("div",{className:"container mx-auto px-6",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Consejos de Expertos"}),y.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Tips Inmobiliarios"})]}),ae?y.jsx("div",{className:"flex justify-center",children:y.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})}):pe.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:pe.map(Q=>y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center mb-6 text-[#fc7f51] group-hover:bg-[#fc7f51] group-hover:text-white transition",children:y.jsx(G4,{className:"w-6 h-6"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-[#fc7f51] transition",children:Q.title}),y.jsx("p",{className:"text-gray-600 leading-relaxed text-sm mb-4 line-clamp-4",children:Q.content}),y.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["Por ",Q.agentName||"Agente","  ",Q.createdAt?.seconds?new Date(Q.createdAt.seconds*1e3).toLocaleDateString():"Reciente"]})]},Q.id))}):y.jsx("div",{className:"text-center text-gray-500",children:"Pronto publicaremos consejos tiles para ti."})]})}),y.jsxs("section",{className:"py-24 bg-[#16151a] text-white relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#fc7f51] rounded-full opacity-10 blur-[100px] translate-x-1/3 -translate-y-1/3"}),y.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[y.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Listo para dar el siguiente paso?"}),y.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-2xl mx-auto",children:"Ya sea que busques comprar, vender o invertir, en Inmuvete tenemos el equipo y la experiencia para hacerlo posible."}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[y.jsx(pn,{to:"/contact",className:"bg-[#fc7f51] text-white px-8 py-4 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg hover:shadow-orange-500/20",children:"Contctanos Ahora"}),y.jsx(pn,{to:"/about",className:"bg-transparent border border-gray-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-[#262626] hover:border-white transition",children:"Conoce Ms"})]})]})]})]})};function Ow(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Oy(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Ow(e[s])&&Ow(n[s])&&Object.keys(e[s]).length>0&&Oy(n[s],e[s])})}const cS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ql(){const n=typeof document<"u"?document:{};return Oy(n,cS),n}const P5={document:cS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function pi(){const n=typeof window<"u"?window:{};return Oy(n,P5),n}function M5(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function L5(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function uS(n,e=0){return setTimeout(n,e)}function Hf(){return Date.now()}function O5(n){const e=pi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function D5(n,e="x"){const t=pi();let s,o,c;const d=O5(n);return t.WebKitCSSMatrix?(o=d.transform||d.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(_=>_.replace(",",".")).join(", ")),c=new t.WebKitCSSMatrix(o==="none"?"":o)):(c=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=c.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?o=c.m41:s.length===16?o=parseFloat(s[12]):o=parseFloat(s[4])),e==="y"&&(t.WebKitCSSMatrix?o=c.m42:s.length===16?o=parseFloat(s[13]):o=parseFloat(s[5])),o||0}function ef(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function k5(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ns(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<n.length;s+=1){const o=n[s];if(o!=null&&!k5(o)){const c=Object.keys(Object(o)).filter(d=>t.indexOf(d)<0);for(let d=0,_=c.length;d<_;d+=1){const m=c[d],v=Object.getOwnPropertyDescriptor(o,m);v!==void 0&&v.enumerable&&(ef(e[m])&&ef(o[m])?o[m].__swiper__?e[m]=o[m]:ns(e[m],o[m]):!ef(e[m])&&ef(o[m])?(e[m]={},o[m].__swiper__?e[m]=o[m]:ns(e[m],o[m])):e[m]=o[m])}}}return e}function Pc(n,e,t){n.style.setProperty(e,t)}function hS({swiper:n,targetPosition:e,side:t}){const s=pi(),o=-n.translate;let c=null,d;const _=n.params.speed;n.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(n.cssModeFrameID);const m=e>o?"next":"prev",v=(T,N)=>m==="next"&&T>=N||m==="prev"&&T<=N,w=()=>{d=new Date().getTime(),c===null&&(c=d);const T=Math.max(Math.min((d-c)/_,1),0),N=.5-Math.cos(T*Math.PI)/2;let R=o+N*(e-o);if(v(R,e)&&(R=e),n.wrapperEl.scrollTo({[t]:R}),v(R,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:R})}),s.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=s.requestAnimationFrame(w)};w()}function Tr(n,e=""){const t=pi(),s=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&s.push(...n.assignedElements()),e?s.filter(o=>o.matches(e)):s}function j5(n,e){const t=[e];for(;t.length>0;){const s=t.shift();if(n===s)return!0;t.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function V5(n,e){const t=pi();let s=e.contains(n);return!s&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(n),s||(s=j5(n,e))),s}function qf(n){try{console.warn(n);return}catch{}}function Ff(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:M5(e)),t}function z5(n,e){const t=[];for(;n.previousElementSibling;){const s=n.previousElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function U5(n,e){const t=[];for(;n.nextElementSibling;){const s=n.nextElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function xo(n,e){return pi().getComputedStyle(n,null).getPropertyValue(e)}function Gf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function dS(n,e){const t=[];let s=n.parentElement;for(;s;)e?s.matches(e)&&t.push(s):t.push(s),s=s.parentElement;return t}function __(n,e,t){const s=pi();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function zn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Th(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Og;function B5(){const n=pi(),e=ql();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function fS(){return Og||(Og=B5()),Og}let Dg;function H5({userAgent:n}={}){const e=fS(),t=pi(),s=t.navigator.platform,o=n||t.navigator.userAgent,c={ios:!1,android:!1},d=t.screen.width,_=t.screen.height,m=o.match(/(Android);?[\s\/]+([\d.]+)?/);let v=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const w=o.match(/(iPod)(.*OS\s([\d_]+))?/),T=!v&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),N=s==="Win32";let R=s==="MacIntel";const j=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&R&&e.touch&&j.indexOf(`${d}x${_}`)>=0&&(v=o.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),R=!1),m&&!N&&(c.os="android",c.android=!0),(v||T||w)&&(c.os="ios",c.ios=!0),c}function mS(n={}){return Dg||(Dg=H5(n)),Dg}let kg;function q5(){const n=pi(),e=mS();let t=!1;function s(){const _=n.navigator.userAgent.toLowerCase();return _.indexOf("safari")>=0&&_.indexOf("chrome")<0&&_.indexOf("android")<0}if(s()){const _=String(n.navigator.userAgent);if(_.includes("Version/")){const[m,v]=_.split("Version/")[1].split(" ")[0].split(".").map(w=>Number(w));t=m<16||m===16&&v<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),c=s(),d=c||o&&e.ios;return{isSafari:t||c,needPerspectiveFix:t,need3dFix:d,isWebView:o}}function pS(){return kg||(kg=q5()),kg}function F5({swiper:n,on:e,emit:t}){const s=pi();let o=null,c=null;const d=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},_=()=>{!n||n.destroyed||!n.initialized||(o=new ResizeObserver(w=>{c=s.requestAnimationFrame(()=>{const{width:T,height:N}=n;let R=T,j=N;w.forEach(({contentBoxSize:V,contentRect:D,target:O})=>{O&&O!==n.el||(R=D?D.width:(V[0]||V).inlineSize,j=D?D.height:(V[0]||V).blockSize)}),(R!==T||j!==N)&&d()})}),o.observe(n.el))},m=()=>{c&&s.cancelAnimationFrame(c),o&&o.unobserve&&n.el&&(o.unobserve(n.el),o=null)},v=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof s.ResizeObserver<"u"){_();return}s.addEventListener("resize",d),s.addEventListener("orientationchange",v)}),e("destroy",()=>{m(),s.removeEventListener("resize",d),s.removeEventListener("orientationchange",v)})}function G5({swiper:n,extendParams:e,on:t,emit:s}){const o=[],c=pi(),d=(v,w={})=>{const T=c.MutationObserver||c.WebkitMutationObserver,N=new T(R=>{if(n.__preventObserver__)return;if(R.length===1){s("observerUpdate",R[0]);return}const j=function(){s("observerUpdate",R[0])};c.requestAnimationFrame?c.requestAnimationFrame(j):c.setTimeout(j,0)});N.observe(v,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:n.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),o.push(N)},_=()=>{if(n.params.observer){if(n.params.observeParents){const v=dS(n.hostEl);for(let w=0;w<v.length;w+=1)d(v[w])}d(n.hostEl,{childList:n.params.observeSlideChildren}),d(n.wrapperEl,{attributes:!1})}},m=()=>{o.forEach(v=>{v.disconnect()}),o.splice(0,o.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",_),t("destroy",m)}var Z5={on(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const o=t?"unshift":"push";return n.split(" ").forEach(c=>{s.eventsListeners[c]||(s.eventsListeners[c]=[]),s.eventsListeners[c][o](e)}),s},once(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function o(...c){s.off(n,o),o.__emitterProxy&&delete o.__emitterProxy,e.apply(s,c)}return o.__emitterProxy=e,s.on(n,o,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const s=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[s](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(s=>{typeof e>"u"?t.eventsListeners[s]=[]:t.eventsListeners[s]&&t.eventsListeners[s].forEach((o,c)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&t.eventsListeners[s].splice(c,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,s,o;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],s=n.slice(1,n.length),o=e):(t=n[0].events,s=n[0].data,o=n[0].context||e),s.unshift(o),(Array.isArray(t)?t:t.split(" ")).forEach(d=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(_=>{_.apply(o,[d,...s])}),e.eventsListeners&&e.eventsListeners[d]&&e.eventsListeners[d].forEach(_=>{_.apply(o,s)})}),e}};function $5(){const n=this;let e,t;const s=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=s.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=s.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(xo(s,"padding-left")||0,10)-parseInt(xo(s,"padding-right")||0,10),t=t-parseInt(xo(s,"padding-top")||0,10)-parseInt(xo(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function Y5(){const n=this;function e(G,U){return parseFloat(G.getPropertyValue(n.getDirectionLabel(U))||0)}const t=n.params,{wrapperEl:s,slidesEl:o,rtlTranslate:c,wrongRTL:d}=n,_=n.virtual&&t.virtual.enabled,m=_?n.virtual.slides.length:n.slides.length,v=Tr(o,`.${n.params.slideClass}, swiper-slide`),w=_?n.virtual.slides.length:v.length;let T=[];const N=[],R=[];let j=t.slidesOffsetBefore;typeof j=="function"&&(j=t.slidesOffsetBefore.call(n));let V=t.slidesOffsetAfter;typeof V=="function"&&(V=t.slidesOffsetAfter.call(n));const D=n.snapGrid.length,O=n.slidesGrid.length,B=n.size-j-V;let Z=t.spaceBetween,J=-j,ee=0,me=0;if(typeof B>"u")return;typeof Z=="string"&&Z.indexOf("%")>=0?Z=parseFloat(Z.replace("%",""))/100*B:typeof Z=="string"&&(Z=parseFloat(Z)),n.virtualSize=-Z-j-V,v.forEach(G=>{c?G.style.marginLeft="":G.style.marginRight="",G.style.marginBottom="",G.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Pc(s,"--swiper-centered-offset-before",""),Pc(s,"--swiper-centered-offset-after","")),t.cssMode&&(Pc(s,"--swiper-slides-offset-before",`${j}px`),Pc(s,"--swiper-slides-offset-after",`${V}px`));const z=t.grid&&t.grid.rows>1&&n.grid;z?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let I;const F=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(G=>typeof t.breakpoints[G].slidesPerView<"u").length>0;for(let G=0;G<w;G+=1){I=0;const U=v[G];if(!(U&&(z&&n.grid.updateSlide(G,U,v),xo(U,"display")==="none"))){if(_&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(I=t.virtual.slidesPerViewAutoSlideSize),I&&U&&(t.roundLengths&&(I=Math.floor(I)),U.style[n.getDirectionLabel("width")]=`${I}px`);else if(t.slidesPerView==="auto"){F&&(U.style[n.getDirectionLabel("width")]="");const $=getComputedStyle(U),q=U.style.transform,pe=U.style.webkitTransform;if(q&&(U.style.transform="none"),pe&&(U.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?__(U,"width"):__(U,"height");else{const Le=e($,"width"),ae=e($,"padding-left"),Te=e($,"padding-right"),Q=e($,"margin-left"),Ae=e($,"margin-right"),we=$.getPropertyValue("box-sizing");if(we&&we==="border-box")I=Le+Q+Ae;else{const{clientWidth:Y,offsetWidth:ue}=U;I=Le+ae+Te+Q+Ae+(ue-Y)}}q&&(U.style.transform=q),pe&&(U.style.webkitTransform=pe),t.roundLengths&&(I=Math.floor(I))}else I=(B-(t.slidesPerView-1)*Z)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),U&&(U.style[n.getDirectionLabel("width")]=`${I}px`);U&&(U.swiperSlideSize=I),R.push(I),t.centeredSlides?(J=J+I/2+ee/2+Z,ee===0&&G!==0&&(J=J-B/2-Z),G===0&&(J=J-B/2-Z),Math.abs(J)<1/1e3&&(J=0),t.roundLengths&&(J=Math.floor(J)),me%t.slidesPerGroup===0&&T.push(J),N.push(J)):(t.roundLengths&&(J=Math.floor(J)),(me-Math.min(n.params.slidesPerGroupSkip,me))%n.params.slidesPerGroup===0&&T.push(J),N.push(J),J=J+I+Z),n.virtualSize+=I+Z,ee=I,me+=1}}if(n.virtualSize=Math.max(n.virtualSize,B)+V,c&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(s.style.width=`${n.virtualSize+Z}px`),t.setWrapperSize&&(s.style[n.getDirectionLabel("width")]=`${n.virtualSize+Z}px`),z&&n.grid.updateWrapperSize(I,T),!t.centeredSlides){const G=t.slidesPerView!=="auto"&&t.slidesPerView%1!==0,U=t.snapToSlideEdge&&!t.loop&&(t.slidesPerView==="auto"||G);let $=T.length;if(U){let pe;if(t.slidesPerView==="auto"){pe=1;let Le=0;for(let ae=R.length-1;ae>=0&&(Le+=R[ae]+(ae<R.length-1?Z:0),Le<=B);ae-=1)pe=R.length-ae}else pe=Math.floor(t.slidesPerView);$=Math.max(w-pe,0)}const q=[];for(let pe=0;pe<T.length;pe+=1){let Le=T[pe];t.roundLengths&&(Le=Math.floor(Le)),U?pe<=$&&q.push(Le):T[pe]<=n.virtualSize-B&&q.push(Le)}T=q,Math.floor(n.virtualSize-B)-Math.floor(T[T.length-1])>1&&(U||T.push(n.virtualSize-B))}if(_&&t.loop){const G=R[0]+Z;if(t.slidesPerGroup>1){const U=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),$=G*t.slidesPerGroup;for(let q=0;q<U;q+=1)T.push(T[T.length-1]+$)}for(let U=0;U<n.virtual.slidesBefore+n.virtual.slidesAfter;U+=1)t.slidesPerGroup===1&&T.push(T[T.length-1]+G),N.push(N[N.length-1]+G),n.virtualSize+=G}if(T.length===0&&(T=[0]),Z!==0){const G=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");v.filter((U,$)=>!t.cssMode||t.loop?!0:$!==v.length-1).forEach(U=>{U.style[G]=`${Z}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let G=0;R.forEach($=>{G+=$+(Z||0)}),G-=Z;const U=G>B?G-B:0;T=T.map($=>$<=0?-j:$>U?U+V:$)}if(t.centerInsufficientSlides){let G=0;R.forEach($=>{G+=$+(Z||0)}),G-=Z;const U=(j||0)+(V||0);if(G+U<B){const $=(B-G-U)/2;T.forEach((q,pe)=>{T[pe]=q-$}),N.forEach((q,pe)=>{N[pe]=q+$})}}if(Object.assign(n,{slides:v,snapGrid:T,slidesGrid:N,slidesSizesGrid:R}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Pc(s,"--swiper-centered-offset-before",`${-T[0]}px`),Pc(s,"--swiper-centered-offset-after",`${n.size/2-R[R.length-1]/2}px`);const G=-n.snapGrid[0],U=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map($=>$+G),n.slidesGrid=n.slidesGrid.map($=>$+U)}if(w!==m&&n.emit("slidesLengthChange"),T.length!==D&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),N.length!==O&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!_&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const G=`${t.containerModifierClass}backface-hidden`,U=n.el.classList.contains(G);w<=t.maxBackfaceHiddenSlides?U||n.el.classList.add(G):U&&n.el.classList.remove(G)}}function K5(n){const e=this,t=[],s=e.virtual&&e.params.virtual.enabled;let o=0,c;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const d=_=>s?e.slides[e.getSlideIndexByData(_)]:e.slides[_];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(_=>{t.push(_)});else for(c=0;c<Math.ceil(e.params.slidesPerView);c+=1){const _=e.activeIndex+c;if(_>e.slides.length&&!s)break;t.push(d(_))}else t.push(d(e.activeIndex));for(c=0;c<t.length;c+=1)if(typeof t[c]<"u"){const _=t[c].offsetHeight;o=_>o?_:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function W5(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(n.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-t-n.cssOverflowAdjustment()}const Dw=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Q5(n=this&&this.translate||0){const e=this,t=e.params,{slides:s,rtlTranslate:o,snapGrid:c}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let d=-n;o&&(d=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let _=t.spaceBetween;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*e.size:typeof _=="string"&&(_=parseFloat(_));for(let m=0;m<s.length;m+=1){const v=s[m];let w=v.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(w-=s[0].swiperSlideOffset);const T=(d+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),N=(d-c[0]+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),R=-(d-w),j=R+e.slidesSizesGrid[m],V=R>=0&&R<=e.size-e.slidesSizesGrid[m],D=R>=0&&R<e.size-1||j>1&&j<=e.size||R<=0&&j>=e.size;D&&(e.visibleSlides.push(v),e.visibleSlidesIndexes.push(m)),Dw(v,D,t.slideVisibleClass),Dw(v,V,t.slideFullyVisibleClass),v.progress=o?-T:T,v.originalProgress=o?-N:N}}function X5(n){const e=this;if(typeof n>"u"){const w=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*w||0}const t=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:c,isEnd:d,progressLoop:_}=e;const m=c,v=d;if(s===0)o=0,c=!0,d=!0;else{o=(n-e.minTranslate())/s;const w=Math.abs(n-e.minTranslate())<1,T=Math.abs(n-e.maxTranslate())<1;c=w||o<=0,d=T||o>=1,w&&(o=0),T&&(o=1)}if(t.loop){const w=e.getSlideIndexByData(0),T=e.getSlideIndexByData(e.slides.length-1),N=e.slidesGrid[w],R=e.slidesGrid[T],j=e.slidesGrid[e.slidesGrid.length-1],V=Math.abs(n);V>=N?_=(V-N)/j:_=(V+j-R)/j,_>1&&(_-=1)}Object.assign(e,{progress:o,progressLoop:_,isBeginning:c,isEnd:d}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),c&&!m&&e.emit("reachBeginning toEdge"),d&&!v&&e.emit("reachEnd toEdge"),(m&&!c||v&&!d)&&e.emit("fromEdge"),e.emit("progress",o)}const jg=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function J5(){const n=this,{slides:e,params:t,slidesEl:s,activeIndex:o}=n,c=n.virtual&&t.virtual.enabled,d=n.grid&&t.grid&&t.grid.rows>1,_=T=>Tr(s,`.${t.slideClass}${T}, swiper-slide${T}`)[0];let m,v,w;if(c)if(t.loop){let T=o-n.virtual.slidesBefore;T<0&&(T=n.virtual.slides.length+T),T>=n.virtual.slides.length&&(T-=n.virtual.slides.length),m=_(`[data-swiper-slide-index="${T}"]`)}else m=_(`[data-swiper-slide-index="${o}"]`);else d?(m=e.find(T=>T.column===o),w=e.find(T=>T.column===o+1),v=e.find(T=>T.column===o-1)):m=e[o];m&&(d||(w=U5(m,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!w&&(w=e[0]),v=z5(m,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v===0&&(v=e[e.length-1]))),e.forEach(T=>{jg(T,T===m,t.slideActiveClass),jg(T,T===w,t.slideNextClass),jg(T,T===v,t.slidePrevClass)}),n.emitSlidesClasses()}const pf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,s=e.closest(t());if(s){let o=s.querySelector(`.${n.params.lazyPreloaderClass}`);!o&&n.isElement&&(s.shadowRoot?o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),o&&!o.lazyPreloaderManaged&&o.remove())})),o&&!o.lazyPreloaderManaged&&o.remove()}},Vg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},y_=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const s=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),o=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const d=o,_=[d-e];_.push(...Array.from({length:e}).map((m,v)=>d+s+v)),n.slides.forEach((m,v)=>{_.includes(m.column)&&Vg(n,v)});return}const c=o+s-1;if(n.params.rewind||n.params.loop)for(let d=o-e;d<=c+e;d+=1){const _=(d%t+t)%t;(_<o||_>c)&&Vg(n,_)}else for(let d=Math.max(o-e,0);d<=Math.min(c+e,t-1);d+=1)d!==o&&(d>c||d<o)&&Vg(n,d)};function ej(n){const{slidesGrid:e,params:t}=n,s=n.rtlTranslate?n.translate:-n.translate;let o;for(let c=0;c<e.length;c+=1)typeof e[c+1]<"u"?s>=e[c]&&s<e[c+1]-(e[c+1]-e[c])/2?o=c:s>=e[c]&&s<e[c+1]&&(o=c+1):s>=e[c]&&(o=c);return t.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function tj(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:o,activeIndex:c,realIndex:d,snapIndex:_}=e;let m=n,v;const w=R=>{let j=R-e.virtual.slidesBefore;return j<0&&(j=e.virtual.slides.length+j),j>=e.virtual.slides.length&&(j-=e.virtual.slides.length),j};if(typeof m>"u"&&(m=ej(e)),s.indexOf(t)>=0)v=s.indexOf(t);else{const R=Math.min(o.slidesPerGroupSkip,m);v=R+Math.floor((m-R)/o.slidesPerGroup)}if(v>=s.length&&(v=s.length-1),m===c&&!e.params.loop){v!==_&&(e.snapIndex=v,e.emit("snapIndexChange"));return}if(m===c&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=w(m);return}const T=e.grid&&o.grid&&o.grid.rows>1;let N;if(e.virtual&&o.virtual.enabled)o.loop?N=w(m):N=m;else if(T){const R=e.slides.find(V=>V.column===m);let j=parseInt(R.getAttribute("data-swiper-slide-index"),10);Number.isNaN(j)&&(j=Math.max(e.slides.indexOf(R),0)),N=Math.floor(j/o.grid.rows)}else if(e.slides[m]){const R=e.slides[m].getAttribute("data-swiper-slide-index");R?N=parseInt(R,10):N=m}else N=m;Object.assign(e,{previousSnapIndex:_,snapIndex:v,previousRealIndex:d,realIndex:N,previousIndex:c,activeIndex:m}),e.initialized&&y_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(d!==N&&e.emit("realIndexChange"),e.emit("slideChange"))}function nj(n,e){const t=this,s=t.params;let o=n.closest(`.${s.slideClass}, swiper-slide`);!o&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(_=>{!o&&_.matches&&_.matches(`.${s.slideClass}, swiper-slide`)&&(o=_)});let c=!1,d;if(o){for(let _=0;_<t.slides.length;_+=1)if(t.slides[_]===o){c=!0,d=_;break}}if(o&&c)t.clickedSlide=o,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var ij={updateSize:$5,updateSlides:Y5,updateAutoHeight:K5,updateSlidesOffset:W5,updateSlidesProgress:Q5,updateProgress:X5,updateSlidesClasses:J5,updateActiveIndex:tj,updateClickedSlide:nj};function sj(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:s,translate:o,wrapperEl:c}=e;if(t.virtualTranslate)return s?-o:o;if(t.cssMode)return o;let d=D5(c,n);return d+=e.cssOverflowAdjustment(),s&&(d=-d),d||0}function rj(n,e){const t=this,{rtlTranslate:s,params:o,wrapperEl:c,progress:d}=t;let _=0,m=0;const v=0;t.isHorizontal()?_=s?-n:n:m=n,o.roundLengths&&(_=Math.floor(_),m=Math.floor(m)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?_:m,o.cssMode?c[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-_:-m:o.virtualTranslate||(t.isHorizontal()?_-=t.cssOverflowAdjustment():m-=t.cssOverflowAdjustment(),c.style.transform=`translate3d(${_}px, ${m}px, ${v}px)`);let w;const T=t.maxTranslate()-t.minTranslate();T===0?w=0:w=(n-t.minTranslate())/T,w!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function aj(){return-this.snapGrid[0]}function oj(){return-this.snapGrid[this.snapGrid.length-1]}function lj(n=0,e=this.params.speed,t=!0,s=!0,o){const c=this,{params:d,wrapperEl:_}=c;if(c.animating&&d.preventInteractionOnTransition)return!1;const m=c.minTranslate(),v=c.maxTranslate();let w;if(s&&n>m?w=m:s&&n<v?w=v:w=n,c.updateProgress(w),d.cssMode){const T=c.isHorizontal();if(e===0)_[T?"scrollLeft":"scrollTop"]=-w;else{if(!c.support.smoothScroll)return hS({swiper:c,targetPosition:-w,side:T?"left":"top"}),!0;_.scrollTo({[T?"left":"top"]:-w,behavior:"smooth"})}return!0}return e===0?(c.setTransition(0),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionEnd"))):(c.setTransition(e),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(N){!c||c.destroyed||N.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,c.animating=!1,t&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}var cj={getTranslate:sj,setTranslate:rj,minTranslate:aj,maxTranslate:oj,translateTo:lj};function uj(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function gS({swiper:n,runCallbacks:e,direction:t,step:s}){const{activeIndex:o,previousIndex:c}=n;let d=t;d||(o>c?d="next":o<c?d="prev":d="reset"),n.emit(`transition${s}`),e&&d==="reset"?n.emit(`slideResetTransition${s}`):e&&o!==c&&(n.emit(`slideChangeTransition${s}`),d==="next"?n.emit(`slideNextTransition${s}`):n.emit(`slidePrevTransition${s}`))}function hj(n=!0,e){const t=this,{params:s}=t;s.cssMode||(s.autoHeight&&t.updateAutoHeight(),gS({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function dj(n=!0,e){const t=this,{params:s}=t;t.animating=!1,!s.cssMode&&(t.setTransition(0),gS({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var fj={setTransition:uj,transitionStart:hj,transitionEnd:dj};function mj(n=0,e,t=!0,s,o){typeof n=="string"&&(n=parseInt(n,10));const c=this;let d=n;d<0&&(d=0);const{params:_,snapGrid:m,slidesGrid:v,previousIndex:w,activeIndex:T,rtlTranslate:N,wrapperEl:R,enabled:j}=c;if(!j&&!s&&!o||c.destroyed||c.animating&&_.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=c.params.speed);const V=Math.min(c.params.slidesPerGroupSkip,d);let D=V+Math.floor((d-V)/c.params.slidesPerGroup);D>=m.length&&(D=m.length-1);const O=-m[D];if(_.normalizeSlideIndex)for(let z=0;z<v.length;z+=1){const I=-Math.floor(O*100),F=Math.floor(v[z]*100),G=Math.floor(v[z+1]*100);typeof v[z+1]<"u"?I>=F&&I<G-(G-F)/2?d=z:I>=F&&I<G&&(d=z+1):I>=F&&(d=z)}if(c.initialized&&d!==T&&(!c.allowSlideNext&&(N?O>c.translate&&O>c.minTranslate():O<c.translate&&O<c.minTranslate())||!c.allowSlidePrev&&O>c.translate&&O>c.maxTranslate()&&(T||0)!==d))return!1;d!==(w||0)&&t&&c.emit("beforeSlideChangeStart"),c.updateProgress(O);let B;d>T?B="next":d<T?B="prev":B="reset";const Z=c.virtual&&c.params.virtual.enabled;if(!(Z&&o)&&(N&&-O===c.translate||!N&&O===c.translate))return c.updateActiveIndex(d),_.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),_.effect!=="slide"&&c.setTranslate(O),B!=="reset"&&(c.transitionStart(t,B),c.transitionEnd(t,B)),!1;if(_.cssMode){const z=c.isHorizontal(),I=N?O:-O;if(e===0)Z&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),Z&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{R[z?"scrollLeft":"scrollTop"]=I})):R[z?"scrollLeft":"scrollTop"]=I,Z&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1});else{if(!c.support.smoothScroll)return hS({swiper:c,targetPosition:I,side:z?"left":"top"}),!0;R.scrollTo({[z?"left":"top"]:I,behavior:"smooth"})}return!0}const me=pS().isSafari;return Z&&!o&&me&&c.isElement&&c.virtual.update(!1,!1,d),c.setTransition(e),c.setTranslate(O),c.updateActiveIndex(d),c.updateSlidesClasses(),c.emit("beforeTransitionStart",e,s),c.transitionStart(t,B),e===0?c.transitionEnd(t,B):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(I){!c||c.destroyed||I.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(t,B))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0}function pj(n=0,e,t=!0,s){typeof n=="string"&&(n=parseInt(n,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const c=o.grid&&o.params.grid&&o.params.grid.rows>1;let d=n;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)d=d+o.virtual.slidesBefore;else{let _;if(c){const V=d*o.params.grid.rows;_=o.slides.find(D=>D.getAttribute("data-swiper-slide-index")*1===V).column}else _=o.getSlideIndexByData(d);const m=c?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:v,slidesOffsetBefore:w,slidesOffsetAfter:T}=o.params,N=v||!!w||!!T;let R=o.params.slidesPerView;R==="auto"?R=o.slidesPerViewDynamic():(R=Math.ceil(parseFloat(o.params.slidesPerView,10)),N&&R%2===0&&(R=R+1));let j=m-_<R;if(N&&(j=j||_<Math.ceil(R/2)),s&&N&&o.params.slidesPerView!=="auto"&&!c&&(j=!1),j){const V=N?_<o.activeIndex?"prev":"next":_-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:V,slideTo:!0,activeSlideIndex:V==="next"?_+1:_-m+1,slideRealIndex:V==="next"?o.realIndex:void 0})}if(c){const V=d*o.params.grid.rows;d=o.slides.find(D=>D.getAttribute("data-swiper-slide-index")*1===V).column}else d=o.getSlideIndexByData(d)}return requestAnimationFrame(()=>{o.slideTo(d,e,t,s)}),o}function gj(n,e=!0,t){const s=this,{enabled:o,params:c,animating:d}=s;if(!o||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);let _=c.slidesPerGroup;c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(_=Math.max(s.slidesPerViewDynamic("current",!0),1));const m=s.activeIndex<c.slidesPerGroupSkip?1:_,v=s.virtual&&c.virtual.enabled;if(c.loop){if(d&&!v&&c.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&c.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+m,n,e,t)}),!0}return c.rewind&&s.isEnd?s.slideTo(0,n,e,t):s.slideTo(s.activeIndex+m,n,e,t)}function _j(n,e=!0,t){const s=this,{params:o,snapGrid:c,slidesGrid:d,rtlTranslate:_,enabled:m,animating:v}=s;if(!m||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);const w=s.virtual&&o.virtual.enabled;if(o.loop){if(v&&!w&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const T=_?s.translate:-s.translate;function N(B){return B<0?-Math.floor(Math.abs(B)):Math.floor(B)}const R=N(T),j=c.map(B=>N(B)),V=o.freeMode&&o.freeMode.enabled;let D=c[j.indexOf(R)-1];if(typeof D>"u"&&(o.cssMode||V)){let B;c.forEach((Z,J)=>{R>=Z&&(B=J)}),typeof B<"u"&&(D=V?c[B]:c[B>0?B-1:B])}let O=0;if(typeof D<"u"&&(O=d.indexOf(D),O<0&&(O=s.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(O=O-s.slidesPerViewDynamic("previous",!0)+1,O=Math.max(O,0))),o.rewind&&s.isBeginning){const B=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(B,n,e,t)}else if(o.loop&&s.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(O,n,e,t)}),!0;return s.slideTo(O,n,e,t)}function yj(n,e=!0,t){const s=this;if(!s.destroyed)return typeof n>"u"&&(n=s.params.speed),s.slideTo(s.activeIndex,n,e,t)}function vj(n,e=!0,t,s=.5){const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);let c=o.activeIndex;const d=Math.min(o.params.slidesPerGroupSkip,c),_=d+Math.floor((c-d)/o.params.slidesPerGroup),m=o.rtlTranslate?o.translate:-o.translate;if(m>=o.snapGrid[_]){const v=o.snapGrid[_],w=o.snapGrid[_+1];m-v>(w-v)*s&&(c+=o.params.slidesPerGroup)}else{const v=o.snapGrid[_-1],w=o.snapGrid[_];m-v<=(w-v)*s&&(c-=o.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,o.slidesGrid.length-1),o.slideTo(c,n,e,t)}function bj(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,s=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let o=n.getSlideIndexWhenGrid(n.clickedIndex),c;const d=n.isElement?"swiper-slide":`.${e.slideClass}`,_=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;c=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(c):o>(_?(n.slides.length-s)/2-(n.params.grid.rows-1):n.slides.length-s)?(n.loopFix(),o=n.getSlideIndex(Tr(t,`${d}[data-swiper-slide-index="${c}"]`)[0]),uS(()=>{n.slideTo(o)})):n.slideTo(o)}else n.slideTo(o)}var xj={slideTo:mj,slideToLoop:pj,slideNext:gj,slidePrev:_j,slideReset:yj,slideToClosest:vj,slideToClickedSlide:bj};function wj(n,e){const t=this,{params:s,slidesEl:o}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;const c=()=>{Tr(o,`.${s.slideClass}, swiper-slide`).forEach((j,V)=>{j.setAttribute("data-swiper-slide-index",V)})},d=()=>{const R=Tr(o,`.${s.slideBlankClass}`);R.forEach(j=>{j.remove()}),R.length>0&&(t.recalcSlides(),t.updateSlides())},_=t.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||_)&&d();const m=s.slidesPerGroup*(_?s.grid.rows:1),v=t.slides.length%m!==0,w=_&&t.slides.length%s.grid.rows!==0,T=R=>{for(let j=0;j<R;j+=1){const V=t.isElement?Ff("swiper-slide",[s.slideBlankClass]):Ff("div",[s.slideClass,s.slideBlankClass]);t.slidesEl.append(V)}};if(v){if(s.loopAddBlankSlides){const R=m-t.slides.length%m;T(R),t.recalcSlides(),t.updateSlides()}else qf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else if(w){if(s.loopAddBlankSlides){const R=s.grid.rows-t.slides.length%s.grid.rows;T(R),t.recalcSlides(),t.updateSlides()}else qf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else c();const N=s.centeredSlides||!!s.slidesOffsetBefore||!!s.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:N?void 0:"next",initial:e})}function Tj({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:s,activeSlideIndex:o,initial:c,byController:d,byMousewheel:_}={}){const m=this;if(!m.params.loop)return;m.emit("beforeLoopFix");const{slides:v,allowSlidePrev:w,allowSlideNext:T,slidesEl:N,params:R}=m,{centeredSlides:j,slidesOffsetBefore:V,slidesOffsetAfter:D,initialSlide:O}=R,B=j||!!V||!!D;if(m.allowSlidePrev=!0,m.allowSlideNext=!0,m.virtual&&R.virtual.enabled){e&&(!B&&m.snapIndex===0?m.slideTo(m.virtual.slides.length,0,!1,!0):B&&m.snapIndex<R.slidesPerView?m.slideTo(m.virtual.slides.length+m.snapIndex,0,!1,!0):m.snapIndex===m.snapGrid.length-1&&m.slideTo(m.virtual.slidesBefore,0,!1,!0)),m.allowSlidePrev=w,m.allowSlideNext=T,m.emit("loopFix");return}let Z=R.slidesPerView;Z==="auto"?Z=m.slidesPerViewDynamic():(Z=Math.ceil(parseFloat(R.slidesPerView,10)),B&&Z%2===0&&(Z=Z+1));const J=R.slidesPerGroupAuto?Z:R.slidesPerGroup;let ee=B?Math.max(J,Math.ceil(Z/2)):J;ee%J!==0&&(ee+=J-ee%J),ee+=R.loopAdditionalSlides,m.loopedSlides=ee;const me=m.grid&&R.grid&&R.grid.rows>1;v.length<Z+ee||m.params.effect==="cards"&&v.length<Z+ee*2?qf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):me&&R.grid.fill==="row"&&qf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const z=[],I=[],F=me?Math.ceil(v.length/R.grid.rows):v.length,G=c&&F-O<Z&&!B;let U=G?O:m.activeIndex;typeof o>"u"?o=m.getSlideIndex(v.find(Q=>Q.classList.contains(R.slideActiveClass))):U=o;const $=t==="next"||!t,q=t==="prev"||!t;let pe=0,Le=0;const Te=(me?v[o].column:o)+(B&&typeof s>"u"?-Z/2+.5:0);if(Te<ee){pe=Math.max(ee-Te,J);for(let Q=0;Q<ee-Te;Q+=1){const Ae=Q-Math.floor(Q/F)*F;if(me){const we=F-Ae-1;for(let Y=v.length-1;Y>=0;Y-=1)v[Y].column===we&&z.push(Y)}else z.push(F-Ae-1)}}else if(Te+Z>F-ee){Le=Math.max(Te-(F-ee*2),J),G&&(Le=Math.max(Le,Z-F+O+1));for(let Q=0;Q<Le;Q+=1){const Ae=Q-Math.floor(Q/F)*F;me?v.forEach((we,Y)=>{we.column===Ae&&I.push(Y)}):I.push(Ae)}}if(m.__preventObserver__=!0,requestAnimationFrame(()=>{m.__preventObserver__=!1}),m.params.effect==="cards"&&v.length<Z+ee*2&&(I.includes(o)&&I.splice(I.indexOf(o),1),z.includes(o)&&z.splice(z.indexOf(o),1)),q&&z.forEach(Q=>{v[Q].swiperLoopMoveDOM=!0,N.prepend(v[Q]),v[Q].swiperLoopMoveDOM=!1}),$&&I.forEach(Q=>{v[Q].swiperLoopMoveDOM=!0,N.append(v[Q]),v[Q].swiperLoopMoveDOM=!1}),m.recalcSlides(),R.slidesPerView==="auto"?m.updateSlides():me&&(z.length>0&&q||I.length>0&&$)&&m.slides.forEach((Q,Ae)=>{m.grid.updateSlide(Ae,Q,m.slides)}),R.watchSlidesProgress&&m.updateSlidesOffset(),e){if(z.length>0&&q){if(typeof n>"u"){const Q=m.slidesGrid[U],we=m.slidesGrid[U+pe]-Q;_?m.setTranslate(m.translate-we):(m.slideTo(U+Math.ceil(pe),0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-we,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-we))}else if(s){const Q=me?z.length/R.grid.rows:z.length;m.slideTo(m.activeIndex+Q,0,!1,!0),m.touchEventsData.currentTranslate=m.translate}}else if(I.length>0&&$)if(typeof n>"u"){const Q=m.slidesGrid[U],we=m.slidesGrid[U-Le]-Q;_?m.setTranslate(m.translate-we):(m.slideTo(U-Le,0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-we,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-we))}else{const Q=me?I.length/R.grid.rows:I.length;m.slideTo(m.activeIndex-Q,0,!1,!0)}}if(m.allowSlidePrev=w,m.allowSlideNext=T,m.controller&&m.controller.control&&!d){const Q={slideRealIndex:n,direction:t,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(m.controller.control)?m.controller.control.forEach(Ae=>{!Ae.destroyed&&Ae.params.loop&&Ae.loopFix({...Q,slideTo:Ae.params.slidesPerView===R.slidesPerView?e:!1})}):m.controller.control instanceof m.constructor&&m.controller.control.params.loop&&m.controller.control.loopFix({...Q,slideTo:m.controller.control.params.slidesPerView===R.slidesPerView?e:!1})}m.emit("loopFix")}function Ej(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const s=[];n.slides.forEach(o=>{const c=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;s[c]=o}),n.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),s.forEach(o=>{t.append(o)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Sj={loopCreate:wj,loopFix:Tj,loopDestroy:Ej};function Aj(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Cj(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Nj={setGrabCursor:Aj,unsetGrabCursor:Cj};function Rj(n,e=this){function t(s){if(!s||s===ql()||s===pi())return null;s.assignedSlot&&(s=s.assignedSlot);const o=s.closest(n);return!o&&!s.getRootNode?null:o||t(s.getRootNode().host)}return t(e)}function kw(n,e,t){const s=pi(),{params:o}=n,c=o.edgeSwipeDetection,d=o.edgeSwipeThreshold;return c&&(t<=d||t>=s.innerWidth-d)?c==="prevent"?(e.preventDefault(),!0):!1:!0}function Ij(n){const e=this,t=ql();let s=n;s.originalEvent&&(s=s.originalEvent);const o=e.touchEventsData;if(s.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(o.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){kw(e,s,s.targetTouches[0].pageX);return}const{params:c,touches:d,enabled:_}=e;if(!_||!c.simulateTouch&&s.pointerType==="mouse"||e.animating&&c.preventInteractionOnTransition)return;!e.animating&&c.cssMode&&c.loop&&e.loopFix();let m=s.target;if(c.touchEventsTarget==="wrapper"&&!V5(m,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||o.isTouched&&o.isMoved)return;const v=!!c.noSwipingClass&&c.noSwipingClass!=="",w=s.composedPath?s.composedPath():s.path;v&&s.target&&s.target.shadowRoot&&w&&(m=w[0]);const T=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`,N=!!(s.target&&s.target.shadowRoot);if(c.noSwiping&&(N?Rj(T,m):m.closest(T))){e.allowClick=!0;return}if(c.swipeHandler&&!m.closest(c.swipeHandler))return;d.currentX=s.pageX,d.currentY=s.pageY;const R=d.currentX,j=d.currentY;if(!kw(e,s,R))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=R,d.startY=j,o.touchStartTime=Hf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,c.threshold>0&&(o.allowThresholdMove=!1);let V=!0;m.matches(o.focusableElements)&&(V=!1,m.nodeName==="SELECT"&&(o.isTouched=!1)),t.activeElement&&t.activeElement.matches(o.focusableElements)&&t.activeElement!==m&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!m.matches(o.focusableElements))&&t.activeElement.blur();const D=V&&e.allowTouchMove&&c.touchStartPreventDefault;(c.touchStartForcePreventDefault||D)&&!m.isContentEditable&&s.preventDefault(),c.freeMode&&c.freeMode.enabled&&e.freeMode&&e.animating&&!c.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function Pj(n){const e=ql(),t=this,s=t.touchEventsData,{params:o,touches:c,rtlTranslate:d,enabled:_}=t;if(!_||!o.simulateTouch&&n.pointerType==="mouse")return;let m=n;if(m.originalEvent&&(m=m.originalEvent),m.type==="pointermove"&&(s.touchId!==null||m.pointerId!==s.pointerId))return;let v;if(m.type==="touchmove"){if(v=[...m.changedTouches].find(ee=>ee.identifier===s.touchId),!v||v.identifier!==s.touchId)return}else v=m;if(!s.isTouched){s.startMoving&&s.isScrolling&&t.emit("touchMoveOpposite",m);return}const w=v.pageX,T=v.pageY;if(m.preventedByNestedSwiper){c.startX=w,c.startY=T;return}if(!t.allowTouchMove){m.target.matches(s.focusableElements)||(t.allowClick=!1),s.isTouched&&(Object.assign(c,{startX:w,startY:T,currentX:w,currentY:T}),s.touchStartTime=Hf());return}if(o.touchReleaseOnEdges&&!o.loop)if(t.isVertical()){if(T<c.startY&&t.translate<=t.maxTranslate()||T>c.startY&&t.translate>=t.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(d&&(w>c.startX&&-t.translate<=t.maxTranslate()||w<c.startX&&-t.translate>=t.minTranslate()))return;if(!d&&(w<c.startX&&t.translate<=t.maxTranslate()||w>c.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==m.target&&m.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&m.target===e.activeElement&&m.target.matches(s.focusableElements)){s.isMoved=!0,t.allowClick=!1;return}s.allowTouchCallbacks&&t.emit("touchMove",m),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=w,c.currentY=T;const N=c.currentX-c.startX,R=c.currentY-c.startY;if(t.params.threshold&&Math.sqrt(N**2+R**2)<t.params.threshold)return;if(typeof s.isScrolling>"u"){let ee;t.isHorizontal()&&c.currentY===c.startY||t.isVertical()&&c.currentX===c.startX?s.isScrolling=!1:N*N+R*R>=25&&(ee=Math.atan2(Math.abs(R),Math.abs(N))*180/Math.PI,s.isScrolling=t.isHorizontal()?ee>o.touchAngle:90-ee>o.touchAngle)}if(s.isScrolling&&t.emit("touchMoveOpposite",m),typeof s.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(s.startMoving=!0),s.isScrolling||m.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;t.allowClick=!1,!o.cssMode&&m.cancelable&&m.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&m.stopPropagation();let j=t.isHorizontal()?N:R,V=t.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;o.oneWayMovement&&(j=Math.abs(j)*(d?1:-1),V=Math.abs(V)*(d?1:-1)),c.diff=j,j*=o.touchRatio,d&&(j=-j,V=-V);const D=t.touchesDirection;t.swipeDirection=j>0?"prev":"next",t.touchesDirection=V>0?"prev":"next";const O=t.params.loop&&!o.cssMode,B=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!s.isMoved){if(O&&B&&t.loopFix({direction:t.swipeDirection}),s.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const ee=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ee)}s.allowMomentumBounce=!1,o.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",m)}if(new Date().getTime(),o._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&D!==t.touchesDirection&&O&&B&&Math.abs(j)>=1){Object.assign(c,{startX:w,startY:T,currentX:w,currentY:T,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}t.emit("sliderMove",m),s.isMoved=!0,s.currentTranslate=j+s.startTranslate;let Z=!0,J=o.resistanceRatio;if(o.touchReleaseOnEdges&&(J=0),j>0?(O&&B&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>t.minTranslate()&&(Z=!1,o.resistance&&(s.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+s.startTranslate+j)**J))):j<0&&(O&&B&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(o.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<t.maxTranslate()&&(Z=!1,o.resistance&&(s.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-s.startTranslate-j)**J))),Z&&(m.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0)if(Math.abs(j)>o.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,s.currentTranslate=s.startTranslate,c.diff=t.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY;return}}else{s.currentTranslate=s.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&t.freeMode||o.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(s.currentTranslate),t.setTranslate(s.currentTranslate))}function Mj(n){const e=this,t=e.touchEventsData;let s=n;s.originalEvent&&(s=s.originalEvent);let o;if(s.type==="touchend"||s.type==="touchcancel"){if(o=[...s.changedTouches].find(ee=>ee.identifier===t.touchId),!o||o.identifier!==t.touchId)return}else{if(t.touchId!==null||s.pointerId!==t.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:d,touches:_,rtlTranslate:m,slidesGrid:v,enabled:w}=e;if(!w||!d.simulateTouch&&s.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",s),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&d.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}d.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const T=Hf(),N=T-t.touchStartTime;if(e.allowClick){const ee=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(ee&&ee[0]||s.target,ee),e.emit("tap click",s),N<300&&T-t.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(t.lastClickTime=Hf(),uS(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||_.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let R;if(d.followFinger?R=m?e.translate:-e.translate:R=-t.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:R});return}const j=R>=-e.maxTranslate()&&!e.params.loop;let V=0,D=e.slidesSizesGrid[0];for(let ee=0;ee<v.length;ee+=ee<d.slidesPerGroupSkip?1:d.slidesPerGroup){const me=ee<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof v[ee+me]<"u"?(j||R>=v[ee]&&R<v[ee+me])&&(V=ee,D=v[ee+me]-v[ee]):(j||R>=v[ee])&&(V=ee,D=v[v.length-1]-v[v.length-2])}let O=null,B=null;d.rewind&&(e.isBeginning?B=d.virtual&&d.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(O=0));const Z=(R-v[V])/D,J=V<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(N>d.longSwipesMs){if(!d.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(Z>=d.longSwipesRatio?e.slideTo(d.rewind&&e.isEnd?O:V+J):e.slideTo(V)),e.swipeDirection==="prev"&&(Z>1-d.longSwipesRatio?e.slideTo(V+J):B!==null&&Z<0&&Math.abs(Z)>d.longSwipesRatio?e.slideTo(B):e.slideTo(V))}else{if(!d.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(V+J):e.slideTo(V):(e.swipeDirection==="next"&&e.slideTo(O!==null?O:V+J),e.swipeDirection==="prev"&&e.slideTo(B!==null?B:V))}}function jw(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:c}=n,d=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const _=d&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!_?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!d?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=o,n.allowSlideNext=s,n.params.watchOverflow&&c!==n.snapGrid&&n.checkOverflow()}function Lj(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Oj(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:s}=n;if(!s)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let o;const c=n.maxTranslate()-n.minTranslate();c===0?o=0:o=(n.translate-n.minTranslate())/c,o!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Dj(n){const e=this;pf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function kj(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const _S=(n,e)=>{const t=ql(),{params:s,el:o,wrapperEl:c,device:d}=n,_=!!s.nested,m=e==="on"?"addEventListener":"removeEventListener",v=e;!o||typeof o=="string"||(t[m]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:_}),o[m]("touchstart",n.onTouchStart,{passive:!1}),o[m]("pointerdown",n.onTouchStart,{passive:!1}),t[m]("touchmove",n.onTouchMove,{passive:!1,capture:_}),t[m]("pointermove",n.onTouchMove,{passive:!1,capture:_}),t[m]("touchend",n.onTouchEnd,{passive:!0}),t[m]("pointerup",n.onTouchEnd,{passive:!0}),t[m]("pointercancel",n.onTouchEnd,{passive:!0}),t[m]("touchcancel",n.onTouchEnd,{passive:!0}),t[m]("pointerout",n.onTouchEnd,{passive:!0}),t[m]("pointerleave",n.onTouchEnd,{passive:!0}),t[m]("contextmenu",n.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[m]("click",n.onClick,!0),s.cssMode&&c[m]("scroll",n.onScroll),s.updateOnWindowResize?n[v](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",jw,!0):n[v]("observerUpdate",jw,!0),o[m]("load",n.onLoad,{capture:!0}))};function jj(){const n=this,{params:e}=n;n.onTouchStart=Ij.bind(n),n.onTouchMove=Pj.bind(n),n.onTouchEnd=Mj.bind(n),n.onDocumentTouchStart=kj.bind(n),e.cssMode&&(n.onScroll=Oj.bind(n)),n.onClick=Lj.bind(n),n.onLoad=Dj.bind(n),_S(n,"on")}function Vj(){_S(this,"off")}var zj={attachEvents:jj,detachEvents:Vj};const Vw=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Uj(){const n=this,{realIndex:e,initialized:t,params:s,el:o}=n,c=s.breakpoints;if(!c||c&&Object.keys(c).length===0)return;const d=ql(),_=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",m=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?n.el:d.querySelector(s.breakpointsBase),v=n.getBreakpoint(c,_,m);if(!v||n.currentBreakpoint===v)return;const T=(v in c?c[v]:void 0)||n.originalParams,N=Vw(n,s),R=Vw(n,T),j=n.params.grabCursor,V=T.grabCursor,D=s.enabled;N&&!R?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),n.emitContainerClasses()):!N&&R&&(o.classList.add(`${s.containerModifierClass}grid`),(T.grid.fill&&T.grid.fill==="column"||!T.grid.fill&&s.grid.fill==="column")&&o.classList.add(`${s.containerModifierClass}grid-column`),n.emitContainerClasses()),j&&!V?n.unsetGrabCursor():!j&&V&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(me=>{if(typeof T[me]>"u")return;const z=s[me]&&s[me].enabled,I=T[me]&&T[me].enabled;z&&!I&&n[me].disable(),!z&&I&&n[me].enable()});const O=T.direction&&T.direction!==s.direction,B=s.loop&&(T.slidesPerView!==s.slidesPerView||O),Z=s.loop;O&&t&&n.changeDirection(),ns(n.params,T);const J=n.params.enabled,ee=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),D&&!J?n.disable():!D&&J&&n.enable(),n.currentBreakpoint=v,n.emit("_beforeBreakpoint",T),t&&(B?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!Z&&ee?(n.loopCreate(e),n.updateSlides()):Z&&!ee&&n.loopDestroy()),n.emit("breakpoint",T)}function Bj(n,e="window",t){if(!n||e==="container"&&!t)return;let s=!1;const o=pi(),c=e==="window"?o.innerHeight:t.clientHeight,d=Object.keys(n).map(_=>{if(typeof _=="string"&&_.indexOf("@")===0){const m=parseFloat(_.substr(1));return{value:c*m,point:_}}return{value:_,point:_}});d.sort((_,m)=>parseInt(_.value,10)-parseInt(m.value,10));for(let _=0;_<d.length;_+=1){const{point:m,value:v}=d[_];e==="window"?o.matchMedia(`(min-width: ${v}px)`).matches&&(s=m):v<=t.clientWidth&&(s=m)}return s||"max"}var Hj={setBreakpoint:Uj,getBreakpoint:Bj};function qj(n,e){const t=[];return n.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(o=>{s[o]&&t.push(e+o)}):typeof s=="string"&&t.push(e+s)}),t}function Fj(){const n=this,{classNames:e,params:t,rtl:s,el:o,device:c}=n,d=qj(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:s},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:c.android},{ios:c.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),o.classList.add(...e),n.emitContainerClasses()}function Gj(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var Zj={addClasses:Fj,removeClasses:Gj};function $j(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:s}=t;if(s){const o=n.slides.length-1,c=n.slidesGrid[o]+n.slidesSizesGrid[o]+s*2;n.isLocked=n.size>c}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Yj={checkOverflow:$j},v_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Kj(n,e){return function(s={}){const o=Object.keys(s)[0],c=s[o];if(typeof c!="object"||c===null){ns(e,s);return}if(n[o]===!0&&(n[o]={enabled:!0}),o==="navigation"&&n[o]&&n[o].enabled&&!n[o].prevEl&&!n[o].nextEl&&(n[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&n[o]&&n[o].enabled&&!n[o].el&&(n[o].auto=!0),!(o in n&&"enabled"in c)){ns(e,s);return}typeof n[o]=="object"&&!("enabled"in n[o])&&(n[o].enabled=!0),n[o]||(n[o]={enabled:!1}),ns(e,s)}}const zg={eventsEmitter:Z5,update:ij,translate:cj,transition:fj,slide:xj,loop:Sj,grabCursor:Nj,events:zj,breakpoints:Hj,checkOverflow:Yj,classes:Zj},Ug={};let Dy=class la{constructor(...e){let t,s;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?s=e[0]:[t,s]=e,s||(s={}),s=ns({},s),t&&!s.el&&(s.el=t);const o=ql();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){const m=[];return o.querySelectorAll(s.el).forEach(v=>{const w=ns({},s,{el:v});m.push(new la(w))}),m}const c=this;c.__swiper__=!0,c.support=fS(),c.device=mS({userAgent:s.userAgent}),c.browser=pS(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],s.modules&&Array.isArray(s.modules)&&c.modules.push(...s.modules);const d={};c.modules.forEach(m=>{m({params:s,swiper:c,extendParams:Kj(s,d),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const _=ns({},v_,d);return c.params=ns({},_,Ug,s),c.originalParams=ns({},c.params),c.passedParams=ns({},s),c.params&&c.params.on&&Object.keys(c.params.on).forEach(m=>{c.on(m,c.params.on[m])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,o=Tr(t,`.${s.slideClass}, swiper-slide`),c=Gf(o[0]);return Gf(e)-c}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:s}=e;e.slides=Tr(t,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const o=s.minTranslate(),d=(s.maxTranslate()-o)*e+o;s.translateTo(d,typeof t>"u"?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const o=e.getSlideClasses(s);t.push({slideEl:s,classNames:o}),e.emit("_slideClass",s,o)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const s=this,{params:o,slides:c,slidesGrid:d,slidesSizesGrid:_,size:m,activeIndex:v}=s;let w=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let T=c[v]?Math.ceil(c[v].swiperSlideSize):0,N;for(let R=v+1;R<c.length;R+=1)c[R]&&!N&&(T+=Math.ceil(c[R].swiperSlideSize),w+=1,T>m&&(N=!0));for(let R=v-1;R>=0;R-=1)c[R]&&!N&&(T+=c[R].swiperSlideSize,w+=1,T>m&&(N=!0))}else if(e==="current")for(let T=v+1;T<c.length;T+=1)(t?d[T]+_[T]-d[v]<m:d[T]-d[v]<m)&&(w+=1);else for(let T=v-1;T>=0;T-=1)d[v]-d[T]<m&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&pf(e,d)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const d=e.rtlTranslate?e.translate*-1:e.translate,_=Math.min(Math.max(d,e.maxTranslate()),e.minTranslate());e.setTranslate(_),e.updateActiveIndex(),e.updateSlidesClasses()}let c;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)o(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const d=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;c=e.slideTo(d.length-1,0,!1,!0)}else c=e.slideTo(e.activeIndex,0,!1,!0);c||o()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,o=s.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${o}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(c=>{e==="vertical"?c.style.width="":c.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const o=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(o()):Tr(s,o())[0];return!d&&t.params.createElements&&(d=Ff("div",t.params.wrapperClass),s.append(d),Tr(s,`.${t.params.slideClass}`).forEach(_=>{d.append(_)})),Object.assign(t,{el:s,wrapperEl:d,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:d,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||xo(s,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||xo(s,"direction")==="rtl"),wrongRTL:xo(d,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const o=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&o.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(c=>{c.complete?pf(t,c):c.addEventListener("load",d=>{pf(t,d.target)})}),y_(t),t.initialized=!0,y_(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const s=this,{params:o,el:c,wrapperEl:d,slides:_}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),t&&(s.removeClasses(),c&&typeof c!="string"&&c.removeAttribute("style"),d&&d.removeAttribute("style"),_&&_.length&&_.forEach(m=>{m.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),m.removeAttribute("style"),m.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(m=>{s.off(m)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),L5(s)),s.destroyed=!0),null}static extendDefaults(e){ns(Ug,e)}static get extendedDefaults(){return Ug}static get defaults(){return v_}static installModule(e){la.prototype.__modules__||(la.prototype.__modules__=[]);const t=la.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>la.installModule(t)),la):(la.installModule(e),la)}};Object.keys(zg).forEach(n=>{Object.keys(zg[n]).forEach(e=>{Dy.prototype[e]=zg[n][e]})});Dy.use([F5,G5]);const yS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Vl(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Hc(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Vl(e[s])&&Vl(n[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?n[s]=e[s]:Hc(n[s],e[s]):n[s]=e[s]})}function vS(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function bS(n={}){return n.pagination&&typeof n.pagination.el>"u"}function xS(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function wS(n=""){const e=n.split(" ").map(s=>s.trim()).filter(s=>!!s),t=[];return e.forEach(s=>{t.indexOf(s)<0&&t.push(s)}),t.join(" ")}function Wj(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function Qj({swiper:n,slides:e,passedParams:t,changedParams:s,nextEl:o,prevEl:c,scrollbarEl:d,paginationEl:_}){const m=s.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:v,pagination:w,navigation:T,scrollbar:N,virtual:R,thumbs:j}=n;let V,D,O,B,Z,J,ee,me;s.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(V=!0),s.includes("controller")&&t.controller&&t.controller.control&&v.controller&&!v.controller.control&&(D=!0),s.includes("pagination")&&t.pagination&&(t.pagination.el||_)&&(v.pagination||v.pagination===!1)&&w&&!w.el&&(O=!0),s.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||d)&&(v.scrollbar||v.scrollbar===!1)&&N&&!N.el&&(B=!0),s.includes("navigation")&&t.navigation&&(t.navigation.prevEl||c)&&(t.navigation.nextEl||o)&&(v.navigation||v.navigation===!1)&&T&&!T.prevEl&&!T.nextEl&&(Z=!0);const z=I=>{n[I]&&(n[I].destroy(),I==="navigation"?(n.isElement&&(n[I].prevEl.remove(),n[I].nextEl.remove()),v[I].prevEl=void 0,v[I].nextEl=void 0,n[I].prevEl=void 0,n[I].nextEl=void 0):(n.isElement&&n[I].el.remove(),v[I].el=void 0,n[I].el=void 0))};s.includes("loop")&&n.isElement&&(v.loop&&!t.loop?J=!0:!v.loop&&t.loop?ee=!0:me=!0),m.forEach(I=>{if(Vl(v[I])&&Vl(t[I]))Object.assign(v[I],t[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in t[I]&&!t[I].enabled&&z(I);else{const F=t[I];(F===!0||F===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?F===!1&&z(I):v[I]=t[I]}}),m.includes("controller")&&!D&&n.controller&&n.controller.control&&v.controller&&v.controller.control&&(n.controller.control=v.controller.control),s.includes("children")&&e&&R&&v.virtual.enabled?(R.slides=e,R.update(!0)):s.includes("virtual")&&R&&v.virtual.enabled&&(e&&(R.slides=e),R.update(!0)),s.includes("children")&&e&&v.loop&&(me=!0),V&&j.init()&&j.update(!0),D&&(n.controller.control=v.controller.control),O&&(n.isElement&&(!_||typeof _=="string")&&(_=document.createElement("div"),_.classList.add("swiper-pagination"),_.part.add("pagination"),n.el.appendChild(_)),_&&(v.pagination.el=_),w.init(),w.render(),w.update()),B&&(n.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),n.el.appendChild(d)),d&&(v.scrollbar.el=d),N.init(),N.updateSize(),N.setTranslate()),Z&&(n.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Th(o,n.navigation.arrowSvg),o.part.add("button-next"),n.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),Th(c,n.navigation.arrowSvg),c.part.add("button-prev"),n.el.appendChild(c))),o&&(v.navigation.nextEl=o),c&&(v.navigation.prevEl=c),T.init(),T.update()),s.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),s.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),s.includes("direction")&&n.changeDirection(t.direction,!1),(J||me)&&n.loopDestroy(),(ee||me)&&n.loopCreate(),n.update()}function Xj(n={},e=!0){const t={on:{}},s={},o={};Hc(t,v_),t._emitClasses=!0,t.init=!1;const c={},d=yS.map(m=>m.replace(/_/,"")),_=Object.assign({},n);return Object.keys(_).forEach(m=>{typeof n[m]>"u"||(d.indexOf(m)>=0?Vl(n[m])?(t[m]={},o[m]={},Hc(t[m],n[m]),Hc(o[m],n[m])):(t[m]=n[m],o[m]=n[m]):m.search(/on[A-Z]/)===0&&typeof n[m]=="function"?e?s[`${m[2].toLowerCase()}${m.substr(3)}`]=n[m]:t.on[`${m[2].toLowerCase()}${m.substr(3)}`]=n[m]:c[m]=n[m])}),["navigation","pagination","scrollbar"].forEach(m=>{t[m]===!0&&(t[m]={}),t[m]===!1&&delete t[m]}),{params:t,passedParams:o,rest:c,events:s}}function Jj({el:n,nextEl:e,prevEl:t,paginationEl:s,scrollbarEl:o,swiper:c},d){vS(d)&&e&&t&&(c.params.navigation.nextEl=e,c.originalParams.navigation.nextEl=e,c.params.navigation.prevEl=t,c.originalParams.navigation.prevEl=t),bS(d)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),xS(d)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(n)}function e3(n,e,t,s,o){const c=[];if(!e)return c;const d=m=>{c.indexOf(m)<0&&c.push(m)};if(t&&s){const m=s.map(o),v=t.map(o);m.join("")!==v.join("")&&d("children"),s.length!==t.length&&d("children")}return yS.filter(m=>m[0]==="_").map(m=>m.replace(/_/,"")).forEach(m=>{if(m in n&&m in e)if(Vl(n[m])&&Vl(e[m])){const v=Object.keys(n[m]),w=Object.keys(e[m]);v.length!==w.length?d(m):(v.forEach(T=>{n[m][T]!==e[m][T]&&d(m)}),w.forEach(T=>{n[m][T]!==e[m][T]&&d(m)}))}else n[m]!==e[m]&&d(m)}),c}const t3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Zf(){return Zf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Zf.apply(this,arguments)}function TS(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function ES(n){const e=[];return an.Children.toArray(n).forEach(t=>{TS(t)?e.push(t):t.props&&t.props.children&&ES(t.props.children).forEach(s=>e.push(s))}),e}function n3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return an.Children.toArray(n).forEach(s=>{if(TS(s))e.push(s);else if(s.props&&s.props.slot&&t[s.props.slot])t[s.props.slot].push(s);else if(s.props&&s.props.children){const o=ES(s.props.children);o.length>0?o.forEach(c=>e.push(c)):t["container-end"].push(s)}else t["container-end"].push(s)}),{slides:e,slots:t}}function i3(n,e,t){if(!t)return null;const s=w=>{let T=w;return w<0?T=e.length+w:T>=e.length&&(T=T-e.length),T},o=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:c,to:d}=t,_=n.params.loop?-e.length:0,m=n.params.loop?e.length*2:e.length,v=[];for(let w=_;w<m;w+=1)w>=c&&w<=d&&v.push(e[s(w)]);return v.map((w,T)=>an.cloneElement(w,{swiper:n,style:o,key:w.props.virtualIndex||w.key||`slide-${T}`}))}function uh(n,e){return typeof window>"u"?H.useEffect(n,e):H.useLayoutEffect(n,e)}const zw=H.createContext(null),s3=H.createContext(null),SS=H.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:s,onSwiper:o,...c}={},d)=>{let _=!1;const[m,v]=H.useState("swiper"),[w,T]=H.useState(null),[N,R]=H.useState(!1),j=H.useRef(!1),V=H.useRef(null),D=H.useRef(null),O=H.useRef(null),B=H.useRef(null),Z=H.useRef(null),J=H.useRef(null),ee=H.useRef(null),me=H.useRef(null),{params:z,passedParams:I,rest:F,events:G}=Xj(c),{slides:U,slots:$}=n3(s),q=()=>{R(!N)};Object.assign(z.on,{_containerClasses(Q,Ae){v(Ae)}});const pe=()=>{Object.assign(z.on,G),_=!0;const Q={...z};if(delete Q.wrapperClass,D.current=new Dy(Q),D.current.virtual&&D.current.params.virtual.enabled){D.current.virtual.slides=U;const Ae={cache:!1,slides:U,renderExternal:T,renderExternalUpdate:!1};Hc(D.current.params.virtual,Ae),Hc(D.current.originalParams.virtual,Ae)}};V.current||pe(),D.current&&D.current.on("_beforeBreakpoint",q);const Le=()=>{_||!G||!D.current||Object.keys(G).forEach(Q=>{D.current.on(Q,G[Q])})},ae=()=>{!G||!D.current||Object.keys(G).forEach(Q=>{D.current.off(Q,G[Q])})};H.useEffect(()=>()=>{D.current&&D.current.off("_beforeBreakpoint",q)}),H.useEffect(()=>{!j.current&&D.current&&(D.current.emitSlidesClasses(),j.current=!0)}),uh(()=>{if(d&&(d.current=V.current),!!V.current)return D.current.destroyed&&pe(),Jj({el:V.current,nextEl:Z.current,prevEl:J.current,paginationEl:ee.current,scrollbarEl:me.current,swiper:D.current},z),o&&!D.current.destroyed&&o(D.current),()=>{D.current&&!D.current.destroyed&&D.current.destroy(!0,!1)}},[]),uh(()=>{Le();const Q=e3(I,O.current,U,B.current,Ae=>Ae.key);return O.current=I,B.current=U,Q.length&&D.current&&!D.current.destroyed&&Qj({swiper:D.current,slides:U,passedParams:I,changedParams:Q,nextEl:Z.current,prevEl:J.current,scrollbarEl:me.current,paginationEl:ee.current}),()=>{ae()}}),uh(()=>{t3(D.current)},[w]);function Te(){return z.virtual?i3(D.current,U,w):U.map((Q,Ae)=>an.cloneElement(Q,{swiper:D.current,swiperSlideIndex:Ae}))}return an.createElement(e,Zf({ref:V,className:wS(`${m}${n?` ${n}`:""}`)},F),an.createElement(s3.Provider,{value:D.current},$["container-start"],an.createElement(t,{className:Wj(z.wrapperClass)},$["wrapper-start"],Te(),$["wrapper-end"]),vS(z)&&an.createElement(an.Fragment,null,an.createElement("div",{ref:J,className:"swiper-button-prev"}),an.createElement("div",{ref:Z,className:"swiper-button-next"})),xS(z)&&an.createElement("div",{ref:me,className:"swiper-scrollbar"}),bS(z)&&an.createElement("div",{ref:ee,className:"swiper-pagination"}),$["container-end"]))});SS.displayName="Swiper";const b_=H.forwardRef(({tag:n="div",children:e,className:t="",swiper:s,zoom:o,lazy:c,virtualIndex:d,swiperSlideIndex:_,...m}={},v)=>{const w=H.useRef(null),[T,N]=H.useState("swiper-slide"),[R,j]=H.useState(!1);function V(Z,J,ee){J===w.current&&N(ee)}uh(()=>{if(typeof _<"u"&&(w.current.swiperSlideIndex=_),v&&(v.current=w.current),!(!w.current||!s)){if(s.destroyed){T!=="swiper-slide"&&N("swiper-slide");return}return s.on("_slideClass",V),()=>{s&&s.off("_slideClass",V)}}}),uh(()=>{s&&w.current&&!s.destroyed&&N(s.getSlideClasses(w.current))},[s]);const D={isActive:T.indexOf("swiper-slide-active")>=0,isVisible:T.indexOf("swiper-slide-visible")>=0,isPrev:T.indexOf("swiper-slide-prev")>=0,isNext:T.indexOf("swiper-slide-next")>=0},O=()=>typeof e=="function"?e(D):e,B=()=>{j(!0)};return an.createElement(n,Zf({ref:w,className:wS(`${T}${t?` ${t}`:""}`),"data-swiper-slide-index":d,onLoad:B},m),o&&an.createElement(zw.Provider,{value:D},an.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},O(),c&&!R&&an.createElement("div",{className:"swiper-lazy-preloader",ref:Z=>{Z&&(Z.lazyPreloaderManaged=!0)}}))),!o&&an.createElement(zw.Provider,{value:D},O(),c&&!R&&an.createElement("div",{className:"swiper-lazy-preloader",ref:Z=>{Z&&(Z.lazyPreloaderManaged=!0)}})))});b_.displayName="SwiperSlide";function AS(n,e,t,s){return n.params.createElements&&Object.keys(s).forEach(o=>{if(!t[o]&&t.auto===!0){let c=Tr(n.el,`.${s[o]}`)[0];c||(c=Ff("div",s[o]),c.className=s[o],n.el.append(c)),t[o]=c,e[o]=c}}),t}const Uw='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function r3({swiper:n,extendParams:e,on:t,emit:s}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null,arrowSvg:Uw};function o(R){let j;return R&&typeof R=="string"&&n.isElement&&(j=n.el.querySelector(R)||n.hostEl.querySelector(R),j)?j:(R&&(typeof R=="string"&&(j=[...document.querySelectorAll(R)]),n.params.uniqueNavElements&&typeof R=="string"&&j&&j.length>1&&n.el.querySelectorAll(R).length===1?j=n.el.querySelector(R):j&&j.length===1&&(j=j[0])),R&&!j?R:j)}function c(R,j){const V=n.params.navigation;R=zn(R),R.forEach(D=>{D&&(D.classList[j?"add":"remove"](...V.disabledClass.split(" ")),D.tagName==="BUTTON"&&(D.disabled=j),n.params.watchOverflow&&n.enabled&&D.classList[n.isLocked?"add":"remove"](V.lockClass))})}function d(){const{nextEl:R,prevEl:j}=n.navigation;if(n.params.loop){c(j,!1),c(R,!1);return}c(j,n.isBeginning&&!n.params.rewind),c(R,n.isEnd&&!n.params.rewind)}function _(R){R.preventDefault(),!(n.isBeginning&&!n.params.loop&&!n.params.rewind)&&(n.slidePrev(),s("navigationPrev"))}function m(R){R.preventDefault(),!(n.isEnd&&!n.params.loop&&!n.params.rewind)&&(n.slideNext(),s("navigationNext"))}function v(){const R=n.params.navigation;if(n.params.navigation=AS(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(R.nextEl||R.prevEl))return;let j=o(R.nextEl),V=o(R.prevEl);Object.assign(n.navigation,{nextEl:j,prevEl:V}),j=zn(j),V=zn(V);const D=(O,B)=>{if(O){if(R.addIcons&&O.matches(".swiper-button-next,.swiper-button-prev")&&!O.querySelector("svg")){const Z=document.createElement("div");Th(Z,Uw),O.appendChild(Z.querySelector("svg")),Z.remove()}O.addEventListener("click",B==="next"?m:_)}!n.enabled&&O&&O.classList.add(...R.lockClass.split(" "))};j.forEach(O=>D(O,"next")),V.forEach(O=>D(O,"prev"))}function w(){let{nextEl:R,prevEl:j}=n.navigation;R=zn(R),j=zn(j);const V=(D,O)=>{D.removeEventListener("click",O==="next"?m:_),D.classList.remove(...n.params.navigation.disabledClass.split(" "))};R.forEach(D=>V(D,"next")),j.forEach(D=>V(D,"prev"))}t("init",()=>{n.params.navigation.enabled===!1?N():(v(),d())}),t("toEdge fromEdge lock unlock",()=>{d()}),t("destroy",()=>{w()}),t("enable disable",()=>{let{nextEl:R,prevEl:j}=n.navigation;if(R=zn(R),j=zn(j),n.enabled){d();return}[...R,...j].filter(V=>!!V).forEach(V=>V.classList.add(n.params.navigation.lockClass))}),t("click",(R,j)=>{let{nextEl:V,prevEl:D}=n.navigation;V=zn(V),D=zn(D);const O=j.target;let B=D.includes(O)||V.includes(O);if(n.isElement&&!B){const Z=j.path||j.composedPath&&j.composedPath();Z&&(B=Z.find(J=>V.includes(J)||D.includes(J)))}if(n.params.navigation.hideOnClick&&!B){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===O||n.pagination.el.contains(O)))return;let Z;V.length?Z=V[0].classList.contains(n.params.navigation.hiddenClass):D.length&&(Z=D[0].classList.contains(n.params.navigation.hiddenClass)),s(Z===!0?"navigationShow":"navigationHide"),[...V,...D].filter(J=>!!J).forEach(J=>J.classList.toggle(n.params.navigation.hiddenClass))}});const T=()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),v(),d()},N=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(n.navigation,{enable:T,disable:N,update:d,init:v,destroy:w})}function Yu(n=""){return`.${n.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function a3({swiper:n,extendParams:e,on:t,emit:s}){const o="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:O=>O,formatFractionTotal:O=>O,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),n.pagination={el:null,bullets:[]};let c,d=0;function _(){return!n.params.pagination.el||!n.pagination.el||Array.isArray(n.pagination.el)&&n.pagination.el.length===0}function m(O,B){const{bulletActiveClass:Z}=n.params.pagination;O&&(O=O[`${B==="prev"?"previous":"next"}ElementSibling`],O&&(O.classList.add(`${Z}-${B}`),O=O[`${B==="prev"?"previous":"next"}ElementSibling`],O&&O.classList.add(`${Z}-${B}-${B}`)))}function v(O,B,Z){if(O=O%Z,B=B%Z,B===O+1)return"next";if(B===O-1)return"previous"}function w(O){const B=O.target.closest(Yu(n.params.pagination.bulletClass));if(!B)return;O.preventDefault();const Z=Gf(B)*n.params.slidesPerGroup;if(n.params.loop){if(n.realIndex===Z)return;const J=v(n.realIndex,Z,n.slides.length);J==="next"?n.slideNext():J==="previous"?n.slidePrev():n.slideToLoop(Z)}else n.slideTo(Z)}function T(){const O=n.rtl,B=n.params.pagination;if(_())return;let Z=n.pagination.el;Z=zn(Z);let J,ee;const me=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,z=n.params.loop?Math.ceil(me/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(ee=n.previousRealIndex||0,J=n.params.slidesPerGroup>1?Math.floor(n.realIndex/n.params.slidesPerGroup):n.realIndex):typeof n.snapIndex<"u"?(J=n.snapIndex,ee=n.previousSnapIndex):(ee=n.previousIndex||0,J=n.activeIndex||0),B.type==="bullets"&&n.pagination.bullets&&n.pagination.bullets.length>0){const I=n.pagination.bullets;let F,G,U;if(B.dynamicBullets&&(c=__(I[0],n.isHorizontal()?"width":"height"),Z.forEach($=>{$.style[n.isHorizontal()?"width":"height"]=`${c*(B.dynamicMainBullets+4)}px`}),B.dynamicMainBullets>1&&ee!==void 0&&(d+=J-(ee||0),d>B.dynamicMainBullets-1?d=B.dynamicMainBullets-1:d<0&&(d=0)),F=Math.max(J-d,0),G=F+(Math.min(I.length,B.dynamicMainBullets)-1),U=(G+F)/2),I.forEach($=>{const q=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(pe=>`${B.bulletActiveClass}${pe}`)].map(pe=>typeof pe=="string"&&pe.includes(" ")?pe.split(" "):pe).flat();$.classList.remove(...q)}),Z.length>1)I.forEach($=>{const q=Gf($);q===J?$.classList.add(...B.bulletActiveClass.split(" ")):n.isElement&&$.setAttribute("part","bullet"),B.dynamicBullets&&(q>=F&&q<=G&&$.classList.add(...`${B.bulletActiveClass}-main`.split(" ")),q===F&&m($,"prev"),q===G&&m($,"next"))});else{const $=I[J];if($&&$.classList.add(...B.bulletActiveClass.split(" ")),n.isElement&&I.forEach((q,pe)=>{q.setAttribute("part",pe===J?"bullet-active":"bullet")}),B.dynamicBullets){const q=I[F],pe=I[G];for(let Le=F;Le<=G;Le+=1)I[Le]&&I[Le].classList.add(...`${B.bulletActiveClass}-main`.split(" "));m(q,"prev"),m(pe,"next")}}if(B.dynamicBullets){const $=Math.min(I.length,B.dynamicMainBullets+4),q=(c*$-c)/2-U*c,pe=O?"right":"left";I.forEach(Le=>{Le.style[n.isHorizontal()?pe:"top"]=`${q}px`})}}Z.forEach((I,F)=>{if(B.type==="fraction"&&(I.querySelectorAll(Yu(B.currentClass)).forEach(G=>{G.textContent=B.formatFractionCurrent(J+1)}),I.querySelectorAll(Yu(B.totalClass)).forEach(G=>{G.textContent=B.formatFractionTotal(z)})),B.type==="progressbar"){let G;B.progressbarOpposite?G=n.isHorizontal()?"vertical":"horizontal":G=n.isHorizontal()?"horizontal":"vertical";const U=(J+1)/z;let $=1,q=1;G==="horizontal"?$=U:q=U,I.querySelectorAll(Yu(B.progressbarFillClass)).forEach(pe=>{pe.style.transform=`translate3d(0,0,0) scaleX(${$}) scaleY(${q})`,pe.style.transitionDuration=`${n.params.speed}ms`})}B.type==="custom"&&B.renderCustom?(Th(I,B.renderCustom(n,J+1,z)),F===0&&s("paginationRender",I)):(F===0&&s("paginationRender",I),s("paginationUpdate",I)),n.params.watchOverflow&&n.enabled&&I.classList[n.isLocked?"add":"remove"](B.lockClass)})}function N(){const O=n.params.pagination;if(_())return;const B=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.grid&&n.params.grid.rows>1?n.slides.length/Math.ceil(n.params.grid.rows):n.slides.length;let Z=n.pagination.el;Z=zn(Z);let J="";if(O.type==="bullets"){let ee=n.params.loop?Math.ceil(B/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&ee>B&&(ee=B);for(let me=0;me<ee;me+=1)O.renderBullet?J+=O.renderBullet.call(n,me,O.bulletClass):J+=`<${O.bulletElement} ${n.isElement?'part="bullet"':""} class="${O.bulletClass}"></${O.bulletElement}>`}O.type==="fraction"&&(O.renderFraction?J=O.renderFraction.call(n,O.currentClass,O.totalClass):J=`<span class="${O.currentClass}"></span> / <span class="${O.totalClass}"></span>`),O.type==="progressbar"&&(O.renderProgressbar?J=O.renderProgressbar.call(n,O.progressbarFillClass):J=`<span class="${O.progressbarFillClass}"></span>`),n.pagination.bullets=[],Z.forEach(ee=>{O.type!=="custom"&&Th(ee,J||""),O.type==="bullets"&&n.pagination.bullets.push(...ee.querySelectorAll(Yu(O.bulletClass)))}),O.type!=="custom"&&s("paginationRender",Z[0])}function R(){n.params.pagination=AS(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const O=n.params.pagination;if(!O.el)return;let B;typeof O.el=="string"&&n.isElement&&(B=n.el.querySelector(O.el)),!B&&typeof O.el=="string"&&(B=[...document.querySelectorAll(O.el)]),B||(B=O.el),!(!B||B.length===0)&&(n.params.uniqueNavElements&&typeof O.el=="string"&&Array.isArray(B)&&B.length>1&&(B=[...n.el.querySelectorAll(O.el)],B.length>1&&(B=B.find(Z=>dS(Z,".swiper")[0]===n.el))),Array.isArray(B)&&B.length===1&&(B=B[0]),Object.assign(n.pagination,{el:B}),B=zn(B),B.forEach(Z=>{O.type==="bullets"&&O.clickable&&Z.classList.add(...(O.clickableClass||"").split(" ")),Z.classList.add(O.modifierClass+O.type),Z.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.type==="bullets"&&O.dynamicBullets&&(Z.classList.add(`${O.modifierClass}${O.type}-dynamic`),d=0,O.dynamicMainBullets<1&&(O.dynamicMainBullets=1)),O.type==="progressbar"&&O.progressbarOpposite&&Z.classList.add(O.progressbarOppositeClass),O.clickable&&Z.addEventListener("click",w),n.enabled||Z.classList.add(O.lockClass)}))}function j(){const O=n.params.pagination;if(_())return;let B=n.pagination.el;B&&(B=zn(B),B.forEach(Z=>{Z.classList.remove(O.hiddenClass),Z.classList.remove(O.modifierClass+O.type),Z.classList.remove(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.clickable&&(Z.classList.remove(...(O.clickableClass||"").split(" ")),Z.removeEventListener("click",w))})),n.pagination.bullets&&n.pagination.bullets.forEach(Z=>Z.classList.remove(...O.bulletActiveClass.split(" ")))}t("changeDirection",()=>{if(!n.pagination||!n.pagination.el)return;const O=n.params.pagination;let{el:B}=n.pagination;B=zn(B),B.forEach(Z=>{Z.classList.remove(O.horizontalClass,O.verticalClass),Z.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass)})}),t("init",()=>{n.params.pagination.enabled===!1?D():(R(),N(),T())}),t("activeIndexChange",()=>{typeof n.snapIndex>"u"&&T()}),t("snapIndexChange",()=>{T()}),t("snapGridLengthChange",()=>{N(),T()}),t("destroy",()=>{j()}),t("enable disable",()=>{let{el:O}=n.pagination;O&&(O=zn(O),O.forEach(B=>B.classList[n.enabled?"remove":"add"](n.params.pagination.lockClass)))}),t("lock unlock",()=>{T()}),t("click",(O,B)=>{const Z=B.target,J=zn(n.pagination.el);if(n.params.pagination.el&&n.params.pagination.hideOnClick&&J&&J.length>0&&!Z.classList.contains(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&Z===n.navigation.nextEl||n.navigation.prevEl&&Z===n.navigation.prevEl))return;const ee=J[0].classList.contains(n.params.pagination.hiddenClass);s(ee===!0?"paginationShow":"paginationHide"),J.forEach(me=>me.classList.toggle(n.params.pagination.hiddenClass))}});const V=()=>{n.el.classList.remove(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=zn(O),O.forEach(B=>B.classList.remove(n.params.pagination.paginationDisabledClass))),R(),N(),T()},D=()=>{n.el.classList.add(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=zn(O),O.forEach(B=>B.classList.add(n.params.pagination.paginationDisabledClass))),j()};Object.assign(n.pagination,{enable:V,disable:D,render:N,update:T,init:R,destroy:j})}const o3=()=>{const{id:n}=UA(),[e,t]=H.useState(null),[s,o]=H.useState(!0),[c,d]=H.useState(!1),[_,m]=H.useState(!1),v=H.useRef(!1),[w,T]=H.useState({name:"",phone:"",message:"Hola, estoy interesado en esta propiedad y me gustara recibir ms informacin."}),N=async J=>{J.preventDefault(),m(!0);try{await Bc(Un(nt,"inquiries"),{propertyId:e.id,propertyTitle:e.title,agentId:e.agentId,clientName:w.name,clientPhone:w.phone,clientMessage:w.message,timestamp:new Date,status:"pending"}),Ze.success("Tu solicitud ha sido enviada! El agente te contactar pronto."),d(!1),T({name:"",phone:"",message:""})}catch(ee){console.error("Error sending inquiry:",ee),Ze.error("Hubo un error al enviar tu solicitud.")}finally{m(!1)}},R=()=>{if(!e)return;const J="51999999999",ee=`Hola, estoy interesado en la propiedad: ${e.title}`,me=`https://wa.me/${J}?text=${encodeURIComponent(ee)}`;window.open(me,"_blank")};if(H.useEffect(()=>{(async()=>{try{if(!n)return;const ee=Tn(nt,"properties",n),me=await Uc(ee);if(me.exists()){const z=me.data();v.current||(v.current=!0,fo(ee,{views:iD(1)}).catch(I=>console.error("Error incrementing views",I)),z.views=(z.views||0)+1),t({id:me.id,...z})}else console.log("No such document!")}catch(ee){console.error("Error fetching property:",ee)}finally{o(!1)}})()},[n]),s)return y.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:y.jsx("div",{className:"w-16 h-16 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})});if(!e)return y.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Propiedad no encontrada"}),y.jsx(pn,{to:"/",className:"text-[#fc7f51] hover:underline",children:"Volver al inicio"})]});const j=3.75,V=typeof e.price=="number"?e.price:parseFloat(e.price),D=e.currency||"USD";let O,B;D==="USD"?(O=V,B=V*j):(B=V,O=V/j);const Z=e.lat&&e.lng?`https://www.google.com/maps/search/?api=1&query=${e.lat},${e.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.location)}`;return y.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[y.jsxs("main",{className:"container mx-auto px-6 pt-32 pb-12",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:e.title}),y.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center text-sm gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium overflow-hidden",children:[y.jsx(pa,{className:"w-4 h-4 text-[#fc7f51] flex-shrink-0"}),y.jsx("a",{href:Z,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#fc7f51] truncate",children:e.location})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[y.jsx(c5,{className:"w-4 h-4"})," Compartir"]}),y.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[y.jsx(zf,{className:"w-4 h-4"})," Guardar"]})]})]})]}),y.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 shadow-2xl relative h-[400px] md:h-[600px] bg-gray-100 group",children:y.jsx(SS,{modules:[r3,a3],navigation:!0,pagination:{clickable:!0},className:"h-full w-full",loop:!0,children:e.images&&e.images.length>0?e.images.map((J,ee)=>y.jsx(b_,{children:y.jsx("img",{src:J,alt:`Property ${ee+1}`,className:"w-full h-full object-cover"})},ee)):y.jsx(b_,{children:y.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-400",children:"No hay imgenes disponibles"})})})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[y.jsxs("div",{className:"lg:col-span-2",children:[y.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["Publicado por ",e.agentName||"Agente Inmuvete"]}),y.jsxs("p",{className:"text-gray-600 mb-0",children:[e.bedrooms||0," Habitaciones  ",e.bathrooms||0," Baos  ",e.footage," m"]})]}),y.jsx("div",{className:"w-14 h-14 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden border-2 border-white shadow-md",children:y.jsx(x5,{className:"w-8 h-8 text-gray-400"})})]}),y.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[y.jsx("h3",{className:"text-xl font-bold mb-4",children:"Descripcin"}),y.jsx("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-line",children:e.description})]}),y.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[y.jsx("h3",{className:"text-xl font-bold mb-4",children:"Detalles"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[y.jsx("span",{className:"text-gray-500",children:"Tipo"}),y.jsx("span",{className:"font-semibold capitalize",children:e.type})]}),y.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[y.jsx("span",{className:"text-gray-500",children:"Categora"}),y.jsx("span",{className:"font-semibold capitalize",children:e.category})]}),y.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[y.jsx("span",{className:"text-gray-500",children:"rea"}),y.jsxs("span",{className:"font-semibold",children:[e.footage," m"]})]}),y.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[y.jsx("span",{className:"text-gray-500",children:"Estado"}),y.jsx("span",{className:`font-semibold capitalize ${e.status==="disponible"?"text-green-600":"text-red-500"}`,children:e.status})]}),y.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[y.jsx("span",{className:"text-gray-500",children:"Antigedad"}),y.jsx("span",{className:"font-semibold capitalize",children:e.antiquity==="estreno"?"A estrenar":e.antiquity==="preventa"?"En Preventa":e.antiquity==="up_to_5"?"Hasta 5 aos":e.antiquity==="5_to_10"?"5 a 10 aos":e.antiquity==="10_to_20"?"10 a 20 aos":e.antiquity==="more_than_20"?"Ms de 20 aos":e.antiquity||"No especificado"})]}),e.floor&&y.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[y.jsx("span",{className:"text-gray-500",children:"Piso"}),y.jsxs("span",{className:"font-semibold",children:[e.floor,""]})]}),y.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[y.jsx("span",{className:"text-gray-500",children:"Ascensor"}),y.jsx("span",{className:"font-semibold",children:e.elevator?"S":"No"})]}),y.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[y.jsx("span",{className:"text-gray-500",children:"Cochera"}),y.jsx("span",{className:"font-semibold",children:e.parking?"S":"No"})]})]})]}),y.jsxs("div",{className:"pt-4",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ubicacin"}),y.jsx("p",{className:"text-gray-500 mb-4",children:e.location}),y.jsxs("div",{className:"h-96 w-full rounded-xl overflow-hidden bg-gray-100 shadow-inner relative group",children:[e.lat&&e.lng?y.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${e.lat},${e.lng}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):e.location?y.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${encodeURIComponent(e.location)}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):y.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-200",children:[y.jsx(pa,{className:"w-12 h-12 text-gray-400 mb-2"}),y.jsx("p",{className:"text-gray-500",children:"Mapa no disponible para esta ubicacin."})]}),y.jsxs("a",{href:Z,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-lg text-sm font-bold flex items-center gap-2 hover:bg-[#fc7f51] hover:text-white transition",children:[y.jsx(pa,{className:"w-4 h-4"}),"Abrir en Google Maps"]})]})]})]}),y.jsx("div",{className:"lg:col-span-1",children:y.jsxs("div",{className:"sticky top-32 bg-white rounded-xl shadow-card border border-gray-200 p-6",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("span",{className:"block text-3xl font-bold text-[#fc7f51]",children:O.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})}),y.jsx("span",{className:"block text-xl font-bold text-gray-400 mt-1",children:B.toLocaleString("en-US",{style:"currency",currency:"PEN",maximumFractionDigits:0})}),e.type==="alquiler"&&y.jsx("span",{className:"text-gray-500 text-sm block mt-1",children:"Precio por mes"})]}),y.jsxs("button",{onClick:R,className:"w-full bg-[#25D366] text-white font-bold text-lg py-3 rounded-lg hover:bg-[#20bd5a] transition mb-4 shadow-lg shadow-green-500/30 flex items-center justify-center gap-2",children:[y.jsx(oS,{className:"w-5 h-5"}),"Contactar por WhatsApp"]}),y.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-white border-2 border-gray-200 text-gray-700 font-bold py-3 rounded-lg hover:border-[#fc7f51] hover:text-[#fc7f51] transition mb-6 flex items-center justify-center gap-2",children:[y.jsx(aS,{className:"w-5 h-5"}),"Solicitar Informacin"]}),y.jsx("div",{className:"text-center text-xs text-gray-400",children:"* Al contactar aceptas nuestros trminos y condiciones."})]})})]})]}),c&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[y.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Solicitar Informacin"}),y.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:y.jsx(wh,{className:"w-5 h-5"})})]}),y.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),y.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre completo",value:w.name,onChange:J=>T({...w,name:J.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono / WhatsApp"}),y.jsx("input",{required:!0,type:"tel",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: +51 999 999 999",value:w.phone,onChange:J=>T({...w,phone:J.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),y.jsx("textarea",{required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition h-32 resize-none",value:w.message,onChange:J=>T({...w,message:J.target.value})})]}),y.jsx("button",{type:"submit",disabled:_,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-70",children:_?y.jsx(Bf,{className:"animate-spin"}):"Enviar Solicitud"})]})]})})]})},ky="/inmobiliaria/assets/logo-9PyExb9b.png",l3=()=>y.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[y.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:y.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20",alt:"About Hero"})}),y.jsxs("div",{className:"relative z-10 text-center px-6",children:[y.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:["Ms que una ",y.jsx("span",{className:"text-[#fc7f51]",children:"inmobiliaria"})]}),y.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Inspiramos movimiento. Impulsamos a las personas a dar el paso hacia nuevas etapas de su vida."})]})]}),y.jsxs("div",{className:"container mx-auto px-6 py-20",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center mb-24",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Quines Somos"}),y.jsx("img",{src:ky,alt:"Inmuvete",className:"h-16 mb-6 object-contain"}),y.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 leading-tight",children:"Concepto de Marca"}),y.jsxs("p",{className:"text-[#878787] text-lg leading-relaxed mb-6",children:["Ms que vender inmuebles, inspiramos movimiento. ",y.jsx("strong",{className:"text-[#262626]",children:"Inmuvete"})," es la inmobiliaria que impulsa a las personas a dar el paso hacia nuevas etapas de su vida: un nuevo hogar, una inversin segura o un espacio para crecer."]}),y.jsx("p",{className:"text-[#878787] text-lg leading-relaxed",children:"Nuestro enfoque combina confianza, transparencia y dinamismo, convirtiendo cada transaccin en una experiencia cercana, gil y motivadora."})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("img",{src:"https://images.unsplash.com/photo-1600596542815-e3287135f5cf?q=80&w=2072&auto=format&fit=crop",className:"rounded-tl-[40px] rounded-br-[40px] w-full h-64 object-cover shadow-card",alt:"Concept 1"}),y.jsx("img",{src:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2053&auto=format&fit=crop",className:"rounded-tr-[40px] rounded-bl-[40px] w-full h-64 object-cover shadow-card mt-8",alt:"Concept 2"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-24",children:[y.jsxs("div",{className:"bg-[#f9f9f9] p-10 rounded-2xl hover:shadow-lg transition border-l-4 border-[#fc7f51] group",children:[y.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] group-hover:text-white transition",children:y.jsx(f5,{className:"w-7 h-7"})}),y.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Misin"}),y.jsx("p",{className:"text-[#878787] leading-relaxed",children:'"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles, ofreciendo un servicio cercano que transforma cada proceso en una experiencia sencilla y segura."'})]}),y.jsxs("div",{className:"bg-[#262626] p-10 rounded-2xl text-white shadow-xl relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#fc7f51] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"}),y.jsx("div",{className:"w-14 h-14 bg-[#333] rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] transition",children:y.jsx(Vf,{className:"w-7 h-7"})}),y.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visin"}),y.jsx("p",{className:"text-gray-300 leading-relaxed",children:'"Ser la inmobiliaria de referencia en la regin, reconocida por la confianza, innovacin y cercana con nuestros clientes, ofreciendo experiencias inmobiliarias que impulsen el desarrollo personal, familiar y empresarial."'})]})]}),y.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[y.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Nuestra Esencia"}),y.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Nuestros Valores"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:y.jsx(h5,{className:"w-10 h-10"})}),y.jsx("h4",{className:"text-xl font-bold mb-3",children:"Integridad"}),y.jsx("p",{className:"text-[#878787] text-sm",children:"Actuamos con honestidad y transparencia en cada paso."})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:y.jsx(V4,{className:"w-10 h-10"})}),y.jsx("h4",{className:"text-xl font-bold mb-3",children:"Compromiso"}),y.jsx("p",{className:"text-[#878787] text-sm",children:"Nos dedicamos a cumplir y superar las expectativas."})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:y.jsx(lS,{className:"w-10 h-10"})}),y.jsx("h4",{className:"text-xl font-bold mb-3",children:"Confianza"}),y.jsx("p",{className:"text-[#878787] text-sm",children:"Construimos relaciones duraderas basadas en la seguridad."})]})]})]})]})]}),c3=()=>{const{user:n,userData:e,logout:t}=Vo(),o=Mr().pathname==="/about";return y.jsx("nav",{className:"fixed w-full z-50 bg-[#16151a] border-b border-gray-800 shadow-lg",children:y.jsxs("div",{className:"container mx-auto px-6 h-24 flex justify-between items-center",children:[y.jsxs(pn,{to:"/",className:"flex items-center gap-3 group",children:[y.jsx("img",{src:ky,alt:"Inmuvete",className:`${o?"block":"hidden md:block"} h-12 w-auto object-contain`}),!o&&y.jsx("img",{src:"/favicon.png",alt:"Inmuvete",className:"block md:hidden h-10 w-auto object-contain"})]}),y.jsxs("div",{className:"hidden lg:flex items-center bg-white rounded-full py-2 pl-6 pr-2 shadow-xl hover:shadow-orange-500/5 transition cursor-pointer gap-4 min-w-[420px]",children:[y.jsx("input",{type:"text",placeholder:"Buscar por zona, ciudad o tipo...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm"}),y.jsx("div",{className:"bg-[#fc7f51] p-2.5 rounded-full text-white hover:bg-[#e56b3e] transition shadow-md",children:y.jsx(Tm,{className:"w-5 h-5",strokeWidth:2.5})})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[y.jsx(pn,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),y.jsx(pn,{to:"/about",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Nosotros"}),y.jsx(pn,{to:"/contact",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Contacto"})]}),n?y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs(pn,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",className:"text-white hover:text-[#fc7f51] transition font-medium mr-2",children:["Hola, ",n.displayName?n.displayName.split(" ")[0]:"Usuario"]}),y.jsx("button",{onClick:t,className:"bg-[#262626] border border-gray-600 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition",children:"Salir"}),y.jsx(pn,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",children:y.jsx("div",{className:"bg-gray-600 rounded-full p-0.5 cursor-pointer",children:y.jsx(P4,{className:"w-8 h-8 text-white fill-gray-600"})})})]}):y.jsx(pn,{to:"/login",className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-full font-bold transition shadow-lg shadow-orange-500/20",children:"Ingresar"})]})]})})},u3=()=>y.jsxs("footer",{className:"bg-[#16151a] text-white py-16",children:[y.jsxs("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12",children:[y.jsxs("div",{children:[y.jsx("img",{src:ky,alt:"Inmuvete",className:"h-12 mb-6"}),y.jsx("p",{className:"text-[#878787] text-sm leading-relaxed mb-6",children:"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles."}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"in"}),y.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"ig"}),y.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"fb"})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Nuestros Valores"}),y.jsxs("ul",{className:"space-y-4 text-sm text-[#878787]",children:[y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Integridad"]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Compromiso"]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Confianza"]})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Contacto"}),y.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"Oficina Central, Ciudad"}),y.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"contacto@inmuevete.com"}),y.jsx("p",{className:"text-[#878787] text-sm",children:"+51 123 456 789"})]})]}),y.jsx("div",{className:"border-t border-[#262626] mt-12 pt-8 text-center text-[#878787] text-xs",children:" 2024 Inmuvete. Todos los derechos reservados."})]}),h3=()=>{const[n,e]=H.useState({name:"",phone:"+51 ",email:"",subject:"Informacin general",message:""}),t=d=>{e({...n,[d.target.name]:d.target.value})},s=d=>{let _=d.target.value;_.startsWith("+51 ")||(_="+51 "+_.replace(/^\+51\s*/,"")),e({...n,phone:_})},o=()=>{const d="+51965355700";let _=n.message.trim();return _||(_=`Hola, me gustara ${n.subject==="Comprar una propiedad"?"Comprar":n.subject==="Vender una propiedad"?"Vender":n.subject==="Alquileres"?"Alquilar":"obtener Informacin general sobre"} un inmueble.`),_+=`

- Nombre: ${n.name}
- Telfono: ${n.phone}
- Email: ${n.email}
- Asunto: ${n.subject}`,`https://wa.me/${d}?text=${encodeURIComponent(_)}`},c=d=>{if(d.preventDefault(),!n.name||!n.email){Ze.error("Por favor completa nombre y email.");return}const _=o();Ze.success("Redirigiendo a WhatsApp..."),setTimeout(()=>{window.open(_,"_blank")},1e3)};return y.jsx("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:y.jsxs("div",{className:"pt-24 pb-20 container mx-auto px-6",children:[y.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[y.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Hablamos?"}),y.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#262626]",children:"Contctanos"}),y.jsx("p",{className:"text-[#878787] text-lg",children:"Estamos aqu para ayudarte a encontrar tu espacio ideal. Escrbenos y un asesor se pondr en contacto contigo a la brevedad."})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[y.jsxs("div",{className:"bg-[#16151a] text-white p-10 rounded-3xl shadow-xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-20 blur-3xl"}),y.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-10 blur-3xl"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Informacin de Contacto"}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:y.jsx(oS,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg mb-1",children:"Telfono"}),y.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"+51 965355700"})]})]}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:y.jsx(aS,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg mb-1",children:"Email"}),y.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"contacto@inmuevete.com"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"ventas@inmuevete.com"})]})]}),y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:y.jsx(pa,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg mb-1",children:"Oficina Central"}),y.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Av. Principal 123, Oficina 404",y.jsx("br",{}),"Centro Empresarial, Ciudad",y.jsx("br",{}),"Per"]})]})]})]}),y.jsxs("div",{className:"mt-12",children:[y.jsx("h4",{className:"font-bold text-lg mb-4",children:"Sguenos"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:y.jsx(H4,{className:"w-5 h-5"})}),y.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:y.jsx(k4,{className:"w-5 h-5"})}),y.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:y.jsx($4,{className:"w-5 h-5"})})]})]})]})]}),y.jsx("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-card border border-gray-100",children:y.jsxs("form",{onSubmit:c,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Nombre"}),y.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,placeholder:"Tu nombre completo",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Telfono"}),y.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:s,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Email"}),y.jsx("input",{type:"email",name:"email",value:n.email,onChange:t,placeholder:"ejemplo@correo.com",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Asunto"}),y.jsxs("select",{name:"subject",value:n.subject,onChange:t,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition text-gray-600 bg-white",children:[y.jsx("option",{value:"Informacin general",children:"Informacin general"}),y.jsx("option",{value:"Comprar una propiedad",children:"Comprar una propiedad"}),y.jsx("option",{value:"Vender una propiedad",children:"Vender una propiedad"}),y.jsx("option",{value:"Alquileres",children:"Alquileres"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Mensaje"}),y.jsx("textarea",{name:"message",value:n.message,onChange:t,rows:"4",placeholder:"Cmo podemos ayudarte?",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),y.jsxs("button",{type:"submit",className:"w-full bg-[#128C7E] hover:bg-[#075E54] text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2 group",children:["Contactar por WhatsApp",y.jsx(n5,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})]})]})})},d3=()=>{const[n,e]=H.useState(""),[t,s]=H.useState(""),{login:o,loginWithGoogle:c,loginWithApple:d}=Vo(),_=Yf(),m=async N=>{try{const R=await Uc(Tn(nt,"users",N));if(R.exists()){const j=R.data();j.role==="agente"?_("/agent-dashboard"):j.role==="superadmin"?_("/superadmin"):_("/client-dashboard")}else _("/")}catch(R){console.error("Error redirecting:",R)}},v=async N=>{N.preventDefault();try{const R=await o(n,t);Ze.success("Bienvenido de nuevo!"),m(R.user.uid)}catch(R){Ze.error(R.message)}},w=async()=>{try{const N=await c();Ze.success("Bienvenido!"),m(N.user.uid)}catch(N){Ze.error(N.message)}},T=async()=>{try{const N=await d();Ze.success("Bienvenido!"),m(N.user.uid)}catch(N){Ze.error(N.message)}};return y.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[y.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Iniciar Sesin"}),y.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Accede a tu cuenta de Inmuvete"}),y.jsxs("form",{onSubmit:v,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),y.jsx("input",{type:"email",value:n,onChange:N=>e(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),y.jsx("input",{type:"password",value:t,onChange:N=>s(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"",required:!0})]}),y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsxs("label",{className:"flex items-center text-gray-600",children:[y.jsx("input",{type:"checkbox",className:"mr-2 text-[#fc7f51] focus:ring-[#fc7f51] rounded border-gray-300"}),"Recordarme"]}),y.jsx(pn,{to:"/forgot-password",className:"text-[#fc7f51] hover:underline font-medium",children:"Olvidaste tu contrasea?"})]}),y.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Ingresar"})]}),y.jsxs("div",{className:"my-6 flex items-center",children:[y.jsx("div",{className:"flex-grow border-t border-gray-200"}),y.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O contina con"}),y.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),y.jsxs("button",{onClick:T,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),y.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["No tienes una cuenta?"," ",y.jsx(pn,{to:"/register",className:"text-[#fc7f51] font-bold hover:underline",children:"Regstrate aqu"})]})]})})},f3=()=>{const[n,e]=H.useState(""),[t,s]=H.useState(""),[o,c]=H.useState(""),[d,_]=H.useState(""),[m,v]=H.useState("cliente"),{signup:w,loginWithGoogle:T,loginWithApple:N}=Vo(),R=Yf(),j=async O=>{O.preventDefault();try{await w(n,t,m,o,d),Ze.success("Cuenta creada exitosamente!"),R(m==="agente"?"/agent-dashboard":"/client-dashboard")}catch(B){Ze.error(B.message)}},V=async()=>{try{await T(m),Ze.success("Cuenta creada exitosamente!"),R(m==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Ze.error(O.message)}},D=async()=>{try{await N(m),Ze.success("Cuenta creada exitosamente!"),R(m==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Ze.error(O.message)}};return y.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[y.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Crear una Cuenta"}),y.jsx("p",{className:"text-center text-gray-500 mb-8",children:"nete y encuentra tu prximo hogar"}),y.jsxs("form",{onSubmit:j,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),y.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),y.jsx("input",{type:"tel",value:d,onChange:O=>_(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"+51 999 999 999",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),y.jsx("input",{type:"email",value:n,onChange:O=>e(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),y.jsx("input",{type:"password",value:t,onChange:O=>s(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Crea una contrasea segura",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Qu buscas hacer?"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("button",{type:"button",onClick:()=>v("cliente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${m==="cliente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[y.jsx("span",{className:"font-bold",children:"Buscar Propiedades"}),y.jsx("span",{className:"text-xs mt-1",children:"Soy Cliente"})]}),y.jsxs("button",{type:"button",onClick:()=>v("agente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${m==="agente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[y.jsx("span",{className:"font-bold",children:"Publicar Inmuebles"}),y.jsx("span",{className:"text-xs mt-1",children:"Soy Agente"})]})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Registrarme"})]}),y.jsxs("div",{className:"my-6 flex items-center",children:[y.jsx("div",{className:"flex-grow border-t border-gray-200"}),y.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O regstrate con"}),y.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("button",{onClick:V,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),y.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[y.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),y.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Ya tienes cuenta?"," ",y.jsx(pn,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Inicia Sesin"})]})]})})},m3=()=>{const[n,e]=H.useState(""),{resetPassword:t}=Vo(),[s,o]=H.useState(!1),c=async d=>{d.preventDefault(),o(!0);try{await t(n),Ze.success("Te hemos enviado un correo para restablecer tu contrasea.")}catch(_){Ze.error(_.message)}finally{o(!1)}};return y.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[y.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Recuperar Contrasea"}),y.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Ingresa tu correo y te enviaremos las instrucciones"}),y.jsxs("form",{onSubmit:c,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),y.jsx("input",{type:"email",value:n,onChange:d=>e(d.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),y.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:s?"Enviando...":"Enviar Instrucciones"})]}),y.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Te acordaste?"," ",y.jsx(pn,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Volver a Iniciar Sesin"})]})]})})};function p3(n,e){const t=H.useRef(e);H.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const g3=1;function _3(n){return Object.freeze({__version:g3,map:n})}function y3(n,e){return Object.freeze({...n,...e})}const jy=H.createContext(null);function CS(){const n=H.use(jy);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function v3(n){function e(t,s){const{instance:o,context:c}=n(t).current;H.useImperativeHandle(s,()=>o);const{children:d}=t;return d==null?null:an.createElement(jy,{value:c},d)}return H.forwardRef(e)}function b3(n){function e(t,s){const{instance:o}=n(t).current;return H.useImperativeHandle(s,()=>o),null}return H.forwardRef(e)}function x3(n,e){const t=H.useRef(void 0);H.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function NS(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}var th={exports:{}};var w3=th.exports,Bw;function T3(){return Bw||(Bw=1,(function(n,e){(function(t,s){s(e)})(w3,(function(t){var s="1.9.4";function o(a){var u,p,x,S;for(p=1,x=arguments.length;p<x;p++){S=arguments[p];for(u in S)a[u]=S[u]}return a}var c=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function d(a,u){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var x=p.call(arguments,2);return function(){return a.apply(u,x.length?x.concat(p.call(arguments)):arguments)}}var _=0;function m(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function v(a,u,p){var x,S,P,K;return K=function(){x=!1,S&&(P.apply(p,S),S=!1)},P=function(){x?S=arguments:(a.apply(p,arguments),setTimeout(K,u),x=!0)},P}function w(a,u,p){var x=u[1],S=u[0],P=x-S;return a===x&&p?a:((a-S)%P+P)%P+S}function T(){return!1}function N(a,u){if(u===!1)return a;var p=Math.pow(10,u===void 0?6:u);return Math.round(a*p)/p}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function j(a){return R(a).split(/\s+/)}function V(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var p in u)a.options[p]=u[p];return a.options}function D(a,u,p){var x=[];for(var S in a)x.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function B(a,u){return a.replace(O,function(p,x){var S=u[x];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(u)),S})}var Z=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function J(a,u){for(var p=0;p<a.length;p++)if(a[p]===u)return p;return-1}var ee="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function me(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var z=0;function I(a){var u=+new Date,p=Math.max(0,16-(u-z));return z=u+p,window.setTimeout(a,p)}var F=window.requestAnimationFrame||me("RequestAnimationFrame")||I,G=window.cancelAnimationFrame||me("CancelAnimationFrame")||me("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function U(a,u,p){if(p&&F===I)a.call(u);else return F.call(window,d(a,u))}function $(a){a&&G.call(window,a)}var q={__proto__:null,extend:o,create:c,bind:d,get lastId(){return _},stamp:m,throttle:v,wrapNum:w,falseFn:T,formatNum:N,trim:R,splitWords:j,setOptions:V,getParamString:D,template:B,isArray:Z,indexOf:J,emptyImageUrl:ee,requestFn:F,cancelFn:G,requestAnimFrame:U,cancelAnimFrame:$};function pe(){}pe.extend=function(a){var u=function(){V(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,x=c(p);x.constructor=u,u.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&o(u,a.statics),a.includes&&(Le(a.includes),o.apply(null,[x].concat(a.includes))),o(x,a),delete x.statics,delete x.includes,x.options&&(x.options=p.options?c(p.options):{},o(x.options,a.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,K=x._initHooks.length;P<K;P++)x._initHooks[P].call(this)}},u},pe.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},pe.mergeOptions=function(a){return o(this.prototype.options,a),this},pe.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Le(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=Z(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(a,u,p){if(typeof a=="object")for(var x in a)this._on(x,a[x],u);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,p)}return this},off:function(a,u,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var x in a)this._off(x,a[x],u);else{a=j(a);for(var S=arguments.length===1,P=0,K=a.length;P<K;P++)S?this._off(a[P]):this._off(a[P],u,p)}return this},_on:function(a,u,p,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,p)===!1){p===this&&(p=void 0);var S={fn:u,ctx:p};x&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,p){var x,S,P;if(this._events&&(x=this._events[a],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,P=x.length;S<P;S++)x[S].fn=T;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var K=this._listens(a,u,p);if(K!==!1){var ne=x[K];this._firingCount&&(ne.fn=T,this._events[a]=x=x.slice()),x.splice(K,1)}}},fire:function(a,u,p){if(!this.listens(a,p))return this;var x=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,K=S.length;P<K;P++){var ne=S[P],oe=ne.fn;ne.once&&this.off(a,oe,ne.ctx),oe.call(ne.ctx||this,x)}this._firingCount--}}return p&&this._propagateEvent(x),this},listens:function(a,u,p,x){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(x=!!u,S=void 0,p=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,p)!==!1)return!0;if(x){for(var K in this._eventParents)if(this._eventParents[K].listens(a,u,p,x))return!0}return!1},_listens:function(a,u,p){if(!this._events)return!1;var x=this._events[a]||[];if(!u)return!!x.length;p===this&&(p=void 0);for(var S=0,P=x.length;S<P;S++)if(x[S].fn===u&&x[S].ctx===p)return S;return!1},once:function(a,u,p){if(typeof a=="object")for(var x in a)this._on(x,a[x],u,!0);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[m(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[m(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var Te=pe.extend(ae);function Q(a,u,p){this.x=p?Math.round(a):a,this.y=p?Math.round(u):u}var Ae=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};Q.prototype={clone:function(){return new Q(this.x,this.y)},add:function(a){return this.clone()._add(we(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(we(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new Q(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new Q(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ae(this.x),this.y=Ae(this.y),this},distanceTo:function(a){a=we(a);var u=a.x-this.x,p=a.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(a){return a=we(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=we(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function we(a,u,p){return a instanceof Q?a:Z(a)?new Q(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new Q(a.x,a.y):new Q(a,u,p)}function Y(a,u){if(a)for(var p=u?[a,u]:a,x=0,S=p.length;x<S;x++)this.extend(p[x])}Y.prototype={extend:function(a){var u,p;if(!a)return this;if(a instanceof Q||typeof a[0]=="number"||"x"in a)u=p=we(a);else if(a=ue(a),u=a.min,p=a.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return we((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return we(this.min.x,this.max.y)},getTopRight:function(){return we(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,p;return typeof a[0]=="number"||a instanceof Q?a=we(a):a=ue(a),a instanceof Y?(u=a.min,p=a.max):u=p=a,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=ue(a);var u=this.min,p=this.max,x=a.min,S=a.max,P=S.x>=u.x&&x.x<=p.x,K=S.y>=u.y&&x.y<=p.y;return P&&K},overlaps:function(a){a=ue(a);var u=this.min,p=this.max,x=a.min,S=a.max,P=S.x>u.x&&x.x<p.x,K=S.y>u.y&&x.y<p.y;return P&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,p=this.max,x=Math.abs(u.x-p.x)*a,S=Math.abs(u.y-p.y)*a;return ue(we(u.x-x,u.y-S),we(p.x+x,p.y+S))},equals:function(a){return a?(a=ue(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ue(a,u){return!a||a instanceof Y?a:new Y(a,u)}function xe(a,u){if(a)for(var p=u?[a,u]:a,x=0,S=p.length;x<S;x++)this.extend(p[x])}xe.prototype={extend:function(a){var u=this._southWest,p=this._northEast,x,S;if(a instanceof Ne)x=a,S=a;else if(a instanceof xe){if(x=a._southWest,S=a._northEast,!x||!S)return this}else return a?this.extend(Re(a)||Ee(a)):this;return!u&&!p?(this._southWest=new Ne(x.lat,x.lng),this._northEast=new Ne(S.lat,S.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(a){var u=this._southWest,p=this._northEast,x=Math.abs(u.lat-p.lat)*a,S=Math.abs(u.lng-p.lng)*a;return new xe(new Ne(u.lat-x,u.lng-S),new Ne(p.lat+x,p.lng+S))},getCenter:function(){return new Ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ne||"lat"in a?a=Re(a):a=Ee(a);var u=this._southWest,p=this._northEast,x,S;return a instanceof xe?(x=a.getSouthWest(),S=a.getNorthEast()):x=S=a,x.lat>=u.lat&&S.lat<=p.lat&&x.lng>=u.lng&&S.lng<=p.lng},intersects:function(a){a=Ee(a);var u=this._southWest,p=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=u.lat&&x.lat<=p.lat,K=S.lng>=u.lng&&x.lng<=p.lng;return P&&K},overlaps:function(a){a=Ee(a);var u=this._southWest,p=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>u.lat&&x.lat<p.lat,K=S.lng>u.lng&&x.lng<p.lng;return P&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=Ee(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ee(a,u){return a instanceof xe?a:new xe(a,u)}function Ne(a,u,p){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,p!==void 0&&(this.alt=+p)}Ne.prototype={equals:function(a,u){if(!a)return!1;a=Re(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return At.distance(this,Re(a))},wrap:function(){return At.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,p=u/Math.cos(Math.PI/180*this.lat);return Ee([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new Ne(this.lat,this.lng,this.alt)}};function Re(a,u,p){return a instanceof Ne?a:Z(a)&&typeof a[0]!="object"?a.length===3?new Ne(a[0],a[1],a[2]):a.length===2?new Ne(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ne(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Ne(a,u,p)}var Ge={latLngToPoint:function(a,u){var p=this.projection.project(a),x=this.scale(u);return this.transformation._transform(p,x)},pointToLatLng:function(a,u){var p=this.scale(u),x=this.transformation.untransform(a,p);return this.projection.unproject(x)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(a),x=this.transformation.transform(u.min,p),S=this.transformation.transform(u.max,p);return new Y(x,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,x=a.alt;return new Ne(p,u,x)},wrapLatLngBounds:function(a){var u=a.getCenter(),p=this.wrapLatLng(u),x=u.lat-p.lat,S=u.lng-p.lng;if(x===0&&S===0)return a;var P=a.getSouthWest(),K=a.getNorthEast(),ne=new Ne(P.lat-x,P.lng-S),oe=new Ne(K.lat-x,K.lng-S);return new xe(ne,oe)}},At=o({},Ge,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var p=Math.PI/180,x=a.lat*p,S=u.lat*p,P=Math.sin((u.lat-a.lat)*p/2),K=Math.sin((u.lng-a.lng)*p/2),ne=P*P+Math.cos(x)*Math.cos(S)*K*K,oe=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*oe}}),Ct=6378137,ji={R:Ct,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,p=this.MAX_LATITUDE,x=Math.max(Math.min(p,a.lat),-p),S=Math.sin(x*u);return new Q(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new Ne((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Ct*Math.PI;return new Y([-a,-a],[a,a])})()};function as(a,u,p,x){if(Z(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=p,this._d=x}as.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new Q((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function gi(a,u,p,x){return new as(a,u,p,x)}var os=o({},At,{code:"EPSG:3857",projection:ji,transformation:(function(){var a=.5/(Math.PI*ji.R);return gi(a,.5,-a,.5)})()}),de=o({},os,{code:"EPSG:900913"});function Ke(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function vt(a,u){var p="",x,S,P,K,ne,oe;for(x=0,P=a.length;x<P;x++){for(ne=a[x],S=0,K=ne.length;S<K;S++)oe=ne[S],p+=(S?"L":"M")+oe.x+" "+oe.y;p+=u?Oe.svg?"z":"x":""}return p||"M0 0"}var it=document.documentElement.style,un="ActiveXObject"in window,Vt=un&&!document.addEventListener,Jt="msLaunchUri"in navigator&&!("documentMode"in document),ls=In("webkit"),Fl=In("android"),zo=In("android 2")||In("android 3"),Bn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dr=Fl&&In("Google")&&Bn<537&&!("AudioNode"in window),kr=!!window.opera,Sa=!Jt&&In("chrome"),Ls=In("gecko")&&!ls&&!kr&&!un,su=!Sa&&In("safari"),Uo=In("phantom"),Bo="OTransition"in it,Gl=navigator.platform.indexOf("Win")===0,_i=un&&"transition"in it,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zo,ri="MozPerspective"in it,Yt=!window.L_DISABLE_3D&&(_i||hn||ri)&&!Bo&&!Uo,tr=typeof orientation<"u"||In("mobile"),Aa=tr&&ls,Zl=tr&&hn,Vi=!window.PointerEvent&&window.MSPointerEvent,nr=!!(window.PointerEvent||Vi),Kt="ontouchstart"in window||!!window.TouchEvent,cs=!window.L_NO_TOUCH&&(Kt||nr),us=tr&&kr,zi=tr&&Ls,ru=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$l=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",T,u),window.removeEventListener("testPassiveEventSupport",T,u)}catch{}return a})(),hs=(function(){return!!document.createElement("canvas").getContext})(),Os=!!(document.createElementNS&&Ke("svg").createSVGRect),au=!!Os&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),jr=!Os&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Ho=navigator.platform.indexOf("Mac")===0,qo=navigator.platform.indexOf("Linux")===0;function In(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Oe={ie:un,ielt9:Vt,edge:Jt,webkit:ls,android:Fl,android23:zo,androidStock:Dr,opera:kr,chrome:Sa,gecko:Ls,safari:su,phantom:Uo,opera12:Bo,win:Gl,ie3d:_i,webkit3d:hn,gecko3d:ri,any3d:Yt,mobile:tr,mobileWebkit:Aa,mobileWebkit3d:Zl,msPointer:Vi,pointer:nr,touch:cs,touchNative:Kt,mobileOpera:us,mobileGecko:zi,retina:ru,passiveEvents:$l,canvas:hs,svg:Os,vml:jr,inlineSvg:au,mac:Ho,linux:qo},Fo=Oe.msPointer?"MSPointerDown":"pointerdown",yi=Oe.msPointer?"MSPointerMove":"pointermove",vi=Oe.msPointer?"MSPointerUp":"pointerup",Wt=Oe.msPointer?"MSPointerCancel":"pointercancel",en={touchstart:Fo,touchmove:yi,touchend:vi,touchcancel:Wt},Ui={touchstart:fs,touchmove:Pn,touchend:Pn,touchcancel:Pn},Bi={},Yl=!1;function Kl(a,u,p){return u==="touchstart"&&bi(),Ui[u]?(p=Ui[u].bind(this,p),a.addEventListener(en[u],p,!1),p):(console.warn("wrong event specified:",u),T)}function Wl(a,u,p){if(!en[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(en[u],p,!1)}function ds(a){Bi[a.pointerId]=a}function Ca(a){Bi[a.pointerId]&&(Bi[a.pointerId]=a)}function Hi(a){delete Bi[a.pointerId]}function bi(){Yl||(document.addEventListener(Fo,ds,!0),document.addEventListener(yi,Ca,!0),document.addEventListener(vi,Hi,!0),document.addEventListener(Wt,Hi,!0),Yl=!0)}function Pn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in Bi)u.touches.push(Bi[p]);u.changedTouches=[u],a(u)}}function fs(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ht(u),Pn(a,u)}function tn(a){var u={},p,x;for(x in a)p=a[x],u[x]=p&&p.bind?p.bind(a):p;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Go=200;function Zo(a,u){a.addEventListener("dblclick",u);var p=0,x;function S(P){if(P.detail!==1){x=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var K=or(P);if(!(K.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!K.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var ne=Date.now();ne-p<=Go?(x++,x===2&&u(tn(P))):x=1,p=ne}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function ms(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var xi=zr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ds=zr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Na=Ds==="webkitTransition"||Ds==="OTransition"?Ds+"End":"transitionend";function Ra(a){return typeof a=="string"?document.getElementById(a):a}function ir(a,u){var p=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(a,null);p=x?x[u]:null}return p==="auto"?null:p}function tt(a,u,p){var x=document.createElement(a);return x.className=u||"",p&&p.appendChild(x),x}function st(a){var u=a.parentNode;u&&u.removeChild(a)}function Ut(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Bt(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function ai(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Vr(a,u){if(a.classList!==void 0)return a.classList.contains(u);var p=ps(a);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Pe(a,u){if(a.classList!==void 0)for(var p=j(u),x=0,S=p.length;x<S;x++)a.classList.add(p[x]);else if(!Vr(a,u)){var P=ps(a);wi(a,(P?P+" ":"")+u)}}function Nt(a,u){a.classList!==void 0?a.classList.remove(u):wi(a,R((" "+ps(a)+" ").replace(" "+u+" "," ")))}function wi(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function ps(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Dt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Ia(a,u)}function Ia(a,u){var p=!1,x="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):a.style.filter+=" progid:"+x+"(opacity="+u+")"}function zr(a){for(var u=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in u)return a[p];return!1}function qi(a,u,p){var x=u||new Q(0,0);a.style[xi]=(Oe.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(p?" scale("+p+")":"")}function Rt(a,u){a._leaflet_pos=u,Oe.any3d?qi(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function gs(a){return a._leaflet_pos||new Q(0,0)}var Ti,gn,Pa;if("onselectstart"in document)Ti=function(){Ue(window,"selectstart",Ht)},gn=function(){yt(window,"selectstart",Ht)};else{var ks=zr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ti=function(){if(ks){var a=document.documentElement.style;Pa=a[ks],a[ks]="none"}},gn=function(){ks&&(document.documentElement.style[ks]=Pa,Pa=void 0)}}function Ur(){Ue(window,"dragstart",Ht)}function sr(){yt(window,"dragstart",Ht)}var Br,_s;function rr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Yn(),Br=a,_s=a.style.outlineStyle,a.style.outlineStyle="none",Ue(window,"keydown",Yn))}function Yn(){Br&&(Br.style.outlineStyle=_s,Br=void 0,_s=void 0,yt(window,"keydown",Yn))}function Ma(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Kn(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var ar={__proto__:null,TRANSFORM:xi,TRANSITION:Ds,TRANSITION_END:Na,get:Ra,getStyle:ir,create:tt,remove:st,empty:Ut,toFront:Bt,toBack:ai,hasClass:Vr,addClass:Pe,removeClass:Nt,setClass:wi,getClass:ps,setOpacity:Dt,testProp:zr,setTransform:qi,setPosition:Rt,getPosition:gs,get disableTextSelection(){return Ti},get enableTextSelection(){return gn},disableImageDrag:Ur,enableImageDrag:sr,preventOutline:rr,restoreOutline:Yn,getSizedParentNode:Ma,getScale:Kn};function Ue(a,u,p,x){if(u&&typeof u=="object")for(var S in u)Wn(a,S,u[S],p);else{u=j(u);for(var P=0,K=u.length;P<K;P++)Wn(a,u[P],p,x)}return this}var Mn="_leaflet_events";function yt(a,u,p,x){if(arguments.length===1)js(a),delete a[Mn];else if(u&&typeof u=="object")for(var S in u)Vs(a,S,u[S],p);else if(u=j(u),arguments.length===2)js(a,function(ne){return J(u,ne)!==-1});else for(var P=0,K=u.length;P<K;P++)Vs(a,u[P],p,x);return this}function js(a,u){for(var p in a[Mn]){var x=p.split(/\d/)[0];(!u||u(x))&&Vs(a,x,null,null,p)}}var oi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wn(a,u,p,x){var S=u+m(p)+(x?"_"+m(x):"");if(a[Mn]&&a[Mn][S])return this;var P=function(ne){return p.call(x||a,ne||window.event)},K=P;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?P=Kl(a,u,P):Oe.touch&&u==="dblclick"?P=Zo(a,P):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(oi[u]||u,P,Oe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(P=function(ne){ne=ne||window.event,Zi(a,ne)&&K(ne)},a.addEventListener(oi[u],P,!1)):a.addEventListener(u,K,!1):a.attachEvent("on"+u,P),a[Mn]=a[Mn]||{},a[Mn][S]=P}function Vs(a,u,p,x,S){S=S||u+m(p)+(x?"_"+m(x):"");var P=a[Mn]&&a[Mn][S];if(!P)return this;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?Wl(a,u,P):Oe.touch&&u==="dblclick"?ms(a,P):"removeEventListener"in a?a.removeEventListener(oi[u]||u,P,!1):a.detachEvent("on"+u,P),a[Mn][S]=null}function lt(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ei(a){return Wn(a,"wheel",lt),this}function zs(a){return Ue(a,"mousedown touchstart dblclick contextmenu",lt),a._leaflet_disable_click=!0,this}function Ht(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Fi(a){return Ht(a),lt(a),this}function or(a){if(a.composedPath)return a.composedPath();for(var u=[],p=a.target;p;)u.push(p),p=p.parentNode;return u}function ys(a,u){if(!u)return new Q(a.clientX,a.clientY);var p=Kn(u),x=p.boundingClientRect;return new Q((a.clientX-x.left)/p.x-u.clientLeft,(a.clientY-x.top)/p.y-u.clientTop)}var Gi=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _n(a){return Oe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Gi:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Zi(a,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var vs={__proto__:null,on:Ue,off:yt,stopPropagation:lt,disableScrollPropagation:Ei,disableClickPropagation:zs,preventDefault:Ht,stop:Fi,getPropagationPath:or,getMousePosition:ys,getWheelDelta:_n,isExternalTarget:Zi,addListener:Ue,removeListener:yt},Us=Te.extend({run:function(a,u,p,x){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=gs(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var p=this._startPos.add(this._offset.multiplyBy(a));u&&p._round(),Rt(this._el,p),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),et=Te.extend({options:{crs:os,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=V(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Re(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ds&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ue(this._proxy,Na,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Re(a),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,p.zoom):this._tryAnimatedPan(a,p.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,p){var x=this.getZoomScale(u),S=this.getSize().divideBy(2),P=a instanceof Q?a:this.latLngToContainerPoint(a),K=P.subtract(S).multiplyBy(1-1/x),ne=this.containerPointToLatLng(S.add(K));return this.setView(ne,u,{zoom:p})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():Ee(a);var p=we(u.paddingTopLeft||u.padding||[0,0]),x=we(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,p.add(x));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=x.subtract(p).divideBy(2),K=this.project(a.getSouthWest(),S),ne=this.project(a.getNorthEast(),S),oe=this.unproject(K.add(ne).divideBy(2).add(P),S);return{center:oe,zoom:S}},fitBounds:function(a,u){if(a=Ee(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=we(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Us,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Pe(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,p){if(p=p||{},p.animate===!1||!Oe.any3d)return this.setView(a,u,p);this._stop();var x=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),K=this._zoom;a=Re(a),u=u===void 0?K:u;var ne=Math.max(P.x,P.y),oe=ne*this.getZoomScale(K,u),ye=S.distanceTo(x)||1,Ce=1.42,je=Ce*Ce;function Xe(Qt){var Gs=Qt?-1:1,Yr=Qt?oe:ne,du=oe*oe-ne*ne+Gs*je*je*ye*ye,dl=2*Yr*je*ye,fl=du/dl,_r=Math.sqrt(fl*fl+1)-fl,Zs=_r<1e-9?-18:Math.log(_r);return Zs}function An(Qt){return(Math.exp(Qt)-Math.exp(-Qt))/2}function nn(Qt){return(Math.exp(Qt)+Math.exp(-Qt))/2}function ui(Qt){return An(Qt)/nn(Qt)}var bt=Xe(0);function xt(Qt){return ne*(nn(bt)/nn(bt+Ce*Qt))}function rt(Qt){return ne*(nn(bt)*ui(bt+Ce*Qt)-An(bt))/je}function pr(Qt){return 1-Math.pow(1-Qt,1.5)}var Ri=Date.now(),cc=(Xe(1)-bt)/Ce,gr=p.duration?1e3*p.duration:1e3*cc*.8;function hu(){var Qt=(Date.now()-Ri)/gr,Gs=pr(Qt)*cc;Qt<=1?(this._flyToFrame=U(hu,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(rt(Gs)/ye)),K),this.getScaleZoom(ne/xt(Gs),K),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),hu.call(this),this},flyToBounds:function(a,u){var p=this._getBoundsCenterZoom(a,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(a){return a=Ee(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var p=this.getCenter(),x=this._limitCenter(p,this._zoom,Ee(a));return p.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var p=we(u.paddingTopLeft||u.padding||[0,0]),x=we(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),K=this.getPixelBounds(),ne=ue([K.min.add(p),K.max.subtract(x)]),oe=ne.getSize();if(!ne.contains(P)){this._enforcingBounds=!0;var ye=P.subtract(ne.getCenter()),Ce=ne.extend(P).getSize().subtract(oe);S.x+=ye.x<0?-Ce.x:Ce.x,S.y+=ye.y<0?-Ce.y:Ce.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),x=u.divideBy(2).round(),S=p.divideBy(2).round(),P=x.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),p=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,a):navigator.geolocation.getCurrentPosition(u,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,p=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,p=a.coords.longitude,x=new Ne(u,p),S=x.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var K=this.getBoundsZoom(S);this.setView(x,P.maxZoom?Math.min(K,P.maxZoom):K)}var ne={latlng:x,bounds:S,timestamp:a.timestamp};for(var oe in a.coords)typeof a.coords[oe]=="number"&&(ne[oe]=a.coords[oe]);this.fire("locationfound",ne)}},addHandler:function(a,u){if(!u)return this;var p=this[a]=new u(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),st(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)st(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),x=tt("div",p,u||this._mapPane);return a&&(this._panes[a]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new xe(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,p){a=Ee(a),p=we(p||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),K=a.getNorthWest(),ne=a.getSouthEast(),oe=this.getSize().subtract(p),ye=ue(this.project(ne,x),this.project(K,x)).getSize(),Ce=Oe.any3d?this.options.zoomSnap:1,je=oe.x/ye.x,Xe=oe.y/ye.y,An=u?Math.max(je,Xe):Math.min(je,Xe);return x=this.getScaleZoom(An,x),Ce&&(x=Math.round(x/(Ce/100))*(Ce/100),x=u?Math.ceil(x/Ce)*Ce:Math.floor(x/Ce)*Ce),Math.max(S,Math.min(P,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var p=this._getTopLeftPoint(a,u);return new Y(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(a)/p.scale(u)},getScaleZoom:function(a,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var x=p.zoom(a*p.scale(u));return isNaN(x)?1/0:x},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Re(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(we(a),u)},layerPointToLatLng:function(a){var u=we(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Re(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Re(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Ee(a))},distance:function(a,u){return this.options.crs.distance(Re(a),Re(u))},containerPointToLayerPoint:function(a){return we(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return we(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(we(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Re(a)))},mouseEventToContainerPoint:function(a){return ys(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Ra(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ue(u,"scroll",this._onScroll,this),this._containerId=m(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Pe(a,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ir(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Rt(this._mapPane,new Q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pe(a.markerPane,"leaflet-zoom-hide"),Pe(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,p){Rt(this._mapPane,new Q(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,p)._move(a,u)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,p,x){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),x?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Rt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[m(this._container)]=this;var u=a?yt:Ue;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var p=[],x,S=u==="mouseout"||u==="mouseover",P=a.target||a.srcElement,K=!1;P;){if(x=this._targets[m(P)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){K=!0;break}if(x&&x.listens(u,!0)&&(S&&!Zi(P,a)||(p.push(x),S))||P===this._container)break;P=P.parentNode}return!p.length&&!K&&!S&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var p=a.type;p==="mousedown"&&rr(u),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,p){if(a.type==="click"){var x=o({},a);x.type="preclick",this._fireDOMEvent(x,x.type,p)}var S=this._findEventTargets(a,u);if(p){for(var P=[],K=0;K<p.length;K++)p[K].listens(u,!0)&&P.push(p[K]);S=P.concat(S)}if(S.length){u==="contextmenu"&&Ht(a);var ne=S[0],oe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ye=ne.getLatLng&&(!ne._radius||ne._radius<=10);oe.containerPoint=ye?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(a),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=ye?ne.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(K=0;K<S.length;K++)if(S[K].fire(u,oe,!0),oe.originalEvent._stopped||S[K].options.bubblingMouseEvents===!1&&J(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return gs(this._mapPane)||new Q(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var p=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var p=this.getSize()._divideBy(2);return this.project(a,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,p){var x=this._getNewPixelOrigin(p,u);return this.project(a,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(a,u,p){var x=this._getNewPixelOrigin(p,u);return ue([this.project(a.getSouthWest(),u)._subtract(x),this.project(a.getNorthWest(),u)._subtract(x),this.project(a.getSouthEast(),u)._subtract(x),this.project(a.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,p){if(!p)return a;var x=this.project(a,u),S=this.getSize().divideBy(2),P=new Y(x.subtract(S),x.add(S)),K=this._getBoundsOffset(P,p,u);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?a:this.unproject(x.add(K),u)},_limitOffset:function(a,u){if(!u)return a;var p=this.getPixelBounds(),x=new Y(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(a,u,p){var x=ue(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),S=x.min.subtract(a.min),P=x.max.subtract(a.max),K=this._rebound(S.x,-P.x),ne=this._rebound(S.y,-P.y);return new Q(K,ne)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),p=this.getMaxZoom(),x=Oe.any3d?this.options.zoomSnap:1;return x&&(a=Math.round(a/x)*x),Math.max(u,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var p=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var a=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var p=xi,x=this._proxy.style[p];qi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){st(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();qi(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/x);return p.animate!==!0&&!this.getSize().contains(S)?!1:(U(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,p,x){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function lr(a,u){return new et(a,u)}var Ln=pe.extend({options:{position:"topright"},initialize:function(a){V(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),p=this.getPosition(),x=a._controlCorners[p];return Pe(u,"leaflet-control"),p.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(st(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Qn=function(a){return new Ln(a)};et.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",p=this._controlContainer=tt("div",u+"control-container",this._container);function x(S,P){var K=u+S+" "+u+P;a[S+P]=tt("div",K,p)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)st(this._controlCorners[a]);st(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hr=Ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,p,x){return p<x?-1:x<p?1:0}},initialize:function(a,u,p){V(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in a)this._addLayer(a[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Ln.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(m(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=tt("div",a),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),zs(u),Ei(u);var x=this._section=tt("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Ue(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=tt("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ue(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Ht(P),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=tt("div",a+"-base",x),this._separator=tt("div",a+"-separator",x),this._overlaysList=tt("div",a+"-overlays",x),u.appendChild(x)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&m(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(d(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ut(this._baseLayersList),Ut(this._overlaysList),this._layerControlInputs=[];var a,u,p,x,S=0;for(p=0;p<this._layers.length;p++)x=this._layers[p],this._addItem(x),u=u||x.overlay,a=a||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(m(a.target)),p=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(a,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=p,x.firstChild},_addItem:function(a){var u=document.createElement("label"),p=this._map.hasLayer(a.layer),x;a.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=p):x=this._createRadioElement("leaflet-base-layers_"+m(this),p),this._layerControlInputs.push(x),x.layerId=m(a.layer),Ue(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");u.appendChild(P),P.appendChild(x),P.appendChild(S);var K=a.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,p,x=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)u=a[P],p=this._getLayer(u.layerId).layer,u.checked?x.push(p):u.checked||S.push(p);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<x.length;P++)this._map.hasLayer(x[P])||this._map.addLayer(x[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,p,x=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&x<p.options.minZoom||p.options.maxZoom!==void 0&&x>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ue(a,"click",Ht),this.expand();var u=this;setTimeout(function(){yt(a,"click",Ht),u._preventClick=!1})}}),$o=function(a,u,p){return new Hr(a,u,p)},Bs=Ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",p=tt("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,p,x,S){var P=tt("a",p,x);return P.innerHTML=a,P.href="#",P.title=u,P.setAttribute("role","button"),P.setAttribute("aria-label",u),zs(P),Ue(P,"click",Fi),Ue(P,"click",S,this),Ue(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Nt(this._zoomInButton,u),Nt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Pe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Pe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});et.mergeOptions({zoomControl:!0}),et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Bs,this.addControl(this.zoomControl))});var Ql=function(a){return new Bs(a)},Yo=Ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",p=tt("div",u),x=this.options;return this._addScales(x,u+"-line",p),a.on(x.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,p){a.metric&&(this._mScale=tt("div",u,p)),a.imperial&&(this._iScale=tt("div",u,p))},_update:function(){var a=this._map,u=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/a)},_updateImperial:function(a){var u=a*3.2808399,p,x,S;u>5280?(p=u/5280,x=this._getRoundNum(p),this._updateScale(this._iScale,x+" mi",x/p)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),p=a/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),qr=function(a){return new Yo(a)},Ko='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',La=Ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?Ko+" ":"")+"Leaflet</a>"},initialize:function(a){V(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),zs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});et.mergeOptions({attributionControl:!0}),et.addInitHook(function(){this.options.attributionControl&&new La().addTo(this)});var Oa=function(a){return new La(a)};Ln.Layers=Hr,Ln.Zoom=Bs,Ln.Scale=Yo,Ln.Attribution=La,Qn.layers=$o,Qn.zoom=Ql,Qn.scale=qr,Qn.attribution=Oa;var li=pe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});li.addTo=function(a,u){return a.addHandler(u,this),this};var Xl={Events:ae},$i=Oe.touch?"touchstart mousedown":"mousedown",Yi=Te.extend({options:{clickTolerance:3},initialize:function(a,u,p,x){V(this,x),this._element=a,this._dragStartTarget=u||a,this._preventOutline=p},enable:function(){this._enabled||(Ue(this._dragStartTarget,$i,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yi._dragging===this&&this.finishDrag(!0),yt(this._dragStartTarget,$i,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Vr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Yi._dragging===this&&this.finishDrag();return}if(!(Yi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Yi._dragging=this,this._preventOutline&&rr(this._element),Ur(),Ti(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,p=Ma(this._element);this._startPoint=new Q(u.clientX,u.clientY),this._startPos=gs(this._element),this._parentScale=Kn(p);var x=a.type==="mousedown";Ue(document,x?"mousemove":"touchmove",this._onMove,this),Ue(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,p=new Q(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Ht(a),this._moved||(this.fire("dragstart"),this._moved=!0,Pe(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Rt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Nt(document.body,"leaflet-dragging"),this._lastTarget&&(Nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),yt(document,"mousemove touchmove",this._onMove,this),yt(document,"mouseup touchend touchcancel",this._onUp,this),sr(),gn();var u=this._moved&&this._moving;this._moving=!1,Yi._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Wo(a,u,p){var x,S=[1,4,2,8],P,K,ne,oe,ye,Ce,je,Xe;for(P=0,Ce=a.length;P<Ce;P++)a[P]._code=ce(a[P],u);for(ne=0;ne<4;ne++){for(je=S[ne],x=[],P=0,Ce=a.length,K=Ce-1;P<Ce;K=P++)oe=a[P],ye=a[K],oe._code&je?ye._code&je||(Xe=ie(ye,oe,je,u,p),Xe._code=ce(Xe,u),x.push(Xe)):(ye._code&je&&(Xe=ie(ye,oe,je,u,p),Xe._code=ce(Xe,u),x.push(Xe)),x.push(oe));a=x}return a}function Qo(a,u){var p,x,S,P,K,ne,oe,ye,Ce;if(!a||a.length===0)throw new Error("latlngs not passed");pt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var je=Re([0,0]),Xe=Ee(a),An=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());An<1700&&(je=Da(a));var nn=a.length,ui=[];for(p=0;p<nn;p++){var bt=Re(a[p]);ui.push(u.project(Re([bt.lat-je.lat,bt.lng-je.lng])))}for(ne=oe=ye=0,p=0,x=nn-1;p<nn;x=p++)S=ui[p],P=ui[x],K=S.y*P.x-P.y*S.x,oe+=(S.x+P.x)*K,ye+=(S.y+P.y)*K,ne+=K*3;ne===0?Ce=ui[0]:Ce=[oe/ne,ye/ne];var xt=u.unproject(we(Ce));return Re([xt.lat+je.lat,xt.lng+je.lng])}function Da(a){for(var u=0,p=0,x=0,S=0;S<a.length;S++){var P=Re(a[S]);u+=P.lat,p+=P.lng,x++}return Re([u/x,p/x])}var cr={__proto__:null,clipPolygon:Wo,polygonCenter:Qo,centroid:Da};function On(a,u){if(!u||!a.length)return a.slice();var p=u*u;return a=E(a,p),a=Hs(a,p),a}function Xo(a,u,p){return Math.sqrt(Fe(a,u,p,!0))}function Jl(a,u,p){return Fe(a,u,p)}function Hs(a,u){var p=a.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(p);S[0]=S[p-1]=1,f(a,S,u,0,p-1);var P,K=[];for(P=0;P<p;P++)S[P]&&K.push(a[P]);return K}function f(a,u,p,x,S){var P=0,K,ne,oe;for(ne=x+1;ne<=S-1;ne++)oe=Fe(a[ne],a[x],a[S],!0),oe>P&&(K=ne,P=oe);P>p&&(u[K]=1,f(a,u,p,x,K),f(a,u,p,K,S))}function E(a,u){for(var p=[a[0]],x=1,S=0,P=a.length;x<P;x++)Se(a[x],a[S])>u&&(p.push(a[x]),S=x);return S<P-1&&p.push(a[P-1]),p}var C;function k(a,u,p,x,S){var P=x?C:ce(a,p),K=ce(u,p),ne,oe,ye;for(C=K;;){if(!(P|K))return[a,u];if(P&K)return!1;ne=P||K,oe=ie(a,u,ne,p,S),ye=ce(oe,p),ne===P?(a=oe,P=ye):(u=oe,K=ye)}}function ie(a,u,p,x,S){var P=u.x-a.x,K=u.y-a.y,ne=x.min,oe=x.max,ye,Ce;return p&8?(ye=a.x+P*(oe.y-a.y)/K,Ce=oe.y):p&4?(ye=a.x+P*(ne.y-a.y)/K,Ce=ne.y):p&2?(ye=oe.x,Ce=a.y+K*(oe.x-a.x)/P):p&1&&(ye=ne.x,Ce=a.y+K*(ne.x-a.x)/P),new Q(ye,Ce,S)}function ce(a,u){var p=0;return a.x<u.min.x?p|=1:a.x>u.max.x&&(p|=2),a.y<u.min.y?p|=4:a.y>u.max.y&&(p|=8),p}function Se(a,u){var p=u.x-a.x,x=u.y-a.y;return p*p+x*x}function Fe(a,u,p,x){var S=u.x,P=u.y,K=p.x-S,ne=p.y-P,oe=K*K+ne*ne,ye;return oe>0&&(ye=((a.x-S)*K+(a.y-P)*ne)/oe,ye>1?(S=p.x,P=p.y):ye>0&&(S+=K*ye,P+=ne*ye)),K=a.x-S,ne=a.y-P,x?K*K+ne*ne:new Q(S,P)}function pt(a){return!Z(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function gt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pt(a)}function kt(a,u){var p,x,S,P,K,ne,oe,ye;if(!a||a.length===0)throw new Error("latlngs not passed");pt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ce=Re([0,0]),je=Ee(a),Xe=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());Xe<1700&&(Ce=Da(a));var An=a.length,nn=[];for(p=0;p<An;p++){var ui=Re(a[p]);nn.push(u.project(Re([ui.lat-Ce.lat,ui.lng-Ce.lng])))}for(p=0,x=0;p<An-1;p++)x+=nn[p].distanceTo(nn[p+1])/2;if(x===0)ye=nn[0];else for(p=0,P=0;p<An-1;p++)if(K=nn[p],ne=nn[p+1],S=K.distanceTo(ne),P+=S,P>x){oe=(P-x)/S,ye=[ne.x-oe*(ne.x-K.x),ne.y-oe*(ne.y-K.y)];break}var bt=u.unproject(we(ye));return Re([bt.lat+Ce.lat,bt.lng+Ce.lng])}var Si={__proto__:null,simplify:On,pointToSegmentDistance:Xo,closestPointOnSegment:Jl,clipSegment:k,_getEdgeIntersection:ie,_getBitCode:ce,_sqClosestPointOnSegment:Fe,isFlat:pt,_flat:gt,polylineCenter:kt},Ai={project:function(a){return new Q(a.lng,a.lat)},unproject:function(a){return new Ne(a.y,a.x)},bounds:new Y([-180,-90],[180,90])},ci={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,p=this.R,x=a.lat*u,S=this.R_MINOR/p,P=Math.sqrt(1-S*S),K=P*Math.sin(x),ne=Math.tan(Math.PI/4-x/2)/Math.pow((1-K)/(1+K),P/2);return x=-p*Math.log(Math.max(ne,1e-10)),new Q(a.lng*u*p,x)},unproject:function(a){for(var u=180/Math.PI,p=this.R,x=this.R_MINOR/p,S=Math.sqrt(1-x*x),P=Math.exp(-a.y/p),K=Math.PI/2-2*Math.atan(P),ne=0,oe=.1,ye;ne<15&&Math.abs(oe)>1e-7;ne++)ye=S*Math.sin(K),ye=Math.pow((1-ye)/(1+ye),S/2),oe=Math.PI/2-2*Math.atan(P*ye)-K,K+=oe;return new Ne(K*u,a.x*u/p)}},Ki={__proto__:null,LonLat:Ai,Mercator:ci,SphericalMercator:ji},Fr=o({},At,{code:"EPSG:3395",projection:ci,transformation:(function(){var a=.5/(Math.PI*ci.R);return gi(a,.5,-a,.5)})()}),Gr=o({},At,{code:"EPSG:4326",projection:Ai,transformation:gi(1/180,1,-1/180,.5)}),ka=o({},Ge,{projection:Ai,transformation:gi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var p=u.lng-a.lng,x=u.lat-a.lat;return Math.sqrt(p*p+x*x)},infinite:!0});Ge.Earth=At,Ge.EPSG3395=Fr,Ge.EPSG3857=os,Ge.EPSG900913=de,Ge.EPSG4326=Gr,Ge.Simple=ka;var Wi=Te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[m(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[m(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});et.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=m(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=m(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return m(a)in this._layers},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},_addLayers:function(a){a=a?Z(a)?a:[a]:[];for(var u=0,p=a.length;u<p;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[m(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=m(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,p=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ja=Wi.extend({initialize:function(a,u){V(this,u),this._layers={};var p,x;if(a)for(p=0,x=a.length;p<x;p++)this.addLayer(a[p])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),p,x;for(p in this._layers)x=this._layers[p],x[a]&&x[a].apply(x,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return m(a)}}),Sm=function(a,u){return new ja(a,u)},bs=ja.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ja.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ja.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new xe;for(var u in this._layers){var p=this._layers[u];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),zh=function(a,u){return new bs(a,u)},xs=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){V(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(a,u){var p=this.options,x=p[u+"Size"];typeof x=="number"&&(x=[x,x]);var S=we(x),P=we(u==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(p.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Oe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Jo(a){return new xs(a)}var el=xs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof el.imagePath!="string"&&(el.imagePath=this._detectIconPath()),(this.options.imagePath||el.imagePath)+xs.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(p,x,S){var P=x.exec(p);return P&&P[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=tt("div","leaflet-default-icon-path",document.body),u=ir(a,"background-image")||ir(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),tl=li.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Yi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pe(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,p=u._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=gs(u._icon),K=p.getPixelBounds(),ne=p.getPixelOrigin(),oe=ue(K.min._subtract(ne).add(S),K.max._subtract(ne).subtract(S));if(!oe.contains(P)){var ye=we((Math.max(oe.max.x,P.x)-oe.max.x)/(K.max.x-oe.max.x)-(Math.min(oe.min.x,P.x)-oe.min.x)/(K.min.x-oe.min.x),(Math.max(oe.max.y,P.y)-oe.max.y)/(K.max.y-oe.max.y)-(Math.min(oe.min.y,P.y)-oe.min.y)/(K.min.y-oe.min.y)).multiplyBy(x);p.panBy(ye,{animate:!1}),this._draggable._newPos._add(ye),this._draggable._startPos._add(ye),Rt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=U(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,p=u._shadow,x=gs(u._icon),S=u._map.layerPointToLatLng(x);p&&Rt(p,x),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),nl=Wi.extend({options:{icon:new el,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){V(this,u),this._latlng=Re(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Re(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),x=!1;p!==this._icon&&(this._icon&&this._removeIcon(),x=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Pe(p,u),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(p,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(Pe(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&yt(this._icon,"focus",this._panOnFocus,this),st(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&st(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Rt(this._icon,a),this._shadow&&Rt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Dt(this._icon,a),this._shadow&&Dt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,p=u.iconSize?we(u.iconSize):we(0,0),x=u.iconAnchor?we(u.iconAnchor):we(0,0);a.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:p.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Uh(a,u){return new nl(a,u)}var ws=Wi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return V(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Va=ws.extend({options:{fill:!0,radius:10},initialize:function(a,u){V(this,u),this._latlng=Re(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Re(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return ws.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,p=this._clickTolerance(),x=[a+p,u+p];this._pxBounds=new Y(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bh(a,u){return new Va(a,u)}var ec=Va.extend({initialize:function(a,u,p){if(typeof u=="number"&&(u=o({},p,{radius:u})),V(this,u),this._latlng=Re(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:ws.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,p=this._map,x=p.options.crs;if(x.distance===At.distance){var S=Math.PI/180,P=this._mRadius/At.R/S,K=p.project([u+P,a]),ne=p.project([u-P,a]),oe=K.add(ne).divideBy(2),ye=p.unproject(oe).lat,Ce=Math.acos((Math.cos(P*S)-Math.sin(u*S)*Math.sin(ye*S))/(Math.cos(u*S)*Math.cos(ye*S)))/S;(isNaN(Ce)||Ce===0)&&(Ce=P/Math.cos(Math.PI/180*u)),this._point=oe.subtract(p.getPixelOrigin()),this._radius=isNaN(Ce)?0:oe.x-p.project([ye,a-Ce]).x,this._radiusY=oe.y-K.y}else{var je=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(je).x}this._updateBounds()}});function Hh(a,u,p){return new ec(a,u,p)}var qs=ws.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){V(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,p=null,x=Fe,S,P,K=0,ne=this._parts.length;K<ne;K++)for(var oe=this._parts[K],ye=1,Ce=oe.length;ye<Ce;ye++){S=oe[ye-1],P=oe[ye];var je=x(a,S,P,!0);je<u&&(u=je,p=x(a,S,P))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Re(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new xe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],p=pt(a),x=0,S=a.length;x<S;x++)p?(u[x]=Re(a[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(a[x]);return u},_project:function(){var a=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new Q(a,a);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,p){var x=a[0]instanceof Ne,S=a.length,P,K;if(x){for(K=[],P=0;P<S;P++)K[P]=this._map.latLngToLayerPoint(a[P]),p.extend(K[P]);u.push(K)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],u,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,x,S,P,K,ne,oe;for(p=0,S=0,P=this._rings.length;p<P;p++)for(oe=this._rings[p],x=0,K=oe.length;x<K-1;x++)ne=k(oe[x],oe[x+1],a,x,!0),ne&&(u[S]=u[S]||[],u[S].push(ne[0]),(ne[1]!==oe[x+1]||x===K-2)&&(u[S].push(ne[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,p=0,x=a.length;p<x;p++)a[p]=On(a[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var p,x,S,P,K,ne,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,P=this._parts.length;p<P;p++)for(ne=this._parts[p],x=0,K=ne.length,S=K-1;x<K;S=x++)if(!(!u&&x===0)&&Xo(a,ne[S],ne[x])<=oe)return!0;return!1}});function Am(a,u){return new qs(a,u)}qs._flat=gt;var za=qs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=qs.prototype._convertLatLngs.call(this,a),p=u.length;return p>=2&&u[0]instanceof Ne&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(a){qs.prototype._setLatLngs.call(this,a),pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,p=new Q(u,u);if(a=new Y(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,P;x<S;x++)P=Wo(this._rings[x],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,p,x,S,P,K,ne,oe,ye;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,oe=this._parts.length;P<oe;P++)for(p=this._parts[P],K=0,ye=p.length,ne=ye-1;K<ye;ne=K++)x=p[K],S=p[ne],x.y>a.y!=S.y>a.y&&a.x<(S.x-x.x)*(a.y-x.y)/(S.y-x.y)+x.x&&(u=!u);return u||qs.prototype._containsPoint.call(this,a,!0)}});function Cm(a,u){return new za(a,u)}var Fs=bs.extend({initialize:function(a,u){V(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=Z(a)?a:a.features,p,x,S;if(u){for(p=0,x=u.length;p<x;p++)S=u[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var K=Dn(a,P);return K?(K.feature=ic(a),K.defaultOptions=K.options,this.resetStyle(K),P.onEachFeature&&P.onEachFeature(a,K),this.addLayer(K)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Dn(a,u){var p=a.type==="Feature"?a.geometry:a,x=p?p.coordinates:null,S=[],P=u&&u.pointToLayer,K=u&&u.coordsToLatLng||tc,ne,oe,ye,Ce;if(!x&&!p)return null;switch(p.type){case"Point":return ne=K(x),Ua(P,a,ne,u);case"MultiPoint":for(ye=0,Ce=x.length;ye<Ce;ye++)ne=K(x[ye]),S.push(Ua(P,a,ne,u));return new bs(S);case"LineString":case"MultiLineString":return oe=il(x,p.type==="LineString"?0:1,K),new qs(oe,u);case"Polygon":case"MultiPolygon":return oe=il(x,p.type==="Polygon"?1:2,K),new za(oe,u);case"GeometryCollection":for(ye=0,Ce=p.geometries.length;ye<Ce;ye++){var je=Dn({geometry:p.geometries[ye],type:"Feature",properties:a.properties},u);je&&S.push(je)}return new bs(S);case"FeatureCollection":for(ye=0,Ce=p.features.length;ye<Ce;ye++){var Xe=Dn(p.features[ye],u);Xe&&S.push(Xe)}return new bs(S);default:throw new Error("Invalid GeoJSON object.")}}function Ua(a,u,p,x){return a?a(u,p):new nl(p,x&&x.markersInheritOptions&&x)}function tc(a){return new Ne(a[1],a[0],a[2])}function il(a,u,p){for(var x=[],S=0,P=a.length,K;S<P;S++)K=u?il(a[S],u-1,p):(p||tc)(a[S]),x.push(K);return x}function nc(a,u){return a=Re(a),a.alt!==void 0?[N(a.lng,u),N(a.lat,u),N(a.alt,u)]:[N(a.lng,u),N(a.lat,u)]}function sl(a,u,p,x){for(var S=[],P=0,K=a.length;P<K;P++)S.push(u?sl(a[P],pt(a[P])?0:u-1,p,x):nc(a[P],x));return!u&&p&&S.length>0&&S.push(S[0].slice()),S}function ur(a,u){return a.feature?o({},a.feature,{geometry:u}):ic(u)}function ic(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var hr={toGeoJSON:function(a){return ur(this,{type:"Point",coordinates:nc(this.getLatLng(),a)})}};nl.include(hr),ec.include(hr),Va.include(hr),qs.include({toGeoJSON:function(a){var u=!pt(this._latlngs),p=sl(this._latlngs,u?1:0,!1,a);return ur(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),za.include({toGeoJSON:function(a){var u=!pt(this._latlngs),p=u&&!pt(this._latlngs[0]),x=sl(this._latlngs,p?2:u?1:0,!0,a);return u||(x=[x]),ur(this,{type:(p?"Multi":"")+"Polygon",coordinates:x})}}),ja.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(a).geometry.coordinates)}),ur(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var p=u==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(p)x.push(P.geometry);else{var K=ic(P);K.type==="FeatureCollection"?x.push.apply(x,K.features):x.push(K)}}}),p?ur(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function sc(a,u){return new Fs(a,u)}var rl=sc,Ba=Wi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,p){this._url=a,this._bounds=Ee(u),V(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){st(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Bt(this._image),this},bringToBack:function(){return this._map&&ai(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Ee(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:tt("img");if(Pe(u,"leaflet-image-layer"),this._zoomAnimated&&Pe(u,"leaflet-zoom-animated"),this.options.className&&Pe(u,this.options.className),u.onselectstart=T,u.onmousemove=T,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;qi(this._image,p,u)},_reset:function(){var a=this._image,u=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();Rt(a,u.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){Dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),qh=function(a,u,p){return new Ba(a,u,p)},dr=Ba.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:tt("video");if(Pe(u,"leaflet-image-layer"),this._zoomAnimated&&Pe(u,"leaflet-zoom-animated"),this.options.className&&Pe(u,this.options.className),u.onselectstart=T,u.onmousemove=T,u.onloadeddata=d(this.fire,this,"load"),a){for(var p=u.getElementsByTagName("source"),x=[],S=0;S<p.length;S++)x.push(p[S].src);this._url=p.length>0?x:[u.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var K=tt("source");K.src=this._url[P],u.appendChild(K)}}});function Ha(a,u,p){return new dr(a,u,p)}var rc=Ba.extend({_initImage:function(){var a=this._image=this._url;Pe(a,"leaflet-image-layer"),this._zoomAnimated&&Pe(a,"leaflet-zoom-animated"),this.options.className&&Pe(a,this.options.className),a.onselectstart=T,a.onmousemove=T}});function Fh(a,u,p){return new rc(a,u,p)}var kn=Wi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Ne||Z(a))?(this._latlng=Re(a),V(this,u)):(V(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Dt(this._container,1),this.bringToFront(),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Dt(this._container,0),this._removeTimeout=setTimeout(d(st,void 0,this._container),200)):st(this._container),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Re(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bt(this._container),this},bringToBack:function(){return this._map&&ai(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof bs){u=null;var p=this._source._layers;for(var x in p)if(p[x]._map){u=p[x];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=we(this.options.offset),p=this._getAnchor();this._zoomAnimated?Rt(this._container,a.add(p)):u=u.add(a).add(p);var x=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});et.include({_initOverlay:function(a,u,p,x){var S=u;return S instanceof a||(S=new a(x).setContent(u)),p&&S.setLatLng(p),S}}),Wi.include({_initOverlay:function(a,u,p,x){var S=p;return S instanceof a?(V(S,x),S._source=this):(S=u&&!x?u:new a(x,this),S.setContent(p)),S}});var al=kn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,kn.prototype.openOn.call(this,a)},onAdd:function(a){kn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ws||this._source.on("preclick",lt))},onRemove:function(a){kn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ws||this._source.off("preclick",lt))},getEvents:function(){var a=kn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=tt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=tt("div",a+"-content-wrapper",u);if(this._contentNode=tt("div",a+"-content",p),zs(u),Ei(this._contentNode),Ue(u,"contextmenu",lt),this._tipContainer=tt("div",a+"-tip-container",u),this._tip=tt("div",a+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=tt("a",a+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Ue(x,"click",function(S){Ht(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var x=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&x>S?(u.height=S+"px",Pe(a,P)):Nt(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();Rt(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(ir(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,x=this._containerWidth,S=new Q(this._containerLeft,-p-this._containerBottom);S._add(gs(this._container));var P=a.layerPointToContainerPoint(S),K=we(this.options.autoPanPadding),ne=we(this.options.autoPanPaddingTopLeft||K),oe=we(this.options.autoPanPaddingBottomRight||K),ye=a.getSize(),Ce=0,je=0;P.x+x+oe.x>ye.x&&(Ce=P.x+x-ye.x+oe.x),P.x-Ce-ne.x<0&&(Ce=P.x-ne.x),P.y+p+oe.y>ye.y&&(je=P.y+p-ye.y+oe.y),P.y-je-ne.y<0&&(je=P.y-ne.y),(Ce||je)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ce,je]))}},_getAnchor:function(){return we(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gh=function(a,u){return new al(a,u)};et.mergeOptions({closePopupOnClick:!0}),et.include({openPopup:function(a,u,p){return this._initOverlay(al,a,u,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Wi.include({bindPopup:function(a,u){return this._popup=this._initOverlay(al,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof bs||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Fi(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof ws)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ol=kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){kn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){kn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=kn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,p,x=this._map,S=this._container,P=x.latLngToContainerPoint(x.getCenter()),K=x.layerPointToContainerPoint(a),ne=this.options.direction,oe=S.offsetWidth,ye=S.offsetHeight,Ce=we(this.options.offset),je=this._getAnchor();ne==="top"?(u=oe/2,p=ye):ne==="bottom"?(u=oe/2,p=0):ne==="center"?(u=oe/2,p=ye/2):ne==="right"?(u=0,p=ye/2):ne==="left"?(u=oe,p=ye/2):K.x<P.x?(ne="right",u=0,p=ye/2):(ne="left",u=oe+(Ce.x+je.x)*2,p=ye/2),a=a.subtract(we(u,p,!0)).add(Ce).add(je),Nt(S,"leaflet-tooltip-right"),Nt(S,"leaflet-tooltip-left"),Nt(S,"leaflet-tooltip-top"),Nt(S,"leaflet-tooltip-bottom"),Pe(S,"leaflet-tooltip-"+ne),Rt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Dt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return we(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nm=function(a,u){return new ol(a,u)};et.include({openTooltip:function(a,u,p){return this._initOverlay(ol,a,u,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Wi.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ol,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof bs||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Ue(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ue(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,p,x;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),x=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Zh=xs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Ut(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var x=we(p.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Rm(a){return new Zh(a)}xs.Default=el;var qa=Wi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){V(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),st(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof Q?a:new Q(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,p=-a(-1/0,1/0),x=0,S=u.length,P;x<S;x++)P=u[x].style.zIndex,u[x]!==this._container&&P&&(p=a(p,+P));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){Dt(this._container,this.options.opacity);var a=+new Date,u=!1,p=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);Dt(S.el,P),P<1?u=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&($(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=u-Math.abs(a-p),this._onUpdateLevel(p)):(st(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var x=this._levels[a],S=this._map;return x||(x=this._levels[a]={},x.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),x.zoom=a,this._setZoomTransform(x,S.getCenter(),S.getZoom()),T(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var a,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)st(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,p,x){var S=Math.floor(a/2),P=Math.floor(u/2),K=p-1,ne=new Q(+S,+P);ne.z=+K;var oe=this._tileCoordsToKey(ne),ye=this._tiles[oe];return ye&&ye.active?(ye.retain=!0,!0):(ye&&ye.loaded&&(ye.retain=!0),K>x?this._retainParent(S,P,K,x):!1)},_retainChildren:function(a,u,p,x){for(var S=2*a;S<2*a+2;S++)for(var P=2*u;P<2*u+2;P++){var K=new Q(S,P);K.z=p+1;var ne=this._tileCoordsToKey(K),oe=this._tiles[ne];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);p+1<x&&this._retainChildren(S,P,p+1,x)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,p,x){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,u)},_setZoomTransform:function(a,u,p){var x=this._map.getZoomScale(p,a.zoom),S=a.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,p)).round();Oe.any3d?qi(a.el,S,x):Rt(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,p=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],x).x/p.x),Math.ceil(a.project([0,u.wrapLng[1]],x).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],x).y/p.x),Math.ceil(a.project([u.wrapLat[1],0],x).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(p,this._tileZoom),S=u.project(a,this._tileZoom).floor(),P=u.getSize().divideBy(x*2);return new Y(S.subtract(P),S.add(P))},_update:function(a){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(x),P=S.getCenter(),K=[],ne=this.options.keepBuffer,oe=new Y(S.getBottomLeft().subtract([ne,-ne]),S.getTopRight().add([ne,-ne]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ye in this._tiles){var Ce=this._tiles[ye].coords;(Ce.z!==this._tileZoom||!oe.contains(new Q(Ce.x,Ce.y)))&&(this._tiles[ye].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var je=S.min.y;je<=S.max.y;je++)for(var Xe=S.min.x;Xe<=S.max.x;Xe++){var An=new Q(Xe,je);if(An.z=this._tileZoom,!!this._isValidTile(An)){var nn=this._tiles[this._tileCoordsToKey(An)];nn?nn.current=!0:K.push(An)}}if(K.sort(function(bt,xt){return bt.distanceTo(P)-xt.distanceTo(P)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ui=document.createDocumentFragment();for(Xe=0;Xe<K.length;Xe++)this._addTile(K[Xe],ui);this._level.el.appendChild(ui)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!u.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(a);return Ee(this.options.bounds).overlaps(x)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,p=this.getTileSize(),x=a.scaleBy(p),S=x.add(p),P=u.unproject(x,a.z),K=u.unproject(S,a.z);return[P,K]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),p=new xe(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),p=new Q(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(a){var u=this._tiles[a];u&&(st(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Pe(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=T,a.onmousemove=T,Oe.ielt9&&this.options.opacity<1&&Dt(a,this.options.opacity)},_addTile:function(a,u){var p=this._getTilePos(a),x=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&U(d(this._tileReady,this,a,null,S)),Rt(S,p),this._tiles[x]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:a});var x=this._tileCoordsToKey(a);p=this._tiles[x],p&&(p.loaded=+new Date,this._map._fadeAnimated?(Dt(p.el,0),$(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Pe(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new Q(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new Y(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function $h(a){return new qa(a)}var fr=qa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=V(this,u),u.detectRetina&&Oe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var p=document.createElement("img");return Ue(p,"load",d(this._tileOnLoad,this,u,p)),Ue(p,"error",d(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var u={r:Oe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=p),u["-y"]=p}return B(this._url,o(u,this.options))},_tileOnLoad:function(a,u){Oe.ielt9?setTimeout(d(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,p){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),a(p,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,x=this.options.zoomOffset;return p&&(a=u-a),a+x},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=T,u.onerror=T,!u.complete)){u.src=ee;var p=this._tiles[a].coords;st(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",ee),qa.prototype._removeTile.call(this,a)},_tileReady:function(a,u,p){if(!(!this._map||p&&p.getAttribute("src")===ee))return qa.prototype._tileReady.call(this,a,u,p)}});function Ci(a,u){return new fr(a,u)}var ll=fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var p=o({},this.defaultWmsParams);for(var x in u)x in this.options||(p[x]=u[x]);u=V(this,u);var S=u.detectRetina&&Oe.retina?2:1,P=this.getTileSize();p.width=P.x*S,p.height=P.y*S,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,fr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),p=this._crs,x=ue(p.project(u[0]),p.project(u[1])),S=x.min,P=x.max,K=(this._wmsVersion>=1.3&&this._crs===Gr?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),ne=fr.prototype.getTileUrl.call(this,a);return ne+D(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function Ni(a,u){return new ll(a,u)}fr.WMS=ll,Ci.wms=Ni;var Xn=Wi.extend({options:{padding:.1},initialize:function(a){V(this,a),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var p=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),P=x.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(a,u));Oe.any3d?qi(this._container,P,p):Rt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new Y(p,p.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ac=Xn.extend({options:{tolerance:0},getEvents:function(){var a=Xn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ue(a,"mousemove",this._onMouseMove,this),Ue(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ue(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,st(this._container),yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var a=this._bounds,u=this._container,p=a.getSize(),x=Oe.retina?2:1;Rt(u,a.min),u.width=x*p.x,u.height=x*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Xn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[m(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,p=u.next,x=u.prev;p?p.prev=x:this._drawLast=x,x?x.next=p:this._drawFirst=p,delete a._order,delete this._layers[m(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),p=[],x,S;for(S=0;S<u.length;S++){if(x=Number(u[S]),isNaN(x))return;p.push(x)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)a=x.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var p,x,S,P,K=a._parts,ne=K.length,oe=this._ctx;if(ne){for(oe.beginPath(),p=0;p<ne;p++){for(x=0,S=K[p].length;x<S;x++)P=K[p][x],oe[x?"lineTo":"moveTo"](P.x,P.y);u&&oe.closePath()}this._fillStroke(oe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,p=this._ctx,x=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||x)/x;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(u.x,u.y/S,x,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,u){var p=u.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),p,x,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(x=p);this._fireEvent(x?[x]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var p,x,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(u)&&(x=p);x!==this._hoveredLayer&&(this._handleMouseOut(a),x&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([x],a,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,p){this._map._fireDOMEvent(u,p||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var p=u.next,x=u.prev;if(p)p.prev=x;else return;x?x.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var p=u.next,x=u.prev;if(x)x.next=p;else return;p?p.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function cl(a){return Oe.canvas?new ac(a):null}var mr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ou={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=mr("shape");Pe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=mr("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[m(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;st(u),a.removeInteractiveTarget(u),delete this._layers[m(a)]},_updateStyle:function(a){var u=a._stroke,p=a._fill,x=a.options,S=a._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(u||(u=a._stroke=mr("stroke")),S.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=Z(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(S.removeChild(u),a._stroke=null),x.fill?(p||(p=a._fill=mr("fill")),S.appendChild(p),p.color=x.fillColor||x.color,p.opacity=x.fillOpacity):p&&(S.removeChild(p),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),p=Math.round(a._radius),x=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+x+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Bt(a._container)},_bringToBack:function(a){ai(a._container)}},Ts=Oe.vml?mr:Ke,Fa=Xn.extend({_initContainer:function(){this._container=Ts("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ts("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){st(this._container),yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var a=this._bounds,u=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),Rt(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Ts("path");a.options.className&&Pe(u,a.options.className),a.options.interactive&&Pe(u,"leaflet-interactive"),this._updateStyle(a),this._layers[m(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){st(a._path),a.removeInteractiveTarget(a._path),delete this._layers[m(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,p=a.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,vt(a._parts,u))},_updateCircle:function(a){var u=a._point,p=Math.max(Math.round(a._radius),1),x=Math.max(Math.round(a._radiusY),1)||p,S="a"+p+","+x+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(u.x-p)+","+u.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(a,P)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Bt(a._path)},_bringToBack:function(a){ai(a._path)}});Oe.vml&&Fa.include(ou);function ul(a){return Oe.svg||Oe.vml?new Fa(a):null}et.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&cl(a)||ul(a)}});var Zr=za.extend({initialize:function(a,u){za.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Ee(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Im(a,u){return new Zr(a,u)}Fa.create=Ts,Fa.pointsToPath=vt,Fs.geometryToLayer=Dn,Fs.coordsToLatLng=tc,Fs.coordsToLatLngs=il,Fs.latLngToCoords=nc,Fs.latLngsToCoords=sl,Fs.getFeature=ur,Fs.asFeature=ic,et.mergeOptions({boxZoom:!0});var Jn=li.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){st(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ti(),Ur(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ue(document,{contextmenu:Fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),Pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new Y(this._point,this._startPoint),p=u.getSize();Rt(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(st(this._box),Nt(this._container,"leaflet-crosshair")),gn(),sr(),yt(document,{contextmenu:Fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});et.addInitHook("addHandler","boxZoom",Jn),et.mergeOptions({doubleClickZoom:!0});var oc=li.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,p=u.getZoom(),x=u.options.zoomDelta,S=a.originalEvent.shiftKey?p-x:p+x;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});et.addInitHook("addHandler","doubleClickZoom",oc),et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Es=li.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Yi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nt(this._map._container,"leaflet-grab"),Nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Ee(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),p=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-u+p)%a+u-p,P=(x+u+p)%a-u-p,K=Math.abs(S+p)<Math.abs(P+p)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(a){var u=this._map,p=u.options,x=!p.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),x)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,K=p.easeLinearity,ne=S.multiplyBy(K/P),oe=ne.distanceTo([0,0]),ye=Math.min(p.inertiaMaxSpeed,oe),Ce=ne.multiplyBy(ye/oe),je=ye/(p.inertiaDeceleration*K),Xe=Ce.multiplyBy(-je/2).round();!Xe.x&&!Xe.y?u.fire("moveend"):(Xe=u._limitOffset(Xe,u.options.maxBounds),U(function(){u.panBy(Xe,{duration:je,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});et.addInitHook("addHandler","dragging",Es),et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var lu=li.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ue(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,p=a.scrollTop||u.scrollTop,x=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},p=this.keyCodes,x,S;for(x=0,S=p.left.length;x<S;x++)u[p.left[x]]=[-1*a,0];for(x=0,S=p.right.length;x<S;x++)u[p.right[x]]=[a,0];for(x=0,S=p.down.length;x<S;x++)u[p.down[x]]=[0,a];for(x=0,S=p.up.length;x<S;x++)u[p.up[x]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},p=this.keyCodes,x,S;for(x=0,S=p.zoomIn.length;x<S;x++)u[p.zoomIn[x]]=a;for(x=0,S=p.zoomOut.length;x<S;x++)u[p.zoomOut[x]]=-a},_addHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,p=this._map,x;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(x=this._panKeys[u],a.shiftKey&&(x=we(x).multiplyBy(3)),p.options.maxBounds&&(x=p._limitOffset(we(x),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(x)));p.panTo(S)}else p.panBy(x)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Fi(a)}}});et.addInitHook("addHandler","keyboard",lu),et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var hl=li.extend({addHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){yt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=_n(a),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var x=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),x),Fi(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,P=p?Math.ceil(S/p)*p:S,K=a._limitZoom(u+(this._delta>0?P:-P))-u;this._delta=0,this._startTime=null,K&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+K):a.setZoomAround(this._lastMousePos,u+K))}});et.addInitHook("addHandler","scrollWheelZoom",hl);var $r=600;et.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var lc=li.extend({addHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new Q(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Ue(document,"touchend",Ht),Ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),$r),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){yt(document,"touchend",Ht),yt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),yt(document,"touchend touchcancel contextmenu",this._cancel,this),yt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new Q(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});et.addInitHook("addHandler","tapHold",lc),et.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var cu=li.extend({addHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(x)._divideBy(2))),this._startDist=p.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),Ht(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]),S=p.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=p._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var K=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(K,this,!0),Ht(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),yt(document,"touchmove",this._onTouchMove,this),yt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});et.addInitHook("addHandler","touchZoom",cu),et.BoxZoom=Jn,et.DoubleClickZoom=oc,et.Drag=Es,et.Keyboard=lu,et.ScrollWheelZoom=hl,et.TapHold=lc,et.TouchZoom=cu,t.Bounds=Y,t.Browser=Oe,t.CRS=Ge,t.Canvas=ac,t.Circle=ec,t.CircleMarker=Va,t.Class=pe,t.Control=Ln,t.DivIcon=Zh,t.DivOverlay=kn,t.DomEvent=vs,t.DomUtil=ar,t.Draggable=Yi,t.Evented=Te,t.FeatureGroup=bs,t.GeoJSON=Fs,t.GridLayer=qa,t.Handler=li,t.Icon=xs,t.ImageOverlay=Ba,t.LatLng=Ne,t.LatLngBounds=xe,t.Layer=Wi,t.LayerGroup=ja,t.LineUtil=Si,t.Map=et,t.Marker=nl,t.Mixin=Xl,t.Path=ws,t.Point=Q,t.PolyUtil=cr,t.Polygon=za,t.Polyline=qs,t.Popup=al,t.PosAnimation=Us,t.Projection=Ki,t.Rectangle=Zr,t.Renderer=Xn,t.SVG=Fa,t.SVGOverlay=rc,t.TileLayer=fr,t.Tooltip=ol,t.Transformation=as,t.Util=q,t.VideoOverlay=dr,t.bind=d,t.bounds=ue,t.canvas=cl,t.circle=Hh,t.circleMarker=Bh,t.control=Qn,t.divIcon=Rm,t.extend=o,t.featureGroup=zh,t.geoJSON=sc,t.geoJson=rl,t.gridLayer=$h,t.icon=Jo,t.imageOverlay=qh,t.latLng=Re,t.latLngBounds=Ee,t.layerGroup=Sm,t.map=lr,t.marker=Uh,t.point=we,t.polygon=Cm,t.polyline=Am,t.popup=Gh,t.rectangle=Im,t.setOptions=V,t.stamp=m,t.svg=ul,t.svgOverlay=Fh,t.tileLayer=Ci,t.tooltip=Nm,t.transformation=gi,t.version=s,t.videoOverlay=Ha;var uu=window.L;t.noConflict=function(){return window.L=uu,this},window.L=t}))})(th,th.exports)),th.exports}var Em=T3();const RS=Hw(Em);function IS(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function PS(n,e){return e==null?function(s,o){const c=H.useRef(void 0);return c.current||(c.current=n(s,o)),c}:function(s,o){const c=H.useRef(void 0);c.current||(c.current=n(s,o));const d=H.useRef(s),{instance:_}=c.current;return H.useEffect(function(){d.current!==s&&(e(_,s,d.current),d.current=s)},[_,s,e]),c}}function E3(n,e){H.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function MS(n){return function(t){const s=CS(),o=n(NS(t,s),s);return p3(s.map,t.attribution),x3(o.current,t.eventHandlers),E3(o.current,s),o}}function S3(n,e){const t=PS(n,e),s=MS(t);return v3(s)}function A3(n,e){const t=PS(n,e),s=MS(t);return b3(s)}function C3(n,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function N3(){return CS().map}function R3(n){const e=N3();return H.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function I3({bounds:n,boundsOptions:e,center:t,children:s,className:o,id:c,placeholder:d,style:_,whenReady:m,zoom:v,...w},T){const[N]=H.useState({className:o,id:c,style:_}),[R,j]=H.useState(null),V=H.useRef(void 0);H.useImperativeHandle(T,()=>R?.map??null,[R]);const D=H.useCallback(B=>{if(B!==null&&!V.current){const Z=new Em.Map(B,w);V.current=Z,t!=null&&v!=null?Z.setView(t,v):n!=null&&Z.fitBounds(n,e),m!=null&&Z.whenReady(m),j(_3(Z))}},[]);H.useEffect(()=>()=>{R?.map.remove()},[R]);const O=R?an.createElement(jy,{value:R},s):d??null;return an.createElement("div",{...N,ref:D},O)}const P3=H.forwardRef(I3),M3=S3(function({position:e,...t},s){const o=new Em.Marker(e,t);return IS(o,y3(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),L3=A3(function({url:e,...t},s){const o=new Em.TileLayer(e,NS(t,s));return IS(o,s)},function(e,t,s){C3(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)});delete RS.Icon.Default.prototype._getIconUrl;RS.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function O3({position:n,setPosition:e,setAddress:t}){const s=R3({click(o){e(o.latlng),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.latlng.lat}&lon=${o.latlng.lng}`).then(c=>c.json()).then(c=>{c&&c.display_name&&t(c.display_name)}).catch(c=>console.error("Error reverse geocoding",c))}});return H.useEffect(()=>{n&&s.flyTo(n,16)},[n,s]),n===null?null:y.jsx(M3,{position:n})}const D3=({onConfirm:n,initialLocation:e})=>{const[t,s]=H.useState(e?{lat:e.lat,lng:e.lng}:null),[o,c]=H.useState(e?.address||""),[d,_]=H.useState(""),[m,v]=H.useState(!1),w=[-12.0464,-77.0428],T=async R=>{if(R.preventDefault(),!!d){v(!0);try{const V=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(d)}`)).json();if(V&&V.length>0){const D=V[0],O={lat:parseFloat(D.lat),lng:parseFloat(D.lon)};s(O),c(D.display_name)}else console.log("No location found")}catch(j){console.error("Search error:",j)}finally{v(!1)}}},N=()=>{t&&n({lat:t.lat,lng:t.lng,address:o})};return y.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[y.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[y.jsxs("form",{onSubmit:T,className:"relative flex gap-2",children:[y.jsxs("div",{className:"relative flex-grow",children:[y.jsx("input",{type:"text",value:d,onChange:R=>_(R.target.value),placeholder:"Buscar ciudad, calle o lugar...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-[#fc7f51] focus:ring-1 focus:ring-[#fc7f51] outline-none text-sm"}),y.jsx(Tm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),y.jsx("button",{type:"submit",disabled:m,className:"bg-[#262626] text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-black transition disabled:opacity-70",children:m?y.jsx(Bf,{className:"w-4 h-4 animate-spin"}):"Buscar"})]}),o&&y.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-start gap-1",children:[y.jsx(pa,{className:"w-3 h-3 mt-0.5 text-[#fc7f51]"}),y.jsx("span",{className:"line-clamp-2",children:o})]})]}),y.jsx("div",{className:"flex-grow min-h-[300px] relative z-0",children:y.jsxs(P3,{center:w,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[y.jsx(L3,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),y.jsx(O3,{position:t,setPosition:s,setAddress:c})]})}),y.jsx("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-end",children:y.jsx("button",{type:"button",onClick:N,disabled:!t,className:"bg-[#fc7f51] text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-[#e56b3e] transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ubicacin"})})]})},k3=()=>{const{user:n,userData:e}=Vo(),[t,s]=H.useState(!1),[o,c]=H.useState(!1),[d,_]=H.useState(null),[m,v]=H.useState("properties"),[w,T]=H.useState(""),[N,R]=H.useState(!1),[j,V]=H.useState({displayName:"",email:"",phoneNumber:"",newPassword:""}),[D,O]=H.useState(!1),[B,Z]=H.useState([]),[J,ee]=H.useState({title:"",content:""}),[me,z]=H.useState(null),[I,F]=H.useState(!1),[G,U]=H.useState([]),[$,q]=H.useState([]),[pe,Le]=H.useState({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),[ae,Te]=H.useState([]),[Q,Ae]=H.useState([]),[we,Y]=H.useState(!0);H.useEffect(()=>{e?.isActivated&&(fetchMyProperties(),(async()=>{try{const Ke=Ks(Un(nt,"inquiries"),ho("agentId","==",n.uid)),vt=await ua(Ke);Ae(vt.docs.map(it=>({id:it.id,...it.data()})))}catch(Ke){console.error("Error fetching inquiries:",Ke)}})())},[n,e]);const ue=async de=>{de.preventDefault(),R(!0);try{const Ke=Ks(Un(nt,"activation_codes"),ho("code","==",w),ho("used","==",!1)),vt=await ua(Ke);if(vt.empty){Ze.error("Cdigo invlido o ya usado."),R(!1);return}const it=vt.docs[0];await fo(Tn(nt,"activation_codes",it.id),{used:!0,usedBy:n.uid,usedAt:new Date}),await fo(Tn(nt,"users",n.uid),{isActivated:!0,activationCode:w}),Ze.success("Cuenta activada con xito! Recargando..."),setTimeout(()=>window.location.reload(),1500)}catch(Ke){console.error("Error activating account:",Ke),Ze.error("Error al activar la cuenta.")}finally{R(!1)}},xe=async de=>{de.preventDefault(),O(!0);try{if(j.displayName!==n.displayName&&await updateProfile(n,{displayName:j.displayName}),j.email!==n.email&&await updateEmail(n,j.email),await fo(Tn(nt,"users",n.uid),{displayName:j.displayName,email:j.email,phoneNumber:j.phoneNumber}),j.newPassword){if(j.newPassword.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");await updatePassword(n,j.newPassword),V(un=>({...un,newPassword:""})),Ze.success("Contrasea actualizada.")}const Ke=writeBatch(nt),vt=Ks(Un(nt,"properties"),ho("agentId","==",n.uid));(await ua(vt)).forEach(un=>{Ke.update(un.ref,{agentName:j.displayName})}),await Ke.commit(),Ze.success("Perfil actualizado correctamente."),fetchMyProperties()}catch(Ke){console.error("Error updating profile:",Ke),Ze.error("Error al actualizar perfil. Si cambiaste el email, podras necesitar volver a iniciar sesin.")}finally{O(!1)}},Ee=async de=>{de.preventDefault(),F(!0);try{me?(await fo(Tn(nt,"tips",me),{...J,updatedAt:new Date}),Ze.success("Tip actualizado.")):(await Bc(Un(nt,"tips"),{...J,agentId:n.uid,agentName:n.displayName||"Agente",createdAt:new Date,likes:0}),Ze.success("Tip publicado.")),ee({title:"",content:""}),z(null);const Ke=Ks(Un(nt,"tips"),ho("agentId","==",n.uid),orderBy("createdAt","desc")),vt=await ua(Ke);Z(vt.docs.map(it=>({id:it.id,...it.data()})))}catch(Ke){console.error("Error saving tip:",Ke),Ze.error("Error al guardar el tip.")}finally{F(!1)}},Ne=async de=>{if(window.confirm("Seguro que quieres eliminar este tip?"))try{await deleteDoc(Tn(nt,"tips",de)),Z(Ke=>Ke.filter(vt=>vt.id!==de)),Ze.success("Tip eliminado.")}catch(Ke){console.error("Error deleting tip:",Ke)}},Re=de=>{ee({title:de.title,content:de.content}),z(de.id),v("tips")},Ge=async(de,Ke)=>{const vt=Ke==="disponible"?"tomada":"disponible";try{await fo(Tn(nt,"properties",de),{status:vt}),Ze.success(`Estado actualizado a: ${vt==="disponible"?"Disponible":"No Disponible"}`)}catch(it){console.error("Error updating status:",it),Ze.error("No se pudo actualizar el estado.")}},At=de=>{const Ke=Array.from(de.target.files),vt=Ke.map(it=>URL.createObjectURL(it));q(it=>[...it,...vt]),U(it=>[...it,...Ke])},Ct=de=>{if($[de].startsWith("blob:")){const vt=$.slice(0,de).filter(it=>it.startsWith("blob:")).length;U(it=>it.filter((un,Vt)=>Vt!==vt))}q(vt=>vt.filter((it,un)=>un!==de))},ji=de=>{_(de.id),Le({title:de.title,description:de.description,type:de.type,currency:de.currency||"USD",price:de.price,category:de.category,location:de.location,footage:de.footage,bedrooms:de.bedrooms||"",bathrooms:de.bathrooms||"",antiquityType:de.antiquityType||"estreno",antiquityYears:de.antiquityYears||"",lat:de.lat||"",lng:de.lng||"",antiquity:de.antiquity||"estreno",floor:de.floor||"",elevator:de.elevator||!1,parking:de.parking||!1,isExclusive:de.isExclusive||!1}),q(de.images||[]),U([]),v("properties"),window.scrollTo({top:0,behavior:"smooth"})},as=()=>{_(null),Le({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),q([]),U([])},gi=async de=>{de.preventDefault(),s(!0);try{const Ke=G.map(async it=>{const un=xk(Ck,`properties/${n.uid}/${Date.now()}_${it.name}`),Vt=await vk(un,it);return await bk(Vt.ref)}),vt=await Promise.all(Ke);if(d){const it={...pe,price:parseFloat(pe.price),footage:parseFloat(pe.footage),bedrooms:pe.category==="construido"?parseInt(pe.bedrooms):0,bathrooms:pe.category==="construido"?parseInt(pe.bathrooms):0};imageUrls.length>0&&(it.images=[...$.filter(un=>un.startsWith("http")),...imageUrls]),await fo(Tn(nt,"properties",d),it),Ze.success("Propiedad actualizada con xito!")}else await Bc(Un(nt,"properties"),{...pe,agentId:n.uid,agentName:e.displayName||"Agente",images:imageUrls,createdAt:new Date,status:"disponible",views:0,isPromoted:!1,price:parseFloat(pe.price),footage:parseFloat(pe.footage),bedrooms:pe.category==="construido"?parseInt(pe.bedrooms):0,bathrooms:pe.category==="construido"?parseInt(pe.bathrooms):0}),Ze.success("Propiedad publicada con xito!"),Le({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),U([]),q([]),_(null),fetchMyProperties()}catch(Ke){console.error("Error adding property: ",Ke),Ze.error("Hubo un error al publicar la propiedad.")}finally{s(!1)}};H.useEffect(()=>{(async()=>{const Ke=Ks(Un(nt,"activation_codes"),ho("code","==","AGENT2024"));(await ua(Ke)).empty&&await Bc(Un(nt,"activation_codes"),{code:"AGENT2024",used:!1,createdAt:new Date,type:"standard"})})()},[]);const os=e?.isActivated;return y.jsx("div",{className:"min-h-screen bg-gray-50 pt-28 pb-12 px-6",children:y.jsxs("div",{className:"container mx-auto max-w-6xl",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold font-[Montserrat] text-gray-800 mb-6",children:"Panel de Agente"}),y.jsxs("div",{className:"flex flex-wrap gap-4 border-b border-gray-200",children:[y.jsx("button",{onClick:()=>v("properties"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="properties"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mis Propiedades"}),y.jsx("button",{onClick:()=>v("inquiries"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="inquiries"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Solicitudes"}),y.jsx("button",{onClick:()=>v("tips"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="tips"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tips Inmobiliarios"}),y.jsx("button",{onClick:()=>v("profile"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="profile"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mi Perfil"})]})]}),os?y.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[m==="properties"&&y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 h-fit",children:[y.jsx("div",{className:"bg-[#16151a] p-6 text-white",children:y.jsx("h2",{className:"text-xl font-bold",children:d?"Editar Propiedad":"Nueva Propiedad"})}),y.jsxs("form",{onSubmit:gi,className:"p-8 space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),y.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Ej: Departamento en Miraflores",value:pe.title,onChange:de=>Le({...pe,title:de.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),y.jsxs("div",{className:"flex",children:[y.jsxs("select",{className:"w-24 px-2 py-3 rounded-l-lg border border-r-0 border-gray-200 bg-gray-50 text-sm font-bold",value:pe.currency,onChange:de=>Le({...pe,currency:de.target.value}),children:[y.jsx("option",{value:"USD",children:"USD"}),y.jsx("option",{value:"PEN",children:"PEN"})]}),y.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-r-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"0.00",value:pe.price,onChange:de=>Le({...pe,price:de.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operacin"}),y.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:pe.type,onChange:de=>Le({...pe,type:de.target.value}),children:[y.jsx("option",{value:"venta",children:"Venta"}),y.jsx("option",{value:"alquiler",children:"Alquiler"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),y.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:pe.category,onChange:de=>Le({...pe,category:de.target.value}),children:[y.jsx("option",{value:"construido",children:"Construido"}),y.jsx("option",{value:"terreno",children:"Terreno"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metraje (m)"}),y.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"120",value:pe.footage,onChange:de=>Le({...pe,footage:de.target.value})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Antigedad"}),y.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:pe.antiquity,onChange:de=>Le({...pe,antiquity:de.target.value}),children:[y.jsx("option",{value:"estreno",children:"Estreno"}),y.jsx("option",{value:"preventa",children:"Pre-Venta"}),y.jsx("option",{value:"up_to_5",children:"Hasta 5 aos"}),y.jsx("option",{value:"5_to_10",children:"5 a 10 aos"}),y.jsx("option",{value:"more_than_10",children:"Ms de 10 aos"}),y.jsx("option",{value:"more_than_20",children:"Ms de 20 aos"})]})]}),y.jsx("div",{className:"flex items-center pt-8",children:y.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[y.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:pe.isExclusive,onChange:de=>Le({...pe,isExclusive:de.target.checked})}),y.jsx("span",{className:"font-bold text-[#fc7f51]",children:"Es Exclusiva?"})]})})]}),pe.category==="construido"&&y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaciones"}),y.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:pe.bedrooms,onChange:de=>Le({...pe,bedrooms:de.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Baos"}),y.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:pe.bathrooms,onChange:de=>Le({...pe,bathrooms:de.target.value})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("div",{className:"relative flex-grow",children:[y.jsx(pa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Direccin o Link Maps",value:pe.location,onChange:de=>Le({...pe,location:de.target.value})})]}),y.jsx("button",{type:"button",onClick:()=>c(!0),className:"bg-[#262626] text-white px-4 rounded-lg hover:bg-black transition flex items-center justify-center",title:"Buscar en Mapa",children:y.jsx(pa,{className:"w-5 h-5"})})]})]}),o&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-[600px] flex flex-col overflow-hidden relative",children:[y.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[y.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Seleccionar Ubicacin"}),y.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:y.jsx(wh,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"flex-grow p-0",children:y.jsx(D3,{onConfirm:de=>{Le({...pe,location:de.address||`${de.lat}, ${de.lng}`,lat:de.lat,lng:de.lng}),c(!1)}})})]})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),y.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-24 resize-none",value:pe.description,onChange:de=>Le({...pe,description:de.target.value})})]}),y.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[y.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:At,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),y.jsx(v5,{className:"h-6 w-6 text-[#fc7f51] mx-auto mb-2"}),y.jsx("p",{className:"text-gray-500 text-sm",children:"Subir fotos"})]}),$.length>0&&y.jsx("div",{className:"grid grid-cols-4 gap-2",children:$.map((de,Ke)=>y.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[y.jsx("img",{src:de,alt:"",className:"w-full h-full object-cover"}),y.jsx("button",{type:"button",onClick:()=>Ct(Ke),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5",children:y.jsx(wh,{className:"w-3 h-3"})})]},Ke))}),y.jsxs("div",{className:"flex gap-2",children:[d&&y.jsx("button",{type:"button",onClick:as,className:"flex-1 bg-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cancelar"}),y.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2",children:t?y.jsx(Bf,{className:"animate-spin"}):d?"Actualizar Propiedad":"Publicar Propiedad"})]})]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Propiedades"}),y.jsxs("span",{className:"bg-orange-100 text-[#fc7f51] px-3 py-1 rounded-full text-sm font-bold",children:[ae.length," Total"]})]}),we?y.jsx("div",{className:"flex justify-center py-12",children:y.jsx(Bf,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):ae.length===0?y.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No has publicado ninguna propiedad an."}):y.jsx("div",{className:"grid gap-4",children:ae.map(de=>y.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4",children:[y.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:y.jsx("img",{src:de.images?.[0]||"https://via.placeholder.com/150",alt:de.title,className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"flex-grow",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:de.title}),y.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${de.status==="disponible"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:de.status})]}),y.jsx("p",{className:"text-gray-500 text-xs mt-1",children:de.location}),y.jsxs("p",{className:"text-[#fc7f51] font-bold text-sm mt-1",children:["$",de.price?.toLocaleString()]}),y.jsxs("div",{className:"mt-3 flex gap-2",children:[y.jsx("button",{onClick:()=>Ge(de.id,de.status),className:`tx-xs px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 text-center ${de.status==="disponible"?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:de.status==="disponible"?"Marcar Vendido/Alquilado":"Marcar Disponible"}),y.jsx("button",{onClick:()=>ji(de),className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-100 transition",children:"Editar"})]})]})]},de.id))})]})]}),m==="profile"&&y.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[y.jsx(User,{className:"w-6 h-6 text-[#fc7f51]"})," Editar Perfil"]}),y.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Publico"}),y.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.displayName,onChange:de=>V({...j,displayName:de.target.value}),required:!0}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este nombre aparecer en todas tus propiedades publicadas."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),y.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.email,onChange:de=>V({...j,email:de.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),y.jsx("input",{type:"tel",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.phoneNumber,onChange:de=>V({...j,phoneNumber:de.target.value})})]}),y.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea (Opcional)"}),y.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Dejar vaca para mantener la actual",value:j.newPassword||"",onChange:de=>V({...j,newPassword:de.target.value})}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres."})]}),y.jsx("button",{type:"submit",disabled:D,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-xl hover:bg-[#e56b3e] transition disabled:opacity-70",children:D?"Guardando...":"Guardar Cambios"})]})]}),m==="inquiries"&&y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Solicitudes de Clientes"}),Q.length===0?y.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No tienes solicitudes de contacto pendientes."}):y.jsx("div",{className:"space-y-4",children:Q.map(de=>y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800",children:de.clientName}),y.jsxs("p",{className:"text-sm text-gray-500",children:[de.clientPhone,"  ",de.clientEmail||"Sin email"]})]}),y.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-600",children:de.timestamp?.seconds?new Date(de.timestamp.seconds*1e3).toLocaleDateString():"Reciente"})]}),y.jsxs("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg text-sm italic",children:['"',de.clientMessage,'"']}),y.jsxs("div",{className:"mt-2 text-xs text-[#fc7f51] font-bold",children:["Interesado en: ",de.propertyTitle]})]},de.id))})]}),m==="tips"&&y.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsx("div",{className:"md:col-span-1",children:y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-24",children:[y.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:me?"Editar Tip":"Nuevo Tip"}),y.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Ttulo del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:J.title,onChange:de=>ee({...J,title:de.target.value}),required:!0}),y.jsx("textarea",{placeholder:"Contenido del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-32 resize-none",value:J.content,onChange:de=>ee({...J,content:de.target.value}),required:!0}),y.jsx("button",{type:"submit",disabled:I,className:"w-full bg-[#fc7f51] text-white font-bold py-2 rounded-lg hover:bg-[#e56b3e] transition",children:me?"Actualizar":"Publicar"}),me&&y.jsx("button",{type:"button",onClick:()=>{z(null),ee({title:"",content:""})},className:"w-full bg-gray-100 text-gray-600 font-bold py-2 rounded-lg hover:bg-gray-200 transition",children:"Cancelar"})]})]})}),y.jsxs("div",{className:"md:col-span-2 space-y-4",children:[y.jsxs("h3",{className:"font-bold text-gray-800 mb-4",children:["Tips Publicados (",B.length,")"]}),B.length===0?y.jsx("p",{className:"text-gray-500 text-center py-10",children:"No has publicado tips an."}):B.map(de=>y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative group",children:[y.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:de.title}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:de.content}),y.jsx("div",{className:"text-xs text-gray-400",children:de.createdAt?.seconds?new Date(de.createdAt.seconds*1e3).toLocaleDateString():"Reciente"}),y.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[y.jsx("button",{onClick:()=>Re(de),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:y.jsx(FileText,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>Ne(de.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:y.jsx(Trash2,{className:"w-4 h-4"})})]})]},de.id))]})]})]}):y.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:y.jsx(X4,{className:"w-8 h-8 text-[#fc7f51]"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cuenta Inactiva"}),y.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Ingresa tu cdigo de activacin para acceder al panel."}),y.jsxs("form",{onSubmit:ue,className:"w-full space-y-4",children:[y.jsx("input",{type:"text",value:w,onChange:de=>T(de.target.value.toUpperCase()),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition text-center font-mono text-lg tracking-widest uppercase",placeholder:"CDIGO",required:!0}),y.jsx("button",{type:"submit",disabled:N,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition disabled:opacity-70",children:N?"Verificando...":"Activar Cuenta"})]})]})]})})},j3=()=>{const{user:n}=Vo(),[e,t]=H.useState([]),[s,o]=H.useState(!0);return H.useEffect(()=>{(async()=>{try{const d=Ks(Un(nt,"properties")),m=(await ua(d)).docs.map(v=>({id:v.id,...v.data()}));console.log("ClientDashboard Fetched properties:",m),t(m)}catch(d){console.error("Error fetching properties:",d)}finally{o(!1)}})()},[n]),y.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:y.jsxs("div",{className:"container mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:["Hola, ",n?.displayName||"Usuario"]}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Bienvenido a tu panel personal. Aqu encontrars las propiedades que te interesan."})]}),y.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1",children:[y.jsx("button",{className:"px-4 py-2 text-[#fc7f51] border-b-2 border-[#fc7f51] font-bold",children:"Mis Favoritos"}),y.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Vistos Recientemente"}),y.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Alertas"})]}),s?y.jsx("div",{className:"flex justify-center py-20",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#fc7f51]"})}):e.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden group border border-gray-100",children:[y.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[y.jsx("img",{src:c.images?.[0]||"https://images.unsplash.com/photo-1600596542815-9ad4dc2f2072?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),y.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500",children:y.jsx(zf,{className:"w-5 h-5 fill-current"})}),y.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider",children:c.type})]}),y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:c.title}),y.jsxs("span",{className:"text-[#fc7f51] font-bold text-lg",children:["$",c.price?.toLocaleString()]})]}),y.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.location}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-4",children:[c.category==="construido"?y.jsxs(y.Fragment,{children:[y.jsxs("span",{children:[c.bedrooms," Hab"]}),y.jsx("span",{children:""}),y.jsxs("span",{children:[c.bathrooms," Baos"]}),y.jsx("span",{children:""})]}):y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"Terreno"}),y.jsx("span",{children:""})]}),y.jsxs("span",{children:[c.footage," m"]})]}),y.jsx(pn,{to:`/properties/${c.id}`,className:"mt-4 block w-full py-3 bg-gray-50 hover:bg-[#fc7f51] hover:text-white text-gray-600 font-bold text-center rounded-xl transition text-sm",children:"Ver Detalles"})]})]},c.id))}):y.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[y.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(zf,{className:"w-8 h-8 text-[#fc7f51]"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"An no tienes favoritos"}),y.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explora nuestro catlogo y guarda las propiedades que ms te gusten para verlas aqu."}),y.jsxs(pn,{to:"/",className:"inline-flex items-center gap-2 bg-[#fc7f51] text-white px-8 py-3 rounded-full font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:[y.jsx(Tm,{className:"w-5 h-5"}),"Explorar Propiedades"]})]})]})})},V3=()=>{const[n,e]=H.useState({totalAgents:0,totalProperties:0,activeCodes:0}),[t,s]=H.useState([]),[o,c]=H.useState(!0),[d,_]=H.useState(!1),[m,v]=H.useState(null),[w,T]=H.useState([]),[N,R]=H.useState(!1),[j,V]=H.useState(!1),D=async()=>{try{const ee=Ks(Un(nt,"users"),ho("role","==","agente")),me=await Sw(ee),z=await Sw(Un(nt,"properties")),I=Ks(Un(nt,"activation_codes"),oD("createdAt","desc")),G=(await ua(I)).docs.map(U=>({id:U.id,...U.data()}));s(G),e({totalAgents:me.data().count,totalProperties:z.data().count,activeCodes:G.filter(U=>!U.used).length})}catch(ee){console.error("Error fetching admin stats:",ee),Ze.error("Error al cargar estadsticas")}finally{c(!1)}};H.useEffect(()=>{D()},[]);const O=async()=>{_(!0);try{const ee="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let me="";for(let z=0;z<8;z++)me+=ee.charAt(Math.floor(Math.random()*ee.length));await Bc(Un(nt,"activation_codes"),{code:me,used:!1,createdAt:new Date,usedBy:null,usedAt:null}),Ze.success("Cdigo generado correctamente!"),D()}catch(ee){console.error("Error generating code:",ee),Ze.error("No se pudo generar el cdigo")}finally{_(!1)}},B=ee=>{navigator.clipboard.writeText(ee),Ze.success("Cdigo copiado al portapapeles")},Z=async ee=>{if(ee){R(!0),V(!0),T([]);try{const me=await Uc(Tn(nt,"users",ee));if(me.exists())v({id:me.id,...me.data()});else{v(null),Ze.error("Usuario no encontrado (probablemente ya eliminado).");return}const z=Ks(Un(nt,"properties"),ho("agentId","==",ee)),F=(await ua(z)).docs.map(G=>({id:G.id,...G.data()}));T(F)}catch(me){console.error("Error details:",me),Ze.error("Error al cargar detalles")}finally{R(!1)}}},J=async()=>{if(!(!m||!window.confirm(`Ests seguro de que quieres eliminar a ${m.displayName||"este usuario"} y todas sus propiedades? Esta accin no se puede deshacer.`)))try{const ee=w.map(me=>Aw(Tn(nt,"properties",me.id)));await Promise.all(ee),await Aw(Tn(nt,"users",m.id)),Ze.success("Usuario y sus propiedades eliminados."),V(!1),D()}catch(ee){console.error("Error deleting user:",ee),Ze.error("Error al eliminar usuario.")}};return o?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx(Lg,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):y.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:[y.jsxs("div",{className:"container mx-auto max-w-6xl",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:"Panel Super Admin"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Gestin general de la plataforma"})]}),y.jsx("button",{onClick:D,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition shadow-sm",children:y.jsx(Lg,{className:"w-5 h-5 text-gray-500"})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[y.jsx("div",{className:"bg-orange-50 p-4 rounded-xl",children:y.jsx(lS,{className:"w-8 h-8 text-[#fc7f51]"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Agentes Registrados"}),y.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalAgents})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[y.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:y.jsx(rS,{className:"w-8 h-8 text-blue-500"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Inmuebles Publicados"}),y.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalProperties})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[y.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:y.jsx(Uf,{className:"w-8 h-8 text-green-500"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Cdigos Disponibles"}),y.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.activeCodes})]})]})]}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[y.jsxs("div",{className:"p-8 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cdigos de Activacin"}),y.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Genera cdigos nicos para activar cuentas de agentes."})]}),y.jsxs("button",{onClick:O,disabled:d,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/20 transition flex items-center gap-2 disabled:opacity-70",children:[d?y.jsx(Lg,{className:"w-5 h-5 animate-spin"}):y.jsx(Uf,{className:"w-5 h-5"}),"Generar Nuevo Cdigo"]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CDIGO"}),y.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ESTADO"}),y.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CREADO EL"}),y.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"USADO POR"}),y.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ACCIONES"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-50",children:t.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"5",className:"px-8 py-8 text-center text-gray-400",children:"No hay cdigos generados an."})}):t.map(ee=>y.jsxs("tr",{className:"hover:bg-gray-50/50 transition",children:[y.jsx("td",{className:"px-8 py-4",children:y.jsx("span",{className:"font-mono font-bold text-lg text-gray-700 tracking-wider",children:ee.code})}),y.jsx("td",{className:"px-8 py-4",children:ee.used?y.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Usado"}):y.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Disponible"})}),y.jsx("td",{className:"px-8 py-4 text-sm text-gray-500",children:ee.createdAt?.toDate().toLocaleDateString()}),y.jsx("td",{className:"px-8 py-4 text-sm text-gray-500 relative group cursor-pointer",onClick:()=>ee.usedBy&&Z(ee.usedBy),children:ee.usedBy?y.jsxs("div",{className:"flex items-center gap-2 hover:text-[#fc7f51] transition",children:[y.jsx("span",{children:ee.usedBy}),y.jsx(Vf,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}):"-"}),y.jsx("td",{className:"px-8 py-4",children:ee.used?y.jsx("button",{onClick:()=>Z(ee.usedBy),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition",title:"Ver Detalles",children:y.jsx(Vf,{className:"w-5 h-5"})}):y.jsx("button",{onClick:()=>B(ee.code),className:"text-[#fc7f51] hover:text-[#e56b3e] p-2 hover:bg-orange-50 rounded-lg transition",title:"Copiar cdigo",children:y.jsx(L4,{className:"w-5 h-5"})})})]},ee.id))})]})})]})]}),j&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[y.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Detalles del Agente"}),y.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-gray-200 rounded-full transition",children:y.jsx(wh,{className:"w-5 h-5 text-gray-500"})})]}),y.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:N?y.jsx("div",{className:"flex justify-center py-12",children:y.jsx(Loader2,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):m?y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-bold text-gray-800",children:m.displayName||"Sin Nombre"}),y.jsx("p",{className:"text-gray-500",children:m.email}),y.jsx("p",{className:"text-gray-500 text-sm mt-1",children:m.phoneNumber||"Sin Telfono"}),y.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-orange-100 text-[#fc7f51] text-xs font-bold rounded-lg uppercase",children:m.role})]}),y.jsxs("button",{onClick:J,className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition",children:[y.jsx(p5,{className:"w-4 h-4"}),"Eliminar Usuario"]})]}),y.jsxs("div",{children:[y.jsxs("h4",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:["Propiedades Publicadas (",w.length,")"]}),w.length===0?y.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Este usuario no tiene propiedades."}):y.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map(ee=>y.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex gap-3 hover:bg-gray-50 transition",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:ee.images?.[0]&&y.jsx("img",{src:ee.images[0],className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:ee.title}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:ee.location}),y.jsxs("p",{className:"text-[#fc7f51] font-bold text-xs mt-1",children:["$",ee.price?.toLocaleString()]})]})]},ee.id))})]})]}):y.jsx("p",{className:"text-center text-red-500",children:"No se pudo cargar la informacin."})})]})})]})},z3=()=>{const{user:n}=Vo(),[e,t]=H.useState(!1),s=async()=>{t(!0);try{const c=[{title:"Modern Apartment in Downtown",price:25e4,location:"Downtown City Center",type:"venta",category:"construido",bedrooms:2,bathrooms:2,footage:85,description:"Stunning view of the city.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"]},{title:"Cozy Family Home",price:1500,location:"Suburban Area",type:"alquiler",category:"construido",bedrooms:3,bathrooms:2,footage:120,description:"Ideal for a small family.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1560184897-ae75f418493e"]}];for(const d of c)await Bc(Un(nt,"properties"),d);Ze.success("Propiedades de demostracin creadas!")}catch(c){console.error("Error creating demo props:",c),Ze.error("Error al crear propiedades demo")}finally{t(!1)}},o=async()=>{if(!n){Ze.error("Debes iniciar sesin primero.");return}t(!0);try{const c=Tn(nt,"users",n.uid);await fo(c,{role:"superadmin",isActivated:!0}),Ze.success(`Rol actualizado! Ahora eres Super Admin: ${n.email}`),setTimeout(()=>window.location.reload(),1500)}catch(c){console.error("Error making superadmin:",c),Ze.error("Error al actualizar rol")}finally{t(!1)}};return y.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 space-y-8",children:y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg border border-gray-100 text-center",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Configuracin Inicial"}),y.jsx("p",{className:"text-gray-500 mb-8",children:"Usa estas herramientas para inicializar tu base de datos."}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:[y.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"1. Configurar Admin"}),y.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Convierte tu usuario actual (",n?.email||"No logueado",") en Super Admin."]}),y.jsx("button",{onClick:o,disabled:e||!n,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Hacerme Super Admin"})]}),y.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[y.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"2. Datos de Prueba"}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crea propiedades de ejemplo para ver cmo luce el dashboard."}),y.jsx("button",{onClick:s,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Crear Propiedades Demo"})]})]}),y.jsx("p",{className:"mt-8 text-xs text-gray-400",children:"Nota: Esta pgina debe ser eliminada o asegurada antes de produccin."})]})})};function U3(){const e=Mr().pathname==="/superadmin";return y.jsx(y4,{children:y.jsxs("div",{className:"flex flex-col min-h-screen",children:[!e&&y.jsx(c3,{}),y.jsx("main",{className:"flex-grow",children:y.jsxs(tC,{children:[y.jsx(Ns,{path:"/",element:y.jsx(I5,{})}),y.jsx(Ns,{path:"/about",element:y.jsx(l3,{})}),y.jsx(Ns,{path:"/contact",element:y.jsx(h3,{})}),y.jsx(Ns,{path:"/properties/:id",element:y.jsx(o3,{})}),y.jsx(Ns,{path:"/login",element:y.jsx(d3,{})}),y.jsx(Ns,{path:"/register",element:y.jsx(f3,{})}),y.jsx(Ns,{path:"/forgot-password",element:y.jsx(m3,{})}),y.jsx(Ns,{path:"/setup",element:y.jsx(z3,{})}),y.jsx(Ns,{path:"/agent-dashboard",element:y.jsx(Mg,{allowedRoles:["agente"],children:y.jsx(k3,{})})}),y.jsx(Ns,{path:"/client-dashboard",element:y.jsx(Mg,{allowedRoles:["cliente"],children:y.jsx(j3,{})})}),y.jsx(Ns,{path:"/superadmin",element:y.jsx(Mg,{allowedRoles:["superadmin"],children:y.jsx(V3,{})})})]})}),!e&&y.jsx(u3,{})]})})}iA.createRoot(document.getElementById("root")).render(y.jsx(H.StrictMode,{children:y.jsx(SC,{children:y.jsx(U3,{})})}));
