(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Kw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ug={exports:{}},$u={};var zb;function cA(){if(zb)return $u;zb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var _ in o)_!=="key"&&(c[_]=o[_])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:d,ref:o!==void 0?o:null,props:c}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var Ub;function uA(){return Ub||(Ub=1,ug.exports=cA()),ug.exports}var p=uA(),hg={exports:{}},Xe={};var Bb;function hA(){if(Bb)return Xe;Bb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),N=Symbol.iterator;function R(z){return z===null||typeof z!="object"?null:(z=N&&z[N]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,D={};function O(z,X,pe){this.props=z,this.context=X,this.refs=D,this.updater=pe||k}O.prototype.isReactComponent={},O.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},O.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function q(){}q.prototype=O.prototype;function $(z,X,pe){this.props=z,this.context=X,this.refs=D,this.updater=pe||k}var J=$.prototype=new q;J.constructor=$,U(J,O.prototype),J.isPureReactComponent=!0;var te=Array.isArray;function me(){}var V={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function F(z,X,pe){var be=pe.ref;return{$$typeof:n,type:z,key:X,ref:be!==void 0?be:null,props:pe}}function G(z,X){return F(z.type,X,z.props)}function H(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function Y(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return X[pe]})}var Z=/\/+/g;function de(z,X){return typeof z=="object"&&z!==null&&z.key!=null?Y(""+z.key):X.toString(36)}function Ie(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(me,me):(z.status="pending",z.then(function(X){z.status==="pending"&&(z.status="fulfilled",z.value=X)},function(X){z.status==="pending"&&(z.status="rejected",z.reason=X)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function re(z,X,pe,be,Ae){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var Ue=!1;if(z===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(z.$$typeof){case n:case e:Ue=!0;break;case w:return Ue=z._init,re(Ue(z._payload),X,pe,be,Ae)}}if(Ue)return Ae=Ae(z),Ue=be===""?"."+de(z,0):be,te(Ae)?(pe="",Ue!=null&&(pe=Ue.replace(Z,"$&/")+"/"),re(Ae,X,pe,"",function(Vi){return Vi})):Ae!=null&&(H(Ae)&&(Ae=G(Ae,pe+(Ae.key==null||z&&z.key===Ae.key?"":(""+Ae.key).replace(Z,"$&/")+"/")+Ue)),X.push(Ae)),1;Ue=0;var Ct=be===""?".":be+":";if(te(z))for(var Nt=0;Nt<z.length;Nt++)be=z[Nt],Ce=Ct+de(be,Nt),Ue+=re(be,X,pe,Ce,Ae);else if(Nt=R(z),typeof Nt=="function")for(z=Nt.call(z),Nt=0;!(be=z.next()).done;)be=be.value,Ce=Ct+de(be,Nt++),Ue+=re(be,X,pe,Ce,Ae);else if(Ce==="object"){if(typeof z.then=="function")return re(Ie(z),X,pe,be,Ae);throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function Se(z,X,pe){if(z==null)return z;var be=[],Ae=0;return re(z,be,"","",function(Ce){return X.call(pe,Ce,Ae++)}),be}function le(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var ge=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ee={map:Se,forEach:function(z,X,pe){Se(z,function(){X.apply(this,arguments)},pe)},count:function(z){var X=0;return Se(z,function(){X++}),X},toArray:function(z){return Se(z,function(X){return X})||[]},only:function(z){if(!H(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Xe.Activity=E,Xe.Children=Ee,Xe.Component=O,Xe.Fragment=t,Xe.Profiler=o,Xe.PureComponent=$,Xe.StrictMode=s,Xe.Suspense=m,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return V.H.useMemoCache(z)}},Xe.cache=function(z){return function(){return z.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(z,X,pe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var be=U({},z.props),Ae=z.key;if(X!=null)for(Ce in X.key!==void 0&&(Ae=""+X.key),X)!I.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(be[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)be.children=pe;else if(1<Ce){for(var Ue=Array(Ce),Ct=0;Ct<Ce;Ct++)Ue[Ct]=arguments[Ct+2];be.children=Ue}return F(z.type,Ae,be)},Xe.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},Xe.createElement=function(z,X,pe){var be,Ae={},Ce=null;if(X!=null)for(be in X.key!==void 0&&(Ce=""+X.key),X)I.call(X,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Ae[be]=X[be]);var Ue=arguments.length-2;if(Ue===1)Ae.children=pe;else if(1<Ue){for(var Ct=Array(Ue),Nt=0;Nt<Ue;Nt++)Ct[Nt]=arguments[Nt+2];Ae.children=Ct}if(z&&z.defaultProps)for(be in Ue=z.defaultProps,Ue)Ae[be]===void 0&&(Ae[be]=Ue[be]);return F(z,Ce,Ae)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(z){return{$$typeof:_,render:z}},Xe.isValidElement=H,Xe.lazy=function(z){return{$$typeof:w,_payload:{_status:-1,_result:z},_init:le}},Xe.memo=function(z,X){return{$$typeof:v,type:z,compare:X===void 0?null:X}},Xe.startTransition=function(z){var X=V.T,pe={};V.T=pe;try{var be=z(),Ae=V.S;Ae!==null&&Ae(pe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(me,ge)}catch(Ce){ge(Ce)}finally{X!==null&&pe.types!==null&&(X.types=pe.types),V.T=X}},Xe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Xe.use=function(z){return V.H.use(z)},Xe.useActionState=function(z,X,pe){return V.H.useActionState(z,X,pe)},Xe.useCallback=function(z,X){return V.H.useCallback(z,X)},Xe.useContext=function(z){return V.H.useContext(z)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(z,X){return V.H.useDeferredValue(z,X)},Xe.useEffect=function(z,X){return V.H.useEffect(z,X)},Xe.useEffectEvent=function(z){return V.H.useEffectEvent(z)},Xe.useId=function(){return V.H.useId()},Xe.useImperativeHandle=function(z,X,pe){return V.H.useImperativeHandle(z,X,pe)},Xe.useInsertionEffect=function(z,X){return V.H.useInsertionEffect(z,X)},Xe.useLayoutEffect=function(z,X){return V.H.useLayoutEffect(z,X)},Xe.useMemo=function(z,X){return V.H.useMemo(z,X)},Xe.useOptimistic=function(z,X){return V.H.useOptimistic(z,X)},Xe.useReducer=function(z,X,pe){return V.H.useReducer(z,X,pe)},Xe.useRef=function(z){return V.H.useRef(z)},Xe.useState=function(z){return V.H.useState(z)},Xe.useSyncExternalStore=function(z,X,pe){return V.H.useSyncExternalStore(z,X,pe)},Xe.useTransition=function(){return V.H.useTransition()},Xe.version="19.2.4",Xe}var qb;function Ay(){return qb||(qb=1,hg.exports=hA()),hg.exports}var B=Ay();const rn=Kw(B);var dg={exports:{}},Yu={},fg={exports:{}},mg={};var Hb;function dA(){return Hb||(Hb=1,(function(n){function e(re,Se){var le=re.length;re.push(Se);e:for(;0<le;){var ge=le-1>>>1,Ee=re[ge];if(0<o(Ee,Se))re[ge]=Se,re[le]=Ee,le=ge;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Se=re[0],le=re.pop();if(le!==Se){re[0]=le;e:for(var ge=0,Ee=re.length,z=Ee>>>1;ge<z;){var X=2*(ge+1)-1,pe=re[X],be=X+1,Ae=re[be];if(0>o(pe,le))be<Ee&&0>o(Ae,pe)?(re[ge]=Ae,re[be]=le,ge=be):(re[ge]=pe,re[X]=le,ge=X);else if(be<Ee&&0>o(Ae,le))re[ge]=Ae,re[be]=le,ge=be;else break e}}return Se}function o(re,Se){var le=re.sortIndex-Se.sortIndex;return le!==0?le:re.id-Se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();n.unstable_now=function(){return d.now()-_}}var m=[],v=[],w=1,E=null,N=3,R=!1,k=!1,U=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function J(re){for(var Se=t(v);Se!==null;){if(Se.callback===null)s(v);else if(Se.startTime<=re)s(v),Se.sortIndex=Se.expirationTime,e(m,Se);else break;Se=t(v)}}function te(re){if(U=!1,J(re),!k)if(t(m)!==null)k=!0,me||(me=!0,Y());else{var Se=t(v);Se!==null&&Ie(te,Se.startTime-re)}}var me=!1,V=-1,I=5,F=-1;function G(){return D?!0:!(n.unstable_now()-F<I)}function H(){if(D=!1,me){var re=n.unstable_now();F=re;var Se=!0;try{e:{k=!1,U&&(U=!1,q(V),V=-1),R=!0;var le=N;try{t:{for(J(re),E=t(m);E!==null&&!(E.expirationTime>re&&G());){var ge=E.callback;if(typeof ge=="function"){E.callback=null,N=E.priorityLevel;var Ee=ge(E.expirationTime<=re);if(re=n.unstable_now(),typeof Ee=="function"){E.callback=Ee,J(re),Se=!0;break t}E===t(m)&&s(m),J(re)}else s(m);E=t(m)}if(E!==null)Se=!0;else{var z=t(v);z!==null&&Ie(te,z.startTime-re),Se=!1}}break e}finally{E=null,N=le,R=!1}Se=void 0}}finally{Se?Y():me=!1}}}var Y;if(typeof $=="function")Y=function(){$(H)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,de=Z.port2;Z.port1.onmessage=H,Y=function(){de.postMessage(null)}}else Y=function(){O(H,0)};function Ie(re,Se){V=O(function(){re(n.unstable_now())},Se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(re){switch(N){case 1:case 2:case 3:var Se=3;break;default:Se=N}var le=N;N=Se;try{return re()}finally{N=le}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(re,Se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=N;N=re;try{return Se()}finally{N=le}},n.unstable_scheduleCallback=function(re,Se,le){var ge=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ge+le:ge):le=ge,re){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=le+Ee,re={id:w++,callback:Se,priorityLevel:re,startTime:le,expirationTime:Ee,sortIndex:-1},le>ge?(re.sortIndex=le,e(v,re),t(m)===null&&re===t(v)&&(U?(q(V),V=-1):U=!0,Ie(te,le-ge))):(re.sortIndex=Ee,e(m,re),k||R||(k=!0,me||(me=!0,Y()))),re},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(re){var Se=N;return function(){var le=N;N=Se;try{return re.apply(this,arguments)}finally{N=le}}}})(mg)),mg}var Fb;function fA(){return Fb||(Fb=1,fg.exports=dA()),fg.exports}var pg={exports:{}},Jn={};var Gb;function mA(){if(Gb)return Jn;Gb=1;var n=Ay();function e(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,v,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:m,containerInfo:v,implementation:w}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jn.createPortal=function(m,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(m,v,null,w)},Jn.flushSync=function(m){var v=d.T,w=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=v,s.p=w,s.d.f()}},Jn.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(m,v))},Jn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Jn.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,R=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:R}):w==="script"&&s.d.X(m,{crossOrigin:E,integrity:N,fetchPriority:R,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Jn.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=_(v.as,v.crossOrigin);s.d.M(m,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(m)},Jn.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin);s.d.L(m,w,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Jn.preloadModule=function(m,v){if(typeof m=="string")if(v){var w=_(v.as,v.crossOrigin);s.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(m)},Jn.requestFormReset=function(m){s.d.r(m)},Jn.unstable_batchedUpdates=function(m,v){return m(v)},Jn.useFormState=function(m,v,w){return d.H.useFormState(m,v,w)},Jn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jn.version="19.2.4",Jn}var Zb;function Ww(){if(Zb)return pg.exports;Zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pg.exports=mA(),pg.exports}var $b;function pA(){if($b)return Yu;$b=1;var n=fA(),e=Ay(),t=Ww();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function d(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function _(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(c(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var y=l.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===l)return m(y),i;if(b===h)return m(y),r;b=b.sibling}throw Error(s(188))}if(l.return!==h.return)l=y,h=b;else{for(var A=!1,M=y.child;M;){if(M===l){A=!0,l=y,h=b;break}if(M===h){A=!0,h=y,l=b;break}M=M.sibling}if(!A){for(M=b.child;M;){if(M===l){A=!0,l=b,h=y;break}if(M===h){A=!0,h=b,l=y;break}M=M.sibling}if(!A)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function w(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=w(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case te:return"Suspense";case me:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case $:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case J:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:de(i.type)||"Memo";case I:r=i._payload,i=i._init;try{return de(i(r))}catch{}}return null}var Ie=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ge=[],Ee=-1;function z(i){return{current:i}}function X(i){0>Ee||(i.current=ge[Ee],ge[Ee]=null,Ee--)}function pe(i,r){Ee++,ge[Ee]=i.current,i.current=r}var be=z(null),Ae=z(null),Ce=z(null),Ue=z(null);function Ct(i,r){switch(pe(Ce,r),pe(Ae,i),pe(be,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?lb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=lb(r),i=cb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(be),pe(be,i)}function Nt(){X(be),X(Ae),X(Ce)}function Vi(i){i.memoizedState!==null&&pe(Ue,i);var r=be.current,l=cb(r,i.type);r!==l&&(pe(Ae,i),pe(be,l))}function cs(i){Ae.current===i&&(X(be),X(Ae)),Ue.current===i&&(X(Ue),Hu._currentValue=le)}var yi,us;function _i(i){if(yi===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);yi=r&&r[1]||"",us=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yi+i+us}var sr=!1;function se(i,r){if(!i||sr)return"";sr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(fe){var ue=fe}Reflect.construct(i,[],we)}else{try{we.call()}catch(fe){ue=fe}i.call(we.prototype)}}else{try{throw Error()}catch(fe){ue=fe}(we=i())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(fe){if(fe&&ue&&typeof fe.stack=="string")return[fe.stack,ue.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),A=b[0],M=b[1];if(A&&M){var W=A.split(`
`),oe=M.split(`
`);for(y=h=0;h<W.length&&!W[h].includes("DetermineComponentFrameRoot");)h++;for(;y<oe.length&&!oe[y].includes("DetermineComponentFrameRoot");)y++;if(h===W.length||y===oe.length)for(h=W.length-1,y=oe.length-1;1<=h&&0<=y&&W[h]!==oe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(W[h]!==oe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||W[h]!==oe[y]){var ye=`
`+W[h].replace(" at new "," at ");return i.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",i.displayName)),ye}while(1<=h&&0<=y);break}}}finally{sr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?_i(l):""}function Ye(i,r){switch(i.tag){case 26:case 27:case 5:return _i(i.type);case 16:return _i("Lazy");case 13:return i.child!==r&&r!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return se(i.type,!1);case 11:return se(i.type.render,!1);case 1:return se(i.type,!0);case 31:return _i("Activity");default:return""}}function st(i){try{var r="",l=null;do r+=Ye(i,l),l=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var qe=Object.prototype.hasOwnProperty,gt=n.unstable_scheduleCallback,Zn=n.unstable_cancelCallback,Zl=n.unstable_shouldYield,zo=n.unstable_requestPaint,zn=n.unstable_now,Vr=n.unstable_getCurrentPriorityLevel,zr=n.unstable_ImmediatePriority,Ca=n.unstable_UserBlockingPriority,Ls=n.unstable_NormalPriority,lu=n.unstable_LowPriority,Uo=n.unstable_IdlePriority,Bo=n.log,$l=n.unstable_setDisableYieldValue,vi=null,un=null;function ri(i){if(typeof Bo=="function"&&$l(i),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(vi,i)}catch{}}var Yt=Math.clz32?Math.clz32:Yl,rr=Math.log,Na=Math.LN2;function Yl(i){return i>>>=0,i===0?32:31-(rr(i)/Na|0)|0}var zi=256,ar=262144,Kt=4194304;function hs(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ds(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~b,h!==0?y=hs(h):(A&=M,A!==0?y=hs(A):l||(l=M&~i,l!==0&&(y=hs(l))))):(M=h&~b,M!==0?y=hs(M):A!==0?y=hs(A):l||(l=h&~i,l!==0&&(y=hs(l)))),y===0?0:r!==0&&r!==y&&(r&b)===0&&(b=y&-y,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:y}function Ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function cu(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var i=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),i}function fs(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Os(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function uu(i,r,l,h,y,b){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,W=i.expirationTimes,oe=i.hiddenUpdates;for(l=A&~l;0<l;){var ye=31-Yt(l),we=1<<ye;M[ye]=0,W[ye]=-1;var ue=oe[ye];if(ue!==null)for(oe[ye]=null,ye=0;ye<ue.length;ye++){var fe=ue[ye];fe!==null&&(fe.lane&=-536870913)}l&=~we}h!==0&&Ur(i,h,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~r))}function Ur(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Yt(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function qo(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Yt(l),y=1<<h;y&r|i[h]&r&&(i[h]|=r),l&=~y}}function Ho(i,r){var l=r&-r;return l=(l&42)!==0?1:Rn(l),(l&(i.suspendedLanes|r))!==0?0:l}function Rn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oe(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fo(){var i=Se.p;return i!==0?i:(i=window.event,i===void 0?32:Mb(i.type))}function bi(i,r){var l=Se.p;try{return Se.p=i,r()}finally{Se.p=l}}var xi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+xi,Jt="__reactProps$"+xi,Bi="__reactContainer$"+xi,qi="__reactEvents$"+xi,Wl="__reactListeners$"+xi,Ql="__reactHandles$"+xi,Xl="__reactResources$"+xi,ms="__reactMarker$"+xi;function Ra(i){delete i[Wt],delete i[Jt],delete i[qi],delete i[Wl],delete i[Ql]}function Hi(i){var r=i[Wt];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Bi]||l[Wt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=gb(i);i!==null;){if(l=i[Wt])return l;i=gb(i)}return r}i=l,l=i.parentNode}return null}function wi(i){if(i=i[Wt]||i[Bi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ps(i){var r=i[Xl];return r||(r=i[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function en(i){i[ms]=!0}var Go=new Set,Zo={};function gs(i,r){Ei(i,r),Ei(i+"Capture",r)}function Ei(i,r){for(Zo[i]=r,i=0;i<r.length;i++)Go.add(r[i])}var Ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ia={},Pa={};function or(i){return qe.call(Pa,i)?!0:qe.call(Ia,i)?!1:Ds.test(i)?Pa[i]=!0:(Ia[i]=!0,!1)}function rt(i,r,l){if(or(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function at(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Bt(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}function qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ai(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Br(i,r,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(A){l=""+A,b.call(this,A)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Me(i){if(!i._valueTracker){var r=ai(i)?"checked":"value";i._valueTracker=Br(i,r,""+i[r])}}function Rt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=ai(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Ti(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ys=/[\n"\\]/g;function jt(i){return i.replace(ys,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ma(i,r,l,h,y,b,A,M){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qt(r)):i.value!==""+qt(r)&&(i.value=""+qt(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?Fi(i,A,qt(r)):l!=null?Fi(i,A,qt(l)):h!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+qt(M):i.removeAttribute("name")}function qr(i,r,l,h,y,b,A,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){Me(i);return}l=l!=null?""+qt(l):"",r=r!=null?""+qt(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Me(i)}function Fi(i,r,l){r==="number"&&Ti(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function It(i,r,l,h){if(i=i.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=r.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+qt(l),r=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function _s(i,r,l){if(r!=null&&(r=""+qt(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+qt(l):""}function Si(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Ie(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=qt(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Me(i)}function pn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var La=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ks(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||La.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Hr(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in r)h=r[y],r.hasOwnProperty(y)&&l[y]!==h&&ks(i,y,h)}else for(var b in r)r.hasOwnProperty(b)&&ks(i,b,r[b])}function lr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(i){return vs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $n(){}var Oa=null;function Yn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ur=null,Be=null;function Pn(i){var r=wi(i);if(r&&(i=r.stateNode)){var l=i[Jt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ma(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var y=h[Jt]||null;if(!y)throw Error(s(90));Ma(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Rt(h)}break e;case"textarea":_s(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&It(i,!!l.multiple,r,!1)}}}var bt=!1;function js(i,r,l){if(bt)return i(r,l);bt=!0;try{var h=i(r);return h}finally{if(bt=!1,(ur!==null||Be!==null)&&(Cd(),ur&&(r=ur,i=Be,Be=ur=null,Pn(r),i)))for(r=0;r<i.length;r++)Pn(i[r])}}function oi(i,r){var l=i.stateNode;if(l===null)return null;var h=l[Jt]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Kn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Vs=!1}var Ai=null,zs=null,Ht=null;function Gi(){if(Ht)return Ht;var i,r=zs,l=r.length,h,y="value"in Ai?Ai.value:Ai.textContent,b=y.length;for(i=0;i<l&&r[i]===y[i];i++);var A=l-i;for(h=1;h<=A&&r[l-h]===y[b-h];h++);return Ht=y.slice(i,1<h?1-h:void 0)}function hr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function bs(){return!0}function Zi(){return!1}function gn(i){function r(l,h,y,b,A){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bs:Zi,this.isPropagationStopped=Zi,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=gn($i),Us=E({},$i,{view:0,detail:0}),it=gn(Us),dr,Mn,Wn,Gr=E({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Wn&&(Wn&&i.type==="mousemove"?(dr=i.screenX-Wn.screenX,Mn=i.screenY-Wn.screenY):Mn=dr=0,Wn=i),dr)},movementY:function(i){return"movementY"in i?i.movementY:Mn}}),$o=gn(Gr),Bs=E({},Gr,{dataTransfer:0}),Jl=gn(Bs),Yo=E({},Us,{relatedTarget:0}),Zr=gn(Yo),Ko=E({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=gn(Ko),ka=E({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),li=gn(ka),ec=E({},$i,{data:0}),Yi=gn(ec),Ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ja(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Qo[i])?!!r[i]:!1}function fr(){return ja}var Ln=E({},Us,{key:function(i){if(i.key){var r=Ki[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=hr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(i){return i.type==="keypress"?hr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Xo=gn(Ln),tc=E({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=gn(tc),f=E({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),T=gn(f),C=E({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=gn(C),ie=E({},Gr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),he=gn(ie),Ne=E({},$i,{newState:0,oldState:0}),Ke=gn(Ne),yt=[9,13,27,32],_t=Kn&&"CompositionEvent"in window,Vt=null;Kn&&"documentMode"in document&&(Vt=document.documentMode);var Ci=Kn&&"TextEvent"in window&&!Vt,Ni=Kn&&(!_t||Vt&&8<Vt&&11>=Vt),ci=" ",Wi=!1;function $r(i,r){switch(i){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yr(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Va=!1;function Qi(i,r){switch(i){case"compositionend":return Yr(r);case"keypress":return r.which!==32?null:(Wi=!0,ci);case"textInput":return i=r.data,i===ci&&Wi?null:i;default:return null}}function za(i,r){if(Va)return i==="compositionend"||!_t&&$r(i,r)?(i=Gi(),Ht=zs=Ai=null,Va=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ni&&r.locale!=="ko"?null:r.data;default:return null}}var Nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ws(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Nm[i.type]:r==="textarea"}function Fh(i,r,l,h){ur?Be?Be.push(h):Be=[h]:ur=h,r=Od(r,"onChange"),0<r.length&&(l=new xs("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Es=null,Jo=null;function el(i){nb(i,0)}function tl(i){var r=In(i);if(Rt(r))return i}function nl(i,r){if(i==="change")return r}var Gh=!1;if(Kn){var Ts;if(Kn){var Ua="oninput"in document;if(!Ua){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),Ua=typeof Zh.oninput=="function"}Ts=Ua}else Ts=!1;Gh=Ts&&(!document.documentMode||9<document.documentMode)}function nc(){Es&&(Es.detachEvent("onpropertychange",$h),Jo=Es=null)}function $h(i){if(i.propertyName==="value"&&tl(Jo)){var r=[];Fh(r,Jo,i,Yn(i)),js(el,r)}}function Hs(i,r,l){i==="focusin"?(nc(),Es=r,Jo=l,Es.attachEvent("onpropertychange",$h)):i==="focusout"&&nc()}function Rm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tl(Jo)}function Ba(i,r){if(i==="click")return tl(r)}function Im(i,r){if(i==="input"||i==="change")return tl(r)}function Fs(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var On=typeof Object.is=="function"?Object.is:Fs;function qa(i,r){if(On(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!qe.call(r,y)||!On(i[y],r[y]))return!1}return!0}function ic(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function il(i,r){var l=ic(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ic(l)}}function sc(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?sc(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function sl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ti(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Ti(i.document)}return r}function mr(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var rc=Kn&&"documentMode"in document&&11>=document.documentMode,pr=null,ac=null,rl=null,Ha=!1;function Yh(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ha||pr==null||pr!==Ti(h)||(h=pr,"selectionStart"in h&&mr(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),rl&&qa(rl,h)||(rl=h,h=Od(ac,"onSelect"),0<h.length&&(r=new xs("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=pr)))}function gr(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Fa={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},oc={},Kh={};Kn&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Dn(i){if(oc[i])return oc[i];if(!Fa[i])return i;var r=Fa[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Kh)return oc[i]=r[l];return i}var al=Dn("animationend"),Wh=Dn("animationiteration"),ol=Dn("animationstart"),Pm=Dn("transitionrun"),Qh=Dn("transitionstart"),Mm=Dn("transitioncancel"),Ga=Dn("transitionend"),Xh=new Map,yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yr.push("scrollEnd");function Ri(i,r){Xh.set(i,r),gs(r,[i])}var ll=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ii=[],Qn=0,lc=0;function cl(){for(var i=Qn,r=lc=Qn=0;r<i;){var l=Ii[r];Ii[r++]=null;var h=Ii[r];Ii[r++]=null;var y=Ii[r];Ii[r++]=null;var b=Ii[r];if(Ii[r++]=null,h!==null&&y!==null){var A=h.pending;A===null?y.next=y:(y.next=A.next,A.next=y),h.pending=y}b!==0&&Za(l,y,b)}}function _r(i,r,l,h){Ii[Qn++]=i,Ii[Qn++]=r,Ii[Qn++]=l,Ii[Qn++]=h,lc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function hu(i,r,l,h){return _r(i,r,l,h),ul(i)}function Ss(i,r){return _r(i,null,null,r),ul(i)}function Za(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,b=i.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&r!==null&&(y=31-Yt(l),i=b.hiddenUpdates,h=i[y],h===null?i[y]=[r]:h.push(r),r.lane=l|536870912),b):null}function ul(i){if(50<ku)throw ku=0,Op=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Kr={};function Lm(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(i,r,l,h){return new Lm(i,r,l,h)}function cc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function As(i,r){var l=i.alternate;return l===null?(l=Xn(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function du(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function hl(i,r,l,h,y,b){var A=0;if(h=i,typeof i=="function")cc(i)&&(A=1);else if(typeof i=="string")A=Q2(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case F:return i=Xn(31,l,r,y),i.elementType=F,i.lanes=b,i;case U:return Wr(l.children,y,b,r);case D:A=8,y|=24;break;case O:return i=Xn(12,l,r,y|2),i.elementType=O,i.lanes=b,i;case te:return i=Xn(13,l,r,y),i.elementType=te,i.lanes=b,i;case me:return i=Xn(19,l,r,y),i.elementType=me,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:A=10;break e;case q:A=9;break e;case J:A=11;break e;case V:A=14;break e;case I:A=16,h=null;break e}A=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=Xn(A,l,r,y),r.elementType=i,r.type=h,r.lanes=b,r}function Wr(i,r,l,h){return i=Xn(7,i,h,r),i.lanes=l,i}function uc(i,r,l){return i=Xn(6,i,null,r),i.lanes=l,i}function fu(i){var r=Xn(18,null,null,0);return r.stateNode=i,r}function mu(i,r,l){return r=Xn(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a=new WeakMap;function u(i,r){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(r={value:i,source:r,stack:st(r)},a.set(i,r),r)}return{value:i,source:r,stack:st(r)}}var g=[],x=0,S=null,P=0,K=[],ne=0,ce=null,xe=1,Re="";function je(i,r){g[x++]=P,g[x++]=S,S=i,P=r}function et(i,r,l){K[ne++]=xe,K[ne++]=Re,K[ne++]=ce,ce=i;var h=xe;i=Re;var y=32-Yt(h)-1;h&=~(1<<y),l+=1;var b=32-Yt(r)+y;if(30<b){var A=y-y%5;b=(h&(1<<A)-1).toString(32),h>>=A,y-=A,xe=1<<32-Yt(r)+y|l<<y|h,Re=b+i}else xe=1<<b|l<<y|h,Re=i}function Sn(i){i.return!==null&&(je(i,1),et(i,1,0))}function tn(i){for(;i===S;)S=g[--x],g[x]=null,P=g[--x],g[x]=null;for(;i===ce;)ce=K[--ne],K[ne]=null,Re=K[--ne],K[ne]=null,xe=K[--ne],K[ne]=null}function ui(i,r){K[ne++]=xe,K[ne++]=Re,K[ne++]=ce,xe=r.id,Re=r.overflow,ce=i}var xt=null,wt=null,ot=!1,vr=null,Pi=!1,hc=Error(s(519));function br(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(u(r,i)),hc}function pu(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Wt]=i,r[Jt]=h,l){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(l=0;l<Vu.length;l++)ct(Vu[l],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":ct("invalid",r),qr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ct("invalid",r);break;case"textarea":ct("invalid",r),Si(r,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||ab(r.textContent,l)?(h.popover!=null&&(ct("beforetoggle",r),ct("toggle",r)),h.onScroll!=null&&ct("scroll",r),h.onScrollEnd!=null&&ct("scrollend",r),h.onClick!=null&&(r.onclick=$n),r=!0):r=!1,r||br(i,!0)}function Qt(i){for(xt=i.return;xt;)switch(xt.tag){case 5:case 31:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:xt=xt.return}}function Gs(i){if(i!==xt)return!1;if(!ot)return Qt(i),ot=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Kp(i.type,i.memoizedProps)),l=!l),l&&wt&&br(i),Qt(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));wt=pb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));wt=pb(i)}else r===27?(r=wt,ao(i.type)?(i=eg,eg=null,wt=i):wt=r):wt=xt?Ns(i.stateNode.nextSibling):null;return!0}function Qr(){wt=xt=null,ot=!1}function gu(){var i=vr;return i!==null&&(Di===null?Di=i:Di.push.apply(Di,i),vr=null),i}function dl(i){vr===null?vr=[i]:vr.push(i)}var fl=z(null),xr=null,Zs=null;function $a(i,r,l){pe(fl,r._currentValue),r._currentValue=l}function Xr(i){i._currentValue=fl.current,X(fl)}function Om(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function Dm(i,r,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=y;for(var W=0;W<r.length;W++)if(M.context===r[W]){b.lanes|=l,M=b.alternate,M!==null&&(M.lanes|=l),Om(b.return,l,i),h||(A=null);break e}b=M.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(s(341));A.lanes|=l,b=A.alternate,b!==null&&(b.lanes|=l),Om(A,l,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function dc(i,r,l,h){i=null;for(var y=r,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var M=y.type;On(y.pendingProps.value,A.value)||(i!==null?i.push(M):i=[M])}}else if(y===Ue.current){if(A=y.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Hu):i=[Hu])}y=y.return}i!==null&&Dm(r,i,l,h),r.flags|=262144}function Jh(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ml(i){xr=i,Zs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Un(i){return G_(xr,i)}function ed(i,r){return xr===null&&ml(i),G_(i,r)}function G_(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Zs===null){if(i===null)throw Error(s(308));Zs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Zs=Zs.next=r;return l}var $S=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},YS=n.unstable_scheduleCallback,KS=n.unstable_NormalPriority,yn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function km(){return{controller:new $S,data:new Map,refCount:0}}function yu(i){i.refCount--,i.refCount===0&&YS(KS,function(){i.controller.abort()})}var _u=null,jm=0,fc=0,mc=null;function WS(i,r){if(_u===null){var l=_u=[];jm=0,fc=Up(),mc={status:"pending",value:void 0,then:function(h){l.push(h)}}}return jm++,r.then(Z_,Z_),r}function Z_(){if(--jm===0&&_u!==null){mc!==null&&(mc.status="fulfilled");var i=_u;_u=null,fc=0,mc=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function QS(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var $_=re.S;re.S=function(i,r){I0=zn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&WS(i,r),$_!==null&&$_(i,r)};var pl=z(null);function Vm(){var i=pl.current;return i!==null?i:zt.pooledCache}function td(i,r){r===null?pe(pl,pl.current):pe(pl,r.pool)}function Y_(){var i=Vm();return i===null?null:{parent:yn._currentValue,pool:i}}var pc=Error(s(460)),zm=Error(s(474)),nd=Error(s(542)),id={then:function(){}};function K_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function W_(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then($n,$n),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,X_(i),i;default:if(typeof r.status=="string")r.then($n,$n);else{if(i=zt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=h}},function(h){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,X_(i),i}throw yl=r,pc}}function gl(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(yl=l,pc):l}}var yl=null;function Q_(){if(yl===null)throw Error(s(459));var i=yl;return yl=null,i}function X_(i){if(i===pc||i===nd)throw Error(s(483))}var gc=null,vu=0;function sd(i){var r=vu;return vu+=1,gc===null&&(gc=[]),W_(gc,i,r)}function bu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function rd(i,r){throw r.$$typeof===N?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function J_(i){function r(ee,Q){if(i){var ae=ee.deletions;ae===null?(ee.deletions=[Q],ee.flags|=16):ae.push(Q)}}function l(ee,Q){if(!i)return null;for(;Q!==null;)r(ee,Q),Q=Q.sibling;return null}function h(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function y(ee,Q){return ee=As(ee,Q),ee.index=0,ee.sibling=null,ee}function b(ee,Q,ae){return ee.index=ae,i?(ae=ee.alternate,ae!==null?(ae=ae.index,ae<Q?(ee.flags|=67108866,Q):ae):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function A(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function M(ee,Q,ae,_e){return Q===null||Q.tag!==6?(Q=uc(ae,ee.mode,_e),Q.return=ee,Q):(Q=y(Q,ae),Q.return=ee,Q)}function W(ee,Q,ae,_e){var Ve=ae.type;return Ve===U?ye(ee,Q,ae.props.children,_e,ae.key):Q!==null&&(Q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&gl(Ve)===Q.type)?(Q=y(Q,ae.props),bu(Q,ae),Q.return=ee,Q):(Q=hl(ae.type,ae.key,ae.props,null,ee.mode,_e),bu(Q,ae),Q.return=ee,Q)}function oe(ee,Q,ae,_e){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=mu(ae,ee.mode,_e),Q.return=ee,Q):(Q=y(Q,ae.children||[]),Q.return=ee,Q)}function ye(ee,Q,ae,_e,Ve){return Q===null||Q.tag!==7?(Q=Wr(ae,ee.mode,_e,Ve),Q.return=ee,Q):(Q=y(Q,ae),Q.return=ee,Q)}function we(ee,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=uc(""+Q,ee.mode,ae),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return ae=hl(Q.type,Q.key,Q.props,null,ee.mode,ae),bu(ae,Q),ae.return=ee,ae;case k:return Q=mu(Q,ee.mode,ae),Q.return=ee,Q;case I:return Q=gl(Q),we(ee,Q,ae)}if(Ie(Q)||Y(Q))return Q=Wr(Q,ee.mode,ae,null),Q.return=ee,Q;if(typeof Q.then=="function")return we(ee,sd(Q),ae);if(Q.$$typeof===$)return we(ee,ed(ee,Q),ae);rd(ee,Q)}return null}function ue(ee,Q,ae,_e){var Ve=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ve!==null?null:M(ee,Q,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:return ae.key===Ve?W(ee,Q,ae,_e):null;case k:return ae.key===Ve?oe(ee,Q,ae,_e):null;case I:return ae=gl(ae),ue(ee,Q,ae,_e)}if(Ie(ae)||Y(ae))return Ve!==null?null:ye(ee,Q,ae,_e,null);if(typeof ae.then=="function")return ue(ee,Q,sd(ae),_e);if(ae.$$typeof===$)return ue(ee,Q,ed(ee,ae),_e);rd(ee,ae)}return null}function fe(ee,Q,ae,_e,Ve){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ee=ee.get(ae)||null,M(Q,ee,""+_e,Ve);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case R:return ee=ee.get(_e.key===null?ae:_e.key)||null,W(Q,ee,_e,Ve);case k:return ee=ee.get(_e.key===null?ae:_e.key)||null,oe(Q,ee,_e,Ve);case I:return _e=gl(_e),fe(ee,Q,ae,_e,Ve)}if(Ie(_e)||Y(_e))return ee=ee.get(ae)||null,ye(Q,ee,_e,Ve,null);if(typeof _e.then=="function")return fe(ee,Q,ae,sd(_e),Ve);if(_e.$$typeof===$)return fe(ee,Q,ae,ed(Q,_e),Ve);rd(Q,_e)}return null}function De(ee,Q,ae,_e){for(var Ve=null,Et=null,ke=Q,tt=Q=0,dt=null;ke!==null&&tt<ae.length;tt++){ke.index>tt?(dt=ke,ke=null):dt=ke.sibling;var Tt=ue(ee,ke,ae[tt],_e);if(Tt===null){ke===null&&(ke=dt);break}i&&ke&&Tt.alternate===null&&r(ee,ke),Q=b(Tt,Q,tt),Et===null?Ve=Tt:Et.sibling=Tt,Et=Tt,ke=dt}if(tt===ae.length)return l(ee,ke),ot&&je(ee,tt),Ve;if(ke===null){for(;tt<ae.length;tt++)ke=we(ee,ae[tt],_e),ke!==null&&(Q=b(ke,Q,tt),Et===null?Ve=ke:Et.sibling=ke,Et=ke);return ot&&je(ee,tt),Ve}for(ke=h(ke);tt<ae.length;tt++)dt=fe(ke,ee,tt,ae[tt],_e),dt!==null&&(i&&dt.alternate!==null&&ke.delete(dt.key===null?tt:dt.key),Q=b(dt,Q,tt),Et===null?Ve=dt:Et.sibling=dt,Et=dt);return i&&ke.forEach(function(ho){return r(ee,ho)}),ot&&je(ee,tt),Ve}function He(ee,Q,ae,_e){if(ae==null)throw Error(s(151));for(var Ve=null,Et=null,ke=Q,tt=Q=0,dt=null,Tt=ae.next();ke!==null&&!Tt.done;tt++,Tt=ae.next()){ke.index>tt?(dt=ke,ke=null):dt=ke.sibling;var ho=ue(ee,ke,Tt.value,_e);if(ho===null){ke===null&&(ke=dt);break}i&&ke&&ho.alternate===null&&r(ee,ke),Q=b(ho,Q,tt),Et===null?Ve=ho:Et.sibling=ho,Et=ho,ke=dt}if(Tt.done)return l(ee,ke),ot&&je(ee,tt),Ve;if(ke===null){for(;!Tt.done;tt++,Tt=ae.next())Tt=we(ee,Tt.value,_e),Tt!==null&&(Q=b(Tt,Q,tt),Et===null?Ve=Tt:Et.sibling=Tt,Et=Tt);return ot&&je(ee,tt),Ve}for(ke=h(ke);!Tt.done;tt++,Tt=ae.next())Tt=fe(ke,ee,tt,Tt.value,_e),Tt!==null&&(i&&Tt.alternate!==null&&ke.delete(Tt.key===null?tt:Tt.key),Q=b(Tt,Q,tt),Et===null?Ve=Tt:Et.sibling=Tt,Et=Tt);return i&&ke.forEach(function(lA){return r(ee,lA)}),ot&&je(ee,tt),Ve}function Dt(ee,Q,ae,_e){if(typeof ae=="object"&&ae!==null&&ae.type===U&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case R:e:{for(var Ve=ae.key;Q!==null;){if(Q.key===Ve){if(Ve=ae.type,Ve===U){if(Q.tag===7){l(ee,Q.sibling),_e=y(Q,ae.props.children),_e.return=ee,ee=_e;break e}}else if(Q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&gl(Ve)===Q.type){l(ee,Q.sibling),_e=y(Q,ae.props),bu(_e,ae),_e.return=ee,ee=_e;break e}l(ee,Q);break}else r(ee,Q);Q=Q.sibling}ae.type===U?(_e=Wr(ae.props.children,ee.mode,_e,ae.key),_e.return=ee,ee=_e):(_e=hl(ae.type,ae.key,ae.props,null,ee.mode,_e),bu(_e,ae),_e.return=ee,ee=_e)}return A(ee);case k:e:{for(Ve=ae.key;Q!==null;){if(Q.key===Ve)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){l(ee,Q.sibling),_e=y(Q,ae.children||[]),_e.return=ee,ee=_e;break e}else{l(ee,Q);break}else r(ee,Q);Q=Q.sibling}_e=mu(ae,ee.mode,_e),_e.return=ee,ee=_e}return A(ee);case I:return ae=gl(ae),Dt(ee,Q,ae,_e)}if(Ie(ae))return De(ee,Q,ae,_e);if(Y(ae)){if(Ve=Y(ae),typeof Ve!="function")throw Error(s(150));return ae=Ve.call(ae),He(ee,Q,ae,_e)}if(typeof ae.then=="function")return Dt(ee,Q,sd(ae),_e);if(ae.$$typeof===$)return Dt(ee,Q,ed(ee,ae),_e);rd(ee,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Q!==null&&Q.tag===6?(l(ee,Q.sibling),_e=y(Q,ae),_e.return=ee,ee=_e):(l(ee,Q),_e=uc(ae,ee.mode,_e),_e.return=ee,ee=_e),A(ee)):l(ee,Q)}return function(ee,Q,ae,_e){try{vu=0;var Ve=Dt(ee,Q,ae,_e);return gc=null,Ve}catch(ke){if(ke===pc||ke===nd)throw ke;var Et=Xn(29,ke,null,ee.mode);return Et.lanes=_e,Et.return=ee,Et}}}var _l=J_(!0),ev=J_(!1),Ya=!1;function Um(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ka(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Wa(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(St&2)!==0){var y=h.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),h.pending=r,r=ul(i),Za(i,null,l),r}return _r(i,h,r,l),ul(i)}function xu(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,qo(i,l)}}function qm(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,l=l.next}while(l!==null);b===null?y=b=r:b=b.next=r}else y=b=r;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Hm=!1;function wu(){if(Hm){var i=mc;if(i!==null)throw i}}function Eu(i,r,l,h){Hm=!1;var y=i.updateQueue;Ya=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var W=M,oe=W.next;W.next=null,A===null?b=oe:A.next=oe,A=W;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,M=ye.lastBaseUpdate,M!==A&&(M===null?ye.firstBaseUpdate=oe:M.next=oe,ye.lastBaseUpdate=W))}if(b!==null){var we=y.baseState;A=0,ye=oe=W=null,M=b;do{var ue=M.lane&-536870913,fe=ue!==M.lane;if(fe?(ht&ue)===ue:(h&ue)===ue){ue!==0&&ue===fc&&(Hm=!0),ye!==null&&(ye=ye.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var De=i,He=M;ue=r;var Dt=l;switch(He.tag){case 1:if(De=He.payload,typeof De=="function"){we=De.call(Dt,we,ue);break e}we=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=He.payload,ue=typeof De=="function"?De.call(Dt,we,ue):De,ue==null)break e;we=E({},we,ue);break e;case 2:Ya=!0}}ue=M.callback,ue!==null&&(i.flags|=64,fe&&(i.flags|=8192),fe=y.callbacks,fe===null?y.callbacks=[ue]:fe.push(ue))}else fe={lane:ue,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ye===null?(oe=ye=fe,W=we):ye=ye.next=fe,A|=ue;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;fe=M,M=fe.next,fe.next=null,y.lastBaseUpdate=fe,y.shared.pending=null}}while(!0);ye===null&&(W=we),y.baseState=W,y.firstBaseUpdate=oe,y.lastBaseUpdate=ye,b===null&&(y.shared.lanes=0),to|=A,i.lanes=A,i.memoizedState=we}}function tv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function nv(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)tv(l[i],r)}var yc=z(null),ad=z(0);function iv(i,r){i=oa,pe(ad,i),pe(yc,r),oa=i|r.baseLanes}function Fm(){pe(ad,oa),pe(yc,yc.current)}function Gm(){oa=ad.current,X(yc),X(ad)}var Xi=z(null),Cs=null;function Qa(i){var r=i.alternate;pe(hn,hn.current&1),pe(Xi,i),Cs===null&&(r===null||yc.current!==null||r.memoizedState!==null)&&(Cs=i)}function Zm(i){pe(hn,hn.current),pe(Xi,i),Cs===null&&(Cs=i)}function sv(i){i.tag===22?(pe(hn,hn.current),pe(Xi,i),Cs===null&&(Cs=i)):Xa()}function Xa(){pe(hn,hn.current),pe(Xi,Xi.current)}function Ji(i){X(Xi),Cs===i&&(Cs=null),X(hn)}var hn=z(0);function od(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Xp(l)||Jp(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Jr=0,Je=null,Lt=null,_n=null,ld=!1,_c=!1,vl=!1,cd=0,Tu=0,vc=null,XS=0;function nn(){throw Error(s(321))}function $m(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!On(i[l],r[l]))return!1;return!0}function Ym(i,r,l,h,y,b){return Jr=b,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,re.H=i===null||i.memoizedState===null?Bv:cp,vl=!1,b=l(h,y),vl=!1,_c&&(b=av(r,l,h,y)),rv(i),b}function rv(i){re.H=Cu;var r=Lt!==null&&Lt.next!==null;if(Jr=0,_n=Lt=Je=null,ld=!1,Tu=0,vc=null,r)throw Error(s(300));i===null||vn||(i=i.dependencies,i!==null&&Jh(i)&&(vn=!0))}function av(i,r,l,h){Je=i;var y=0;do{if(_c&&(vc=null),Tu=0,_c=!1,25<=y)throw Error(s(301));if(y+=1,_n=Lt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}re.H=qv,b=r(l,h)}while(_c);return b}function JS(){var i=re.H,r=i.useState()[0];return r=typeof r.then=="function"?Su(r):r,i=i.useState()[0],(Lt!==null?Lt.memoizedState:null)!==i&&(Je.flags|=1024),r}function Km(){var i=cd!==0;return cd=0,i}function Wm(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Qm(i){if(ld){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ld=!1}Jr=0,_n=Lt=Je=null,_c=!1,Tu=cd=0,vc=null}function hi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Je.memoizedState=_n=i:_n=_n.next=i,_n}function dn(){if(Lt===null){var i=Je.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var r=_n===null?Je.memoizedState:_n.next;if(r!==null)_n=r,Lt=i;else{if(i===null)throw Je.alternate===null?Error(s(467)):Error(s(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},_n===null?Je.memoizedState=_n=i:_n=_n.next=i}return _n}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(i){var r=Tu;return Tu+=1,vc===null&&(vc=[]),i=W_(vc,i,r),r=Je,(_n===null?r.memoizedState:_n.next)===null&&(r=r.alternate,re.H=r===null||r.memoizedState===null?Bv:cp),i}function hd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Su(i);if(i.$$typeof===$)return Un(i)}throw Error(s(438,String(i)))}function Xm(i){var r=null,l=Je.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Je.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=ud(),Je.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=G;return r.index++,l}function ea(i,r){return typeof r=="function"?r(i):r}function dd(i){var r=dn();return Jm(r,Lt,i)}function Jm(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var y=i.baseQueue,b=h.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}r.baseQueue=y=b,h.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{r=y.next;var M=A=null,W=null,oe=r,ye=!1;do{var we=oe.lane&-536870913;if(we!==oe.lane?(ht&we)===we:(Jr&we)===we){var ue=oe.revertLane;if(ue===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),we===fc&&(ye=!0);else if((Jr&ue)===ue){oe=oe.next,ue===fc&&(ye=!0);continue}else we={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},W===null?(M=W=we,A=b):W=W.next=we,Je.lanes|=ue,to|=ue;we=oe.action,vl&&l(b,we),b=oe.hasEagerState?oe.eagerState:l(b,we)}else ue={lane:we,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},W===null?(M=W=ue,A=b):W=W.next=ue,Je.lanes|=we,to|=we;oe=oe.next}while(oe!==null&&oe!==r);if(W===null?A=b:W.next=M,!On(b,i.memoizedState)&&(vn=!0,ye&&(l=mc,l!==null)))throw l;i.memoizedState=b,i.baseState=A,i.baseQueue=W,h.lastRenderedState=b}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function ep(i){var r=dn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,b=r.memoizedState;if(y!==null){l.pending=null;var A=y=y.next;do b=i(b,A.action),A=A.next;while(A!==y);On(b,r.memoizedState)||(vn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,h]}function ov(i,r,l){var h=Je,y=dn(),b=ot;if(b){if(l===void 0)throw Error(s(407));l=l()}else l=r();var A=!On((Lt||y).memoizedState,l);if(A&&(y.memoizedState=l,vn=!0),y=y.queue,ip(uv.bind(null,h,y,i),[i]),y.getSnapshot!==r||A||_n!==null&&_n.memoizedState.tag&1){if(h.flags|=2048,bc(9,{destroy:void 0},cv.bind(null,h,y,l,r),null),zt===null)throw Error(s(349));b||(Jr&127)!==0||lv(h,r,l)}return l}function lv(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Je.updateQueue,r===null?(r=ud(),Je.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function cv(i,r,l,h){r.value=l,r.getSnapshot=h,hv(r)&&dv(i)}function uv(i,r,l){return l(function(){hv(r)&&dv(i)})}function hv(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!On(i,l)}catch{return!0}}function dv(i){var r=Ss(i,2);r!==null&&ki(r,i,2)}function tp(i){var r=hi();if(typeof i=="function"){var l=i;if(i=l(),vl){ri(!0);try{l()}finally{ri(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:i},r}function fv(i,r,l,h){return i.baseState=l,Jm(i,Lt,typeof h=="function"?h:ea)}function e2(i,r,l,h,y){if(pd(i))throw Error(s(485));if(i=r.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};re.T!==null?l(!0):b.isTransition=!1,h(b),l=r.pending,l===null?(b.next=r.pending=b,mv(r,b)):(b.next=l.next,r.pending=l.next=b)}}function mv(i,r){var l=r.action,h=r.payload,y=i.state;if(r.isTransition){var b=re.T,A={};re.T=A;try{var M=l(y,h),W=re.S;W!==null&&W(A,M),pv(i,r,M)}catch(oe){np(i,r,oe)}finally{b!==null&&A.types!==null&&(b.types=A.types),re.T=b}}else try{b=l(y,h),pv(i,r,b)}catch(oe){np(i,r,oe)}}function pv(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){gv(i,r,h)},function(h){return np(i,r,h)}):gv(i,r,l)}function gv(i,r,l){r.status="fulfilled",r.value=l,yv(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,mv(i,l)))}function np(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,yv(r),r=r.next;while(r!==h)}i.action=null}function yv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function _v(i,r){return r}function vv(i,r){if(ot){var l=zt.formState;if(l!==null){e:{var h=Je;if(ot){if(wt){t:{for(var y=wt,b=Pi;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ns(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){wt=Ns(y.nextSibling),h=y.data==="F!";break e}}br(h)}h=!1}h&&(r=l[0])}}return l=hi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_v,lastRenderedState:r},l.queue=h,l=Vv.bind(null,Je,h),h.dispatch=l,h=tp(!1),b=lp.bind(null,Je,!1,h.queue),h=hi(),y={state:r,dispatch:null,action:i,pending:null},h.queue=y,l=e2.bind(null,Je,y,b,l),y.dispatch=l,h.memoizedState=i,[r,l,!1]}function bv(i){var r=dn();return xv(r,Lt,i)}function xv(i,r,l){if(r=Jm(i,r,_v)[0],i=dd(ea)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=Su(r)}catch(A){throw A===pc?nd:A}else h=r;r=dn();var y=r.queue,b=y.dispatch;return l!==r.memoizedState&&(Je.flags|=2048,bc(9,{destroy:void 0},t2.bind(null,y,l),null)),[h,b,i]}function t2(i,r){i.action=r}function wv(i){var r=dn(),l=Lt;if(l!==null)return xv(r,l,i);dn(),r=r.memoizedState,l=dn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function bc(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Je.updateQueue,r===null&&(r=ud(),Je.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function Ev(){return dn().memoizedState}function fd(i,r,l,h){var y=hi();Je.flags|=i,y.memoizedState=bc(1|r,{destroy:void 0},l,h===void 0?null:h)}function md(i,r,l,h){var y=dn();h=h===void 0?null:h;var b=y.memoizedState.inst;Lt!==null&&h!==null&&$m(h,Lt.memoizedState.deps)?y.memoizedState=bc(r,b,l,h):(Je.flags|=i,y.memoizedState=bc(1|r,b,l,h))}function Tv(i,r){fd(8390656,8,i,r)}function ip(i,r){md(2048,8,i,r)}function n2(i){Je.flags|=4;var r=Je.updateQueue;if(r===null)r=ud(),Je.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function Sv(i){var r=dn().memoizedState;return n2({ref:r,nextImpl:i}),function(){if((St&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Av(i,r){return md(4,2,i,r)}function Cv(i,r){return md(4,4,i,r)}function Nv(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Rv(i,r,l){l=l!=null?l.concat([i]):null,md(4,4,Nv.bind(null,r,i),l)}function sp(){}function Iv(i,r){var l=dn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&$m(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function Pv(i,r){var l=dn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&$m(r,h[1]))return h[0];if(h=i(),vl){ri(!0);try{i()}finally{ri(!1)}}return l.memoizedState=[h,r],h}function rp(i,r,l){return l===void 0||(Jr&1073741824)!==0&&(ht&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=M0(),Je.lanes|=i,to|=i,l)}function Mv(i,r,l,h){return On(l,r)?l:yc.current!==null?(i=rp(i,l,h),On(i,r)||(vn=!0),i):(Jr&42)===0||(Jr&1073741824)!==0&&(ht&261930)===0?(vn=!0,i.memoizedState=l):(i=M0(),Je.lanes|=i,to|=i,r)}function Lv(i,r,l,h,y){var b=Se.p;Se.p=b!==0&&8>b?b:8;var A=re.T,M={};re.T=M,lp(i,!1,r,l);try{var W=y(),oe=re.S;if(oe!==null&&oe(M,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ye=QS(W,h);Au(i,r,ye,ns(i))}else Au(i,r,h,ns(i))}catch(we){Au(i,r,{then:function(){},status:"rejected",reason:we},ns())}finally{Se.p=b,A!==null&&M.types!==null&&(A.types=M.types),re.T=A}}function i2(){}function ap(i,r,l,h){if(i.tag!==5)throw Error(s(476));var y=Ov(i).queue;Lv(i,y,r,le,l===null?i2:function(){return Dv(i),l(h)})}function Ov(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:le},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Dv(i){var r=Ov(i);r.next===null&&(r=i.alternate.memoizedState),Au(i,r.next.queue,{},ns())}function op(){return Un(Hu)}function kv(){return dn().memoizedState}function jv(){return dn().memoizedState}function s2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ns();i=Ka(l);var h=Wa(r,i,l);h!==null&&(ki(h,r,l),xu(h,r,l)),r={cache:km()},i.payload=r;return}r=r.return}}function r2(i,r,l){var h=ns();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pd(i)?zv(r,l):(l=hu(i,r,l,h),l!==null&&(ki(l,i,h),Uv(l,r,h)))}function Vv(i,r,l){var h=ns();Au(i,r,l,h)}function Au(i,r,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(pd(i))zv(r,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var A=r.lastRenderedState,M=b(A,l);if(y.hasEagerState=!0,y.eagerState=M,On(M,A))return _r(i,r,y,0),zt===null&&cl(),!1}catch{}if(l=hu(i,r,y,h),l!==null)return ki(l,i,h),Uv(l,r,h),!0}return!1}function lp(i,r,l,h){if(h={lane:2,revertLane:Up(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},pd(i)){if(r)throw Error(s(479))}else r=hu(i,l,h,2),r!==null&&ki(r,i,2)}function pd(i){var r=i.alternate;return i===Je||r!==null&&r===Je}function zv(i,r){_c=ld=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function Uv(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,qo(i,l)}}var Cu={readContext:Un,use:hd,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Cu.useEffectEvent=nn;var Bv={readContext:Un,use:hd,useCallback:function(i,r){return hi().memoizedState=[i,r===void 0?null:r],i},useContext:Un,useEffect:Tv,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,fd(4194308,4,Nv.bind(null,r,i),l)},useLayoutEffect:function(i,r){return fd(4194308,4,i,r)},useInsertionEffect:function(i,r){fd(4,2,i,r)},useMemo:function(i,r){var l=hi();r=r===void 0?null:r;var h=i();if(vl){ri(!0);try{i()}finally{ri(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=hi();if(l!==void 0){var y=l(r);if(vl){ri(!0);try{l(r)}finally{ri(!1)}}}else y=r;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=r2.bind(null,Je,i),[h.memoizedState,i]},useRef:function(i){var r=hi();return i={current:i},r.memoizedState=i},useState:function(i){i=tp(i);var r=i.queue,l=Vv.bind(null,Je,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:sp,useDeferredValue:function(i,r){var l=hi();return rp(l,i,r)},useTransition:function(){var i=tp(!1);return i=Lv.bind(null,Je,i.queue,!0,!1),hi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Je,y=hi();if(ot){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),zt===null)throw Error(s(349));(ht&127)!==0||lv(h,r,l)}y.memoizedState=l;var b={value:l,getSnapshot:r};return y.queue=b,Tv(uv.bind(null,h,b,i),[i]),h.flags|=2048,bc(9,{destroy:void 0},cv.bind(null,h,b,l,r),null),l},useId:function(){var i=hi(),r=zt.identifierPrefix;if(ot){var l=Re,h=xe;l=(h&~(1<<32-Yt(h)-1)).toString(32)+l,r="_"+r+"R_"+l,l=cd++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=XS++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:op,useFormState:vv,useActionState:vv,useOptimistic:function(i){var r=hi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=lp.bind(null,Je,!0,l),l.dispatch=r,[i,r]},useMemoCache:Xm,useCacheRefresh:function(){return hi().memoizedState=s2.bind(null,Je)},useEffectEvent:function(i){var r=hi(),l={impl:i};return r.memoizedState=l,function(){if((St&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},cp={readContext:Un,use:hd,useCallback:Iv,useContext:Un,useEffect:ip,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:Cv,useMemo:Pv,useReducer:dd,useRef:Ev,useState:function(){return dd(ea)},useDebugValue:sp,useDeferredValue:function(i,r){var l=dn();return Mv(l,Lt.memoizedState,i,r)},useTransition:function(){var i=dd(ea)[0],r=dn().memoizedState;return[typeof i=="boolean"?i:Su(i),r]},useSyncExternalStore:ov,useId:kv,useHostTransitionStatus:op,useFormState:bv,useActionState:bv,useOptimistic:function(i,r){var l=dn();return fv(l,Lt,i,r)},useMemoCache:Xm,useCacheRefresh:jv};cp.useEffectEvent=Sv;var qv={readContext:Un,use:hd,useCallback:Iv,useContext:Un,useEffect:ip,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:Cv,useMemo:Pv,useReducer:ep,useRef:Ev,useState:function(){return ep(ea)},useDebugValue:sp,useDeferredValue:function(i,r){var l=dn();return Lt===null?rp(l,i,r):Mv(l,Lt.memoizedState,i,r)},useTransition:function(){var i=ep(ea)[0],r=dn().memoizedState;return[typeof i=="boolean"?i:Su(i),r]},useSyncExternalStore:ov,useId:kv,useHostTransitionStatus:op,useFormState:wv,useActionState:wv,useOptimistic:function(i,r){var l=dn();return Lt!==null?fv(l,Lt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Xm,useCacheRefresh:jv};qv.useEffectEvent=Sv;function up(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var hp={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=ns(),y=Ka(h);y.payload=r,l!=null&&(y.callback=l),r=Wa(i,y,h),r!==null&&(ki(r,i,h),xu(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=ns(),y=Ka(h);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=Wa(i,y,h),r!==null&&(ki(r,i,h),xu(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ns(),h=Ka(l);h.tag=2,r!=null&&(h.callback=r),r=Wa(i,h,l),r!==null&&(ki(r,i,l),xu(r,i,l))}};function Hv(i,r,l,h,y,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,A):r.prototype&&r.prototype.isPureReactComponent?!qa(l,h)||!qa(y,b):!0}function Fv(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&hp.enqueueReplaceState(r,r.state,null)}function bl(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function Gv(i){ll(i)}function Zv(i){console.error(i)}function $v(i){ll(i)}function gd(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function Yv(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function dp(i,r,l){return l=Ka(l),l.tag=3,l.payload={element:null},l.callback=function(){gd(i,r)},l}function Kv(i){return i=Ka(i),i.tag=3,i}function Wv(i,r,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;i.payload=function(){return y(b)},i.callback=function(){Yv(r,l,h)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Yv(r,l,h),typeof y!="function"&&(no===null?no=new Set([this]):no.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function a2(i,r,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&dc(r,l,y,!0),l=Xi.current,l!==null){switch(l.tag){case 31:case 13:return Cs===null?Nd():l.alternate===null&&sn===0&&(sn=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===id?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),jp(i,h,y)),!1;case 22:return l.flags|=65536,h===id?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),jp(i,h,y)),!1}throw Error(s(435,l.tag))}return jp(i,h,y),Nd(),!1}if(ot)return r=Xi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,h!==hc&&(i=Error(s(422),{cause:h}),dl(u(i,l)))):(h!==hc&&(r=Error(s(423),{cause:h}),dl(u(r,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=u(h,l),y=dp(i.stateNode,h,y),qm(i,y),sn!==4&&(sn=2)),!1;var b=Error(s(520),{cause:h});if(b=u(b,l),Du===null?Du=[b]:Du.push(b),sn!==4&&(sn=2),r===null)return!0;h=u(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=dp(l.stateNode,h,i),qm(l,i),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(no===null||!no.has(b))))return l.flags|=65536,y&=-y,l.lanes|=y,y=Kv(y),Wv(y,i,l,h),qm(l,y),!1}l=l.return}while(l!==null);return!1}var fp=Error(s(461)),vn=!1;function Bn(i,r,l,h){r.child=i===null?ev(r,null,l,h):_l(r,i.child,l,h)}function Qv(i,r,l,h,y){l=l.render;var b=r.ref;if("ref"in h){var A={};for(var M in h)M!=="ref"&&(A[M]=h[M])}else A=h;return ml(r),h=Ym(i,r,l,A,b,y),M=Km(),i!==null&&!vn?(Wm(i,r,y),ta(i,r,y)):(ot&&M&&Sn(r),r.flags|=1,Bn(i,r,h,y),r.child)}function Xv(i,r,l,h,y){if(i===null){var b=l.type;return typeof b=="function"&&!cc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,Jv(i,r,b,h,y)):(i=hl(l.type,null,h,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(b=i.child,!xp(i,y)){var A=b.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(A,h)&&i.ref===r.ref)return ta(i,r,y)}return r.flags|=1,i=As(b,h),i.ref=r.ref,i.return=r,r.child=i}function Jv(i,r,l,h,y){if(i!==null){var b=i.memoizedProps;if(qa(b,h)&&i.ref===r.ref)if(vn=!1,r.pendingProps=h=b,xp(i,y))(i.flags&131072)!==0&&(vn=!0);else return r.lanes=i.lanes,ta(i,r,y)}return mp(i,r,l,h,y)}function e0(i,r,l,h){var y=h.children,b=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(h=r.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,r.child=null;return t0(i,r,b,l,h)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&td(r,b!==null?b.cachePool:null),b!==null?iv(r,b):Fm(),sv(r);else return h=r.lanes=536870912,t0(i,r,b!==null?b.baseLanes|l:l,l,h)}else b!==null?(td(r,b.cachePool),iv(r,b),Xa(),r.memoizedState=null):(i!==null&&td(r,null),Fm(),Xa());return Bn(i,r,y,l),r.child}function Nu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function t0(i,r,l,h,y){var b=Vm();return b=b===null?null:{parent:yn._currentValue,pool:b},r.memoizedState={baseLanes:l,cachePool:b},i!==null&&td(r,null),Fm(),sv(r),i!==null&&dc(i,r,h,!0),r.childLanes=y,null}function yd(i,r){return r=vd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function n0(i,r,l){return _l(r,i.child,null,l),i=yd(r,r.pendingProps),i.flags|=2,Ji(r),r.memoizedState=null,i}function o2(i,r,l){var h=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ot){if(h.mode==="hidden")return i=yd(r,h),r.lanes=536870912,Nu(null,i);if(Zm(r),(i=wt)?(i=mb(i,Pi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:xe,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},l=fu(i),l.return=r,r.child=l,xt=r,wt=null)):i=null,i===null)throw br(r);return r.lanes=536870912,null}return yd(r,h)}var b=i.memoizedState;if(b!==null){var A=b.dehydrated;if(Zm(r),y)if(r.flags&256)r.flags&=-257,r=n0(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(vn||dc(i,r,l,!1),y=(l&i.childLanes)!==0,vn||y){if(h=zt,h!==null&&(A=Ho(h,l),A!==0&&A!==b.retryLane))throw b.retryLane=A,Ss(i,A),ki(h,i,A),fp;Nd(),r=n0(i,r,l)}else i=b.treeContext,wt=Ns(A.nextSibling),xt=r,ot=!0,vr=null,Pi=!1,i!==null&&ui(r,i),r=yd(r,h),r.flags|=4096;return r}return i=As(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function _d(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function mp(i,r,l,h,y){return ml(r),l=Ym(i,r,l,h,void 0,y),h=Km(),i!==null&&!vn?(Wm(i,r,y),ta(i,r,y)):(ot&&h&&Sn(r),r.flags|=1,Bn(i,r,l,y),r.child)}function i0(i,r,l,h,y,b){return ml(r),r.updateQueue=null,l=av(r,h,l,y),rv(i),h=Km(),i!==null&&!vn?(Wm(i,r,b),ta(i,r,b)):(ot&&h&&Sn(r),r.flags|=1,Bn(i,r,l,b),r.child)}function s0(i,r,l,h,y){if(ml(r),r.stateNode===null){var b=Kr,A=l.contextType;typeof A=="object"&&A!==null&&(b=Un(A)),b=new l(h,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=hp,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=h,b.state=r.memoizedState,b.refs={},Um(r),A=l.contextType,b.context=typeof A=="object"&&A!==null?Un(A):Kr,b.state=r.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(up(r,l,A,h),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&hp.enqueueReplaceState(b,b.state,null),Eu(r,h,b,y),wu(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){b=r.stateNode;var M=r.memoizedProps,W=bl(l,M);b.props=W;var oe=b.context,ye=l.contextType;A=Kr,typeof ye=="object"&&ye!==null&&(A=Un(ye));var we=l.getDerivedStateFromProps;ye=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||oe!==A)&&Fv(r,b,h,A),Ya=!1;var ue=r.memoizedState;b.state=ue,Eu(r,h,b,y),wu(),oe=r.memoizedState,M||ue!==oe||Ya?(typeof we=="function"&&(up(r,l,we,h),oe=r.memoizedState),(W=Ya||Hv(r,l,W,h,ue,oe,A))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=oe),b.props=h,b.state=oe,b.context=A,h=W):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{b=r.stateNode,Bm(i,r),A=r.memoizedProps,ye=bl(l,A),b.props=ye,we=r.pendingProps,ue=b.context,oe=l.contextType,W=Kr,typeof oe=="object"&&oe!==null&&(W=Un(oe)),M=l.getDerivedStateFromProps,(oe=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==we||ue!==W)&&Fv(r,b,h,W),Ya=!1,ue=r.memoizedState,b.state=ue,Eu(r,h,b,y),wu();var fe=r.memoizedState;A!==we||ue!==fe||Ya||i!==null&&i.dependencies!==null&&Jh(i.dependencies)?(typeof M=="function"&&(up(r,l,M,h),fe=r.memoizedState),(ye=Ya||Hv(r,l,ye,h,ue,fe,W)||i!==null&&i.dependencies!==null&&Jh(i.dependencies))?(oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,fe,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,fe,W)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=fe),b.props=h,b.state=fe,b.context=W,h=ye):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),h=!1)}return b=h,_d(i,r),h=(r.flags&128)!==0,b||h?(b=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,i!==null&&h?(r.child=_l(r,i.child,null,y),r.child=_l(r,null,l,y)):Bn(i,r,l,y),r.memoizedState=b.state,i=r.child):i=ta(i,r,y),i}function r0(i,r,l,h){return Qr(),r.flags|=256,Bn(i,r,l,h),r.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(i){return{baseLanes:i,cachePool:Y_()}}function yp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=ts),i}function a0(i,r,l){var h=r.pendingProps,y=!1,b=(r.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),A&&(y=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if(ot){if(y?Qa(r):Xa(),(i=wt)?(i=mb(i,Pi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:xe,overflow:Re}:null,retryLane:536870912,hydrationErrors:null},l=fu(i),l.return=r,r.child=l,xt=r,wt=null)):i=null,i===null)throw br(r);return Jp(i)?r.lanes=32:r.lanes=536870912,null}var M=h.children;return h=h.fallback,y?(Xa(),y=r.mode,M=vd({mode:"hidden",children:M},y),h=Wr(h,y,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,h=r.child,h.memoizedState=gp(l),h.childLanes=yp(i,A,l),r.memoizedState=pp,Nu(null,h)):(Qa(r),_p(r,M))}var W=i.memoizedState;if(W!==null&&(M=W.dehydrated,M!==null)){if(b)r.flags&256?(Qa(r),r.flags&=-257,r=vp(i,r,l)):r.memoizedState!==null?(Xa(),r.child=i.child,r.flags|=128,r=null):(Xa(),M=h.fallback,y=r.mode,h=vd({mode:"visible",children:h.children},y),M=Wr(M,y,l,null),M.flags|=2,h.return=r,M.return=r,h.sibling=M,r.child=h,_l(r,i.child,null,l),h=r.child,h.memoizedState=gp(l),h.childLanes=yp(i,A,l),r.memoizedState=pp,r=Nu(null,h));else if(Qa(r),Jp(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var oe=A.dgst;A=oe,h=Error(s(419)),h.stack="",h.digest=A,dl({value:h,source:null,stack:null}),r=vp(i,r,l)}else if(vn||dc(i,r,l,!1),A=(l&i.childLanes)!==0,vn||A){if(A=zt,A!==null&&(h=Ho(A,l),h!==0&&h!==W.retryLane))throw W.retryLane=h,Ss(i,h),ki(A,i,h),fp;Xp(M)||Nd(),r=vp(i,r,l)}else Xp(M)?(r.flags|=192,r.child=i.child,r=null):(i=W.treeContext,wt=Ns(M.nextSibling),xt=r,ot=!0,vr=null,Pi=!1,i!==null&&ui(r,i),r=_p(r,h.children),r.flags|=4096);return r}return y?(Xa(),M=h.fallback,y=r.mode,W=i.child,oe=W.sibling,h=As(W,{mode:"hidden",children:h.children}),h.subtreeFlags=W.subtreeFlags&65011712,oe!==null?M=As(oe,M):(M=Wr(M,y,l,null),M.flags|=2),M.return=r,h.return=r,h.sibling=M,r.child=h,Nu(null,h),h=r.child,M=i.child.memoizedState,M===null?M=gp(l):(y=M.cachePool,y!==null?(W=yn._currentValue,y=y.parent!==W?{parent:W,pool:W}:y):y=Y_(),M={baseLanes:M.baseLanes|l,cachePool:y}),h.memoizedState=M,h.childLanes=yp(i,A,l),r.memoizedState=pp,Nu(i.child,h)):(Qa(r),l=i.child,i=l.sibling,l=As(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=l,r.memoizedState=null,l)}function _p(i,r){return r=vd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function vd(i,r){return i=Xn(22,i,null,r),i.lanes=0,i}function vp(i,r,l){return _l(r,i.child,null,l),i=_p(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function o0(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Om(i.return,r,l)}function bp(i,r,l,h,y,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:b}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=l,A.tailMode=y,A.treeForkCount=b)}function l0(i,r,l){var h=r.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var A=hn.current,M=(A&2)!==0;if(M?(A=A&1|2,r.flags|=128):A&=1,pe(hn,A),Bn(i,r,h,l),h=ot?P:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&o0(i,l,r);else if(i.tag===19)o0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)i=l.alternate,i!==null&&od(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),bp(r,!1,y,l,b,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&od(i)===null){r.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}bp(r,!0,l,null,b,h);break;case"together":bp(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function ta(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),to|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(dc(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=As(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=As(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function xp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Jh(i)))}function l2(i,r,l){switch(r.tag){case 3:Ct(r,r.stateNode.containerInfo),$a(r,yn,i.memoizedState.cache),Qr();break;case 27:case 5:Vi(r);break;case 4:Ct(r,r.stateNode.containerInfo);break;case 10:$a(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Zm(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Qa(r),r.flags|=128,null):(l&r.child.childLanes)!==0?a0(i,r,l):(Qa(r),i=ta(i,r,l),i!==null?i.sibling:null);Qa(r);break;case 19:var y=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(dc(i,r,l,!1),h=(l&r.childLanes)!==0),y){if(h)return l0(i,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pe(hn,hn.current),h)break;return null;case 22:return r.lanes=0,e0(i,r,l,r.pendingProps);case 24:$a(r,yn,i.memoizedState.cache)}return ta(i,r,l)}function c0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)vn=!0;else{if(!xp(i,l)&&(r.flags&128)===0)return vn=!1,l2(i,r,l);vn=(i.flags&131072)!==0}else vn=!1,ot&&(r.flags&1048576)!==0&&et(r,P,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(i=gl(r.elementType),r.type=i,typeof i=="function")cc(i)?(h=bl(i,h),r.tag=1,r=s0(null,r,i,h,l)):(r.tag=0,r=mp(null,r,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===J){r.tag=11,r=Qv(null,r,i,h,l);break e}else if(y===V){r.tag=14,r=Xv(null,r,i,h,l);break e}}throw r=de(i)||i,Error(s(306,r,""))}}return r;case 0:return mp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,y=bl(h,r.pendingProps),s0(i,r,h,y,l);case 3:e:{if(Ct(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var b=r.memoizedState;y=b.element,Bm(i,r),Eu(r,h,null,l);var A=r.memoizedState;if(h=A.cache,$a(r,yn,h),h!==b.cache&&Dm(r,[yn],l,!0),wu(),h=A.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=r0(i,r,h,l);break e}else if(h!==y){y=u(Error(s(424)),r),dl(y),r=r0(i,r,h,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,wt=Ns(i.firstChild),xt=r,ot=!0,vr=null,Pi=!0,l=ev(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Qr(),h===y){r=ta(i,r,l);break e}Bn(i,r,h,l)}r=r.child}return r;case 26:return _d(i,r),i===null?(l=bb(r.type,null,r.pendingProps,null))?r.memoizedState=l:ot||(l=r.type,i=r.pendingProps,h=Dd(Ce.current).createElement(l),h[Wt]=r,h[Jt]=i,qn(h,l,i),en(h),r.stateNode=h):r.memoizedState=bb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Vi(r),i===null&&ot&&(h=r.stateNode=yb(r.type,r.pendingProps,Ce.current),xt=r,Pi=!0,y=wt,ao(r.type)?(eg=y,wt=Ns(h.firstChild)):wt=y),Bn(i,r,r.pendingProps.children,l),_d(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ot&&((y=h=wt)&&(h=V2(h,r.type,r.pendingProps,Pi),h!==null?(r.stateNode=h,xt=r,wt=Ns(h.firstChild),Pi=!1,y=!0):y=!1),y||br(r)),Vi(r),y=r.type,b=r.pendingProps,A=i!==null?i.memoizedProps:null,h=b.children,Kp(y,b)?h=null:A!==null&&Kp(y,A)&&(r.flags|=32),r.memoizedState!==null&&(y=Ym(i,r,JS,null,null,l),Hu._currentValue=y),_d(i,r),Bn(i,r,h,l),r.child;case 6:return i===null&&ot&&((i=l=wt)&&(l=z2(l,r.pendingProps,Pi),l!==null?(r.stateNode=l,xt=r,wt=null,i=!0):i=!1),i||br(r)),null;case 13:return a0(i,r,l);case 4:return Ct(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=_l(r,null,h,l):Bn(i,r,h,l),r.child;case 11:return Qv(i,r,r.type,r.pendingProps,l);case 7:return Bn(i,r,r.pendingProps,l),r.child;case 8:return Bn(i,r,r.pendingProps.children,l),r.child;case 12:return Bn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,$a(r,r.type,h.value),Bn(i,r,h.children,l),r.child;case 9:return y=r.type._context,h=r.pendingProps.children,ml(r),y=Un(y),h=h(y),r.flags|=1,Bn(i,r,h,l),r.child;case 14:return Xv(i,r,r.type,r.pendingProps,l);case 15:return Jv(i,r,r.type,r.pendingProps,l);case 19:return l0(i,r,l);case 31:return o2(i,r,l);case 22:return e0(i,r,l,r.pendingProps);case 24:return ml(r),h=Un(yn),i===null?(y=Vm(),y===null&&(y=zt,b=km(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=l),y=b),r.memoizedState={parent:h,cache:y},Um(r),$a(r,yn,y)):((i.lanes&l)!==0&&(Bm(i,r),Eu(r,null,null,l),wu()),y=i.memoizedState,b=r.memoizedState,y.parent!==h?(y={parent:h,cache:h},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),$a(r,yn,h)):(h=b.cache,$a(r,yn,h),h!==y.cache&&Dm(r,[yn],l,!0))),Bn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function na(i){i.flags|=4}function wp(i,r,l,h,y){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(k0())i.flags|=8192;else throw yl=id,zm}else i.flags&=-16777217}function u0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Sb(r))if(k0())i.flags|=8192;else throw yl=id,zm}function bd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Kl():536870912,i.lanes|=r,Tc|=r)}function Ru(i,r){if(!ot)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ft(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function c2(i,r,l){var h=r.pendingProps;switch(tn(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(r),null;case 1:return Ft(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Xr(yn),Nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Gs(r)?na(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gu())),Ft(r),null;case 26:var y=r.type,b=r.memoizedState;return i===null?(na(r),b!==null?(Ft(r),u0(r,b)):(Ft(r),wp(r,y,null,h,l))):b?b!==i.memoizedState?(na(r),Ft(r),u0(r,b)):(Ft(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&na(r),Ft(r),wp(r,y,i,h,l)),null;case 27:if(cs(r),l=Ce.current,y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&na(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}i=be.current,Gs(r)?pu(r):(i=yb(y,h,l),r.stateNode=i,na(r))}return Ft(r),null;case 5:if(cs(r),y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&na(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}if(b=be.current,Gs(r))pu(r);else{var A=Dd(Ce.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?A.createElement(y,{is:h.is}):A.createElement(y)}}b[Wt]=r,b[Jt]=h;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=b;e:switch(qn(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&na(r)}}return Ft(r),wp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&na(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ce.current,Gs(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,y=xt,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Wt]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||ab(i.nodeValue,l)),i||br(r,!0)}else i=Dd(i).createTextNode(h),i[Wt]=r,r.stateNode=i}return Ft(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(h=Gs(r),l!==null){if(i===null){if(!h)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Wt]=r}else Qr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),i=!1}else l=gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(Ji(r),r):(Ji(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ft(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Gs(r),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Wt]=r}else Qr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),y=!1}else y=gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(Ji(r),r):(Ji(r),null)}return Ji(r),(r.flags&128)!==0?(r.lanes=l,r):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=r.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),bd(r,r.updateQueue),Ft(r),null);case 4:return Nt(),i===null&&Fp(r.stateNode.containerInfo),Ft(r),null;case 10:return Xr(r.type),Ft(r),null;case 19:if(X(hn),h=r.memoizedState,h===null)return Ft(r),null;if(y=(r.flags&128)!==0,b=h.rendering,b===null)if(y)Ru(h,!1);else{if(sn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(b=od(i),b!==null){for(r.flags|=128,Ru(h,!1),i=b.updateQueue,r.updateQueue=i,bd(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)du(l,i),l=l.sibling;return pe(hn,hn.current&1|2),ot&&je(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&zn()>Sd&&(r.flags|=128,y=!0,Ru(h,!1),r.lanes=4194304)}else{if(!y)if(i=od(b),i!==null){if(r.flags|=128,y=!0,i=i.updateQueue,r.updateQueue=i,bd(r,i),Ru(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!ot)return Ft(r),null}else 2*zn()-h.renderingStartTime>Sd&&l!==536870912&&(r.flags|=128,y=!0,Ru(h,!1),r.lanes=4194304);h.isBackwards?(b.sibling=r.child,r.child=b):(i=h.last,i!==null?i.sibling=b:r.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=zn(),i.sibling=null,l=hn.current,pe(hn,y?l&1|2:l&1),ot&&je(r,h.treeForkCount),i):(Ft(r),null);case 22:case 23:return Ji(r),Gm(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(Ft(r),r.subtreeFlags&6&&(r.flags|=8192)):Ft(r),l=r.updateQueue,l!==null&&bd(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&X(pl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xr(yn),Ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function u2(i,r){switch(tn(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xr(yn),Nt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return cs(r),null;case 31:if(r.memoizedState!==null){if(Ji(r),r.alternate===null)throw Error(s(340));Qr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Ji(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return X(hn),null;case 4:return Nt(),null;case 10:return Xr(r.type),null;case 22:case 23:return Ji(r),Gm(),i!==null&&X(pl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xr(yn),null;case 25:return null;default:return null}}function h0(i,r){switch(tn(r),r.tag){case 3:Xr(yn),Nt();break;case 26:case 27:case 5:cs(r);break;case 4:Nt();break;case 31:r.memoizedState!==null&&Ji(r);break;case 13:Ji(r);break;case 19:X(hn);break;case 10:Xr(r.type);break;case 22:case 23:Ji(r),Gm(),i!==null&&X(pl);break;case 24:Xr(yn)}}function Iu(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var b=l.create,A=l.inst;h=b(),A.destroy=h}l=l.next}while(l!==y)}}catch(M){Mt(r,r.return,M)}}function Ja(i,r,l){try{var h=r.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&i)===i){var A=h.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,y=r;var W=l,oe=M;try{oe()}catch(ye){Mt(y,W,ye)}}}h=h.next}while(h!==b)}}catch(ye){Mt(r,r.return,ye)}}function d0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{nv(r,l)}catch(h){Mt(i,i.return,h)}}}function f0(i,r,l){l.props=bl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Mt(i,r,h)}}function Pu(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){Mt(i,r,y)}}function wr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){Mt(i,r,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Mt(i,r,y)}else l.current=null}function m0(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){Mt(i,i.return,y)}}function Ep(i,r,l){try{var h=i.stateNode;M2(h,i.type,l,r),h[Jt]=r}catch(y){Mt(i,i.return,y)}}function p0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ao(i.type)||i.tag===4}function Tp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||p0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ao(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sp(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=$n));else if(h!==4&&(h===27&&ao(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Sp(i,r,l),i=i.sibling;i!==null;)Sp(i,r,l),i=i.sibling}function xd(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&ao(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(xd(i,r,l),i=i.sibling;i!==null;)xd(i,r,l),i=i.sibling}function g0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);qn(r,h,l),r[Wt]=i,r[Jt]=l}catch(b){Mt(i,i.return,b)}}var ia=!1,bn=!1,Ap=!1,y0=typeof WeakSet=="function"?WeakSet:Set,kn=null;function h2(i,r){if(i=i.containerInfo,$p=qd,i=sl(i),mr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var A=0,M=-1,W=-1,oe=0,ye=0,we=i,ue=null;t:for(;;){for(var fe;we!==l||y!==0&&we.nodeType!==3||(M=A+y),we!==b||h!==0&&we.nodeType!==3||(W=A+h),we.nodeType===3&&(A+=we.nodeValue.length),(fe=we.firstChild)!==null;)ue=we,we=fe;for(;;){if(we===i)break t;if(ue===l&&++oe===y&&(M=A),ue===b&&++ye===h&&(W=A),(fe=we.nextSibling)!==null)break;we=ue,ue=we.parentNode}we=fe}l=M===-1||W===-1?null:{start:M,end:W}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yp={focusedElem:i,selectionRange:l},qd=!1,kn=r;kn!==null;)if(r=kn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,kn=i;else for(;kn!==null;){switch(r=kn,b=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=r,y=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var De=bl(l.type,y);i=h.getSnapshotBeforeUpdate(De,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(He){Mt(l,l.return,He)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Qp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Qp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,kn=i;break}kn=r.return}}function _0(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:ra(i,l),h&4&&Iu(5,l);break;case 1:if(ra(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(A){Mt(l,l.return,A)}else{var y=bl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(y,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Mt(l,l.return,A)}}h&64&&d0(l),h&512&&Pu(l,l.return);break;case 3:if(ra(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{nv(i,r)}catch(A){Mt(l,l.return,A)}}break;case 27:r===null&&h&4&&g0(l);case 26:case 5:ra(i,l),r===null&&h&4&&m0(l),h&512&&Pu(l,l.return);break;case 12:ra(i,l);break;case 31:ra(i,l),h&4&&x0(i,l);break;case 13:ra(i,l),h&4&&w0(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=b2.bind(null,l),U2(i,l))));break;case 22:if(h=l.memoizedState!==null||ia,!h){r=r!==null&&r.memoizedState!==null||bn,y=ia;var b=bn;ia=h,(bn=r)&&!b?aa(i,l,(l.subtreeFlags&8772)!==0):ra(i,l),ia=y,bn=b}break;case 30:break;default:ra(i,l)}}function v0(i){var r=i.alternate;r!==null&&(i.alternate=null,v0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ra(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,Mi=!1;function sa(i,r,l){for(l=l.child;l!==null;)b0(i,r,l),l=l.sibling}function b0(i,r,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(vi,l)}catch{}switch(l.tag){case 26:bn||wr(l,r),sa(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:bn||wr(l,r);var h=Zt,y=Mi;ao(l.type)&&(Zt=l.stateNode,Mi=!1),sa(i,r,l),Uu(l.stateNode),Zt=h,Mi=y;break;case 5:bn||wr(l,r);case 6:if(h=Zt,y=Mi,Zt=null,sa(i,r,l),Zt=h,Mi=y,Zt!==null)if(Mi)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(l.stateNode)}catch(b){Mt(l,r,b)}else try{Zt.removeChild(l.stateNode)}catch(b){Mt(l,r,b)}break;case 18:Zt!==null&&(Mi?(i=Zt,db(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Mc(i)):db(Zt,l.stateNode));break;case 4:h=Zt,y=Mi,Zt=l.stateNode.containerInfo,Mi=!0,sa(i,r,l),Zt=h,Mi=y;break;case 0:case 11:case 14:case 15:Ja(2,l,r),bn||Ja(4,l,r),sa(i,r,l);break;case 1:bn||(wr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&f0(l,r,h)),sa(i,r,l);break;case 21:sa(i,r,l);break;case 22:bn=(h=bn)||l.memoizedState!==null,sa(i,r,l),bn=h;break;default:sa(i,r,l)}}function x0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Mc(i)}catch(l){Mt(r,r.return,l)}}}function w0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mc(i)}catch(l){Mt(r,r.return,l)}}function d2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new y0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new y0),r;default:throw Error(s(435,i.tag))}}function wd(i,r){var l=d2(i);r.forEach(function(h){if(!l.has(h)){l.add(h);var y=x2.bind(null,i,h);h.then(y,y)}})}function Li(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],b=i,A=r,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(ao(M.type)){Zt=M.stateNode,Mi=!1;break e}break;case 5:Zt=M.stateNode,Mi=!1;break e;case 3:case 4:Zt=M.stateNode.containerInfo,Mi=!0;break e}M=M.return}if(Zt===null)throw Error(s(160));b0(b,A,y),Zt=null,Mi=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)E0(r,i),r=r.sibling}var $s=null;function E0(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Li(r,i),Oi(i),h&4&&(Ja(3,i,i.return),Iu(3,i),Ja(5,i,i.return));break;case 1:Li(r,i),Oi(i),h&512&&(bn||l===null||wr(l,l.return)),h&64&&ia&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=$s;if(Li(r,i),Oi(i),h&512&&(bn||l===null||wr(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[ms]||b[Wt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),qn(b,h,l),b[Wt]=i,en(b),h=b;break e;case"link":var A=Eb("link","href",y).get(h+(l.href||""));if(A){for(var M=0;M<A.length;M++)if(b=A[M],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(M,1);break t}}b=y.createElement(h),qn(b,h,l),y.head.appendChild(b);break;case"meta":if(A=Eb("meta","content",y).get(h+(l.content||""))){for(M=0;M<A.length;M++)if(b=A[M],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(M,1);break t}}b=y.createElement(h),qn(b,h,l),y.head.appendChild(b);break;default:throw Error(s(468,h))}b[Wt]=i,en(b),h=b}i.stateNode=h}else Tb(y,i.type,i.stateNode);else i.stateNode=wb(y,h,i.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?Tb(y,i.type,i.stateNode):wb(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Ep(i,i.memoizedProps,l.memoizedProps)}break;case 27:Li(r,i),Oi(i),h&512&&(bn||l===null||wr(l,l.return)),l!==null&&h&4&&Ep(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Li(r,i),Oi(i),h&512&&(bn||l===null||wr(l,l.return)),i.flags&32){y=i.stateNode;try{pn(y,"")}catch(De){Mt(i,i.return,De)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,Ep(i,y,l!==null?l.memoizedProps:y)),h&1024&&(Ap=!0);break;case 6:if(Li(r,i),Oi(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){Mt(i,i.return,De)}}break;case 3:if(Vd=null,y=$s,$s=kd(r.containerInfo),Li(r,i),$s=y,Oi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Mc(r.containerInfo)}catch(De){Mt(i,i.return,De)}Ap&&(Ap=!1,T0(i));break;case 4:h=$s,$s=kd(i.stateNode.containerInfo),Li(r,i),Oi(i),$s=h;break;case 12:Li(r,i),Oi(i);break;case 31:Li(r,i),Oi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 13:Li(r,i),Oi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Td=zn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 22:y=i.memoizedState!==null;var W=l!==null&&l.memoizedState!==null,oe=ia,ye=bn;if(ia=oe||y,bn=ye||W,Li(r,i),bn=ye,ia=oe,Oi(i),h&8192)e:for(r=i.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||W||ia||bn||xl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){W=l=r;try{if(b=W.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=W.stateNode;var we=W.memoizedProps.style,ue=we!=null&&we.hasOwnProperty("display")?we.display:null;M.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(De){Mt(W,W.return,De)}}}else if(r.tag===6){if(l===null){W=r;try{W.stateNode.nodeValue=y?"":W.memoizedProps}catch(De){Mt(W,W.return,De)}}}else if(r.tag===18){if(l===null){W=r;try{var fe=W.stateNode;y?fb(fe,!0):fb(W.stateNode,!1)}catch(De){Mt(W,W.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,wd(i,l))));break;case 19:Li(r,i),Oi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 30:break;case 21:break;default:Li(r,i),Oi(i)}}function Oi(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(p0(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var y=l.stateNode,b=Tp(i);xd(i,b,y);break;case 5:var A=l.stateNode;l.flags&32&&(pn(A,""),l.flags&=-33);var M=Tp(i);xd(i,M,A);break;case 3:case 4:var W=l.stateNode.containerInfo,oe=Tp(i);Sp(i,oe,W);break;default:throw Error(s(161))}}catch(ye){Mt(i,i.return,ye)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function T0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;T0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ra(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)_0(i,r.alternate,r),r=r.sibling}function xl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ja(4,r,r.return),xl(r);break;case 1:wr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&f0(r,r.return,l),xl(r);break;case 27:Uu(r.stateNode);case 26:case 5:wr(r,r.return),xl(r);break;case 22:r.memoizedState===null&&xl(r);break;case 30:xl(r);break;default:xl(r)}i=i.sibling}}function aa(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,y=i,b=r,A=b.flags;switch(b.tag){case 0:case 11:case 15:aa(y,b,l),Iu(4,b);break;case 1:if(aa(y,b,l),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(oe){Mt(h,h.return,oe)}if(h=b,y=h.updateQueue,y!==null){var M=h.stateNode;try{var W=y.shared.hiddenCallbacks;if(W!==null)for(y.shared.hiddenCallbacks=null,y=0;y<W.length;y++)tv(W[y],M)}catch(oe){Mt(h,h.return,oe)}}l&&A&64&&d0(b),Pu(b,b.return);break;case 27:g0(b);case 26:case 5:aa(y,b,l),l&&h===null&&A&4&&m0(b),Pu(b,b.return);break;case 12:aa(y,b,l);break;case 31:aa(y,b,l),l&&A&4&&x0(y,b);break;case 13:aa(y,b,l),l&&A&4&&w0(y,b);break;case 22:b.memoizedState===null&&aa(y,b,l),Pu(b,b.return);break;case 30:break;default:aa(y,b,l)}r=r.sibling}}function Cp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&yu(l))}function Np(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yu(i))}function Ys(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)S0(i,r,l,h),r=r.sibling}function S0(i,r,l,h){var y=r.flags;switch(r.tag){case 0:case 11:case 15:Ys(i,r,l,h),y&2048&&Iu(9,r);break;case 1:Ys(i,r,l,h);break;case 3:Ys(i,r,l,h),y&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yu(i)));break;case 12:if(y&2048){Ys(i,r,l,h),i=r.stateNode;try{var b=r.memoizedProps,A=b.id,M=b.onPostCommit;typeof M=="function"&&M(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(W){Mt(r,r.return,W)}}else Ys(i,r,l,h);break;case 31:Ys(i,r,l,h);break;case 13:Ys(i,r,l,h);break;case 23:break;case 22:b=r.stateNode,A=r.alternate,r.memoizedState!==null?b._visibility&2?Ys(i,r,l,h):Mu(i,r):b._visibility&2?Ys(i,r,l,h):(b._visibility|=2,xc(i,r,l,h,(r.subtreeFlags&10256)!==0||!1)),y&2048&&Cp(A,r);break;case 24:Ys(i,r,l,h),y&2048&&Np(r.alternate,r);break;default:Ys(i,r,l,h)}}function xc(i,r,l,h,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=i,A=r,M=l,W=h,oe=A.flags;switch(A.tag){case 0:case 11:case 15:xc(b,A,M,W,y),Iu(8,A);break;case 23:break;case 22:var ye=A.stateNode;A.memoizedState!==null?ye._visibility&2?xc(b,A,M,W,y):Mu(b,A):(ye._visibility|=2,xc(b,A,M,W,y)),y&&oe&2048&&Cp(A.alternate,A);break;case 24:xc(b,A,M,W,y),y&&oe&2048&&Np(A.alternate,A);break;default:xc(b,A,M,W,y)}r=r.sibling}}function Mu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,y=h.flags;switch(h.tag){case 22:Mu(l,h),y&2048&&Cp(h.alternate,h);break;case 24:Mu(l,h),y&2048&&Np(h.alternate,h);break;default:Mu(l,h)}r=r.sibling}}var Lu=8192;function wc(i,r,l){if(i.subtreeFlags&Lu)for(i=i.child;i!==null;)A0(i,r,l),i=i.sibling}function A0(i,r,l){switch(i.tag){case 26:wc(i,r,l),i.flags&Lu&&i.memoizedState!==null&&X2(l,$s,i.memoizedState,i.memoizedProps);break;case 5:wc(i,r,l);break;case 3:case 4:var h=$s;$s=kd(i.stateNode.containerInfo),wc(i,r,l),$s=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Lu,Lu=16777216,wc(i,r,l),Lu=h):wc(i,r,l));break;default:wc(i,r,l)}}function C0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ou(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];kn=h,R0(h,i)}C0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N0(i),i=i.sibling}function N0(i){switch(i.tag){case 0:case 11:case 15:Ou(i),i.flags&2048&&Ja(9,i,i.return);break;case 3:Ou(i);break;case 12:Ou(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ed(i)):Ou(i);break;default:Ou(i)}}function Ed(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];kn=h,R0(h,i)}C0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ja(8,r,r.return),Ed(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Ed(r));break;default:Ed(r)}i=i.sibling}}function R0(i,r){for(;kn!==null;){var l=kn;switch(l.tag){case 0:case 11:case 15:Ja(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,kn=h;else e:for(l=i;kn!==null;){h=kn;var y=h.sibling,b=h.return;if(v0(h),h===l){kn=null;break e}if(y!==null){y.return=b,kn=y;break e}kn=b}}}var f2={getCacheForType:function(i){var r=Un(yn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return Un(yn).controller.signal}},m2=typeof WeakMap=="function"?WeakMap:Map,St=0,zt=null,lt=null,ht=0,Pt=0,es=null,eo=!1,Ec=!1,Rp=!1,oa=0,sn=0,to=0,wl=0,Ip=0,ts=0,Tc=0,Du=null,Di=null,Pp=!1,Td=0,I0=0,Sd=1/0,Ad=null,no=null,An=0,io=null,Sc=null,la=0,Mp=0,Lp=null,P0=null,ku=0,Op=null;function ns(){return(St&2)!==0&&ht!==0?ht&-ht:re.T!==null?Up():Fo()}function M0(){if(ts===0)if((ht&536870912)===0||ot){var i=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),ts=i}else ts=536870912;return i=Xi.current,i!==null&&(i.flags|=32),ts}function ki(i,r,l){(i===zt&&(Pt===2||Pt===9)||i.cancelPendingCommit!==null)&&(Ac(i,0),so(i,ht,ts,!1)),Os(i,l),((St&2)===0||i!==zt)&&(i===zt&&((St&2)===0&&(wl|=l),sn===4&&so(i,ht,ts,!1)),Er(i))}function L0(i,r,l){if((St&6)!==0)throw Error(s(327));var h=!l&&(r&127)===0&&(r&i.expiredLanes)===0||Ui(i,r),y=h?y2(i,r):kp(i,r,!0),b=h;do{if(y===0){Ec&&!h&&so(i,r,0,!1);break}else{if(l=i.current.alternate,b&&!p2(l)){y=kp(i,r,!1),b=!1;continue}if(y===2){if(b=r,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var M=i;y=Du;var W=M.current.memoizedState.isDehydrated;if(W&&(Ac(M,A).flags|=256),A=kp(M,A,!1),A!==2){if(Rp&&!W){M.errorRecoveryDisabledLanes|=b,wl|=b,y=4;break e}b=Di,Di=y,b!==null&&(Di===null?Di=b:Di.push.apply(Di,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){Ac(i,0),so(i,r,0,!0);break}e:{switch(h=i,b=y,b){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:so(h,r,ts,!eo);break e;case 2:Di=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(y=Td+300-zn(),10<y)){if(so(h,r,ts,!eo),ds(h,0,!0)!==0)break e;la=r,h.timeoutHandle=ub(O0.bind(null,h,l,Di,Ad,Pp,r,ts,wl,Tc,eo,b,"Throttled",-0,0),y);break e}O0(h,l,Di,Ad,Pp,r,ts,wl,Tc,eo,b,null,-0,0)}}break}while(!0);Er(i)}function O0(i,r,l,h,y,b,A,M,W,oe,ye,we,ue,fe){if(i.timeoutHandle=-1,we=r.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},A0(r,b,we);var De=(b&62914560)===b?Td-zn():(b&4194048)===b?I0-zn():0;if(De=J2(we,De),De!==null){la=b,i.cancelPendingCommit=De(q0.bind(null,i,r,b,l,h,y,A,M,W,ye,we,null,ue,fe)),so(i,b,A,!oe);return}}q0(i,r,b,l,h,y,A,M,W)}function p2(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],b=y.getSnapshot;y=y.value;try{if(!On(b(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function so(i,r,l,h){r&=~Ip,r&=~wl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var y=r;0<y;){var b=31-Yt(y),A=1<<b;h[b]=-1,y&=~A}l!==0&&Ur(i,l,r)}function Cd(){return(St&6)===0?(ju(0),!1):!0}function Dp(){if(lt!==null){if(Pt===0)var i=lt.return;else i=lt,Zs=xr=null,Qm(i),gc=null,vu=0,i=lt;for(;i!==null;)h0(i.alternate,i),i=i.return;lt=null}}function Ac(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,D2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),la=0,Dp(),zt=i,lt=l=As(i.current,null),ht=r,Pt=0,es=null,eo=!1,Ec=Ui(i,r),Rp=!1,Tc=ts=Ip=wl=to=sn=0,Di=Du=null,Pp=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var y=31-Yt(h),b=1<<y;r|=i[y],h&=~b}return oa=r,cl(),l}function D0(i,r){Je=null,re.H=Cu,r===pc||r===nd?(r=Q_(),Pt=3):r===zm?(r=Q_(),Pt=4):Pt=r===fp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,es=r,lt===null&&(sn=1,gd(i,u(r,i.current)))}function k0(){var i=Xi.current;return i===null?!0:(ht&4194048)===ht?Cs===null:(ht&62914560)===ht||(ht&536870912)!==0?i===Cs:!1}function j0(){var i=re.H;return re.H=Cu,i===null?Cu:i}function V0(){var i=re.A;return re.A=f2,i}function Nd(){sn=4,eo||(ht&4194048)!==ht&&Xi.current!==null||(Ec=!0),(to&134217727)===0&&(wl&134217727)===0||zt===null||so(zt,ht,ts,!1)}function kp(i,r,l){var h=St;St|=2;var y=j0(),b=V0();(zt!==i||ht!==r)&&(Ad=null,Ac(i,r)),r=!1;var A=sn;e:do try{if(Pt!==0&&lt!==null){var M=lt,W=es;switch(Pt){case 8:Dp(),A=6;break e;case 3:case 2:case 9:case 6:Xi.current===null&&(r=!0);var oe=Pt;if(Pt=0,es=null,Cc(i,M,W,oe),l&&Ec){A=0;break e}break;default:oe=Pt,Pt=0,es=null,Cc(i,M,W,oe)}}g2(),A=sn;break}catch(ye){D0(i,ye)}while(!0);return r&&i.shellSuspendCounter++,Zs=xr=null,St=h,re.H=y,re.A=b,lt===null&&(zt=null,ht=0,cl()),A}function g2(){for(;lt!==null;)z0(lt)}function y2(i,r){var l=St;St|=2;var h=j0(),y=V0();zt!==i||ht!==r?(Ad=null,Sd=zn()+500,Ac(i,r)):Ec=Ui(i,r);e:do try{if(Pt!==0&&lt!==null){r=lt;var b=es;t:switch(Pt){case 1:Pt=0,es=null,Cc(i,r,b,1);break;case 2:case 9:if(K_(b)){Pt=0,es=null,U0(r);break}r=function(){Pt!==2&&Pt!==9||zt!==i||(Pt=7),Er(i)},b.then(r,r);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:K_(b)?(Pt=0,es=null,U0(r)):(Pt=0,es=null,Cc(i,r,b,7));break;case 5:var A=null;switch(lt.tag){case 26:A=lt.memoizedState;case 5:case 27:var M=lt;if(A?Sb(A):M.stateNode.complete){Pt=0,es=null;var W=M.sibling;if(W!==null)lt=W;else{var oe=M.return;oe!==null?(lt=oe,Rd(oe)):lt=null}break t}}Pt=0,es=null,Cc(i,r,b,5);break;case 6:Pt=0,es=null,Cc(i,r,b,6);break;case 8:Dp(),sn=6;break e;default:throw Error(s(462))}}_2();break}catch(ye){D0(i,ye)}while(!0);return Zs=xr=null,re.H=h,re.A=y,St=l,lt!==null?0:(zt=null,ht=0,cl(),sn)}function _2(){for(;lt!==null&&!Zl();)z0(lt)}function z0(i){var r=c0(i.alternate,i,oa);i.memoizedProps=i.pendingProps,r===null?Rd(i):lt=r}function U0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=i0(l,r,r.pendingProps,r.type,void 0,ht);break;case 11:r=i0(l,r,r.pendingProps,r.type.render,r.ref,ht);break;case 5:Qm(r);default:h0(l,r),r=lt=du(r,oa),r=c0(l,r,oa)}i.memoizedProps=i.pendingProps,r===null?Rd(i):lt=r}function Cc(i,r,l,h){Zs=xr=null,Qm(r),gc=null,vu=0;var y=r.return;try{if(a2(i,y,r,l,ht)){sn=1,gd(i,u(l,i.current)),lt=null;return}}catch(b){if(y!==null)throw lt=y,b;sn=1,gd(i,u(l,i.current)),lt=null;return}r.flags&32768?(ot||h===1?i=!0:Ec||(ht&536870912)!==0?i=!1:(eo=i=!0,(h===2||h===9||h===3||h===6)&&(h=Xi.current,h!==null&&h.tag===13&&(h.flags|=16384))),B0(r,i)):Rd(r)}function Rd(i){var r=i;do{if((r.flags&32768)!==0){B0(r,eo);return}i=r.return;var l=c2(r.alternate,r,oa);if(l!==null){lt=l;return}if(r=r.sibling,r!==null){lt=r;return}lt=r=i}while(r!==null);sn===0&&(sn=5)}function B0(i,r){do{var l=u2(i.alternate,i);if(l!==null){l.flags&=32767,lt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){lt=i;return}lt=i=l}while(i!==null);sn=6,lt=null}function q0(i,r,l,h,y,b,A,M,W){i.cancelPendingCommit=null;do Id();while(An!==0);if((St&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(b=r.lanes|r.childLanes,b|=lc,uu(i,l,b,A,M,W),i===zt&&(lt=zt=null,ht=0),Sc=r,io=i,la=l,Mp=b,Lp=y,P0=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,w2(Ls,function(){return $0(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=re.T,re.T=null,y=Se.p,Se.p=2,A=St,St|=4;try{h2(i,r,l)}finally{St=A,Se.p=y,re.T=h}}An=1,H0(),F0(),G0()}}function H0(){if(An===1){An=0;var i=io,r=Sc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=re.T,re.T=null;var h=Se.p;Se.p=2;var y=St;St|=4;try{E0(r,i);var b=Yp,A=sl(i.containerInfo),M=b.focusedElem,W=b.selectionRange;if(A!==M&&M&&M.ownerDocument&&sc(M.ownerDocument.documentElement,M)){if(W!==null&&mr(M)){var oe=W.start,ye=W.end;if(ye===void 0&&(ye=oe),"selectionStart"in M)M.selectionStart=oe,M.selectionEnd=Math.min(ye,M.value.length);else{var we=M.ownerDocument||document,ue=we&&we.defaultView||window;if(ue.getSelection){var fe=ue.getSelection(),De=M.textContent.length,He=Math.min(W.start,De),Dt=W.end===void 0?He:Math.min(W.end,De);!fe.extend&&He>Dt&&(A=Dt,Dt=He,He=A);var ee=il(M,He),Q=il(M,Dt);if(ee&&Q&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==Q.node||fe.focusOffset!==Q.offset)){var ae=we.createRange();ae.setStart(ee.node,ee.offset),fe.removeAllRanges(),He>Dt?(fe.addRange(ae),fe.extend(Q.node,Q.offset)):(ae.setEnd(Q.node,Q.offset),fe.addRange(ae))}}}}for(we=[],fe=M;fe=fe.parentNode;)fe.nodeType===1&&we.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<we.length;M++){var _e=we[M];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}qd=!!$p,Yp=$p=null}finally{St=y,Se.p=h,re.T=l}}i.current=r,An=2}}function F0(){if(An===2){An=0;var i=io,r=Sc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=re.T,re.T=null;var h=Se.p;Se.p=2;var y=St;St|=4;try{_0(i,r.alternate,r)}finally{St=y,Se.p=h,re.T=l}}An=3}}function G0(){if(An===4||An===3){An=0,zo();var i=io,r=Sc,l=la,h=P0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?An=5:(An=0,Sc=io=null,Z0(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(no=null),Oe(l),r=r.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(vi,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=re.T,y=Se.p,Se.p=2,re.T=null;try{for(var b=i.onRecoverableError,A=0;A<h.length;A++){var M=h[A];b(M.value,{componentStack:M.stack})}}finally{re.T=r,Se.p=y}}(la&3)!==0&&Id(),Er(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===Op?ku++:(ku=0,Op=i):ku=0,ju(0)}}function Z0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,yu(r)))}function Id(){return H0(),F0(),G0(),$0()}function $0(){if(An!==5)return!1;var i=io,r=Mp;Mp=0;var l=Oe(la),h=re.T,y=Se.p;try{Se.p=32>l?32:l,re.T=null,l=Lp,Lp=null;var b=io,A=la;if(An=0,Sc=io=null,la=0,(St&6)!==0)throw Error(s(331));var M=St;if(St|=4,N0(b.current),S0(b,b.current,A,l),St=M,ju(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(vi,b)}catch{}return!0}finally{Se.p=y,re.T=h,Z0(i,r)}}function Y0(i,r,l){r=u(l,r),r=dp(i.stateNode,r,2),i=Wa(i,r,2),i!==null&&(Os(i,2),Er(i))}function Mt(i,r,l){if(i.tag===3)Y0(i,i,l);else for(;r!==null;){if(r.tag===3){Y0(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(no===null||!no.has(h))){i=u(l,i),l=Kv(2),h=Wa(r,l,2),h!==null&&(Wv(l,h,r,i),Os(h,2),Er(h));break}}r=r.return}}function jp(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new m2;var y=new Set;h.set(r,y)}else y=h.get(r),y===void 0&&(y=new Set,h.set(r,y));y.has(l)||(Rp=!0,y.add(l),i=v2.bind(null,i,r,l),r.then(i,i))}function v2(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,zt===i&&(ht&l)===l&&(sn===4||sn===3&&(ht&62914560)===ht&&300>zn()-Td?(St&2)===0&&Ac(i,0):Ip|=l,Tc===ht&&(Tc=0)),Er(i)}function K0(i,r){r===0&&(r=Kl()),i=Ss(i,r),i!==null&&(Os(i,r),Er(i))}function b2(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),K0(i,l)}function x2(i,r){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),K0(i,l)}function w2(i,r){return gt(i,r)}var Pd=null,Nc=null,Vp=!1,Md=!1,zp=!1,ro=0;function Er(i){i!==Nc&&i.next===null&&(Nc===null?Pd=Nc=i:Nc=Nc.next=i),Md=!0,Vp||(Vp=!0,T2())}function ju(i,r){if(!zp&&Md){zp=!0;do for(var l=!1,h=Pd;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var A=h.suspendedLanes,M=h.pingedLanes;b=(1<<31-Yt(42|i)+1)-1,b&=y&~(A&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,J0(h,b))}else b=ht,b=ds(h,h===zt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Ui(h,b)||(l=!0,J0(h,b));h=h.next}while(l);zp=!1}}function E2(){W0()}function W0(){Md=Vp=!1;var i=0;ro!==0&&O2()&&(i=ro);for(var r=zn(),l=null,h=Pd;h!==null;){var y=h.next,b=Q0(h,r);b===0?(h.next=null,l===null?Pd=y:l.next=y,y===null&&(Nc=l)):(l=h,(i!==0||(b&3)!==0)&&(Md=!0)),h=y}An!==0&&An!==5||ju(i),ro!==0&&(ro=0)}function Q0(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-Yt(b),M=1<<A,W=y[A];W===-1?((M&l)===0||(M&h)!==0)&&(y[A]=cu(M,r)):W<=r&&(i.expiredLanes|=M),b&=~M}if(r=zt,l=ht,l=ds(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(Pt===2||Pt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Zn(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ui(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Zn(h),Oe(l)){case 2:case 8:l=Ca;break;case 32:l=Ls;break;case 268435456:l=Uo;break;default:l=Ls}return h=X0.bind(null,i),l=gt(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Zn(h),i.callbackPriority=2,i.callbackNode=null,2}function X0(i,r){if(An!==0&&An!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Id()&&i.callbackNode!==l)return null;var h=ht;return h=ds(i,i===zt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(L0(i,h,r),Q0(i,zn()),i.callbackNode!=null&&i.callbackNode===l?X0.bind(null,i):null)}function J0(i,r){if(Id())return null;L0(i,r,!0)}function T2(){k2(function(){(St&6)!==0?gt(zr,E2):W0()})}function Up(){if(ro===0){var i=fc;i===0&&(i=zi,zi<<=1,(zi&261888)===0&&(zi=256)),ro=i}return ro}function eb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:cr(""+i)}function tb(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function S2(i,r,l,h,y){if(r==="submit"&&l&&l.stateNode===y){var b=eb((y[Jt]||null).action),A=h.submitter;A&&(r=(r=A[Jt]||null)?eb(r.formAction):A.getAttribute("formAction"),r!==null&&(b=r,A=null));var M=new xs("action","action",null,h,y);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ro!==0){var W=A?tb(y,A):new FormData(y);ap(l,{pending:!0,data:W,method:y.method,action:b},null,W)}}else typeof b=="function"&&(M.preventDefault(),W=A?tb(y,A):new FormData(y),ap(l,{pending:!0,data:W,method:y.method,action:b},b,W))},currentTarget:y}]})}}for(var Bp=0;Bp<yr.length;Bp++){var qp=yr[Bp],A2=qp.toLowerCase(),C2=qp[0].toUpperCase()+qp.slice(1);Ri(A2,"on"+C2)}Ri(al,"onAnimationEnd"),Ri(Wh,"onAnimationIteration"),Ri(ol,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Pm,"onTransitionRun"),Ri(Qh,"onTransitionStart"),Ri(Mm,"onTransitionCancel"),Ri(Ga,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function nb(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var b=void 0;if(r)for(var A=h.length-1;0<=A;A--){var M=h[A],W=M.instance,oe=M.currentTarget;if(M=M.listener,W!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=oe;try{b(y)}catch(ye){ll(ye)}y.currentTarget=null,b=W}else for(A=0;A<h.length;A++){if(M=h[A],W=M.instance,oe=M.currentTarget,M=M.listener,W!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=oe;try{b(y)}catch(ye){ll(ye)}y.currentTarget=null,b=W}}}}function ct(i,r){var l=r[qi];l===void 0&&(l=r[qi]=new Set);var h=i+"__bubble";l.has(h)||(ib(r,i,2,!1),l.add(h))}function Hp(i,r,l){var h=0;r&&(h|=4),ib(l,i,h,r)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Fp(i){if(!i[Ld]){i[Ld]=!0,Go.forEach(function(l){l!=="selectionchange"&&(N2.has(l)||Hp(l,!1,i),Hp(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ld]||(r[Ld]=!0,Hp("selectionchange",!1,r))}}function ib(i,r,l,h){switch(Mb(r)){case 2:var y=nA;break;case 8:y=iA;break;default:y=rg}l=y.bind(null,r,l,i),y=void 0,!Vs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(r,l,{capture:!0,passive:y}):i.addEventListener(r,l,!0):y!==void 0?i.addEventListener(r,l,{passive:y}):i.addEventListener(r,l,!1)}function Gp(i,r,l,h,y){var b=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===y)break;if(A===4)for(A=h.return;A!==null;){var W=A.tag;if((W===3||W===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;M!==null;){if(A=Hi(M),A===null)return;if(W=A.tag,W===5||W===6||W===26||W===27){h=b=A;continue e}M=M.parentNode}}h=h.return}js(function(){var oe=b,ye=Yn(l),we=[];e:{var ue=Xh.get(i);if(ue!==void 0){var fe=xs,De=i;switch(i){case"keypress":if(hr(l)===0)break e;case"keydown":case"keyup":fe=Xo;break;case"focusin":De="focus",fe=Zr;break;case"focusout":De="blur",fe=Zr;break;case"beforeblur":case"afterblur":fe=Zr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=T;break;case al:case Wh:case ol:fe=Da;break;case Ga:fe=j;break;case"scroll":case"scrollend":fe=it;break;case"wheel":fe=he;break;case"copy":case"cut":case"paste":fe=li;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=qs;break;case"toggle":case"beforetoggle":fe=Ke}var He=(r&4)!==0,Dt=!He&&(i==="scroll"||i==="scrollend"),ee=He?ue!==null?ue+"Capture":null:ue;He=[];for(var Q=oe,ae;Q!==null;){var _e=Q;if(ae=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ae===null||ee===null||(_e=oi(Q,ee),_e!=null&&He.push(zu(Q,_e,ae))),Dt)break;Q=Q.return}0<He.length&&(ue=new fe(ue,De,null,l,ye),we.push({event:ue,listeners:He}))}}if((r&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ue&&l!==Oa&&(De=l.relatedTarget||l.fromElement)&&(Hi(De)||De[Bi]))break e;if((fe||ue)&&(ue=ye.window===ye?ye:(ue=ye.ownerDocument)?ue.defaultView||ue.parentWindow:window,fe?(De=l.relatedTarget||l.toElement,fe=oe,De=De?Hi(De):null,De!==null&&(Dt=c(De),He=De.tag,De!==Dt||He!==5&&He!==27&&He!==6)&&(De=null)):(fe=null,De=oe),fe!==De)){if(He=$o,_e="onMouseLeave",ee="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(He=qs,_e="onPointerLeave",ee="onPointerEnter",Q="pointer"),Dt=fe==null?ue:In(fe),ae=De==null?ue:In(De),ue=new He(_e,Q+"leave",fe,l,ye),ue.target=Dt,ue.relatedTarget=ae,_e=null,Hi(ye)===oe&&(He=new He(ee,Q+"enter",De,l,ye),He.target=ae,He.relatedTarget=Dt,_e=He),Dt=_e,fe&&De)t:{for(He=R2,ee=fe,Q=De,ae=0,_e=ee;_e;_e=He(_e))ae++;_e=0;for(var Ve=Q;Ve;Ve=He(Ve))_e++;for(;0<ae-_e;)ee=He(ee),ae--;for(;0<_e-ae;)Q=He(Q),_e--;for(;ae--;){if(ee===Q||Q!==null&&ee===Q.alternate){He=ee;break t}ee=He(ee),Q=He(Q)}He=null}else He=null;fe!==null&&sb(we,ue,fe,He,!1),De!==null&&Dt!==null&&sb(we,Dt,De,He,!0)}}e:{if(ue=oe?In(oe):window,fe=ue.nodeName&&ue.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ue.type==="file")var Et=nl;else if(ws(ue))if(Gh)Et=Im;else{Et=Rm;var ke=Hs}else fe=ue.nodeName,!fe||fe.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?oe&&lr(oe.elementType)&&(Et=nl):Et=Ba;if(Et&&(Et=Et(i,oe))){Fh(we,Et,l,ye);break e}ke&&ke(i,ue,oe),i==="focusout"&&oe&&ue.type==="number"&&oe.memoizedProps.value!=null&&Fi(ue,"number",ue.value)}switch(ke=oe?In(oe):window,i){case"focusin":(ws(ke)||ke.contentEditable==="true")&&(pr=ke,ac=oe,rl=null);break;case"focusout":rl=ac=pr=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,Yh(we,l,ye);break;case"selectionchange":if(rc)break;case"keydown":case"keyup":Yh(we,l,ye)}var tt;if(_t)e:{switch(i){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Va?$r(i,l)&&(dt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(dt="onCompositionStart");dt&&(Ni&&l.locale!=="ko"&&(Va||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Va&&(tt=Gi()):(Ai=ye,zs="value"in Ai?Ai.value:Ai.textContent,Va=!0)),ke=Od(oe,dt),0<ke.length&&(dt=new Yi(dt,i,null,l,ye),we.push({event:dt,listeners:ke}),tt?dt.data=tt:(tt=Yr(l),tt!==null&&(dt.data=tt)))),(tt=Ci?Qi(i,l):za(i,l))&&(dt=Od(oe,"onBeforeInput"),0<dt.length&&(ke=new Yi("onBeforeInput","beforeinput",null,l,ye),we.push({event:ke,listeners:dt}),ke.data=tt)),S2(we,i,oe,l,ye)}nb(we,r)})}function zu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Od(i,r){for(var l=r+"Capture",h=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=oi(i,l),y!=null&&h.unshift(zu(i,y,b)),y=oi(i,r),y!=null&&h.push(zu(i,y,b))),i.tag===3)return h;i=i.return}return[]}function R2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sb(i,r,l,h,y){for(var b=r._reactName,A=[];l!==null&&l!==h;){var M=l,W=M.alternate,oe=M.stateNode;if(M=M.tag,W!==null&&W===h)break;M!==5&&M!==26&&M!==27||oe===null||(W=oe,y?(oe=oi(l,b),oe!=null&&A.unshift(zu(l,oe,W))):y||(oe=oi(l,b),oe!=null&&A.push(zu(l,oe,W)))),l=l.return}A.length!==0&&i.push({event:r,listeners:A})}var I2=/\r\n?/g,P2=/\u0000|\uFFFD/g;function rb(i){return(typeof i=="string"?i:""+i).replace(I2,`
`).replace(P2,"")}function ab(i,r){return r=rb(r),rb(i)===r}function Ot(i,r,l,h,y,b){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||pn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&pn(i,""+h);break;case"className":at(i,"class",h);break;case"tabIndex":at(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":at(i,l,h);break;case"style":Hr(i,h,b);break;case"data":if(r!=="object"){at(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=cr(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Ot(i,r,"name",y.name,y,null),Ot(i,r,"formEncType",y.formEncType,y,null),Ot(i,r,"formMethod",y.formMethod,y,null),Ot(i,r,"formTarget",y.formTarget,y,null)):(Ot(i,r,"encType",y.encType,y,null),Ot(i,r,"method",y.method,y,null),Ot(i,r,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=cr(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=$n);break;case"onScroll":h!=null&&ct("scroll",i);break;case"onScrollEnd":h!=null&&ct("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=cr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ct("beforetoggle",i),ct("toggle",i),rt(i,"popover",h);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":rt(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fr.get(l)||l,rt(i,l,h))}}function Zp(i,r,l,h,y,b){switch(l){case"style":Hr(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?pn(i,h):(typeof h=="number"||typeof h=="bigint")&&pn(i,""+h);break;case"onScroll":h!=null&&ct("scroll",i);break;case"onScrollEnd":h!=null&&ct("scrollend",i);break;case"onClick":h!=null&&(i.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),b=i[Jt]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(r,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):rt(i,l,h)}}}function qn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",i),ct("load",i);var h=!1,y=!1,b;for(b in l)if(l.hasOwnProperty(b)){var A=l[b];if(A!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,b,A,l,null)}}y&&Ot(i,r,"srcSet",l.srcSet,l,null),h&&Ot(i,r,"src",l.src,l,null);return;case"input":ct("invalid",i);var M=b=A=y=null,W=null,oe=null;for(h in l)if(l.hasOwnProperty(h)){var ye=l[h];if(ye!=null)switch(h){case"name":y=ye;break;case"type":A=ye;break;case"checked":W=ye;break;case"defaultChecked":oe=ye;break;case"value":b=ye;break;case"defaultValue":M=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,r));break;default:Ot(i,r,h,ye,l,null)}}qr(i,b,M,W,oe,A,y,!1);return;case"select":ct("invalid",i),h=A=b=null;for(y in l)if(l.hasOwnProperty(y)&&(M=l[y],M!=null))switch(y){case"value":b=M;break;case"defaultValue":A=M;break;case"multiple":h=M;default:Ot(i,r,y,M,l,null)}r=b,l=A,i.multiple=!!h,r!=null?It(i,!!h,r,!1):l!=null&&It(i,!!h,l,!0);return;case"textarea":ct("invalid",i),b=y=h=null;for(A in l)if(l.hasOwnProperty(A)&&(M=l[A],M!=null))switch(A){case"value":h=M;break;case"defaultValue":y=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Ot(i,r,A,M,l,null)}Si(i,h,y,b);return;case"option":for(W in l)l.hasOwnProperty(W)&&(h=l[W],h!=null)&&(W==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":Ot(i,r,W,h,l,null));return;case"dialog":ct("beforetoggle",i),ct("toggle",i),ct("cancel",i),ct("close",i);break;case"iframe":case"object":ct("load",i);break;case"video":case"audio":for(h=0;h<Vu.length;h++)ct(Vu[h],i);break;case"image":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"embed":case"source":case"link":ct("error",i),ct("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in l)if(l.hasOwnProperty(oe)&&(h=l[oe],h!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,oe,h,l,null)}return;default:if(lr(r)){for(ye in l)l.hasOwnProperty(ye)&&(h=l[ye],h!==void 0&&Zp(i,r,ye,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&Ot(i,r,M,h,l,null))}function M2(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,M=null,W=null,oe=null,ye=null;for(fe in l){var we=l[fe];if(l.hasOwnProperty(fe)&&we!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":W=we;default:h.hasOwnProperty(fe)||Ot(i,r,fe,null,h,we)}}for(var ue in h){var fe=h[ue];if(we=l[ue],h.hasOwnProperty(ue)&&(fe!=null||we!=null))switch(ue){case"type":b=fe;break;case"name":y=fe;break;case"checked":oe=fe;break;case"defaultChecked":ye=fe;break;case"value":A=fe;break;case"defaultValue":M=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,r));break;default:fe!==we&&Ot(i,r,ue,fe,h,we)}}Ma(i,A,M,W,oe,ye,b,y);return;case"select":fe=A=M=ue=null;for(b in l)if(W=l[b],l.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":fe=W;default:h.hasOwnProperty(b)||Ot(i,r,b,null,h,W)}for(y in h)if(b=h[y],W=l[y],h.hasOwnProperty(y)&&(b!=null||W!=null))switch(y){case"value":ue=b;break;case"defaultValue":M=b;break;case"multiple":A=b;default:b!==W&&Ot(i,r,y,b,h,W)}r=M,l=A,h=fe,ue!=null?It(i,!!l,ue,!1):!!h!=!!l&&(r!=null?It(i,!!l,r,!0):It(i,!!l,l?[]:"",!1));return;case"textarea":fe=ue=null;for(M in l)if(y=l[M],l.hasOwnProperty(M)&&y!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ot(i,r,M,null,h,y)}for(A in h)if(y=h[A],b=l[A],h.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":ue=y;break;case"defaultValue":fe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==b&&Ot(i,r,A,y,h,b)}_s(i,ue,fe);return;case"option":for(var De in l)ue=l[De],l.hasOwnProperty(De)&&ue!=null&&!h.hasOwnProperty(De)&&(De==="selected"?i.selected=!1:Ot(i,r,De,null,h,ue));for(W in h)ue=h[W],fe=l[W],h.hasOwnProperty(W)&&ue!==fe&&(ue!=null||fe!=null)&&(W==="selected"?i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol":Ot(i,r,W,ue,h,fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)ue=l[He],l.hasOwnProperty(He)&&ue!=null&&!h.hasOwnProperty(He)&&Ot(i,r,He,null,h,ue);for(oe in h)if(ue=h[oe],fe=l[oe],h.hasOwnProperty(oe)&&ue!==fe&&(ue!=null||fe!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:Ot(i,r,oe,ue,h,fe)}return;default:if(lr(r)){for(var Dt in l)ue=l[Dt],l.hasOwnProperty(Dt)&&ue!==void 0&&!h.hasOwnProperty(Dt)&&Zp(i,r,Dt,void 0,h,ue);for(ye in h)ue=h[ye],fe=l[ye],!h.hasOwnProperty(ye)||ue===fe||ue===void 0&&fe===void 0||Zp(i,r,ye,ue,h,fe);return}}for(var ee in l)ue=l[ee],l.hasOwnProperty(ee)&&ue!=null&&!h.hasOwnProperty(ee)&&Ot(i,r,ee,null,h,ue);for(we in h)ue=h[we],fe=l[we],!h.hasOwnProperty(we)||ue===fe||ue==null&&fe==null||Ot(i,r,we,ue,h,fe)}function ob(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],b=y.transferSize,A=y.initiatorType,M=y.duration;if(b&&M&&ob(A)){for(A=0,M=y.responseEnd,h+=1;h<l.length;h++){var W=l[h],oe=W.startTime;if(oe>M)break;var ye=W.transferSize,we=W.initiatorType;ye&&ob(we)&&(W=W.responseEnd,A+=ye*(W<M?1:(M-oe)/(W-oe)))}if(--h,r+=8*(b+A)/(y.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var $p=null,Yp=null;function Dd(i){return i.nodeType===9?i:i.ownerDocument}function lb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Kp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wp=null;function O2(){var i=window.event;return i&&i.type==="popstate"?i===Wp?!1:(Wp=i,!0):(Wp=null,!1)}var ub=typeof setTimeout=="function"?setTimeout:void 0,D2=typeof clearTimeout=="function"?clearTimeout:void 0,hb=typeof Promise=="function"?Promise:void 0,k2=typeof queueMicrotask=="function"?queueMicrotask:typeof hb<"u"?function(i){return hb.resolve(null).then(i).catch(j2)}:ub;function j2(i){setTimeout(function(){throw i})}function ao(i){return i==="head"}function db(i,r){var l=r,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),Mc(r);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Uu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Uu(l);for(var b=l.firstChild;b;){var A=b.nextSibling,M=b.nodeName;b[ms]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=A}}else l==="body"&&Uu(i.ownerDocument.body);l=y}while(l);Mc(r)}function fb(i,r){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Qp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Qp(l),Ra(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function V2(i,r,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ms])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ns(i.nextSibling),i===null)break}return null}function z2(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ns(i.nextSibling),i===null))return null;return i}function mb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ns(i.nextSibling),i===null))return null;return i}function Xp(i){return i.data==="$?"||i.data==="$~"}function Jp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function U2(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ns(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var eg=null;function pb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Ns(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function gb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function yb(i,r,l){switch(r=Dd(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Uu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ra(i)}var Rs=new Map,_b=new Set;function kd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ca=Se.d;Se.d={f:B2,r:q2,D:H2,C:F2,L:G2,m:Z2,X:Y2,S:$2,M:K2};function B2(){var i=ca.f(),r=Cd();return i||r}function q2(i){var r=wi(i);r!==null&&r.tag===5&&r.type==="form"?Dv(r):ca.r(i)}var Rc=typeof document>"u"?null:document;function vb(i,r,l){var h=Rc;if(h&&typeof r=="string"&&r){var y=jt(r);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),_b.has(y)||(_b.add(y),i={rel:i,crossOrigin:l,href:r},h.querySelector(y)===null&&(r=h.createElement("link"),qn(r,"link",i),en(r),h.head.appendChild(r)))}}function H2(i){ca.D(i),vb("dns-prefetch",i,null)}function F2(i,r){ca.C(i,r),vb("preconnect",i,r)}function G2(i,r,l){ca.L(i,r,l);var h=Rc;if(h&&i&&r){var y='link[rel="preload"][as="'+jt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+jt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+jt(l.imageSizes)+'"]')):y+='[href="'+jt(i)+'"]';var b=y;switch(r){case"style":b=Ic(i);break;case"script":b=Pc(i)}Rs.has(b)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Rs.set(b,i),h.querySelector(y)!==null||r==="style"&&h.querySelector(Bu(b))||r==="script"&&h.querySelector(qu(b))||(r=h.createElement("link"),qn(r,"link",i),en(r),h.head.appendChild(r)))}}function Z2(i,r){ca.m(i,r);var l=Rc;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+jt(h)+'"][href="'+jt(i)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Pc(i)}if(!Rs.has(b)&&(i=E({rel:"modulepreload",href:i},r),Rs.set(b,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qu(b)))return}h=l.createElement("link"),qn(h,"link",i),en(h),l.head.appendChild(h)}}}function $2(i,r,l){ca.S(i,r,l);var h=Rc;if(h&&i){var y=ps(h).hoistableStyles,b=Ic(i);r=r||"default";var A=y.get(b);if(!A){var M={loading:0,preload:null};if(A=h.querySelector(Bu(b)))M.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Rs.get(b))&&tg(i,l);var W=A=h.createElement("link");en(W),qn(W,"link",i),W._p=new Promise(function(oe,ye){W.onload=oe,W.onerror=ye}),W.addEventListener("load",function(){M.loading|=1}),W.addEventListener("error",function(){M.loading|=2}),M.loading|=4,jd(A,r,h)}A={type:"stylesheet",instance:A,count:1,state:M},y.set(b,A)}}}function Y2(i,r){ca.X(i,r);var l=Rc;if(l&&i){var h=ps(l).hoistableScripts,y=Pc(i),b=h.get(y);b||(b=l.querySelector(qu(y)),b||(i=E({src:i,async:!0},r),(r=Rs.get(y))&&ng(i,r),b=l.createElement("script"),en(b),qn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function K2(i,r){ca.M(i,r);var l=Rc;if(l&&i){var h=ps(l).hoistableScripts,y=Pc(i),b=h.get(y);b||(b=l.querySelector(qu(y)),b||(i=E({src:i,async:!0,type:"module"},r),(r=Rs.get(y))&&ng(i,r),b=l.createElement("script"),en(b),qn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function bb(i,r,l,h){var y=(y=Ce.current)?kd(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ic(l.href),l=ps(y).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ic(l.href);var b=ps(y).hoistableStyles,A=b.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=y.querySelector(Bu(i)))&&!b._p&&(A.instance=b,A.state.loading=5),Rs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Rs.set(i,l),b||W2(y,i,l,A.state))),r&&h===null)throw Error(s(528,""));return A}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Pc(l),l=ps(y).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ic(i){return'href="'+jt(i)+'"'}function Bu(i){return'link[rel="stylesheet"]['+i+"]"}function xb(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function W2(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),qn(r,"link",l),en(r),i.head.appendChild(r))}function Pc(i){return'[src="'+jt(i)+'"]'}function qu(i){return"script[async]"+i}function wb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+jt(l.href)+'"]');if(h)return r.instance=h,en(h),h;var y=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),en(h),qn(h,"style",y),jd(h,l.precedence,i),r.instance=h;case"stylesheet":y=Ic(l.href);var b=i.querySelector(Bu(y));if(b)return r.state.loading|=4,r.instance=b,en(b),b;h=xb(l),(y=Rs.get(y))&&tg(h,y),b=(i.ownerDocument||i).createElement("link"),en(b);var A=b;return A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),qn(b,"link",h),r.state.loading|=4,jd(b,l.precedence,i),r.instance=b;case"script":return b=Pc(l.src),(y=i.querySelector(qu(b)))?(r.instance=y,en(y),y):(h=l,(y=Rs.get(b))&&(h=E({},l),ng(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),en(y),qn(y,"link",h),i.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,jd(h,l.precedence,i));return r.instance}function jd(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,A=0;A<h.length;A++){var M=h[A];if(M.dataset.precedence===r)b=M;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function tg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Vd=null;function Eb(i,r,l){if(Vd===null){var h=new Map,y=Vd=new Map;y.set(l,h)}else y=Vd,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var b=l[y];if(!(b[ms]||b[Wt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(r)||"";A=i+A;var M=h.get(A);M?M.push(b):h.set(A,[b])}}return h}function Tb(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function Q2(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Sb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function X2(i,r,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Ic(h.href),b=r.querySelector(Bu(y));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=zd.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=b,en(b);return}b=r.ownerDocument||r,h=xb(h),(y=Rs.get(y))&&tg(h,y),b=b.createElement("link"),en(b);var A=b;A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),qn(b,"link",h),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=zd.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var ig=0;function J2(i,r){return i.stylesheets&&i.count===0&&Bd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+r);0<i.imgBytes&&ig===0&&(ig=62500*L2());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>ig?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ud=null;function Bd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ud=new Map,r.forEach(eA,i),Ud=null,zd.call(i))}function eA(i,r){if(!(r.state.loading&4)){var l=Ud.get(i);if(l)var h=l.get(null);else{l=new Map,Ud.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),h=A)}h&&l.set(null,h)}y=r.instance,A=y.getAttribute("data-precedence"),b=l.get(A)||h,b===h&&l.set(null,y),l.set(A,y),this.count++,h=zd.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),r.state.loading|=4}}var Hu={$$typeof:$,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function tA(i,r,l,h,y,b,A,M,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Ab(i,r,l,h,y,b,A,M,W,oe,ye,we){return i=new tA(i,r,l,A,W,oe,ye,we,M),r=1,b===!0&&(r|=24),b=Xn(3,null,null,r),i.current=b,b.stateNode=i,r=km(),r.refCount++,i.pooledCache=r,r.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:r},Um(b),i}function Cb(i){return i?(i=Kr,i):Kr}function Nb(i,r,l,h,y,b){y=Cb(y),h.context===null?h.context=y:h.pendingContext=y,h=Ka(r),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=Wa(i,h,r),l!==null&&(ki(l,i,r),xu(l,i,r))}function Rb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function sg(i,r){Rb(i,r),(i=i.alternate)&&Rb(i,r)}function Ib(i){if(i.tag===13||i.tag===31){var r=Ss(i,67108864);r!==null&&ki(r,i,67108864),sg(i,67108864)}}function Pb(i){if(i.tag===13||i.tag===31){var r=ns();r=Rn(r);var l=Ss(i,r);l!==null&&ki(l,i,r),sg(i,r)}}var qd=!0;function nA(i,r,l,h){var y=re.T;re.T=null;var b=Se.p;try{Se.p=2,rg(i,r,l,h)}finally{Se.p=b,re.T=y}}function iA(i,r,l,h){var y=re.T;re.T=null;var b=Se.p;try{Se.p=8,rg(i,r,l,h)}finally{Se.p=b,re.T=y}}function rg(i,r,l,h){if(qd){var y=ag(h);if(y===null)Gp(i,r,h,Hd,l),Lb(i,h);else if(rA(y,i,r,l,h))h.stopPropagation();else if(Lb(i,h),r&4&&-1<sA.indexOf(i)){for(;y!==null;){var b=wi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=hs(b.pendingLanes);if(A!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var W=1<<31-Yt(A);M.entanglements[1]|=W,A&=~W}Er(b),(St&6)===0&&(Sd=zn()+500,ju(0))}}break;case 31:case 13:M=Ss(b,2),M!==null&&ki(M,b,2),Cd(),sg(b,2)}if(b=ag(h),b===null&&Gp(i,r,h,Hd,l),b===y)break;y=b}y!==null&&h.stopPropagation()}else Gp(i,r,h,null,l)}}function ag(i){return i=Yn(i),og(i)}var Hd=null;function og(i){if(Hd=null,i=Hi(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=d(r),i!==null)return i;i=null}else if(l===31){if(i=_(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Hd=i,null}function Mb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case zr:return 2;case Ca:return 8;case Ls:case lu:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var lg=!1,oo=null,lo=null,co=null,Fu=new Map,Gu=new Map,uo=[],sA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lb(i,r){switch(i){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(r.pointerId)}}function Zu(i,r,l,h,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},r!==null&&(r=wi(r),r!==null&&Ib(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function rA(i,r,l,h,y){switch(r){case"focusin":return oo=Zu(oo,i,r,l,h,y),!0;case"dragenter":return lo=Zu(lo,i,r,l,h,y),!0;case"mouseover":return co=Zu(co,i,r,l,h,y),!0;case"pointerover":var b=y.pointerId;return Fu.set(b,Zu(Fu.get(b)||null,i,r,l,h,y)),!0;case"gotpointercapture":return b=y.pointerId,Gu.set(b,Zu(Gu.get(b)||null,i,r,l,h,y)),!0}return!1}function Ob(i){var r=Hi(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=d(l),r!==null){i.blockedOn=r,bi(i.priority,function(){Pb(l)});return}}else if(r===31){if(r=_(l),r!==null){i.blockedOn=r,bi(i.priority,function(){Pb(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=ag(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Oa=h,l.target.dispatchEvent(h),Oa=null}else return r=wi(l),r!==null&&Ib(r),i.blockedOn=l,!1;r.shift()}return!0}function Db(i,r,l){Fd(i)&&l.delete(r)}function aA(){lg=!1,oo!==null&&Fd(oo)&&(oo=null),lo!==null&&Fd(lo)&&(lo=null),co!==null&&Fd(co)&&(co=null),Fu.forEach(Db),Gu.forEach(Db)}function Gd(i,r){i.blockedOn===r&&(i.blockedOn=null,lg||(lg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aA)))}var Zd=null;function kb(i){Zd!==i&&(Zd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zd===i&&(Zd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],y=i[r+2];if(typeof h!="function"){if(og(h||l)===null)continue;break}var b=wi(l);b!==null&&(i.splice(r,3),r-=3,ap(b,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Mc(i){function r(W){return Gd(W,i)}oo!==null&&Gd(oo,i),lo!==null&&Gd(lo,i),co!==null&&Gd(co,i),Fu.forEach(r),Gu.forEach(r);for(var l=0;l<uo.length;l++){var h=uo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<uo.length&&(l=uo[0],l.blockedOn===null);)Ob(l),l.blockedOn===null&&uo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],b=l[h+1],A=y[Jt]||null;if(typeof b=="function")A||kb(l);else if(A){var M=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[Jt]||null)M=A.formAction;else if(og(y)!==null)continue}else M=A.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),kb(l)}}}function jb(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function cg(i){this._internalRoot=i}$d.prototype.render=cg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=ns();Nb(l,h,i,r,null,null)},$d.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Nb(i.current,2,null,i,null,null),Cd(),r[Bi]=null}};function $d(i){this._internalRoot=i}$d.prototype.unstable_scheduleHydration=function(i){if(i){var r=Fo();i={blockedOn:null,target:i,priority:r};for(var l=0;l<uo.length&&r!==0&&r<uo[l].priority;l++);uo.splice(l,0,i),l===0&&Ob(i)}};var Vb=e.version;if(Vb!=="19.2.4")throw Error(s(527,Vb,"19.2.4"));Se.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var oA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{vi=Yd.inject(oA),un=Yd}catch{}}return Yu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",y=Gv,b=Zv,A=$v;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=Ab(i,1,!1,null,null,l,h,null,y,b,A,jb),i[Bi]=r.current,Fp(i),new cg(r)},Yu.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,y="",b=Gv,A=Zv,M=$v,W=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(W=l.formState)),r=Ab(i,1,!0,r,l??null,h,y,W,b,A,M,jb),r.context=Cb(null),l=r.current,h=ns(),h=Rn(h),y=Ka(h),y.callback=null,Wa(l,y,h),l=h,r.current.lanes=l,Os(r,l),Er(r),i[Bi]=r.current,Fp(i),new $d(r)},Yu.version="19.2.4",Yu}var Yb;function gA(){if(Yb)return dg.exports;Yb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dg.exports=pA(),dg.exports}var yA=gA();var Kb="popstate";function _A(n={}){function e(o,c){let{pathname:d="/",search:_="",hash:m=""}=Bl(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Gg("",{pathname:d,search:_,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let d=o.document.querySelector("base"),_="";if(d&&d.getAttribute("href")){let m=o.location.href,v=m.indexOf("#");_=v===-1?m:m.slice(0,v)}return _+"#"+(typeof c=="string"?c:ph(c))}function s(o,c){os(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return bA(e,t,s,n)}function $t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function os(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vA(){return Math.random().toString(36).substring(2,10)}function Wb(n,e){return{usr:n.state,key:n.key,idx:e}}function Gg(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Bl(e):e,state:t,key:e&&e.key||s||vA()}}function ph({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Bl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function bA(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,_="POP",m=null,v=w();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function w(){return(d.state||{idx:null}).idx}function E(){_="POP";let D=w(),O=D==null?null:D-v;v=D,m&&m({action:_,location:U.location,delta:O})}function N(D,O){_="PUSH";let q=Gg(U.location,D,O);t&&t(q,D),v=w()+1;let $=Wb(q,v),J=U.createHref(q);try{d.pushState($,"",J)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(J)}c&&m&&m({action:_,location:U.location,delta:1})}function R(D,O){_="REPLACE";let q=Gg(U.location,D,O);t&&t(q,D),v=w();let $=Wb(q,v),J=U.createHref(q);d.replaceState($,"",J),c&&m&&m({action:_,location:U.location,delta:0})}function k(D){return xA(D)}let U={get action(){return _},get location(){return n(o,d)},listen(D){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Kb,E),m=D,()=>{o.removeEventListener(Kb,E),m=null}},createHref(D){return e(o,D)},createURL:k,encodeLocation(D){let O=k(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:N,replace:R,go(D){return d.go(D)}};return U}function xA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$t(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ph(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Qw(n,e,t="/"){return wA(n,e,t,!1)}function wA(n,e,t,s){let o=typeof e=="string"?Bl(e):e,c=ya(o.pathname||"/",t);if(c==null)return null;let d=Xw(n);EA(d);let _=null;for(let m=0;_==null&&m<d.length;++m){let v=OA(c);_=MA(d[m],v,s)}return _}function Xw(n,e=[],t=[],s="",o=!1){let c=(d,_,m=o,v)=>{let w={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:_,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&m)return;$t(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let E=ga([s,w.relativePath]),N=t.concat(w);d.children&&d.children.length>0&&($t(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Xw(d.children,e,N,E,m)),!(d.path==null&&!d.index)&&e.push({path:E,score:IA(E,d.index),routesMeta:N})};return n.forEach((d,_)=>{if(d.path===""||!d.path?.includes("?"))c(d,_);else for(let m of Jw(d.path))c(d,_,!0,m)}),e}function Jw(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Jw(s.join("/")),_=[];return _.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&_.push(...d),_.map(m=>n.startsWith("/")&&m===""?"/":m)}function EA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:PA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var TA=/^:[\w-]+$/,SA=3,AA=2,CA=1,NA=10,RA=-2,Qb=n=>n==="*";function IA(n,e){let t=n.split("/"),s=t.length;return t.some(Qb)&&(s+=RA),e&&(s+=AA),t.filter(o=>!Qb(o)).reduce((o,c)=>o+(TA.test(c)?SA:c===""?CA:NA),s)}function PA(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function MA(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",d=[];for(let _=0;_<s.length;++_){let m=s[_],v=_===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",E=xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},w),N=m.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:ga([c,E.pathname]),pathnameBase:VA(ga([c,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(c=ga([c,E.pathnameBase]))}return d}function xf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=LA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),_=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:E},N)=>{if(w==="*"){let k=_[N]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const R=_[N];return E&&!R?v[w]=void 0:v[w]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:d,pattern:n}}function LA(n,e=!1,t=!0){os(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,_,m)=>(s.push({paramName:_,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function OA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ya(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var DA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function kA(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Bl(n):n,c;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?c=Xb(t.substring(1),"/"):c=Xb(t,e)):c=e,{pathname:c,search:zA(s),hash:UA(o)}}function Xb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cy(n){let e=jA(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Ny(n,e,t,s=!1){let o;typeof n=="string"?o=Bl(n):(o={...n},$t(!o.pathname||!o.pathname.includes("?"),gg("?","pathname","search",o)),$t(!o.pathname||!o.pathname.includes("#"),gg("#","pathname","hash",o)),$t(!o.search||!o.search.includes("#"),gg("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,_;if(d==null)_=t;else{let E=e.length-1;if(!s&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),E-=1;o.pathname=N.join("/")}_=E>=0?e[E]:"/"}let m=kA(o,_),v=d&&d!=="/"&&d.endsWith("/"),w=(c||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(v||w)&&(m.pathname+="/"),m}var ga=n=>n.join("/").replace(/\/\/+/g,"/"),VA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,BA=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function qA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function HA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var e1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function t1(n,e){let t=n;if(typeof t!="string"||!DA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(e1)try{let c=new URL(window.location.href),d=t.startsWith("//")?new URL(c.protocol+t):new URL(t),_=ya(d.pathname,e);d.origin===c.origin&&_!=null?t=_+d.search+d.hash:o=!0}catch{os(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var n1=["POST","PUT","PATCH","DELETE"];new Set(n1);var FA=["GET",...n1];new Set(FA);var Qc=B.createContext(null);Qc.displayName="DataRouter";var Xf=B.createContext(null);Xf.displayName="DataRouterState";var GA=B.createContext(!1),i1=B.createContext({isTransitioning:!1});i1.displayName="ViewTransition";var ZA=B.createContext(new Map);ZA.displayName="Fetchers";var $A=B.createContext(null);$A.displayName="Await";var ls=B.createContext(null);ls.displayName="Navigation";var Nh=B.createContext(null);Nh.displayName="Location";var tr=B.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var Ry=B.createContext(null);Ry.displayName="RouteError";var s1="REACT_ROUTER_ERROR",YA="REDIRECT",KA="ROUTE_ERROR_RESPONSE";function WA(n){if(n.startsWith(`${s1}:${YA}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function QA(n){if(n.startsWith(`${s1}:${KA}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new BA(e.status,e.statusText,e.data)}catch{}}function XA(n,{relative:e}={}){$t(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(ls),{hash:o,pathname:c,search:d}=Rh(n,{relative:e}),_=c;return t!=="/"&&(_=c==="/"?t:ga([t,c])),s.createHref({pathname:_,search:d,hash:o})}function Xc(){return B.useContext(Nh)!=null}function nr(){return $t(Xc(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Nh).location}var r1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a1(n){B.useContext(ls).static||B.useLayoutEffect(n)}function Jc(){let{isDataRoute:n}=B.useContext(tr);return n?dC():JA()}function JA(){$t(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Qc),{basename:e,navigator:t}=B.useContext(ls),{matches:s}=B.useContext(tr),{pathname:o}=nr(),c=JSON.stringify(Cy(s)),d=B.useRef(!1);return a1(()=>{d.current=!0}),B.useCallback((m,v={})=>{if(os(d.current,r1),!d.current)return;if(typeof m=="number"){t.go(m);return}let w=Ny(m,JSON.parse(c),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ga([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,c,o,n])}B.createContext(null);function eC(){let{matches:n}=B.useContext(tr),e=n[n.length-1];return e?e.params:{}}function Rh(n,{relative:e}={}){let{matches:t}=B.useContext(tr),{pathname:s}=nr(),o=JSON.stringify(Cy(t));return B.useMemo(()=>Ny(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function tC(n,e){return o1(n,e)}function o1(n,e,t,s,o){$t(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=B.useContext(ls),{matches:d}=B.useContext(tr),_=d[d.length-1],m=_?_.params:{},v=_?_.pathname:"/",w=_?_.pathnameBase:"/",E=_&&_.route;{let q=E&&E.path||"";c1(v,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let N=nr(),R;if(e){let q=typeof e=="string"?Bl(e):e;$t(w==="/"||q.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${q.pathname}" was given in the \`location\` prop.`),R=q}else R=N;let k=R.pathname||"/",U=k;if(w!=="/"){let q=w.replace(/^\//,"").split("/");U="/"+k.replace(/^\//,"").split("/").slice(q.length).join("/")}let D=Qw(n,{pathname:U});os(E||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),os(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=aC(D&&D.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:ga([w,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?w:ga([w,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),d,t,s,o);return e&&O?B.createElement(Nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},O):O}function nC(){let n=hC(),e=qA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:c},"ErrorBoundary")," or"," ",B.createElement("code",{style:c},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,d)}var iC=B.createElement(nC,null),l1=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=QA(n.digest);t&&(n=t)}let e=n!==void 0?B.createElement(tr.Provider,{value:this.props.routeContext},B.createElement(Ry.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?B.createElement(sC,{error:n},e):e}};l1.contextType=GA;var yg=new WeakMap;function sC({children:n,error:e}){let{basename:t}=B.useContext(ls);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=WA(e.digest);if(s){let o=yg.get(e);if(o)throw o;let c=t1(s.location,t);if(e1&&!yg.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw yg.set(e,d),d}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function rC({routeContext:n,match:e,children:t}){let s=B.useContext(Qc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(tr.Provider,{value:n},t)}function aC(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=t?.errors;if(d!=null){let w=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);$t(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let _=!1,m=-1;if(t)for(let w=0;w<c.length;w++){let E=c[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=w),E.route.id){let{loaderData:N,errors:R}=t,k=E.route.loader&&!N.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||k){_=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let v=t&&s?(w,E)=>{s(w,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:HA(t.matches),errorInfo:E})}:void 0;return c.reduceRight((w,E,N)=>{let R,k=!1,U=null,D=null;t&&(R=d&&E.route.id?d[E.route.id]:void 0,U=E.route.errorElement||iC,_&&(m<0&&N===0?(c1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,D=null):m===N&&(k=!0,D=E.route.hydrateFallbackElement||null)));let O=e.concat(c.slice(0,N+1)),q=()=>{let $;return R?$=U:k?$=D:E.route.Component?$=B.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=w,B.createElement(rC,{match:E,routeContext:{outlet:w,matches:O,isDataRoute:t!=null},children:$})};return t&&(E.route.ErrorBoundary||E.route.errorElement||N===0)?B.createElement(l1,{location:t.location,revalidation:t.revalidation,component:U,error:R,children:q(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:v}):q()},null)}function Iy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oC(n){let e=B.useContext(Qc);return $t(e,Iy(n)),e}function lC(n){let e=B.useContext(Xf);return $t(e,Iy(n)),e}function cC(n){let e=B.useContext(tr);return $t(e,Iy(n)),e}function Py(n){let e=cC(n),t=e.matches[e.matches.length-1];return $t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function uC(){return Py("useRouteId")}function hC(){let n=B.useContext(Ry),e=lC("useRouteError"),t=Py("useRouteError");return n!==void 0?n:e.errors?.[t]}function dC(){let{router:n}=oC("useNavigate"),e=Py("useNavigate"),t=B.useRef(!1);return a1(()=>{t.current=!0}),B.useCallback(async(o,c={})=>{os(t.current,r1),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var Jb={};function c1(n,e,t){!e&&!Jb[n]&&(Jb[n]=!0,os(!1,t))}B.memo(fC);function fC({routes:n,future:e,state:t,onError:s}){return o1(n,void 0,t,s,e)}function _g({to:n,replace:e,state:t,relative:s}){$t(Xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ls);os(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=B.useContext(tr),{pathname:d}=nr(),_=Jc(),m=Ny(n,Cy(c),d,s==="path"),v=JSON.stringify(m);return B.useEffect(()=>{_(JSON.parse(v),{replace:e,state:t,relative:s})},[_,v,s,e,t]),null}function is(n){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mC({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){$t(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=n.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:_,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[_,o,c,d]);typeof t=="string"&&(t=Bl(t));let{pathname:v="/",search:w="",hash:E="",state:N=null,key:R="default"}=t,k=B.useMemo(()=>{let U=ya(v,_);return U==null?null:{location:{pathname:U,search:w,hash:E,state:N,key:R},navigationType:s}},[_,v,w,E,N,R,s]);return os(k!=null,`<Router basename="${_}"> is not able to match the URL "${v}${w}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(ls.Provider,{value:m},B.createElement(Nh.Provider,{children:e,value:k}))}function pC({children:n,location:e}){return tC(Zg(n),e)}function Zg(n,e=[]){let t=[];return B.Children.forEach(n,(s,o)=>{if(!B.isValidElement(s))return;let c=[...e,o];if(s.type===B.Fragment){t.push.apply(t,Zg(s.props.children,c));return}$t(s.type===is,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Zg(s.props.children,c)),t.push(d)}),t}var of="get",lf="application/x-www-form-urlencoded";function Jf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function gC(n){return Jf(n)&&n.tagName.toLowerCase()==="button"}function yC(n){return Jf(n)&&n.tagName.toLowerCase()==="form"}function _C(n){return Jf(n)&&n.tagName.toLowerCase()==="input"}function vC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bC(n,e){return n.button===0&&(!e||e==="_self")&&!vC(n)}function $g(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function xC(n,e){let t=$g(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var Kd=null;function wC(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var EC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(n){return n!=null&&!EC.has(n)?(os(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):n}function TC(n,e){let t,s,o,c,d;if(yC(n)){let _=n.getAttribute("action");s=_?ya(_,e):null,t=n.getAttribute("method")||of,o=vg(n.getAttribute("enctype"))||lf,c=new FormData(n)}else if(gC(n)||_C(n)&&(n.type==="submit"||n.type==="image")){let _=n.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||_.getAttribute("action");if(s=m?ya(m,e):null,t=n.getAttribute("formmethod")||_.getAttribute("method")||of,o=vg(n.getAttribute("formenctype"))||vg(_.getAttribute("enctype"))||lf,c=new FormData(_,n),!wC()){let{name:v,type:w,value:E}=n;if(w==="image"){let N=v?`${v}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else v&&c.append(v,E)}}else{if(Jf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=of,s=null,o=lf,d=n}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function My(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function SC(n,e,t,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ya(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function AC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function NC(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await AC(c,t);return d.links?d.links():[]}return[]}));return MC(s.flat(1).filter(CC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ex(n,e,t,s,o,c){let d=(m,v)=>t[v]?m.route.id!==t[v].route.id:!0,_=(m,v)=>t[v].pathname!==m.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,v)=>d(m,v)||_(m,v)):c==="data"?e.filter((m,v)=>{let w=s.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(d(m,v)||_(m,v))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function RC(n,e,{includeHydrateFallback:t}={}){return IC(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function IC(n){return[...new Set(n)]}function PC(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function MC(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(PC(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function u1(){let n=B.useContext(Qc);return My(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LC(){let n=B.useContext(Xf);return My(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ly=B.createContext(void 0);Ly.displayName="FrameworkContext";function h1(){let n=B.useContext(Ly);return My(n,"You must render this element inside a <HydratedRouter> element"),n}function OC(n,e){let t=B.useContext(Ly),[s,o]=B.useState(!1),[c,d]=B.useState(!1),{onFocus:_,onBlur:m,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,N=B.useRef(null);B.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let U=O=>{O.forEach(q=>{d(q.isIntersecting)})},D=new IntersectionObserver(U,{threshold:.5});return N.current&&D.observe(N.current),()=>{D.disconnect()}}},[n]),B.useEffect(()=>{if(s){let U=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(U)}}},[s]);let R=()=>{o(!0)},k=()=>{o(!1),d(!1)};return t?n!=="intent"?[c,N,{}]:[c,N,{onFocus:Ku(_,R),onBlur:Ku(m,k),onMouseEnter:Ku(v,R),onMouseLeave:Ku(w,k),onTouchStart:Ku(E,R)}]:[!1,N,{}]}function Ku(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DC({page:n,...e}){let{router:t}=u1(),s=B.useMemo(()=>Qw(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?B.createElement(jC,{page:n,matches:s,...e}):null}function kC(n){let{manifest:e,routeModules:t}=h1(),[s,o]=B.useState([]);return B.useEffect(()=>{let c=!1;return NC(n,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[n,e,t]),s}function jC({page:n,matches:e,...t}){let s=nr(),{future:o,manifest:c,routeModules:d}=h1(),{basename:_}=u1(),{loaderData:m,matches:v}=LC(),w=B.useMemo(()=>ex(n,e,v,c,s,"data"),[n,e,v,c,s]),E=B.useMemo(()=>ex(n,e,v,c,s,"assets"),[n,e,v,c,s]),N=B.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let U=new Set,D=!1;if(e.forEach(q=>{let $=c.routes[q.route.id];!$||!$.hasLoader||(!w.some(J=>J.route.id===q.route.id)&&q.route.id in m&&d[q.route.id]?.shouldRevalidate||$.hasClientLoader?D=!0:U.add(q.route.id))}),U.size===0)return[];let O=SC(n,_,o.unstable_trailingSlashAwareDataRequests,"data");return D&&U.size>0&&O.searchParams.set("_routes",e.filter(q=>U.has(q.route.id)).map(q=>q.route.id).join(",")),[O.pathname+O.search]},[_,o.unstable_trailingSlashAwareDataRequests,m,s,c,w,e,n,d]),R=B.useMemo(()=>RC(E,c),[E,c]),k=kC(E);return B.createElement(B.Fragment,null,N.map(U=>B.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),R.map(U=>B.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),k.map(({key:U,link:D})=>B.createElement("link",{key:U,nonce:t.nonce,...D,crossOrigin:D.crossOrigin??t.crossOrigin})))}function VC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zC&&(window.__reactRouterVersion="7.13.0")}catch{}function UC({basename:n,children:e,unstable_useTransitions:t,window:s}){let o=B.useRef();o.current==null&&(o.current=_A({window:s,v5Compat:!0}));let c=o.current,[d,_]=B.useState({action:c.action,location:c.location}),m=B.useCallback(v=>{t===!1?_(v):B.startTransition(()=>_(v))},[t]);return B.useLayoutEffect(()=>c.listen(m),[c,m]),B.createElement(mC,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:t})}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:_,target:m,to:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:N,...R},k){let{basename:U,unstable_useTransitions:D}=B.useContext(ls),O=typeof v=="string"&&d1.test(v),q=t1(v,U);v=q.to;let $=XA(v,{relative:o}),[J,te,me]=OC(s,R),V=FC(v,{replace:d,state:_,target:m,preventScrollReset:w,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:N,unstable_useTransitions:D});function I(G){e&&e(G),G.defaultPrevented||V(G)}let F=B.createElement("a",{...R,...me,href:q.absoluteURL||$,onClick:q.isExternal||c?e:I,ref:VC(k,te),target:m,"data-discover":!O&&t==="render"?"true":void 0});return J&&!O?B.createElement(B.Fragment,null,F,B.createElement(DC,{page:$})):F});an.displayName="Link";var BC=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:_,children:m,...v},w){let E=Rh(d,{relative:v.relative}),N=nr(),R=B.useContext(Xf),{navigator:k,basename:U}=B.useContext(ls),D=R!=null&&WC(E)&&_===!0,O=k.encodeLocation?k.encodeLocation(E).pathname:E.pathname,q=N.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(q=q.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&U&&($=ya($,U)||$);const J=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let te=q===O||!o&&q.startsWith(O)&&q.charAt(J)==="/",me=$!=null&&($===O||!o&&$.startsWith(O)&&$.charAt(O.length)==="/"),V={isActive:te,isPending:me,isTransitioning:D},I=te?e:void 0,F;typeof s=="function"?F=s(V):F=[s,te?"active":null,me?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let G=typeof c=="function"?c(V):c;return B.createElement(an,{...v,"aria-current":I,className:F,ref:w,style:G,to:d,viewTransition:_},typeof m=="function"?m(V):m)});BC.displayName="NavLink";var qC=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:d=of,action:_,onSubmit:m,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:N,...R},k)=>{let{unstable_useTransitions:U}=B.useContext(ls),D=YC(),O=KC(_,{relative:v}),q=d.toLowerCase()==="get"?"get":"post",$=typeof _=="string"&&d1.test(_),J=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let me=te.nativeEvent.submitter,V=me?.getAttribute("formmethod")||d,I=()=>D(me||te.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:o,state:c,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:N});U&&t!==!1?B.startTransition(()=>I()):I()};return B.createElement("form",{ref:k,method:q,action:O,onSubmit:s?m:J,...R,"data-discover":!$&&n==="render"?"true":void 0})});qC.displayName="Form";function HC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f1(n){let e=B.useContext(Qc);return $t(e,HC(n)),e}function FC(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:_,unstable_useTransitions:m}={}){let v=Jc(),w=nr(),E=Rh(n,{relative:c});return B.useCallback(N=>{if(bC(N,e)){N.preventDefault();let R=t!==void 0?t:ph(w)===ph(E),k=()=>v(n,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:_});m?B.startTransition(()=>k()):k()}},[w,v,E,t,s,e,n,o,c,d,_,m])}function GC(n){os(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=B.useRef($g(n)),t=B.useRef(!1),s=nr(),o=B.useMemo(()=>xC(s.search,t.current?null:e.current),[s.search]),c=Jc(),d=B.useCallback((_,m)=>{const v=$g(typeof _=="function"?_(new URLSearchParams(o)):_);t.current=!0,c("?"+v,m)},[c,o]);return[o,d]}var ZC=0,$C=()=>`__${String(++ZC)}__`;function YC(){let{router:n}=f1("useSubmit"),{basename:e}=B.useContext(ls),t=uC(),s=n.fetch,o=n.navigate;return B.useCallback(async(c,d={})=>{let{action:_,method:m,encType:v,formData:w,body:E}=TC(c,e);if(d.navigate===!1){let N=d.fetcherKey||$C();await s(N,t,d.action||_,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:E,formMethod:d.method||m,formEncType:d.encType||v,flushSync:d.flushSync})}else await o(d.action||_,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:E,formMethod:d.method||m,formEncType:d.encType||v,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,t])}function KC(n,{relative:e}={}){let{basename:t}=B.useContext(ls),s=B.useContext(tr);$t(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Rh(n||".",{relative:e})},d=nr();if(n==null){c.search=d.search;let _=new URLSearchParams(c.search),m=_.getAll("index");if(m.some(w=>w==="")){_.delete("index"),m.filter(E=>E).forEach(E=>_.append("index",E));let w=_.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:ga([t,c.pathname])),ph(c)}function WC(n,{relative:e}={}){let t=B.useContext(i1);$t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=f1("useViewTransitionState"),o=Rh(n,{relative:e});if(!t.isTransitioning)return!1;let c=ya(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=ya(t.nextLocation.pathname,s)||t.nextLocation.pathname;return xf(o.pathname,d)!=null||xf(o.pathname,c)!=null}Ww();const QC=()=>{};var tx={};const m1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},XC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],d=n[t++],_=n[t++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|_&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=n[t++],d=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],d=o+1<n.length,_=d?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,w=c>>2,E=(c&3)<<4|_>>4;let N=(_&15)<<2|v>>6,R=v&63;m||(R=64,d||(N=64)),s.push(t[w],t[E],t[N],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(m1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],_=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||_==null||v==null||E==null)throw new JC;const N=c<<2|_>>4;if(s.push(N),v!==64){const R=_<<4&240|v>>2;if(s.push(R),E!==64){const k=v<<6&192|E;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class JC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eN=function(n){const e=m1(n);return p1.encodeByteArray(e,!0)},wf=function(n){return eN(n).replace(/\./g,"")},g1=function(n){try{return p1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nN=()=>tN().__FIREBASE_DEFAULTS__,iN=()=>{if(typeof process>"u"||typeof tx>"u")return;const n=tx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&g1(n[1]);return e&&JSON.parse(e)},em=()=>{try{return QC()||nN()||iN()||sN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},y1=n=>em()?.emulatorHosts?.[n],_1=n=>{const e=y1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},v1=()=>em()?.config,b1=n=>em()?.[`_${n}`];class rN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Oo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Oy(n){return(await fetch(n,{credentials:"include"})).ok}function x1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wf(JSON.stringify(t)),wf(JSON.stringify(d)),""].join(".")}const ah={};function aN(){const n={prod:[],emulator:[]};for(const e of Object.keys(ah))ah[e]?n.emulator.push(e):n.prod.push(e);return n}function oN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nx=!1;function Dy(n,e){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||ah[n]===e||ah[n]||nx)return;ah[n]=e;function t(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=aN().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function _(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function m(N,R){N.setAttribute("width","24"),N.setAttribute("id",R),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{nx=!0,d()},N}function w(N,R){N.setAttribute("id",R),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function E(){const N=oN(s),R=t("text"),k=document.getElementById(R)||document.createElement("span"),U=t("learnmore"),D=document.getElementById(U)||document.createElement("a"),O=t("preprendIcon"),q=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const $=N.element;_($),w(D,U);const J=v();m(q,O),$.append(q,k,D,J),document.body.appendChild($)}c?(k.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function cN(){const n=em()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fN(){const n=si();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mN(){return!cN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pN(){try{return typeof indexedDB=="object"}catch{return!1}}function gN(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const yN="FirebaseError";class jr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=yN,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?_N(c,s):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new jr(o,_,s)}}function _N(n,e){return n.replace(vN,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const vN=/\{\$([^}]+)}/g;function bN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pl(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],d=e[o];if(ix(c)&&ix(d)){if(!Pl(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ix(n){return n!==null&&typeof n=="object"}function Ph(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function eh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xN(n,e){const t=new wN(n,e);return t.subscribe.bind(t)}class wN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");EN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=bg),o.error===void 0&&(o.error=bg),o.complete===void 0&&(o.complete=bg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bg(){}function kt(n){return n&&n._delegate?n._delegate:n}class Co{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Tl="[DEFAULT]";class TN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new rN;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AN(e))try{this.getOrInitializeService({instanceIdentifier:Tl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Tl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tl){return this.instances.has(e)}getOptions(e=Tl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SN(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Tl){return this.component?this.component.multipleInstances?e:Tl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SN(n){return n===Tl?void 0:n}function AN(n){return n.instantiationMode==="EAGER"}class CN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const NN={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},RN=ft.INFO,IN={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},PN=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=IN[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ky{constructor(e){this.name=e,this._logLevel=RN,this._logHandler=PN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const MN=(n,e)=>e.some(t=>n instanceof t);let sx,rx;function LN(){return sx||(sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ON(){return rx||(rx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w1=new WeakMap,Yg=new WeakMap,E1=new WeakMap,xg=new WeakMap,jy=new WeakMap;function DN(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{t(Eo(n.result)),o()},d=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&w1.set(t,n)}).catch(()=>{}),jy.set(e,n),e}function kN(n){if(Yg.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});Yg.set(n,e)}let Kg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||E1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Eo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jN(n){Kg=n(Kg)}function VN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(wg(this),e,...t);return E1.set(s,e.sort?e.sort():[e]),Eo(s)}:ON().includes(n)?function(...e){return n.apply(wg(this),e),Eo(w1.get(this))}:function(...e){return Eo(n.apply(wg(this),e))}}function zN(n){return typeof n=="function"?VN(n):(n instanceof IDBTransaction&&kN(n),MN(n,LN())?new Proxy(n,Kg):n)}function Eo(n){if(n instanceof IDBRequest)return DN(n);if(xg.has(n))return xg.get(n);const e=zN(n);return e!==n&&(xg.set(n,e),jy.set(e,n)),e}const wg=n=>jy.get(n);function UN(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(n,e),_=Eo(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Eo(d.result),m.oldVersion,m.newVersion,Eo(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),_.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const BN=["get","getKey","getAll","getAllKeys","count"],qN=["put","add","delete","clear"],Eg=new Map;function ax(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=qN.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||BN.includes(t)))return;const c=async function(d,..._){const m=this.transaction(d,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(_.shift())),(await Promise.all([v[t](..._),o&&m.done]))[0]};return Eg.set(e,c),c}jN(n=>({...n,get:(e,t,s)=>ax(e,t)||n.get(e,t,s),has:(e,t)=>!!ax(e,t)||n.has(e,t)}));class HN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FN(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function FN(n){return n.getComponent()?.type==="VERSION"}const Wg="@firebase/app",ox="0.14.8";const _a=new ky("@firebase/app"),GN="@firebase/app-compat",ZN="@firebase/analytics-compat",$N="@firebase/analytics",YN="@firebase/app-check-compat",KN="@firebase/app-check",WN="@firebase/auth",QN="@firebase/auth-compat",XN="@firebase/database",JN="@firebase/data-connect",eR="@firebase/database-compat",tR="@firebase/functions",nR="@firebase/functions-compat",iR="@firebase/installations",sR="@firebase/installations-compat",rR="@firebase/messaging",aR="@firebase/messaging-compat",oR="@firebase/performance",lR="@firebase/performance-compat",cR="@firebase/remote-config",uR="@firebase/remote-config-compat",hR="@firebase/storage",dR="@firebase/storage-compat",fR="@firebase/firestore",mR="@firebase/ai",pR="@firebase/firestore-compat",gR="firebase",yR="12.9.0";const Qg="[DEFAULT]",_R={[Wg]:"fire-core",[GN]:"fire-core-compat",[$N]:"fire-analytics",[ZN]:"fire-analytics-compat",[KN]:"fire-app-check",[YN]:"fire-app-check-compat",[WN]:"fire-auth",[QN]:"fire-auth-compat",[XN]:"fire-rtdb",[JN]:"fire-data-connect",[eR]:"fire-rtdb-compat",[tR]:"fire-fn",[nR]:"fire-fn-compat",[iR]:"fire-iid",[sR]:"fire-iid-compat",[rR]:"fire-fcm",[aR]:"fire-fcm-compat",[oR]:"fire-perf",[lR]:"fire-perf-compat",[cR]:"fire-rc",[uR]:"fire-rc-compat",[hR]:"fire-gcs",[dR]:"fire-gcs-compat",[fR]:"fire-fst",[pR]:"fire-fst-compat",[mR]:"fire-vertex","fire-js":"fire-js",[gR]:"fire-js-all"};const Ef=new Map,vR=new Map,Xg=new Map;function lx(n,e){try{n.container.addComponent(e)}catch(t){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ml(n){const e=n.name;if(Xg.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,n);for(const t of Ef.values())lx(t,n);for(const t of vR.values())lx(t,n);return!0}function tm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fi(n){return n==null?!1:n.settings!==void 0}const bR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new Ih("app","Firebase",bR);class xR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}const ql=yR;function T1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Qg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw To.create("bad-app-name",{appName:String(o)});if(t||(t=v1()),!t)throw To.create("no-options");const c=Ef.get(o);if(c){if(Pl(t,c.options)&&Pl(s,c.config))return c;throw To.create("duplicate-app",{appName:o})}const d=new CN(o);for(const m of Xg.values())d.addComponent(m);const _=new xR(t,s,d);return Ef.set(o,_),_}function Vy(n=Qg){const e=Ef.get(n);if(!e&&n===Qg&&v1())return T1();if(!e)throw To.create("no-app",{appName:n});return e}function Nr(n,e,t){let s=_R[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(d.join(" "));return}Ml(new Co(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const wR="firebase-heartbeat-database",ER=1,gh="firebase-heartbeat-store";let Tg=null;function S1(){return Tg||(Tg=UN(wR,ER,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gh)}catch(t){console.warn(t)}}}}).catch(n=>{throw To.create("idb-open",{originalErrorMessage:n.message})})),Tg}async function TR(n){try{const t=(await S1()).transaction(gh),s=await t.objectStore(gh).get(A1(n));return await t.done,s}catch(e){if(e instanceof jr)_a.warn(e.message);else{const t=To.create("idb-get",{originalErrorMessage:e?.message});_a.warn(t.message)}}}async function cx(n,e){try{const s=(await S1()).transaction(gh,"readwrite");await s.objectStore(gh).put(e,A1(n)),await s.done}catch(t){if(t instanceof jr)_a.warn(t.message);else{const s=To.create("idb-set",{originalErrorMessage:t?.message});_a.warn(s.message)}}}function A1(n){return`${n.name}!${n.options.appId}`}const SR=1024,AR=30;class CR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ux();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>AR){const o=IR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_a.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ux(),{heartbeatsToSend:t,unsentEntries:s}=NR(this._heartbeatsCache.heartbeats),o=wf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _a.warn(e),""}}}function ux(){return new Date().toISOString().substring(0,10)}function NR(n,e=SR){const t=[];let s=n.slice();for(const o of n){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),hx(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hx(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class RR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pN()?gN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hx(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}function IR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function PR(n){Ml(new Co("platform-logger",e=>new HN(e),"PRIVATE")),Ml(new Co("heartbeat",e=>new CR(e),"PRIVATE")),Nr(Wg,ox,n),Nr(Wg,ox,"esm2020"),Nr("fire-js","")}PR("");var MR="firebase",LR="12.9.0";Nr(MR,LR,"app");function C1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OR=C1,N1=new Ih("auth","Firebase",C1());const Tf=new ky("@firebase/auth");function DR(n,...e){Tf.logLevel<=ft.WARN&&Tf.warn(`Auth (${ql}): ${n}`,...e)}function cf(n,...e){Tf.logLevel<=ft.ERROR&&Tf.error(`Auth (${ql}): ${n}`,...e)}function Ms(n,...e){throw Uy(n,...e)}function Qs(n,...e){return Uy(n,...e)}function zy(n,e,t){const s={...OR(),[e]:t};return new Ih("auth","Firebase",s).create(e,{appName:n.name})}function Rr(n){return zy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kR(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ms(n,"argument-error"),zy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uy(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return N1.create(n,...e)}function Fe(n,e,...t){if(!n)throw Uy(e,...t)}function ma(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cf(e),new Error(e)}function va(n,e){n||ma(e)}function Jg(){return typeof self<"u"&&self.location?.href||""}function jR(){return dx()==="http:"||dx()==="https:"}function dx(){return typeof self<"u"&&self.location?.protocol||null}function VR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jR()||hN()||"connection"in navigator)?navigator.onLine:!0}function zR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Mh{constructor(e,t){this.shortDelay=e,this.longDelay=t,va(t>e,"Short delay should be less than long delay!"),this.isMobile=lN()||dN()}get(){return VR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function By(n,e){va(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class R1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qR=new Mh(3e4,6e4);function Ta(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ir(n,e,t,s,o={}){return I1(n,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const _=Ph({key:n.config.apiKey,...d}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:m,...c};return uN()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Oo(n.emulatorConfig.host)&&(v.credentials="include"),R1.fetch()(await P1(n,n.config.apiHost,t,_),v)})}async function I1(n,e,t){n._canInitEmulator=!1;const s={...UR,...e};try{const o=new FR(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Wd(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const _=c.ok?d.errorMessage:d.error.message,[m,v]=_.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(n,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Wd(n,"email-already-in-use",d);if(m==="USER_DISABLED")throw Wd(n,"user-disabled",d);const w=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw zy(n,w,v);Ms(n,w)}}catch(o){if(o instanceof jr)throw o;Ms(n,"network-request-failed",{message:String(o)})}}async function Lh(n,e,t,s,o={}){const c=await ir(n,e,t,s,o);return"mfaPendingCredential"in c&&Ms(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function P1(n,e,t,s){const o=`${e}${t}?${s}`,c=n,d=c.config.emulator?By(n.config,o):`${n.config.apiScheme}://${o}`;return BR.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function HR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Qs(this.auth,"network-request-failed")),qR.get())})}}function Wd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Qs(n,e,s);return o.customData._tokenResponse=t,o}function fx(n){return n!==void 0&&n.enterprise!==void 0}class GR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZR(n,e){return ir(n,"GET","/v2/recaptchaConfig",Ta(n,e))}async function $R(n,e){return ir(n,"POST","/v1/accounts:delete",e)}async function Sf(n,e){return ir(n,"POST","/v1/accounts:lookup",e)}function oh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YR(n,e=!1){const t=kt(n),s=await t.getIdToken(e),o=qy(s);Fe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:oh(Sg(o.auth_time)),issuedAtTime:oh(Sg(o.iat)),expirationTime:oh(Sg(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Sg(n){return Number(n)*1e3}function qy(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const o=g1(t);return o?JSON.parse(o):(cf("Failed to decode base64 JWT payload"),null)}catch(o){return cf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function mx(n){const e=qy(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ll(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof jr&&KR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function KR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class WR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ey{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=oh(this.lastLoginAt),this.creationTime=oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Af(n){const e=n.auth,t=await n.getIdToken(),s=await Ll(n,Sf(e,{idToken:t}));Fe(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?M1(o.providerUserInfo):[],d=XR(n.providerData,c),_=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!d?.length,v=_?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ey(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function QR(n){const e=kt(n);await Af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XR(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function M1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function JR(n,e){const t=await I1(n,{},async()=>{const s=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,d=await P1(n,o,"/v1/token",`key=${c}`),_=await n._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:_,body:s};return n.emulatorConfig&&Oo(n.emulatorConfig.host)&&(m.credentials="include"),R1.fetch()(d,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eI(n,e){return ir(n,"POST","/v2/accounts:revokeToken",Ta(n,e))}class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const t=mx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await JR(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,d=new jc;return s&&(Fe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Fe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Fe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return ma("not implemented")}}function fo(n,e){Fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ws{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new WR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ey(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return Fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YR(this,e)}reload(){return QR(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ws({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Af(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Rr(this.auth));const e=await this.getIdToken();return await Ll(this,$R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,_=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:N,isAnonymous:R,providerData:k,stsTokenManager:U}=t;Fe(E&&U,e,"internal-error");const D=jc.fromJSON(this.name,U);Fe(typeof E=="string",e,"internal-error"),fo(s,e.name),fo(o,e.name),Fe(typeof N=="boolean",e,"internal-error"),Fe(typeof R=="boolean",e,"internal-error"),fo(c,e.name),fo(d,e.name),fo(_,e.name),fo(m,e.name),fo(v,e.name),fo(w,e.name);const O=new Ws({uid:E,auth:e,email:o,emailVerified:N,displayName:s,isAnonymous:R,photoURL:d,phoneNumber:c,tenantId:_,stsTokenManager:D,createdAt:v,lastLoginAt:w});return k&&Array.isArray(k)&&(O.providerData=k.map(q=>({...q}))),m&&(O._redirectEventId=m),O}static async _fromIdTokenResponse(e,t,s=!1){const o=new jc;o.updateFromServerResponse(t);const c=new Ws({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Af(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Fe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?M1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,_=new jc;_.updateFromIdToken(s);const m=new Ws({uid:o.localId,auth:e,stsTokenManager:_,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ey(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,v),m}}const px=new Map;function pa(n){va(n instanceof Function,"Expected a class definition");let e=px.get(n);return e?(va(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,px.set(n,e),e)}class L1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}L1.type="NONE";const gx=L1;function uf(n,e,t){return`firebase:${n}:${e}:${t}`}class Vc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=uf(this.userKey,o.apiKey,c),this.fullPersistenceKey=uf("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sf(this.auth,{idToken:e}).catch(()=>{});return t?Ws._fromGetAccountInfoResponse(this.auth,t,e):null}return Ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Vc(pa(gx),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||pa(gx);const d=uf(s,e.config.apiKey,e.name);let _=null;for(const v of t)try{const w=await v._get(d);if(w){let E;if(typeof w=="string"){const N=await Sf(e,{idToken:w}).catch(()=>{});if(!N)break;E=await Ws._fromGetAccountInfoResponse(e,N,w)}else E=Ws._fromJSON(e,w);v!==c&&(_=E),c=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Vc(c,e,s):(c=m[0],_&&await c._set(d,_.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Vc(c,e,s))}}function yx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z1(e))return"Blackberry";if(U1(e))return"Webos";if(D1(e))return"Safari";if((e.includes("chrome/")||k1(e))&&!e.includes("edge/"))return"Chrome";if(V1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function O1(n=si()){return/firefox\//i.test(n)}function D1(n=si()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k1(n=si()){return/crios\//i.test(n)}function j1(n=si()){return/iemobile/i.test(n)}function V1(n=si()){return/android/i.test(n)}function z1(n=si()){return/blackberry/i.test(n)}function U1(n=si()){return/webos/i.test(n)}function Hy(n=si()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tI(n=si()){return Hy(n)&&!!window.navigator?.standalone}function nI(){return fN()&&document.documentMode===10}function B1(n=si()){return Hy(n)||V1(n)||U1(n)||z1(n)||/windows phone/i.test(n)||j1(n)}function q1(n,e=[]){let t;switch(n){case"Browser":t=yx(si());break;case"Worker":t=`${yx(si())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ql}/${s}`}class iI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,_)=>{try{const m=e(c);d(m)}catch(m){_(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function sI(n,e={}){return ir(n,"GET","/v2/passwordPolicy",Ta(n,e))}const rI=6;class aI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??rI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class oI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _x(this),this.idTokenSubscription=new _x(this),this.beforeStateQueue=new iI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sf(this,{idToken:e}),s=await Ws._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,_=await this.tryRedirectSignIn(e);(!c||c===d)&&_?.user&&(s=_.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Af(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Rr(this));const t=e?kt(e):null;return t&&Fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sI(this),t=new aI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ih("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await eI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pa(e)||this._popupRedirectResolver;Fe(t,this,"argument-error"),this.redirectPersistenceManager=await Vc.create(this,[pa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(_,this,"internal-error"),_.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sa(n){return kt(n)}class _x{constructor(e){this.auth=e,this.observer=null,this.addObserver=xN(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lI(n){nm=n}function H1(n){return nm.loadJS(n)}function cI(){return nm.recaptchaEnterpriseScript}function uI(){return nm.gapiScript}function hI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class dI{constructor(){this.enterprise=new fI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mI="recaptcha-enterprise",F1="NO_RECAPTCHA";class pI{constructor(e){this.type=mI,this.auth=Sa(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,_)=>{ZR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const v=new GR(m);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(m=>{_(m)})})}function o(c,d,_){const m=window.grecaptcha;fx(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(F1)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(_=>{if(!t&&fx(window.grecaptcha))o(_,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=cI();m.length!==0&&(m+=_),H1(m).then(()=>{o(_,c,d)}).catch(v=>{d(v)})}}).catch(_=>{d(_)})})}}async function vx(n,e,t,s=!1,o=!1){const c=new pI(n);let d;if(o)d=F1;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const _={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const m=_.phoneEnrollmentInfo.phoneNumber,v=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const m=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return s?Object.assign(_,{captchaResp:d}):Object.assign(_,{captchaResponse:d}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function Cf(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await vx(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await vx(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}function gI(n,e){const t=tm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Pl(c,e??{}))return o;Ms(o,"already-initialized")}return t.initialize({options:e})}function yI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(pa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function _I(n,e,t){const s=Sa(n);Fe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=G1(e),{host:d,port:_}=vI(e),m=_===null?"":`:${_}`,v={url:`${c}//${d}${m}/`},w=Object.freeze({host:d,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Fe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Fe(Pl(v,s.config.emulator)&&Pl(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Oo(d)?(Oy(`${c}//${d}${m}`),Dy("Auth",!0)):bI()}function G1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vI(n){const e=G1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:bx(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:bx(d)}}}function bx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Fy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ma("not implemented")}_getIdTokenResponse(e){return ma("not implemented")}_linkToIdToken(e,t){return ma("not implemented")}_getReauthenticationResolver(e){return ma("not implemented")}}async function xI(n,e){return ir(n,"POST","/v1/accounts:update",e)}async function wI(n,e){return ir(n,"POST","/v1/accounts:signUp",e)}async function EI(n,e){return Lh(n,"POST","/v1/accounts:signInWithPassword",Ta(n,e))}async function TI(n,e){return ir(n,"POST","/v1/accounts:sendOobCode",Ta(n,e))}async function SI(n,e){return TI(n,e)}async function AI(n,e){return Lh(n,"POST","/v1/accounts:signInWithEmailLink",Ta(n,e))}async function CI(n,e){return Lh(n,"POST","/v1/accounts:signInWithEmailLink",Ta(n,e))}class yh extends Fy{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new yh(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new yh(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,t,"signInWithPassword",EI);case"emailLink":return AI(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,s,"signUpPassword",wI);case"emailLink":return CI(e,{idToken:t,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zc(n,e){return Lh(n,"POST","/v1/accounts:signInWithIdp",Ta(n,e))}const NI="http://localhost";class ba extends Fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const d=new ba(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return zc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,zc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zc(e,t)}buildRequest(){const e={requestUri:NI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ph(t)}return e}}function RI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function II(n){const e=Ju(eh(n)).link,t=e?Ju(eh(e)).deep_link_id:null,s=Ju(eh(n)).deep_link_id;return(s?Ju(eh(s)).link:null)||s||t||e||n}class Gy{constructor(e){const t=Ju(eh(e)),s=t.apiKey??null,o=t.oobCode??null,c=RI(t.mode??null);Fe(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=II(e);try{return new Gy(t)}catch{return null}}}class eu{constructor(){this.providerId=eu.PROVIDER_ID}static credential(e,t){return yh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Gy.parseLink(t);return Fe(s,"argument-error"),yh._fromEmailAndCode(e,s.code,s.tenantId)}}eu.PROVIDER_ID="password";eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends Zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lh extends tu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Fe("providerId"in t&&"signInMethod"in t,"argument-error"),ba._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Fe(e.idToken||e.accessToken,"argument-error"),ba._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return lh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return lh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:d,providerId:_}=e;if(!s&&!o&&!t&&!c||!_)return null;try{return new lh(_)._credential({idToken:t,accessToken:s,nonce:d,pendingToken:c})}catch{return null}}}class po extends tu{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";class fa extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return fa.credential(t,s)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";class go extends tu{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.GITHUB_SIGN_IN_METHOD="github.com";go.PROVIDER_ID="github.com";class yo extends tu{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return yo.credential(t,s)}catch{return null}}}yo.TWITTER_SIGN_IN_METHOD="twitter.com";yo.PROVIDER_ID="twitter.com";async function PI(n,e){return Lh(n,"POST","/v1/accounts:signUp",Ta(n,e))}class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await Ws._fromIdTokenResponse(e,s,o),d=xx(s);return new Ol({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=xx(s);return new Ol({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function xx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Nf extends jr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nf(e,t,s,o)}}function Z1(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(n,c,e,s):c})}async function MI(n,e,t=!1){const s=await Ll(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ol._forOperation(n,"link",s)}async function LI(n,e,t=!1){const{auth:s}=n;if(fi(s.app))return Promise.reject(Rr(s));const o="reauthenticate";try{const c=await Ll(n,Z1(s,o,e,n),t);Fe(c.idToken,s,"internal-error");const d=qy(c.idToken);Fe(d,s,"internal-error");const{sub:_}=d;return Fe(n.uid===_,s,"user-mismatch"),Ol._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ms(s,"user-mismatch"),c}}async function $1(n,e,t=!1){if(fi(n.app))return Promise.reject(Rr(n));const s="signIn",o=await Z1(n,s,e),c=await Ol._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function OI(n,e){return $1(Sa(n),e)}async function Y1(n){const e=Sa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DI(n,e,t){const s=Sa(n);await Cf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",SI)}async function kI(n,e,t){if(fi(n.app))return Promise.reject(Rr(n));const s=Sa(n),d=await Cf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Y1(n),m}),_=await Ol._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(_.user),_}function jI(n,e,t){return fi(n.app)?Promise.reject(Rr(n)):OI(kt(n),eu.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Y1(n),s})}async function VI(n,e){return ir(n,"POST","/v1/accounts:update",e)}async function K1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=kt(n),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Ll(s,VI(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const _=s.providerData.find(({providerId:m})=>m==="password");_&&(_.displayName=s.displayName,_.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function zI(n,e){const t=kt(n);return fi(t.auth.app)?Promise.reject(Rr(t.auth)):W1(t,e,null)}function UI(n,e){return W1(kt(n),null,e)}async function W1(n,e,t){const{auth:s}=n,c={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(c.email=e),t&&(c.password=t);const d=await Ll(n,xI(s,c));await n._updateTokensIfNecessary(d,!0)}function BI(n,e,t,s){return kt(n).onIdTokenChanged(e,t,s)}function qI(n,e,t){return kt(n).beforeAuthStateChanged(e,t)}function HI(n,e,t,s){return kt(n).onAuthStateChanged(e,t,s)}function FI(n){return kt(n).signOut()}const Rf="__sak";class Q1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GI=1e3,ZI=10;class X1 extends Q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,_,m)=>{this.notifyListeners(d,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);nI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}X1.type="LOCAL";const $I=X1;class J1 extends Q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}J1.type="SESSION";const eE=J1;function YI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new im(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const _=Array.from(d).map(async v=>v(t.origin,c)),m=await YI(_);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];function $y(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class KI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((_,m)=>{const v=$y("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(E){const N=E;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(N.data.response);break;default:clearTimeout(w),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ir(){return window}function WI(n){Ir().location.href=n}function tE(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function QI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XI(){return navigator?.serviceWorker?.controller||null}function JI(){return tE()?self:null}const nE="firebaseLocalStorageDb",eP=1,If="firebaseLocalStorage",iE="fbase_key";class Oh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sm(n,e){return n.transaction([If],e?"readwrite":"readonly").objectStore(If)}function tP(){const n=indexedDB.deleteDatabase(nE);return new Oh(n).toPromise()}function ty(){const n=indexedDB.open(nE,eP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(If,{keyPath:iE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(If)?e(s):(s.close(),await tP(),e(await ty()))})})}async function wx(n,e,t){const s=sm(n,!0).put({[iE]:e,value:t});return new Oh(s).toPromise()}async function nP(n,e){const t=sm(n,!1).get(e),s=await new Oh(t).toPromise();return s===void 0?null:s.value}function Ex(n,e){const t=sm(n,!0).delete(e);return new Oh(t).toPromise()}const iP=800,sP=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ty(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>sP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(JI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QI(),!this.activeServiceWorker)return;this.sender=new KI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ty();return await wx(e,Rf,"1"),await Ex(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>wx(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>nP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ex(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=sm(o,!1).getAll();return new Oh(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const rP=sE;new Mh(3e4,6e4);function rE(n,e){return e?pa(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Yy extends Fy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aP(n){return $1(n.auth,new Yy(n),n.bypassAuthState)}function oP(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),LI(t,new Yy(n),n.bypassAuthState)}async function lP(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),MI(t,new Yy(n),n.bypassAuthState)}class aE{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:d,type:_}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aP;case"linkViaPopup":case"linkViaRedirect":return lP;case"reauthViaPopup":case"reauthViaRedirect":return oP;default:Ms(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cP=new Mh(2e3,1e4);async function Tx(n,e,t){if(fi(n.app))return Promise.reject(Qs(n,"operation-not-supported-in-this-environment"));const s=Sa(n);kR(n,e,Zy);const o=rE(s,t);return new Sl(s,"signInViaPopup",e,o).executeNotNull()}class Sl extends aE{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Sl.currentPopupAction&&Sl.currentPopupAction.cancel(),Sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=$y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cP.get())};e()}}Sl.currentPopupAction=null;const uP="pendingRedirect",hf=new Map;class hP extends aE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const s=await dP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dP(n,e){const t=pP(e),s=mP(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function fP(n,e){hf.set(n._key(),e)}function mP(n){return pa(n._redirectPersistence)}function pP(n){return uf(uP,n.config.apiKey,n.name)}async function gP(n,e,t=!1){if(fi(n.app))return Promise.reject(Rr(n));const s=Sa(n),o=rE(s,e),d=await new hP(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const yP=600*1e3;class _P{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!oE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Qs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sx(e))}saveEventToCache(e){this.cachedEventUids.add(Sx(e)),this.lastProcessedEventTime=Date.now()}}function Sx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function vP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oE(n);default:return!1}}async function bP(n,e={}){return ir(n,"GET","/v1/projects",e)}const xP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wP=/^https?/;async function EP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await bP(n);for(const t of e)try{if(TP(t))return}catch{}Ms(n,"unauthorized-domain")}function TP(n){const e=Jg(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!wP.test(t))return!1;if(xP.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const SP=new Mh(3e4,6e4);function Ax(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function AP(n){return new Promise((e,t)=>{function s(){Ax(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ax(),t(Qs(n,"network-request-failed"))},timeout:SP.get()})}if(Ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ir().gapi?.load)s();else{const o=hI("iframefcb");return Ir()[o]=()=>{gapi.load?s():t(Qs(n,"network-request-failed"))},H1(`${uI()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw df=null,e})}let df=null;function CP(n){return df=df||AP(n),df}const NP=new Mh(5e3,15e3),RP="__/auth/iframe",IP="emulator/auth/iframe",PP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LP(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?By(e,IP):`https://${n.config.authDomain}/${RP}`,s={apiKey:e.apiKey,appName:n.name,v:ql},o=MP.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Ph(s).slice(1)}`}async function OP(n){const e=await CP(n),t=Ir().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:LP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PP,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=Qs(n,"network-request-failed"),_=Ir().setTimeout(()=>{c(d)},NP.get());function m(){Ir().clearTimeout(_),o(s)}s.ping(m).then(m,()=>{c(d)})}))}const DP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kP=500,jP=600,VP="_blank",zP="http://localhost";class Cx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UP(n,e,t,s=kP,o=jP){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const m={...DP,width:s.toString(),height:o.toString(),top:c,left:d},v=si().toLowerCase();t&&(_=k1(v)?VP:t),O1(v)&&(e=e||zP,m.scrollbars="yes");const w=Object.entries(m).reduce((N,[R,k])=>`${N}${R}=${k},`,"");if(tI(v)&&_!=="_self")return BP(e||"",_),new Cx(null);const E=window.open(e||"",_,w);Fe(E,n,"popup-blocked");try{E.focus()}catch{}return new Cx(E)}function BP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const qP="__/auth/handler",HP="emulator/auth/handler",FP=encodeURIComponent("fac");async function Nx(n,e,t,s,o,c){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:ql,eventId:o};if(e instanceof Zy){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",bN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))d[w]=E}if(e instanceof tu){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const _=d;for(const w of Object.keys(_))_[w]===void 0&&delete _[w];const m=await n._getAppCheckToken(),v=m?`#${FP}=${encodeURIComponent(m)}`:"";return`${GP(n)}?${Ph(_).slice(1)}${v}`}function GP({config:n}){return n.emulator?By(n,HP):`https://${n.authDomain}/${qP}`}const Ag="webStorageSupport";class ZP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eE,this._completeRedirectFn=gP,this._overrideRedirectResult=fP}async _openPopup(e,t,s,o){va(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Nx(e,t,s,Jg(),o);return UP(e,c,$y())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Nx(e,t,s,Jg(),o);return WI(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(va(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await OP(e),s=new _P(e);return t.register("authEvent",o=>(Fe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ag,{type:Ag},o=>{const c=o?.[0]?.[Ag];c!==void 0&&t(!!c),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return B1()||D1()||Hy()}}const $P=ZP;var Rx="@firebase/auth",Ix="1.12.0";class YP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WP(n){Ml(new Co("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=s.options;Fe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:_,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q1(n)},v=new oI(s,o,c,m);return yI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ml(new Co("auth-internal",e=>{const t=Sa(e.getProvider("auth").getImmediate());return(s=>new YP(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(Rx,Ix,KP(n)),Nr(Rx,Ix,"esm2020")}const QP=300,XP=b1("authIdTokenMaxAge")||QP;let Px=null;const JP=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>XP)return;const o=t?.token;Px!==o&&(Px=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eM(n=Vy()){const e=tm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=gI(n,{popupRedirectResolver:$P,persistence:[rP,$I,eE]}),s=b1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=JP(c.toString());qI(t,d,()=>d(t.currentUser)),BI(t,_=>d(_))}}const o=y1("auth");return o&&_I(t,`http://${o}`),t}function tM(){return document.getElementsByTagName("head")?.[0]??document}lI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=Qs("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",tM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WP("Browser");var Mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var So,lE;(function(){var n;function e(V,I){function F(){}F.prototype=I.prototype,V.F=I.prototype,V.prototype=new F,V.prototype.constructor=V,V.D=function(G,H,Y){for(var Z=Array(arguments.length-2),de=2;de<arguments.length;de++)Z[de-2]=arguments[de];return I.prototype[H].apply(G,Z)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,I,F){F||(F=0);const G=Array(16);if(typeof I=="string")for(var H=0;H<16;++H)G[H]=I.charCodeAt(F++)|I.charCodeAt(F++)<<8|I.charCodeAt(F++)<<16|I.charCodeAt(F++)<<24;else for(H=0;H<16;++H)G[H]=I[F++]|I[F++]<<8|I[F++]<<16|I[F++]<<24;I=V.g[0],F=V.g[1],H=V.g[2];let Y=V.g[3],Z;Z=I+(Y^F&(H^Y))+G[0]+3614090360&4294967295,I=F+(Z<<7&4294967295|Z>>>25),Z=Y+(H^I&(F^H))+G[1]+3905402710&4294967295,Y=I+(Z<<12&4294967295|Z>>>20),Z=H+(F^Y&(I^F))+G[2]+606105819&4294967295,H=Y+(Z<<17&4294967295|Z>>>15),Z=F+(I^H&(Y^I))+G[3]+3250441966&4294967295,F=H+(Z<<22&4294967295|Z>>>10),Z=I+(Y^F&(H^Y))+G[4]+4118548399&4294967295,I=F+(Z<<7&4294967295|Z>>>25),Z=Y+(H^I&(F^H))+G[5]+1200080426&4294967295,Y=I+(Z<<12&4294967295|Z>>>20),Z=H+(F^Y&(I^F))+G[6]+2821735955&4294967295,H=Y+(Z<<17&4294967295|Z>>>15),Z=F+(I^H&(Y^I))+G[7]+4249261313&4294967295,F=H+(Z<<22&4294967295|Z>>>10),Z=I+(Y^F&(H^Y))+G[8]+1770035416&4294967295,I=F+(Z<<7&4294967295|Z>>>25),Z=Y+(H^I&(F^H))+G[9]+2336552879&4294967295,Y=I+(Z<<12&4294967295|Z>>>20),Z=H+(F^Y&(I^F))+G[10]+4294925233&4294967295,H=Y+(Z<<17&4294967295|Z>>>15),Z=F+(I^H&(Y^I))+G[11]+2304563134&4294967295,F=H+(Z<<22&4294967295|Z>>>10),Z=I+(Y^F&(H^Y))+G[12]+1804603682&4294967295,I=F+(Z<<7&4294967295|Z>>>25),Z=Y+(H^I&(F^H))+G[13]+4254626195&4294967295,Y=I+(Z<<12&4294967295|Z>>>20),Z=H+(F^Y&(I^F))+G[14]+2792965006&4294967295,H=Y+(Z<<17&4294967295|Z>>>15),Z=F+(I^H&(Y^I))+G[15]+1236535329&4294967295,F=H+(Z<<22&4294967295|Z>>>10),Z=I+(H^Y&(F^H))+G[1]+4129170786&4294967295,I=F+(Z<<5&4294967295|Z>>>27),Z=Y+(F^H&(I^F))+G[6]+3225465664&4294967295,Y=I+(Z<<9&4294967295|Z>>>23),Z=H+(I^F&(Y^I))+G[11]+643717713&4294967295,H=Y+(Z<<14&4294967295|Z>>>18),Z=F+(Y^I&(H^Y))+G[0]+3921069994&4294967295,F=H+(Z<<20&4294967295|Z>>>12),Z=I+(H^Y&(F^H))+G[5]+3593408605&4294967295,I=F+(Z<<5&4294967295|Z>>>27),Z=Y+(F^H&(I^F))+G[10]+38016083&4294967295,Y=I+(Z<<9&4294967295|Z>>>23),Z=H+(I^F&(Y^I))+G[15]+3634488961&4294967295,H=Y+(Z<<14&4294967295|Z>>>18),Z=F+(Y^I&(H^Y))+G[4]+3889429448&4294967295,F=H+(Z<<20&4294967295|Z>>>12),Z=I+(H^Y&(F^H))+G[9]+568446438&4294967295,I=F+(Z<<5&4294967295|Z>>>27),Z=Y+(F^H&(I^F))+G[14]+3275163606&4294967295,Y=I+(Z<<9&4294967295|Z>>>23),Z=H+(I^F&(Y^I))+G[3]+4107603335&4294967295,H=Y+(Z<<14&4294967295|Z>>>18),Z=F+(Y^I&(H^Y))+G[8]+1163531501&4294967295,F=H+(Z<<20&4294967295|Z>>>12),Z=I+(H^Y&(F^H))+G[13]+2850285829&4294967295,I=F+(Z<<5&4294967295|Z>>>27),Z=Y+(F^H&(I^F))+G[2]+4243563512&4294967295,Y=I+(Z<<9&4294967295|Z>>>23),Z=H+(I^F&(Y^I))+G[7]+1735328473&4294967295,H=Y+(Z<<14&4294967295|Z>>>18),Z=F+(Y^I&(H^Y))+G[12]+2368359562&4294967295,F=H+(Z<<20&4294967295|Z>>>12),Z=I+(F^H^Y)+G[5]+4294588738&4294967295,I=F+(Z<<4&4294967295|Z>>>28),Z=Y+(I^F^H)+G[8]+2272392833&4294967295,Y=I+(Z<<11&4294967295|Z>>>21),Z=H+(Y^I^F)+G[11]+1839030562&4294967295,H=Y+(Z<<16&4294967295|Z>>>16),Z=F+(H^Y^I)+G[14]+4259657740&4294967295,F=H+(Z<<23&4294967295|Z>>>9),Z=I+(F^H^Y)+G[1]+2763975236&4294967295,I=F+(Z<<4&4294967295|Z>>>28),Z=Y+(I^F^H)+G[4]+1272893353&4294967295,Y=I+(Z<<11&4294967295|Z>>>21),Z=H+(Y^I^F)+G[7]+4139469664&4294967295,H=Y+(Z<<16&4294967295|Z>>>16),Z=F+(H^Y^I)+G[10]+3200236656&4294967295,F=H+(Z<<23&4294967295|Z>>>9),Z=I+(F^H^Y)+G[13]+681279174&4294967295,I=F+(Z<<4&4294967295|Z>>>28),Z=Y+(I^F^H)+G[0]+3936430074&4294967295,Y=I+(Z<<11&4294967295|Z>>>21),Z=H+(Y^I^F)+G[3]+3572445317&4294967295,H=Y+(Z<<16&4294967295|Z>>>16),Z=F+(H^Y^I)+G[6]+76029189&4294967295,F=H+(Z<<23&4294967295|Z>>>9),Z=I+(F^H^Y)+G[9]+3654602809&4294967295,I=F+(Z<<4&4294967295|Z>>>28),Z=Y+(I^F^H)+G[12]+3873151461&4294967295,Y=I+(Z<<11&4294967295|Z>>>21),Z=H+(Y^I^F)+G[15]+530742520&4294967295,H=Y+(Z<<16&4294967295|Z>>>16),Z=F+(H^Y^I)+G[2]+3299628645&4294967295,F=H+(Z<<23&4294967295|Z>>>9),Z=I+(H^(F|~Y))+G[0]+4096336452&4294967295,I=F+(Z<<6&4294967295|Z>>>26),Z=Y+(F^(I|~H))+G[7]+1126891415&4294967295,Y=I+(Z<<10&4294967295|Z>>>22),Z=H+(I^(Y|~F))+G[14]+2878612391&4294967295,H=Y+(Z<<15&4294967295|Z>>>17),Z=F+(Y^(H|~I))+G[5]+4237533241&4294967295,F=H+(Z<<21&4294967295|Z>>>11),Z=I+(H^(F|~Y))+G[12]+1700485571&4294967295,I=F+(Z<<6&4294967295|Z>>>26),Z=Y+(F^(I|~H))+G[3]+2399980690&4294967295,Y=I+(Z<<10&4294967295|Z>>>22),Z=H+(I^(Y|~F))+G[10]+4293915773&4294967295,H=Y+(Z<<15&4294967295|Z>>>17),Z=F+(Y^(H|~I))+G[1]+2240044497&4294967295,F=H+(Z<<21&4294967295|Z>>>11),Z=I+(H^(F|~Y))+G[8]+1873313359&4294967295,I=F+(Z<<6&4294967295|Z>>>26),Z=Y+(F^(I|~H))+G[15]+4264355552&4294967295,Y=I+(Z<<10&4294967295|Z>>>22),Z=H+(I^(Y|~F))+G[6]+2734768916&4294967295,H=Y+(Z<<15&4294967295|Z>>>17),Z=F+(Y^(H|~I))+G[13]+1309151649&4294967295,F=H+(Z<<21&4294967295|Z>>>11),Z=I+(H^(F|~Y))+G[4]+4149444226&4294967295,I=F+(Z<<6&4294967295|Z>>>26),Z=Y+(F^(I|~H))+G[11]+3174756917&4294967295,Y=I+(Z<<10&4294967295|Z>>>22),Z=H+(I^(Y|~F))+G[2]+718787259&4294967295,H=Y+(Z<<15&4294967295|Z>>>17),Z=F+(Y^(H|~I))+G[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(H+(Z<<21&4294967295|Z>>>11))&4294967295,V.g[2]=V.g[2]+H&4294967295,V.g[3]=V.g[3]+Y&4294967295}s.prototype.v=function(V,I){I===void 0&&(I=V.length);const F=I-this.blockSize,G=this.C;let H=this.h,Y=0;for(;Y<I;){if(H==0)for(;Y<=F;)o(this,V,Y),Y+=this.blockSize;if(typeof V=="string"){for(;Y<I;)if(G[H++]=V.charCodeAt(Y++),H==this.blockSize){o(this,G),H=0;break}}else for(;Y<I;)if(G[H++]=V[Y++],H==this.blockSize){o(this,G),H=0;break}}this.h=H,this.o+=I},s.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;I=this.o*8;for(var F=V.length-8;F<V.length;++F)V[F]=I&255,I/=256;for(this.v(V),V=Array(16),I=0,F=0;F<4;++F)for(let G=0;G<32;G+=8)V[I++]=this.g[F]>>>G&255;return V};function c(V,I){var F=_;return Object.prototype.hasOwnProperty.call(F,V)?F[V]:F[V]=I(V)}function d(V,I){this.h=I;const F=[];let G=!0;for(let H=V.length-1;H>=0;H--){const Y=V[H]|0;G&&Y==I||(F[H]=Y,G=!1)}this.g=F}var _={};function m(V){return-128<=V&&V<128?c(V,function(I){return new d([I|0],I<0?-1:0)}):new d([V|0],V<0?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return E;if(V<0)return D(v(-V));const I=[];let F=1;for(let G=0;V>=F;G++)I[G]=V/F|0,F*=4294967296;return new d(I,0)}function w(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return D(w(V.substring(1),I));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=v(Math.pow(I,8));let G=E;for(let Y=0;Y<V.length;Y+=8){var H=Math.min(8,V.length-Y);const Z=parseInt(V.substring(Y,Y+H),I);H<8?(H=v(Math.pow(I,H)),G=G.j(H).add(v(Z))):(G=G.j(F),G=G.add(v(Z)))}return G}var E=m(0),N=m(1),R=m(16777216);n=d.prototype,n.m=function(){if(U(this))return-D(this).m();let V=0,I=1;for(let F=0;F<this.g.length;F++){const G=this.i(F);V+=(G>=0?G:4294967296+G)*I,I*=4294967296}return V},n.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(k(this))return"0";if(U(this))return"-"+D(this).toString(V);const I=v(Math.pow(V,6));var F=this;let G="";for(;;){const H=J(F,I).g;F=O(F,H.j(I));let Y=((F.g.length>0?F.g[0]:F.h)>>>0).toString(V);if(F=H,k(F))return Y+G;for(;Y.length<6;)Y="0"+Y;G=Y+G}},n.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function k(V){if(V.h!=0)return!1;for(let I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function U(V){return V.h==-1}n.l=function(V){return V=O(this,V),U(V)?-1:k(V)?0:1};function D(V){const I=V.g.length,F=[];for(let G=0;G<I;G++)F[G]=~V.g[G];return new d(F,~V.h).add(N)}n.abs=function(){return U(this)?D(this):this},n.add=function(V){const I=Math.max(this.g.length,V.g.length),F=[];let G=0;for(let H=0;H<=I;H++){let Y=G+(this.i(H)&65535)+(V.i(H)&65535),Z=(Y>>>16)+(this.i(H)>>>16)+(V.i(H)>>>16);G=Z>>>16,Y&=65535,Z&=65535,F[H]=Z<<16|Y}return new d(F,F[F.length-1]&-2147483648?-1:0)};function O(V,I){return V.add(D(I))}n.j=function(V){if(k(this)||k(V))return E;if(U(this))return U(V)?D(this).j(D(V)):D(D(this).j(V));if(U(V))return D(this.j(D(V)));if(this.l(R)<0&&V.l(R)<0)return v(this.m()*V.m());const I=this.g.length+V.g.length,F=[];for(var G=0;G<2*I;G++)F[G]=0;for(G=0;G<this.g.length;G++)for(let H=0;H<V.g.length;H++){const Y=this.i(G)>>>16,Z=this.i(G)&65535,de=V.i(H)>>>16,Ie=V.i(H)&65535;F[2*G+2*H]+=Z*Ie,q(F,2*G+2*H),F[2*G+2*H+1]+=Y*Ie,q(F,2*G+2*H+1),F[2*G+2*H+1]+=Z*de,q(F,2*G+2*H+1),F[2*G+2*H+2]+=Y*de,q(F,2*G+2*H+2)}for(V=0;V<I;V++)F[V]=F[2*V+1]<<16|F[2*V];for(V=I;V<2*I;V++)F[V]=0;return new d(F,0)};function q(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function $(V,I){this.g=V,this.h=I}function J(V,I){if(k(I))throw Error("division by zero");if(k(V))return new $(E,E);if(U(V))return I=J(D(V),I),new $(D(I.g),D(I.h));if(U(I))return I=J(V,D(I)),new $(D(I.g),I.h);if(V.g.length>30){if(U(V)||U(I))throw Error("slowDivide_ only works with positive integers.");for(var F=N,G=I;G.l(V)<=0;)F=te(F),G=te(G);var H=me(F,1),Y=me(G,1);for(G=me(G,2),F=me(F,2);!k(G);){var Z=Y.add(G);Z.l(V)<=0&&(H=H.add(F),Y=Z),G=me(G,1),F=me(F,1)}return I=O(V,H.j(I)),new $(H,I)}for(H=E;V.l(I)>=0;){for(F=Math.max(1,Math.floor(V.m()/I.m())),G=Math.ceil(Math.log(F)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),Y=v(F),Z=Y.j(I);U(Z)||Z.l(V)>0;)F-=G,Y=v(F),Z=Y.j(I);k(Y)&&(Y=N),H=H.add(Y),V=O(V,Z)}return new $(H,V)}n.B=function(V){return J(this,V).h},n.and=function(V){const I=Math.max(this.g.length,V.g.length),F=[];for(let G=0;G<I;G++)F[G]=this.i(G)&V.i(G);return new d(F,this.h&V.h)},n.or=function(V){const I=Math.max(this.g.length,V.g.length),F=[];for(let G=0;G<I;G++)F[G]=this.i(G)|V.i(G);return new d(F,this.h|V.h)},n.xor=function(V){const I=Math.max(this.g.length,V.g.length),F=[];for(let G=0;G<I;G++)F[G]=this.i(G)^V.i(G);return new d(F,this.h^V.h)};function te(V){const I=V.g.length+1,F=[];for(let G=0;G<I;G++)F[G]=V.i(G)<<1|V.i(G-1)>>>31;return new d(F,V.h)}function me(V,I){const F=I>>5;I%=32;const G=V.g.length-F,H=[];for(let Y=0;Y<G;Y++)H[Y]=I>0?V.i(Y+F)>>>I|V.i(Y+F+1)<<32-I:V.i(Y+F);return new d(H,V.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,So=d}).apply(typeof Mx<"u"?Mx:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cE,th,uE,ff,ny,hE,dE,fE;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var T=0;T<f.length;++T){var C=f[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=t(this);function o(f,T){if(T)e:{var C=s;f=f.split(".");for(var j=0;j<f.length-1;j++){var ie=f[j];if(!(ie in C))break e;C=C[ie]}f=f[f.length-1],j=C[f],T=T(j),T!=j&&T!=null&&e(C,f,{configurable:!0,writable:!0,value:T})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(T){var C=[],j;for(j in T)Object.prototype.hasOwnProperty.call(T,j)&&C.push([j,T[j]]);return C}});var c=c||{},d=this||self;function _(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function m(f,T,C){return f.call.apply(f.bind,arguments)}function v(f,T,C){return v=m,v.apply(null,arguments)}function w(f,T){var C=Array.prototype.slice.call(arguments,1);return function(){var j=C.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function E(f,T){function C(){}C.prototype=T.prototype,f.Z=T.prototype,f.prototype=new C,f.prototype.constructor=f,f.Ob=function(j,ie,he){for(var Ne=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)Ne[Ke-2]=arguments[Ke];return T.prototype[ie].apply(j,Ne)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function R(f){const T=f.length;if(T>0){const C=Array(T);for(let j=0;j<T;j++)C[j]=f[j];return C}return[]}function k(f,T){for(let j=1;j<arguments.length;j++){const ie=arguments[j];var C=typeof ie;if(C=C!="object"?C:ie?Array.isArray(ie)?"array":C:"null",C=="array"||C=="object"&&typeof ie.length=="number"){C=f.length||0;const he=ie.length||0;f.length=C+he;for(let Ne=0;Ne<he;Ne++)f[C+Ne]=ie[Ne]}else f.push(ie)}}class U{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function D(f){d.setTimeout(()=>{throw f},0)}function O(){var f=V;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class q{constructor(){this.h=this.g=null}add(T,C){const j=$.get();j.set(T,C),this.h?this.h.next=j:this.g=j,this.h=j}}var $=new U(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let te,me=!1,V=new q,I=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(F)}};function F(){for(var f;f=O();){try{f.h.call(f.g)}catch(C){D(C)}var T=$;T.j(f),T.h<100&&(T.h++,f.next=T.g,T.g=f)}me=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};d.addEventListener("test",C,T),d.removeEventListener("test",C,T)}catch{}return f})();function Z(f){return/^[\s\xa0]*$/.test(f)}function de(f,T){H.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,T)}E(de,H),de.prototype.init=function(f,T){const C=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget,T||(C=="mouseover"?T=f.fromElement:C=="mouseout"&&(T=f.toElement)),this.relatedTarget=T,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),re=0;function Se(f,T,C,j,ie){this.listener=f,this.proxy=null,this.src=T,this.type=C,this.capture=!!j,this.ha=ie,this.key=++re,this.da=this.fa=!1}function le(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f,T,C){for(const j in f)T.call(C,f[j],j,f)}function Ee(f,T){for(const C in f)T.call(void 0,f[C],C,f)}function z(f){const T={};for(const C in f)T[C]=f[C];return T}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,T){let C,j;for(let ie=1;ie<arguments.length;ie++){j=arguments[ie];for(C in j)f[C]=j[C];for(let he=0;he<X.length;he++)C=X[he],Object.prototype.hasOwnProperty.call(j,C)&&(f[C]=j[C])}}function be(f){this.src=f,this.g={},this.h=0}be.prototype.add=function(f,T,C,j,ie){const he=f.toString();f=this.g[he],f||(f=this.g[he]=[],this.h++);const Ne=Ce(f,T,j,ie);return Ne>-1?(T=f[Ne],C||(T.fa=!1)):(T=new Se(T,this.src,he,!!j,ie),T.fa=C,f.push(T)),T};function Ae(f,T){const C=T.type;if(C in f.g){var j=f.g[C],ie=Array.prototype.indexOf.call(j,T,void 0),he;(he=ie>=0)&&Array.prototype.splice.call(j,ie,1),he&&(le(T),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Ce(f,T,C,j){for(let ie=0;ie<f.length;++ie){const he=f[ie];if(!he.da&&he.listener==T&&he.capture==!!C&&he.ha==j)return ie}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ct={};function Nt(f,T,C,j,ie){if(Array.isArray(T)){for(let he=0;he<T.length;he++)Nt(f,T[he],C,j,ie);return null}return C=st(C),f&&f[Ie]?f.J(T,C,_(j)?!!j.capture:!1,ie):Vi(f,T,C,!1,j,ie)}function Vi(f,T,C,j,ie,he){if(!T)throw Error("Invalid event type");const Ne=_(ie)?!!ie.capture:!!ie;let Ke=se(f);if(Ke||(f[Ue]=Ke=new be(f)),C=Ke.add(T,C,j,Ne,he),C.proxy)return C;if(j=cs(),C.proxy=j,j.src=f,j.listener=C,f.addEventListener)Y||(ie=Ne),ie===void 0&&(ie=!1),f.addEventListener(T.toString(),j,ie);else if(f.attachEvent)f.attachEvent(_i(T.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return C}function cs(){function f(C){return T.call(f.src,f.listener,C)}const T=sr;return f}function yi(f,T,C,j,ie){if(Array.isArray(T))for(var he=0;he<T.length;he++)yi(f,T[he],C,j,ie);else j=_(j)?!!j.capture:!!j,C=st(C),f&&f[Ie]?(f=f.i,he=String(T).toString(),he in f.g&&(T=f.g[he],C=Ce(T,C,j,ie),C>-1&&(le(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete f.g[he],f.h--)))):f&&(f=se(f))&&(T=f.g[T.toString()],f=-1,T&&(f=Ce(T,C,j,ie)),(C=f>-1?T[f]:null)&&us(C))}function us(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[Ie])Ae(T.i,f);else{var C=f.type,j=f.proxy;T.removeEventListener?T.removeEventListener(C,j,f.capture):T.detachEvent?T.detachEvent(_i(C),j):T.addListener&&T.removeListener&&T.removeListener(j),(C=se(T))?(Ae(C,f),C.h==0&&(C.src=null,T[Ue]=null)):le(f)}}}function _i(f){return f in Ct?Ct[f]:Ct[f]="on"+f}function sr(f,T){if(f.da)f=!0;else{T=new de(T,this);const C=f.listener,j=f.ha||f.src;f.fa&&us(f),f=C.call(j,T)}return f}function se(f){return f=f[Ue],f instanceof be?f:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function st(f){return typeof f=="function"?f:(f[Ye]||(f[Ye]=function(T){return f.handleEvent(T)}),f[Ye])}function qe(){G.call(this),this.i=new be(this),this.M=this,this.G=null}E(qe,G),qe.prototype[Ie]=!0,qe.prototype.removeEventListener=function(f,T,C,j){yi(this,f,T,C,j)};function gt(f,T){var C,j=f.G;if(j)for(C=[];j;j=j.G)C.push(j);if(f=f.M,j=T.type||T,typeof T=="string")T=new H(T,f);else if(T instanceof H)T.target=T.target||f;else{var ie=T;T=new H(j,f),pe(T,ie)}ie=!0;let he,Ne;if(C)for(Ne=C.length-1;Ne>=0;Ne--)he=T.g=C[Ne],ie=Zn(he,j,!0,T)&&ie;if(he=T.g=f,ie=Zn(he,j,!0,T)&&ie,ie=Zn(he,j,!1,T)&&ie,C)for(Ne=0;Ne<C.length;Ne++)he=T.g=C[Ne],ie=Zn(he,j,!1,T)&&ie}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var f=this.i;for(const T in f.g){const C=f.g[T];for(let j=0;j<C.length;j++)le(C[j]);delete f.g[T],f.h--}}this.G=null},qe.prototype.J=function(f,T,C,j){return this.i.add(String(f),T,!1,C,j)},qe.prototype.K=function(f,T,C,j){return this.i.add(String(f),T,!0,C,j)};function Zn(f,T,C,j){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();let ie=!0;for(let he=0;he<T.length;++he){const Ne=T[he];if(Ne&&!Ne.da&&Ne.capture==C){const Ke=Ne.listener,yt=Ne.ha||Ne.src;Ne.fa&&Ae(f.i,Ne),ie=Ke.call(yt,j)!==!1&&ie}}return ie&&!j.defaultPrevented}function Zl(f,T){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:d.setTimeout(f,T||0)}function zo(f){f.g=Zl(()=>{f.g=null,f.i&&(f.i=!1,zo(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class zn extends G{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(f){G.call(this),this.h=f,this.g={}}E(Vr,G);var zr=[];function Ca(f){ge(f.g,function(T,C){this.g.hasOwnProperty(C)&&us(T)},f),f.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),Ca(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=d.JSON.stringify,lu=d.JSON.parse,Uo=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Bo(){}function $l(){}var vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function un(){H.call(this,"d")}E(un,H);function ri(){H.call(this,"c")}E(ri,H);var Yt={},rr=null;function Na(){return rr=rr||new qe}Yt.Ia="serverreachability";function Yl(f){H.call(this,Yt.Ia,f)}E(Yl,H);function zi(f){const T=Na();gt(T,new Yl(T))}Yt.STAT_EVENT="statevent";function ar(f,T){H.call(this,Yt.STAT_EVENT,f),this.stat=T}E(ar,H);function Kt(f){const T=Na();gt(T,new ar(T,f))}Yt.Ja="timingevent";function hs(f,T){H.call(this,Yt.Ja,f),this.size=T}E(hs,H);function ds(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},T)}function Ui(){this.g=!0}Ui.prototype.ua=function(){this.g=!1};function cu(f,T,C,j,ie,he){f.info(function(){if(f.g)if(he){var Ne="",Ke=he.split("&");for(let _t=0;_t<Ke.length;_t++){var yt=Ke[_t].split("=");if(yt.length>1){const Vt=yt[0];yt=yt[1];const Ci=Vt.split("_");Ne=Ci.length>=2&&Ci[1]=="type"?Ne+(Vt+"="+yt+"&"):Ne+(Vt+"=redacted&")}}}else Ne=null;else Ne=he;return"XMLHTTP REQ ("+j+") [attempt "+ie+"]: "+T+`
`+C+`
`+Ne})}function Kl(f,T,C,j,ie,he,Ne){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+ie+"]: "+T+`
`+C+`
`+he+" "+Ne})}function fs(f,T,C,j){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+uu(f,C)+(j?" "+j:"")})}function Os(f,T){f.info(function(){return"TIMEOUT: "+T})}Ui.prototype.info=function(){};function uu(f,T){if(!f.g)return T;if(!T)return null;try{const he=JSON.parse(T);if(he){for(f=0;f<he.length;f++)if(Array.isArray(he[f])){var C=he[f];if(!(C.length<2)){var j=C[1];if(Array.isArray(j)&&!(j.length<1)){var ie=j[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Ne=1;Ne<j.length;Ne++)j[Ne]=""}}}}return Ls(he)}catch{return T}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ho;function Rn(){}E(Rn,Bo),Rn.prototype.g=function(){return new XMLHttpRequest},Ho=new Rn;function Oe(f){return encodeURIComponent(String(f))}function Fo(f){var T=1;f=f.split(":");const C=[];for(;T>0&&f.length;)C.push(f.shift()),T--;return f.length&&C.push(f.join(":")),C}function bi(f,T,C,j){this.j=f,this.i=T,this.l=C,this.S=j||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var Wt={},Jt={};function Bi(f,T,C){f.M=1,f.A=Rt(Bt(T)),f.u=C,f.R=!0,qi(f,null)}function qi(f,T){f.F=Date.now(),ms(f),f.B=Bt(f.A);var C=f.B,j=f.S;Array.isArray(j)||(j=[String(j)]),lr(C.i,"t",j),f.C=0,C=f.j.L,f.h=new xi,f.g=Qo(f.j,C?T:null,!f.u),f.P>0&&(f.O=new zn(v(f.Y,f,f.g),f.P)),T=f.V,C=f.g,j=f.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(zr[0]=ie.toString()),ie=zr);for(let he=0;he<ie.length;he++){const Ne=Nt(C,ie[he],j||T.handleEvent,!1,T.h||T);if(!Ne)break;T.g[Ne.key]=Ne}T=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,T)):(f.v="GET",f.g.ea(f.B,f.v,null,T)),zi(),cu(f.i,f.v,f.B,f.l,f.S,f.u)}bi.prototype.ba=function(f){f=f.target;const T=this.O;T&&Zi(f)==3?T.j():this.Y(f)},bi.prototype.Y=function(f){try{if(f==this.g)e:{const Ke=Zi(this.g),yt=this.g.ya(),_t=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||Ke!=4||yt==7||(yt==8||_t<=0?zi(3):zi(2)),Hi(this);var T=this.g.ca();this.X=T;var C=Wl(this);if(this.o=T==200,Kl(this.i,this.v,this.B,this.l,this.S,Ke,T),this.o){if(this.U&&!this.L){t:{if(this.g){var j,ie=this.g;if((j=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(j)){var he=j;break t}}he=null}if(f=he)fs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ps(this,f);else{this.o=!1,this.m=3,Kt(12),In(this),wi(this);break e}}if(this.R){f=!0;let Vt;for(;!this.K&&this.C<C.length;)if(Vt=Xl(this,C),Vt==Jt){Ke==4&&(this.m=4,Kt(14),f=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==Wt){this.m=4,Kt(15),fs(this.i,this.l,C,"[Invalid Chunk]"),f=!1;break}else fs(this.i,this.l,Vt,null),ps(this,Vt);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||C.length!=0||this.h.h||(this.m=1,Kt(16),f=!1),this.o=this.o&&f,!f)fs(this.i,this.l,C,"[Invalid Chunked Response]"),In(this),wi(this);else if(C.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Ko(Ne),Ne.P=!0,Kt(11))}}else fs(this.i,this.l,C,null),ps(this,C);Ke==4&&In(this),this.o&&!this.K&&(Ke==4?li(this.j,this):(this.o=!1,ms(this)))}else $i(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),In(this),wi(this)}}}catch{}};function Wl(f){if(!Ql(f))return f.g.la();const T=gn(f.g);if(T==="")return"";let C="";const j=T.length,ie=Zi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return In(f),wi(f),"";f.h.i=new d.TextDecoder}for(let he=0;he<j;he++)f.h.h=!0,C+=f.h.i.decode(T[he],{stream:!(ie&&he==j-1)});return T.length=0,f.h.g+=C,f.C=0,f.h.g}function Ql(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Xl(f,T){var C=f.C,j=T.indexOf(`
`,C);return j==-1?Jt:(C=Number(T.substring(C,j)),isNaN(C)?Wt:(j+=1,j+C>T.length?Jt:(T=T.slice(j,j+C),f.C=j+C,T)))}bi.prototype.cancel=function(){this.K=!0,In(this)};function ms(f){f.T=Date.now()+f.H,Ra(f,f.H)}function Ra(f,T){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ds(v(f.aa,f),T)}function Hi(f){f.D&&(d.clearTimeout(f.D),f.D=null)}bi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Os(this.i,this.B),this.M!=2&&(zi(),Kt(17)),In(this),this.m=2,wi(this)):Ra(this,this.T-f)};function wi(f){f.j.I==0||f.K||li(f.j,f)}function In(f){Hi(f);var T=f.O;T&&typeof T.dispose=="function"&&T.dispose(),f.O=null,Ca(f.V),f.g&&(T=f.g,f.g=null,T.abort(),T.dispose())}function ps(f,T){try{var C=f.j;if(C.I!=0&&(C.g==f||Ei(C.h,f))){if(!f.L&&Ei(C.h,f)&&C.I==3){try{var j=C.Ba.g.parse(T)}catch{j=null}if(Array.isArray(j)&&j.length==3){var ie=j;if(ie[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<f.F)ka(C),dr(C);else break e;Zr(C),Kt(18)}}else C.xa=ie[1],0<C.xa-C.K&&ie[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=ds(v(C.Va,C),6e3));gs(C.h)<=1&&C.ta&&(C.ta=void 0)}else Yi(C,11)}else if((f.L||C.g==f)&&ka(C),!Z(T))for(ie=C.Ba.g.parse(T),T=0;T<ie.length;T++){let _t=ie[T];const Vt=_t[0];if(!(Vt<=C.K))if(C.K=Vt,_t=_t[1],C.I==2)if(_t[0]=="c"){C.M=_t[1],C.ba=_t[2];const Ci=_t[3];Ci!=null&&(C.ka=Ci,C.j.info("VER="+C.ka));const Ni=_t[4];Ni!=null&&(C.za=Ni,C.j.info("SVER="+C.za));const ci=_t[5];ci!=null&&typeof ci=="number"&&ci>0&&(j=1.5*ci,C.O=j,C.j.info("backChannelRequestTimeoutMs_="+j)),j=C;const Wi=f.g;if(Wi){const $r=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var he=j.h;he.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Ds(he,he.h),he.h=null))}if(j.G){const Yr=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;Yr&&(j.wa=Yr,Me(j.J,j.G,Yr))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-f.F,C.j.info("Handshake RTT: "+C.T+"ms")),j=C;var Ne=f;if(j.na=Wo(j,j.L?j.ba:null,j.W),Ne.L){Ia(j.h,Ne);var Ke=Ne,yt=j.O;yt&&(Ke.H=yt),Ke.D&&(Hi(Ke),ms(Ke)),j.g=Ne}else Yo(j);C.i.length>0&&Wn(C)}else _t[0]!="stop"&&_t[0]!="close"||Yi(C,7);else C.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Yi(C,7):it(C):_t[0]!="noop"&&C.l&&C.l.qa(_t),C.A=0)}}zi(4)}catch{}}var en=class{constructor(f,T){this.g=f,this.map=T}};function Go(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function gs(f){return f.h?1:f.g?f.g.size:0}function Ei(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function Ds(f,T){f.g?f.g.add(T):f.h=T}function Ia(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}Go.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Pa(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const C of f.g.values())T=T.concat(C.G);return T}return R(f.i)}var or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(f,T){if(f){f=f.split("&");for(let C=0;C<f.length;C++){const j=f[C].indexOf("=");let ie,he=null;j>=0?(ie=f[C].substring(0,j),he=f[C].substring(j+1)):ie=f[C],T(ie,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function at(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;f instanceof at?(this.l=f.l,qt(this,f.j),this.o=f.o,this.g=f.g,ai(this,f.u),this.h=f.h,Br(this,Fr(f.i)),this.m=f.m):f&&(T=String(f).match(or))?(this.l=!1,qt(this,T[1]||"",!0),this.o=Ti(T[2]||""),this.g=Ti(T[3]||"",!0),ai(this,T[4]),this.h=Ti(T[5]||"",!0),Br(this,T[6]||"",!0),this.m=Ti(T[7]||"")):(this.l=!1,this.i=new Si(null,this.l))}at.prototype.toString=function(){const f=[];var T=this.j;T&&f.push(ys(T,Ma,!0),":");var C=this.g;return(C||T=="file")&&(f.push("//"),(T=this.o)&&f.push(ys(T,Ma,!0),"@"),f.push(Oe(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&f.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(ys(C,C.charAt(0)=="/"?Fi:qr,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",ys(C,_s)),f.join("")},at.prototype.resolve=function(f){const T=Bt(this);let C=!!f.j;C?qt(T,f.j):C=!!f.o,C?T.o=f.o:C=!!f.g,C?T.g=f.g:C=f.u!=null;var j=f.h;if(C)ai(T,f.u);else if(C=!!f.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var ie=T.h.lastIndexOf("/");ie!=-1&&(j=T.h.slice(0,ie+1)+j)}if(ie=j,ie==".."||ie==".")j="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){j=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const he=[];for(let Ne=0;Ne<ie.length;){const Ke=ie[Ne++];Ke=="."?j&&Ne==ie.length&&he.push(""):Ke==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),j&&Ne==ie.length&&he.push("")):(he.push(Ke),j=!0)}j=he.join("/")}else j=ie}return C?T.h=j:C=f.i.toString()!=="",C?Br(T,Fr(f.i)):C=!!f.m,C&&(T.m=f.m),T};function Bt(f){return new at(f)}function qt(f,T,C){f.j=C?Ti(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function ai(f,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);f.u=T}else f.u=null}function Br(f,T,C){T instanceof Si?(f.i=T,cr(f.i,f.l)):(C||(T=ys(T,It)),f.i=new Si(T,f.l))}function Me(f,T,C){f.i.set(T,C)}function Rt(f){return Me(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ti(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ys(f,T,C){return typeof f=="string"?(f=encodeURI(f).replace(T,jt),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function jt(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ma=/[#\/\?@]/g,qr=/[#\?:]/g,Fi=/[#\?]/g,It=/[#\?@]/g,_s=/#/g;function Si(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function pn(f){f.g||(f.g=new Map,f.h=0,f.i&&rt(f.i,function(T,C){f.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}n=Si.prototype,n.add=function(f,T){pn(this),this.i=null,f=vs(this,f);let C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(T),this.h+=1,this};function La(f,T){pn(f),T=vs(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function ks(f,T){return pn(f),T=vs(f,T),f.g.has(T)}n.forEach=function(f,T){pn(this),this.g.forEach(function(C,j){C.forEach(function(ie){f.call(T,ie,j,this)},this)},this)};function Hr(f,T){pn(f);let C=[];if(typeof T=="string")ks(f,T)&&(C=C.concat(f.g.get(vs(f,T))));else for(f=Array.from(f.g.values()),T=0;T<f.length;T++)C=C.concat(f[T]);return C}n.set=function(f,T){return pn(this),this.i=null,f=vs(this,f),ks(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},n.get=function(f,T){return f?(f=Hr(this,f),f.length>0?String(f[0]):T):T};function lr(f,T,C){La(f,T),C.length>0&&(f.i=null,f.g.set(vs(f,T),R(C)),f.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(let j=0;j<T.length;j++){var C=T[j];const ie=Oe(C);C=Hr(this,C);for(let he=0;he<C.length;he++){let Ne=ie;C[he]!==""&&(Ne+="="+Oe(C[he])),f.push(Ne)}}return this.i=f.join("&")};function Fr(f){const T=new Si;return T.i=f.i,f.g&&(T.g=new Map(f.g),T.h=f.h),T}function vs(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function cr(f,T){T&&!f.j&&(pn(f),f.i=null,f.g.forEach(function(C,j){const ie=j.toLowerCase();j!=ie&&(La(this,j),lr(this,ie,C))},f)),f.j=T}function $n(f,T){const C=new Ui;if(d.Image){const j=new Image;j.onload=w(Yn,C,"TestLoadImage: loaded",!0,T,j),j.onerror=w(Yn,C,"TestLoadImage: error",!1,T,j),j.onabort=w(Yn,C,"TestLoadImage: abort",!1,T,j),j.ontimeout=w(Yn,C,"TestLoadImage: timeout",!1,T,j),d.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else T(!1)}function Oa(f,T){const C=new Ui,j=new AbortController,ie=setTimeout(()=>{j.abort(),Yn(C,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:j.signal}).then(he=>{clearTimeout(ie),he.ok?Yn(C,"TestPingServer: ok",!0,T):Yn(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ie),Yn(C,"TestPingServer: error",!1,T)})}function Yn(f,T,C,j,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),j(C)}catch{}}function ur(){this.g=new Uo}function Be(f){this.i=f.Sb||null,this.h=f.ab||!1}E(Be,Bo),Be.prototype.g=function(){return new Pn(this.i,this.h)};function Pn(f,T){qe.call(this),this.H=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Pn,qe),n=Pn.prototype,n.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=T,this.readyState=1,oi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(T.body=f),(this.H||d).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bt(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function bt(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?js(this):oi(this),this.readyState==3&&bt(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,js(this))},n.Na=function(f){this.g&&(this.response=f,js(this))},n.ga=function(){this.g&&js(this)};function js(f){f.readyState=4,f.l=null,f.j=null,f.B=null,oi(f)}n.setRequestHeader=function(f,T){this.A.append(f,T)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=T.next();return f.join(`\r
`)};function oi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Kn(f){let T="";return ge(f,function(C,j){T+=j,T+=":",T+=C,T+=`\r
`}),T}function Vs(f,T,C){e:{for(j in C){var j=!1;break e}j=!0}j||(C=Kn(C),typeof f=="string"?C!=null&&Oe(C):Me(f,T,C))}function ut(f){qe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ut,qe);var Ai=/^https?$/i,zs=["POST","PUT"];n=ut.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,T,C,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ho.g(),this.g.onreadystatechange=N(v(this.Ca,this));try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(he){Ht(this,he);return}if(f=C||"",C=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var ie in j)C.set(ie,j[ie]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const he of j.keys())C.set(he,j.get(he));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(C.keys()).find(he=>he.toLowerCase()=="content-type"),ie=d.FormData&&f instanceof d.FormData,!(Array.prototype.indexOf.call(zs,T,void 0)>=0)||j||ie||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ne]of C)this.g.setRequestHeader(he,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(he){Ht(this,he)}};function Ht(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.o=5,Gi(f),bs(f)}function Gi(f){f.A||(f.A=!0,gt(f,"complete"),gt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,gt(this,"complete"),gt(this,"abort"),bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),ut.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?hr(this):this.Xa())},n.Xa=function(){hr(this)};function hr(f){if(f.h&&typeof c<"u"){if(f.v&&Zi(f)==4)setTimeout(f.Ca.bind(f),0);else if(gt(f,"readystatechange"),Zi(f)==4){f.h=!1;try{const he=f.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var j;if(j=he===0){let Ne=String(f.D).match(or)[1]||null;!Ne&&d.self&&d.self.location&&(Ne=d.self.location.protocol.slice(0,-1)),j=!Ai.test(Ne?Ne.toLowerCase():"")}C=j}if(C)gt(f,"complete"),gt(f,"success");else{f.o=6;try{var ie=Zi(f)>2?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.ca()+"]",Gi(f)}}finally{bs(f)}}}}function bs(f,T){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const C=f.g;f.g=null,T||gt(f,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Zi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Zi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),lu(T)}};function gn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(f){const T={};f=(f.g&&Zi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(Z(f[j]))continue;var C=Fo(f[j]);const ie=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const he=T[ie]||[];T[ie]=he,he.push(C)}Ee(T,function(j){return j.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(f,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||T}function Us(f){this.za=0,this.i=[],this.j=new Ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,f),this.Za=xs("retryDelaySeedMs",1e4,f),this.Ta=xs("forwardChannelMaxRetries",2,f),this.va=xs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(f&&f.concurrentRequestLimit),this.Ba=new ur,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Us.prototype,n.ka=8,n.I=1,n.connect=function(f,T,C,j){Kt(0),this.W=f,this.H=T||{},C&&j!==void 0&&(this.H.OSID=C,this.H.OAID=j),this.F=this.X,this.J=Wo(this,null,this.W),Wn(this)};function it(f){if(Mn(f),f.I==3){var T=f.V++,C=Bt(f.J);if(Me(C,"SID",f.M),Me(C,"RID",T),Me(C,"TYPE","terminate"),Bs(f,C),T=new bi(f,f.j,T),T.M=2,T.A=Rt(Bt(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&d.Image&&(new Image().src=T.A,C=!0),C||(T.g=Qo(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ms(T)}Ki(f)}function dr(f){f.g&&(Ko(f),f.g.cancel(),f.g=null)}function Mn(f){dr(f),f.v&&(d.clearTimeout(f.v),f.v=null),ka(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&d.clearTimeout(f.m),f.m=null)}function Wn(f){if(!Zo(f.h)&&!f.m){f.m=!0;var T=f.Ea;te||I(),me||(te(),me=!0),V.add(T,f),f.D=0}}function Gr(f,T){return gs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=T.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ds(v(f.Ea,f,T),ec(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const ie=new bi(this,this.j,f);let he=this.o;if(this.U&&(he?(he=z(he),pe(he,this.U)):he=this.U),this.u!==null||this.R||(ie.J=he,he=null),this.S)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var j=this.i[C];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(T+=j,T>4096){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=Jl(this,ie,T),C=Bt(this.J),Me(C,"RID",f),Me(C,"CVER",22),this.G&&Me(C,"X-HTTP-Session-Id",this.G),Bs(this,C),he&&(this.R?T="headers="+Oe(Kn(he))+"&"+T:this.u&&Vs(C,this.u,he)),Ds(this.h,ie),this.Ra&&Me(C,"TYPE","init"),this.S?(Me(C,"$req",T),Me(C,"SID","null"),ie.U=!0,Bi(ie,C,null)):Bi(ie,C,T),this.I=2}}else this.I==3&&(f?$o(this,f):this.i.length==0||Zo(this.h)||$o(this))};function $o(f,T){var C;T?C=T.l:C=f.V++;const j=Bt(f.J);Me(j,"SID",f.M),Me(j,"RID",C),Me(j,"AID",f.K),Bs(f,j),f.u&&f.o&&Vs(j,f.u,f.o),C=new bi(f,f.j,C,f.D+1),f.u===null&&(C.J=f.o),T&&(f.i=T.G.concat(f.i)),T=Jl(f,C,1e3),C.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ds(f.h,C),Bi(C,j,T)}function Bs(f,T){f.H&&ge(f.H,function(C,j){Me(T,j,C)}),f.l&&ge({},function(C,j){Me(T,j,C)})}function Jl(f,T,C){C=Math.min(f.i.length,C);const j=f.l?v(f.l.Ka,f.l,f):null;e:{var ie=f.i;let Ke=-1;for(;;){const yt=["count="+C];Ke==-1?C>0?(Ke=ie[0].g,yt.push("ofs="+Ke)):Ke=0:yt.push("ofs="+Ke);let _t=!0;for(let Vt=0;Vt<C;Vt++){var he=ie[Vt].g;const Ci=ie[Vt].map;if(he-=Ke,he<0)Ke=Math.max(0,ie[Vt].g-100),_t=!1;else try{he="req"+he+"_"||"";try{var Ne=Ci instanceof Map?Ci:Object.entries(Ci);for(const[Ni,ci]of Ne){let Wi=ci;_(ci)&&(Wi=Ls(ci)),yt.push(he+Ni+"="+encodeURIComponent(Wi))}}catch(Ni){throw yt.push(he+"type="+encodeURIComponent("_badmap")),Ni}}catch{j&&j(Ci)}}if(_t){Ne=yt.join("&");break e}}Ne=void 0}return f=f.i.splice(0,C),T.G=f,Ne}function Yo(f){if(!f.g&&!f.v){f.Y=1;var T=f.Da;te||I(),me||(te(),me=!0),V.add(T,f),f.A=0}}function Zr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ds(v(f.Da,f),ec(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Da(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ds(v(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),dr(this),Da(this))};function Ko(f){f.B!=null&&(d.clearTimeout(f.B),f.B=null)}function Da(f){f.g=new bi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var T=Bt(f.na);Me(T,"RID","rpc"),Me(T,"SID",f.M),Me(T,"AID",f.K),Me(T,"CI",f.F?"0":"1"),!f.F&&f.ia&&Me(T,"TO",f.ia),Me(T,"TYPE","xmlhttp"),Bs(f,T),f.u&&f.o&&Vs(T,f.u,f.o),f.O&&(f.g.H=f.O);var C=f.g;f=f.ba,C.M=1,C.A=Rt(Bt(T)),C.u=null,C.R=!0,qi(C,f)}n.Va=function(){this.C!=null&&(this.C=null,dr(this),Zr(this),Kt(19))};function ka(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function li(f,T){var C=null;if(f.g==T){ka(f),Ko(f),f.g=null;var j=2}else if(Ei(f.h,T))C=T.G,Ia(f.h,T),j=1;else return;if(f.I!=0){if(T.o)if(j==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var ie=f.D;j=Na(),gt(j,new hs(j,C)),Wn(f)}else Yo(f);else if(ie=T.m,ie==3||ie==0&&T.X>0||!(j==1&&Gr(f,T)||j==2&&Zr(f)))switch(C&&C.length>0&&(T=f.h,T.i=T.i.concat(C)),ie){case 1:Yi(f,5);break;case 4:Yi(f,10);break;case 3:Yi(f,6);break;default:Yi(f,2)}}}function ec(f,T){let C=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(C*=2),C*T}function Yi(f,T){if(f.j.info("Error code "+T),T==2){var C=v(f.bb,f),j=f.Ua;const ie=!j;j=new at(j||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(j,"https"),Rt(j),ie?$n(j.toString(),C):Oa(j.toString(),C)}else Kt(2);f.I=0,f.l&&f.l.pa(T),Ki(f),Mn(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Ki(f){if(f.I=0,f.ja=[],f.l){const T=Pa(f.h);(T.length!=0||f.i.length!=0)&&(k(f.ja,T),k(f.ja,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.oa()}}function Wo(f,T,C){var j=C instanceof at?Bt(C):new at(C);if(j.g!="")T&&(j.g=T+"."+j.g),ai(j,j.u);else{var ie=d.location;j=ie.protocol,T=T?T+"."+ie.hostname:ie.hostname,ie=+ie.port;const he=new at(null);j&&qt(he,j),T&&(he.g=T),ie&&ai(he,ie),C&&(he.h=C),j=he}return C=f.G,T=f.wa,C&&T&&Me(j,C,T),Me(j,"VER",f.ka),Bs(f,j),j}function Qo(f,T,C){if(T&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Aa&&!f.ma?new ut(new Be({ab:C})):new ut(f.ma),T.Fa(f.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ja(){}n=ja.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fr(){}fr.prototype.g=function(f,T){return new Ln(f,T)};function Ln(f,T){qe.call(this),this.g=new Us(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(f?f["X-WebChannel-Client-Profile"]=T.sa:f={"X-WebChannel-Client-Profile":T.sa}),this.g.U=f,(f=T&&T.Qb)&&!Z(f)&&(this.g.u=f),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!Z(T)&&(this.g.G=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new qs(this)}E(Ln,qe),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){it(this.g)},Ln.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.v&&(C={},C.__data__=Ls(f),f=C);T.i.push(new en(T.Ya++,f)),T.I==3&&Wn(T)},Ln.prototype.N=function(){this.g.l=null,delete this.j,it(this.g),delete this.g,Ln.Z.N.call(this)};function Xo(f){un.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){e:{for(const C in T){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}E(Xo,un);function tc(){ri.call(this),this.status=1}E(tc,ri);function qs(f){this.g=f}E(qs,ja),qs.prototype.ra=function(){gt(this.g,"a")},qs.prototype.qa=function(f){gt(this.g,new Xo(f))},qs.prototype.pa=function(f){gt(this.g,new tc)},qs.prototype.oa=function(){gt(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,fE=function(){return new fr},dE=function(){return Na()},hE=Yt,ny={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,ff=Ur,qo.COMPLETE="complete",uE=qo,$l.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",qe.prototype.listen=qe.prototype.J,th=$l,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,cE=ut}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});let ti=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");let nu="12.9.0";function nM(n){nu=n}const Dl=new ky("@firebase/firestore");function Oc(){return Dl.logLevel}function Le(n,...e){if(Dl.logLevel<=ft.DEBUG){const t=e.map(Ky);Dl.debug(`Firestore (${nu}): ${n}`,...t)}}function xa(n,...e){if(Dl.logLevel<=ft.ERROR){const t=e.map(Ky);Dl.error(`Firestore (${nu}): ${n}`,...t)}}function kl(n,...e){if(Dl.logLevel<=ft.WARN){const t=e.map(Ky);Dl.warn(`Firestore (${nu}): ${n}`,...t)}}function Ky(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function $e(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,mE(n,s,t)}function mE(n,e,t){let s=`FIRESTORE (${nu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw xa(s),new Error(s)}function At(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||mE(e,o,s)}function We(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class pE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ti.UNAUTHENTICATED)))}shutdown(){}}class sM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class rM{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let c=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},_=m=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>_(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?_(m):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pr)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(At(typeof s.accessToken=="string",31837,{l:s}),new pE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new ti(e)}}class aM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ti.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new aM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ti.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){At(this.o===void 0,3512);const s=c=>{c.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(At(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class Wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cM(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function mt(n,e){return n<e?-1:n>e?1:0}function iy(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Cg(o)===Cg(c)?mt(o,c):Cg(o)?1:-1}return mt(n.length,e.length)}const uM=55296,hM=57343;function Cg(n){const e=n.charCodeAt(0);return e>=uM&&e<=hM}function Fc(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const Ox="__name__";class Tr{constructor(e,t,s){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&$e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Tr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return mt(e.length,t.length)}static compareSegments(e,t){const s=Tr.isNumericId(e),o=Tr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):iy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return So.fromString(e.substring(4,e.length-2))}}class Ut extends Tr{construct(e,t,s){return new Ut(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Pe(ve.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ut(t)}static emptyPath(){return new Ut([])}}const dM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Tr{construct(e,t,s){return new Fn(e,t,s)}static isValidIdentifier(e){return dM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ox}static keyField(){return new Fn([Ox])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Pe(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new Pe(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Pe(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(s+=_,o++):(c(),o++)}if(c(),d)throw new Pe(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(t)}static emptyPath(){return new Fn([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Ut.fromString(e))}static fromName(e){return new ze(Ut.fromString(e).popFirst(5))}static empty(){return new ze(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Ut(e.slice()))}}function gE(n,e,t){if(!t)throw new Pe(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fM(n,e,t,s){if(e===!0&&s===!0)throw new Pe(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Dx(n){if(!ze.isDocumentKey(n))throw new Pe(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kx(n){if(ze.isDocumentKey(n))throw new Pe(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rm(n);throw new Pe(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Tn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Dh(n,e){if(!yE(n))throw new Pe(ve.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const d=n[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Pe(ve.INVALID_ARGUMENT,t);return!0}const jx=-62135596800,Vx=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Vx);return new Gt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jx)throw new Pe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vx}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dh(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:Tn("string",Gt._jsonSchemaVersion),seconds:Tn("number"),nanoseconds:Tn("number")};class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Gt(0,0))}static max(){return new Qe(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _h=-1;function mM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Qe.fromTimestamp(s===1e9?new Gt(t+1,0):new Gt(t,s));return new No(o,ze.empty(),e)}function pM(n){return new No(n.readTime,n.key,_h)}class No{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new No(Qe.min(),ze.empty(),_h)}static max(){return new No(Qe.max(),ze.empty(),_h)}}function gM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ze.comparator(n.documentKey,e.documentKey),t!==0?t:mt(n.largestBatchId,e.largestBatchId))}const yM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function iu(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==yM)throw n;Le("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,s)=>{t(e)}))}static reject(e){return new Te(((t,s)=>{s(e)}))}static waitFor(e){return new Te(((t,s)=>{let o=0,c=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++c,d&&c===o&&t()}),(m=>s(m)))})),d=!0,c===o&&t()}))}static or(e){let t=Te.resolve(!1);for(const s of e)t=t.next((o=>o?Te.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new Te(((s,o)=>{const c=e.length,d=new Array(c);let _=0;for(let m=0;m<c;m++){const v=m;t(e[v]).next((w=>{d[v]=w,++_,_===c&&s(d)}),(w=>o(w)))}}))}static doWhile(e,t){return new Te(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function vM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(n){return n.name==="IndexedDbTransactionError"}class am{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}am.ce=-1;const Qy=-1;function om(n){return n==null}function Pf(n){return n===0&&1/n==-1/0}function bM(n){return typeof n=="number"&&Number.isInteger(n)&&!Pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const _E="";function xM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zx(e)),e=wM(n.get(t),e);return zx(e)}function wM(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case _E:t+="";break;default:t+=c}}return t}function zx(n){return n+_E+""}function Ux(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Do(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EM(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function vE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Xt{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new Xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??Hn.RED,this.left=o??Hn.EMPTY,this.right=c??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new Hn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Hn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bx(this.data.getIterator())}getIteratorFrom(e){return new Bx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class Bx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rs{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new rs([])}unionWith(e){let t=new Nn(Fn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fc(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class bE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bE("Invalid base64 string: "+c):c}})(e);return new Gn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const TM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(n){if(At(!!n,39018),typeof n=="string"){let e=0;const t=TM.exec(n);if(At(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fn(n.seconds),nanos:fn(n.nanos)}}function fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Io(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}const xE="server_timestamp",wE="__type__",EE="__previous_value__",TE="__local_write_time__";function Xy(n){return(n?.mapValue?.fields||{})[wE]?.stringValue===xE}function lm(n){const e=n.mapValue.fields[EE];return Xy(e)?lm(e):e}function vh(n){const e=Ro(n.mapValue.fields[TE].timestampValue);return new Gt(e.seconds,e.nanos)}class SM{constructor(e,t,s,o,c,d,_,m,v,w,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=E}}const Mf="(default)";class bh{constructor(e,t){this.projectId=e,this.database=t||Mf}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}function AM(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Pe(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(n.options.projectId,e)}const SE="__type__",CM="__max__",Jd={mapValue:{}},AE="__vector__",Lf="value";function Po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xy(n)?4:RM(n)?9007199254740991:NM(n)?10:11:$e(28295,{value:n})}function kr(n,e){if(n===e)return!0;const t=Po(n);if(t!==Po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vh(n).isEqual(vh(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ro(o.timestampValue),_=Ro(c.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return Io(o.bytesValue).isEqual(Io(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return fn(o.geoPointValue.latitude)===fn(c.geoPointValue.latitude)&&fn(o.geoPointValue.longitude)===fn(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return fn(o.integerValue)===fn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=fn(o.doubleValue),_=fn(c.doubleValue);return d===_?Pf(d)===Pf(_):isNaN(d)&&isNaN(_)}return!1})(n,e);case 9:return Fc(n.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},_=c.mapValue.fields||{};if(Ux(d)!==Ux(_))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(_[m]===void 0||!kr(d[m],_[m])))return!1;return!0})(n,e);default:return $e(52216,{left:n})}}function xh(n,e){return(n.values||[]).find((t=>kr(t,e)))!==void 0}function Gc(n,e){if(n===e)return 0;const t=Po(n),s=Po(e);if(t!==s)return mt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return mt(n.booleanValue,e.booleanValue);case 2:return(function(c,d){const _=fn(c.integerValue||c.doubleValue),m=fn(d.integerValue||d.doubleValue);return _<m?-1:_>m?1:_===m?0:isNaN(_)?isNaN(m)?0:-1:1})(n,e);case 3:return qx(n.timestampValue,e.timestampValue);case 4:return qx(vh(n),vh(e));case 5:return iy(n.stringValue,e.stringValue);case 6:return(function(c,d){const _=Io(c),m=Io(d);return _.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(c,d){const _=c.split("/"),m=d.split("/");for(let v=0;v<_.length&&v<m.length;v++){const w=mt(_[v],m[v]);if(w!==0)return w}return mt(_.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,d){const _=mt(fn(c.latitude),fn(d.latitude));return _!==0?_:mt(fn(c.longitude),fn(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Hx(n.arrayValue,e.arrayValue);case 10:return(function(c,d){const _=c.fields||{},m=d.fields||{},v=_[Lf]?.arrayValue,w=m[Lf]?.arrayValue,E=mt(v?.values?.length||0,w?.values?.length||0);return E!==0?E:Hx(v,w)})(n.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Jd.mapValue&&d===Jd.mapValue)return 0;if(c===Jd.mapValue)return 1;if(d===Jd.mapValue)return-1;const _=c.fields||{},m=Object.keys(_),v=d.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let E=0;E<m.length&&E<w.length;++E){const N=iy(m[E],w[E]);if(N!==0)return N;const R=Gc(_[m[E]],v[w[E]]);if(R!==0)return R}return mt(m.length,w.length)})(n.mapValue,e.mapValue);default:throw $e(23264,{he:t})}}function qx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return mt(n,e);const t=Ro(n),s=Ro(e),o=mt(t.seconds,s.seconds);return o!==0?o:mt(t.nanos,s.nanos)}function Hx(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Gc(t[o],s[o]);if(c)return c}return mt(t.length,s.length)}function Zc(n){return sy(n)}function sy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Ro(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Io(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ze.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=sy(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${sy(t.fields[d])}`;return o+"}"})(n.mapValue):$e(61005,{value:n})}function mf(n){switch(Po(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lm(n);return e?16+mf(e):16;case 5:return 2*n.stringValue.length;case 6:return Io(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+mf(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Do(s.fields,((c,d)=>{o+=c.length+mf(d)})),o})(n.mapValue);default:throw $e(13486,{value:n})}}function Fx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ry(n){return!!n&&"integerValue"in n}function Jy(n){return!!n&&"arrayValue"in n}function Gx(n){return!!n&&"nullValue"in n}function Zx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pf(n){return!!n&&"mapValue"in n}function NM(n){return(n?.mapValue?.fields||{})[SE]?.stringValue===AE}function ch(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Do(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ch(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ch(n.arrayValue.values[t]);return e}return{...n}}function RM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CM}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(t)}setAll(e){let t=Fn.emptyPath(),s={},o=[];e.forEach(((d,_)=>{if(!t.isImmediateParentOf(_)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=_.popLast()}d?s[_.lastSegment()]=ch(d):o.push(_.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Do(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new mi(ch(this.value))}}function CE(n){const e=[];return Do(n.fields,((t,s)=>{const o=new Fn([t]);if(pf(s)){const c=CE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new rs(e)}class ni{constructor(e,t,s,o,c,d,_){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(e){return new ni(e,0,Qe.min(),Qe.min(),Qe.min(),mi.empty(),0)}static newFoundDocument(e,t,s,o){return new ni(e,1,t,Qe.min(),s,o,0)}static newNoDocument(e,t){return new ni(e,2,t,Qe.min(),Qe.min(),mi.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,Qe.min(),Qe.min(),mi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(e,t){this.position=e,this.inclusive=t}}function $x(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(c.field.isKeyField()?s=ze.comparator(ze.fromName(d.referenceValue),t.key):s=Gc(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kr(n.position[t],e.position[t]))return!1;return!0}class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function IM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class NE{}class En extends NE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new MM(e,t,s):t==="array-contains"?new DM(e,s):t==="in"?new kM(e,s):t==="not-in"?new jM(e,s):t==="array-contains-any"?new VM(e,s):new En(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new LM(e,s):new OM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Gc(t,this.value)):t!==null&&Po(this.value)===Po(t)&&this.matchesComparison(Gc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Js extends NE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Js(e,t)}matches(e){return RE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RE(n){return n.op==="and"}function IE(n){return PM(n)&&RE(n)}function PM(n){for(const e of n.filters)if(e instanceof Js)return!1;return!0}function ay(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+Zc(n.value);if(IE(n))return n.filters.map((e=>ay(e))).join(",");{const e=n.filters.map((t=>ay(t))).join(",");return`${n.op}(${e})`}}function PE(n,e){return n instanceof En?(function(s,o){return o instanceof En&&s.op===o.op&&s.field.isEqual(o.field)&&kr(s.value,o.value)})(n,e):n instanceof Js?(function(s,o){return o instanceof Js&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,_)=>c&&PE(d,o.filters[_])),!0):!1})(n,e):void $e(19439)}function ME(n){return n instanceof En?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zc(t.value)}`})(n):n instanceof Js?(function(t){return t.op.toString()+" {"+t.getFilters().map(ME).join(" ,")+"}"})(n):"Filter"}class MM extends En{constructor(e,t,s){super(e,t,s),this.key=ze.fromName(s.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class LM extends En{constructor(e,t){super(e,"in",t),this.keys=LE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class OM extends En{constructor(e,t){super(e,"not-in",t),this.keys=LE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function LE(n,e){return(e.arrayValue?.values||[]).map((t=>ze.fromName(t.referenceValue)))}class DM extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jy(t)&&xh(t.arrayValue,this.value)}}class kM extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xh(this.value.arrayValue,t)}}class jM extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xh(this.value.arrayValue,t)}}class VM extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>xh(this.value.arrayValue,s)))}}class zM{constructor(e,t=null,s=[],o=[],c=null,d=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=_,this.Te=null}}function Kx(n,e=null,t=[],s=[],o=null,c=null,d=null){return new zM(n,e,t,s,o,c,d)}function e_(n){const e=We(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>ay(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),om(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Zc(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Zc(s))).join(",")),e.Te=t}return e.Te}function t_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yx(n.startAt,e.startAt)&&Yx(n.endAt,e.endAt)}function oy(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ru{constructor(e,t=null,s=[],o=[],c=null,d="F",_=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function UM(n,e,t,s,o,c,d,_){return new ru(n,e,t,s,o,c,d,_)}function cm(n){return new ru(n)}function Wx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BM(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function OE(n){return n.collectionGroup!==null}function uh(n){const e=We(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Nn(Fn.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new wh(c,s))})),t.has(Fn.keyField().canonicalString())||e.Ie.push(new wh(Fn.keyField(),s))}return e.Ie}function Mr(n){const e=We(n);return e.Ee||(e.Ee=DE(e,uh(n))),e.Ee}function qM(n){const e=We(n);return e.Re||(e.Re=DE(e,n.explicitOrderBy)),e.Re}function DE(n,e){if(n.limitType==="F")return Kx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new wh(o.field,c)}));const t=n.endAt?new Of(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Of(n.startAt.position,n.startAt.inclusive):null;return Kx(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function ly(n,e){const t=n.filters.concat([e]);return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function HM(n,e){const t=n.explicitOrderBy.concat([e]);return new ru(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Df(n,e,t){return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function um(n,e){return t_(Mr(n),Mr(e))&&n.limitType===e.limitType}function kE(n){return`${e_(Mr(n))}|lt:${n.limitType}`}function Dc(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>ME(o))).join(", ")}]`),om(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Zc(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Zc(o))).join(",")),`Target(${s})`})(Mr(n))}; limitType=${n.limitType})`}function hm(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ze.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of uh(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(d,_,m){const v=$x(d,_,m);return d.inclusive?v<=0:v<0})(s.startAt,uh(s),o)||s.endAt&&!(function(d,_,m){const v=$x(d,_,m);return d.inclusive?v>=0:v>0})(s.endAt,uh(s),o))})(n,e)}function FM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jE(n){return(e,t)=>{let s=!1;for(const o of uh(n)){const c=GM(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function GM(n,e,t){const s=n.field.isKeyField()?ze.comparator(e.key,t.key):(function(c,d,_){const m=d.data.field(c),v=_.data.field(c);return m!==null&&v!==null?Gc(m,v):$e(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return $e(19790,{direction:n.dir})}}class Hl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}const ZM=new Xt(ze.comparator);function wa(){return ZM}const VE=new Xt(ze.comparator);function nh(...n){let e=VE;for(const t of n)e=e.insert(t.key,t);return e}function zE(n){let e=VE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Al(){return hh()}function UE(){return hh()}function hh(){return new Hl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const $M=new Xt(ze.comparator),YM=new Nn(ze.comparator);function pt(...n){let e=YM;for(const t of n)e=e.add(t);return e}const KM=new Nn(mt);function WM(){return KM}function n_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function BE(n){return{integerValue:""+n}}function qE(n,e){return bM(e)?BE(e):n_(n,e)}class dm{constructor(){this._=void 0}}function QM(n,e,t){return n instanceof kf?(function(o,c){const d={fields:{[wE]:{stringValue:xE},[TE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Xy(c)&&(c=lm(c)),c&&(d.fields[EE]=c),{mapValue:d}})(t,e):n instanceof Eh?FE(n,e):n instanceof Th?GE(n,e):(function(o,c){const d=HE(o,c),_=Qx(d)+Qx(o.Ae);return ry(d)&&ry(o.Ae)?BE(_):n_(o.serializer,_)})(n,e)}function XM(n,e,t){return n instanceof Eh?FE(n,e):n instanceof Th?GE(n,e):t}function HE(n,e){return n instanceof Sh?(function(s){return ry(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class kf extends dm{}class Eh extends dm{constructor(e){super(),this.elements=e}}function FE(n,e){const t=ZE(e);for(const s of n.elements)t.some((o=>kr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Th extends dm{constructor(e){super(),this.elements=e}}function GE(n,e){let t=ZE(e);for(const s of n.elements)t=t.filter((o=>!kr(o,s)));return{arrayValue:{values:t}}}class Sh extends dm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Qx(n){return fn(n.integerValue||n.doubleValue)}function ZE(n){return Jy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class JM{constructor(e,t){this.field=e,this.transform=t}}function eL(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Eh&&o instanceof Eh||s instanceof Th&&o instanceof Th?Fc(s.elements,o.elements,kr):s instanceof Sh&&o instanceof Sh?kr(s.Ae,o.Ae):s instanceof kf&&o instanceof kf})(n.transform,e.transform)}class tL{constructor(e,t){this.version=e,this.transformResults=t}}class pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fm{}function $E(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new mm(n.key,pi.none()):new kh(n.key,n.data,pi.none());{const t=n.data,s=mi.empty();let o=new Nn(Fn.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new ko(n.key,s,new rs(o.toArray()),pi.none())}}function nL(n,e,t){n instanceof kh?(function(o,c,d){const _=o.value.clone(),m=Jx(o.fieldTransforms,c,d.transformResults);_.setAll(m),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(n,e,t):n instanceof ko?(function(o,c,d){if(!gf(o.precondition,c))return void c.convertToUnknownDocument(d.version);const _=Jx(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(YE(o)),m.setAll(_),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(n,e,t):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function dh(n,e,t,s){return n instanceof kh?(function(c,d,_,m){if(!gf(c.precondition,d))return _;const v=c.value.clone(),w=ew(c.fieldTransforms,m,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof ko?(function(c,d,_,m){if(!gf(c.precondition,d))return _;const v=ew(c.fieldTransforms,m,d),w=d.data;return w.setAll(YE(c)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(c,d,_){return gf(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(n,e,t)}function iL(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=HE(s.transform,o||null);c!=null&&(t===null&&(t=mi.empty()),t.set(s.field,c))}return t||null}function Xx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fc(s,o,((c,d)=>eL(c,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kh extends fm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ko extends fm{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Jx(n,e,t){const s=new Map;At(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,_=e.data.field(c.field);s.set(c.field,XM(d,_,t[o]))}return s}function ew(n,e,t){const s=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);s.set(o.field,QM(c,d,e))}return s}class mm extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sL extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rL{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&nL(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=UE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=t.has(o.key)?null:_;const m=$E(d,_);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Qe.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Fc(this.mutations,e.mutations,((t,s)=>Xx(t,s)))&&Fc(this.baseMutations,e.baseMutations,((t,s)=>Xx(t,s)))}}class i_{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){At(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return $M})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new i_(e,t,s,o)}}class aL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class oL{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}class lL{constructor(e,t){this.count=e,this.unchangedNames=t}}var xn,vt;function cL(n){switch(n){case ve.OK:return $e(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function KE(n){if(n===void 0)return xa("GRPC error has no .code"),ve.UNKNOWN;switch(n){case xn.OK:return ve.OK;case xn.CANCELLED:return ve.CANCELLED;case xn.UNKNOWN:return ve.UNKNOWN;case xn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case xn.INTERNAL:return ve.INTERNAL;case xn.UNAVAILABLE:return ve.UNAVAILABLE;case xn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case xn.NOT_FOUND:return ve.NOT_FOUND;case xn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case xn.ABORTED:return ve.ABORTED;case xn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case xn.DATA_LOSS:return ve.DATA_LOSS;default:return $e(39323,{code:n})}}(vt=xn||(xn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";function uL(){return new TextEncoder}const hL=new So([4294967295,4294967295],0);function tw(n){const e=uL().encode(n),t=new lE;return t.update(e),new Uint8Array(t.digest())}function nw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new So([t,s],0),new So([o,c],0)]}class s_{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ih(`Invalid padding: ${t}`);if(s<0)throw new ih(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ih(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=So.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(So.fromNumber(s)));return o.compare(hL)===1&&(o=new So([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=tw(e),[s,o]=nw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new s_(c,o,t);return s.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const t=tw(e),[s,o]=nw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.be(d)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pm{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,jh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new pm(Qe.min(),o,new Xt(mt),wa(),pt())}}class jh{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new jh(s,t,pt(),pt(),pt())}}class yf{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class WE{constructor(e,t){this.targetId=e,this.Ce=t}}class QE{constructor(e,t,s=Gn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class iw{constructor(){this.ve=0,this.Fe=sw(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),t=pt(),s=pt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:$e(38017,{changeType:c})}})),new jh(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=sw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dL{constructor(e){this.Ge=e,this.ze=new Map,this.je=wa(),this.He=ef(),this.Je=ef(),this.Ze=new Xt(mt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(oy(c))if(s===0){const d=new ze(c.path);this.et(t,d,ni.newNoDocument(d,Qe.min()))}else At(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const _=this.ut(e),m=_?this.ct(_,e,d):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let d,_;try{d=Io(s).toUint8Array()}catch(m){if(m instanceof bE)return kl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{_=new s_(d,o,c)}catch(m){return kl(m instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return _.ge===0?null:_}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,d)=>{const _=this.ot(d);if(_){if(c.current&&oy(_.target)){const m=new ze(_.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,ni.newNoDocument(m,e))}c.Be&&(t.set(d,c.ke()),c.Ke())}}));let s=pt();this.Je.forEach(((c,d)=>{let _=!0;d.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new pm(e,t,this.Ze,this.je,s);return this.je=wa(),this.He=ef(),this.Je=ef(),this.Ze=new Xt(mt),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new iw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Nn(mt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Nn(mt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ef(){return new Xt(ze.comparator)}function sw(){return new Xt(ze.comparator)}const fL={asc:"ASCENDING",desc:"DESCENDING"},mL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pL={and:"AND",or:"OR"};class gL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cy(n,e){return n.useProto3Json||om(e)?e:{value:e}}function jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yL(n,e){return jf(n,e.toTimestamp())}function Lr(n){return At(!!n,49232),Qe.fromTimestamp((function(t){const s=Ro(t);return new Gt(s.seconds,s.nanos)})(n))}function r_(n,e){return uy(n,e).canonicalString()}function uy(n,e){const t=(function(o){return new Ut(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function JE(n){const e=Ut.fromString(n);return At(rT(e),10190,{key:e.toString()}),e}function hy(n,e){return r_(n.databaseId,e.path)}function Ng(n,e){const t=JE(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(tT(t))}function eT(n,e){return r_(n.databaseId,e)}function _L(n){const e=JE(n);return e.length===4?Ut.emptyPath():tT(e)}function dy(n){return new Ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tT(n){return At(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rw(n,e,t){return{name:hy(n,e),fields:t.value.mapValue.fields}}function vL(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:$e(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(At(w===void 0||typeof w=="string",58123),Gn.fromBase64String(w||"")):(At(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Gn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(v){const w=v.code===void 0?ve.UNKNOWN:KE(v.code);return new Pe(w,v.message||"")})(d);t=new QE(s,o,c,_||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ng(n,s.document.name),c=Lr(s.document.updateTime),d=s.document.createTime?Lr(s.document.createTime):Qe.min(),_=new mi({mapValue:{fields:s.document.fields}}),m=ni.newFoundDocument(o,c,d,_),v=s.targetIds||[],w=s.removedTargetIds||[];t=new yf(v,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ng(n,s.document),c=s.readTime?Lr(s.readTime):Qe.min(),d=ni.newNoDocument(o,c),_=s.removedTargetIds||[];t=new yf([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ng(n,s.document),c=s.removedTargetIds||[];t=new yf([],c,o,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new lL(o,c),_=s.targetId;t=new WE(_,d)}}return t}function bL(n,e){let t;if(e instanceof kh)t={update:rw(n,e.key,e.value)};else if(e instanceof mm)t={delete:hy(n,e.key)};else if(e instanceof ko)t={update:rw(n,e.key,e.data),updateMask:RL(e.fieldMask)};else{if(!(e instanceof sL))return $e(16599,{dt:e.type});t={verify:hy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const _=d.transform;if(_ instanceof kf)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Eh)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Th)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Sh)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw $e(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:yL(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:$e(27497)})(n,e.precondition)),t}function xL(n,e){return n&&n.length>0?(At(e!==void 0,14353),n.map((t=>(function(o,c){let d=o.updateTime?Lr(o.updateTime):Lr(c);return d.isEqual(Qe.min())&&(d=Lr(c)),new tL(d,o.transformResults||[])})(t,e)))):[]}function wL(n,e){return{documents:[eT(n,e.path)]}}function nT(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=eT(n,o);const c=(function(v){if(v.length!==0)return sT(Js.create(v,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((w=>(function(N){return{field:_o(N.field),direction:AL(N.dir)}})(w)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=cy(n,e.limit);return _!==null&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function EL(n,e,t,s){const{ft:o,parent:c}=nT(n,e),d={},_=[];let m=0;return t.forEach((v=>{const w="aggregate_"+m++;d[w]=v.alias,v.aggregateType==="count"?_.push({alias:w,count:{}}):v.aggregateType==="avg"?_.push({alias:w,avg:{field:_o(v.fieldPath)}}):v.aggregateType==="sum"&&_.push({alias:w,sum:{field:_o(v.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:_,structuredQuery:o.structuredQuery},parent:o.parent},gt:d,parent:c}}function TL(n){let e=_L(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){At(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(E){const N=iT(E);return N instanceof Js&&IE(N)?N.getFilters():[N]})(t.where));let d=[];t.orderBy&&(d=(function(E){return E.map((N=>(function(k){return new wh(kc(k.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(N)))})(t.orderBy));let _=null;t.limit&&(_=(function(E){let N;return N=typeof E=="object"?E.value:E,om(N)?null:N})(t.limit));let m=null;t.startAt&&(m=(function(E){const N=!!E.before,R=E.values||[];return new Of(R,N)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const N=!E.before,R=E.values||[];return new Of(R,N)})(t.endAt)),UM(e,o,d,c,_,"F",m,v)}function SL(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=kc(t.unaryFilter.field);return En.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=kc(t.unaryFilter.field);return En.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=kc(t.unaryFilter.field);return En.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=kc(t.unaryFilter.field);return En.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return En.create(kc(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Js.create(t.compositeFilter.filters.map((s=>iT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(t.compositeFilter.op))})(n):$e(30097,{filter:n})}function AL(n){return fL[n]}function CL(n){return mL[n]}function NL(n){return pL[n]}function _o(n){return{fieldPath:n.canonicalString()}}function kc(n){return Fn.fromServerFormat(n.fieldPath)}function sT(n){return n instanceof En?(function(t){if(t.op==="=="){if(Zx(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NAN"}};if(Gx(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zx(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NAN"}};if(Gx(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(t.field),op:CL(t.op),value:t.value}}})(n):n instanceof Js?(function(t){const s=t.getFilters().map((o=>sT(o)));return s.length===1?s[0]:{compositeFilter:{op:NL(t.op),filters:s}}})(n):$e(54877,{filter:n})}function RL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function rT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function aT(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class xo{constructor(e,t,s,o,c=Qe.min(),d=Qe.min(),_=Gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=m}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class IL{constructor(e){this.yt=e}}function PL(n){const e=TL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Df(e,e.limit,"L"):e}class ML{constructor(){this.Sn=new LL}addToCollectionParentIndex(e,t){return this.Sn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(No.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(No.min())}updateCollectionGroup(e,t,s){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class LL{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Nn(Ut.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nn(Ut.comparator)).toArray()}}const aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class ji{static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(oT,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);class $c{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $c(0)}static ar(){return new $c(-1)}}const ow="LruGarbageCollector",OL=1048576;function lw([n,e],[t,s]){const o=mt(n,t);return o===0?mt(e,s):o}class DL{constructor(e){this.Pr=e,this.buffer=new Nn(lw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();lw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kL{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Le(ow,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){su(t)?Le(ow,"Ignoring IndexedDB error during garbage collection: ",t):await iu(t)}await this.Ar(3e5)}))}}class jL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(am.ce);const s=new DL(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(aw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,c,d,_,m,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,_=Date.now(),this.removeTargets(e,s,t)))).next((E=>(c=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),Oc()<=ft.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${c} targets in `+(m-_)+`ms
	Removed ${E} documents in `+(v-m)+`ms
Total Duration: ${v-w}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function VL(n,e){return new jL(n,e)}class zL{constructor(){this.changes=new Hl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class BL{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&dh(s.mutation,o,rs.empty(),Gt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,pt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=pt()){const o=Al();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let d=nh();return c.forEach(((_,m)=>{d=d.insert(_,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=Al();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,pt())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,_)=>{t.set(d,_)}))}))}computeViews(e,t,s,o){let c=wa();const d=hh(),_=(function(){return hh()})();return t.forEach(((m,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof ko)?c=c.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),dh(w.mutation,v,w.mutation.getFieldMask(),Gt.now())):d.set(v.key,rs.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((v,w)=>d.set(v,w))),t.forEach(((v,w)=>_.set(v,new UL(w,d.get(v)??null)))),_)))}recalculateAndSaveOverlays(e,t){const s=hh();let o=new Xt(((d,_)=>d-_)),c=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const _ of d)_.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let w=s.get(m)||rs.empty();w=_.applyToLocalView(v,w),s.set(m,w);const E=(o.get(_.batchId)||pt()).add(m);o=o.insert(_.batchId,E)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const m=_.getNext(),v=m.key,w=m.value,E=UE();w.forEach((N=>{if(!c.has(N)){const R=$E(t.get(N),s.get(N));R!==null&&E.set(N,R),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,E))}return Te.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return BM(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):Te.resolve(Al());let _=_h,m=c;return d.next((v=>Te.forEach(v,((w,E)=>(_<E.largestBatchId&&(_=E.largestBatchId),c.get(w)?Te.resolve():this.remoteDocumentCache.getEntry(e,w).next((N=>{m=m.insert(w,N)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,m,v,pt()))).next((w=>({batchId:_,changes:zE(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next((s=>{let o=nh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let d=nh();return this.indexManager.getCollectionParents(e,c).next((_=>Te.forEach(_,(m=>{const v=(function(E,N){return new ru(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((E,N)=>{d=d.insert(E,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((d=>{c.forEach(((m,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,ni.newInvalidDocument(w)))}));let _=nh();return d.forEach(((m,v)=>{const w=c.get(m);w!==void 0&&dh(w.mutation,v,rs.empty(),Gt.now()),hm(t,v)&&(_=_.insert(m,v))})),_}))}}class qL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Te.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Lr(o.createTime)}})(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:PL(o.bundledQuery),readTime:Lr(o.readTime)}})(t)),Te.resolve()}}class HL{constructor(){this.overlays=new Xt(ze.comparator),this.Lr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Al();return Te.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.bt(e,t,c)})),Te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Te.resolve()}getOverlaysForCollection(e,t,s){const o=Al(),c=t.length+1,d=new ze(t.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const m=_.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new Xt(((v,w)=>v-w));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Al(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const _=Al(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,w)=>_.set(v,w))),!(_.size()>=o)););return Te.resolve(_)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new aL(t,s));let c=this.Lr.get(t);c===void 0&&(c=pt(),this.Lr.set(t,c)),this.Lr.set(t,c.add(s.key))}}class FL{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class a_{constructor(){this.kr=new Nn(jn.Kr),this.qr=new Nn(jn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new jn(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new jn(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new ze(new Ut([])),s=new jn(t,e),o=new jn(t,e+1),c=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ze(new Ut([])),s=new jn(t,e),o=new jn(t,e+1);let c=pt();return this.qr.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const t=new jn(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ze.comparator(e.key,t.key)||mt(e.Hr,t.Hr)}static Ur(e,t){return mt(e.Hr,t.Hr)||ze.comparator(e.key,t.key)}}class GL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Nn(jn.Kr)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rL(c,t,s,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new jn(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Te.resolve(d)}lookupMutationBatch(e,t){return Te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),c=o<0?0:o;return Te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?Qy:this.Yn-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jn(t,0),o=new jn(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(d=>{const _=this.Zr(d.Hr);c.push(_)})),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Nn(mt);return t.forEach((o=>{const c=new jn(o,0),d=new jn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(_=>{s=s.add(_.Hr)}))})),Te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;ze.isDocumentKey(c)||(c=c.child(""));const d=new jn(new ze(c),0);let _=new Nn(mt);return this.Jr.forEachWhile((m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(_=_.add(m.Hr)),!0)}),d),Te.resolve(this.Yr(_))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){At(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Te.forEach(t.mutations,(o=>{const c=new jn(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new jn(t,0),o=this.Jr.firstAfterOrEqual(s);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ZL{constructor(e){this.ti=e,this.docs=(function(){return new Xt(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,d=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Te.resolve(s?s.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let s=wa();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ni.newInvalidDocument(o))})),Te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=wa();const d=t.path,_=new ze(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(_);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||gM(pM(w),s)<=0||(o.has(w.key)||hm(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return Te.resolve(c)}getAllFromCollectionGroup(e,t,s,o){$e(9500)}ni(e,t){return Te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new $L(this)}getSize(e){return Te.resolve(this.size)}}class $L extends zL{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Te.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class YL{constructor(e){this.persistence=e,this.ri=new Hl((t=>e_(t)),t_),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new a_,this.targetCount=0,this.oi=$c._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),Te.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new $c(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.lr(t),Te.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=t&&s.get(_.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),Te.waitFor(c).next((()=>o))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return Te.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),Te.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Te.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return Te.resolve(s)}containsKey(e,t){return Te.resolve(this.si.containsKey(t))}}class lT{constructor(e,t){this._i={},this.overlays={},this.ai=new am(0),this.ui=!1,this.ui=!0,this.ci=new FL,this.referenceDelegate=e(this),this.li=new YL(this),this.indexManager=new ML,this.remoteDocumentCache=(function(o){return new ZL(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new IL(t),this.Pi=new qL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new GL(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){Le("MemoryPersistence","Starting transaction:",e);const o=new KL(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,t){return Te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class KL extends _M{constructor(e){super(),this.currentSequenceNumber=e}}class o_{constructor(e){this.persistence=e,this.Ri=new a_,this.Ai=null}static Vi(e){return new o_(e)}get di(){if(this.Ai)return this.Ai;throw $e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),Te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.di,(s=>{const o=ze.fromPath(s);return this.mi(e,o).next((c=>{c||t.removeEntry(o,Qe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Vf{constructor(e,t){this.persistence=e,this.fi=new Hl((s=>xM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=VL(this,t)}static Vi(e,t){return new Vf(e,t)}Ti(){}Ii(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return Te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?Te.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,t).next((_=>{_||(s++,c.removeEntry(d,Qe.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mf(e.data.value)),t}wr(e,t,s){return Te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return Te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class l_{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=pt(),o=pt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new l_(e,t.fromCache,s,o)}}class WL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return mN()?8:vM(si())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.gs(e,t).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,t,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new WL;return this.ys(e,t,d).next((_=>{if(c.result=_,this.As)return this.ws(e,t,d,_.size)}))})).next((()=>c.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(Oc()<=ft.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Dc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Te.resolve()):(Oc()<=ft.DEBUG&&Le("QueryEngine","Query:",Dc(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Oc()<=ft.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Dc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):Te.resolve())}gs(e,t){if(Wx(t))return Te.resolve(null);let s=Mr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Df(t,null,"F"),s=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=pt(...c);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,s).next((m=>{const v=this.bs(t,_);return this.Ss(t,v,d,m.readTime)?this.gs(e,Df(t,null,"F")):this.Ds(e,v,t,m)}))))})))))}ps(e,t,s,o){return Wx(t)||o.isEqual(Qe.min())?Te.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(t,c);return this.Ss(t,d,s,o)?Te.resolve(null):(Oc()<=ft.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Dc(t)),this.Ds(e,d,t,mM(o,_h)).next((_=>_)))}))}bs(e,t){let s=new Nn(jE(e));return t.forEach(((o,c)=>{hm(e,c)&&(s=s.add(c))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,t,s){return Oc()<=ft.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Dc(t)),this.fs.getDocumentsMatchingQuery(e,t,No.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const c_="LocalStore",XL=3e8;class JL{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new Xt(mt),this.Fs=new Hl((c=>e_(c)),t_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function eO(n,e,t,s){return new JL(n,e,t,s)}async function cT(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],_=[];let m=pt();for(const v of o){d.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of c){_.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(s,m).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:_})))}))}))}function tO(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(_,m,v,w){const E=v.batch,N=E.keys();let R=Te.resolve();return N.forEach((k=>{R=R.next((()=>w.getEntry(m,k))).next((U=>{const D=v.docVersions.get(k);At(D!==null,48541),U.version.compareTo(D)<0&&(E.applyToRemoteDocument(U,v),U.isValidDocument()&&(U.setReadTime(v.commitVersion),w.addEntry(U)))}))})),R.next((()=>_.mutationQueue.removeMutationBatch(m,E)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(_){let m=pt();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(m=m.add(_.batch.mutations[v].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function uT(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function nO(n,e){const t=We(n),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const _=[];e.targetChanges.forEach(((w,E)=>{const N=o.get(E);if(!N)return;_.push(t.li.removeMatchingKeys(c,w.removedDocuments,E).next((()=>t.li.addMatchingKeys(c,w.addedDocuments,E))));let R=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Gn.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,s)),o=o.insert(E,R),(function(U,D,O){return U.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=XL?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(N,R,w)&&_.push(t.li.updateTargetData(c,R))}));let m=wa(),v=pt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),_.push(iO(c,d,e.documentUpdates).next((w=>{m=w.Bs,v=w.Ls}))),!s.isEqual(Qe.min())){const w=t.li.getLastRemoteSnapshotVersion(c).next((E=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));_.push(w)}return Te.waitFor(_).next((()=>d.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,m,v))).next((()=>m))})).then((c=>(t.vs=o,c)))}function iO(n,e,t){let s=pt(),o=pt();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let d=wa();return t.forEach(((_,m)=>{const v=c.get(_);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(_)),m.isNoDocument()&&m.version.isEqual(Qe.min())?(e.removeEntry(_,m.readTime),d=d.insert(_,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),d=d.insert(_,m)):Le(c_,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function sO(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qy),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function rO(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((c=>c?(o=c,Te.resolve(o)):t.li.allocateTargetId(s).next((d=>(o=new xo(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function fy(n,e,t){const s=We(n),o=s.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!su(d))throw d;Le(c_,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function cw(n,e,t){const s=We(n);let o=Qe.min(),c=pt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,v,w){const E=We(m),N=E.Fs.get(w);return N!==void 0?Te.resolve(E.vs.get(N)):E.li.getTargetData(v,w)})(s,d,Mr(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,_.targetId).next((m=>{c=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,t?o:Qe.min(),t?c:pt()))).next((_=>(aO(s,FM(e),_),{documents:_,ks:c})))))}function aO(n,e,t){let s=n.Ms.get(e)||Qe.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Ms.set(e,s)}class uw{constructor(){this.activeTargetIds=WM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oO{constructor(){this.vo=new uw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new uw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lO{Mo(e){}shutdown(){}}const hw="ConnectivityMonitor";class dw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Le(hw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Le(hw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tf=null;function my(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}const Rg="RestConnection",cO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class uO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Mf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,c){const d=my(),_=this.Qo(e,t.toUriEncodedString());Le(Rg,`Sending RPC '${e}' ${d}:`,_,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:v}=new URL(_),w=Oo(v);return this.zo(e,_,m,s,w).then((E=>(Le(Rg,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw kl(Rg,`RPC '${e}' ${d} failed with error: `,E,"url: ",_,"request:",s),E}))}jo(e,t,s,o,c,d){return this.Wo(e,t,s,o,c)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,t){const s=cO[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class hO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ei="WebChannelConnection",Wu=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Uc extends uO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Uc.c_){const e=dE();Wu(e,hE.STAT_EVENT,(t=>{t.stat===ny.PROXY?Le(ei,"STAT_EVENT: detected buffering proxy"):t.stat===ny.NOPROXY&&Le(ei,"STAT_EVENT: detected no buffering proxy")})),Uc.c_=!0}}zo(e,t,s,o,c){const d=my();return new Promise(((_,m)=>{const v=new cE;v.setWithCredentials(!0),v.listenOnce(uE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ff.NO_ERROR:const E=v.getResponseJson();Le(ei,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),_(E);break;case ff.TIMEOUT:Le(ei,`RPC '${e}' ${d} timed out`),m(new Pe(ve.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const N=v.getStatus();if(Le(ei,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const U=(function(O){const q=O.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(q)>=0?q:ve.UNKNOWN})(k.status);m(new Pe(U,k.message))}else m(new Pe(ve.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new Pe(ve.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Le(ei,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);Le(ei,`RPC '${e}' ${d} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=my(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(_.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,t,s),_.encodeInitMessageHeaders=!0;const v=c.join("");Le(ei,`Creating RPC '${e}' stream ${o}: ${v}`,_);const w=d.createWebChannel(v,_);this.I_(w);let E=!1,N=!1;const R=new hO({Ho:k=>{N?Le(ei,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(E||(Le(ei,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),Le(ei,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Jo:()=>w.close()});return Wu(w,th.EventType.OPEN,(()=>{N||(Le(ei,`RPC '${e}' stream ${o} transport opened.`),R.i_())})),Wu(w,th.EventType.CLOSE,(()=>{N||(N=!0,Le(ei,`RPC '${e}' stream ${o} transport closed`),R.o_(),this.E_(w))})),Wu(w,th.EventType.ERROR,(k=>{N||(N=!0,kl(ei,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),R.o_(new Pe(ve.UNAVAILABLE,"The operation could not be completed")))})),Wu(w,th.EventType.MESSAGE,(k=>{if(!N){const U=k.data[0];At(!!U,16349);const D=U,O=D?.error||D[0]?.error;if(O){Le(ei,`RPC '${e}' stream ${o} received error:`,O);const q=O.status;let $=(function(me){const V=xn[me];if(V!==void 0)return KE(V)})(q),J=O.message;q==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&kl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=ve.INTERNAL,J="Unknown error status: "+q+" with message "+O.message),N=!0,R.o_(new Pe($,J)),w.close()}else Le(ei,`RPC '${e}' stream ${o} received:`,U),R.__(U)}})),Uc.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fE()}}function dO(n){return new Uc(n)}function Ig(){return typeof document<"u"?document:null}function gm(n){return new gL(n,!0)}Uc.c_=!1;class hT{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fw="PersistentStream";class dT{constructor(e,t,s,o,c,d,_,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(xa(t.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Pe(ve.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Le(fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fO extends dT{constructor(e,t,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=vL(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Qe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Qe.min():d.readTime?Lr(d.readTime):Qe.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=dy(this.serializer),t.addTarget=(function(c,d){let _;const m=d.target;if(_=oy(m)?{documents:wL(c,m)}:{query:nT(c,m).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=XE(c,d.resumeToken);const v=cy(c,d.expectedCount);v!==null&&(_.expectedCount=v)}else if(d.snapshotVersion.compareTo(Qe.min())>0){_.readTime=jf(c,d.snapshotVersion.toTimestamp());const v=cy(c,d.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,e);const s=SL(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=dy(this.serializer),t.removeTarget=e,this.K_(t)}}class mO extends dT{constructor(e,t,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=xL(e.writeResults,e.commitTime),s=Lr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=dy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>bL(this.serializer,s)))};this.K_(t)}}class pO{}class gO extends pO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Pe(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,uy(t,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(ve.UNKNOWN,c.toString())}))}jo(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,uy(t,s),o,d,_,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Pe(ve.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function yO(n,e,t,s){return new gO(n,e,t,s)}class _O{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xa(t),this.aa=!1):Le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const jl="RemoteStore";class vO{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Fl(this)&&(Le(jl,"Restarting streams for network reachability change."),await(async function(m){const v=We(m);v.Ea.add(4),await Vh(v),v.Va.set("Unknown"),v.Ea.delete(4),await ym(v)})(this))}))})),this.Va=new _O(s,o)}}async function ym(n){if(Fl(n))for(const e of n.Ra)await e(!0)}async function Vh(n){for(const e of n.Ra)await e(!1)}function fT(n,e){const t=We(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),f_(t)?d_(t):au(t).O_()&&h_(t,e))}function u_(n,e){const t=We(n),s=au(t);t.Ia.delete(e),s.O_()&&mT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Fl(t)&&t.Va.set("Unknown"))}function h_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(n).Z_(e)}function mT(n,e){n.da.$e(e),au(n).X_(e)}function d_(n){n.da=new dL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),au(n).start(),n.Va.ua()}function f_(n){return Fl(n)&&!au(n).x_()&&n.Ia.size>0}function Fl(n){return We(n).Ea.size===0}function pT(n){n.da=void 0}async function bO(n){n.Va.set("Online")}async function xO(n){n.Ia.forEach(((e,t)=>{h_(n,e)}))}async function wO(n,e){pT(n),f_(n)?(n.Va.ha(e),d_(n)):n.Va.set("Unknown")}async function EO(n,e,t){if(n.Va.set("Online"),e instanceof QE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const _ of c.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(n,e)}catch(s){Le(jl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zf(n,s)}else if(e instanceof yf?n.da.Xe(e):e instanceof WE?n.da.st(e):n.da.tt(e),!t.isEqual(Qe.min()))try{const s=await uT(n.localStore);t.compareTo(s)>=0&&await(function(c,d){const _=c.da.Tt(d);return _.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(m.resumeToken,d))}})),_.targetMismatches.forEach(((m,v)=>{const w=c.Ia.get(m);if(!w)return;c.Ia.set(m,w.withResumeToken(Gn.EMPTY_BYTE_STRING,w.snapshotVersion)),mT(c,m);const E=new xo(w.target,m,v,w.sequenceNumber);h_(c,E)})),c.remoteSyncer.applyRemoteEvent(_)})(n,t)}catch(s){Le(jl,"Failed to raise snapshot:",s),await zf(n,s)}}async function zf(n,e,t){if(!su(e))throw e;n.Ea.add(1),await Vh(n),n.Va.set("Offline"),t||(t=()=>uT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Le(jl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ym(n)}))}function gT(n,e){return e().catch((t=>zf(n,t,e)))}async function _m(n){const e=We(n),t=Mo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qy;for(;TO(e);)try{const o=await sO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,SO(e,o)}catch(o){await zf(e,o)}yT(e)&&_T(e)}function TO(n){return Fl(n)&&n.Ta.length<10}function SO(n,e){n.Ta.push(e);const t=Mo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function yT(n){return Fl(n)&&!Mo(n).x_()&&n.Ta.length>0}function _T(n){Mo(n).start()}async function AO(n){Mo(n).ra()}async function CO(n){const e=Mo(n);for(const t of n.Ta)e.ea(t.mutations)}async function NO(n,e,t){const s=n.Ta.shift(),o=i_.from(s,e,t);await gT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await _m(n)}async function RO(n,e){e&&Mo(n).Y_&&await(async function(s,o){if((function(d){return cL(d)&&d!==ve.ABORTED})(o.code)){const c=s.Ta.shift();Mo(s).B_(),await gT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await _m(s)}})(n,e),yT(n)&&_T(n)}async function mw(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Le(jl,"RemoteStore received new credentials");const s=Fl(t);t.Ea.add(3),await Vh(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ym(t)}async function IO(n,e){const t=We(n);e?(t.Ea.delete(2),await ym(t)):e||(t.Ea.add(2),await Vh(t),t.Va.set("Unknown"))}function au(n){return n.ma||(n.ma=(function(t,s,o){const c=We(t);return c.sa(),new fO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:bO.bind(null,n),Yo:xO.bind(null,n),t_:wO.bind(null,n),J_:EO.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),f_(n)?d_(n):n.Va.set("Unknown")):(await n.ma.stop(),pT(n))}))),n.ma}function Mo(n){return n.fa||(n.fa=(function(t,s,o){const c=We(t);return c.sa(),new mO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:AO.bind(null,n),t_:RO.bind(null,n),ta:CO.bind(null,n),na:NO.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await _m(n)):(await n.fa.stop(),n.Ta.length>0&&(Le(jl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class m_{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const d=Date.now()+s,_=new m_(e,t,d,o,c);return _.start(s),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p_(n,e){if(xa("AsyncQueue",`${e}: ${n}`),su(n))return new Pe(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class Bc{static emptySet(e){return new Bc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ze.comparator(t.key,s.key):(t,s)=>ze.comparator(t.key,s.key),this.keyedMap=nh(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Bc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class pw{constructor(){this.ga=new Xt(ze.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Yc{constructor(e,t,s,o,c,d,_,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,c){const d=[];return t.forEach((_=>{d.push({type:0,doc:_})})),new Yc(e,t,Bc.emptySet(t),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class PO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class MO{constructor(){this.queries=gw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=We(t),c=o.queries;o.queries=gw(),c.forEach(((d,_)=>{for(const m of _.ba)m.onError(s)}))})(this,new Pe(ve.ABORTED,"Firestore shutting down"))}}function gw(){return new Hl((n=>kE(n)),um)}async function g_(n,e){const t=We(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new PO,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const _=p_(d,`Initialization of query '${Dc(e.query)}' failed`);return void e.onError(_)}t.queries.set(o,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&__(t)}async function y_(n,e){const t=We(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function LO(n,e){const t=We(n);let s=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const _ of d.ba)_.Fa(o)&&(s=!0);d.wa=o}}s&&__(t)}function OO(n,e,t){const s=We(n),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(t);s.queries.delete(e)}function __(n){n.Ca.forEach((e=>{e.next()}))}var py,yw;(yw=py||(py={})).Ma="default",yw.Cache="cache";class v_{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Yc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==py.Cache}}class vT{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class DO{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pt(),this.mutatedKeys=pt(),this.eu=jE(e),this.tu=new Bc(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new pw,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,_=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const N=o.get(w),R=hm(this.query,E)?E:null,k=!!N&&this.mutatedKeys.has(N.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;N&&R?N.data.isEqual(R.data)?k!==U&&(s.track({type:3,doc:R}),D=!0):this.su(N,R)||(s.track({type:2,doc:R}),D=!0,(m&&this.eu(R,m)>0||v&&this.eu(R,v)<0)&&(_=!0)):!N&&R?(s.track({type:0,doc:R}),D=!0):N&&!R&&(s.track({type:1,doc:N}),D=!0,(m||v)&&(_=!0)),D&&(R?(d=d.add(R),c=U?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Ss:_,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,E)=>(function(R,k){const U=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:D})}};return U(R)-U(k)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),o=o??!1;const _=t&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,v=m!==this.Xa;return this.Xa=m,d.length!==0||v?{snapshot:new Yc(this.query,e.tu,c,d,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new bT(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new vT(s))})),t}cu(e){this.Za=e.ks,this.Ya=pt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const b_="SyncEngine";class kO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class jO{constructor(e){this.key=e,this.hu=!1}}class VO{constructor(e,t,s,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hl((_=>kE(_)),um),this.Iu=new Map,this.Eu=new Set,this.Ru=new Xt(ze.comparator),this.Au=new Map,this.Vu=new a_,this.du={},this.mu=new Map,this.fu=$c.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zO(n,e,t=!0){const s=AT(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await xT(s,e,t,!0),o}async function UO(n,e){const t=AT(n);await xT(t,e,!0,!1)}async function xT(n,e,t,s){const o=await rO(n.localStore,Mr(e)),c=o.targetId,d=n.sharedClientState.addLocalQueryTarget(c,t);let _;return s&&(_=await BO(n,e,c,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&fT(n.remoteStore,o),_}async function BO(n,e,t,s,o){n.pu=(E,N,R)=>(async function(U,D,O,q){let $=D.view.ru(O);$.Ss&&($=await cw(U.localStore,D.query,!1).then((({documents:V})=>D.view.ru(V,$))));const J=q&&q.targetChanges.get(D.targetId),te=q&&q.targetMismatches.get(D.targetId)!=null,me=D.view.applyChanges($,U.isPrimaryClient,J,te);return vw(U,D.targetId,me.au),me.snapshot})(n,E,N,R);const c=await cw(n.localStore,e,!0),d=new DO(e,c.ks),_=d.ru(c.documents),m=jh.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=d.applyChanges(_,n.isPrimaryClient,m);vw(n,t,v.au);const w=new kO(e,t,d);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function qO(n,e,t){const s=We(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!um(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fy(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&u_(s.remoteStore,o.targetId),gy(s,o.targetId)})).catch(iu)):(gy(s,o.targetId),await fy(s.localStore,o.targetId,!0))}async function HO(n,e){const t=We(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),u_(t.remoteStore,s.targetId))}async function FO(n,e,t){const s=QO(n);try{const o=await(function(d,_){const m=We(d),v=Gt.now(),w=_.reduce(((R,k)=>R.add(k.key)),pt());let E,N;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=wa(),U=pt();return m.xs.getEntries(R,w).next((D=>{k=D,k.forEach(((O,q)=>{q.isValidDocument()||(U=U.add(O))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,k))).next((D=>{E=D;const O=[];for(const q of _){const $=iL(q,E.get(q.key).overlayedDocument);$!=null&&O.push(new ko(q.key,$,CE($.value.mapValue),pi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,v,O,_)})).next((D=>{N=D;const O=D.applyToLocalDocumentSet(E,U);return m.documentOverlayCache.saveOverlays(R,D.batchId,O)}))})).then((()=>({batchId:N.batchId,changes:zE(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,_,m){let v=d.du[d.currentUser.toKey()];v||(v=new Xt(mt)),v=v.insert(_,m),d.du[d.currentUser.toKey()]=v})(s,o.batchId,t),await zh(s,o.changes),await _m(s.remoteStore)}catch(o){const c=p_(o,"Failed to persist write");t.reject(c)}}async function wT(n,e){const t=We(n);try{const s=await nO(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=t.Au.get(c);d&&(At(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?At(d.hu,14607):o.removedDocuments.size>0&&(At(d.hu,42227),d.hu=!1))})),await zh(t,s,e)}catch(s){await iu(s)}}function _w(n,e,t){const s=We(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const m=We(d);m.onlineState=_;let v=!1;m.queries.forEach(((w,E)=>{for(const N of E.ba)N.va(_)&&(v=!0)})),v&&__(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GO(n,e,t){const s=We(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new Xt(ze.comparator);d=d.insert(c,ni.newNoDocument(c,Qe.min()));const _=pt().add(c),m=new pm(Qe.min(),new Map,new Xt(mt),d,_);await wT(s,m),s.Ru=s.Ru.remove(c),s.Au.delete(e),x_(s)}else await fy(s.localStore,e,!1).then((()=>gy(s,e,t))).catch(iu)}async function ZO(n,e){const t=We(n),s=e.batch.batchId;try{const o=await tO(t.localStore,e);TT(t,s,null),ET(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await zh(t,o)}catch(o){await iu(o)}}async function $O(n,e,t){const s=We(n);try{const o=await(function(d,_){const m=We(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return m.mutationQueue.lookupMutationBatch(v,_).next((E=>(At(E!==null,37113),w=E.keys(),m.mutationQueue.removeMutationBatch(v,E)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,w,_))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>m.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);TT(s,e,t),ET(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await zh(s,o)}catch(o){await iu(o)}}function ET(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function TT(n,e,t){const s=We(n);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function gy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||ST(n,s)}))}function ST(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(u_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),x_(n))}function vw(n,e,t){for(const s of t)s instanceof vT?(n.Vu.addReference(s.key,e),YO(n,s)):s instanceof bT?(Le(b_,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||ST(n,s.key)):$e(19791,{wu:s})}function YO(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(Le(b_,"New document in limbo: "+t),n.Eu.add(s),x_(n))}function x_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ze(Ut.fromString(e)),s=n.fu.next();n.Au.set(s,new jO(t)),n.Ru=n.Ru.insert(t,s),fT(n.remoteStore,new xo(Mr(cm(t.path)),s,"TargetPurposeLimboResolution",am.ce))}}async function zh(n,e,t){const s=We(n),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((_,m)=>{d.push(s.pu(m,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(v){o.push(v);const w=l_.Es(m.targetId,v);c.push(w)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(m,v){const w=We(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Te.forEach(v,(N=>Te.forEach(N.Ts,(R=>w.persistence.referenceDelegate.addReference(E,N.targetId,R))).next((()=>Te.forEach(N.Is,(R=>w.persistence.referenceDelegate.removeReference(E,N.targetId,R)))))))))}catch(E){if(!su(E))throw E;Le(c_,"Failed to update sequence numbers: "+E)}for(const E of v){const N=E.targetId;if(!E.fromCache){const R=w.vs.get(N),k=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(k);w.vs=w.vs.insert(N,U)}}})(s.localStore,c))}async function KO(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Le(b_,"User change. New user:",e.toKey());const s=await cT(t.localStore,e);t.currentUser=e,(function(c,d){c.mu.forEach((_=>{_.forEach((m=>{m.reject(new Pe(ve.CANCELLED,d))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zh(t,s.Ns)}}function WO(n,e){const t=We(n),s=t.Au.get(e);if(s&&s.hu)return pt().add(s.key);{let o=pt();const c=t.Iu.get(e);if(!c)return o;for(const d of c){const _=t.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function AT(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GO.bind(null,e),e.Pu.J_=LO.bind(null,e.eventManager),e.Pu.yu=OO.bind(null,e.eventManager),e}function QO(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,e),e}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return eO(this.persistence,new QL,e.initialUser,this.serializer)}Cu(e){return new lT(o_.Vi,this.serializer)}Du(e){return new oO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class XO extends Uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){At(this.persistence.referenceDelegate instanceof Vf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kL(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new lT((s=>Vf.Vi(s,t)),this.serializer)}}class yy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_w(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=KO.bind(null,this.syncEngine),await IO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MO})()}createDatastore(e){const t=gm(e.databaseInfo.databaseId),s=dO(e.databaseInfo);return yO(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,d,_){return new vO(s,o,c,d,_)})(this.localStore,this.datastore,e.asyncQueue,(t=>_w(this.syncEngine,t,0)),(function(){return dw.v()?new dw:new lO})())}createSyncEngine(e,t){return(function(o,c,d,_,m,v,w){const E=new VO(o,c,d,_,m,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=We(t);Le(jl,"RemoteStore shutting down."),s.Ea.add(5),await Vh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yy.provider={build:()=>new yy};class w_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Lo="FirestoreClient";class JO{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=ti.UNAUTHENTICATED,this.clientId=Wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{Le(Lo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Le(Lo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=p_(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pg(n,e){n.asyncQueue.verifyOperationInProgress(),Le(Lo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await cT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function bw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eD(n);Le(Lo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>mw(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>mw(e.remoteStore,o))),n._onlineComponents=e}async function eD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le(Lo,"Using user provided OfflineComponentProvider");try{await Pg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ve.FAILED_PRECONDITION||o.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;kl("Error using user provided cache. Falling back to memory cache: "+t),await Pg(n,new Uf)}}else Le(Lo,"Using default OfflineComponentProvider"),await Pg(n,new XO(void 0));return n._offlineComponents}async function E_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le(Lo,"Using user provided OnlineComponentProvider"),await bw(n,n._uninitializedComponentsProvider._online)):(Le(Lo,"Using default OnlineComponentProvider"),await bw(n,new yy))),n._onlineComponents}function tD(n){return E_(n).then((e=>e.syncEngine))}function nD(n){return E_(n).then((e=>e.datastore))}async function Bf(n){const e=await E_(n),t=e.eventManager;return t.onListen=zO.bind(null,e.syncEngine),t.onUnlisten=qO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HO.bind(null,e.syncEngine),t}function iD(n,e,t,s){const o=new w_(s),c=new v_(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>g_(await Bf(n),c))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>y_(await Bf(n),c)))}}function sD(n,e,t={}){const s=new Pr;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,m,v){const w=new w_({next:N=>{w.Nu(),d.enqueueAndForget((()=>y_(c,E)));const R=N.docs.has(_);!R&&N.fromCache?v.reject(new Pe(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&N.fromCache&&m&&m.source==="server"?v.reject(new Pe(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),E=new v_(cm(_.path),w,{includeMetadataChanges:!0,Ka:!0});return g_(c,E)})(await Bf(n),n.asyncQueue,e,t,s))),s.promise}function rD(n,e,t={}){const s=new Pr;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,m,v){const w=new w_({next:N=>{w.Nu(),d.enqueueAndForget((()=>y_(c,E))),N.fromCache&&m.source==="server"?v.reject(new Pe(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),E=new v_(_,w,{includeMetadataChanges:!0,Ka:!0});return g_(c,E)})(await Bf(n),n.asyncQueue,e,t,s))),s.promise}function aD(n,e,t){const s=new Pr;return n.asyncQueue.enqueueAndForget((async()=>{try{const o=await nD(n);s.resolve((async function(d,_,m){const v=We(d),{request:w,gt:E,parent:N}=EL(v.serializer,qM(_),m);v.connection.Ko||delete w.parent;const R=(await v.jo("RunAggregationQuery",v.serializer.databaseId,N,w,1)).filter((U=>!!U.result));At(R.length===1,64727);const k=R[0].result?.aggregateFields;return Object.keys(k).reduce(((U,D)=>(U[E[D]]=k[D],U)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}function oD(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((async()=>FO(await tD(n),e,t))),t.promise}function CT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const lD="ComponentProvider",xw=new Map;function cD(n,e,t,s,o){return new SM(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,CT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const NT="firestore.googleapis.com",ww=!0;class Ew{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=ww}else this.host=e.host,this.ssl=e.ssl??ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OL)throw new Pe(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ew({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ew(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iM;switch(s.type){case"firstParty":return new oM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Pe(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=xw.get(t);s&&(Le(lD,"Removing Datastore"),xw.delete(t),s.terminate())})(this),Promise.resolve()}}function uD(n,e,t,s={}){n=ii(n,vm);const o=Oo(e),c=n._getSettings(),d={...c,emulatorOptions:n._getEmulatorOptions()},_=`${e}:${t}`;o&&(Oy(`https://${_}`),Dy("Firestore",!0)),c.host!==NT&&c.host!==_&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:_,ssl:o,emulatorOptions:s};if(!Pl(m,d)&&(n._setSettings(m),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=ti.MOCK_USER;else{v=x1(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new Pe(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ti(E)}n._authCredentials=new sM(new pE(v,w))}}class Aa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class on{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Dh(t,on._jsonSchema))return new on(e,s||null,new ze(Ut.fromString(t.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:Tn("string",on._jsonSchemaVersion),referencePath:Tn("string")};class Ao extends Aa{constructor(e,t,s){super(e,t,cm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ze(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function wn(n,e,...t){if(n=kt(n),gE("collection","path",e),n instanceof vm){const s=Ut.fromString(e,...t);return kx(s),new Ao(n,null,s)}{if(!(n instanceof on||n instanceof Ao))throw new Pe(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ut.fromString(e,...t));return kx(s),new Ao(n.firestore,null,s)}}function mn(n,e,...t){if(n=kt(n),arguments.length===1&&(e=Wy.newId()),gE("doc","path",e),n instanceof vm){const s=Ut.fromString(e,...t);return Dx(s),new on(n,null,new ze(s))}{if(!(n instanceof on||n instanceof Ao))throw new Pe(ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ut.fromString(e,...t));return Dx(s),new on(n.firestore,n instanceof Ao?n.converter:null,new ze(s))}}const Tw="AsyncQueue";class Sw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hT(this,"async_queue_retry"),this._c=()=>{const s=Ig();s&&Le(Tw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Ig();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ig();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!su(e))throw e;Le(Tw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,xa("INTERNAL UNHANDLED ERROR: ",Aw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=m_.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&$e(47125,{Pc:Aw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Aw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class er extends vm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Sw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sw(e),this._firestoreClient=void 0,await e}}}function hD(n,e){const t=typeof n=="object"?n:Vy(),s=typeof n=="string"?n:Mf,o=tm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=_1("firestore");c&&uD(o,...c)}return o}function ou(n){if(n._terminated)throw new Pe(ve.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dD(n),n._firestoreClient}function dD(n){const e=n._freezeSettings(),t=cD(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new JO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(Gn.fromBase64String(e))}catch(t){throw new Pe(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ps(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dh(e,Ps._jsonSchema))return Ps.fromBase64String(e.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:Tn("string",Ps._jsonSchemaVersion),bytes:Tn("string")};class bm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xm{constructor(e){this._methodName=e}}class Or{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Dh(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Tn("string",Or._jsonSchemaVersion),latitude:Tn("number"),longitude:Tn("number")};class Xs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dh(e,Xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Xs(e.vectorValues);throw new Pe(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xs._jsonSchemaVersion="firestore/vectorValue/1.0",Xs._jsonSchema={type:Tn("string",Xs._jsonSchemaVersion),vectorValues:Tn("object")};const fD=/^__.*__$/;class mD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}class RT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ko(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{dataSource:n})}}class T_{constructor(e,t,s,o,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new T_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(IT(this.dataSource)&&fD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class pD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gm(e)}createContext(e,t,s,o=!1){return new T_({dataSource:e,methodName:t,targetDoc:s,path:Fn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(n){const e=n._freezeSettings(),t=gm(n._databaseId);return new pD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function S_(n,e,t,s,o,c={}){const d=n.createContext(c.merge||c.mergeFields?2:0,e,t,o);C_("Data must be an object, but it was:",d,s);const _=LT(s,d);let m,v;if(c.merge)m=new rs(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const E of c.mergeFields){const N=Vl(e,E,t);if(!d.contains(N))throw new Pe(ve.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);kT(w,N)||w.push(N)}m=new rs(w),v=d.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,v=d.fieldTransforms;return new mD(new mi(_),m,v)}class wm extends xm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}class A_ extends xm{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Sh(e.serializer,qE(e.serializer,this.Vc));return new JM(e.path,t)}isEqual(e){return e instanceof A_&&this.Vc===e.Vc}}function PT(n,e,t,s){const o=n.createContext(1,e,t);C_("Data must be an object, but it was:",o,s);const c=[],d=mi.empty();Do(s,((m,v)=>{const w=DT(e,m,t);v=kt(v);const E=o.childContextForFieldPath(w);if(v instanceof wm)c.push(w);else{const N=Bh(v,E);N!=null&&(c.push(w),d.set(w,N))}}));const _=new rs(c);return new RT(d,_,o.fieldTransforms)}function MT(n,e,t,s,o,c){const d=n.createContext(1,e,t),_=[Vl(e,s,t)],m=[o];if(c.length%2!=0)throw new Pe(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)_.push(Vl(e,c[N])),m.push(c[N+1]);const v=[],w=mi.empty();for(let N=_.length-1;N>=0;--N)if(!kT(v,_[N])){const R=_[N];let k=m[N];k=kt(k);const U=d.childContextForFieldPath(R);if(k instanceof wm)v.push(R);else{const D=Bh(k,U);D!=null&&(v.push(R),w.set(R,D))}}const E=new rs(v);return new RT(w,E,d.fieldTransforms)}function gD(n,e,t,s=!1){return Bh(t,n.createContext(s?4:3,e))}function Bh(n,e){if(OT(n=kt(n)))return C_("Unsupported field value:",e,n),LT(n,e);if(n instanceof xm)return(function(s,o){if(!IT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const _ of s){let m=Bh(_,o.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qE(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Gt.fromDate(s);return{timestampValue:jf(o.serializer,c)}}if(s instanceof Gt){const c=new Gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jf(o.serializer,c)}}if(s instanceof Or)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ps)return{bytesValue:XE(o.serializer,s._byteString)};if(s instanceof on){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:r_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Xs)return(function(d,_){const m=d instanceof Xs?d.toArray():d;return{mapValue:{fields:{[SE]:{stringValue:AE},[Lf]:{arrayValue:{values:m.map((w=>{if(typeof w!="number")throw _.createError("VectorValues must only contain numeric values.");return n_(_.serializer,w)}))}}}}}})(s,o);if(aT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${rm(s)}`)})(n,e)}function LT(n,e){const t={};return vE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(n,((s,o)=>{const c=Bh(o,e.childContextForField(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function OT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Gt||n instanceof Or||n instanceof Ps||n instanceof on||n instanceof xm||n instanceof Xs||aT(n))}function C_(n,e,t){if(!OT(t)||!yE(t)){const s=rm(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Vl(n,e,t){if((e=kt(e))instanceof bm)return e._internalPath;if(typeof e=="string")return DT(n,e);throw qf("Field path arguments must be of type string or ",n,!1,void 0,t)}const yD=new RegExp("[~\\*/\\[\\]]");function DT(n,e,t){if(e.search(yD)>=0)throw qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bm(...e.split("."))._internalPath}catch{throw qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qf(n,e,t,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new Pe(ve.INVALID_ARGUMENT,_+n+m)}function kT(n,e){return n.some((t=>t.isEqual(e)))}class _D{convertValue(e,t="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Do(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Lf].arrayValue?.values?.map((s=>fn(s.doubleValue)));return new Xs(t)}convertGeoPoint(e){return new Or(fn(e.latitude),fn(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=lm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new Gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ut.fromString(e);At(rT(s),9688,{name:e});const o=new bh(s.get(1),s.get(3)),c=new ze(s.popFirst(5));return o.isEqual(t)||xa(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Em extends _D{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function vD(n){return new A_("increment",n)}const Cw="@firebase/firestore",Nw="4.11.0";function Rw(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class bD{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class xD{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new mi({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class jT{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Vl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wD extends jT{data(){return super.data()}}function VT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N_{}class R_ extends N_{}function Is(n,e,...t){let s=[];e instanceof N_&&s.push(e),s=s.concat(t),(function(c){const d=c.filter((m=>m instanceof I_)).length,_=c.filter((m=>m instanceof Tm)).length;if(d>1||d>0&&_>0)throw new Pe(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Tm extends R_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Tm(e,t,s)}_apply(e){const t=this._parse(e);return UT(e._query,t),new Aa(e.firestore,e.converter,ly(e._query,t))}_parse(e){const t=Uh(e.firestore);return(function(c,d,_,m,v,w,E){let N;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Pe(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Pw(E,w);const k=[];for(const U of E)k.push(Iw(m,c,U));N={arrayValue:{values:k}}}else N=Iw(m,c,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Pw(E,w),N=gD(_,d,E,w==="in"||w==="not-in");return En.create(v,w,N)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function da(n,e,t){const s=e,o=Vl("where",n);return Tm._create(o,s,t)}class I_ extends N_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Js.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let d=o;const _=c.getFlattenedFilters();for(const m of _)UT(d,m),d=ly(d,m)})(e._query,t),new Aa(e.firestore,e.converter,ly(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P_ extends R_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new P_(e,t)}_apply(e){const t=(function(o,c,d){if(o.startAt!==null)throw new Pe(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Pe(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wh(c,d)})(e._query,this._field,this._direction);return new Aa(e.firestore,e.converter,HM(e._query,t))}}function zT(n,e="asc"){const t=e,s=Vl("orderBy",n);return P_._create(s,t)}class M_ extends R_{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new M_(e,t,s)}_apply(e){return new Aa(e.firestore,e.converter,Df(e._query,this._limit,this._limitType))}}function ED(n){return M_._create("limit",n,"F")}function Iw(n,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new Pe(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OE(e)&&t.indexOf("/")!==-1)throw new Pe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ut.fromString(t));if(!ze.isDocumentKey(s))throw new Pe(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fx(n,new ze(s))}if(t instanceof on)return Fx(n,t._key);throw new Pe(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rm(t)}.`)}function Pw(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UT(n,e){const t=(function(o,c){for(const d of o)for(const _ of d.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Pe(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function L_(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}function TD(){return new bD("count")}function Mw(n){return SD(n,{count:TD()})}function SD(n,e){const t=ii(n.firestore,er),s=ou(t),o=EM(e,((c,d)=>new oL(d,c.aggregateType,c._internalFieldPath)));return aD(s,n._query,o).then((c=>(function(_,m,v){const w=new Em(_);return new xD(m,w,v)})(t,n,c)))}class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cl extends jT{constructor(e,t,s,o,c,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Cl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cl._jsonSchema={type:Tn("string",Cl._jsonSchemaVersion),bundleSource:Tn("string","DocumentSnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class _f extends Cl{data(e={}){return super.data(e)}}class Nl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new sh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new _f(this._firestore,this._userDataWriter,s.key,s,new sh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const m=new _f(o._firestore,o._userDataWriter,_.doc.key,_.doc,new sh(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const m=new _f(o._firestore,o._userDataWriter,_.doc.key,_.doc,new sh(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return _.type!==0&&(v=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),w=d.indexOf(_.doc.key)),{type:AD(_.type),doc:m,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Tn("string",Nl._jsonSchemaVersion),bundleSource:Tn("string","QuerySnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class CD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Uh(e)}set(e,t,s){this._verifyNotCommitted();const o=Mg(e,this._firestore),c=L_(o.converter,t,s),d=S_(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,pi.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const c=Mg(e,this._firestore);let d;return d=typeof(t=kt(t))=="string"||t instanceof bm?MT(this._dataReader,"WriteBatch.update",c._key,t,s,o):PT(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mg(e,this._firestore);return this._mutations=this._mutations.concat(new mm(t._key,pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mg(n,e){if((n=kt(n)).firestore!==e)throw new Pe(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Rl(n){n=ii(n,on);const e=ii(n.firestore,er),t=ou(e);return sD(t,n._key).then((s=>BT(e,n,s)))}function Ks(n){n=ii(n,Aa);const e=ii(n.firestore,er),t=ou(e),s=new Em(e);return VT(n._query),rD(t,n._query).then((o=>new Nl(e,s,n,o)))}function Lg(n,e,t){n=ii(n,on);const s=ii(n.firestore,er),o=L_(n.converter,e,t),c=Uh(s);return qh(s,[S_(c,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,pi.none())])}function mo(n,e,t,...s){n=ii(n,on);const o=ii(n.firestore,er),c=Uh(o);let d;return d=typeof(e=kt(e))=="string"||e instanceof bm?MT(c,"updateDoc",n._key,e,t,s):PT(c,"updateDoc",n._key,e),qh(o,[d.toMutation(n._key,pi.exists(!0))])}function _y(n){return qh(ii(n.firestore,er),[new mm(n._key,pi.none())])}function qc(n,e){const t=ii(n.firestore,er),s=mn(n),o=L_(n.converter,e),c=Uh(n.firestore);return qh(t,[S_(c,"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,pi.exists(!1))]).then((()=>s))}function ND(n,...e){n=kt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Rw(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Rw(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let c,d,_;if(n instanceof on)d=ii(n.firestore,er),_=cm(n._key.path),c={next:v=>{e[s]&&e[s](BT(d,n,v))},error:e[s+1],complete:e[s+2]};else{const v=ii(n,Aa);d=ii(v.firestore,er),_=v._query;const w=new Em(d);c={next:E=>{e[s]&&e[s](new Nl(d,w,v,E))},error:e[s+1],complete:e[s+2]},VT(n._query)}const m=ou(d);return iD(m,_,o,c)}function qh(n,e){const t=ou(n);return oD(t,e)}function BT(n,e,t){const s=t.docs.get(e._key),o=new Em(n);return new Cl(n,o,e._key,s,new sh(t.hasPendingWrites,t.fromCache),e.converter)}function RD(n){return n=ii(n,er),ou(n),new CD(n,(e=>qh(n,e)))}(function(e,t=!0){nM(ql),Ml(new Co("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),_=new er(new rM(s.getProvider("auth-internal")),new lM(d,s.getProvider("app-check-internal")),AM(d,o),d);return c={useFetchStreams:t,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),Nr(Cw,Nw,e),Nr(Cw,Nw,"esm2020")})();const qT="firebasestorage.googleapis.com",HT="storageBucket",ID=120*1e3,PD=600*1e3;class cn extends jr{constructor(e,t,s=0){super(Og(e),`Firebase Storage: ${t} (${Og(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function Og(n){return"storage/"+n}function O_(){const n="An unknown error occurred, please check the error payload for server response.";return new cn(ln.UNKNOWN,n)}function MD(n){return new cn(ln.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function LD(n){return new cn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(ln.UNAUTHENTICATED,n)}function DD(){return new cn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kD(n){return new cn(ln.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function jD(){return new cn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VD(){return new cn(ln.CANCELED,"User canceled the upload/download.")}function zD(n){return new cn(ln.INVALID_URL,"Invalid URL '"+n+"'.")}function UD(n){return new cn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function BD(){return new cn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HT+"' property when initializing the app?")}function qD(){return new cn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HD(){return new cn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FD(n){return new cn(ln.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vy(n){return new cn(ln.INVALID_ARGUMENT,n)}function FT(){return new cn(ln.APP_DELETED,"The Firebase app was deleted.")}function GD(n){return new cn(ln.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fh(n,e){return new cn(ln.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Qu(n){throw new cn(ln.INTERNAL_ERROR,"Internal error: "+n)}class as{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=as.makeFromUrl(e,t)}catch{return new as(e,"")}if(s.path==="")return s;throw UD(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const d="(/(.*))?$",_=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function v(J){J.path_=decodeURIComponent(J.path)}const w="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${w}/b/${o}/o${N}`,"i"),k={bucket:1,path:3},U=t===qT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",O=new RegExp(`^https?://${U}/${o}/${D}`,"i"),$=[{regex:_,indices:m,postModify:c},{regex:R,indices:k,postModify:v},{regex:O,indices:{bucket:1,path:2},postModify:v}];for(let J=0;J<$.length;J++){const te=$[J],me=te.regex.exec(e);if(me){const V=me[te.indices.bucket];let I=me[te.indices.path];I||(I=""),s=new as(V,I),te.postModify(s);break}}if(s==null)throw zD(e);return s}}class ZD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $D(n,e,t){let s=1,o=null,c=null,d=!1,_=0;function m(){return _===2}let v=!1;function w(...D){v||(v=!0,e.apply(null,D))}function E(D){o=setTimeout(()=>{o=null,n(R,m())},D)}function N(){c&&clearTimeout(c)}function R(D,...O){if(v){N();return}if(D){N(),w.call(null,D,...O);return}if(m()||d){N(),w.call(null,D,...O);return}s<64&&(s*=2);let $;_===1?(_=2,$=0):$=(s+Math.random())*1e3,E($)}let k=!1;function U(D){k||(k=!0,N(),!v&&(o!==null?(D||(_=2),clearTimeout(o),E(0)):D||(_=1)))}return E(0),c=setTimeout(()=>{d=!0,U(!0)},t),U}function YD(n){n(!1)}function KD(n){return n!==void 0}function WD(n){return typeof n=="object"&&!Array.isArray(n)}function D_(n){return typeof n=="string"||n instanceof String}function Lw(n){return k_()&&n instanceof Blob}function k_(){return typeof Blob<"u"}function Ow(n,e,t,s){if(s<e)throw vy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw vy(`Invalid value for '${n}'. Expected ${t} or less.`)}function j_(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function GT(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Il;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Il||(Il={}));function QD(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}class XD{constructor(e,t,s,o,c,d,_,m,v,w,E,N=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=_,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=E,this.retry=N,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,U)=>{this.resolve_=k,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nf(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=_=>{const m=_.loaded,v=_.lengthComputable?_.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const _=c.getErrorCode()===Il.NO_ERROR,m=c.getStatus();if(!_||QD(m,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Il.ABORT;s(!1,new nf(!1,null,w));return}const v=this.successCodes_.indexOf(m)!==-1;s(!0,new nf(v,c))})},t=(s,o)=>{const c=this.resolve_,d=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(_,_.getResponse());KD(m)?c(m):c()}catch(m){d(m)}else if(_!==null){const m=O_();m.serverResponse=_.getErrorText(),this.errorCallback_?d(this.errorCallback_(_,m)):d(m)}else if(o.canceled){const m=this.appDelete_?FT():VD();d(m)}else{const m=jD();d(m)}};this.canceled_?t(!1,new nf(!1,null,!0)):this.backoffId_=$D(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nf{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function JD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function ek(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tk(n,e){e&&(n["X-Firebase-GMPID"]=e)}function nk(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ik(n,e,t,s,o,c,d=!0,_=!1){const m=GT(n.urlParams),v=n.url+m,w=Object.assign({},n.headers);return tk(w,e),JD(w,t),ek(w,c),nk(w,s),new XD(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,d,_)}function sk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rk(...n){const e=sk();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(k_())return new Blob(n);throw new cn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ak(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function ok(n){if(typeof atob>"u")throw FD("base-64");return atob(n)}const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dg{constructor(e,t){this.data=e,this.contentType=t||null}}function lk(n,e){switch(n){case Sr.RAW:return new Dg(ZT(e));case Sr.BASE64:case Sr.BASE64URL:return new Dg($T(n,e));case Sr.DATA_URL:return new Dg(uk(e),hk(e))}throw O_()}function ZT(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=s,d=n.charCodeAt(++t);s=65536|(c&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function ck(n){let e;try{e=decodeURIComponent(n)}catch{throw fh(Sr.DATA_URL,"Malformed data URL.")}return ZT(e)}function $T(n,e){switch(n){case Sr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw fh(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw fh(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=ok(e)}catch(o){throw o.message.includes("polyfill")?o:fh(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class YT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw fh(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=dk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function uk(n){const e=new YT(n);return e.base64?$T(Sr.BASE64,e.rest):ck(e.rest)}function hk(n){return new YT(n).contentType}function dk(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class vo{constructor(e,t){let s=0,o="";Lw(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Lw(this.data_)){const s=this.data_,o=ak(s,e,t);return o===null?null:new vo(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new vo(s,!0)}}static getBlob(...e){if(k_()){const t=e.map(s=>s instanceof vo?s.data_:s);return new vo(rk.apply(null,t))}else{const t=e.map(d=>D_(d)?lk(Sr.RAW,d).data:d.data_);let s=0;t.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return t.forEach(d=>{for(let _=0;_<d.length;_++)o[c++]=d[_]}),new vo(o,!0)}}uploadData(){return this.data_}}function KT(n){let e;try{e=JSON.parse(n)}catch{return null}return WD(e)?e:null}function fk(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function mk(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function WT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function pk(n,e){return e}class di{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||pk}}let sf=null;function gk(n){return!D_(n)||n.length<2?n:WT(n)}function QT(){if(sf)return sf;const n=[];n.push(new di("bucket")),n.push(new di("generation")),n.push(new di("metageneration")),n.push(new di("name","fullPath",!0));function e(c,d){return gk(d)}const t=new di("name");t.xform=e,n.push(t);function s(c,d){return d!==void 0?Number(d):d}const o=new di("size");return o.xform=s,n.push(o),n.push(new di("timeCreated")),n.push(new di("updated")),n.push(new di("md5Hash",null,!0)),n.push(new di("cacheControl",null,!0)),n.push(new di("contentDisposition",null,!0)),n.push(new di("contentEncoding",null,!0)),n.push(new di("contentLanguage",null,!0)),n.push(new di("contentType",null,!0)),n.push(new di("metadata","customMetadata",!0)),sf=n,sf}function yk(n,e){function t(){const s=n.bucket,o=n.fullPath,c=new as(s,o);return e._makeStorageReference(c)}Object.defineProperty(n,"ref",{get:t})}function _k(n,e,t){const s={};s.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];s[d.local]=d.xform(s,e[d.server])}return yk(s,n),s}function XT(n,e,t){const s=KT(e);return s===null?null:_k(n,s,t)}function vk(n,e,t,s){const o=KT(e);if(o===null||!D_(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(v=>{const w=n.bucket,E=n.fullPath,N="/b/"+d(w)+"/o/"+d(E),R=j_(N,t,s),k=GT({alt:"media",token:v});return R+k})[0]}function bk(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}class JT{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function eS(n){if(!n)throw O_()}function xk(n,e){function t(s,o){const c=XT(n,o,e);return eS(c!==null),c}return t}function wk(n,e){function t(s,o){const c=XT(n,o,e);return eS(c!==null),vk(c,o,n.host,n._protocol)}return t}function tS(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=DD():o=OD():t.getStatus()===402?o=LD(n.bucket):t.getStatus()===403?o=kD(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Ek(n){const e=tS(n);function t(s,o){let c=e(s,o);return s.getStatus()===404&&(c=MD(n.path)),c.serverResponse=o.serverResponse,c}return t}function Tk(n,e,t){const s=e.fullServerUrl(),o=j_(s,n.host,n._protocol),c="GET",d=n.maxOperationRetryTime,_=new JT(o,c,wk(n,t),d);return _.errorHandler=Ek(e),_}function Sk(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Ak(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=Sk(null,e)),s}function Ck(n,e,t,s,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function _(){let $="";for(let J=0;J<2;J++)$=$+Math.random().toString().slice(2);return $}const m=_();d["Content-Type"]="multipart/related; boundary="+m;const v=Ak(e,s,o),w=bk(v,t),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+v.contentType+`\r
\r
`,N=`\r
--`+m+"--",R=vo.getBlob(E,s,N);if(R===null)throw qD();const k={name:v.fullPath},U=j_(c,n.host,n._protocol),D="POST",O=n.maxUploadRetryTime,q=new JT(U,D,xk(n,t),O);return q.urlParams=k,q.headers=d,q.body=R.uploadData(),q.errorHandler=tS(e),q}class Nk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Il.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Il.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Il.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,c){if(this.sent_)throw Qu("cannot .send() more than once");if(Oo(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Rk extends Nk{initXhr(){this.xhr_.responseType="text"}}function nS(){return new Rk}class zl{constructor(e,t){this._service=e,t instanceof as?this._location=t:this._location=as.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zl(e,t)}get root(){const e=new as(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WT(this._location.path)}get storage(){return this._service}get parent(){const e=fk(this._location.path);if(e===null)return null;const t=new as(this._location.bucket,e);return new zl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw GD(e)}}function Ik(n,e,t){n._throwIfRoot("uploadBytes");const s=Ck(n.storage,n._location,QT(),new vo(e,!0),t);return n.storage.makeRequestWithTokens(s,nS).then(o=>({metadata:o,ref:n}))}function Pk(n){n._throwIfRoot("getDownloadURL");const e=Tk(n.storage,n._location,QT());return n.storage.makeRequestWithTokens(e,nS).then(t=>{if(t===null)throw HD();return t})}function Mk(n,e){const t=mk(n._location.path,e),s=new as(n._location.bucket,t);return new zl(n.storage,s)}function Lk(n){return/^[A-Za-z]+:\/\//.test(n)}function Ok(n,e){return new zl(n,e)}function iS(n,e){if(n instanceof V_){const t=n;if(t._bucket==null)throw BD();const s=new zl(t,t._bucket);return e!=null?iS(s,e):s}else return e!==void 0?Mk(n,e):n}function Dk(n,e){if(e&&Lk(e)){if(n instanceof V_)return Ok(n,e);throw vy("To use ref(service, url), the first argument must be a Storage instance.")}else return iS(n,e)}function Dw(n,e){const t=e?.[HT];return t==null?null:as.makeFromBucketSpec(t,n)}function kk(n,e,t,s={}){n.host=`${e}:${t}`;const o=Oo(e);o&&(Oy(`https://${n.host}/b`),Dy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:x1(c,n.app.options.projectId))}class V_{constructor(e,t,s,o,c,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=qT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ID,this._maxUploadRetryTime=PD,this._requests=new Set,o!=null?this._bucket=as.makeFromBucketSpec(o,this._host):this._bucket=Dw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=as.makeFromBucketSpec(this._url,e):this._bucket=Dw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zl(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new ZD(FT());{const d=ik(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const kw="@firebase/storage",jw="0.14.0";const sS="storage";function jk(n,e,t){return n=kt(n),Ik(n,e,t)}function Vk(n){return n=kt(n),Pk(n)}function zk(n,e){return n=kt(n),Dk(n,e)}function Uk(n=Vy(),e){n=kt(n);const s=tm(n,sS).getImmediate({identifier:e}),o=_1("storage");return o&&Bk(s,...o),s}function Bk(n,e,t,s={}){kk(n,e,t,s)}function qk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new V_(t,s,o,e,ql)}function Hk(){Ml(new Co(sS,qk,"PUBLIC").setMultipleInstances(!0)),Nr(kw,jw,""),Nr(kw,jw,"esm2020")}Hk();const Fk={apiKey:"AIzaSyDhATfuTR03Z0MDHK6LdVtePzvnOlw2RYs",authDomain:"inmobiliaria-89dca.firebaseapp.com",projectId:"inmobiliaria-89dca",storageBucket:"inmobiliaria-89dca.firebasestorage.app",messagingSenderId:"264339137867",appId:"1:264339137867:web:721f347d175208451c34ce",measurementId:"G-71P9DV29GB"},z_=T1(Fk),El=eM(z_),nt=hD(z_),Gk=Uk(z_),Zk=new fa,$k=new lh("apple.com");let Yk={data:""},Kk=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||Yk},Wk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qk=/\/\*[^]*?\*\/|  +/g,Vw=/\n+/g,bo=(n,e)=>{let t="",s="",o="";for(let c in n){let d=n[c];c[0]=="@"?c[1]=="i"?t=c+" "+d+";":s+=c[1]=="f"?bo(d,c):c+"{"+bo(d,c[1]=="k"?"":e)+"}":typeof d=="object"?s+=bo(d,e?e.replace(/([^,])+/g,_=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,_):_?_+" "+m:m)):c):d!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=bo.p?bo.p(c,d):c+":"+d+";")}return t+(e&&o?e+"{"+o+"}":o)+s},ua={},rS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+rS(n[t]);return e}return n},Xk=(n,e,t,s,o)=>{let c=rS(n),d=ua[c]||(ua[c]=(m=>{let v=0,w=11;for(;v<m.length;)w=101*w+m.charCodeAt(v++)>>>0;return"go"+w})(c));if(!ua[d]){let m=c!==n?n:(v=>{let w,E,N=[{}];for(;w=Wk.exec(v.replace(Qk,""));)w[4]?N.shift():w[3]?(E=w[3].replace(Vw," ").trim(),N.unshift(N[0][E]=N[0][E]||{})):N[0][w[1]]=w[2].replace(Vw," ").trim();return N[0]})(n);ua[d]=bo(o?{["@keyframes "+d]:m}:m,t?"":"."+d)}let _=t&&ua.g?ua.g:null;return t&&(ua.g=ua[d]),((m,v,w,E)=>{E?v.data=v.data.replace(E,m):v.data.indexOf(m)===-1&&(v.data=w?m+v.data:v.data+m)})(ua[d],e,s,_),d},Jk=(n,e,t)=>n.reduce((s,o,c)=>{let d=e[c];if(d&&d.call){let _=d(t),m=_&&_.props&&_.props.className||/^go/.test(_)&&_;d=m?"."+m:_&&typeof _=="object"?_.props?"":bo(_,""):_===!1?"":_}return s+o+(d??"")},"");function Sm(n){let e=this||{},t=n.call?n(e.p):n;return Xk(t.unshift?t.raw?Jk(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,Kk(e.target),e.g,e.o,e.k)}let aS,by,xy;Sm.bind({g:1});let Ea=Sm.bind({k:1});function e5(n,e,t,s){bo.p=e,aS=n,by=t,xy=s}function jo(n,e){let t=this||{};return function(){let s=arguments;function o(c,d){let _=Object.assign({},c),m=_.className||o.className;t.p=Object.assign({theme:by&&by()},_),t.o=/ *go\d+/.test(m),_.className=Sm.apply(t,s)+(m?" "+m:"");let v=n;return n[0]&&(v=_.as||n,delete _.as),xy&&v[0]&&xy(_),aS(v,_)}return o}}var t5=n=>typeof n=="function",Hf=(n,e)=>t5(n)?n(e):n,n5=(()=>{let n=0;return()=>(++n).toString()})(),oS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),i5=20,U_="default",lS=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(d=>d.id===e.toast.id?{...d,...e.toast}:d)};case 2:let{toast:s}=e;return lS(n,{type:n.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(d=>d.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let c=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+c}))}}},vf=[],cS={toasts:[],pausedAt:void 0,settings:{toastLimit:i5}},Ar={},uS=(n,e=U_)=>{Ar[e]=lS(Ar[e]||cS,n),vf.forEach(([t,s])=>{t===e&&s(Ar[e])})},hS=n=>Object.keys(Ar).forEach(e=>uS(n,e)),s5=n=>Object.keys(Ar).find(e=>Ar[e].toasts.some(t=>t.id===n)),Am=(n=U_)=>e=>{uS(e,n)},r5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},a5=(n={},e=U_)=>{let[t,s]=B.useState(Ar[e]||cS),o=B.useRef(Ar[e]);B.useEffect(()=>(o.current!==Ar[e]&&s(Ar[e]),vf.push([e,s]),()=>{let d=vf.findIndex(([_])=>_===e);d>-1&&vf.splice(d,1)}),[e]);let c=t.toasts.map(d=>{var _,m,v;return{...n,...n[d.type],...d,removeDelay:d.removeDelay||((_=n[d.type])==null?void 0:_.removeDelay)||n?.removeDelay,duration:d.duration||((m=n[d.type])==null?void 0:m.duration)||n?.duration||r5[d.type],style:{...n.style,...(v=n[d.type])==null?void 0:v.style,...d.style}}});return{...t,toasts:c}},o5=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||n5()}),Hh=n=>(e,t)=>{let s=o5(e,n,t);return Am(s.toasterId||s5(s.id))({type:2,toast:s}),s.id},Cn=(n,e)=>Hh("blank")(n,e);Cn.error=Hh("error");Cn.success=Hh("success");Cn.loading=Hh("loading");Cn.custom=Hh("custom");Cn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Am(e)(t):hS(t)};Cn.dismissAll=n=>Cn.dismiss(void 0,n);Cn.remove=(n,e)=>{let t={type:4,toastId:n};e?Am(e)(t):hS(t)};Cn.removeAll=n=>Cn.remove(void 0,n);Cn.promise=(n,e,t)=>{let s=Cn.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?Hf(e.success,o):void 0;return c?Cn.success(c,{id:s,...t,...t?.success}):Cn.dismiss(s),o}).catch(o=>{let c=e.error?Hf(e.error,o):void 0;c?Cn.error(c,{id:s,...t,...t?.error}):Cn.dismiss(s)}),n};var l5=1e3,c5=(n,e="default")=>{let{toasts:t,pausedAt:s}=a5(n,e),o=B.useRef(new Map).current,c=B.useCallback((E,N=l5)=>{if(o.has(E))return;let R=setTimeout(()=>{o.delete(E),d({type:4,toastId:E})},N);o.set(E,R)},[]);B.useEffect(()=>{if(s)return;let E=Date.now(),N=t.map(R=>{if(R.duration===1/0)return;let k=(R.duration||0)+R.pauseDuration-(E-R.createdAt);if(k<0){R.visible&&Cn.dismiss(R.id);return}return setTimeout(()=>Cn.dismiss(R.id,e),k)});return()=>{N.forEach(R=>R&&clearTimeout(R))}},[t,s,e]);let d=B.useCallback(Am(e),[e]),_=B.useCallback(()=>{d({type:5,time:Date.now()})},[d]),m=B.useCallback((E,N)=>{d({type:1,toast:{id:E,height:N}})},[d]),v=B.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),w=B.useCallback((E,N)=>{let{reverseOrder:R=!1,gutter:k=8,defaultPosition:U}=N||{},D=t.filter($=>($.position||U)===(E.position||U)&&$.height),O=D.findIndex($=>$.id===E.id),q=D.filter(($,J)=>J<O&&$.visible).length;return D.filter($=>$.visible).slice(...R?[q+1]:[0,q]).reduce(($,J)=>$+(J.height||0)+k,0)},[t]);return B.useEffect(()=>{t.forEach(E=>{if(E.dismissed)c(E.id,E.removeDelay);else{let N=o.get(E.id);N&&(clearTimeout(N),o.delete(E.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:m,startPause:_,endPause:v,calculateOffset:w}}},u5=Ea`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,h5=Ea`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,d5=Ea`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,f5=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${u5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${h5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${d5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,m5=Ea`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,p5=jo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${m5} 1s linear infinite;
`,g5=Ea`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,y5=Ea`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_5=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${g5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${y5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,v5=jo("div")`
  position: absolute;
`,b5=jo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,x5=Ea`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w5=jo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${x5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,E5=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?B.createElement(w5,null,e):e:t==="blank"?null:B.createElement(b5,null,B.createElement(p5,{...s}),t!=="loading"&&B.createElement(v5,null,t==="error"?B.createElement(f5,{...s}):B.createElement(_5,{...s})))},T5=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,S5=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,A5="0%{opacity:0;} 100%{opacity:1;}",C5="0%{opacity:1;} 100%{opacity:0;}",N5=jo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,R5=jo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,I5=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=oS()?[A5,C5]:[T5(t),S5(t)];return{animation:e?`${Ea(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ea(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},P5=B.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?I5(n.position||e||"top-center",n.visible):{opacity:0},c=B.createElement(E5,{toast:n}),d=B.createElement(R5,{...n.ariaProps},Hf(n.message,n));return B.createElement(N5,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:c,message:d}):B.createElement(B.Fragment,null,c,d))});e5(B.createElement);var M5=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=B.useCallback(d=>{if(d){let _=()=>{let m=d.getBoundingClientRect().height;s(n,m)};_(),new MutationObserver(_).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return B.createElement("div",{ref:c,className:e,style:t},o)},L5=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:oS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},O5=Sm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,rf=16,D5=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:d,containerClassName:_})=>{let{toasts:m,handlers:v}=c5(t,c);return B.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:rf,left:rf,right:rf,bottom:rf,pointerEvents:"none",...d},className:_,onMouseEnter:v.startPause,onMouseLeave:v.endPause},m.map(w=>{let E=w.position||e,N=v.calculateOffset(w,{reverseOrder:n,gutter:s,defaultPosition:e}),R=L5(E,N);return B.createElement(M5,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?O5:"",style:R},w.type==="custom"?Hf(w.message,w):o?o(w):B.createElement(P5,{toast:w,position:E}))}))},Ge=Cn;const dS=B.createContext();function Vo(){return B.useContext(dS)}function k5({children:n}){const[e,t]=B.useState(null),[s,o]=B.useState(null),[c,d]=B.useState(!0),_=async(U,D,O="cliente",q="",$="")=>{try{const J=await kI(El,U,D);return await K1(J.user,{displayName:q}),await Lg(mn(nt,"users",J.user.uid),{email:U,role:O,displayName:q,phoneNumber:$,createdAt:new Date}),J}catch(J){throw console.error("Signup error",J),R(J)}},m=(U,D)=>jI(El,U,D).catch(O=>{throw R(O)}),v=async(U="cliente")=>{try{const D=await Tx(El,Zk);return(await Rl(mn(nt,"users",D.user.uid))).exists()||await Lg(mn(nt,"users",D.user.uid),{email:D.user.email,displayName:D.user.displayName,phoneNumber:D.user.phoneNumber||"",role:U,createdAt:new Date}),D}catch(D){throw R(D)}},w=async(U="cliente")=>{try{const D=await Tx(El,$k);return(await Rl(mn(nt,"users",D.user.uid))).exists()||await Lg(mn(nt,"users",D.user.uid),{email:D.user.email,displayName:D.user.displayName,phoneNumber:D.user.phoneNumber||"",role:U,createdAt:new Date}),D}catch(D){throw R(D)}},E=()=>FI(El),N=U=>DI(El,U).catch(D=>{throw R(D)}),R=U=>{let D="Ocurri un error inesperado. Por favor intenta de nuevo.";return U.code==="auth/email-already-in-use"&&(D="Este correo ya est registrado."),U.code==="auth/invalid-email"&&(D="El correo no es vlido."),U.code==="auth/user-not-found"&&(D="No encontramos una cuenta con este correo."),U.code==="auth/wrong-password"&&(D="La contrasea es incorrecta."),U.code==="auth/weak-password"&&(D="La contrasea debe tener al menos 6 caracteres."),new Error(D)};B.useEffect(()=>HI(El,async D=>{if(t(D),D){const O=await Rl(mn(nt,"users",D.uid));O.exists()&&o(O.data())}else o(null);d(!1)}),[]);const k={user:e,userData:s,signup:_,login:m,loginWithGoogle:v,loginWithApple:w,logout:E,resetPassword:N};return p.jsxs(dS.Provider,{value:k,children:[!c&&n,p.jsx(D5,{position:"top-center"})]})}const kg=({children:n,allowedRoles:e})=>{const{user:t,userData:s,loading:o}=Vo();return o?p.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?e&&s&&!e.includes(s.role)?s.role==="agente"?p.jsx(_g,{to:"/agent-dashboard"}):p.jsx(_g,{to:"/client-dashboard"}):n:p.jsx(_g,{to:"/login"})};const fS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const j5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const V5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const zw=n=>{const e=V5(n);return e.charAt(0).toUpperCase()+e.slice(1)};var z5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const B5=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,..._},m)=>B.createElement("svg",{ref:m,...z5,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:fS("lucide",o),...!c&&!U5(_)&&{"aria-hidden":"true"},..._},[...d.map(([v,w])=>B.createElement(v,w)),...Array.isArray(c)?c:[c]]));const Ze=(n,e)=>{const t=B.forwardRef(({className:s,...o},c)=>B.createElement(B5,{ref:c,iconNode:e,className:fS(`lucide-${j5(zw(n))}`,`lucide-${n}`,s),...o}));return t.displayName=zw(n),t};const q5=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],H5=Ze("armchair",q5);const F5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],G5=Ze("arrow-left",F5);const Z5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$5=Ze("arrow-right",Z5);const Y5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],K5=Ze("arrow-up-down",Y5);const W5=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],Q5=Ze("arrow-up-from-line",W5);const X5=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],J5=Ze("bath",X5);const e4=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],t4=Ze("bed-double",e4);const n4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],i4=Ze("briefcase",n4);const s4=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],r4=Ze("building-2",s4);const a4=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],o4=Ze("building",a4);const l4=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],c4=Ze("car",l4);const u4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],h4=Ze("circle-user",u4);const d4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],f4=Ze("clock",d4);const m4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],p4=Ze("copy",m4);const g4=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],y4=Ze("dumbbell",g4);const _4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ff=Ze("eye",_4);const v4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],b4=Ze("facebook",v4);const x4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],w4=Ze("file-text",x4);const E4=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],T4=Ze("heart-handshake",E4);const S4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Gf=Ze("heart",S4);const A4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mS=Ze("house",A4);const C4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],N4=Ze("instagram",C4);const R4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zf=Ze("key",R4);const I4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],P4=Ze("layers",I4);const M4=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],L4=Ze("lightbulb",M4);const O4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],D4=Ze("linkedin",O4);const k4=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],j4=Ze("list-filter",k4);const V4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ah=Ze("loader-circle",V4);const z4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],U4=Ze("lock",z4);const B4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pS=Ze("mail",B4);const q4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dr=Ze("map-pin",q4);const H4=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],F4=Ze("maximize",H4);const G4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Z4=Ze("message-circle",G4);const $4=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],Y4=Ze("mountain",$4);const K4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gS=Ze("phone",K4);const W4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jg=Ze("refresh-cw",W4);const Q4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kc=Ze("search",Q4);const X4=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],J4=Ze("share",X4);const ej=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yS=Ze("shield-check",ej);const tj=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],nj=Ze("sliders-horizontal",tj);const ij=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sj=Ze("star",ij);const rj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],aj=Ze("target",rj);const oj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_S=Ze("trash-2",oj);const lj=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],cj=Ze("tree-palm",lj);const uj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hj=Ze("upload",uj);const dj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vS=Ze("user",dj);const fj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bS=Ze("users",fj);const mj=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],pj=Ze("warehouse",mj);const gj=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],xS=Ze("waves",gj);const yj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wc=Ze("x",yj),wS=({property:n})=>{const[t,s]=B.useState(0),[o,c]=B.useState(!1),d=n.currency||"USD",_=typeof n.price=="number"?n.price:parseFloat(n.price);let m,v;d==="USD"?(m=_,v=_*3.75):(v=_,m=_/3.75);const w=(N,R)=>N?N.toLocaleString("en-US",{style:"currency",currency:R,maximumFractionDigits:0}):"0";B.useEffect(()=>{let N;return o&&n.images&&n.images.length>1?N=setInterval(()=>{s(R=>(R+1)%n.images.length)},1e3):s(0),()=>clearInterval(N)},[o,n.images]);const E=n.images?.[t]||n.images?.[0]||"https://placehold.co/400x300/e2e8f0/94a3b8?text=Sin+Imagen";return p.jsxs(an,{to:`/properties/${n.id}`,className:"group block relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[p.jsxs("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[p.jsx("img",{src:E,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),n.isPromoted&&p.jsx("div",{className:"absolute top-3 left-3 bg-[#fc7f51] text-white px-2 py-1 rounded-md text-xs font-bold shadow-md z-10",children:"DESTACADO"}),p.jsx("button",{className:"absolute top-3 right-3 text-white/70 hover:scale-110 transition z-10",children:p.jsx(Gf,{className:"w-6 h-6 fill-black/50 text-white stroke-[2px]"})}),p.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 backdrop-blur-md px-3 py-1 rounded-lg text-white text-xs font-bold uppercase",children:n.type})]}),p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("h3",{className:"font-semibold text-gray-500 truncate pr-2 text-xs uppercase tracking-wide",children:n.location||n.address}),p.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",title:"Vistas",children:[p.jsx(Ff,{className:"w-3 h-3 text-[#fc7f51]"}),p.jsx("span",{className:"text-xs font-bold text-gray-700",children:n.views||0})]})]}),p.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Agente: ",n.agentName||"Inmuvete"]}),p.jsx("p",{className:"text-gray-800 text-sm font-semibold mb-1 line-clamp-1",children:n.title}),p.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[p.jsx("span",{className:"font-bold text-[#fc7f51] text-lg",children:w(m,"USD")}),p.jsx("span",{className:"text-xs text-gray-400 font-medium",children:w(v,"PEN")})]})]})},_j=[{icon:o4,label:"Departamentos"},{icon:pj,label:"Casas"},{icon:cj,label:"Terrenos"},{icon:Y4,label:"Campestres"},{icon:xS,label:"Playa"}],vj=()=>{const n=Jc(),[e,t]=B.useState("venta"),[s,o]=B.useState(""),[c,d]=B.useState("departamento"),[_,m]=B.useState("USD"),[v,w]=B.useState(""),[E,N]=B.useState(""),[R,k]=B.useState(!1),[U,D]=B.useState(!1),[O,q]=B.useState({location:"",footage:"",price:""}),$=()=>{const ge=`Hola, quiero vender mi propiedad.

 Ubicacin: ${O.location}
 Metraje: ${O.footage} m
 Precio Estimado: $${O.price}

Solicito ms informacin.`,Ee=`https://wa.me/51999999999?text=${encodeURIComponent(ge)}`;window.open(Ee,"_blank"),D(!1),q({location:"",footage:"",price:""})},J=["Lima","Arequipa","Cusco","Trujillo","Piura","Ica","Tacna"],[te,me]=B.useState([]),[V,I]=B.useState(!1),F=ge=>{const Ee=ge.target.value;if(o(Ee),Ee.length>0){const z=J.filter(X=>X.toLowerCase().includes(Ee.toLowerCase()));me(z),I(!0)}else I(!1)},G=ge=>{o(ge),I(!1)},[H,Y]=B.useState([]),[Z,de]=B.useState(!0);B.useEffect(()=>{de(!0);const ge=Is(wn(nt,"properties")),Ee=ND(ge,z=>{const X=z.docs.map(pe=>({id:pe.id,...pe.data()}));X.sort((pe,be)=>{if(pe.isPromoted&&!be.isPromoted)return-1;if(!pe.isPromoted&&be.isPromoted)return 1;const Ae=pe.createdAt?.seconds||0;return(be.createdAt?.seconds||0)-Ae}),Y(X),de(!1)},z=>{console.error("Error fetching properties:",z),de(!1)});return()=>Ee()},[]);const[Ie,re]=B.useState([]),[Se,le]=B.useState(!0);return B.useEffect(()=>{(async()=>{try{const Ee=Is(wn(nt,"tips"),ED(3)),X=(await Ks(Ee)).docs.map(pe=>({id:pe.id,...pe.data()}));X.sort((pe,be)=>(be.createdAt?.seconds||0)-(pe.createdAt?.seconds||0)),re(X)}catch(Ee){console.error("Error fetching tips:",Ee)}finally{le(!1)}})()},[]),p.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[p.jsxs("div",{className:"relative h-[85vh] min-h-[700px] flex items-center pt-20",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",alt:"Hero",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/20"})]}),p.jsxs("div",{className:"relative z-10 container mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center",children:[p.jsxs("div",{className:"lg:col-span-5 bg-white rounded-3xl shadow-2xl overflow-hidden animate-fadeIn",children:[p.jsxs("div",{className:"p-8 pb-4 bg-[#262626] text-white",children:[p.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",style:{color:"#ffffff"},children:"Encuentra tu prximo hogar"}),p.jsx("p",{className:"text-gray-300 text-sm",children:"Explora propiedades nicas para vivir o invertir."})]}),p.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[p.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["venta","alquiler","anticresis"].map(ge=>p.jsx("button",{onClick:()=>t(ge),className:`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${e===ge?"bg-white text-[#fc7f51] shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700"}`,children:ge},ge))}),p.jsxs("div",{className:"relative",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"En dnde buscas?"}),p.jsxs("div",{className:"relative",children:[p.jsx(Dr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"text",value:s,onChange:F,onFocus:()=>s&&I(!0),placeholder:"Ciudad, distrito o zona...",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"}),V&&te.length>0&&p.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:te.map(ge=>p.jsxs("div",{onClick:()=>G(ge),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-2 text-gray-700 font-medium",children:[p.jsx(Dr,{className:"w-4 h-4 text-[#fc7f51]"}),ge]},ge))})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo de Inmueble"}),p.jsxs("div",{className:"relative",children:[p.jsx(mS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsxs("select",{value:c,onChange:ge=>d(ge.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none appearance-none font-medium cursor-pointer",children:[p.jsx("option",{value:"departamento",children:"Departamento"}),p.jsx("option",{value:"casa",children:"Casa"}),p.jsx("option",{value:"terreno",children:"Terreno"}),p.jsx("option",{value:"oficina",children:"Oficina"}),p.jsx("option",{value:"local",children:"Local Comercial"}),p.jsx("option",{value:"otro",children:"Otro"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),p.jsx("div",{className:"relative",children:p.jsxs("div",{className:"flex bg-gray-50 rounded-xl border border-gray-200 p-1 h-[58px] items-center",children:[p.jsx("button",{onClick:()=>m("USD"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="USD"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"$ USD"}),p.jsx("button",{onClick:()=>m("PEN"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="PEN"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"S/ PEN"})]})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Rango de Precio"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("input",{type:"number",placeholder:"Mnimo",value:v,onChange:ge=>w(ge.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"}),p.jsx("input",{type:"number",placeholder:"Mximo",value:E,onChange:ge=>N(ge.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"})]})]}),p.jsxs("button",{onClick:()=>k(!R),className:"flex items-center gap-2 text-[#fc7f51] font-bold text-sm hover:underline",children:[p.jsx(j4,{className:"w-4 h-4"}),R?"Menos filtros":"Ms filtros (Habitaciones, Baos, rea...)"]}),R&&p.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fadeIn",children:[p.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),p.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[p.jsx("option",{value:"",children:"Cualquiera"}),p.jsx("option",{value:"1",children:"1+"}),p.jsx("option",{value:"2",children:"2+"}),p.jsx("option",{value:"3",children:"3+"}),p.jsx("option",{value:"4",children:"4+"})]})]}),p.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),p.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[p.jsx("option",{value:"",children:"Cualquiera"}),p.jsx("option",{value:"1",children:"1+"}),p.jsx("option",{value:"2",children:"2+"}),p.jsx("option",{value:"3",children:"3+"})]})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"rea Mnima (m)"}),p.jsx("input",{type:"number",placeholder:"Ej: 80",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none"})]})]}),p.jsxs("button",{onClick:()=>{const ge=new URLSearchParams;e&&ge.set("operation",e),s&&ge.set("location",s),c&&ge.set("propertyType",c),_&&ge.set("currency",_),v&&ge.set("priceMin",v),E&&ge.set("priceMax",E),n(`/search?${ge.toString()}`)},className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2",children:[p.jsx(Kc,{className:"w-6 h-6"}),"BUSCAR PROPIEDADES"]})]})]}),p.jsx("div",{className:"hidden lg:block lg:col-span-7",children:p.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[p.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-[#fc7f51] transform hover:-translate-x-2 transition cursor-pointer",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:p.jsx(i4,{className:"w-6 h-6 text-[#fc7f51]"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Eres Propietario?"}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros y vndela ms rpido."})]})]}),p.jsx(an,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),p.jsx("button",{onClick:()=>D(!0),className:"block w-full text-left bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-blue-500 transform hover:-translate-x-2 transition cursor-pointer delay-100",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:p.jsx(Zf,{className:"w-6 h-6 text-blue-500"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Vendes tu Propiedad?"}),p.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos para vender rpido y seguro al mejor precio."})]})]})})]})})]})]}),U&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden animate-fadeIn",children:[p.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[p.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Vende con nosotros"}),p.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:p.jsx(Wc,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ingresa los datos de tu propiedad para enviarlos a un agente."}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin / Distrito"}),p.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: Miraflores, Lima",value:O.location,onChange:ge=>q({...O,location:ge.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metraje Aprox. (m)"}),p.jsx("input",{type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 120",value:O.footage,onChange:ge=>q({...O,footage:ge.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto Estimado de Venta"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),p.jsx("input",{type:"number",className:"w-full pl-8 pr-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 150000",value:O.price,onChange:ge=>q({...O,price:ge.target.value})})]})]}),p.jsxs("button",{onClick:$,disabled:!O.location||!O.footage||!O.price,className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3 rounded-lg shadow-lg hover:shadow-green-500/30 transition flex items-center justify-center gap-2 mt-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx(Zf,{className:"w-5 h-5"}),"Enviar por WhatsApp"]})]})]})}),p.jsx("div",{className:"bg-gray-50 py-10 border-b border-gray-200",children:p.jsx("div",{className:"container mx-auto px-6",children:p.jsx("div",{className:"flex gap-4 md:gap-12 overflow-x-auto no-scrollbar items-center justify-start md:justify-center py-2",children:_j.map((ge,Ee)=>p.jsxs("div",{onClick:()=>n(`/search?propertyType=${ge.label.toLowerCase()}`),className:"flex flex-col items-center gap-3 min-w-[100px] cursor-pointer group opacity-60 hover:opacity-100 transition-all duration-300 hover:-translate-y-1",children:[p.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-md border border-gray-100 group-hover:border-[#fc7f51]/30 transition",children:p.jsx(ge.icon,{className:"w-7 h-7 text-[#262626] group-hover:text-[#fc7f51] transition",strokeWidth:1.5})}),p.jsx("span",{className:"text-sm font-semibold text-[#262626] group-hover:text-[#fc7f51] whitespace-nowrap transition",children:ge.label})]},Ee))})})}),p.jsxs("main",{id:"properties",className:"container mx-auto px-6 py-20",children:[p.jsxs("div",{className:"flex justify-between items-end mb-12",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Oportunidades"}),p.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Propiedades Destacadas"})]}),p.jsxs(an,{to:"/properties",className:"hidden md:flex items-center gap-2 text-[#262626] font-semibold hover:text-[#fc7f51] transition group",children:["Ver todo ",p.jsx($5,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:Z?p.jsxs("div",{className:"col-span-full py-20 text-center",children:[p.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"}),p.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando propiedades..."})]}):H.length===0?p.jsx("div",{className:"col-span-full py-20 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:p.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propiedades disponibles en este momento."})}):H.filter(ge=>{if(e&&ge.type!==e)return!1;if(c){if(c==="terreno"){if(ge.category!=="terreno")return!1}else if(c!=="otro"&&ge.category==="terreno")return!1}if(s&&!ge.location?.toLowerCase().includes(s.toLowerCase())&&!ge.address?.toLowerCase().includes(s.toLowerCase()))return!1;const Ee=parseFloat(ge.price);return!(v&&Ee<parseFloat(v)||E&&Ee>parseFloat(E)||_&&ge.currency!==_)}).sort((ge,Ee)=>(Ee.isExclusive===!0?1:0)-(ge.isExclusive===!0?1:0)).map(ge=>p.jsx(wS,{property:ge},ge.id))}),p.jsx("div",{className:"mt-12 text-center md:hidden",children:p.jsx("button",{className:"bg-white border border-gray-300 text-[#262626] px-8 py-3 rounded-full font-bold shadow-sm hover:bg-gray-50 transition",children:"Ver todas las propiedades"})})]}),p.jsx("section",{className:"bg-gray-50 py-20 border-t border-gray-200",children:p.jsxs("div",{className:"container mx-auto px-6",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Consejos de Expertos"}),p.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Tips Inmobiliarios"})]}),Se?p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})}):Ie.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Ie.map(ge=>p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center mb-6 text-[#fc7f51] group-hover:bg-[#fc7f51] group-hover:text-white transition",children:p.jsx(L4,{className:"w-6 h-6"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-[#fc7f51] transition",children:ge.title}),p.jsx("p",{className:"text-gray-600 leading-relaxed text-sm mb-4 line-clamp-4",children:ge.content}),p.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["Por ",ge.agentName||"Agente","  ",ge.createdAt?.seconds?new Date(ge.createdAt.seconds*1e3).toLocaleDateString():"Reciente"]})]},ge.id))}):p.jsx("div",{className:"text-center text-gray-500",children:"Pronto publicaremos consejos tiles para ti."})]})}),p.jsxs("section",{className:"py-24 bg-[#16151a] text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#fc7f51] rounded-full opacity-10 blur-[100px] translate-x-1/3 -translate-y-1/3"}),p.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[p.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Listo para dar el siguiente paso?"}),p.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-2xl mx-auto",children:"Ya sea que busques comprar, vender o invertir, en Inmuvete tenemos el equipo y la experiencia para hacerlo posible."}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[p.jsx(an,{to:"/contact",className:"bg-[#fc7f51] text-white px-8 py-4 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg hover:shadow-orange-500/20",children:"Contctanos Ahora"}),p.jsx(an,{to:"/about",className:"bg-transparent border border-gray-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-[#262626] hover:border-white transition",children:"Conoce Ms"})]})]})]})]})};function Uw(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function B_(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Uw(e[s])&&Uw(n[s])&&Object.keys(e[s]).length>0&&B_(n[s],e[s])})}const ES={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Gl(){const n=typeof document<"u"?document:{};return B_(n,ES),n}const bj={document:ES,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function gi(){const n=typeof window<"u"?window:{};return B_(n,bj),n}function xj(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function wj(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function TS(n,e=0){return setTimeout(n,e)}function $f(){return Date.now()}function Ej(n){const e=gi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Tj(n,e="x"){const t=gi();let s,o,c;const d=Ej(n);return t.WebKitCSSMatrix?(o=d.transform||d.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(_=>_.replace(",",".")).join(", ")),c=new t.WebKitCSSMatrix(o==="none"?"":o)):(c=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=c.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?o=c.m41:s.length===16?o=parseFloat(s[12]):o=parseFloat(s[4])),e==="y"&&(t.WebKitCSSMatrix?o=c.m42:s.length===16?o=parseFloat(s[13]):o=parseFloat(s[5])),o||0}function af(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Sj(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ss(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<n.length;s+=1){const o=n[s];if(o!=null&&!Sj(o)){const c=Object.keys(Object(o)).filter(d=>t.indexOf(d)<0);for(let d=0,_=c.length;d<_;d+=1){const m=c[d],v=Object.getOwnPropertyDescriptor(o,m);v!==void 0&&v.enumerable&&(af(e[m])&&af(o[m])?o[m].__swiper__?e[m]=o[m]:ss(e[m],o[m]):!af(e[m])&&af(o[m])?(e[m]={},o[m].__swiper__?e[m]=o[m]:ss(e[m],o[m])):e[m]=o[m])}}}return e}function Lc(n,e,t){n.style.setProperty(e,t)}function SS({swiper:n,targetPosition:e,side:t}){const s=gi(),o=-n.translate;let c=null,d;const _=n.params.speed;n.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(n.cssModeFrameID);const m=e>o?"next":"prev",v=(E,N)=>m==="next"&&E>=N||m==="prev"&&E<=N,w=()=>{d=new Date().getTime(),c===null&&(c=d);const E=Math.max(Math.min((d-c)/_,1),0),N=.5-Math.cos(E*Math.PI)/2;let R=o+N*(e-o);if(v(R,e)&&(R=e),n.wrapperEl.scrollTo({[t]:R}),v(R,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:R})}),s.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=s.requestAnimationFrame(w)};w()}function Cr(n,e=""){const t=gi(),s=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&s.push(...n.assignedElements()),e?s.filter(o=>o.matches(e)):s}function Aj(n,e){const t=[e];for(;t.length>0;){const s=t.shift();if(n===s)return!0;t.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function Cj(n,e){const t=gi();let s=e.contains(n);return!s&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(n),s||(s=Aj(n,e))),s}function Yf(n){try{console.warn(n);return}catch{}}function Kf(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:xj(e)),t}function Nj(n,e){const t=[];for(;n.previousElementSibling;){const s=n.previousElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function Rj(n,e){const t=[];for(;n.nextElementSibling;){const s=n.nextElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function wo(n,e){return gi().getComputedStyle(n,null).getPropertyValue(e)}function Wf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function AS(n,e){const t=[];let s=n.parentElement;for(;s;)e?s.matches(e)&&t.push(s):t.push(s),s=s.parentElement;return t}function wy(n,e,t){const s=gi();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Vn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Ch(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Vg;function Ij(){const n=gi(),e=Gl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function CS(){return Vg||(Vg=Ij()),Vg}let zg;function Pj({userAgent:n}={}){const e=CS(),t=gi(),s=t.navigator.platform,o=n||t.navigator.userAgent,c={ios:!1,android:!1},d=t.screen.width,_=t.screen.height,m=o.match(/(Android);?[\s\/]+([\d.]+)?/);let v=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const w=o.match(/(iPod)(.*OS\s([\d_]+))?/),E=!v&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),N=s==="Win32";let R=s==="MacIntel";const k=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&R&&e.touch&&k.indexOf(`${d}x${_}`)>=0&&(v=o.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),R=!1),m&&!N&&(c.os="android",c.android=!0),(v||E||w)&&(c.os="ios",c.ios=!0),c}function NS(n={}){return zg||(zg=Pj(n)),zg}let Ug;function Mj(){const n=gi(),e=NS();let t=!1;function s(){const _=n.navigator.userAgent.toLowerCase();return _.indexOf("safari")>=0&&_.indexOf("chrome")<0&&_.indexOf("android")<0}if(s()){const _=String(n.navigator.userAgent);if(_.includes("Version/")){const[m,v]=_.split("Version/")[1].split(" ")[0].split(".").map(w=>Number(w));t=m<16||m===16&&v<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),c=s(),d=c||o&&e.ios;return{isSafari:t||c,needPerspectiveFix:t,need3dFix:d,isWebView:o}}function RS(){return Ug||(Ug=Mj()),Ug}function Lj({swiper:n,on:e,emit:t}){const s=gi();let o=null,c=null;const d=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},_=()=>{!n||n.destroyed||!n.initialized||(o=new ResizeObserver(w=>{c=s.requestAnimationFrame(()=>{const{width:E,height:N}=n;let R=E,k=N;w.forEach(({contentBoxSize:U,contentRect:D,target:O})=>{O&&O!==n.el||(R=D?D.width:(U[0]||U).inlineSize,k=D?D.height:(U[0]||U).blockSize)}),(R!==E||k!==N)&&d()})}),o.observe(n.el))},m=()=>{c&&s.cancelAnimationFrame(c),o&&o.unobserve&&n.el&&(o.unobserve(n.el),o=null)},v=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof s.ResizeObserver<"u"){_();return}s.addEventListener("resize",d),s.addEventListener("orientationchange",v)}),e("destroy",()=>{m(),s.removeEventListener("resize",d),s.removeEventListener("orientationchange",v)})}function Oj({swiper:n,extendParams:e,on:t,emit:s}){const o=[],c=gi(),d=(v,w={})=>{const E=c.MutationObserver||c.WebkitMutationObserver,N=new E(R=>{if(n.__preventObserver__)return;if(R.length===1){s("observerUpdate",R[0]);return}const k=function(){s("observerUpdate",R[0])};c.requestAnimationFrame?c.requestAnimationFrame(k):c.setTimeout(k,0)});N.observe(v,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:n.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),o.push(N)},_=()=>{if(n.params.observer){if(n.params.observeParents){const v=AS(n.hostEl);for(let w=0;w<v.length;w+=1)d(v[w])}d(n.hostEl,{childList:n.params.observeSlideChildren}),d(n.wrapperEl,{attributes:!1})}},m=()=>{o.forEach(v=>{v.disconnect()}),o.splice(0,o.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",_),t("destroy",m)}var Dj={on(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const o=t?"unshift":"push";return n.split(" ").forEach(c=>{s.eventsListeners[c]||(s.eventsListeners[c]=[]),s.eventsListeners[c][o](e)}),s},once(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function o(...c){s.off(n,o),o.__emitterProxy&&delete o.__emitterProxy,e.apply(s,c)}return o.__emitterProxy=e,s.on(n,o,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const s=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[s](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(s=>{typeof e>"u"?t.eventsListeners[s]=[]:t.eventsListeners[s]&&t.eventsListeners[s].forEach((o,c)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&t.eventsListeners[s].splice(c,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,s,o;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],s=n.slice(1,n.length),o=e):(t=n[0].events,s=n[0].data,o=n[0].context||e),s.unshift(o),(Array.isArray(t)?t:t.split(" ")).forEach(d=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(_=>{_.apply(o,[d,...s])}),e.eventsListeners&&e.eventsListeners[d]&&e.eventsListeners[d].forEach(_=>{_.apply(o,s)})}),e}};function kj(){const n=this;let e,t;const s=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=s.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=s.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(wo(s,"padding-left")||0,10)-parseInt(wo(s,"padding-right")||0,10),t=t-parseInt(wo(s,"padding-top")||0,10)-parseInt(wo(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function jj(){const n=this;function e(G,H){return parseFloat(G.getPropertyValue(n.getDirectionLabel(H))||0)}const t=n.params,{wrapperEl:s,slidesEl:o,rtlTranslate:c,wrongRTL:d}=n,_=n.virtual&&t.virtual.enabled,m=_?n.virtual.slides.length:n.slides.length,v=Cr(o,`.${n.params.slideClass}, swiper-slide`),w=_?n.virtual.slides.length:v.length;let E=[];const N=[],R=[];let k=t.slidesOffsetBefore;typeof k=="function"&&(k=t.slidesOffsetBefore.call(n));let U=t.slidesOffsetAfter;typeof U=="function"&&(U=t.slidesOffsetAfter.call(n));const D=n.snapGrid.length,O=n.slidesGrid.length,q=n.size-k-U;let $=t.spaceBetween,J=-k,te=0,me=0;if(typeof q>"u")return;typeof $=="string"&&$.indexOf("%")>=0?$=parseFloat($.replace("%",""))/100*q:typeof $=="string"&&($=parseFloat($)),n.virtualSize=-$-k-U,v.forEach(G=>{c?G.style.marginLeft="":G.style.marginRight="",G.style.marginBottom="",G.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Lc(s,"--swiper-centered-offset-before",""),Lc(s,"--swiper-centered-offset-after","")),t.cssMode&&(Lc(s,"--swiper-slides-offset-before",`${k}px`),Lc(s,"--swiper-slides-offset-after",`${U}px`));const V=t.grid&&t.grid.rows>1&&n.grid;V?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let I;const F=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(G=>typeof t.breakpoints[G].slidesPerView<"u").length>0;for(let G=0;G<w;G+=1){I=0;const H=v[G];if(!(H&&(V&&n.grid.updateSlide(G,H,v),wo(H,"display")==="none"))){if(_&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(I=t.virtual.slidesPerViewAutoSlideSize),I&&H&&(t.roundLengths&&(I=Math.floor(I)),H.style[n.getDirectionLabel("width")]=`${I}px`);else if(t.slidesPerView==="auto"){F&&(H.style[n.getDirectionLabel("width")]="");const Y=getComputedStyle(H),Z=H.style.transform,de=H.style.webkitTransform;if(Z&&(H.style.transform="none"),de&&(H.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?wy(H,"width"):wy(H,"height");else{const Ie=e(Y,"width"),re=e(Y,"padding-left"),Se=e(Y,"padding-right"),le=e(Y,"margin-left"),ge=e(Y,"margin-right"),Ee=Y.getPropertyValue("box-sizing");if(Ee&&Ee==="border-box")I=Ie+le+ge;else{const{clientWidth:z,offsetWidth:X}=H;I=Ie+re+Se+le+ge+(X-z)}}Z&&(H.style.transform=Z),de&&(H.style.webkitTransform=de),t.roundLengths&&(I=Math.floor(I))}else I=(q-(t.slidesPerView-1)*$)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),H&&(H.style[n.getDirectionLabel("width")]=`${I}px`);H&&(H.swiperSlideSize=I),R.push(I),t.centeredSlides?(J=J+I/2+te/2+$,te===0&&G!==0&&(J=J-q/2-$),G===0&&(J=J-q/2-$),Math.abs(J)<1/1e3&&(J=0),t.roundLengths&&(J=Math.floor(J)),me%t.slidesPerGroup===0&&E.push(J),N.push(J)):(t.roundLengths&&(J=Math.floor(J)),(me-Math.min(n.params.slidesPerGroupSkip,me))%n.params.slidesPerGroup===0&&E.push(J),N.push(J),J=J+I+$),n.virtualSize+=I+$,te=I,me+=1}}if(n.virtualSize=Math.max(n.virtualSize,q)+U,c&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(s.style.width=`${n.virtualSize+$}px`),t.setWrapperSize&&(s.style[n.getDirectionLabel("width")]=`${n.virtualSize+$}px`),V&&n.grid.updateWrapperSize(I,E),!t.centeredSlides){const G=t.slidesPerView!=="auto"&&t.slidesPerView%1!==0,H=t.snapToSlideEdge&&!t.loop&&(t.slidesPerView==="auto"||G);let Y=E.length;if(H){let de;if(t.slidesPerView==="auto"){de=1;let Ie=0;for(let re=R.length-1;re>=0&&(Ie+=R[re]+(re<R.length-1?$:0),Ie<=q);re-=1)de=R.length-re}else de=Math.floor(t.slidesPerView);Y=Math.max(w-de,0)}const Z=[];for(let de=0;de<E.length;de+=1){let Ie=E[de];t.roundLengths&&(Ie=Math.floor(Ie)),H?de<=Y&&Z.push(Ie):E[de]<=n.virtualSize-q&&Z.push(Ie)}E=Z,Math.floor(n.virtualSize-q)-Math.floor(E[E.length-1])>1&&(H||E.push(n.virtualSize-q))}if(_&&t.loop){const G=R[0]+$;if(t.slidesPerGroup>1){const H=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),Y=G*t.slidesPerGroup;for(let Z=0;Z<H;Z+=1)E.push(E[E.length-1]+Y)}for(let H=0;H<n.virtual.slidesBefore+n.virtual.slidesAfter;H+=1)t.slidesPerGroup===1&&E.push(E[E.length-1]+G),N.push(N[N.length-1]+G),n.virtualSize+=G}if(E.length===0&&(E=[0]),$!==0){const G=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");v.filter((H,Y)=>!t.cssMode||t.loop?!0:Y!==v.length-1).forEach(H=>{H.style[G]=`${$}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let G=0;R.forEach(Y=>{G+=Y+($||0)}),G-=$;const H=G>q?G-q:0;E=E.map(Y=>Y<=0?-k:Y>H?H+U:Y)}if(t.centerInsufficientSlides){let G=0;R.forEach(Y=>{G+=Y+($||0)}),G-=$;const H=(k||0)+(U||0);if(G+H<q){const Y=(q-G-H)/2;E.forEach((Z,de)=>{E[de]=Z-Y}),N.forEach((Z,de)=>{N[de]=Z+Y})}}if(Object.assign(n,{slides:v,snapGrid:E,slidesGrid:N,slidesSizesGrid:R}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Lc(s,"--swiper-centered-offset-before",`${-E[0]}px`),Lc(s,"--swiper-centered-offset-after",`${n.size/2-R[R.length-1]/2}px`);const G=-n.snapGrid[0],H=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(Y=>Y+G),n.slidesGrid=n.slidesGrid.map(Y=>Y+H)}if(w!==m&&n.emit("slidesLengthChange"),E.length!==D&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),N.length!==O&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!_&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const G=`${t.containerModifierClass}backface-hidden`,H=n.el.classList.contains(G);w<=t.maxBackfaceHiddenSlides?H||n.el.classList.add(G):H&&n.el.classList.remove(G)}}function Vj(n){const e=this,t=[],s=e.virtual&&e.params.virtual.enabled;let o=0,c;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const d=_=>s?e.slides[e.getSlideIndexByData(_)]:e.slides[_];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(_=>{t.push(_)});else for(c=0;c<Math.ceil(e.params.slidesPerView);c+=1){const _=e.activeIndex+c;if(_>e.slides.length&&!s)break;t.push(d(_))}else t.push(d(e.activeIndex));for(c=0;c<t.length;c+=1)if(typeof t[c]<"u"){const _=t[c].offsetHeight;o=_>o?_:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function zj(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(n.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-t-n.cssOverflowAdjustment()}const Bw=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Uj(n=this&&this.translate||0){const e=this,t=e.params,{slides:s,rtlTranslate:o,snapGrid:c}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let d=-n;o&&(d=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let _=t.spaceBetween;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*e.size:typeof _=="string"&&(_=parseFloat(_));for(let m=0;m<s.length;m+=1){const v=s[m];let w=v.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(w-=s[0].swiperSlideOffset);const E=(d+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),N=(d-c[0]+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),R=-(d-w),k=R+e.slidesSizesGrid[m],U=R>=0&&R<=e.size-e.slidesSizesGrid[m],D=R>=0&&R<e.size-1||k>1&&k<=e.size||R<=0&&k>=e.size;D&&(e.visibleSlides.push(v),e.visibleSlidesIndexes.push(m)),Bw(v,D,t.slideVisibleClass),Bw(v,U,t.slideFullyVisibleClass),v.progress=o?-E:E,v.originalProgress=o?-N:N}}function Bj(n){const e=this;if(typeof n>"u"){const w=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*w||0}const t=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:c,isEnd:d,progressLoop:_}=e;const m=c,v=d;if(s===0)o=0,c=!0,d=!0;else{o=(n-e.minTranslate())/s;const w=Math.abs(n-e.minTranslate())<1,E=Math.abs(n-e.maxTranslate())<1;c=w||o<=0,d=E||o>=1,w&&(o=0),E&&(o=1)}if(t.loop){const w=e.getSlideIndexByData(0),E=e.getSlideIndexByData(e.slides.length-1),N=e.slidesGrid[w],R=e.slidesGrid[E],k=e.slidesGrid[e.slidesGrid.length-1],U=Math.abs(n);U>=N?_=(U-N)/k:_=(U+k-R)/k,_>1&&(_-=1)}Object.assign(e,{progress:o,progressLoop:_,isBeginning:c,isEnd:d}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),c&&!m&&e.emit("reachBeginning toEdge"),d&&!v&&e.emit("reachEnd toEdge"),(m&&!c||v&&!d)&&e.emit("fromEdge"),e.emit("progress",o)}const Bg=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function qj(){const n=this,{slides:e,params:t,slidesEl:s,activeIndex:o}=n,c=n.virtual&&t.virtual.enabled,d=n.grid&&t.grid&&t.grid.rows>1,_=E=>Cr(s,`.${t.slideClass}${E}, swiper-slide${E}`)[0];let m,v,w;if(c)if(t.loop){let E=o-n.virtual.slidesBefore;E<0&&(E=n.virtual.slides.length+E),E>=n.virtual.slides.length&&(E-=n.virtual.slides.length),m=_(`[data-swiper-slide-index="${E}"]`)}else m=_(`[data-swiper-slide-index="${o}"]`);else d?(m=e.find(E=>E.column===o),w=e.find(E=>E.column===o+1),v=e.find(E=>E.column===o-1)):m=e[o];m&&(d||(w=Rj(m,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!w&&(w=e[0]),v=Nj(m,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v===0&&(v=e[e.length-1]))),e.forEach(E=>{Bg(E,E===m,t.slideActiveClass),Bg(E,E===w,t.slideNextClass),Bg(E,E===v,t.slidePrevClass)}),n.emitSlidesClasses()}const bf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,s=e.closest(t());if(s){let o=s.querySelector(`.${n.params.lazyPreloaderClass}`);!o&&n.isElement&&(s.shadowRoot?o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),o&&!o.lazyPreloaderManaged&&o.remove())})),o&&!o.lazyPreloaderManaged&&o.remove()}},qg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Ey=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const s=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),o=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const d=o,_=[d-e];_.push(...Array.from({length:e}).map((m,v)=>d+s+v)),n.slides.forEach((m,v)=>{_.includes(m.column)&&qg(n,v)});return}const c=o+s-1;if(n.params.rewind||n.params.loop)for(let d=o-e;d<=c+e;d+=1){const _=(d%t+t)%t;(_<o||_>c)&&qg(n,_)}else for(let d=Math.max(o-e,0);d<=Math.min(c+e,t-1);d+=1)d!==o&&(d>c||d<o)&&qg(n,d)};function Hj(n){const{slidesGrid:e,params:t}=n,s=n.rtlTranslate?n.translate:-n.translate;let o;for(let c=0;c<e.length;c+=1)typeof e[c+1]<"u"?s>=e[c]&&s<e[c+1]-(e[c+1]-e[c])/2?o=c:s>=e[c]&&s<e[c+1]&&(o=c+1):s>=e[c]&&(o=c);return t.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function Fj(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:o,activeIndex:c,realIndex:d,snapIndex:_}=e;let m=n,v;const w=R=>{let k=R-e.virtual.slidesBefore;return k<0&&(k=e.virtual.slides.length+k),k>=e.virtual.slides.length&&(k-=e.virtual.slides.length),k};if(typeof m>"u"&&(m=Hj(e)),s.indexOf(t)>=0)v=s.indexOf(t);else{const R=Math.min(o.slidesPerGroupSkip,m);v=R+Math.floor((m-R)/o.slidesPerGroup)}if(v>=s.length&&(v=s.length-1),m===c&&!e.params.loop){v!==_&&(e.snapIndex=v,e.emit("snapIndexChange"));return}if(m===c&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=w(m);return}const E=e.grid&&o.grid&&o.grid.rows>1;let N;if(e.virtual&&o.virtual.enabled)o.loop?N=w(m):N=m;else if(E){const R=e.slides.find(U=>U.column===m);let k=parseInt(R.getAttribute("data-swiper-slide-index"),10);Number.isNaN(k)&&(k=Math.max(e.slides.indexOf(R),0)),N=Math.floor(k/o.grid.rows)}else if(e.slides[m]){const R=e.slides[m].getAttribute("data-swiper-slide-index");R?N=parseInt(R,10):N=m}else N=m;Object.assign(e,{previousSnapIndex:_,snapIndex:v,previousRealIndex:d,realIndex:N,previousIndex:c,activeIndex:m}),e.initialized&&Ey(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(d!==N&&e.emit("realIndexChange"),e.emit("slideChange"))}function Gj(n,e){const t=this,s=t.params;let o=n.closest(`.${s.slideClass}, swiper-slide`);!o&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(_=>{!o&&_.matches&&_.matches(`.${s.slideClass}, swiper-slide`)&&(o=_)});let c=!1,d;if(o){for(let _=0;_<t.slides.length;_+=1)if(t.slides[_]===o){c=!0,d=_;break}}if(o&&c)t.clickedSlide=o,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Zj={updateSize:kj,updateSlides:jj,updateAutoHeight:Vj,updateSlidesOffset:zj,updateSlidesProgress:Uj,updateProgress:Bj,updateSlidesClasses:qj,updateActiveIndex:Fj,updateClickedSlide:Gj};function $j(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:s,translate:o,wrapperEl:c}=e;if(t.virtualTranslate)return s?-o:o;if(t.cssMode)return o;let d=Tj(c,n);return d+=e.cssOverflowAdjustment(),s&&(d=-d),d||0}function Yj(n,e){const t=this,{rtlTranslate:s,params:o,wrapperEl:c,progress:d}=t;let _=0,m=0;const v=0;t.isHorizontal()?_=s?-n:n:m=n,o.roundLengths&&(_=Math.floor(_),m=Math.floor(m)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?_:m,o.cssMode?c[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-_:-m:o.virtualTranslate||(t.isHorizontal()?_-=t.cssOverflowAdjustment():m-=t.cssOverflowAdjustment(),c.style.transform=`translate3d(${_}px, ${m}px, ${v}px)`);let w;const E=t.maxTranslate()-t.minTranslate();E===0?w=0:w=(n-t.minTranslate())/E,w!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function Kj(){return-this.snapGrid[0]}function Wj(){return-this.snapGrid[this.snapGrid.length-1]}function Qj(n=0,e=this.params.speed,t=!0,s=!0,o){const c=this,{params:d,wrapperEl:_}=c;if(c.animating&&d.preventInteractionOnTransition)return!1;const m=c.minTranslate(),v=c.maxTranslate();let w;if(s&&n>m?w=m:s&&n<v?w=v:w=n,c.updateProgress(w),d.cssMode){const E=c.isHorizontal();if(e===0)_[E?"scrollLeft":"scrollTop"]=-w;else{if(!c.support.smoothScroll)return SS({swiper:c,targetPosition:-w,side:E?"left":"top"}),!0;_.scrollTo({[E?"left":"top"]:-w,behavior:"smooth"})}return!0}return e===0?(c.setTransition(0),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionEnd"))):(c.setTransition(e),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(N){!c||c.destroyed||N.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,c.animating=!1,t&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}var Xj={getTranslate:$j,setTranslate:Yj,minTranslate:Kj,maxTranslate:Wj,translateTo:Qj};function Jj(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function IS({swiper:n,runCallbacks:e,direction:t,step:s}){const{activeIndex:o,previousIndex:c}=n;let d=t;d||(o>c?d="next":o<c?d="prev":d="reset"),n.emit(`transition${s}`),e&&d==="reset"?n.emit(`slideResetTransition${s}`):e&&o!==c&&(n.emit(`slideChangeTransition${s}`),d==="next"?n.emit(`slideNextTransition${s}`):n.emit(`slidePrevTransition${s}`))}function e3(n=!0,e){const t=this,{params:s}=t;s.cssMode||(s.autoHeight&&t.updateAutoHeight(),IS({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function t3(n=!0,e){const t=this,{params:s}=t;t.animating=!1,!s.cssMode&&(t.setTransition(0),IS({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var n3={setTransition:Jj,transitionStart:e3,transitionEnd:t3};function i3(n=0,e,t=!0,s,o){typeof n=="string"&&(n=parseInt(n,10));const c=this;let d=n;d<0&&(d=0);const{params:_,snapGrid:m,slidesGrid:v,previousIndex:w,activeIndex:E,rtlTranslate:N,wrapperEl:R,enabled:k}=c;if(!k&&!s&&!o||c.destroyed||c.animating&&_.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=c.params.speed);const U=Math.min(c.params.slidesPerGroupSkip,d);let D=U+Math.floor((d-U)/c.params.slidesPerGroup);D>=m.length&&(D=m.length-1);const O=-m[D];if(_.normalizeSlideIndex)for(let V=0;V<v.length;V+=1){const I=-Math.floor(O*100),F=Math.floor(v[V]*100),G=Math.floor(v[V+1]*100);typeof v[V+1]<"u"?I>=F&&I<G-(G-F)/2?d=V:I>=F&&I<G&&(d=V+1):I>=F&&(d=V)}if(c.initialized&&d!==E&&(!c.allowSlideNext&&(N?O>c.translate&&O>c.minTranslate():O<c.translate&&O<c.minTranslate())||!c.allowSlidePrev&&O>c.translate&&O>c.maxTranslate()&&(E||0)!==d))return!1;d!==(w||0)&&t&&c.emit("beforeSlideChangeStart"),c.updateProgress(O);let q;d>E?q="next":d<E?q="prev":q="reset";const $=c.virtual&&c.params.virtual.enabled;if(!($&&o)&&(N&&-O===c.translate||!N&&O===c.translate))return c.updateActiveIndex(d),_.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),_.effect!=="slide"&&c.setTranslate(O),q!=="reset"&&(c.transitionStart(t,q),c.transitionEnd(t,q)),!1;if(_.cssMode){const V=c.isHorizontal(),I=N?O:-O;if(e===0)$&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),$&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{R[V?"scrollLeft":"scrollTop"]=I})):R[V?"scrollLeft":"scrollTop"]=I,$&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1});else{if(!c.support.smoothScroll)return SS({swiper:c,targetPosition:I,side:V?"left":"top"}),!0;R.scrollTo({[V?"left":"top"]:I,behavior:"smooth"})}return!0}const me=RS().isSafari;return $&&!o&&me&&c.isElement&&c.virtual.update(!1,!1,d),c.setTransition(e),c.setTranslate(O),c.updateActiveIndex(d),c.updateSlidesClasses(),c.emit("beforeTransitionStart",e,s),c.transitionStart(t,q),e===0?c.transitionEnd(t,q):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(I){!c||c.destroyed||I.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(t,q))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0}function s3(n=0,e,t=!0,s){typeof n=="string"&&(n=parseInt(n,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const c=o.grid&&o.params.grid&&o.params.grid.rows>1;let d=n;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)d=d+o.virtual.slidesBefore;else{let _;if(c){const U=d*o.params.grid.rows;_=o.slides.find(D=>D.getAttribute("data-swiper-slide-index")*1===U).column}else _=o.getSlideIndexByData(d);const m=c?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:v,slidesOffsetBefore:w,slidesOffsetAfter:E}=o.params,N=v||!!w||!!E;let R=o.params.slidesPerView;R==="auto"?R=o.slidesPerViewDynamic():(R=Math.ceil(parseFloat(o.params.slidesPerView,10)),N&&R%2===0&&(R=R+1));let k=m-_<R;if(N&&(k=k||_<Math.ceil(R/2)),s&&N&&o.params.slidesPerView!=="auto"&&!c&&(k=!1),k){const U=N?_<o.activeIndex?"prev":"next":_-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:U,slideTo:!0,activeSlideIndex:U==="next"?_+1:_-m+1,slideRealIndex:U==="next"?o.realIndex:void 0})}if(c){const U=d*o.params.grid.rows;d=o.slides.find(D=>D.getAttribute("data-swiper-slide-index")*1===U).column}else d=o.getSlideIndexByData(d)}return requestAnimationFrame(()=>{o.slideTo(d,e,t,s)}),o}function r3(n,e=!0,t){const s=this,{enabled:o,params:c,animating:d}=s;if(!o||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);let _=c.slidesPerGroup;c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(_=Math.max(s.slidesPerViewDynamic("current",!0),1));const m=s.activeIndex<c.slidesPerGroupSkip?1:_,v=s.virtual&&c.virtual.enabled;if(c.loop){if(d&&!v&&c.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&c.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+m,n,e,t)}),!0}return c.rewind&&s.isEnd?s.slideTo(0,n,e,t):s.slideTo(s.activeIndex+m,n,e,t)}function a3(n,e=!0,t){const s=this,{params:o,snapGrid:c,slidesGrid:d,rtlTranslate:_,enabled:m,animating:v}=s;if(!m||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);const w=s.virtual&&o.virtual.enabled;if(o.loop){if(v&&!w&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const E=_?s.translate:-s.translate;function N(q){return q<0?-Math.floor(Math.abs(q)):Math.floor(q)}const R=N(E),k=c.map(q=>N(q)),U=o.freeMode&&o.freeMode.enabled;let D=c[k.indexOf(R)-1];if(typeof D>"u"&&(o.cssMode||U)){let q;c.forEach(($,J)=>{R>=$&&(q=J)}),typeof q<"u"&&(D=U?c[q]:c[q>0?q-1:q])}let O=0;if(typeof D<"u"&&(O=d.indexOf(D),O<0&&(O=s.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(O=O-s.slidesPerViewDynamic("previous",!0)+1,O=Math.max(O,0))),o.rewind&&s.isBeginning){const q=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(q,n,e,t)}else if(o.loop&&s.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(O,n,e,t)}),!0;return s.slideTo(O,n,e,t)}function o3(n,e=!0,t){const s=this;if(!s.destroyed)return typeof n>"u"&&(n=s.params.speed),s.slideTo(s.activeIndex,n,e,t)}function l3(n,e=!0,t,s=.5){const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);let c=o.activeIndex;const d=Math.min(o.params.slidesPerGroupSkip,c),_=d+Math.floor((c-d)/o.params.slidesPerGroup),m=o.rtlTranslate?o.translate:-o.translate;if(m>=o.snapGrid[_]){const v=o.snapGrid[_],w=o.snapGrid[_+1];m-v>(w-v)*s&&(c+=o.params.slidesPerGroup)}else{const v=o.snapGrid[_-1],w=o.snapGrid[_];m-v<=(w-v)*s&&(c-=o.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,o.slidesGrid.length-1),o.slideTo(c,n,e,t)}function c3(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,s=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let o=n.getSlideIndexWhenGrid(n.clickedIndex),c;const d=n.isElement?"swiper-slide":`.${e.slideClass}`,_=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;c=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(c):o>(_?(n.slides.length-s)/2-(n.params.grid.rows-1):n.slides.length-s)?(n.loopFix(),o=n.getSlideIndex(Cr(t,`${d}[data-swiper-slide-index="${c}"]`)[0]),TS(()=>{n.slideTo(o)})):n.slideTo(o)}else n.slideTo(o)}var u3={slideTo:i3,slideToLoop:s3,slideNext:r3,slidePrev:a3,slideReset:o3,slideToClosest:l3,slideToClickedSlide:c3};function h3(n,e){const t=this,{params:s,slidesEl:o}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;const c=()=>{Cr(o,`.${s.slideClass}, swiper-slide`).forEach((k,U)=>{k.setAttribute("data-swiper-slide-index",U)})},d=()=>{const R=Cr(o,`.${s.slideBlankClass}`);R.forEach(k=>{k.remove()}),R.length>0&&(t.recalcSlides(),t.updateSlides())},_=t.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||_)&&d();const m=s.slidesPerGroup*(_?s.grid.rows:1),v=t.slides.length%m!==0,w=_&&t.slides.length%s.grid.rows!==0,E=R=>{for(let k=0;k<R;k+=1){const U=t.isElement?Kf("swiper-slide",[s.slideBlankClass]):Kf("div",[s.slideClass,s.slideBlankClass]);t.slidesEl.append(U)}};if(v){if(s.loopAddBlankSlides){const R=m-t.slides.length%m;E(R),t.recalcSlides(),t.updateSlides()}else Yf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else if(w){if(s.loopAddBlankSlides){const R=s.grid.rows-t.slides.length%s.grid.rows;E(R),t.recalcSlides(),t.updateSlides()}else Yf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else c();const N=s.centeredSlides||!!s.slidesOffsetBefore||!!s.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:N?void 0:"next",initial:e})}function d3({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:s,activeSlideIndex:o,initial:c,byController:d,byMousewheel:_}={}){const m=this;if(!m.params.loop)return;m.emit("beforeLoopFix");const{slides:v,allowSlidePrev:w,allowSlideNext:E,slidesEl:N,params:R}=m,{centeredSlides:k,slidesOffsetBefore:U,slidesOffsetAfter:D,initialSlide:O}=R,q=k||!!U||!!D;if(m.allowSlidePrev=!0,m.allowSlideNext=!0,m.virtual&&R.virtual.enabled){e&&(!q&&m.snapIndex===0?m.slideTo(m.virtual.slides.length,0,!1,!0):q&&m.snapIndex<R.slidesPerView?m.slideTo(m.virtual.slides.length+m.snapIndex,0,!1,!0):m.snapIndex===m.snapGrid.length-1&&m.slideTo(m.virtual.slidesBefore,0,!1,!0)),m.allowSlidePrev=w,m.allowSlideNext=E,m.emit("loopFix");return}let $=R.slidesPerView;$==="auto"?$=m.slidesPerViewDynamic():($=Math.ceil(parseFloat(R.slidesPerView,10)),q&&$%2===0&&($=$+1));const J=R.slidesPerGroupAuto?$:R.slidesPerGroup;let te=q?Math.max(J,Math.ceil($/2)):J;te%J!==0&&(te+=J-te%J),te+=R.loopAdditionalSlides,m.loopedSlides=te;const me=m.grid&&R.grid&&R.grid.rows>1;v.length<$+te||m.params.effect==="cards"&&v.length<$+te*2?Yf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):me&&R.grid.fill==="row"&&Yf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const V=[],I=[],F=me?Math.ceil(v.length/R.grid.rows):v.length,G=c&&F-O<$&&!q;let H=G?O:m.activeIndex;typeof o>"u"?o=m.getSlideIndex(v.find(le=>le.classList.contains(R.slideActiveClass))):H=o;const Y=t==="next"||!t,Z=t==="prev"||!t;let de=0,Ie=0;const Se=(me?v[o].column:o)+(q&&typeof s>"u"?-$/2+.5:0);if(Se<te){de=Math.max(te-Se,J);for(let le=0;le<te-Se;le+=1){const ge=le-Math.floor(le/F)*F;if(me){const Ee=F-ge-1;for(let z=v.length-1;z>=0;z-=1)v[z].column===Ee&&V.push(z)}else V.push(F-ge-1)}}else if(Se+$>F-te){Ie=Math.max(Se-(F-te*2),J),G&&(Ie=Math.max(Ie,$-F+O+1));for(let le=0;le<Ie;le+=1){const ge=le-Math.floor(le/F)*F;me?v.forEach((Ee,z)=>{Ee.column===ge&&I.push(z)}):I.push(ge)}}if(m.__preventObserver__=!0,requestAnimationFrame(()=>{m.__preventObserver__=!1}),m.params.effect==="cards"&&v.length<$+te*2&&(I.includes(o)&&I.splice(I.indexOf(o),1),V.includes(o)&&V.splice(V.indexOf(o),1)),Z&&V.forEach(le=>{v[le].swiperLoopMoveDOM=!0,N.prepend(v[le]),v[le].swiperLoopMoveDOM=!1}),Y&&I.forEach(le=>{v[le].swiperLoopMoveDOM=!0,N.append(v[le]),v[le].swiperLoopMoveDOM=!1}),m.recalcSlides(),R.slidesPerView==="auto"?m.updateSlides():me&&(V.length>0&&Z||I.length>0&&Y)&&m.slides.forEach((le,ge)=>{m.grid.updateSlide(ge,le,m.slides)}),R.watchSlidesProgress&&m.updateSlidesOffset(),e){if(V.length>0&&Z){if(typeof n>"u"){const le=m.slidesGrid[H],Ee=m.slidesGrid[H+de]-le;_?m.setTranslate(m.translate-Ee):(m.slideTo(H+Math.ceil(de),0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-Ee,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-Ee))}else if(s){const le=me?V.length/R.grid.rows:V.length;m.slideTo(m.activeIndex+le,0,!1,!0),m.touchEventsData.currentTranslate=m.translate}}else if(I.length>0&&Y)if(typeof n>"u"){const le=m.slidesGrid[H],Ee=m.slidesGrid[H-Ie]-le;_?m.setTranslate(m.translate-Ee):(m.slideTo(H-Ie,0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-Ee,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-Ee))}else{const le=me?I.length/R.grid.rows:I.length;m.slideTo(m.activeIndex-le,0,!1,!0)}}if(m.allowSlidePrev=w,m.allowSlideNext=E,m.controller&&m.controller.control&&!d){const le={slideRealIndex:n,direction:t,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(m.controller.control)?m.controller.control.forEach(ge=>{!ge.destroyed&&ge.params.loop&&ge.loopFix({...le,slideTo:ge.params.slidesPerView===R.slidesPerView?e:!1})}):m.controller.control instanceof m.constructor&&m.controller.control.params.loop&&m.controller.control.loopFix({...le,slideTo:m.controller.control.params.slidesPerView===R.slidesPerView?e:!1})}m.emit("loopFix")}function f3(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const s=[];n.slides.forEach(o=>{const c=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;s[c]=o}),n.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),s.forEach(o=>{t.append(o)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var m3={loopCreate:h3,loopFix:d3,loopDestroy:f3};function p3(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function g3(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var y3={setGrabCursor:p3,unsetGrabCursor:g3};function _3(n,e=this){function t(s){if(!s||s===Gl()||s===gi())return null;s.assignedSlot&&(s=s.assignedSlot);const o=s.closest(n);return!o&&!s.getRootNode?null:o||t(s.getRootNode().host)}return t(e)}function qw(n,e,t){const s=gi(),{params:o}=n,c=o.edgeSwipeDetection,d=o.edgeSwipeThreshold;return c&&(t<=d||t>=s.innerWidth-d)?c==="prevent"?(e.preventDefault(),!0):!1:!0}function v3(n){const e=this,t=Gl();let s=n;s.originalEvent&&(s=s.originalEvent);const o=e.touchEventsData;if(s.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(o.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){qw(e,s,s.targetTouches[0].pageX);return}const{params:c,touches:d,enabled:_}=e;if(!_||!c.simulateTouch&&s.pointerType==="mouse"||e.animating&&c.preventInteractionOnTransition)return;!e.animating&&c.cssMode&&c.loop&&e.loopFix();let m=s.target;if(c.touchEventsTarget==="wrapper"&&!Cj(m,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||o.isTouched&&o.isMoved)return;const v=!!c.noSwipingClass&&c.noSwipingClass!=="",w=s.composedPath?s.composedPath():s.path;v&&s.target&&s.target.shadowRoot&&w&&(m=w[0]);const E=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`,N=!!(s.target&&s.target.shadowRoot);if(c.noSwiping&&(N?_3(E,m):m.closest(E))){e.allowClick=!0;return}if(c.swipeHandler&&!m.closest(c.swipeHandler))return;d.currentX=s.pageX,d.currentY=s.pageY;const R=d.currentX,k=d.currentY;if(!qw(e,s,R))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=R,d.startY=k,o.touchStartTime=$f(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,c.threshold>0&&(o.allowThresholdMove=!1);let U=!0;m.matches(o.focusableElements)&&(U=!1,m.nodeName==="SELECT"&&(o.isTouched=!1)),t.activeElement&&t.activeElement.matches(o.focusableElements)&&t.activeElement!==m&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!m.matches(o.focusableElements))&&t.activeElement.blur();const D=U&&e.allowTouchMove&&c.touchStartPreventDefault;(c.touchStartForcePreventDefault||D)&&!m.isContentEditable&&s.preventDefault(),c.freeMode&&c.freeMode.enabled&&e.freeMode&&e.animating&&!c.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function b3(n){const e=Gl(),t=this,s=t.touchEventsData,{params:o,touches:c,rtlTranslate:d,enabled:_}=t;if(!_||!o.simulateTouch&&n.pointerType==="mouse")return;let m=n;if(m.originalEvent&&(m=m.originalEvent),m.type==="pointermove"&&(s.touchId!==null||m.pointerId!==s.pointerId))return;let v;if(m.type==="touchmove"){if(v=[...m.changedTouches].find(te=>te.identifier===s.touchId),!v||v.identifier!==s.touchId)return}else v=m;if(!s.isTouched){s.startMoving&&s.isScrolling&&t.emit("touchMoveOpposite",m);return}const w=v.pageX,E=v.pageY;if(m.preventedByNestedSwiper){c.startX=w,c.startY=E;return}if(!t.allowTouchMove){m.target.matches(s.focusableElements)||(t.allowClick=!1),s.isTouched&&(Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E}),s.touchStartTime=$f());return}if(o.touchReleaseOnEdges&&!o.loop)if(t.isVertical()){if(E<c.startY&&t.translate<=t.maxTranslate()||E>c.startY&&t.translate>=t.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(d&&(w>c.startX&&-t.translate<=t.maxTranslate()||w<c.startX&&-t.translate>=t.minTranslate()))return;if(!d&&(w<c.startX&&t.translate<=t.maxTranslate()||w>c.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==m.target&&m.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&m.target===e.activeElement&&m.target.matches(s.focusableElements)){s.isMoved=!0,t.allowClick=!1;return}s.allowTouchCallbacks&&t.emit("touchMove",m),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=w,c.currentY=E;const N=c.currentX-c.startX,R=c.currentY-c.startY;if(t.params.threshold&&Math.sqrt(N**2+R**2)<t.params.threshold)return;if(typeof s.isScrolling>"u"){let te;t.isHorizontal()&&c.currentY===c.startY||t.isVertical()&&c.currentX===c.startX?s.isScrolling=!1:N*N+R*R>=25&&(te=Math.atan2(Math.abs(R),Math.abs(N))*180/Math.PI,s.isScrolling=t.isHorizontal()?te>o.touchAngle:90-te>o.touchAngle)}if(s.isScrolling&&t.emit("touchMoveOpposite",m),typeof s.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(s.startMoving=!0),s.isScrolling||m.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;t.allowClick=!1,!o.cssMode&&m.cancelable&&m.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&m.stopPropagation();let k=t.isHorizontal()?N:R,U=t.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;o.oneWayMovement&&(k=Math.abs(k)*(d?1:-1),U=Math.abs(U)*(d?1:-1)),c.diff=k,k*=o.touchRatio,d&&(k=-k,U=-U);const D=t.touchesDirection;t.swipeDirection=k>0?"prev":"next",t.touchesDirection=U>0?"prev":"next";const O=t.params.loop&&!o.cssMode,q=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!s.isMoved){if(O&&q&&t.loopFix({direction:t.swipeDirection}),s.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const te=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(te)}s.allowMomentumBounce=!1,o.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",m)}if(new Date().getTime(),o._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&D!==t.touchesDirection&&O&&q&&Math.abs(k)>=1){Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}t.emit("sliderMove",m),s.isMoved=!0,s.currentTranslate=k+s.startTranslate;let $=!0,J=o.resistanceRatio;if(o.touchReleaseOnEdges&&(J=0),k>0?(O&&q&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>t.minTranslate()&&($=!1,o.resistance&&(s.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+s.startTranslate+k)**J))):k<0&&(O&&q&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(o.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<t.maxTranslate()&&($=!1,o.resistance&&(s.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-s.startTranslate-k)**J))),$&&(m.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0)if(Math.abs(k)>o.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,s.currentTranslate=s.startTranslate,c.diff=t.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY;return}}else{s.currentTranslate=s.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&t.freeMode||o.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(s.currentTranslate),t.setTranslate(s.currentTranslate))}function x3(n){const e=this,t=e.touchEventsData;let s=n;s.originalEvent&&(s=s.originalEvent);let o;if(s.type==="touchend"||s.type==="touchcancel"){if(o=[...s.changedTouches].find(te=>te.identifier===t.touchId),!o||o.identifier!==t.touchId)return}else{if(t.touchId!==null||s.pointerId!==t.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:d,touches:_,rtlTranslate:m,slidesGrid:v,enabled:w}=e;if(!w||!d.simulateTouch&&s.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",s),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&d.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}d.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const E=$f(),N=E-t.touchStartTime;if(e.allowClick){const te=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(te&&te[0]||s.target,te),e.emit("tap click",s),N<300&&E-t.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(t.lastClickTime=$f(),TS(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||_.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let R;if(d.followFinger?R=m?e.translate:-e.translate:R=-t.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:R});return}const k=R>=-e.maxTranslate()&&!e.params.loop;let U=0,D=e.slidesSizesGrid[0];for(let te=0;te<v.length;te+=te<d.slidesPerGroupSkip?1:d.slidesPerGroup){const me=te<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof v[te+me]<"u"?(k||R>=v[te]&&R<v[te+me])&&(U=te,D=v[te+me]-v[te]):(k||R>=v[te])&&(U=te,D=v[v.length-1]-v[v.length-2])}let O=null,q=null;d.rewind&&(e.isBeginning?q=d.virtual&&d.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(O=0));const $=(R-v[U])/D,J=U<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(N>d.longSwipesMs){if(!d.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&($>=d.longSwipesRatio?e.slideTo(d.rewind&&e.isEnd?O:U+J):e.slideTo(U)),e.swipeDirection==="prev"&&($>1-d.longSwipesRatio?e.slideTo(U+J):q!==null&&$<0&&Math.abs($)>d.longSwipesRatio?e.slideTo(q):e.slideTo(U))}else{if(!d.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(U+J):e.slideTo(U):(e.swipeDirection==="next"&&e.slideTo(O!==null?O:U+J),e.swipeDirection==="prev"&&e.slideTo(q!==null?q:U))}}function Hw(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:c}=n,d=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const _=d&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!_?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!d?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=o,n.allowSlideNext=s,n.params.watchOverflow&&c!==n.snapGrid&&n.checkOverflow()}function w3(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function E3(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:s}=n;if(!s)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let o;const c=n.maxTranslate()-n.minTranslate();c===0?o=0:o=(n.translate-n.minTranslate())/c,o!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function T3(n){const e=this;bf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function S3(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const PS=(n,e)=>{const t=Gl(),{params:s,el:o,wrapperEl:c,device:d}=n,_=!!s.nested,m=e==="on"?"addEventListener":"removeEventListener",v=e;!o||typeof o=="string"||(t[m]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:_}),o[m]("touchstart",n.onTouchStart,{passive:!1}),o[m]("pointerdown",n.onTouchStart,{passive:!1}),t[m]("touchmove",n.onTouchMove,{passive:!1,capture:_}),t[m]("pointermove",n.onTouchMove,{passive:!1,capture:_}),t[m]("touchend",n.onTouchEnd,{passive:!0}),t[m]("pointerup",n.onTouchEnd,{passive:!0}),t[m]("pointercancel",n.onTouchEnd,{passive:!0}),t[m]("touchcancel",n.onTouchEnd,{passive:!0}),t[m]("pointerout",n.onTouchEnd,{passive:!0}),t[m]("pointerleave",n.onTouchEnd,{passive:!0}),t[m]("contextmenu",n.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[m]("click",n.onClick,!0),s.cssMode&&c[m]("scroll",n.onScroll),s.updateOnWindowResize?n[v](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",Hw,!0):n[v]("observerUpdate",Hw,!0),o[m]("load",n.onLoad,{capture:!0}))};function A3(){const n=this,{params:e}=n;n.onTouchStart=v3.bind(n),n.onTouchMove=b3.bind(n),n.onTouchEnd=x3.bind(n),n.onDocumentTouchStart=S3.bind(n),e.cssMode&&(n.onScroll=E3.bind(n)),n.onClick=w3.bind(n),n.onLoad=T3.bind(n),PS(n,"on")}function C3(){PS(this,"off")}var N3={attachEvents:A3,detachEvents:C3};const Fw=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function R3(){const n=this,{realIndex:e,initialized:t,params:s,el:o}=n,c=s.breakpoints;if(!c||c&&Object.keys(c).length===0)return;const d=Gl(),_=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",m=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?n.el:d.querySelector(s.breakpointsBase),v=n.getBreakpoint(c,_,m);if(!v||n.currentBreakpoint===v)return;const E=(v in c?c[v]:void 0)||n.originalParams,N=Fw(n,s),R=Fw(n,E),k=n.params.grabCursor,U=E.grabCursor,D=s.enabled;N&&!R?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),n.emitContainerClasses()):!N&&R&&(o.classList.add(`${s.containerModifierClass}grid`),(E.grid.fill&&E.grid.fill==="column"||!E.grid.fill&&s.grid.fill==="column")&&o.classList.add(`${s.containerModifierClass}grid-column`),n.emitContainerClasses()),k&&!U?n.unsetGrabCursor():!k&&U&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(me=>{if(typeof E[me]>"u")return;const V=s[me]&&s[me].enabled,I=E[me]&&E[me].enabled;V&&!I&&n[me].disable(),!V&&I&&n[me].enable()});const O=E.direction&&E.direction!==s.direction,q=s.loop&&(E.slidesPerView!==s.slidesPerView||O),$=s.loop;O&&t&&n.changeDirection(),ss(n.params,E);const J=n.params.enabled,te=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),D&&!J?n.disable():!D&&J&&n.enable(),n.currentBreakpoint=v,n.emit("_beforeBreakpoint",E),t&&(q?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!$&&te?(n.loopCreate(e),n.updateSlides()):$&&!te&&n.loopDestroy()),n.emit("breakpoint",E)}function I3(n,e="window",t){if(!n||e==="container"&&!t)return;let s=!1;const o=gi(),c=e==="window"?o.innerHeight:t.clientHeight,d=Object.keys(n).map(_=>{if(typeof _=="string"&&_.indexOf("@")===0){const m=parseFloat(_.substr(1));return{value:c*m,point:_}}return{value:_,point:_}});d.sort((_,m)=>parseInt(_.value,10)-parseInt(m.value,10));for(let _=0;_<d.length;_+=1){const{point:m,value:v}=d[_];e==="window"?o.matchMedia(`(min-width: ${v}px)`).matches&&(s=m):v<=t.clientWidth&&(s=m)}return s||"max"}var P3={setBreakpoint:R3,getBreakpoint:I3};function M3(n,e){const t=[];return n.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(o=>{s[o]&&t.push(e+o)}):typeof s=="string"&&t.push(e+s)}),t}function L3(){const n=this,{classNames:e,params:t,rtl:s,el:o,device:c}=n,d=M3(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:s},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:c.android},{ios:c.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),o.classList.add(...e),n.emitContainerClasses()}function O3(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var D3={addClasses:L3,removeClasses:O3};function k3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:s}=t;if(s){const o=n.slides.length-1,c=n.slidesGrid[o]+n.slidesSizesGrid[o]+s*2;n.isLocked=n.size>c}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var j3={checkOverflow:k3},Ty={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function V3(n,e){return function(s={}){const o=Object.keys(s)[0],c=s[o];if(typeof c!="object"||c===null){ss(e,s);return}if(n[o]===!0&&(n[o]={enabled:!0}),o==="navigation"&&n[o]&&n[o].enabled&&!n[o].prevEl&&!n[o].nextEl&&(n[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&n[o]&&n[o].enabled&&!n[o].el&&(n[o].auto=!0),!(o in n&&"enabled"in c)){ss(e,s);return}typeof n[o]=="object"&&!("enabled"in n[o])&&(n[o].enabled=!0),n[o]||(n[o]={enabled:!1}),ss(e,s)}}const Hg={eventsEmitter:Dj,update:Zj,translate:Xj,transition:n3,slide:u3,loop:m3,grabCursor:y3,events:N3,breakpoints:P3,checkOverflow:j3,classes:D3},Fg={};let q_=class ha{constructor(...e){let t,s;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?s=e[0]:[t,s]=e,s||(s={}),s=ss({},s),t&&!s.el&&(s.el=t);const o=Gl();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){const m=[];return o.querySelectorAll(s.el).forEach(v=>{const w=ss({},s,{el:v});m.push(new ha(w))}),m}const c=this;c.__swiper__=!0,c.support=CS(),c.device=NS({userAgent:s.userAgent}),c.browser=RS(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],s.modules&&Array.isArray(s.modules)&&c.modules.push(...s.modules);const d={};c.modules.forEach(m=>{m({params:s,swiper:c,extendParams:V3(s,d),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const _=ss({},Ty,d);return c.params=ss({},_,Fg,s),c.originalParams=ss({},c.params),c.passedParams=ss({},s),c.params&&c.params.on&&Object.keys(c.params.on).forEach(m=>{c.on(m,c.params.on[m])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,o=Cr(t,`.${s.slideClass}, swiper-slide`),c=Wf(o[0]);return Wf(e)-c}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:s}=e;e.slides=Cr(t,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const o=s.minTranslate(),d=(s.maxTranslate()-o)*e+o;s.translateTo(d,typeof t>"u"?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const o=e.getSlideClasses(s);t.push({slideEl:s,classNames:o}),e.emit("_slideClass",s,o)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const s=this,{params:o,slides:c,slidesGrid:d,slidesSizesGrid:_,size:m,activeIndex:v}=s;let w=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let E=c[v]?Math.ceil(c[v].swiperSlideSize):0,N;for(let R=v+1;R<c.length;R+=1)c[R]&&!N&&(E+=Math.ceil(c[R].swiperSlideSize),w+=1,E>m&&(N=!0));for(let R=v-1;R>=0;R-=1)c[R]&&!N&&(E+=c[R].swiperSlideSize,w+=1,E>m&&(N=!0))}else if(e==="current")for(let E=v+1;E<c.length;E+=1)(t?d[E]+_[E]-d[v]<m:d[E]-d[v]<m)&&(w+=1);else for(let E=v-1;E>=0;E-=1)d[v]-d[E]<m&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&bf(e,d)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const d=e.rtlTranslate?e.translate*-1:e.translate,_=Math.min(Math.max(d,e.maxTranslate()),e.minTranslate());e.setTranslate(_),e.updateActiveIndex(),e.updateSlidesClasses()}let c;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)o(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const d=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;c=e.slideTo(d.length-1,0,!1,!0)}else c=e.slideTo(e.activeIndex,0,!1,!0);c||o()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,o=s.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${o}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(c=>{e==="vertical"?c.style.width="":c.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const o=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(o()):Cr(s,o())[0];return!d&&t.params.createElements&&(d=Kf("div",t.params.wrapperClass),s.append(d),Cr(s,`.${t.params.slideClass}`).forEach(_=>{d.append(_)})),Object.assign(t,{el:s,wrapperEl:d,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:d,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||wo(s,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||wo(s,"direction")==="rtl"),wrongRTL:wo(d,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const o=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&o.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(c=>{c.complete?bf(t,c):c.addEventListener("load",d=>{bf(t,d.target)})}),Ey(t),t.initialized=!0,Ey(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const s=this,{params:o,el:c,wrapperEl:d,slides:_}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),t&&(s.removeClasses(),c&&typeof c!="string"&&c.removeAttribute("style"),d&&d.removeAttribute("style"),_&&_.length&&_.forEach(m=>{m.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),m.removeAttribute("style"),m.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(m=>{s.off(m)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),wj(s)),s.destroyed=!0),null}static extendDefaults(e){ss(Fg,e)}static get extendedDefaults(){return Fg}static get defaults(){return Ty}static installModule(e){ha.prototype.__modules__||(ha.prototype.__modules__=[]);const t=ha.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ha.installModule(t)),ha):(ha.installModule(e),ha)}};Object.keys(Hg).forEach(n=>{Object.keys(Hg[n]).forEach(e=>{q_.prototype[e]=Hg[n][e]})});q_.use([Lj,Oj]);const MS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ul(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Hc(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Ul(e[s])&&Ul(n[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?n[s]=e[s]:Hc(n[s],e[s]):n[s]=e[s]})}function LS(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function OS(n={}){return n.pagination&&typeof n.pagination.el>"u"}function DS(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function kS(n=""){const e=n.split(" ").map(s=>s.trim()).filter(s=>!!s),t=[];return e.forEach(s=>{t.indexOf(s)<0&&t.push(s)}),t.join(" ")}function z3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function U3({swiper:n,slides:e,passedParams:t,changedParams:s,nextEl:o,prevEl:c,scrollbarEl:d,paginationEl:_}){const m=s.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:v,pagination:w,navigation:E,scrollbar:N,virtual:R,thumbs:k}=n;let U,D,O,q,$,J,te,me;s.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(U=!0),s.includes("controller")&&t.controller&&t.controller.control&&v.controller&&!v.controller.control&&(D=!0),s.includes("pagination")&&t.pagination&&(t.pagination.el||_)&&(v.pagination||v.pagination===!1)&&w&&!w.el&&(O=!0),s.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||d)&&(v.scrollbar||v.scrollbar===!1)&&N&&!N.el&&(q=!0),s.includes("navigation")&&t.navigation&&(t.navigation.prevEl||c)&&(t.navigation.nextEl||o)&&(v.navigation||v.navigation===!1)&&E&&!E.prevEl&&!E.nextEl&&($=!0);const V=I=>{n[I]&&(n[I].destroy(),I==="navigation"?(n.isElement&&(n[I].prevEl.remove(),n[I].nextEl.remove()),v[I].prevEl=void 0,v[I].nextEl=void 0,n[I].prevEl=void 0,n[I].nextEl=void 0):(n.isElement&&n[I].el.remove(),v[I].el=void 0,n[I].el=void 0))};s.includes("loop")&&n.isElement&&(v.loop&&!t.loop?J=!0:!v.loop&&t.loop?te=!0:me=!0),m.forEach(I=>{if(Ul(v[I])&&Ul(t[I]))Object.assign(v[I],t[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in t[I]&&!t[I].enabled&&V(I);else{const F=t[I];(F===!0||F===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?F===!1&&V(I):v[I]=t[I]}}),m.includes("controller")&&!D&&n.controller&&n.controller.control&&v.controller&&v.controller.control&&(n.controller.control=v.controller.control),s.includes("children")&&e&&R&&v.virtual.enabled?(R.slides=e,R.update(!0)):s.includes("virtual")&&R&&v.virtual.enabled&&(e&&(R.slides=e),R.update(!0)),s.includes("children")&&e&&v.loop&&(me=!0),U&&k.init()&&k.update(!0),D&&(n.controller.control=v.controller.control),O&&(n.isElement&&(!_||typeof _=="string")&&(_=document.createElement("div"),_.classList.add("swiper-pagination"),_.part.add("pagination"),n.el.appendChild(_)),_&&(v.pagination.el=_),w.init(),w.render(),w.update()),q&&(n.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),n.el.appendChild(d)),d&&(v.scrollbar.el=d),N.init(),N.updateSize(),N.setTranslate()),$&&(n.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Ch(o,n.navigation.arrowSvg),o.part.add("button-next"),n.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),Ch(c,n.navigation.arrowSvg),c.part.add("button-prev"),n.el.appendChild(c))),o&&(v.navigation.nextEl=o),c&&(v.navigation.prevEl=c),E.init(),E.update()),s.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),s.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),s.includes("direction")&&n.changeDirection(t.direction,!1),(J||me)&&n.loopDestroy(),(te||me)&&n.loopCreate(),n.update()}function B3(n={},e=!0){const t={on:{}},s={},o={};Hc(t,Ty),t._emitClasses=!0,t.init=!1;const c={},d=MS.map(m=>m.replace(/_/,"")),_=Object.assign({},n);return Object.keys(_).forEach(m=>{typeof n[m]>"u"||(d.indexOf(m)>=0?Ul(n[m])?(t[m]={},o[m]={},Hc(t[m],n[m]),Hc(o[m],n[m])):(t[m]=n[m],o[m]=n[m]):m.search(/on[A-Z]/)===0&&typeof n[m]=="function"?e?s[`${m[2].toLowerCase()}${m.substr(3)}`]=n[m]:t.on[`${m[2].toLowerCase()}${m.substr(3)}`]=n[m]:c[m]=n[m])}),["navigation","pagination","scrollbar"].forEach(m=>{t[m]===!0&&(t[m]={}),t[m]===!1&&delete t[m]}),{params:t,passedParams:o,rest:c,events:s}}function q3({el:n,nextEl:e,prevEl:t,paginationEl:s,scrollbarEl:o,swiper:c},d){LS(d)&&e&&t&&(c.params.navigation.nextEl=e,c.originalParams.navigation.nextEl=e,c.params.navigation.prevEl=t,c.originalParams.navigation.prevEl=t),OS(d)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),DS(d)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(n)}function H3(n,e,t,s,o){const c=[];if(!e)return c;const d=m=>{c.indexOf(m)<0&&c.push(m)};if(t&&s){const m=s.map(o),v=t.map(o);m.join("")!==v.join("")&&d("children"),s.length!==t.length&&d("children")}return MS.filter(m=>m[0]==="_").map(m=>m.replace(/_/,"")).forEach(m=>{if(m in n&&m in e)if(Ul(n[m])&&Ul(e[m])){const v=Object.keys(n[m]),w=Object.keys(e[m]);v.length!==w.length?d(m):(v.forEach(E=>{n[m][E]!==e[m][E]&&d(m)}),w.forEach(E=>{n[m][E]!==e[m][E]&&d(m)}))}else n[m]!==e[m]&&d(m)}),c}const F3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Qf(){return Qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Qf.apply(this,arguments)}function jS(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function VS(n){const e=[];return rn.Children.toArray(n).forEach(t=>{jS(t)?e.push(t):t.props&&t.props.children&&VS(t.props.children).forEach(s=>e.push(s))}),e}function G3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return rn.Children.toArray(n).forEach(s=>{if(jS(s))e.push(s);else if(s.props&&s.props.slot&&t[s.props.slot])t[s.props.slot].push(s);else if(s.props&&s.props.children){const o=VS(s.props.children);o.length>0?o.forEach(c=>e.push(c)):t["container-end"].push(s)}else t["container-end"].push(s)}),{slides:e,slots:t}}function Z3(n,e,t){if(!t)return null;const s=w=>{let E=w;return w<0?E=e.length+w:E>=e.length&&(E=E-e.length),E},o=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:c,to:d}=t,_=n.params.loop?-e.length:0,m=n.params.loop?e.length*2:e.length,v=[];for(let w=_;w<m;w+=1)w>=c&&w<=d&&v.push(e[s(w)]);return v.map((w,E)=>rn.cloneElement(w,{swiper:n,style:o,key:w.props.virtualIndex||w.key||`slide-${E}`}))}function mh(n,e){return typeof window>"u"?B.useEffect(n,e):B.useLayoutEffect(n,e)}const Gw=B.createContext(null),$3=B.createContext(null),zS=B.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:s,onSwiper:o,...c}={},d)=>{let _=!1;const[m,v]=B.useState("swiper"),[w,E]=B.useState(null),[N,R]=B.useState(!1),k=B.useRef(!1),U=B.useRef(null),D=B.useRef(null),O=B.useRef(null),q=B.useRef(null),$=B.useRef(null),J=B.useRef(null),te=B.useRef(null),me=B.useRef(null),{params:V,passedParams:I,rest:F,events:G}=B3(c),{slides:H,slots:Y}=G3(s),Z=()=>{R(!N)};Object.assign(V.on,{_containerClasses(le,ge){v(ge)}});const de=()=>{Object.assign(V.on,G),_=!0;const le={...V};if(delete le.wrapperClass,D.current=new q_(le),D.current.virtual&&D.current.params.virtual.enabled){D.current.virtual.slides=H;const ge={cache:!1,slides:H,renderExternal:E,renderExternalUpdate:!1};Hc(D.current.params.virtual,ge),Hc(D.current.originalParams.virtual,ge)}};U.current||de(),D.current&&D.current.on("_beforeBreakpoint",Z);const Ie=()=>{_||!G||!D.current||Object.keys(G).forEach(le=>{D.current.on(le,G[le])})},re=()=>{!G||!D.current||Object.keys(G).forEach(le=>{D.current.off(le,G[le])})};B.useEffect(()=>()=>{D.current&&D.current.off("_beforeBreakpoint",Z)}),B.useEffect(()=>{!k.current&&D.current&&(D.current.emitSlidesClasses(),k.current=!0)}),mh(()=>{if(d&&(d.current=U.current),!!U.current)return D.current.destroyed&&de(),q3({el:U.current,nextEl:$.current,prevEl:J.current,paginationEl:te.current,scrollbarEl:me.current,swiper:D.current},V),o&&!D.current.destroyed&&o(D.current),()=>{D.current&&!D.current.destroyed&&D.current.destroy(!0,!1)}},[]),mh(()=>{Ie();const le=H3(I,O.current,H,q.current,ge=>ge.key);return O.current=I,q.current=H,le.length&&D.current&&!D.current.destroyed&&U3({swiper:D.current,slides:H,passedParams:I,changedParams:le,nextEl:$.current,prevEl:J.current,scrollbarEl:me.current,paginationEl:te.current}),()=>{re()}}),mh(()=>{F3(D.current)},[w]);function Se(){return V.virtual?Z3(D.current,H,w):H.map((le,ge)=>rn.cloneElement(le,{swiper:D.current,swiperSlideIndex:ge}))}return rn.createElement(e,Qf({ref:U,className:kS(`${m}${n?` ${n}`:""}`)},F),rn.createElement($3.Provider,{value:D.current},Y["container-start"],rn.createElement(t,{className:z3(V.wrapperClass)},Y["wrapper-start"],Se(),Y["wrapper-end"]),LS(V)&&rn.createElement(rn.Fragment,null,rn.createElement("div",{ref:J,className:"swiper-button-prev"}),rn.createElement("div",{ref:$,className:"swiper-button-next"})),DS(V)&&rn.createElement("div",{ref:me,className:"swiper-scrollbar"}),OS(V)&&rn.createElement("div",{ref:te,className:"swiper-pagination"}),Y["container-end"]))});zS.displayName="Swiper";const Sy=B.forwardRef(({tag:n="div",children:e,className:t="",swiper:s,zoom:o,lazy:c,virtualIndex:d,swiperSlideIndex:_,...m}={},v)=>{const w=B.useRef(null),[E,N]=B.useState("swiper-slide"),[R,k]=B.useState(!1);function U($,J,te){J===w.current&&N(te)}mh(()=>{if(typeof _<"u"&&(w.current.swiperSlideIndex=_),v&&(v.current=w.current),!(!w.current||!s)){if(s.destroyed){E!=="swiper-slide"&&N("swiper-slide");return}return s.on("_slideClass",U),()=>{s&&s.off("_slideClass",U)}}}),mh(()=>{s&&w.current&&!s.destroyed&&N(s.getSlideClasses(w.current))},[s]);const D={isActive:E.indexOf("swiper-slide-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0},O=()=>typeof e=="function"?e(D):e,q=()=>{k(!0)};return rn.createElement(n,Qf({ref:w,className:kS(`${E}${t?` ${t}`:""}`),"data-swiper-slide-index":d,onLoad:q},m),o&&rn.createElement(Gw.Provider,{value:D},rn.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},O(),c&&!R&&rn.createElement("div",{className:"swiper-lazy-preloader",ref:$=>{$&&($.lazyPreloaderManaged=!0)}}))),!o&&rn.createElement(Gw.Provider,{value:D},O(),c&&!R&&rn.createElement("div",{className:"swiper-lazy-preloader",ref:$=>{$&&($.lazyPreloaderManaged=!0)}})))});Sy.displayName="SwiperSlide";function US(n,e,t,s){return n.params.createElements&&Object.keys(s).forEach(o=>{if(!t[o]&&t.auto===!0){let c=Cr(n.el,`.${s[o]}`)[0];c||(c=Kf("div",s[o]),c.className=s[o],n.el.append(c)),t[o]=c,e[o]=c}}),t}const Zw='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Y3({swiper:n,extendParams:e,on:t,emit:s}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null,arrowSvg:Zw};function o(R){let k;return R&&typeof R=="string"&&n.isElement&&(k=n.el.querySelector(R)||n.hostEl.querySelector(R),k)?k:(R&&(typeof R=="string"&&(k=[...document.querySelectorAll(R)]),n.params.uniqueNavElements&&typeof R=="string"&&k&&k.length>1&&n.el.querySelectorAll(R).length===1?k=n.el.querySelector(R):k&&k.length===1&&(k=k[0])),R&&!k?R:k)}function c(R,k){const U=n.params.navigation;R=Vn(R),R.forEach(D=>{D&&(D.classList[k?"add":"remove"](...U.disabledClass.split(" ")),D.tagName==="BUTTON"&&(D.disabled=k),n.params.watchOverflow&&n.enabled&&D.classList[n.isLocked?"add":"remove"](U.lockClass))})}function d(){const{nextEl:R,prevEl:k}=n.navigation;if(n.params.loop){c(k,!1),c(R,!1);return}c(k,n.isBeginning&&!n.params.rewind),c(R,n.isEnd&&!n.params.rewind)}function _(R){R.preventDefault(),!(n.isBeginning&&!n.params.loop&&!n.params.rewind)&&(n.slidePrev(),s("navigationPrev"))}function m(R){R.preventDefault(),!(n.isEnd&&!n.params.loop&&!n.params.rewind)&&(n.slideNext(),s("navigationNext"))}function v(){const R=n.params.navigation;if(n.params.navigation=US(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(R.nextEl||R.prevEl))return;let k=o(R.nextEl),U=o(R.prevEl);Object.assign(n.navigation,{nextEl:k,prevEl:U}),k=Vn(k),U=Vn(U);const D=(O,q)=>{if(O){if(R.addIcons&&O.matches(".swiper-button-next,.swiper-button-prev")&&!O.querySelector("svg")){const $=document.createElement("div");Ch($,Zw),O.appendChild($.querySelector("svg")),$.remove()}O.addEventListener("click",q==="next"?m:_)}!n.enabled&&O&&O.classList.add(...R.lockClass.split(" "))};k.forEach(O=>D(O,"next")),U.forEach(O=>D(O,"prev"))}function w(){let{nextEl:R,prevEl:k}=n.navigation;R=Vn(R),k=Vn(k);const U=(D,O)=>{D.removeEventListener("click",O==="next"?m:_),D.classList.remove(...n.params.navigation.disabledClass.split(" "))};R.forEach(D=>U(D,"next")),k.forEach(D=>U(D,"prev"))}t("init",()=>{n.params.navigation.enabled===!1?N():(v(),d())}),t("toEdge fromEdge lock unlock",()=>{d()}),t("destroy",()=>{w()}),t("enable disable",()=>{let{nextEl:R,prevEl:k}=n.navigation;if(R=Vn(R),k=Vn(k),n.enabled){d();return}[...R,...k].filter(U=>!!U).forEach(U=>U.classList.add(n.params.navigation.lockClass))}),t("click",(R,k)=>{let{nextEl:U,prevEl:D}=n.navigation;U=Vn(U),D=Vn(D);const O=k.target;let q=D.includes(O)||U.includes(O);if(n.isElement&&!q){const $=k.path||k.composedPath&&k.composedPath();$&&(q=$.find(J=>U.includes(J)||D.includes(J)))}if(n.params.navigation.hideOnClick&&!q){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===O||n.pagination.el.contains(O)))return;let $;U.length?$=U[0].classList.contains(n.params.navigation.hiddenClass):D.length&&($=D[0].classList.contains(n.params.navigation.hiddenClass)),s($===!0?"navigationShow":"navigationHide"),[...U,...D].filter(J=>!!J).forEach(J=>J.classList.toggle(n.params.navigation.hiddenClass))}});const E=()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),v(),d()},N=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(n.navigation,{enable:E,disable:N,update:d,init:v,destroy:w})}function Xu(n=""){return`.${n.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function K3({swiper:n,extendParams:e,on:t,emit:s}){const o="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:O=>O,formatFractionTotal:O=>O,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),n.pagination={el:null,bullets:[]};let c,d=0;function _(){return!n.params.pagination.el||!n.pagination.el||Array.isArray(n.pagination.el)&&n.pagination.el.length===0}function m(O,q){const{bulletActiveClass:$}=n.params.pagination;O&&(O=O[`${q==="prev"?"previous":"next"}ElementSibling`],O&&(O.classList.add(`${$}-${q}`),O=O[`${q==="prev"?"previous":"next"}ElementSibling`],O&&O.classList.add(`${$}-${q}-${q}`)))}function v(O,q,$){if(O=O%$,q=q%$,q===O+1)return"next";if(q===O-1)return"previous"}function w(O){const q=O.target.closest(Xu(n.params.pagination.bulletClass));if(!q)return;O.preventDefault();const $=Wf(q)*n.params.slidesPerGroup;if(n.params.loop){if(n.realIndex===$)return;const J=v(n.realIndex,$,n.slides.length);J==="next"?n.slideNext():J==="previous"?n.slidePrev():n.slideToLoop($)}else n.slideTo($)}function E(){const O=n.rtl,q=n.params.pagination;if(_())return;let $=n.pagination.el;$=Vn($);let J,te;const me=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,V=n.params.loop?Math.ceil(me/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(te=n.previousRealIndex||0,J=n.params.slidesPerGroup>1?Math.floor(n.realIndex/n.params.slidesPerGroup):n.realIndex):typeof n.snapIndex<"u"?(J=n.snapIndex,te=n.previousSnapIndex):(te=n.previousIndex||0,J=n.activeIndex||0),q.type==="bullets"&&n.pagination.bullets&&n.pagination.bullets.length>0){const I=n.pagination.bullets;let F,G,H;if(q.dynamicBullets&&(c=wy(I[0],n.isHorizontal()?"width":"height"),$.forEach(Y=>{Y.style[n.isHorizontal()?"width":"height"]=`${c*(q.dynamicMainBullets+4)}px`}),q.dynamicMainBullets>1&&te!==void 0&&(d+=J-(te||0),d>q.dynamicMainBullets-1?d=q.dynamicMainBullets-1:d<0&&(d=0)),F=Math.max(J-d,0),G=F+(Math.min(I.length,q.dynamicMainBullets)-1),H=(G+F)/2),I.forEach(Y=>{const Z=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(de=>`${q.bulletActiveClass}${de}`)].map(de=>typeof de=="string"&&de.includes(" ")?de.split(" "):de).flat();Y.classList.remove(...Z)}),$.length>1)I.forEach(Y=>{const Z=Wf(Y);Z===J?Y.classList.add(...q.bulletActiveClass.split(" ")):n.isElement&&Y.setAttribute("part","bullet"),q.dynamicBullets&&(Z>=F&&Z<=G&&Y.classList.add(...`${q.bulletActiveClass}-main`.split(" ")),Z===F&&m(Y,"prev"),Z===G&&m(Y,"next"))});else{const Y=I[J];if(Y&&Y.classList.add(...q.bulletActiveClass.split(" ")),n.isElement&&I.forEach((Z,de)=>{Z.setAttribute("part",de===J?"bullet-active":"bullet")}),q.dynamicBullets){const Z=I[F],de=I[G];for(let Ie=F;Ie<=G;Ie+=1)I[Ie]&&I[Ie].classList.add(...`${q.bulletActiveClass}-main`.split(" "));m(Z,"prev"),m(de,"next")}}if(q.dynamicBullets){const Y=Math.min(I.length,q.dynamicMainBullets+4),Z=(c*Y-c)/2-H*c,de=O?"right":"left";I.forEach(Ie=>{Ie.style[n.isHorizontal()?de:"top"]=`${Z}px`})}}$.forEach((I,F)=>{if(q.type==="fraction"&&(I.querySelectorAll(Xu(q.currentClass)).forEach(G=>{G.textContent=q.formatFractionCurrent(J+1)}),I.querySelectorAll(Xu(q.totalClass)).forEach(G=>{G.textContent=q.formatFractionTotal(V)})),q.type==="progressbar"){let G;q.progressbarOpposite?G=n.isHorizontal()?"vertical":"horizontal":G=n.isHorizontal()?"horizontal":"vertical";const H=(J+1)/V;let Y=1,Z=1;G==="horizontal"?Y=H:Z=H,I.querySelectorAll(Xu(q.progressbarFillClass)).forEach(de=>{de.style.transform=`translate3d(0,0,0) scaleX(${Y}) scaleY(${Z})`,de.style.transitionDuration=`${n.params.speed}ms`})}q.type==="custom"&&q.renderCustom?(Ch(I,q.renderCustom(n,J+1,V)),F===0&&s("paginationRender",I)):(F===0&&s("paginationRender",I),s("paginationUpdate",I)),n.params.watchOverflow&&n.enabled&&I.classList[n.isLocked?"add":"remove"](q.lockClass)})}function N(){const O=n.params.pagination;if(_())return;const q=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.grid&&n.params.grid.rows>1?n.slides.length/Math.ceil(n.params.grid.rows):n.slides.length;let $=n.pagination.el;$=Vn($);let J="";if(O.type==="bullets"){let te=n.params.loop?Math.ceil(q/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&te>q&&(te=q);for(let me=0;me<te;me+=1)O.renderBullet?J+=O.renderBullet.call(n,me,O.bulletClass):J+=`<${O.bulletElement} ${n.isElement?'part="bullet"':""} class="${O.bulletClass}"></${O.bulletElement}>`}O.type==="fraction"&&(O.renderFraction?J=O.renderFraction.call(n,O.currentClass,O.totalClass):J=`<span class="${O.currentClass}"></span> / <span class="${O.totalClass}"></span>`),O.type==="progressbar"&&(O.renderProgressbar?J=O.renderProgressbar.call(n,O.progressbarFillClass):J=`<span class="${O.progressbarFillClass}"></span>`),n.pagination.bullets=[],$.forEach(te=>{O.type!=="custom"&&Ch(te,J||""),O.type==="bullets"&&n.pagination.bullets.push(...te.querySelectorAll(Xu(O.bulletClass)))}),O.type!=="custom"&&s("paginationRender",$[0])}function R(){n.params.pagination=US(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const O=n.params.pagination;if(!O.el)return;let q;typeof O.el=="string"&&n.isElement&&(q=n.el.querySelector(O.el)),!q&&typeof O.el=="string"&&(q=[...document.querySelectorAll(O.el)]),q||(q=O.el),!(!q||q.length===0)&&(n.params.uniqueNavElements&&typeof O.el=="string"&&Array.isArray(q)&&q.length>1&&(q=[...n.el.querySelectorAll(O.el)],q.length>1&&(q=q.find($=>AS($,".swiper")[0]===n.el))),Array.isArray(q)&&q.length===1&&(q=q[0]),Object.assign(n.pagination,{el:q}),q=Vn(q),q.forEach($=>{O.type==="bullets"&&O.clickable&&$.classList.add(...(O.clickableClass||"").split(" ")),$.classList.add(O.modifierClass+O.type),$.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.type==="bullets"&&O.dynamicBullets&&($.classList.add(`${O.modifierClass}${O.type}-dynamic`),d=0,O.dynamicMainBullets<1&&(O.dynamicMainBullets=1)),O.type==="progressbar"&&O.progressbarOpposite&&$.classList.add(O.progressbarOppositeClass),O.clickable&&$.addEventListener("click",w),n.enabled||$.classList.add(O.lockClass)}))}function k(){const O=n.params.pagination;if(_())return;let q=n.pagination.el;q&&(q=Vn(q),q.forEach($=>{$.classList.remove(O.hiddenClass),$.classList.remove(O.modifierClass+O.type),$.classList.remove(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.clickable&&($.classList.remove(...(O.clickableClass||"").split(" ")),$.removeEventListener("click",w))})),n.pagination.bullets&&n.pagination.bullets.forEach($=>$.classList.remove(...O.bulletActiveClass.split(" ")))}t("changeDirection",()=>{if(!n.pagination||!n.pagination.el)return;const O=n.params.pagination;let{el:q}=n.pagination;q=Vn(q),q.forEach($=>{$.classList.remove(O.horizontalClass,O.verticalClass),$.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass)})}),t("init",()=>{n.params.pagination.enabled===!1?D():(R(),N(),E())}),t("activeIndexChange",()=>{typeof n.snapIndex>"u"&&E()}),t("snapIndexChange",()=>{E()}),t("snapGridLengthChange",()=>{N(),E()}),t("destroy",()=>{k()}),t("enable disable",()=>{let{el:O}=n.pagination;O&&(O=Vn(O),O.forEach(q=>q.classList[n.enabled?"remove":"add"](n.params.pagination.lockClass)))}),t("lock unlock",()=>{E()}),t("click",(O,q)=>{const $=q.target,J=Vn(n.pagination.el);if(n.params.pagination.el&&n.params.pagination.hideOnClick&&J&&J.length>0&&!$.classList.contains(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&$===n.navigation.nextEl||n.navigation.prevEl&&$===n.navigation.prevEl))return;const te=J[0].classList.contains(n.params.pagination.hiddenClass);s(te===!0?"paginationShow":"paginationHide"),J.forEach(me=>me.classList.toggle(n.params.pagination.hiddenClass))}});const U=()=>{n.el.classList.remove(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=Vn(O),O.forEach(q=>q.classList.remove(n.params.pagination.paginationDisabledClass))),R(),N(),E()},D=()=>{n.el.classList.add(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=Vn(O),O.forEach(q=>q.classList.add(n.params.pagination.paginationDisabledClass))),k()};Object.assign(n.pagination,{enable:U,disable:D,render:N,update:E,init:R,destroy:k})}const W3=()=>{const{id:n}=eC(),[e,t]=B.useState(null),[s,o]=B.useState(!0),[c,d]=B.useState(!1),[_,m]=B.useState(!1),v=B.useRef(!1),[w,E]=B.useState({name:"",phone:"",message:"Hola, estoy interesado en esta propiedad y me gustara recibir ms informacin."}),N=async me=>{me.preventDefault(),m(!0);try{await qc(wn(nt,"inquiries"),{propertyId:e.id,propertyTitle:e.title,agentId:e.agentId,clientName:w.name,clientPhone:w.phone,clientMessage:w.message,timestamp:new Date,status:"pending"}),Ge.success("Tu solicitud ha sido enviada! El agente te contactar pronto."),d(!1),E({name:"",phone:"",message:""})}catch(V){console.error("Error sending inquiry:",V),Ge.error("Hubo un error al enviar tu solicitud.")}finally{m(!1)}},R=async()=>{if(!e)return;let me="51999999999";try{if(e.agentId){const F=await Rl(mn(nt,"users",e.agentId));if(F.exists()){const G=F.data();G.phoneNumber&&(me=G.phoneNumber.replace(/[\s\-\+]/g,""),me.startsWith("51")||(me="51"+me))}}}catch(F){console.error("Error fetching agent phone:",F)}const V=`Hola, estoy interesado en la propiedad: ${e.title}
 ${e.location}`,I=`https://wa.me/${me}?text=${encodeURIComponent(V)}`;window.open(I,"_blank")},k=async()=>{const me={title:e?.title||"Propiedad en Inmuvete",text:`Mira esta propiedad: ${e?.title} - ${e?.location}`,url:window.location.href};try{navigator.share?await navigator.share(me):(await navigator.clipboard.writeText(window.location.href),Ge.success("Enlace copiado al portapapeles!"))}catch(V){V.name!=="AbortError"&&(await navigator.clipboard.writeText(window.location.href),Ge.success("Enlace copiado al portapapeles!"))}},U=()=>{Ge.success("Propiedad guardada en favoritos!")};if(B.useEffect(()=>{(async()=>{try{if(!n)return;const V=mn(nt,"properties",n),I=await Rl(V);if(I.exists()){const F=I.data();v.current||(v.current=!0,mo(V,{views:vD(1)}).catch(G=>console.error("Error incrementing views",G)),F.views=(F.views||0)+1),t({id:I.id,...F})}else console.log("No such document!")}catch(V){console.error("Error fetching property:",V)}finally{o(!1)}})()},[n]),s)return p.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:p.jsx("div",{className:"w-16 h-16 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})});if(!e)return p.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Propiedad no encontrada"}),p.jsx(an,{to:"/",className:"text-[#fc7f51] hover:underline",children:"Volver al inicio"})]});const D=3.75,O=typeof e.price=="number"?e.price:parseFloat(e.price),q=e.currency||"USD";let $,J;q==="USD"?($=O,J=O*D):(J=O,$=O/D);const te=e.lat&&e.lng?`https://www.google.com/maps/search/?api=1&query=${e.lat},${e.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.location)}`;return p.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[p.jsxs("main",{className:"container mx-auto px-6 pt-32 pb-12",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:e.title}),p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center text-sm gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium overflow-hidden",children:[p.jsx(Dr,{className:"w-4 h-4 text-[#fc7f51] flex-shrink-0"}),p.jsx("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#fc7f51] truncate",children:e.location})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("button",{onClick:k,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[p.jsx(J4,{className:"w-4 h-4"})," Compartir"]}),p.jsxs("button",{onClick:U,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[p.jsx(Gf,{className:"w-4 h-4"})," Guardar"]})]})]})]}),p.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 shadow-2xl relative h-[400px] md:h-[600px] bg-gray-100 group",children:p.jsx(zS,{modules:[Y3,K3],navigation:!0,pagination:{clickable:!0},className:"h-full w-full",loop:!0,children:e.images&&e.images.length>0?e.images.map((me,V)=>p.jsx(Sy,{children:p.jsx("img",{src:me,alt:`Property ${V+1}`,className:"w-full h-full object-cover"})},V)):p.jsx(Sy,{children:p.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-400",children:"No hay imgenes disponibles"})})})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["Publicado por ",e.agentName||"Agente Inmuvete"]}),p.jsxs("p",{className:"text-gray-600 mb-0",children:[e.bedrooms||0," Habitaciones  ",e.bathrooms||0," Baos  ",e.footage," m"]})]}),p.jsx("div",{className:"w-14 h-14 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden border-2 border-white shadow-md",children:p.jsx(vS,{className:"w-8 h-8 text-gray-400"})})]}),p.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Caractersticas"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-y-4 gap-x-6",children:[p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(F4,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsxs("span",{children:[e.footage," m"]})]}),p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(t4,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsxs("span",{children:[e.bedrooms||0," Habitaciones"]})]}),p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(J5,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsxs("span",{children:[e.bathrooms||0," Baos"]})]}),e.parking&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(c4,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:"Cochera"})]}),e.isDuplex&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(P4,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:"Dplex"})]}),e.floor&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(Q5,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsxs("span",{children:["Piso ",e.floor]})]}),e.isInBuilding&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(r4,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:"En Edificio"})]}),e.elevator&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(K5,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:"Ascensor"})]}),e.furnished&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(H5,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:"Amoblado"})]}),e.pool&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(xS,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:"Piscina"})]}),e.gym&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(y4,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:"Gimnasio"})]}),e.security&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(yS,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:"Seguridad 24/7"})]}),e.isExclusive&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(sj,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:"Exclusivo"})]}),e.antiquity&&p.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[p.jsx(f4,{className:"w-5 h-5 text-[#fc7f51]"}),p.jsx("span",{children:e.antiquity==="estreno"?"Estreno":e.antiquity})]})]})]}),p.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[p.jsx("h3",{className:"text-xl font-bold mb-4",children:"Descripcin"}),p.jsx("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-line",children:e.description})]}),p.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[p.jsx("h3",{className:"text-xl font-bold mb-4",children:"Detalles"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[p.jsx("span",{className:"text-gray-500",children:"Tipo"}),p.jsx("span",{className:"font-semibold capitalize",children:e.type})]}),p.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[p.jsx("span",{className:"text-gray-500",children:"Categora"}),p.jsx("span",{className:"font-semibold capitalize",children:e.category})]}),p.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[p.jsx("span",{className:"text-gray-500",children:"rea"}),p.jsxs("span",{className:"font-semibold",children:[e.footage," m"]})]}),p.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[p.jsx("span",{className:"text-gray-500",children:"Estado"}),p.jsx("span",{className:`font-semibold capitalize ${e.status==="disponible"?"text-green-600":"text-red-500"}`,children:e.status})]}),p.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[p.jsx("span",{className:"text-gray-500",children:"Antigedad"}),p.jsx("span",{className:"font-semibold capitalize",children:e.antiquity==="estreno"?"A estrenar":e.antiquity==="preventa"?"En Preventa":e.antiquity==="up_to_5"?"Hasta 5 aos":e.antiquity==="5_to_10"?"5 a 10 aos":e.antiquity==="10_to_20"?"10 a 20 aos":e.antiquity==="more_than_20"?"Ms de 20 aos":e.antiquity||"No especificado"})]}),e.floor&&p.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[p.jsx("span",{className:"text-gray-500",children:"Piso"}),p.jsxs("span",{className:"font-semibold",children:[e.floor,""]})]}),p.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[p.jsx("span",{className:"text-gray-500",children:"Ascensor"}),p.jsx("span",{className:"font-semibold",children:e.elevator?"S":"No"})]}),p.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[p.jsx("span",{className:"text-gray-500",children:"Cochera"}),p.jsx("span",{className:"font-semibold",children:e.parking?"S":"No"})]})]})]}),p.jsxs("div",{className:"pt-4",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ubicacin"}),p.jsx("p",{className:"text-gray-500 mb-4",children:e.location}),p.jsxs("div",{className:"h-96 w-full rounded-xl overflow-hidden bg-gray-100 shadow-inner relative group",children:[e.lat&&e.lng?p.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${e.lat},${e.lng}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):e.location?p.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${encodeURIComponent(e.location)}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):p.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-200",children:[p.jsx(Dr,{className:"w-12 h-12 text-gray-400 mb-2"}),p.jsx("p",{className:"text-gray-500",children:"Mapa no disponible para esta ubicacin."})]}),p.jsxs("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-lg text-sm font-bold flex items-center gap-2 hover:bg-[#fc7f51] hover:text-white transition",children:[p.jsx(Dr,{className:"w-4 h-4"}),"Abrir en Google Maps"]})]})]})]}),p.jsx("div",{className:"lg:col-span-1",children:p.jsxs("div",{className:"sticky top-32 bg-white rounded-xl shadow-card border border-gray-200 p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("span",{className:"block text-3xl font-bold text-[#fc7f51]",children:$.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})}),p.jsx("span",{className:"block text-xl font-bold text-gray-400 mt-1",children:J.toLocaleString("en-US",{style:"currency",currency:"PEN",maximumFractionDigits:0})}),e.type==="alquiler"&&p.jsx("span",{className:"text-gray-500 text-sm block mt-1",children:"Precio por mes"})]}),p.jsxs("button",{onClick:R,className:"w-full bg-[#25D366] text-white font-bold text-lg py-3 rounded-lg hover:bg-[#20bd5a] transition mb-4 shadow-lg shadow-green-500/30 flex items-center justify-center gap-2",children:[p.jsx(gS,{className:"w-5 h-5"}),"Contactar por WhatsApp"]}),p.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-white border-2 border-gray-200 text-gray-700 font-bold py-3 rounded-lg hover:border-[#fc7f51] hover:text-[#fc7f51] transition mb-6 flex items-center justify-center gap-2",children:[p.jsx(pS,{className:"w-5 h-5"}),"Solicitar Informacin"]}),p.jsx("div",{className:"text-center text-xs text-gray-400",children:"* Al contactar aceptas nuestros trminos y condiciones."})]})})]})]}),c&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[p.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Solicitar Informacin"}),p.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:p.jsx(Wc,{className:"w-5 h-5"})})]}),p.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),p.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre completo",value:w.name,onChange:me=>E({...w,name:me.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono / WhatsApp"}),p.jsx("input",{required:!0,type:"tel",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: +51 999 999 999",value:w.phone,onChange:me=>E({...w,phone:me.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),p.jsx("textarea",{required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition h-32 resize-none",value:w.message,onChange:me=>E({...w,message:me.target.value})})]}),p.jsx("button",{type:"submit",disabled:_,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-70",children:_?p.jsx(Ah,{className:"animate-spin"}):"Enviar Solicitud"})]})]})})]})},H_="/inmobiliaria/assets/logo-9PyExb9b.png",Q3=()=>p.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[p.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:p.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20",alt:"About Hero"})}),p.jsxs("div",{className:"relative z-10 text-center px-6",children:[p.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:["Ms que una ",p.jsx("span",{className:"text-[#fc7f51]",children:"inmobiliaria"})]}),p.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Inspiramos movimiento. Impulsamos a las personas a dar el paso hacia nuevas etapas de su vida."})]})]}),p.jsxs("div",{className:"container mx-auto px-6 py-20",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center mb-24",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Quines Somos"}),p.jsx("img",{src:H_,alt:"Inmuvete",className:"h-16 mb-6 object-contain"}),p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 leading-tight",children:"Concepto de Marca"}),p.jsxs("p",{className:"text-[#878787] text-lg leading-relaxed mb-6",children:["Ms que vender inmuebles, inspiramos movimiento. ",p.jsx("strong",{className:"text-[#262626]",children:"Inmuvete"})," es la inmobiliaria que impulsa a las personas a dar el paso hacia nuevas etapas de su vida: un nuevo hogar, una inversin segura o un espacio para crecer."]}),p.jsx("p",{className:"text-[#878787] text-lg leading-relaxed",children:"Nuestro enfoque combina confianza, transparencia y dinamismo, convirtiendo cada transaccin en una experiencia cercana, gil y motivadora."})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx("img",{src:"https://images.unsplash.com/photo-1600596542815-e3287135f5cf?q=80&w=2072&auto=format&fit=crop",className:"rounded-tl-[40px] rounded-br-[40px] w-full h-64 object-cover shadow-card",alt:"Concept 1"}),p.jsx("img",{src:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2053&auto=format&fit=crop",className:"rounded-tr-[40px] rounded-bl-[40px] w-full h-64 object-cover shadow-card mt-8",alt:"Concept 2"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-24",children:[p.jsxs("div",{className:"bg-[#f9f9f9] p-10 rounded-2xl hover:shadow-lg transition border-l-4 border-[#fc7f51] group",children:[p.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] group-hover:text-white transition",children:p.jsx(aj,{className:"w-7 h-7"})}),p.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Misin"}),p.jsx("p",{className:"text-[#878787] leading-relaxed",children:'"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles, ofreciendo un servicio cercano que transforma cada proceso en una experiencia sencilla y segura."'})]}),p.jsxs("div",{className:"bg-[#262626] p-10 rounded-2xl text-white shadow-xl relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#fc7f51] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"}),p.jsx("div",{className:"w-14 h-14 bg-[#333] rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] transition",children:p.jsx(Ff,{className:"w-7 h-7"})}),p.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visin"}),p.jsx("p",{className:"text-gray-300 leading-relaxed",children:'"Ser la inmobiliaria de referencia en la regin, reconocida por la confianza, innovacin y cercana con nuestros clientes, ofreciendo experiencias inmobiliarias que impulsen el desarrollo personal, familiar y empresarial."'})]})]}),p.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[p.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Nuestra Esencia"}),p.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Nuestros Valores"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:p.jsx(yS,{className:"w-10 h-10"})}),p.jsx("h4",{className:"text-xl font-bold mb-3",children:"Integridad"}),p.jsx("p",{className:"text-[#878787] text-sm",children:"Actuamos con honestidad y transparencia en cada paso."})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:p.jsx(T4,{className:"w-10 h-10"})}),p.jsx("h4",{className:"text-xl font-bold mb-3",children:"Compromiso"}),p.jsx("p",{className:"text-[#878787] text-sm",children:"Nos dedicamos a cumplir y superar las expectativas."})]}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:p.jsx(bS,{className:"w-10 h-10"})}),p.jsx("h4",{className:"text-xl font-bold mb-3",children:"Confianza"}),p.jsx("p",{className:"text-[#878787] text-sm",children:"Construimos relaciones duraderas basadas en la seguridad."})]})]})]})]})]}),X3=()=>{const{user:n,userData:e,logout:t}=Vo(),o=nr().pathname==="/about";return p.jsx("nav",{className:"fixed w-full z-50 bg-[#16151a] border-b border-gray-800 shadow-lg",children:p.jsxs("div",{className:"container mx-auto px-6 h-24 flex justify-between items-center",children:[p.jsxs(an,{to:"/",className:"flex items-center gap-3 group",children:[p.jsx("img",{src:H_,alt:"Inmuvete",className:`${o?"block":"hidden md:block"} h-12 w-auto object-contain`}),!o&&p.jsx("img",{src:"/favicon.png",alt:"Inmuvete",className:"block md:hidden h-10 w-auto object-contain"})]}),p.jsxs("div",{className:"hidden lg:flex items-center bg-white rounded-full py-2 pl-6 pr-2 shadow-xl hover:shadow-orange-500/5 transition cursor-pointer gap-4 min-w-[420px]",children:[p.jsx("input",{type:"text",placeholder:"Buscar por zona, ciudad o tipo...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm"}),p.jsx("div",{className:"bg-[#fc7f51] p-2.5 rounded-full text-white hover:bg-[#e56b3e] transition shadow-md",children:p.jsx(Kc,{className:"w-5 h-5",strokeWidth:2.5})})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[p.jsx(an,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),p.jsx(an,{to:"/about",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Nosotros"}),p.jsx(an,{to:"/contact",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Contacto"})]}),n?p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs(an,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",className:"text-white hover:text-[#fc7f51] transition font-medium mr-2",children:["Hola, ",n.displayName?n.displayName.split(" ")[0]:"Usuario"]}),p.jsx("button",{onClick:t,className:"bg-[#262626] border border-gray-600 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition",children:"Salir"}),p.jsx(an,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",children:p.jsx("div",{className:"bg-gray-600 rounded-full p-0.5 cursor-pointer",children:p.jsx(h4,{className:"w-8 h-8 text-white fill-gray-600"})})})]}):p.jsx(an,{to:"/login",className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-full font-bold transition shadow-lg shadow-orange-500/20",children:"Ingresar"})]})]})})},J3=()=>p.jsxs("footer",{className:"bg-[#16151a] text-white py-16",children:[p.jsxs("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("img",{src:H_,alt:"Inmuvete",className:"h-12"}),p.jsxs("span",{className:"text-2xl font-bold font-[Montserrat] text-white",children:["Inmu",p.jsx("span",{className:"text-[#fc7f51]",children:"vete"})]})]}),p.jsx("p",{className:"text-[#878787] text-sm leading-relaxed mb-6",children:"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles."}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"in"}),p.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"ig"}),p.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"fb"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Nuestros Valores"}),p.jsxs("ul",{className:"space-y-4 text-sm text-[#878787]",children:[p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Integridad"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Compromiso"]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Confianza"]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Contacto"}),p.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"Oficina Central, Ciudad"}),p.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"contacto@inmuevete.com"}),p.jsx("p",{className:"text-[#878787] text-sm",children:"+51 123 456 789"})]})]}),p.jsx("div",{className:"border-t border-[#262626] mt-12 pt-8 text-center text-[#878787] text-xs",children:" 2024 Inmuvete. Todos los derechos reservados."})]}),e6=()=>{const[n,e]=B.useState({name:"",phone:"+51 ",email:"",subject:"Informacin general",message:""}),t=d=>{e({...n,[d.target.name]:d.target.value})},s=d=>{let _=d.target.value;_.startsWith("+51 ")||(_="+51 "+_.replace(/^\+51\s*/,"")),e({...n,phone:_})},o=()=>{const d="+51965355700";let _=n.message.trim();return _||(_=`Hola, me gustara ${n.subject==="Comprar una propiedad"?"Comprar":n.subject==="Vender una propiedad"?"Vender":n.subject==="Alquileres"?"Alquilar":"obtener Informacin general sobre"} un inmueble.`),_+=`

- Nombre: ${n.name}
- Telfono: ${n.phone}
- Email: ${n.email}
- Asunto: ${n.subject}`,`https://wa.me/${d}?text=${encodeURIComponent(_)}`},c=d=>{if(d.preventDefault(),!n.name||!n.email){Ge.error("Por favor completa nombre y email.");return}const _=o();Ge.success("Redirigiendo a WhatsApp..."),setTimeout(()=>{window.open(_,"_blank")},1e3)};return p.jsx("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:p.jsxs("div",{className:"pt-24 pb-20 container mx-auto px-6",children:[p.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[p.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Hablamos?"}),p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#262626]",children:"Contctanos"}),p.jsx("p",{className:"text-[#878787] text-lg",children:"Estamos aqu para ayudarte a encontrar tu espacio ideal. Escrbenos y un asesor se pondr en contacto contigo a la brevedad."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[p.jsxs("div",{className:"bg-[#16151a] text-white p-10 rounded-3xl shadow-xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-20 blur-3xl"}),p.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-10 blur-3xl"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Informacin de Contacto"}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:p.jsx(gS,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg mb-1",children:"Telfono"}),p.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"+51 965355700"})]})]}),p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:p.jsx(pS,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg mb-1",children:"Email"}),p.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"contacto@inmuevete.com"}),p.jsx("p",{className:"text-gray-400 text-sm",children:"ventas@inmuevete.com"})]})]}),p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:p.jsx(Dr,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg mb-1",children:"Oficina Central"}),p.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Av. Principal 123, Oficina 404",p.jsx("br",{}),"Centro Empresarial, Ciudad",p.jsx("br",{}),"Per"]})]})]})]}),p.jsxs("div",{className:"mt-12",children:[p.jsx("h4",{className:"font-bold text-lg mb-4",children:"Sguenos"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:p.jsx(N4,{className:"w-5 h-5"})}),p.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:p.jsx(b4,{className:"w-5 h-5"})}),p.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:p.jsx(D4,{className:"w-5 h-5"})})]})]})]})]}),p.jsx("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-card border border-gray-100",children:p.jsxs("form",{onSubmit:c,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Nombre"}),p.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,placeholder:"Tu nombre completo",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Telfono"}),p.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:s,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Email"}),p.jsx("input",{type:"email",name:"email",value:n.email,onChange:t,placeholder:"ejemplo@correo.com",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Asunto"}),p.jsxs("select",{name:"subject",value:n.subject,onChange:t,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition text-gray-600 bg-white",children:[p.jsx("option",{value:"Informacin general",children:"Informacin general"}),p.jsx("option",{value:"Comprar una propiedad",children:"Comprar una propiedad"}),p.jsx("option",{value:"Vender una propiedad",children:"Vender una propiedad"}),p.jsx("option",{value:"Alquileres",children:"Alquileres"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Mensaje"}),p.jsx("textarea",{name:"message",value:n.message,onChange:t,rows:"4",placeholder:"Cmo podemos ayudarte?",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),p.jsxs("button",{type:"submit",className:"w-full bg-[#128C7E] hover:bg-[#075E54] text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2 group",children:["Contactar por WhatsApp",p.jsx(Z4,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})]})]})})},$w=3.75,t6=()=>{const[n,e]=GC(),[t,s]=B.useState(n.get("operation")||"venta"),[o,c]=B.useState(n.get("location")||""),[d,_]=B.useState(n.get("propertyType")||""),[m,v]=B.useState(n.get("currency")||"USD"),[w,E]=B.useState(n.get("priceMin")||""),[N,R]=B.useState(n.get("priceMax")||""),[k,U]=B.useState(n.get("bedrooms")||""),[D,O]=B.useState(n.get("bathrooms")||""),[q,$]=B.useState(n.get("floor")||""),[J,te]=B.useState(n.get("parking")==="true"),[me,V]=B.useState(n.get("isDuplex")==="true"),[I,F]=B.useState([]),[G,H]=B.useState([]),[Y,Z]=B.useState(!0),[de,Ie]=B.useState(!1),[re,Se]=B.useState("newest");B.useEffect(()=>{(async()=>{Z(!0);try{const pe=(await Ks(wn(nt,"properties"))).docs.map(be=>({id:be.id,...be.data()}));F(pe)}catch(X){console.error("Error fetching properties:",X)}finally{Z(!1)}})()},[]),B.useEffect(()=>{let z=[...I];if(t&&(z=z.filter(X=>X.type?.toLowerCase()===t.toLowerCase())),o){const X=o.toLowerCase();z=z.filter(pe=>pe.location?.toLowerCase().includes(X)||pe.address?.toLowerCase().includes(X)||pe.title?.toLowerCase().includes(X))}if(d){const X=d.toLowerCase();z=z.filter(pe=>{const be=pe.title?.toLowerCase()||"",Ae=pe.category?.toLowerCase()||"",Ce=pe.location?.toLowerCase()||"";return X==="departamento"||X==="departamentos"?be.includes("departamento")||be.includes("depa"):X==="casa"||X==="casas"?be.includes("casa"):X==="terreno"||X==="terrenos"?Ae==="terreno"||be.includes("terreno")||be.includes("lote"):X==="oficina"||X==="oficinas"?be.includes("oficina"):X==="local"||X==="locales"?be.includes("local"):X==="campestre"||X==="campestres"?be.includes("campestre")||be.includes("campo")||Ce.includes("campo"):X==="playa"?be.includes("playa")||Ce.includes("playa"):!0})}if(w||N){const X=w?parseFloat(w):0,pe=N?parseFloat(N):1/0;z=z.filter(be=>{const Ae=typeof be.price=="number"?be.price:parseFloat(be.price)||0,Ce=be.currency||"USD";let Ue;return Ce===m?Ue=Ae:m==="USD"&&Ce==="PEN"?Ue=Ae/$w:m==="PEN"&&Ce==="USD"?Ue=Ae*$w:Ue=Ae,Ue>=X&&Ue<=pe})}if(k){const X=parseInt(k);z=z.filter(pe=>(parseInt(pe.bedrooms)||0)>=X)}if(D){const X=parseInt(D);z=z.filter(pe=>(parseInt(pe.bathrooms)||0)>=X)}J&&(z=z.filter(X=>X.parking===!0)),me&&(z=z.filter(X=>X.isDuplex===!0)),q&&(z=z.filter(X=>X.floor?.toString().toLowerCase()===q.toLowerCase())),z=z.filter(X=>X.status==="disponible"),re==="newest"?z.sort((X,pe)=>(pe.createdAt?.seconds||0)-(X.createdAt?.seconds||0)):re==="price_asc"?z.sort((X,pe)=>(parseFloat(X.price)||0)-(parseFloat(pe.price)||0)):re==="price_desc"&&z.sort((X,pe)=>(parseFloat(pe.price)||0)-(parseFloat(X.price)||0)),z.sort((X,pe)=>X.isPromoted&&!pe.isPromoted?-1:!X.isPromoted&&pe.isPromoted?1:0),H(z)},[I,t,o,d,m,w,N,k,D,J,me,q,re]);const le=()=>{const z={};t&&(z.operation=t),o&&(z.location=o),d&&(z.propertyType=d),m&&(z.currency=m),w&&(z.priceMin=w),N&&(z.priceMax=N),k&&(z.bedrooms=k),D&&(z.bathrooms=D),q&&(z.floor=q),J&&(z.parking="true"),me&&(z.isDuplex="true"),e(z)},ge=()=>{s("venta"),c(""),_(""),v("USD"),E(""),R(""),U(""),O(""),$(""),te(!1),V(!1),e({})},Ee=[t,o,d,w,N,k,D,q,J,me].filter(Boolean).length;return p.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-[#262626]",children:[p.jsx("div",{className:"bg-white border-b border-gray-200 pt-24 pb-6 sticky top-0 z-30",children:p.jsxs("div",{className:"container mx-auto px-6",children:[p.jsxs(an,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-[#fc7f51] transition mb-4",children:[p.jsx(G5,{className:"w-4 h-4"}),"Volver al inicio"]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[p.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl flex-shrink-0",children:["venta","alquiler","anticresis"].map(z=>p.jsx("button",{onClick:()=>s(z),className:`px-4 py-2 text-sm font-bold capitalize rounded-lg transition-all ${t===z?"bg-white text-[#fc7f51] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:z},z))}),p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(Dr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"text",value:o,onChange:z=>c(z.target.value),onKeyDown:z=>z.key==="Enter"&&le(),placeholder:"Buscar por ubicacin, zona o nombre...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"})]}),p.jsxs("button",{onClick:()=>Ie(!de),className:`flex items-center gap-2 px-4 py-3 rounded-xl border font-bold text-sm transition flex-shrink-0 ${de?"bg-[#fc7f51] text-white border-[#fc7f51]":"bg-white text-gray-700 border-gray-200 hover:border-[#fc7f51]"}`,children:[p.jsx(nj,{className:"w-4 h-4"}),"Filtros",Ee>1&&p.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${de?"bg-white/20 text-white":"bg-[#fc7f51] text-white"}`,children:Ee})]}),p.jsxs("button",{onClick:le,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-8 py-3 rounded-xl font-bold text-sm shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2 flex-shrink-0",children:[p.jsx(Kc,{className:"w-4 h-4"}),"Buscar"]})]}),de&&p.jsxs("div",{className:"mt-4 p-6 bg-gray-50 rounded-2xl border border-gray-200 animate-fadeIn",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo Inmueble"}),p.jsxs("select",{value:d,onChange:z=>_(z.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[p.jsx("option",{value:"",children:"Todos"}),p.jsx("option",{value:"departamento",children:"Departamento"}),p.jsx("option",{value:"casa",children:"Casa"}),p.jsx("option",{value:"terreno",children:"Terreno"}),p.jsx("option",{value:"oficina",children:"Oficina"}),p.jsx("option",{value:"local",children:"Local Comercial"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),p.jsxs("div",{className:"flex bg-white rounded-lg border border-gray-200 p-0.5 h-[42px]",children:[p.jsx("button",{onClick:()=>v("USD"),className:`flex-1 rounded-md text-xs font-bold transition ${m==="USD"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"$ USD"}),p.jsx("button",{onClick:()=>v("PEN"),className:`flex-1 rounded-md text-xs font-bold transition ${m==="PEN"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"S/ PEN"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mn."}),p.jsx("input",{type:"number",placeholder:"0",value:w,onChange:z=>E(z.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mx."}),p.jsx("input",{type:"number",placeholder:"Sin lmite",value:N,onChange:z=>R(z.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),p.jsxs("select",{value:k,onChange:z=>U(z.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[p.jsx("option",{value:"",children:"Cualquiera"}),p.jsx("option",{value:"1",children:"1+"}),p.jsx("option",{value:"2",children:"2+"}),p.jsx("option",{value:"3",children:"3+"}),p.jsx("option",{value:"4",children:"4+"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),p.jsxs("select",{value:D,onChange:z=>O(z.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[p.jsx("option",{value:"",children:"Cualquiera"}),p.jsx("option",{value:"1",children:"1+"}),p.jsx("option",{value:"2",children:"2+"}),p.jsx("option",{value:"3",children:"3+"})]})]})]}),p.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 border-t border-gray-100 pt-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Piso"}),p.jsx("input",{type:"text",placeholder:"Ej. 1",value:q,onChange:z=>$(z.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),p.jsxs("div",{className:"flex flex-col gap-2 justify-center h-full pt-1",children:[p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:J,onChange:z=>te(z.target.checked)}),p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Con Cochera"})]}),p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:me,onChange:z=>V(z.target.checked)}),p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Dplex"})]})]})]}),p.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[p.jsxs("button",{onClick:ge,className:"text-sm text-gray-500 hover:text-red-500 font-medium flex items-center gap-1 transition",children:[p.jsx(Wc,{className:"w-4 h-4"}),"Limpiar filtros"]}),p.jsx("button",{onClick:()=>{le(),Ie(!1)},className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-lg font-bold text-sm transition",children:"Aplicar Filtros"})]})]})]})}),p.jsxs("div",{className:"container mx-auto px-6 py-8",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:Y?"Buscando...":`${G.length} propiedad${G.length!==1?"es":""} encontrada${G.length!==1?"s":""}`}),(o||d)&&p.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[t&&p.jsx("span",{className:"capitalize",children:t}),d&&p.jsxs("span",{children:["  ",d]}),o&&p.jsxs("span",{children:[" en ",p.jsx("strong",{children:o})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("label",{className:"text-sm text-gray-500 font-medium",children:"Ordenar por:"}),p.jsxs("select",{value:re,onChange:z=>Se(z.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium focus:border-[#fc7f51] outline-none cursor-pointer",children:[p.jsx("option",{value:"newest",children:"Ms recientes"}),p.jsx("option",{value:"price_asc",children:"Precio: menor a mayor"}),p.jsx("option",{value:"price_desc",children:"Precio: mayor a menor"})]})]})]}),Y?p.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[p.jsx(Ah,{className:"w-12 h-12 animate-spin text-[#fc7f51] mb-4"}),p.jsx("p",{className:"text-gray-500 font-medium",children:"Buscando propiedades..."})]}):G.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[p.jsx("div",{className:"w-24 h-24 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:p.jsx(Kc,{className:"w-12 h-12 text-[#fc7f51]/50"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No encontramos propiedades"}),p.jsx("p",{className:"text-gray-500 max-w-md mb-6",children:"No hay propiedades que coincidan con tus criterios de bsqueda. Intenta ajustar los filtros o buscar en otra ubicacin."}),p.jsx("button",{onClick:ge,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold transition",children:"Limpiar Filtros"})]}):p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:G.map(z=>p.jsx(wS,{property:z},z.id))})]})]})},n6=()=>{const[n,e]=B.useState(""),[t,s]=B.useState(""),{login:o,loginWithGoogle:c,loginWithApple:d}=Vo(),_=Jc(),m=async N=>{try{const R=await Rl(mn(nt,"users",N));if(R.exists()){const k=R.data();k.role==="agente"?_("/agent-dashboard"):k.role==="superadmin"?_("/superadmin"):_("/client-dashboard")}else _("/")}catch(R){console.error("Error redirecting:",R)}},v=async N=>{N.preventDefault();try{const R=await o(n,t);Ge.success("Bienvenido de nuevo!"),m(R.user.uid)}catch(R){Ge.error(R.message)}},w=async()=>{try{const N=await c();Ge.success("Bienvenido!"),m(N.user.uid)}catch(N){Ge.error(N.message)}},E=async()=>{try{const N=await d();Ge.success("Bienvenido!"),m(N.user.uid)}catch(N){Ge.error(N.message)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[p.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Iniciar Sesin"}),p.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Accede a tu cuenta de Inmuvete"}),p.jsxs("form",{onSubmit:v,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),p.jsx("input",{type:"email",value:n,onChange:N=>e(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),p.jsx("input",{type:"password",value:t,onChange:N=>s(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"",required:!0})]}),p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("label",{className:"flex items-center text-gray-600",children:[p.jsx("input",{type:"checkbox",className:"mr-2 text-[#fc7f51] focus:ring-[#fc7f51] rounded border-gray-300"}),"Recordarme"]}),p.jsx(an,{to:"/forgot-password",className:"text-[#fc7f51] hover:underline font-medium",children:"Olvidaste tu contrasea?"})]}),p.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Ingresar"})]}),p.jsxs("div",{className:"my-6 flex items-center",children:[p.jsx("div",{className:"flex-grow border-t border-gray-200"}),p.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O contina con"}),p.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),p.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),p.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["No tienes una cuenta?"," ",p.jsx(an,{to:"/register",className:"text-[#fc7f51] font-bold hover:underline",children:"Regstrate aqu"})]})]})})},i6=()=>{const[n,e]=B.useState(""),[t,s]=B.useState(""),[o,c]=B.useState(""),[d,_]=B.useState(""),[m,v]=B.useState("cliente"),{signup:w,loginWithGoogle:E,loginWithApple:N}=Vo(),R=Jc(),k=async O=>{O.preventDefault();try{await w(n,t,m,o,d),Ge.success("Cuenta creada exitosamente!"),R(m==="agente"?"/agent-dashboard":"/client-dashboard")}catch(q){Ge.error(q.message)}},U=async()=>{try{await E(m),Ge.success("Cuenta creada exitosamente!"),R(m==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Ge.error(O.message)}},D=async()=>{try{await N(m),Ge.success("Cuenta creada exitosamente!"),R(m==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Ge.error(O.message)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[p.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Crear una Cuenta"}),p.jsx("p",{className:"text-center text-gray-500 mb-8",children:"nete y encuentra tu prximo hogar"}),p.jsxs("form",{onSubmit:k,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),p.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),p.jsx("input",{type:"tel",value:d,onChange:O=>_(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"+51 999 999 999",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),p.jsx("input",{type:"email",value:n,onChange:O=>e(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),p.jsx("input",{type:"password",value:t,onChange:O=>s(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Crea una contrasea segura",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Qu buscas hacer?"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>v("cliente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${m==="cliente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[p.jsx("span",{className:"font-bold",children:"Buscar Propiedades"}),p.jsx("span",{className:"text-xs mt-1",children:"Soy Cliente"})]}),p.jsxs("button",{type:"button",onClick:()=>v("agente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${m==="agente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[p.jsx("span",{className:"font-bold",children:"Publicar Inmuebles"}),p.jsx("span",{className:"text-xs mt-1",children:"Soy Agente"})]})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Registrarme"})]}),p.jsxs("div",{className:"my-6 flex items-center",children:[p.jsx("div",{className:"flex-grow border-t border-gray-200"}),p.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O regstrate con"}),p.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),p.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[p.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),p.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Ya tienes cuenta?"," ",p.jsx(an,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Inicia Sesin"})]})]})})},s6=()=>{const[n,e]=B.useState(""),{resetPassword:t}=Vo(),[s,o]=B.useState(!1),c=async d=>{d.preventDefault(),o(!0);try{await t(n),Ge.success("Te hemos enviado un correo para restablecer tu contrasea.")}catch(_){Ge.error(_.message)}finally{o(!1)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[p.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Recuperar Contrasea"}),p.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Ingresa tu correo y te enviaremos las instrucciones"}),p.jsxs("form",{onSubmit:c,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),p.jsx("input",{type:"email",value:n,onChange:d=>e(d.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),p.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:s?"Enviando...":"Enviar Instrucciones"})]}),p.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Te acordaste?"," ",p.jsx(an,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Volver a Iniciar Sesin"})]})]})})};function r6(n,e){const t=B.useRef(e);B.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const a6=1;function o6(n){return Object.freeze({__version:a6,map:n})}function l6(n,e){return Object.freeze({...n,...e})}const F_=B.createContext(null);function BS(){const n=B.use(F_);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function c6(n){function e(t,s){const{instance:o,context:c}=n(t).current;B.useImperativeHandle(s,()=>o);const{children:d}=t;return d==null?null:rn.createElement(F_,{value:c},d)}return B.forwardRef(e)}function u6(n){function e(t,s){const{instance:o}=n(t).current;return B.useImperativeHandle(s,()=>o),null}return B.forwardRef(e)}function h6(n,e){const t=B.useRef(void 0);B.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function qS(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}var rh={exports:{}};var d6=rh.exports,Yw;function f6(){return Yw||(Yw=1,(function(n,e){(function(t,s){s(e)})(d6,(function(t){var s="1.9.4";function o(a){var u,g,x,S;for(g=1,x=arguments.length;g<x;g++){S=arguments[g];for(u in S)a[u]=S[u]}return a}var c=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function d(a,u){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var x=g.call(arguments,2);return function(){return a.apply(u,x.length?x.concat(g.call(arguments)):arguments)}}var _=0;function m(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function v(a,u,g){var x,S,P,K;return K=function(){x=!1,S&&(P.apply(g,S),S=!1)},P=function(){x?S=arguments:(a.apply(g,arguments),setTimeout(K,u),x=!0)},P}function w(a,u,g){var x=u[1],S=u[0],P=x-S;return a===x&&g?a:((a-S)%P+P)%P+S}function E(){return!1}function N(a,u){if(u===!1)return a;var g=Math.pow(10,u===void 0?6:u);return Math.round(a*g)/g}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return R(a).split(/\s+/)}function U(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var g in u)a.options[g]=u[g];return a.options}function D(a,u,g){var x=[];for(var S in a)x.push(encodeURIComponent(g?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function q(a,u){return a.replace(O,function(g,x){var S=u[x];if(S===void 0)throw new Error("No value provided for variable "+g);return typeof S=="function"&&(S=S(u)),S})}var $=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function J(a,u){for(var g=0;g<a.length;g++)if(a[g]===u)return g;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function me(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var V=0;function I(a){var u=+new Date,g=Math.max(0,16-(u-V));return V=u+g,window.setTimeout(a,g)}var F=window.requestAnimationFrame||me("RequestAnimationFrame")||I,G=window.cancelAnimationFrame||me("CancelAnimationFrame")||me("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function H(a,u,g){if(g&&F===I)a.call(u);else return F.call(window,d(a,u))}function Y(a){a&&G.call(window,a)}var Z={__proto__:null,extend:o,create:c,bind:d,get lastId(){return _},stamp:m,throttle:v,wrapNum:w,falseFn:E,formatNum:N,trim:R,splitWords:k,setOptions:U,getParamString:D,template:q,isArray:$,indexOf:J,emptyImageUrl:te,requestFn:F,cancelFn:G,requestAnimFrame:H,cancelAnimFrame:Y};function de(){}de.extend=function(a){var u=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=u.__super__=this.prototype,x=c(g);x.constructor=u,u.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&o(u,a.statics),a.includes&&(Ie(a.includes),o.apply(null,[x].concat(a.includes))),o(x,a),delete x.statics,delete x.includes,x.options&&(x.options=g.options?c(g.options):{},o(x.options,a.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,K=x._initHooks.length;P<K;P++)x._initHooks[P].call(this)}},u},de.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},de.mergeOptions=function(a){return o(this.prototype.options,a),this},de.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function Ie(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=$(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(a,u,g){if(typeof a=="object")for(var x in a)this._on(x,a[x],u);else{a=k(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g)}return this},off:function(a,u,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var x in a)this._off(x,a[x],u);else{a=k(a);for(var S=arguments.length===1,P=0,K=a.length;P<K;P++)S?this._off(a[P]):this._off(a[P],u,g)}return this},_on:function(a,u,g,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,g)===!1){g===this&&(g=void 0);var S={fn:u,ctx:g};x&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,g){var x,S,P;if(this._events&&(x=this._events[a],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,P=x.length;S<P;S++)x[S].fn=E;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var K=this._listens(a,u,g);if(K!==!1){var ne=x[K];this._firingCount&&(ne.fn=E,this._events[a]=x=x.slice()),x.splice(K,1)}}},fire:function(a,u,g){if(!this.listens(a,g))return this;var x=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,K=S.length;P<K;P++){var ne=S[P],ce=ne.fn;ne.once&&this.off(a,ce,ne.ctx),ce.call(ne.ctx||this,x)}this._firingCount--}}return g&&this._propagateEvent(x),this},listens:function(a,u,g,x){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(x=!!u,S=void 0,g=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,g)!==!1)return!0;if(x){for(var K in this._eventParents)if(this._eventParents[K].listens(a,u,g,x))return!0}return!1},_listens:function(a,u,g){if(!this._events)return!1;var x=this._events[a]||[];if(!u)return!!x.length;g===this&&(g=void 0);for(var S=0,P=x.length;S<P;S++)if(x[S].fn===u&&x[S].ctx===g)return S;return!1},once:function(a,u,g){if(typeof a=="object")for(var x in a)this._on(x,a[x],u,!0);else{a=k(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[m(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[m(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var Se=de.extend(re);function le(a,u,g){this.x=g?Math.round(a):a,this.y=g?Math.round(u):u}var ge=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(a){return this.clone()._add(Ee(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Ee(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new le(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new le(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ge(this.x),this.y=ge(this.y),this},distanceTo:function(a){a=Ee(a);var u=a.x-this.x,g=a.y-this.y;return Math.sqrt(u*u+g*g)},equals:function(a){return a=Ee(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Ee(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function Ee(a,u,g){return a instanceof le?a:$(a)?new le(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new le(a.x,a.y):new le(a,u,g)}function z(a,u){if(a)for(var g=u?[a,u]:a,x=0,S=g.length;x<S;x++)this.extend(g[x])}z.prototype={extend:function(a){var u,g;if(!a)return this;if(a instanceof le||typeof a[0]=="number"||"x"in a)u=g=Ee(a);else if(a=X(a),u=a.min,g=a.max,!u||!g)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=g.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return Ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Ee(this.min.x,this.max.y)},getTopRight:function(){return Ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,g;return typeof a[0]=="number"||a instanceof le?a=Ee(a):a=X(a),a instanceof z?(u=a.min,g=a.max):u=g=a,u.x>=this.min.x&&g.x<=this.max.x&&u.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=X(a);var u=this.min,g=this.max,x=a.min,S=a.max,P=S.x>=u.x&&x.x<=g.x,K=S.y>=u.y&&x.y<=g.y;return P&&K},overlaps:function(a){a=X(a);var u=this.min,g=this.max,x=a.min,S=a.max,P=S.x>u.x&&x.x<g.x,K=S.y>u.y&&x.y<g.y;return P&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,g=this.max,x=Math.abs(u.x-g.x)*a,S=Math.abs(u.y-g.y)*a;return X(Ee(u.x-x,u.y-S),Ee(g.x+x,g.y+S))},equals:function(a){return a?(a=X(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function X(a,u){return!a||a instanceof z?a:new z(a,u)}function pe(a,u){if(a)for(var g=u?[a,u]:a,x=0,S=g.length;x<S;x++)this.extend(g[x])}pe.prototype={extend:function(a){var u=this._southWest,g=this._northEast,x,S;if(a instanceof Ae)x=a,S=a;else if(a instanceof pe){if(x=a._southWest,S=a._northEast,!x||!S)return this}else return a?this.extend(Ce(a)||be(a)):this;return!u&&!g?(this._southWest=new Ae(x.lat,x.lng),this._northEast=new Ae(S.lat,S.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),g.lat=Math.max(S.lat,g.lat),g.lng=Math.max(S.lng,g.lng)),this},pad:function(a){var u=this._southWest,g=this._northEast,x=Math.abs(u.lat-g.lat)*a,S=Math.abs(u.lng-g.lng)*a;return new pe(new Ae(u.lat-x,u.lng-S),new Ae(g.lat+x,g.lng+S))},getCenter:function(){return new Ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ae||"lat"in a?a=Ce(a):a=be(a);var u=this._southWest,g=this._northEast,x,S;return a instanceof pe?(x=a.getSouthWest(),S=a.getNorthEast()):x=S=a,x.lat>=u.lat&&S.lat<=g.lat&&x.lng>=u.lng&&S.lng<=g.lng},intersects:function(a){a=be(a);var u=this._southWest,g=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=u.lat&&x.lat<=g.lat,K=S.lng>=u.lng&&x.lng<=g.lng;return P&&K},overlaps:function(a){a=be(a);var u=this._southWest,g=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>u.lat&&x.lat<g.lat,K=S.lng>u.lng&&x.lng<g.lng;return P&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=be(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(a,u){return a instanceof pe?a:new pe(a,u)}function Ae(a,u,g){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,g!==void 0&&(this.alt=+g)}Ae.prototype={equals:function(a,u){if(!a)return!1;a=Ce(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return Ct.distance(this,Ce(a))},wrap:function(){return Ct.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,g=u/Math.cos(Math.PI/180*this.lat);return be([this.lat-u,this.lng-g],[this.lat+u,this.lng+g])},clone:function(){return new Ae(this.lat,this.lng,this.alt)}};function Ce(a,u,g){return a instanceof Ae?a:$(a)&&typeof a[0]!="object"?a.length===3?new Ae(a[0],a[1],a[2]):a.length===2?new Ae(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ae(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Ae(a,u,g)}var Ue={latLngToPoint:function(a,u){var g=this.projection.project(a),x=this.scale(u);return this.transformation._transform(g,x)},pointToLatLng:function(a,u){var g=this.scale(u),x=this.transformation.untransform(a,g);return this.projection.unproject(x)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,g=this.scale(a),x=this.transformation.transform(u.min,g),S=this.transformation.transform(u.max,g);return new z(x,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,x=a.alt;return new Ae(g,u,x)},wrapLatLngBounds:function(a){var u=a.getCenter(),g=this.wrapLatLng(u),x=u.lat-g.lat,S=u.lng-g.lng;if(x===0&&S===0)return a;var P=a.getSouthWest(),K=a.getNorthEast(),ne=new Ae(P.lat-x,P.lng-S),ce=new Ae(K.lat-x,K.lng-S);return new pe(ne,ce)}},Ct=o({},Ue,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var g=Math.PI/180,x=a.lat*g,S=u.lat*g,P=Math.sin((u.lat-a.lat)*g/2),K=Math.sin((u.lng-a.lng)*g/2),ne=P*P+Math.cos(x)*Math.cos(S)*K*K,ce=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*ce}}),Nt=6378137,Vi={R:Nt,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,g=this.MAX_LATITUDE,x=Math.max(Math.min(g,a.lat),-g),S=Math.sin(x*u);return new le(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new Ae((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Nt*Math.PI;return new z([-a,-a],[a,a])})()};function cs(a,u,g,x){if($(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=g,this._d=x}cs.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new le((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function yi(a,u,g,x){return new cs(a,u,g,x)}var us=o({},Ct,{code:"EPSG:3857",projection:Vi,transformation:(function(){var a=.5/(Math.PI*Vi.R);return yi(a,.5,-a,.5)})()}),_i=o({},us,{code:"EPSG:900913"});function sr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function se(a,u){var g="",x,S,P,K,ne,ce;for(x=0,P=a.length;x<P;x++){for(ne=a[x],S=0,K=ne.length;S<K;S++)ce=ne[S],g+=(S?"L":"M")+ce.x+" "+ce.y;g+=u?Oe.svg?"z":"x":""}return g||"M0 0"}var Ye=document.documentElement.style,st="ActiveXObject"in window,qe=st&&!document.addEventListener,gt="msLaunchUri"in navigator&&!("documentMode"in document),Zn=Rn("webkit"),Zl=Rn("android"),zo=Rn("android 2")||Rn("android 3"),zn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vr=Zl&&Rn("Google")&&zn<537&&!("AudioNode"in window),zr=!!window.opera,Ca=!gt&&Rn("chrome"),Ls=Rn("gecko")&&!Zn&&!zr&&!st,lu=!Ca&&Rn("safari"),Uo=Rn("phantom"),Bo="OTransition"in Ye,$l=navigator.platform.indexOf("Win")===0,vi=st&&"transition"in Ye,un="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zo,ri="MozPerspective"in Ye,Yt=!window.L_DISABLE_3D&&(vi||un||ri)&&!Bo&&!Uo,rr=typeof orientation<"u"||Rn("mobile"),Na=rr&&Zn,Yl=rr&&un,zi=!window.PointerEvent&&window.MSPointerEvent,ar=!!(window.PointerEvent||zi),Kt="ontouchstart"in window||!!window.TouchEvent,hs=!window.L_NO_TOUCH&&(Kt||ar),ds=rr&&zr,Ui=rr&&Ls,cu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kl=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",E,u),window.removeEventListener("testPassiveEventSupport",E,u)}catch{}return a})(),fs=(function(){return!!document.createElement("canvas").getContext})(),Os=!!(document.createElementNS&&sr("svg").createSVGRect),uu=!!Os&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ur=!Os&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),qo=navigator.platform.indexOf("Mac")===0,Ho=navigator.platform.indexOf("Linux")===0;function Rn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Oe={ie:st,ielt9:qe,edge:gt,webkit:Zn,android:Zl,android23:zo,androidStock:Vr,opera:zr,chrome:Ca,gecko:Ls,safari:lu,phantom:Uo,opera12:Bo,win:$l,ie3d:vi,webkit3d:un,gecko3d:ri,any3d:Yt,mobile:rr,mobileWebkit:Na,mobileWebkit3d:Yl,msPointer:zi,pointer:ar,touch:hs,touchNative:Kt,mobileOpera:ds,mobileGecko:Ui,retina:cu,passiveEvents:Kl,canvas:fs,svg:Os,vml:Ur,inlineSvg:uu,mac:qo,linux:Ho},Fo=Oe.msPointer?"MSPointerDown":"pointerdown",bi=Oe.msPointer?"MSPointerMove":"pointermove",xi=Oe.msPointer?"MSPointerUp":"pointerup",Wt=Oe.msPointer?"MSPointerCancel":"pointercancel",Jt={touchstart:Fo,touchmove:bi,touchend:xi,touchcancel:Wt},Bi={touchstart:ps,touchmove:In,touchend:In,touchcancel:In},qi={},Wl=!1;function Ql(a,u,g){return u==="touchstart"&&wi(),Bi[u]?(g=Bi[u].bind(this,g),a.addEventListener(Jt[u],g,!1),g):(console.warn("wrong event specified:",u),E)}function Xl(a,u,g){if(!Jt[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Jt[u],g,!1)}function ms(a){qi[a.pointerId]=a}function Ra(a){qi[a.pointerId]&&(qi[a.pointerId]=a)}function Hi(a){delete qi[a.pointerId]}function wi(){Wl||(document.addEventListener(Fo,ms,!0),document.addEventListener(bi,Ra,!0),document.addEventListener(xi,Hi,!0),document.addEventListener(Wt,Hi,!0),Wl=!0)}function In(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var g in qi)u.touches.push(qi[g]);u.changedTouches=[u],a(u)}}function ps(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Ht(u),In(a,u)}function en(a){var u={},g,x;for(x in a)g=a[x],u[x]=g&&g.bind?g.bind(a):g;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Go=200;function Zo(a,u){a.addEventListener("dblclick",u);var g=0,x;function S(P){if(P.detail!==1){x=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var K=hr(P);if(!(K.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!K.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var ne=Date.now();ne-g<=Go?(x++,x===2&&u(en(P))):x=1,g=ne}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function gs(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var Ei=qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ds=qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ia=Ds==="webkitTransition"||Ds==="OTransition"?Ds+"End":"transitionend";function Pa(a){return typeof a=="string"?document.getElementById(a):a}function or(a,u){var g=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!g||g==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(a,null);g=x?x[u]:null}return g==="auto"?null:g}function rt(a,u,g){var x=document.createElement(a);return x.className=u||"",g&&g.appendChild(x),x}function at(a){var u=a.parentNode;u&&u.removeChild(a)}function Bt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function qt(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function ai(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Br(a,u){if(a.classList!==void 0)return a.classList.contains(u);var g=ys(a);return g.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(g)}function Me(a,u){if(a.classList!==void 0)for(var g=k(u),x=0,S=g.length;x<S;x++)a.classList.add(g[x]);else if(!Br(a,u)){var P=ys(a);Ti(a,(P?P+" ":"")+u)}}function Rt(a,u){a.classList!==void 0?a.classList.remove(u):Ti(a,R((" "+ys(a)+" ").replace(" "+u+" "," ")))}function Ti(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function ys(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function jt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Ma(a,u)}function Ma(a,u){var g=!1,x="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),g?(g.Enabled=u!==100,g.Opacity=u):a.style.filter+=" progid:"+x+"(opacity="+u+")"}function qr(a){for(var u=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in u)return a[g];return!1}function Fi(a,u,g){var x=u||new le(0,0);a.style[Ei]=(Oe.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(g?" scale("+g+")":"")}function It(a,u){a._leaflet_pos=u,Oe.any3d?Fi(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function _s(a){return a._leaflet_pos||new le(0,0)}var Si,pn,La;if("onselectstart"in document)Si=function(){Be(window,"selectstart",Ht)},pn=function(){bt(window,"selectstart",Ht)};else{var ks=qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Si=function(){if(ks){var a=document.documentElement.style;La=a[ks],a[ks]="none"}},pn=function(){ks&&(document.documentElement.style[ks]=La,La=void 0)}}function Hr(){Be(window,"dragstart",Ht)}function lr(){bt(window,"dragstart",Ht)}var Fr,vs;function cr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&($n(),Fr=a,vs=a.style.outlineStyle,a.style.outlineStyle="none",Be(window,"keydown",$n))}function $n(){Fr&&(Fr.style.outlineStyle=vs,Fr=void 0,vs=void 0,bt(window,"keydown",$n))}function Oa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Yn(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var ur={__proto__:null,TRANSFORM:Ei,TRANSITION:Ds,TRANSITION_END:Ia,get:Pa,getStyle:or,create:rt,remove:at,empty:Bt,toFront:qt,toBack:ai,hasClass:Br,addClass:Me,removeClass:Rt,setClass:Ti,getClass:ys,setOpacity:jt,testProp:qr,setTransform:Fi,setPosition:It,getPosition:_s,get disableTextSelection(){return Si},get enableTextSelection(){return pn},disableImageDrag:Hr,enableImageDrag:lr,preventOutline:cr,restoreOutline:$n,getSizedParentNode:Oa,getScale:Yn};function Be(a,u,g,x){if(u&&typeof u=="object")for(var S in u)Kn(a,S,u[S],g);else{u=k(u);for(var P=0,K=u.length;P<K;P++)Kn(a,u[P],g,x)}return this}var Pn="_leaflet_events";function bt(a,u,g,x){if(arguments.length===1)js(a),delete a[Pn];else if(u&&typeof u=="object")for(var S in u)Vs(a,S,u[S],g);else if(u=k(u),arguments.length===2)js(a,function(ne){return J(u,ne)!==-1});else for(var P=0,K=u.length;P<K;P++)Vs(a,u[P],g,x);return this}function js(a,u){for(var g in a[Pn]){var x=g.split(/\d/)[0];(!u||u(x))&&Vs(a,x,null,null,g)}}var oi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kn(a,u,g,x){var S=u+m(g)+(x?"_"+m(x):"");if(a[Pn]&&a[Pn][S])return this;var P=function(ne){return g.call(x||a,ne||window.event)},K=P;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?P=Ql(a,u,P):Oe.touch&&u==="dblclick"?P=Zo(a,P):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(oi[u]||u,P,Oe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(P=function(ne){ne=ne||window.event,$i(a,ne)&&K(ne)},a.addEventListener(oi[u],P,!1)):a.addEventListener(u,K,!1):a.attachEvent("on"+u,P),a[Pn]=a[Pn]||{},a[Pn][S]=P}function Vs(a,u,g,x,S){S=S||u+m(g)+(x?"_"+m(x):"");var P=a[Pn]&&a[Pn][S];if(!P)return this;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?Xl(a,u,P):Oe.touch&&u==="dblclick"?gs(a,P):"removeEventListener"in a?a.removeEventListener(oi[u]||u,P,!1):a.detachEvent("on"+u,P),a[Pn][S]=null}function ut(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ai(a){return Kn(a,"wheel",ut),this}function zs(a){return Be(a,"mousedown touchstart dblclick contextmenu",ut),a._leaflet_disable_click=!0,this}function Ht(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Gi(a){return Ht(a),ut(a),this}function hr(a){if(a.composedPath)return a.composedPath();for(var u=[],g=a.target;g;)u.push(g),g=g.parentNode;return u}function bs(a,u){if(!u)return new le(a.clientX,a.clientY);var g=Yn(u),x=g.boundingClientRect;return new le((a.clientX-x.left)/g.x-u.clientLeft,(a.clientY-x.top)/g.y-u.clientTop)}var Zi=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function gn(a){return Oe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Zi:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function $i(a,u){var g=u.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var xs={__proto__:null,on:Be,off:bt,stopPropagation:ut,disableScrollPropagation:Ai,disableClickPropagation:zs,preventDefault:Ht,stop:Gi,getPropagationPath:hr,getMousePosition:bs,getWheelDelta:gn,isExternalTarget:$i,addListener:Be,removeListener:bt},Us=Se.extend({run:function(a,u,g,x){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=_s(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,g=this._duration*1e3;u<g?this._runFrame(this._easeOut(u/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var g=this._startPos.add(this._offset.multiplyBy(a));u&&g._round(),It(this._el,g),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),it=Se.extend({options:{crs:us,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=U(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ce(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ds&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Be(this._proxy,Ia,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,g){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Ce(a),u,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=o({animate:g.animate},g.zoom),g.pan=o({animate:g.animate,duration:g.duration},g.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,g.zoom):this._tryAnimatedPan(a,g.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,g){var x=this.getZoomScale(u),S=this.getSize().divideBy(2),P=a instanceof le?a:this.latLngToContainerPoint(a),K=P.subtract(S).multiplyBy(1-1/x),ne=this.containerPointToLatLng(S.add(K));return this.setView(ne,u,{zoom:g})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():be(a);var g=Ee(u.paddingTopLeft||u.padding||[0,0]),x=Ee(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,g.add(x));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=x.subtract(g).divideBy(2),K=this.project(a.getSouthWest(),S),ne=this.project(a.getNorthEast(),S),ce=this.unproject(K.add(ne).divideBy(2).add(P),S);return{center:ce,zoom:S}},fitBounds:function(a,u){if(a=be(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,u);return this.setView(g.center,g.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=Ee(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Us,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Me(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,g){if(g=g||{},g.animate===!1||!Oe.any3d)return this.setView(a,u,g);this._stop();var x=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),K=this._zoom;a=Ce(a),u=u===void 0?K:u;var ne=Math.max(P.x,P.y),ce=ne*this.getZoomScale(K,u),xe=S.distanceTo(x)||1,Re=1.42,je=Re*Re;function et(Qt){var Gs=Qt?-1:1,Qr=Qt?ce:ne,gu=ce*ce-ne*ne+Gs*je*je*xe*xe,dl=2*Qr*je*xe,fl=gu/dl,xr=Math.sqrt(fl*fl+1)-fl,Zs=xr<1e-9?-18:Math.log(xr);return Zs}function Sn(Qt){return(Math.exp(Qt)-Math.exp(-Qt))/2}function tn(Qt){return(Math.exp(Qt)+Math.exp(-Qt))/2}function ui(Qt){return Sn(Qt)/tn(Qt)}var xt=et(0);function wt(Qt){return ne*(tn(xt)/tn(xt+Re*Qt))}function ot(Qt){return ne*(tn(xt)*ui(xt+Re*Qt)-Sn(xt))/je}function vr(Qt){return 1-Math.pow(1-Qt,1.5)}var Pi=Date.now(),hc=(et(1)-xt)/Re,br=g.duration?1e3*g.duration:1e3*hc*.8;function pu(){var Qt=(Date.now()-Pi)/br,Gs=vr(Qt)*hc;Qt<=1?(this._flyToFrame=H(pu,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(ot(Gs)/xe)),K),this.getScaleZoom(ne/wt(Gs),K),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),pu.call(this),this},flyToBounds:function(a,u){var g=this._getBoundsCenterZoom(a,u);return this.flyTo(g.center,g.zoom,u)},setMaxBounds:function(a){return a=be(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var g=this.getCenter(),x=this._limitCenter(g,this._zoom,be(a));return g.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var g=Ee(u.paddingTopLeft||u.padding||[0,0]),x=Ee(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),K=this.getPixelBounds(),ne=X([K.min.add(g),K.max.subtract(x)]),ce=ne.getSize();if(!ne.contains(P)){this._enforcingBounds=!0;var xe=P.subtract(ne.getCenter()),Re=ne.extend(P).getSize().subtract(ce);S.x+=xe.x<0?-Re.x:Re.x,S.y+=xe.y<0?-Re.y:Re.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),x=u.divideBy(2).round(),S=g.divideBy(2).round(),P=x.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),g=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,g,a):navigator.geolocation.getCurrentPosition(u,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,g=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,g=a.coords.longitude,x=new Ae(u,g),S=x.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var K=this.getBoundsZoom(S);this.setView(x,P.maxZoom?Math.min(K,P.maxZoom):K)}var ne={latlng:x,bounds:S,timestamp:a.timestamp};for(var ce in a.coords)typeof a.coords[ce]=="number"&&(ne[ce]=a.coords[ce]);this.fire("locationfound",ne)}},addHandler:function(a,u){if(!u)return this;var g=this[a]=new u(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)at(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),x=rt("div",g,u||this._mapPane);return a&&(this._panes[a]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new pe(u,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,g){a=be(a),g=Ee(g||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),K=a.getNorthWest(),ne=a.getSouthEast(),ce=this.getSize().subtract(g),xe=X(this.project(ne,x),this.project(K,x)).getSize(),Re=Oe.any3d?this.options.zoomSnap:1,je=ce.x/xe.x,et=ce.y/xe.y,Sn=u?Math.max(je,et):Math.min(je,et);return x=this.getScaleZoom(Sn,x),Re&&(x=Math.round(x/(Re/100))*(Re/100),x=u?Math.ceil(x/Re)*Re:Math.floor(x/Re)*Re),Math.max(S,Math.min(P,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var g=this._getTopLeftPoint(a,u);return new z(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var g=this.options.crs;return u=u===void 0?this._zoom:u,g.scale(a)/g.scale(u)},getScaleZoom:function(a,u){var g=this.options.crs;u=u===void 0?this._zoom:u;var x=g.zoom(a*g.scale(u));return isNaN(x)?1/0:x},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ce(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(Ee(a),u)},layerPointToLatLng:function(a){var u=Ee(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Ce(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ce(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(be(a))},distance:function(a,u){return this.options.crs.distance(Ce(a),Ce(u))},containerPointToLayerPoint:function(a){return Ee(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Ee(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(Ee(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ce(a)))},mouseEventToContainerPoint:function(a){return bs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Pa(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Be(u,"scroll",this._onScroll,this),this._containerId=m(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Me(a,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=or(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Me(a.markerPane,"leaflet-zoom-hide"),Me(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,g){It(this._mapPane,new le(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,g)._move(a,u)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,g,x){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),x?g&&g.pinch&&this.fire("zoom",g):((S||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){It(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[m(this._container)]=this;var u=a?bt:Be;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var g=[],x,S=u==="mouseout"||u==="mouseover",P=a.target||a.srcElement,K=!1;P;){if(x=this._targets[m(P)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){K=!0;break}if(x&&x.listens(u,!0)&&(S&&!$i(P,a)||(g.push(x),S))||P===this._container)break;P=P.parentNode}return!g.length&&!K&&!S&&this.listens(u,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var g=a.type;g==="mousedown"&&cr(u),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,g){if(a.type==="click"){var x=o({},a);x.type="preclick",this._fireDOMEvent(x,x.type,g)}var S=this._findEventTargets(a,u);if(g){for(var P=[],K=0;K<g.length;K++)g[K].listens(u,!0)&&P.push(g[K]);S=P.concat(S)}if(S.length){u==="contextmenu"&&Ht(a);var ne=S[0],ce={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var xe=ne.getLatLng&&(!ne._radius||ne._radius<=10);ce.containerPoint=xe?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(a),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=xe?ne.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(K=0;K<S.length;K++)if(S[K].fire(u,ce,!0),ce.originalEvent._stopped||S[K].options.bubblingMouseEvents===!1&&J(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return _s(this._mapPane)||new le(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var g=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var g=this.getSize()._divideBy(2);return this.project(a,u)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,g){var x=this._getNewPixelOrigin(g,u);return this.project(a,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(a,u,g){var x=this._getNewPixelOrigin(g,u);return X([this.project(a.getSouthWest(),u)._subtract(x),this.project(a.getNorthWest(),u)._subtract(x),this.project(a.getSouthEast(),u)._subtract(x),this.project(a.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,g){if(!g)return a;var x=this.project(a,u),S=this.getSize().divideBy(2),P=new z(x.subtract(S),x.add(S)),K=this._getBoundsOffset(P,g,u);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?a:this.unproject(x.add(K),u)},_limitOffset:function(a,u){if(!u)return a;var g=this.getPixelBounds(),x=new z(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(a,u,g){var x=X(this.project(u.getNorthEast(),g),this.project(u.getSouthWest(),g)),S=x.min.subtract(a.min),P=x.max.subtract(a.max),K=this._rebound(S.x,-P.x),ne=this._rebound(S.y,-P.y);return new le(K,ne)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),g=this.getMaxZoom(),x=Oe.any3d?this.options.zoomSnap:1;return x&&(a=Math.round(a/x)*x),Math.max(u,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var g=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,u),!0)},_createAnimProxy:function(){var a=this._proxy=rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var g=Ei,x=this._proxy.style[g];Fi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Fi(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/x);return g.animate!==!0&&!this.getSize().contains(S)?!1:(H(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,g,x){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function dr(a,u){return new it(a,u)}var Mn=de.extend({options:{position:"topright"},initialize:function(a){U(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),g=this.getPosition(),x=a._controlCorners[g];return Me(u,"leaflet-control"),g.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Wn=function(a){return new Mn(a)};it.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",g=this._controlContainer=rt("div",u+"control-container",this._container);function x(S,P){var K=u+S+" "+u+P;a[S+P]=rt("div",K,g)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)at(this._controlCorners[a]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gr=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,g,x){return g<x?-1:x<g?1:0}},initialize:function(a,u,g){U(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in a)this._addLayer(a[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Mn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(m(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Rt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=rt("div",a),g=this.options.collapsed;u.setAttribute("aria-haspopup",!0),zs(u),Ai(u);var x=this._section=rt("section",a+"-list");g&&(this._map.on("click",this.collapse,this),Be(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=rt("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Be(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Ht(P),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=rt("div",a+"-base",x),this._separator=rt("div",a+"-separator",x),this._overlaysList=rt("div",a+"-overlays",x),u.appendChild(x)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&m(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:g}),this.options.sortLayers&&this._layers.sort(d(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bt(this._baseLayersList),Bt(this._overlaysList),this._layerControlInputs=[];var a,u,g,x,S=0;for(g=0;g<this._layers.length;g++)x=this._layers[g],this._addItem(x),u=u||x.overlay,a=a||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(m(a.target)),g=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,u)},_createRadioElement:function(a,u){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=g,x.firstChild},_addItem:function(a){var u=document.createElement("label"),g=this._map.hasLayer(a.layer),x;a.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=g):x=this._createRadioElement("leaflet-base-layers_"+m(this),g),this._layerControlInputs.push(x),x.layerId=m(a.layer),Be(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");u.appendChild(P),P.appendChild(x),P.appendChild(S);var K=a.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,g,x=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)u=a[P],g=this._getLayer(u.layerId).layer,u.checked?x.push(g):u.checked||S.push(g);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<x.length;P++)this._map.hasLayer(x[P])||this._map.addLayer(x[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,g,x=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],g=this._getLayer(u.layerId).layer,u.disabled=g.options.minZoom!==void 0&&x<g.options.minZoom||g.options.maxZoom!==void 0&&x>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Be(a,"click",Ht),this.expand();var u=this;setTimeout(function(){bt(a,"click",Ht),u._preventClick=!1})}}),$o=function(a,u,g){return new Gr(a,u,g)},Bs=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",g=rt("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,g,x,S){var P=rt("a",g,x);return P.innerHTML=a,P.href="#",P.title=u,P.setAttribute("role","button"),P.setAttribute("aria-label",u),zs(P),Be(P,"click",Gi),Be(P,"click",S,this),Be(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Rt(this._zoomInButton,u),Rt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Me(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Me(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});it.mergeOptions({zoomControl:!0}),it.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Bs,this.addControl(this.zoomControl))});var Jl=function(a){return new Bs(a)},Yo=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",g=rt("div",u),x=this.options;return this._addScales(x,u+"-line",g),a.on(x.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,g){a.metric&&(this._mScale=rt("div",u,g)),a.imperial&&(this._iScale=rt("div",u,g))},_update:function(){var a=this._map,u=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),g=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,g,u/a)},_updateImperial:function(a){var u=a*3.2808399,g,x,S;u>5280?(g=u/5280,x=this._getRoundNum(g),this._updateScale(this._iScale,x+" mi",x/g)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),g=a/u;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,u*g}}),Zr=function(a){return new Yo(a)},Ko='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Da=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?Ko+" ":"")+"Leaflet</a>"},initialize:function(a){U(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=rt("div","leaflet-control-attribution"),zs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});it.mergeOptions({attributionControl:!0}),it.addInitHook(function(){this.options.attributionControl&&new Da().addTo(this)});var ka=function(a){return new Da(a)};Mn.Layers=Gr,Mn.Zoom=Bs,Mn.Scale=Yo,Mn.Attribution=Da,Wn.layers=$o,Wn.zoom=Jl,Wn.scale=Zr,Wn.attribution=ka;var li=de.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});li.addTo=function(a,u){return a.addHandler(u,this),this};var ec={Events:re},Yi=Oe.touch?"touchstart mousedown":"mousedown",Ki=Se.extend({options:{clickTolerance:3},initialize:function(a,u,g,x){U(this,x),this._element=a,this._dragStartTarget=u||a,this._preventOutline=g},enable:function(){this._enabled||(Be(this._dragStartTarget,Yi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ki._dragging===this&&this.finishDrag(!0),bt(this._dragStartTarget,Yi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Br(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ki._dragging===this&&this.finishDrag();return}if(!(Ki._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ki._dragging=this,this._preventOutline&&cr(this._element),Hr(),Si(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,g=Oa(this._element);this._startPoint=new le(u.clientX,u.clientY),this._startPos=_s(this._element),this._parentScale=Yn(g);var x=a.type==="mousedown";Be(document,x?"mousemove":"touchmove",this._onMove,this),Be(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,g=new le(u.clientX,u.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Ht(a),this._moved||(this.fire("dragstart"),this._moved=!0,Me(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),It(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Rt(document.body,"leaflet-dragging"),this._lastTarget&&(Rt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),bt(document,"mousemove touchmove",this._onMove,this),bt(document,"mouseup touchend touchcancel",this._onUp,this),lr(),pn();var u=this._moved&&this._moving;this._moving=!1,Ki._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Wo(a,u,g){var x,S=[1,4,2,8],P,K,ne,ce,xe,Re,je,et;for(P=0,Re=a.length;P<Re;P++)a[P]._code=he(a[P],u);for(ne=0;ne<4;ne++){for(je=S[ne],x=[],P=0,Re=a.length,K=Re-1;P<Re;K=P++)ce=a[P],xe=a[K],ce._code&je?xe._code&je||(et=ie(xe,ce,je,u,g),et._code=he(et,u),x.push(et)):(xe._code&je&&(et=ie(xe,ce,je,u,g),et._code=he(et,u),x.push(et)),x.push(ce));a=x}return a}function Qo(a,u){var g,x,S,P,K,ne,ce,xe,Re;if(!a||a.length===0)throw new Error("latlngs not passed");yt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var je=Ce([0,0]),et=be(a),Sn=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());Sn<1700&&(je=ja(a));var tn=a.length,ui=[];for(g=0;g<tn;g++){var xt=Ce(a[g]);ui.push(u.project(Ce([xt.lat-je.lat,xt.lng-je.lng])))}for(ne=ce=xe=0,g=0,x=tn-1;g<tn;x=g++)S=ui[g],P=ui[x],K=S.y*P.x-P.y*S.x,ce+=(S.x+P.x)*K,xe+=(S.y+P.y)*K,ne+=K*3;ne===0?Re=ui[0]:Re=[ce/ne,xe/ne];var wt=u.unproject(Ee(Re));return Ce([wt.lat+je.lat,wt.lng+je.lng])}function ja(a){for(var u=0,g=0,x=0,S=0;S<a.length;S++){var P=Ce(a[S]);u+=P.lat,g+=P.lng,x++}return Ce([u/x,g/x])}var fr={__proto__:null,clipPolygon:Wo,polygonCenter:Qo,centroid:ja};function Ln(a,u){if(!u||!a.length)return a.slice();var g=u*u;return a=T(a,g),a=qs(a,g),a}function Xo(a,u,g){return Math.sqrt(Ke(a,u,g,!0))}function tc(a,u,g){return Ke(a,u,g)}function qs(a,u){var g=a.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(g);S[0]=S[g-1]=1,f(a,S,u,0,g-1);var P,K=[];for(P=0;P<g;P++)S[P]&&K.push(a[P]);return K}function f(a,u,g,x,S){var P=0,K,ne,ce;for(ne=x+1;ne<=S-1;ne++)ce=Ke(a[ne],a[x],a[S],!0),ce>P&&(K=ne,P=ce);P>g&&(u[K]=1,f(a,u,g,x,K),f(a,u,g,K,S))}function T(a,u){for(var g=[a[0]],x=1,S=0,P=a.length;x<P;x++)Ne(a[x],a[S])>u&&(g.push(a[x]),S=x);return S<P-1&&g.push(a[P-1]),g}var C;function j(a,u,g,x,S){var P=x?C:he(a,g),K=he(u,g),ne,ce,xe;for(C=K;;){if(!(P|K))return[a,u];if(P&K)return!1;ne=P||K,ce=ie(a,u,ne,g,S),xe=he(ce,g),ne===P?(a=ce,P=xe):(u=ce,K=xe)}}function ie(a,u,g,x,S){var P=u.x-a.x,K=u.y-a.y,ne=x.min,ce=x.max,xe,Re;return g&8?(xe=a.x+P*(ce.y-a.y)/K,Re=ce.y):g&4?(xe=a.x+P*(ne.y-a.y)/K,Re=ne.y):g&2?(xe=ce.x,Re=a.y+K*(ce.x-a.x)/P):g&1&&(xe=ne.x,Re=a.y+K*(ne.x-a.x)/P),new le(xe,Re,S)}function he(a,u){var g=0;return a.x<u.min.x?g|=1:a.x>u.max.x&&(g|=2),a.y<u.min.y?g|=4:a.y>u.max.y&&(g|=8),g}function Ne(a,u){var g=u.x-a.x,x=u.y-a.y;return g*g+x*x}function Ke(a,u,g,x){var S=u.x,P=u.y,K=g.x-S,ne=g.y-P,ce=K*K+ne*ne,xe;return ce>0&&(xe=((a.x-S)*K+(a.y-P)*ne)/ce,xe>1?(S=g.x,P=g.y):xe>0&&(S+=K*xe,P+=ne*xe)),K=a.x-S,ne=a.y-P,x?K*K+ne*ne:new le(S,P)}function yt(a){return!$(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function _t(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yt(a)}function Vt(a,u){var g,x,S,P,K,ne,ce,xe;if(!a||a.length===0)throw new Error("latlngs not passed");yt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Re=Ce([0,0]),je=be(a),et=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());et<1700&&(Re=ja(a));var Sn=a.length,tn=[];for(g=0;g<Sn;g++){var ui=Ce(a[g]);tn.push(u.project(Ce([ui.lat-Re.lat,ui.lng-Re.lng])))}for(g=0,x=0;g<Sn-1;g++)x+=tn[g].distanceTo(tn[g+1])/2;if(x===0)xe=tn[0];else for(g=0,P=0;g<Sn-1;g++)if(K=tn[g],ne=tn[g+1],S=K.distanceTo(ne),P+=S,P>x){ce=(P-x)/S,xe=[ne.x-ce*(ne.x-K.x),ne.y-ce*(ne.y-K.y)];break}var xt=u.unproject(Ee(xe));return Ce([xt.lat+Re.lat,xt.lng+Re.lng])}var Ci={__proto__:null,simplify:Ln,pointToSegmentDistance:Xo,closestPointOnSegment:tc,clipSegment:j,_getEdgeIntersection:ie,_getBitCode:he,_sqClosestPointOnSegment:Ke,isFlat:yt,_flat:_t,polylineCenter:Vt},Ni={project:function(a){return new le(a.lng,a.lat)},unproject:function(a){return new Ae(a.y,a.x)},bounds:new z([-180,-90],[180,90])},ci={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,g=this.R,x=a.lat*u,S=this.R_MINOR/g,P=Math.sqrt(1-S*S),K=P*Math.sin(x),ne=Math.tan(Math.PI/4-x/2)/Math.pow((1-K)/(1+K),P/2);return x=-g*Math.log(Math.max(ne,1e-10)),new le(a.lng*u*g,x)},unproject:function(a){for(var u=180/Math.PI,g=this.R,x=this.R_MINOR/g,S=Math.sqrt(1-x*x),P=Math.exp(-a.y/g),K=Math.PI/2-2*Math.atan(P),ne=0,ce=.1,xe;ne<15&&Math.abs(ce)>1e-7;ne++)xe=S*Math.sin(K),xe=Math.pow((1-xe)/(1+xe),S/2),ce=Math.PI/2-2*Math.atan(P*xe)-K,K+=ce;return new Ae(K*u,a.x*u/g)}},Wi={__proto__:null,LonLat:Ni,Mercator:ci,SphericalMercator:Vi},$r=o({},Ct,{code:"EPSG:3395",projection:ci,transformation:(function(){var a=.5/(Math.PI*ci.R);return yi(a,.5,-a,.5)})()}),Yr=o({},Ct,{code:"EPSG:4326",projection:Ni,transformation:yi(1/180,1,-1/180,.5)}),Va=o({},Ue,{projection:Ni,transformation:yi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var g=u.lng-a.lng,x=u.lat-a.lat;return Math.sqrt(g*g+x*x)},infinite:!0});Ue.Earth=Ct,Ue.EPSG3395=$r,Ue.EPSG3857=us,Ue.EPSG900913=_i,Ue.EPSG4326=Yr,Ue.Simple=Va;var Qi=Se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[m(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[m(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var g=this.getEvents();u.on(g,this),this.once("remove",function(){u.off(g,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});it.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=m(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=m(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return m(a)in this._layers},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},_addLayers:function(a){a=a?$(a)?a:[a]:[];for(var u=0,g=a.length;u<g;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[m(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=m(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,g=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var za=Qi.extend({initialize:function(a,u){U(this,u),this._layers={};var g,x;if(a)for(g=0,x=a.length;g<x;g++)this.addLayer(a[g])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),g,x;for(g in this._layers)x=this._layers[g],x[a]&&x[a].apply(x,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return m(a)}}),Nm=function(a,u){return new za(a,u)},ws=za.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),za.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),za.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new pe;for(var u in this._layers){var g=this._layers[u];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),Fh=function(a,u){return new ws(a,u)},Es=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){U(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(g,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(a,u){var g=this.options,x=g[u+"Size"];typeof x=="number"&&(x=[x,x]);var S=Ee(x),P=Ee(u==="shadow"&&g.shadowAnchor||g.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(g.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Oe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Jo(a){return new Es(a)}var el=Es.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof el.imagePath!="string"&&(el.imagePath=this._detectIconPath()),(this.options.imagePath||el.imagePath)+Es.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(g,x,S){var P=x.exec(g);return P&&P[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=rt("div","leaflet-default-icon-path",document.body),u=or(a,"background-image")||or(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),tl=li.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ki(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Me(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,g=u._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=_s(u._icon),K=g.getPixelBounds(),ne=g.getPixelOrigin(),ce=X(K.min._subtract(ne).add(S),K.max._subtract(ne).subtract(S));if(!ce.contains(P)){var xe=Ee((Math.max(ce.max.x,P.x)-ce.max.x)/(K.max.x-ce.max.x)-(Math.min(ce.min.x,P.x)-ce.min.x)/(K.min.x-ce.min.x),(Math.max(ce.max.y,P.y)-ce.max.y)/(K.max.y-ce.max.y)-(Math.min(ce.min.y,P.y)-ce.min.y)/(K.min.y-ce.min.y)).multiplyBy(x);g.panBy(xe,{animate:!1}),this._draggable._newPos._add(xe),this._draggable._startPos._add(xe),It(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=H(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,g=u._shadow,x=_s(u._icon),S=u._map.layerPointToLatLng(x);g&&It(g,x),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),nl=Qi.extend({options:{icon:new el,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){U(this,u),this._latlng=Ce(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Ce(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),x=!1;g!==this._icon&&(this._icon&&this._removeIcon(),x=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),Me(g,u),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(g,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(Me(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&It(this._icon,a),this._shadow&&It(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&jt(this._icon,a),this._shadow&&jt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,g=u.iconSize?Ee(u.iconSize):Ee(0,0),x=u.iconAnchor?Ee(u.iconAnchor):Ee(0,0);a.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:g.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gh(a,u){return new nl(a,u)}var Ts=Qi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return U(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ua=Ts.extend({options:{fill:!0,radius:10},initialize:function(a,u){U(this,u),this._latlng=Ce(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Ce(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Ts.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,g=this._clickTolerance(),x=[a+g,u+g];this._pxBounds=new z(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zh(a,u){return new Ua(a,u)}var nc=Ua.extend({initialize:function(a,u,g){if(typeof u=="number"&&(u=o({},g,{radius:u})),U(this,u),this._latlng=Ce(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new pe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ts.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,g=this._map,x=g.options.crs;if(x.distance===Ct.distance){var S=Math.PI/180,P=this._mRadius/Ct.R/S,K=g.project([u+P,a]),ne=g.project([u-P,a]),ce=K.add(ne).divideBy(2),xe=g.unproject(ce).lat,Re=Math.acos((Math.cos(P*S)-Math.sin(u*S)*Math.sin(xe*S))/(Math.cos(u*S)*Math.cos(xe*S)))/S;(isNaN(Re)||Re===0)&&(Re=P/Math.cos(Math.PI/180*u)),this._point=ce.subtract(g.getPixelOrigin()),this._radius=isNaN(Re)?0:ce.x-g.project([xe,a-Re]).x,this._radiusY=ce.y-K.y}else{var je=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(je).x}this._updateBounds()}});function $h(a,u,g){return new nc(a,u,g)}var Hs=Ts.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){U(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,g=null,x=Ke,S,P,K=0,ne=this._parts.length;K<ne;K++)for(var ce=this._parts[K],xe=1,Re=ce.length;xe<Re;xe++){S=ce[xe-1],P=ce[xe];var je=x(a,S,P,!0);je<u&&(u=je,g=x(a,S,P))}return g&&(g.distance=Math.sqrt(u)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Ce(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new pe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return yt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],g=yt(a),x=0,S=a.length;x<S;x++)g?(u[x]=Ce(a[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(a[x]);return u},_project:function(){var a=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new le(a,a);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,g){var x=a[0]instanceof Ae,S=a.length,P,K;if(x){for(K=[],P=0;P<S;P++)K[P]=this._map.latLngToLayerPoint(a[P]),g.extend(K[P]);u.push(K)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],u,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,g,x,S,P,K,ne,ce;for(g=0,S=0,P=this._rings.length;g<P;g++)for(ce=this._rings[g],x=0,K=ce.length;x<K-1;x++)ne=j(ce[x],ce[x+1],a,x,!0),ne&&(u[S]=u[S]||[],u[S].push(ne[0]),(ne[1]!==ce[x+1]||x===K-2)&&(u[S].push(ne[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,g=0,x=a.length;g<x;g++)a[g]=Ln(a[g],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var g,x,S,P,K,ne,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,P=this._parts.length;g<P;g++)for(ne=this._parts[g],x=0,K=ne.length,S=K-1;x<K;S=x++)if(!(!u&&x===0)&&Xo(a,ne[S],ne[x])<=ce)return!0;return!1}});function Rm(a,u){return new Hs(a,u)}Hs._flat=_t;var Ba=Hs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Hs.prototype._convertLatLngs.call(this,a),g=u.length;return g>=2&&u[0]instanceof Ae&&u[0].equals(u[g-1])&&u.pop(),u},_setLatLngs:function(a){Hs.prototype._setLatLngs.call(this,a),yt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,g=new le(u,u);if(a=new z(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,P;x<S;x++)P=Wo(this._rings[x],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,g,x,S,P,K,ne,ce,xe;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,ce=this._parts.length;P<ce;P++)for(g=this._parts[P],K=0,xe=g.length,ne=xe-1;K<xe;ne=K++)x=g[K],S=g[ne],x.y>a.y!=S.y>a.y&&a.x<(S.x-x.x)*(a.y-x.y)/(S.y-x.y)+x.x&&(u=!u);return u||Hs.prototype._containsPoint.call(this,a,!0)}});function Im(a,u){return new Ba(a,u)}var Fs=ws.extend({initialize:function(a,u){U(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=$(a)?a:a.features,g,x,S;if(u){for(g=0,x=u.length;g<x;g++)S=u[g],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var K=On(a,P);return K?(K.feature=rc(a),K.defaultOptions=K.options,this.resetStyle(K),P.onEachFeature&&P.onEachFeature(a,K),this.addLayer(K)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function On(a,u){var g=a.type==="Feature"?a.geometry:a,x=g?g.coordinates:null,S=[],P=u&&u.pointToLayer,K=u&&u.coordsToLatLng||ic,ne,ce,xe,Re;if(!x&&!g)return null;switch(g.type){case"Point":return ne=K(x),qa(P,a,ne,u);case"MultiPoint":for(xe=0,Re=x.length;xe<Re;xe++)ne=K(x[xe]),S.push(qa(P,a,ne,u));return new ws(S);case"LineString":case"MultiLineString":return ce=il(x,g.type==="LineString"?0:1,K),new Hs(ce,u);case"Polygon":case"MultiPolygon":return ce=il(x,g.type==="Polygon"?1:2,K),new Ba(ce,u);case"GeometryCollection":for(xe=0,Re=g.geometries.length;xe<Re;xe++){var je=On({geometry:g.geometries[xe],type:"Feature",properties:a.properties},u);je&&S.push(je)}return new ws(S);case"FeatureCollection":for(xe=0,Re=g.features.length;xe<Re;xe++){var et=On(g.features[xe],u);et&&S.push(et)}return new ws(S);default:throw new Error("Invalid GeoJSON object.")}}function qa(a,u,g,x){return a?a(u,g):new nl(g,x&&x.markersInheritOptions&&x)}function ic(a){return new Ae(a[1],a[0],a[2])}function il(a,u,g){for(var x=[],S=0,P=a.length,K;S<P;S++)K=u?il(a[S],u-1,g):(g||ic)(a[S]),x.push(K);return x}function sc(a,u){return a=Ce(a),a.alt!==void 0?[N(a.lng,u),N(a.lat,u),N(a.alt,u)]:[N(a.lng,u),N(a.lat,u)]}function sl(a,u,g,x){for(var S=[],P=0,K=a.length;P<K;P++)S.push(u?sl(a[P],yt(a[P])?0:u-1,g,x):sc(a[P],x));return!u&&g&&S.length>0&&S.push(S[0].slice()),S}function mr(a,u){return a.feature?o({},a.feature,{geometry:u}):rc(u)}function rc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var pr={toGeoJSON:function(a){return mr(this,{type:"Point",coordinates:sc(this.getLatLng(),a)})}};nl.include(pr),nc.include(pr),Ua.include(pr),Hs.include({toGeoJSON:function(a){var u=!yt(this._latlngs),g=sl(this._latlngs,u?1:0,!1,a);return mr(this,{type:(u?"Multi":"")+"LineString",coordinates:g})}}),Ba.include({toGeoJSON:function(a){var u=!yt(this._latlngs),g=u&&!yt(this._latlngs[0]),x=sl(this._latlngs,g?2:u?1:0,!0,a);return u||(x=[x]),mr(this,{type:(g?"Multi":"")+"Polygon",coordinates:x})}}),za.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(g){u.push(g.toGeoJSON(a).geometry.coordinates)}),mr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var g=u==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(g)x.push(P.geometry);else{var K=rc(P);K.type==="FeatureCollection"?x.push.apply(x,K.features):x.push(K)}}}),g?mr(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function ac(a,u){return new Fs(a,u)}var rl=ac,Ha=Qi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,g){this._url=a,this._bounds=be(u),U(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&qt(this._image),this},bringToBack:function(){return this._map&&ai(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=be(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:rt("img");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Fi(this._image,g,u)},_reset:function(){var a=this._image,u=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=u.getSize();It(a,u.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Yh=function(a,u,g){return new Ha(a,u,g)},gr=Ha.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:rt("video");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onloadeddata=d(this.fire,this,"load"),a){for(var g=u.getElementsByTagName("source"),x=[],S=0;S<g.length;S++)x.push(g[S].src);this._url=g.length>0?x:[u.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var K=rt("source");K.src=this._url[P],u.appendChild(K)}}});function Fa(a,u,g){return new gr(a,u,g)}var oc=Ha.extend({_initImage:function(){var a=this._image=this._url;Me(a,"leaflet-image-layer"),this._zoomAnimated&&Me(a,"leaflet-zoom-animated"),this.options.className&&Me(a,this.options.className),a.onselectstart=E,a.onmousemove=E}});function Kh(a,u,g){return new oc(a,u,g)}var Dn=Qi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Ae||$(a))?(this._latlng=Ce(a),U(this,u)):(U(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&jt(this._container,1),this.bringToFront(),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(jt(this._container,0),this._removeTimeout=setTimeout(d(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ce(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qt(this._container),this},bringToBack:function(){return this._map&&ai(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof ws){u=null;var g=this._source._layers;for(var x in g)if(g[x]._map){u=g[x];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=Ee(this.options.offset),g=this._getAnchor();this._zoomAnimated?It(this._container,a.add(g)):u=u.add(a).add(g);var x=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});it.include({_initOverlay:function(a,u,g,x){var S=u;return S instanceof a||(S=new a(x).setContent(u)),g&&S.setLatLng(g),S}}),Qi.include({_initOverlay:function(a,u,g,x){var S=g;return S instanceof a?(U(S,x),S._source=this):(S=u&&!x?u:new a(x,this),S.setContent(g)),S}});var al=Dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Dn.prototype.openOn.call(this,a)},onAdd:function(a){Dn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ts||this._source.on("preclick",ut))},onRemove:function(a){Dn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ts||this._source.off("preclick",ut))},getEvents:function(){var a=Dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=rt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=rt("div",a+"-content-wrapper",u);if(this._contentNode=rt("div",a+"-content",g),zs(u),Ai(this._contentNode),Be(u,"contextmenu",ut),this._tipContainer=rt("div",a+"-tip-container",u),this._tip=rt("div",a+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=rt("a",a+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Be(x,"click",function(S){Ht(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),u.width=g+1+"px",u.whiteSpace="",u.height="";var x=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&x>S?(u.height=S+"px",Me(a,P)):Rt(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();It(this._container,u.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(or(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+u,x=this._containerWidth,S=new le(this._containerLeft,-g-this._containerBottom);S._add(_s(this._container));var P=a.layerPointToContainerPoint(S),K=Ee(this.options.autoPanPadding),ne=Ee(this.options.autoPanPaddingTopLeft||K),ce=Ee(this.options.autoPanPaddingBottomRight||K),xe=a.getSize(),Re=0,je=0;P.x+x+ce.x>xe.x&&(Re=P.x+x-xe.x+ce.x),P.x-Re-ne.x<0&&(Re=P.x-ne.x),P.y+g+ce.y>xe.y&&(je=P.y+g-xe.y+ce.y),P.y-je-ne.y<0&&(je=P.y-ne.y),(Re||je)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Re,je]))}},_getAnchor:function(){return Ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wh=function(a,u){return new al(a,u)};it.mergeOptions({closePopupOnClick:!0}),it.include({openPopup:function(a,u,g){return this._initOverlay(al,a,u,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Qi.include({bindPopup:function(a,u){return this._popup=this._initOverlay(al,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ws||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Gi(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Ts)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ol=Dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Dn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Dn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Dn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=rt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,g,x=this._map,S=this._container,P=x.latLngToContainerPoint(x.getCenter()),K=x.layerPointToContainerPoint(a),ne=this.options.direction,ce=S.offsetWidth,xe=S.offsetHeight,Re=Ee(this.options.offset),je=this._getAnchor();ne==="top"?(u=ce/2,g=xe):ne==="bottom"?(u=ce/2,g=0):ne==="center"?(u=ce/2,g=xe/2):ne==="right"?(u=0,g=xe/2):ne==="left"?(u=ce,g=xe/2):K.x<P.x?(ne="right",u=0,g=xe/2):(ne="left",u=ce+(Re.x+je.x)*2,g=xe/2),a=a.subtract(Ee(u,g,!0)).add(Re).add(je),Rt(S,"leaflet-tooltip-right"),Rt(S,"leaflet-tooltip-left"),Rt(S,"leaflet-tooltip-top"),Rt(S,"leaflet-tooltip-bottom"),Me(S,"leaflet-tooltip-"+ne),It(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&jt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return Ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pm=function(a,u){return new ol(a,u)};it.include({openTooltip:function(a,u,g){return this._initOverlay(ol,a,u,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Qi.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ol,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[u](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ws||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Be(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Be(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,g,x;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),x=this._map.containerPointToLayerPoint(g),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Qh=Es.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Bt(u),u.appendChild(g.html)):u.innerHTML=g.html!==!1?g.html:"",g.bgPos){var x=Ee(g.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Mm(a){return new Qh(a)}Es.Default=el;var Ga=Qi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){U(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),at(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof le?a:new le(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,g=-a(-1/0,1/0),x=0,S=u.length,P;x<S;x++)P=u[x].style.zIndex,u[x]!==this._container&&P&&(g=a(g,+P));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){jt(this._container,this.options.opacity);var a=+new Date,u=!1,g=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);jt(S.el,P),P<1?u=!0:(S.active?g=!0:this._onOpaqueTile(S),S.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),u&&(Y(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=u-Math.abs(a-g),this._onUpdateLevel(g)):(at(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var x=this._levels[a],S=this._map;return x||(x=this._levels[a]={},x.el=rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),x.zoom=a,this._setZoomTransform(x,S.getCenter(),S.getZoom()),E(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var a,u,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)at(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,g,x){var S=Math.floor(a/2),P=Math.floor(u/2),K=g-1,ne=new le(+S,+P);ne.z=+K;var ce=this._tileCoordsToKey(ne),xe=this._tiles[ce];return xe&&xe.active?(xe.retain=!0,!0):(xe&&xe.loaded&&(xe.retain=!0),K>x?this._retainParent(S,P,K,x):!1)},_retainChildren:function(a,u,g,x){for(var S=2*a;S<2*a+2;S++)for(var P=2*u;P<2*u+2;P++){var K=new le(S,P);K.z=g+1;var ne=this._tileCoordsToKey(K),ce=this._tiles[ne];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);g+1<x&&this._retainChildren(S,P,g+1,x)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,g,x){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,u)},_setZoomTransform:function(a,u,g){var x=this._map.getZoomScale(g,a.zoom),S=a.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,g)).round();Oe.any3d?Fi(a.el,S,x):It(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,g=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],x).x/g.x),Math.ceil(a.project([0,u.wrapLng[1]],x).x/g.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],x).y/g.x),Math.ceil(a.project([u.wrapLat[1],0],x).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,g=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(g,this._tileZoom),S=u.project(a,this._tileZoom).floor(),P=u.getSize().divideBy(x*2);return new z(S.subtract(P),S.add(P))},_update:function(a){var u=this._map;if(u){var g=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(x),P=S.getCenter(),K=[],ne=this.options.keepBuffer,ce=new z(S.getBottomLeft().subtract([ne,-ne]),S.getTopRight().add([ne,-ne]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xe in this._tiles){var Re=this._tiles[xe].coords;(Re.z!==this._tileZoom||!ce.contains(new le(Re.x,Re.y)))&&(this._tiles[xe].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var je=S.min.y;je<=S.max.y;je++)for(var et=S.min.x;et<=S.max.x;et++){var Sn=new le(et,je);if(Sn.z=this._tileZoom,!!this._isValidTile(Sn)){var tn=this._tiles[this._tileCoordsToKey(Sn)];tn?tn.current=!0:K.push(Sn)}}if(K.sort(function(xt,wt){return xt.distanceTo(P)-wt.distanceTo(P)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ui=document.createDocumentFragment();for(et=0;et<K.length;et++)this._addTile(K[et],ui);this._level.el.appendChild(ui)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var g=this._globalTileRange;if(!u.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!u.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(a);return be(this.options.bounds).overlaps(x)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,g=this.getTileSize(),x=a.scaleBy(g),S=x.add(g),P=u.unproject(x,a.z),K=u.unproject(S,a.z);return[P,K]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),g=new pe(u[0],u[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),g=new le(+u[0],+u[1]);return g.z=+u[2],g},_removeTile:function(a){var u=this._tiles[a];u&&(at(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Me(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=E,a.onmousemove=E,Oe.ielt9&&this.options.opacity<1&&jt(a,this.options.opacity)},_addTile:function(a,u){var g=this._getTilePos(a),x=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&H(d(this._tileReady,this,a,null,S)),It(S,g),this._tiles[x]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,g){u&&this.fire("tileerror",{error:u,tile:g,coords:a});var x=this._tileCoordsToKey(a);g=this._tiles[x],g&&(g.loaded=+new Date,this._map._fadeAnimated?(jt(g.el,0),Y(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),u||(Me(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new le(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new z(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Xh(a){return new Ga(a)}var yr=Ga.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=U(this,u),u.detectRetina&&Oe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var g=document.createElement("img");return Be(g,"load",d(this._tileOnLoad,this,u,g)),Be(g,"error",d(this._tileOnError,this,u,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var u={r:Oe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=g),u["-y"]=g}return q(this._url,o(u,this.options))},_tileOnLoad:function(a,u){Oe.ielt9?setTimeout(d(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,g){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),a(g,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,g=this.options.zoomReverse,x=this.options.zoomOffset;return g&&(a=u-a),a+x},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=E,u.onerror=E,!u.complete)){u.src=te;var g=this._tiles[a].coords;at(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:g})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",te),Ga.prototype._removeTile.call(this,a)},_tileReady:function(a,u,g){if(!(!this._map||g&&g.getAttribute("src")===te))return Ga.prototype._tileReady.call(this,a,u,g)}});function Ri(a,u){return new yr(a,u)}var ll=yr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var g=o({},this.defaultWmsParams);for(var x in u)x in this.options||(g[x]=u[x]);u=U(this,u);var S=u.detectRetina&&Oe.retina?2:1,P=this.getTileSize();g.width=P.x*S,g.height=P.y*S,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,yr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),g=this._crs,x=X(g.project(u[0]),g.project(u[1])),S=x.min,P=x.max,K=(this._wmsVersion>=1.3&&this._crs===Yr?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),ne=yr.prototype.getTileUrl.call(this,a);return ne+D(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function Ii(a,u){return new ll(a,u)}yr.WMS=ll,Ri.wms=Ii;var Qn=Qi.extend({options:{padding:.1},initialize:function(a){U(this,a),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var g=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),P=x.multiplyBy(-g).add(S).subtract(this._map._getNewPixelOrigin(a,u));Oe.any3d?Fi(this._container,P,g):It(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),g=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new z(g,g.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lc=Qn.extend({options:{tolerance:0},getEvents:function(){var a=Qn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Be(a,"mousemove",this._onMouseMove,this),Be(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Be(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,at(this._container),bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var a=this._bounds,u=this._container,g=a.getSize(),x=Oe.retina?2:1;It(u,a.min),u.width=x*g.x,u.height=x*g.y,u.style.width=g.x+"px",u.style.height=g.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[m(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,g=u.next,x=u.prev;g?g.prev=x:this._drawLast=x,x?x.next=g:this._drawFirst=g,delete a._order,delete this._layers[m(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),g=[],x,S;for(S=0;S<u.length;S++){if(x=Number(u[S]),isNaN(x))return;g.push(x)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var g=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)a=x.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var g,x,S,P,K=a._parts,ne=K.length,ce=this._ctx;if(ne){for(ce.beginPath(),g=0;g<ne;g++){for(x=0,S=K[g].length;x<S;x++)P=K[g][x],ce[x?"lineTo":"moveTo"](P.x,P.y);u&&ce.closePath()}this._fillStroke(ce,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,g=this._ctx,x=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||x)/x;S!==1&&(g.save(),g.scale(1,S)),g.beginPath(),g.arc(u.x,u.y/S,x,0,Math.PI*2,!1),S!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,u){var g=u.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),g,x,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(x=g);this._fireEvent(x?[x]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var g,x,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(x=g);x!==this._hoveredLayer&&(this._handleMouseOut(a),x&&(Me(this._container,"leaflet-interactive"),this._fireEvent([x],a,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,g){this._map._fireDOMEvent(u,g||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var g=u.next,x=u.prev;if(g)g.prev=x;else return;x?x.next=g:g&&(this._drawFirst=g),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var g=u.next,x=u.prev;if(x)x.next=g;else return;g?g.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function cl(a){return Oe.canvas?new lc(a):null}var _r=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),hu={_initContainer:function(){this._container=rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=_r("shape");Me(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=_r("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[m(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;at(u),a.removeInteractiveTarget(u),delete this._layers[m(a)]},_updateStyle:function(a){var u=a._stroke,g=a._fill,x=a.options,S=a._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(u||(u=a._stroke=_r("stroke")),S.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=$(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(S.removeChild(u),a._stroke=null),x.fill?(g||(g=a._fill=_r("fill")),S.appendChild(g),g.color=x.fillColor||x.color,g.opacity=x.fillOpacity):g&&(S.removeChild(g),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),g=Math.round(a._radius),x=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+g+","+x+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){qt(a._container)},_bringToBack:function(a){ai(a._container)}},Ss=Oe.vml?_r:sr,Za=Qn.extend({_initContainer:function(){this._container=Ss("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ss("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var a=this._bounds,u=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,g.setAttribute("width",u.x),g.setAttribute("height",u.y)),It(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Ss("path");a.options.className&&Me(u,a.options.className),a.options.interactive&&Me(u,"leaflet-interactive"),this._updateStyle(a),this._layers[m(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){at(a._path),a.removeInteractiveTarget(a._path),delete this._layers[m(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,g=a.options;u&&(g.stroke?(u.setAttribute("stroke",g.color),u.setAttribute("stroke-opacity",g.opacity),u.setAttribute("stroke-width",g.weight),u.setAttribute("stroke-linecap",g.lineCap),u.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?u.setAttribute("stroke-dasharray",g.dashArray):u.removeAttribute("stroke-dasharray"),g.dashOffset?u.setAttribute("stroke-dashoffset",g.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),g.fill?(u.setAttribute("fill",g.fillColor||g.color),u.setAttribute("fill-opacity",g.fillOpacity),u.setAttribute("fill-rule",g.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,se(a._parts,u))},_updateCircle:function(a){var u=a._point,g=Math.max(Math.round(a._radius),1),x=Math.max(Math.round(a._radiusY),1)||g,S="a"+g+","+x+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(u.x-g)+","+u.y+S+g*2+",0 "+S+-g*2+",0 ";this._setPath(a,P)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){qt(a._path)},_bringToBack:function(a){ai(a._path)}});Oe.vml&&Za.include(hu);function ul(a){return Oe.svg||Oe.vml?new Za(a):null}it.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&cl(a)||ul(a)}});var Kr=Ba.extend({initialize:function(a,u){Ba.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=be(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Lm(a,u){return new Kr(a,u)}Za.create=Ss,Za.pointsToPath=se,Fs.geometryToLayer=On,Fs.coordsToLatLng=ic,Fs.coordsToLatLngs=il,Fs.latLngToCoords=sc,Fs.latLngsToCoords=sl,Fs.getFeature=mr,Fs.asFeature=rc,it.mergeOptions({boxZoom:!0});var Xn=li.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Si(),Hr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Be(document,{contextmenu:Gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=rt("div","leaflet-zoom-box",this._container),Me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new z(this._point,this._startPoint),g=u.getSize();It(this._box,u.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(at(this._box),Rt(this._container,"leaflet-crosshair")),pn(),lr(),bt(document,{contextmenu:Gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});it.addInitHook("addHandler","boxZoom",Xn),it.mergeOptions({doubleClickZoom:!0});var cc=li.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,g=u.getZoom(),x=u.options.zoomDelta,S=a.originalEvent.shiftKey?g-x:g+x;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});it.addInitHook("addHandler","doubleClickZoom",cc),it.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var As=li.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ki(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rt(this._map._container,"leaflet-grab"),Rt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=be(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),g=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-u+g)%a+u-g,P=(x+u+g)%a-u-g,K=Math.abs(S+g)<Math.abs(P+g)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(a){var u=this._map,g=u.options,x=!g.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),x)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,K=g.easeLinearity,ne=S.multiplyBy(K/P),ce=ne.distanceTo([0,0]),xe=Math.min(g.inertiaMaxSpeed,ce),Re=ne.multiplyBy(xe/ce),je=xe/(g.inertiaDeceleration*K),et=Re.multiplyBy(-je/2).round();!et.x&&!et.y?u.fire("moveend"):(et=u._limitOffset(et,u.options.maxBounds),H(function(){u.panBy(et,{duration:je,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});it.addInitHook("addHandler","dragging",As),it.mergeOptions({keyboard:!0,keyboardPanDelta:80});var du=li.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Be(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,g=a.scrollTop||u.scrollTop,x=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},g=this.keyCodes,x,S;for(x=0,S=g.left.length;x<S;x++)u[g.left[x]]=[-1*a,0];for(x=0,S=g.right.length;x<S;x++)u[g.right[x]]=[a,0];for(x=0,S=g.down.length;x<S;x++)u[g.down[x]]=[0,a];for(x=0,S=g.up.length;x<S;x++)u[g.up[x]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},g=this.keyCodes,x,S;for(x=0,S=g.zoomIn.length;x<S;x++)u[g.zoomIn[x]]=a;for(x=0,S=g.zoomOut.length;x<S;x++)u[g.zoomOut[x]]=-a},_addHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,g=this._map,x;if(u in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(x=this._panKeys[u],a.shiftKey&&(x=Ee(x).multiplyBy(3)),g.options.maxBounds&&(x=g._limitOffset(Ee(x),g.options.maxBounds)),g.options.worldCopyJump){var S=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(x)));g.panTo(S)}else g.panBy(x)}else if(u in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Gi(a)}}});it.addInitHook("addHandler","keyboard",du),it.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var hl=li.extend({addHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=gn(a),g=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var x=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),x),Gi(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,P=g?Math.ceil(S/g)*g:S,K=a._limitZoom(u+(this._delta>0?P:-P))-u;this._delta=0,this._startTime=null,K&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+K):a.setZoomAround(this._lastMousePos,u+K))}});it.addInitHook("addHandler","scrollWheelZoom",hl);var Wr=600;it.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var uc=li.extend({addHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new le(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Be(document,"touchend",Ht),Be(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Wr),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){bt(document,"touchend",Ht),bt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new le(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});g._simulated=!0,u.target.dispatchEvent(g)}});it.addInitHook("addHandler","tapHold",uc),it.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var fu=li.extend({addHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var g=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(g.add(x)._divideBy(2))),this._startDist=g.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),Ht(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,g=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]),S=g.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=g._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var K=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(K,this,!0),Ht(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});it.addInitHook("addHandler","touchZoom",fu),it.BoxZoom=Xn,it.DoubleClickZoom=cc,it.Drag=As,it.Keyboard=du,it.ScrollWheelZoom=hl,it.TapHold=uc,it.TouchZoom=fu,t.Bounds=z,t.Browser=Oe,t.CRS=Ue,t.Canvas=lc,t.Circle=nc,t.CircleMarker=Ua,t.Class=de,t.Control=Mn,t.DivIcon=Qh,t.DivOverlay=Dn,t.DomEvent=xs,t.DomUtil=ur,t.Draggable=Ki,t.Evented=Se,t.FeatureGroup=ws,t.GeoJSON=Fs,t.GridLayer=Ga,t.Handler=li,t.Icon=Es,t.ImageOverlay=Ha,t.LatLng=Ae,t.LatLngBounds=pe,t.Layer=Qi,t.LayerGroup=za,t.LineUtil=Ci,t.Map=it,t.Marker=nl,t.Mixin=ec,t.Path=Ts,t.Point=le,t.PolyUtil=fr,t.Polygon=Ba,t.Polyline=Hs,t.Popup=al,t.PosAnimation=Us,t.Projection=Wi,t.Rectangle=Kr,t.Renderer=Qn,t.SVG=Za,t.SVGOverlay=oc,t.TileLayer=yr,t.Tooltip=ol,t.Transformation=cs,t.Util=Z,t.VideoOverlay=gr,t.bind=d,t.bounds=X,t.canvas=cl,t.circle=$h,t.circleMarker=Zh,t.control=Wn,t.divIcon=Mm,t.extend=o,t.featureGroup=Fh,t.geoJSON=ac,t.geoJson=rl,t.gridLayer=Xh,t.icon=Jo,t.imageOverlay=Yh,t.latLng=Ce,t.latLngBounds=be,t.layerGroup=Nm,t.map=dr,t.marker=Gh,t.point=Ee,t.polygon=Im,t.polyline=Rm,t.popup=Wh,t.rectangle=Lm,t.setOptions=U,t.stamp=m,t.svg=ul,t.svgOverlay=Kh,t.tileLayer=Ri,t.tooltip=Pm,t.transformation=yi,t.version=s,t.videoOverlay=Fa;var mu=window.L;t.noConflict=function(){return window.L=mu,this},window.L=t}))})(rh,rh.exports)),rh.exports}var Cm=f6();const HS=Kw(Cm);function FS(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function GS(n,e){return e==null?function(s,o){const c=B.useRef(void 0);return c.current||(c.current=n(s,o)),c}:function(s,o){const c=B.useRef(void 0);c.current||(c.current=n(s,o));const d=B.useRef(s),{instance:_}=c.current;return B.useEffect(function(){d.current!==s&&(e(_,s,d.current),d.current=s)},[_,s,e]),c}}function m6(n,e){B.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function ZS(n){return function(t){const s=BS(),o=n(qS(t,s),s);return r6(s.map,t.attribution),h6(o.current,t.eventHandlers),m6(o.current,s),o}}function p6(n,e){const t=GS(n,e),s=ZS(t);return c6(s)}function g6(n,e){const t=GS(n,e),s=ZS(t);return u6(s)}function y6(n,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function _6(){return BS().map}function v6(n){const e=_6();return B.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function b6({bounds:n,boundsOptions:e,center:t,children:s,className:o,id:c,placeholder:d,style:_,whenReady:m,zoom:v,...w},E){const[N]=B.useState({className:o,id:c,style:_}),[R,k]=B.useState(null),U=B.useRef(void 0);B.useImperativeHandle(E,()=>R?.map??null,[R]);const D=B.useCallback(q=>{if(q!==null&&!U.current){const $=new Cm.Map(q,w);U.current=$,t!=null&&v!=null?$.setView(t,v):n!=null&&$.fitBounds(n,e),m!=null&&$.whenReady(m),k(o6($))}},[]);B.useEffect(()=>()=>{R?.map.remove()},[R]);const O=R?rn.createElement(F_,{value:R},s):d??null;return rn.createElement("div",{...N,ref:D},O)}const x6=B.forwardRef(b6),w6=p6(function({position:e,...t},s){const o=new Cm.Marker(e,t);return FS(o,l6(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),E6=g6(function({url:e,...t},s){const o=new Cm.TileLayer(e,qS(t,s));return FS(o,s)},function(e,t,s){y6(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)});delete HS.Icon.Default.prototype._getIconUrl;HS.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function T6({position:n,setPosition:e,setAddress:t}){const s=v6({click(o){e(o.latlng),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.latlng.lat}&lon=${o.latlng.lng}`).then(c=>c.json()).then(c=>{c&&c.display_name&&t(c.display_name)}).catch(c=>console.error("Error reverse geocoding",c))}});return B.useEffect(()=>{n&&s.flyTo(n,16)},[n,s]),n===null?null:p.jsx(w6,{position:n})}const S6=({onConfirm:n,initialLocation:e})=>{const[t,s]=B.useState(e?{lat:e.lat,lng:e.lng}:null),[o,c]=B.useState(e?.address||""),[d,_]=B.useState(""),[m,v]=B.useState(!1),w=[-12.0464,-77.0428],E=async R=>{if(R.preventDefault(),!!d){v(!0);try{const U=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(d)}`)).json();if(U&&U.length>0){const D=U[0],O={lat:parseFloat(D.lat),lng:parseFloat(D.lon)};s(O),c(D.display_name)}else console.log("No location found")}catch(k){console.error("Search error:",k)}finally{v(!1)}}},N=()=>{t&&n({lat:t.lat,lng:t.lng,address:o})};return p.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[p.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[p.jsxs("form",{onSubmit:E,className:"relative flex gap-2",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx("input",{type:"text",value:d,onChange:R=>_(R.target.value),placeholder:"Buscar ciudad, calle o lugar...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-[#fc7f51] focus:ring-1 focus:ring-[#fc7f51] outline-none text-sm"}),p.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),p.jsx("button",{type:"submit",disabled:m,className:"bg-[#262626] text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-black transition disabled:opacity-70",children:m?p.jsx(Ah,{className:"w-4 h-4 animate-spin"}):"Buscar"})]}),o&&p.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-start gap-1",children:[p.jsx(Dr,{className:"w-3 h-3 mt-0.5 text-[#fc7f51]"}),p.jsx("span",{className:"line-clamp-2",children:o})]})]}),p.jsx("div",{className:"flex-grow min-h-[300px] relative z-0",children:p.jsxs(x6,{center:w,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[p.jsx(E6,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),p.jsx(T6,{position:t,setPosition:s,setAddress:c})]})}),p.jsx("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-end",children:p.jsx("button",{type:"button",onClick:N,disabled:!t,className:"bg-[#fc7f51] text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-[#e56b3e] transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ubicacin"})})]})},A6=()=>{const{user:n,userData:e}=Vo(),[t,s]=B.useState(!1),[o,c]=B.useState(!1),[d,_]=B.useState(null),[m,v]=B.useState("properties"),[w,E]=B.useState(""),[N,R]=B.useState(!1),[k,U]=B.useState({displayName:"",email:"",phoneNumber:"",newPassword:""}),[D,O]=B.useState(!1),[q,$]=B.useState([]),[J,te]=B.useState({title:"",content:""}),[me,V]=B.useState(null),[I,F]=B.useState(!1),[G,H]=B.useState([]),[Y,Z]=B.useState([]),[de,Ie]=B.useState({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,security:!1}),[re,Se]=B.useState([]),[le,ge]=B.useState([]),[Ee,z]=B.useState(!0),X=async()=>{if(n){z(!0);try{const se=Is(wn(nt,"properties"),da("agentId","==",n.uid)),st=(await Ks(se)).docs.map(qe=>({id:qe.id,...qe.data()}));st.sort((qe,gt)=>(gt.createdAt?.seconds||0)-(qe.createdAt?.seconds||0)),Se(st)}catch(se){console.error("Error fetching properties:",se)}finally{z(!1)}}},pe=async()=>{if(n){F(!0);try{const se=Is(wn(nt,"tips"),da("agentId","==",n.uid),zT("createdAt","desc")),Ye=await Ks(se);$(Ye.docs.map(st=>({id:st.id,...st.data()})))}catch(se){console.error("Error fetching tips:",se)}finally{F(!1)}}};B.useEffect(()=>{e?.isActivated&&(X(),(async()=>{try{const Ye=Is(wn(nt,"inquiries"),da("agentId","==",n.uid)),st=await Ks(Ye);ge(st.docs.map(qe=>({id:qe.id,...qe.data()})))}catch(Ye){console.error("Error fetching inquiries:",Ye)}})(),pe()),U({displayName:e?.displayName||n?.displayName||"",email:e?.email||n?.email||"",phoneNumber:e?.phoneNumber||"",newPassword:""})},[n,e]);const be=async se=>{se.preventDefault(),R(!0);try{const Ye=Is(wn(nt,"activation_codes"),da("code","==",w),da("used","==",!1)),st=await Ks(Ye);if(st.empty){Ge.error("Cdigo invlido o ya usado."),R(!1);return}const qe=st.docs[0];await mo(mn(nt,"activation_codes",qe.id),{used:!0,usedBy:n.uid,usedAt:new Date}),await mo(mn(nt,"users",n.uid),{isActivated:!0,activationCode:w}),Ge.success("Cuenta activada con xito! Recargando..."),setTimeout(()=>window.location.reload(),1500)}catch(Ye){console.error("Error activating account:",Ye),Ge.error("Error al activar la cuenta.")}finally{R(!1)}},Ae=async se=>{se.preventDefault(),O(!0);try{if(k.displayName!==n.displayName&&await K1(n,{displayName:k.displayName}),k.email!==n.email&&await zI(n,k.email),await mo(mn(nt,"users",n.uid),{displayName:k.displayName,email:k.email,phoneNumber:k.phoneNumber}),k.newPassword){if(k.newPassword.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");await UI(n,k.newPassword),U(gt=>({...gt,newPassword:""})),Ge.success("Contrasea actualizada.")}const Ye=RD(nt),st=Is(wn(nt,"properties"),da("agentId","==",n.uid));(await Ks(st)).forEach(gt=>{Ye.update(gt.ref,{agentName:k.displayName})}),await Ye.commit(),Ge.success("Perfil actualizado correctamente."),X()}catch(Ye){console.error("Error updating profile:",Ye),Ge.error("Error al actualizar perfil. Si cambiaste el email, podras necesitar volver a iniciar sesin.")}finally{O(!1)}},Ce=async se=>{se.preventDefault(),F(!0);try{me?(await mo(mn(nt,"tips",me),{...J,updatedAt:new Date}),Ge.success("Tip actualizado.")):(await qc(wn(nt,"tips"),{...J,agentId:n.uid,agentName:n.displayName||"Agente",createdAt:new Date,likes:0}),Ge.success("Tip publicado.")),te({title:"",content:""}),V(null),pe()}catch(Ye){console.error("Error saving tip:",Ye),Ye.code==="failed-precondition"?Ge.error("El ndice de base de datos se est creando. Intenta de nuevo en unos minutos."):Ge.error("Error al guardar el tip.")}finally{F(!1)}},Ue=async se=>{if(window.confirm("Seguro que quieres eliminar este tip?"))try{await _y(mn(nt,"tips",se)),$(Ye=>Ye.filter(st=>st.id!==se)),Ge.success("Tip eliminado.")}catch(Ye){console.error("Error deleting tip:",Ye)}},Ct=se=>{te({title:se.title||"",content:se.content||""}),V(se.id),v("tips")},Nt=async(se,Ye)=>{const st=Ye==="disponible"?"tomada":"disponible";try{await mo(mn(nt,"properties",se),{status:st}),Ge.success(`Estado actualizado a: ${st==="disponible"?"Disponible":"No Disponible"}`)}catch(qe){console.error("Error updating status:",qe),Ge.error("No se pudo actualizar el estado.")}},Vi=se=>{const Ye=Array.from(se.target.files),st=Ye.map(qe=>URL.createObjectURL(qe));Z(qe=>[...qe,...st]),H(qe=>[...qe,...Ye])},cs=se=>{if(Y[se].startsWith("blob:")){const st=Y.slice(0,se).filter(qe=>qe.startsWith("blob:")).length;H(qe=>qe.filter((gt,Zn)=>Zn!==st))}Z(st=>st.filter((qe,gt)=>gt!==se))},yi=se=>{_(se.id),Ie({title:se.title,description:se.description,type:se.type,currency:se.currency||"USD",price:se.price,category:se.category,location:se.location,footage:se.footage,bedrooms:se.bedrooms||"",bathrooms:se.bathrooms||"",antiquityType:se.antiquityType||"estreno",antiquityYears:se.antiquityYears||"",lat:se.lat||"",lng:se.lng||"",antiquity:se.antiquity||"estreno",floor:se.floor||"",elevator:se.elevator||!1,parking:se.parking||!1,isExclusive:se.isExclusive||!1,isInBuilding:se.isInBuilding||!1,isDuplex:se.isDuplex||!1,elevator:se.elevator||!1,furnished:se.furnished||!1,pool:se.pool||!1,gym:se.gym||!1,security:se.security||!1}),Z(se.images||[]),H([]),v("properties"),window.scrollTo({top:0,behavior:"smooth"})},us=()=>{_(null),Ie({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),Z([]),H([])},_i=async se=>{se.preventDefault(),s(!0);try{const Ye=G.map(async qe=>{const gt=zk(Gk,`properties/${n.uid}/${Date.now()}_${qe.name}`),Zn=await jk(gt,qe);return await Vk(Zn.ref)}),st=await Promise.all(Ye);if(d){const qe={...de,price:parseFloat(de.price),footage:parseFloat(de.footage),bedrooms:de.category==="construido"?parseInt(de.bedrooms):0,bathrooms:de.category==="construido"?parseInt(de.bathrooms):0};st.length>0&&(qe.images=[...Y.filter(gt=>gt.startsWith("http")),...st]),await mo(mn(nt,"properties",d),qe),Ge.success("Propiedad actualizada con xito!")}else await qc(wn(nt,"properties"),{...de,agentId:n.uid,agentName:e.displayName||"Agente",images:st,createdAt:new Date,status:"disponible",views:0,isPromoted:!1,price:parseFloat(de.price),footage:parseFloat(de.footage),bedrooms:de.category==="construido"?parseInt(de.bedrooms):0,bathrooms:de.category==="construido"?parseInt(de.bathrooms):0}),Ge.success("Propiedad publicada con xito!"),Ie({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),H([]),Z([]),_(null),X()}catch(Ye){console.error("Error adding property: ",Ye),Ge.error("Hubo un error al publicar la propiedad.")}finally{s(!1)}};B.useEffect(()=>{if(e?.role!=="superadmin")return;(async()=>{try{const Ye=Is(wn(nt,"activation_codes"),da("code","==","AGENT2024"));(await Ks(Ye)).empty&&await qc(wn(nt,"activation_codes"),{code:"AGENT2024",used:!1,createdAt:new Date,type:"standard"})}catch{console.debug("Skipping code creation (not authorized)")}})()},[e]);const sr=e?.isActivated;return p.jsx("div",{className:"min-h-screen bg-gray-50 pt-28 pb-12 px-6",children:p.jsxs("div",{className:"container mx-auto max-w-6xl",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold font-[Montserrat] text-gray-800 mb-6",children:"Panel de Agente"}),p.jsxs("div",{className:"flex flex-wrap gap-4 border-b border-gray-200",children:[p.jsx("button",{onClick:()=>v("properties"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="properties"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mis Propiedades"}),p.jsx("button",{onClick:()=>v("inquiries"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="inquiries"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Solicitudes"}),p.jsx("button",{onClick:()=>v("tips"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="tips"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tips Inmobiliarios"}),p.jsx("button",{onClick:()=>v("profile"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="profile"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mi Perfil"})]})]}),sr?p.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[m==="properties"&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 h-fit",children:[p.jsx("div",{className:"bg-[#16151a] p-6 text-white",children:p.jsx("h2",{className:"text-xl font-bold",children:d?"Editar Propiedad":"Nueva Propiedad"})}),p.jsxs("form",{onSubmit:_i,className:"p-8 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),p.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Ej: Departamento en Miraflores",value:de.title,onChange:se=>Ie({...de,title:se.target.value})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),p.jsxs("div",{className:"flex",children:[p.jsxs("select",{className:"w-24 px-2 py-3 rounded-l-lg border border-r-0 border-gray-200 bg-gray-50 text-sm font-bold",value:de.currency,onChange:se=>Ie({...de,currency:se.target.value}),children:[p.jsx("option",{value:"USD",children:"USD"}),p.jsx("option",{value:"PEN",children:"PEN"})]}),p.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-r-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"0.00",value:de.price,onChange:se=>Ie({...de,price:se.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operacin"}),p.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.type,onChange:se=>Ie({...de,type:se.target.value}),children:[p.jsx("option",{value:"venta",children:"Venta"}),p.jsx("option",{value:"alquiler",children:"Alquiler"}),p.jsx("option",{value:"alquiler",children:"Anticresis"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),p.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.category,onChange:se=>Ie({...de,category:se.target.value}),children:[p.jsx("option",{value:"construido",children:"Construido"}),p.jsx("option",{value:"terreno",children:"Terreno"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metraje (m)"}),p.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"120",value:de.footage,onChange:se=>Ie({...de,footage:se.target.value})})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Antigedad"}),p.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.antiquity,onChange:se=>Ie({...de,antiquity:se.target.value}),children:[p.jsx("option",{value:"estreno",children:"Estreno"}),p.jsx("option",{value:"preventa",children:"Pre-Venta"}),p.jsx("option",{value:"up_to_5",children:"Hasta 5 aos"}),p.jsx("option",{value:"5_to_10",children:"5 a 10 aos"}),p.jsx("option",{value:"more_than_10",children:"Ms de 10 aos"}),p.jsx("option",{value:"more_than_20",children:"Ms de 20 aos"})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-8",children:[p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.isExclusive,onChange:se=>Ie({...de,isExclusive:se.target.checked})}),p.jsx("span",{className:"font-bold text-[#fc7f51]",children:"Es Exclusiva?"})]}),p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.parking,onChange:se=>Ie({...de,parking:se.target.checked})}),p.jsx("span",{className:"font-medium text-gray-700",children:"Tiene Cochera"})]}),de.category==="construido"&&p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.isInBuilding,onChange:se=>Ie({...de,isInBuilding:se.target.checked})}),p.jsx("span",{className:"font-medium text-gray-700",children:"Es Edificio / Departamento"})]})]})]}),p.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[p.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-3 uppercase tracking-wider",children:"Caractersticas Adicionales"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.elevator,onChange:se=>Ie({...de,elevator:se.target.checked})}),p.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Ascensor"})]}),p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.furnished,onChange:se=>Ie({...de,furnished:se.target.checked})}),p.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amoblado"})]}),p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.pool,onChange:se=>Ie({...de,pool:se.target.checked})}),p.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Piscina"})]}),p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.gym,onChange:se=>Ie({...de,gym:se.target.checked})}),p.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Gimnasio"})]}),p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.security,onChange:se=>Ie({...de,security:se.target.checked})}),p.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Seguridad 24/7"})]})]})]}),de.category==="construido"&&p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaciones"}),p.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:de.bedrooms,onChange:se=>Ie({...de,bedrooms:se.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Baos"}),p.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:de.bathrooms,onChange:se=>Ie({...de,bathrooms:se.target.value})})]})]}),de.category==="construido"&&de.isInBuilding&&p.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-orange-50 p-4 rounded-xl border border-orange-100",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piso"}),p.jsx("input",{type:"text",placeholder:"Ej. 5",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.floor,onChange:se=>Ie({...de,floor:se.target.value})})]}),p.jsx("div",{className:"flex items-center pt-8",children:p.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[p.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.isDuplex,onChange:se=>Ie({...de,isDuplex:se.target.checked})}),p.jsx("span",{className:"font-medium text-gray-700",children:"Es Dplex?"})]})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Direccin o Link Maps",value:de.location,onChange:se=>Ie({...de,location:se.target.value})})]}),p.jsx("button",{type:"button",onClick:()=>c(!0),className:"bg-[#262626] text-white px-4 rounded-lg hover:bg-black transition flex items-center justify-center",title:"Buscar en Mapa",children:p.jsx(Dr,{className:"w-5 h-5"})})]})]}),o&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-[600px] flex flex-col overflow-hidden relative",children:[p.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[p.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Seleccionar Ubicacin"}),p.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:p.jsx(Wc,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"flex-grow p-0",children:p.jsx(S6,{onConfirm:se=>{Ie({...de,location:se.address||`${se.lat}, ${se.lng}`,lat:se.lat,lng:se.lng}),c(!1)}})})]})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),p.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-24 resize-none",value:de.description,onChange:se=>Ie({...de,description:se.target.value})})]}),p.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[p.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Vi,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),p.jsx(hj,{className:"h-6 w-6 text-[#fc7f51] mx-auto mb-2"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Subir fotos"})]}),Y.length>0&&p.jsx("div",{className:"grid grid-cols-4 gap-2",children:Y.map((se,Ye)=>p.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[p.jsx("img",{src:se,alt:"",className:"w-full h-full object-cover"}),p.jsx("button",{type:"button",onClick:()=>cs(Ye),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5",children:p.jsx(Wc,{className:"w-3 h-3"})})]},Ye))}),p.jsxs("div",{className:"flex gap-2",children:[d&&p.jsx("button",{type:"button",onClick:us,className:"flex-1 bg-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cancelar"}),p.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2",children:t?p.jsx(Ah,{className:"animate-spin"}):d?"Actualizar Propiedad":"Publicar Propiedad"})]})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Propiedades"}),p.jsxs("span",{className:"bg-orange-100 text-[#fc7f51] px-3 py-1 rounded-full text-sm font-bold",children:[re.length," Total"]})]}),Ee?p.jsx("div",{className:"flex justify-center py-12",children:p.jsx(Ah,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):re.length===0?p.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No has publicado ninguna propiedad an."}):p.jsx("div",{className:"grid gap-4",children:re.map(se=>p.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4",children:[p.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:p.jsx("img",{src:se.images?.[0]||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Sin+Img",alt:se.title,className:"w-full h-full object-cover"})}),p.jsxs("div",{className:"flex-grow",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:se.title}),p.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${se.status==="disponible"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:se.status})]}),p.jsx("p",{className:"text-gray-500 text-xs mt-1",children:se.location}),p.jsxs("p",{className:"text-[#fc7f51] font-bold text-sm mt-1",children:["$",se.price?.toLocaleString()]}),p.jsxs("div",{className:"mt-3 flex gap-2",children:[p.jsx("button",{onClick:()=>Nt(se.id,se.status),className:`tx-xs px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 text-center ${se.status==="disponible"?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:se.status==="disponible"?"Marcar Vendido/Alquilado":"Marcar Disponible"}),p.jsx("button",{onClick:()=>yi(se),className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-100 transition",children:"Editar"})]})]})]},se.id))})]})]}),m==="profile"&&p.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl",children:[p.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[p.jsx(vS,{className:"w-6 h-6 text-[#fc7f51]"})," Editar Perfil"]}),p.jsxs("form",{onSubmit:Ae,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Publico"}),p.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:k.displayName,onChange:se=>U({...k,displayName:se.target.value}),required:!0}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este nombre aparecer en todas tus propiedades publicadas."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),p.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:k.email,onChange:se=>U({...k,email:se.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),p.jsx("input",{type:"tel",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:k.phoneNumber,onChange:se=>U({...k,phoneNumber:se.target.value})})]}),p.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea (Opcional)"}),p.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Dejar vaca para mantener la actual",value:k.newPassword||"",onChange:se=>U({...k,newPassword:se.target.value})}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres."})]}),p.jsx("button",{type:"submit",disabled:D,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-xl hover:bg-[#e56b3e] transition disabled:opacity-70",children:D?"Guardando...":"Guardar Cambios"})]})]}),m==="inquiries"&&p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Solicitudes de Clientes"}),le.length===0?p.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No tienes solicitudes de contacto pendientes."}):p.jsx("div",{className:"space-y-4",children:le.map(se=>p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800",children:se.clientName}),p.jsxs("p",{className:"text-sm text-gray-500",children:[se.clientPhone,"  ",se.clientEmail||"Sin email"]})]}),p.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-600",children:se.timestamp?.seconds?new Date(se.timestamp.seconds*1e3).toLocaleDateString():"Reciente"})]}),p.jsxs("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg text-sm italic",children:['"',se.clientMessage,'"']}),p.jsxs("div",{className:"mt-2 text-xs text-[#fc7f51] font-bold",children:["Interesado en: ",se.propertyTitle]})]},se.id))})]}),m==="tips"&&p.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsx("div",{className:"md:col-span-1",children:p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-24",children:[p.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:me?"Editar Tip":"Nuevo Tip"}),p.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[p.jsx("input",{type:"text",placeholder:"Ttulo del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:J.title,onChange:se=>te({...J,title:se.target.value}),required:!0}),p.jsx("textarea",{placeholder:"Contenido del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-32 resize-none",value:J.content,onChange:se=>te({...J,content:se.target.value}),required:!0}),p.jsx("button",{type:"submit",disabled:I,className:"w-full bg-[#fc7f51] text-white font-bold py-2 rounded-lg hover:bg-[#e56b3e] transition",children:me?"Actualizar":"Publicar"}),me&&p.jsx("button",{type:"button",onClick:()=>{V(null),te({title:"",content:""})},className:"w-full bg-gray-100 text-gray-600 font-bold py-2 rounded-lg hover:bg-gray-200 transition",children:"Cancelar"})]})]})}),p.jsxs("div",{className:"md:col-span-2 space-y-4",children:[p.jsxs("h3",{className:"font-bold text-gray-800 mb-4",children:["Tips Publicados (",q.length,")"]}),q.length===0?p.jsx("p",{className:"text-gray-500 text-center py-10",children:"No has publicado tips an."}):q.map(se=>p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative group",children:[p.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:se.title}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:se.content}),p.jsx("div",{className:"text-xs text-gray-400",children:se.createdAt?.seconds?new Date(se.createdAt.seconds*1e3).toLocaleDateString():"Reciente"}),p.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[p.jsx("button",{onClick:()=>Ct(se),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:p.jsx(w4,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>Ue(se.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:p.jsx(_S,{className:"w-4 h-4"})})]})]},se.id))]})]})]}):p.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:p.jsx(U4,{className:"w-8 h-8 text-[#fc7f51]"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cuenta Inactiva"}),p.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Ingresa tu cdigo de activacin para acceder al panel."}),p.jsxs("form",{onSubmit:be,className:"w-full space-y-4",children:[p.jsx("input",{type:"text",value:w,onChange:se=>E(se.target.value.toUpperCase()),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition text-center font-mono text-lg tracking-widest uppercase",placeholder:"CDIGO",required:!0}),p.jsx("button",{type:"submit",disabled:N,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition disabled:opacity-70",children:N?"Verificando...":"Activar Cuenta"})]})]})]})})},C6=()=>{const{user:n}=Vo(),[e,t]=B.useState([]),[s,o]=B.useState(!0);return B.useEffect(()=>{(async()=>{try{const d=Is(wn(nt,"properties")),m=(await Ks(d)).docs.map(v=>({id:v.id,...v.data()}));console.log("ClientDashboard Fetched properties:",m),t(m)}catch(d){console.error("Error fetching properties:",d)}finally{o(!1)}})()},[n]),p.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:p.jsxs("div",{className:"container mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:["Hola, ",n?.displayName||"Usuario"]}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Bienvenido a tu panel personal. Aqu encontrars las propiedades que te interesan."})]}),p.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1",children:[p.jsx("button",{className:"px-4 py-2 text-[#fc7f51] border-b-2 border-[#fc7f51] font-bold",children:"Mis Favoritos"}),p.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Vistos Recientemente"}),p.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Alertas"})]}),s?p.jsx("div",{className:"flex justify-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#fc7f51]"})}):e.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>p.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden group border border-gray-100",children:[p.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[p.jsx("img",{src:c.images?.[0]||"https://images.unsplash.com/photo-1600596542815-9ad4dc2f2072?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),p.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500",children:p.jsx(Gf,{className:"w-5 h-5 fill-current"})}),p.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider",children:c.type})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:c.title}),p.jsxs("span",{className:"text-[#fc7f51] font-bold text-lg",children:["$",c.price?.toLocaleString()]})]}),p.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.location}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-4",children:[c.category==="construido"?p.jsxs(p.Fragment,{children:[p.jsxs("span",{children:[c.bedrooms," Hab"]}),p.jsx("span",{children:""}),p.jsxs("span",{children:[c.bathrooms," Baos"]}),p.jsx("span",{children:""})]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Terreno"}),p.jsx("span",{children:""})]}),p.jsxs("span",{children:[c.footage," m"]})]}),p.jsx(an,{to:`/properties/${c.id}`,className:"mt-4 block w-full py-3 bg-gray-50 hover:bg-[#fc7f51] hover:text-white text-gray-600 font-bold text-center rounded-xl transition text-sm",children:"Ver Detalles"})]})]},c.id))}):p.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[p.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:p.jsx(Gf,{className:"w-8 h-8 text-[#fc7f51]"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"An no tienes favoritos"}),p.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explora nuestro catlogo y guarda las propiedades que ms te gusten para verlas aqu."}),p.jsxs(an,{to:"/",className:"inline-flex items-center gap-2 bg-[#fc7f51] text-white px-8 py-3 rounded-full font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:[p.jsx(Kc,{className:"w-5 h-5"}),"Explorar Propiedades"]})]})]})})},N6=()=>{const[n,e]=B.useState({totalAgents:0,totalProperties:0,activeCodes:0}),[t,s]=B.useState([]),[o,c]=B.useState(!0),[d,_]=B.useState(!1),[m,v]=B.useState(null),[w,E]=B.useState([]),[N,R]=B.useState(!1),[k,U]=B.useState(!1),D=async()=>{try{const te=Is(wn(nt,"users"),da("role","==","agente")),me=await Mw(te),V=await Mw(wn(nt,"properties")),I=Is(wn(nt,"activation_codes"),zT("createdAt","desc")),G=(await Ks(I)).docs.map(H=>({id:H.id,...H.data()}));s(G),e({totalAgents:me.data().count,totalProperties:V.data().count,activeCodes:G.filter(H=>!H.used).length})}catch(te){console.error("Error fetching admin stats:",te),Ge.error("Error al cargar estadsticas")}finally{c(!1)}};B.useEffect(()=>{D()},[]);const O=async()=>{_(!0);try{const te="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let me="";for(let V=0;V<8;V++)me+=te.charAt(Math.floor(Math.random()*te.length));await qc(wn(nt,"activation_codes"),{code:me,used:!1,createdAt:new Date,usedBy:null,usedAt:null}),Ge.success("Cdigo generado correctamente!"),D()}catch(te){console.error("Error generating code:",te),Ge.error("No se pudo generar el cdigo")}finally{_(!1)}},q=te=>{navigator.clipboard.writeText(te),Ge.success("Cdigo copiado al portapapeles")},$=async te=>{if(te){R(!0),U(!0),E([]);try{const me=await Rl(mn(nt,"users",te));if(me.exists())v({id:me.id,...me.data()});else{v(null),Ge.error("Usuario no encontrado (probablemente ya eliminado).");return}const V=Is(wn(nt,"properties"),da("agentId","==",te)),F=(await Ks(V)).docs.map(G=>({id:G.id,...G.data()}));E(F)}catch(me){console.error("Error details:",me),Ge.error("Error al cargar detalles")}finally{R(!1)}}},J=async()=>{if(!(!m||!window.confirm(`Ests seguro de que quieres eliminar a ${m.displayName||"este usuario"} y todas sus propiedades? Esta accin no se puede deshacer.`)))try{const te=w.map(me=>_y(mn(nt,"properties",me.id)));await Promise.all(te),await _y(mn(nt,"users",m.id)),Ge.success("Usuario y sus propiedades eliminados."),U(!1),D()}catch(te){console.error("Error deleting user:",te),Ge.error("Error al eliminar usuario.")}};return o?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(jg,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):p.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:[p.jsxs("div",{className:"container mx-auto max-w-6xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:"Panel Super Admin"}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Gestin general de la plataforma"})]}),p.jsx("button",{onClick:D,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition shadow-sm",children:p.jsx(jg,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[p.jsx("div",{className:"bg-orange-50 p-4 rounded-xl",children:p.jsx(bS,{className:"w-8 h-8 text-[#fc7f51]"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Agentes Registrados"}),p.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalAgents})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[p.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:p.jsx(mS,{className:"w-8 h-8 text-blue-500"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Inmuebles Publicados"}),p.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalProperties})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[p.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:p.jsx(Zf,{className:"w-8 h-8 text-green-500"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Cdigos Disponibles"}),p.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.activeCodes})]})]})]}),p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[p.jsxs("div",{className:"p-8 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cdigos de Activacin"}),p.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Genera cdigos nicos para activar cuentas de agentes."})]}),p.jsxs("button",{onClick:O,disabled:d,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/20 transition flex items-center gap-2 disabled:opacity-70",children:[d?p.jsx(jg,{className:"w-5 h-5 animate-spin"}):p.jsx(Zf,{className:"w-5 h-5"}),"Generar Nuevo Cdigo"]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CDIGO"}),p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ESTADO"}),p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CREADO EL"}),p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"USADO POR"}),p.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ACCIONES"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-50",children:t.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"5",className:"px-8 py-8 text-center text-gray-400",children:"No hay cdigos generados an."})}):t.map(te=>p.jsxs("tr",{className:"hover:bg-gray-50/50 transition",children:[p.jsx("td",{className:"px-8 py-4",children:p.jsx("span",{className:"font-mono font-bold text-lg text-gray-700 tracking-wider",children:te.code})}),p.jsx("td",{className:"px-8 py-4",children:te.used?p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Usado"}):p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Disponible"})}),p.jsx("td",{className:"px-8 py-4 text-sm text-gray-500",children:te.createdAt?.toDate().toLocaleDateString()}),p.jsx("td",{className:"px-8 py-4 text-sm text-gray-500 relative group cursor-pointer",onClick:()=>te.usedBy&&$(te.usedBy),children:te.usedBy?p.jsxs("div",{className:"flex items-center gap-2 hover:text-[#fc7f51] transition",children:[p.jsx("span",{children:te.usedBy}),p.jsx(Ff,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}):"-"}),p.jsx("td",{className:"px-8 py-4",children:te.used?p.jsx("button",{onClick:()=>$(te.usedBy),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition",title:"Ver Detalles",children:p.jsx(Ff,{className:"w-5 h-5"})}):p.jsx("button",{onClick:()=>q(te.code),className:"text-[#fc7f51] hover:text-[#e56b3e] p-2 hover:bg-orange-50 rounded-lg transition",title:"Copiar cdigo",children:p.jsx(p4,{className:"w-5 h-5"})})})]},te.id))})]})})]})]}),k&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[p.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Detalles del Agente"}),p.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-gray-200 rounded-full transition",children:p.jsx(Wc,{className:"w-5 h-5 text-gray-500"})})]}),p.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:N?p.jsx("div",{className:"flex justify-center py-12",children:p.jsx(Loader2,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):m?p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-bold text-gray-800",children:m.displayName||"Sin Nombre"}),p.jsx("p",{className:"text-gray-500",children:m.email}),p.jsx("p",{className:"text-gray-500 text-sm mt-1",children:m.phoneNumber||"Sin Telfono"}),p.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-orange-100 text-[#fc7f51] text-xs font-bold rounded-lg uppercase",children:m.role})]}),p.jsxs("button",{onClick:J,className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition",children:[p.jsx(_S,{className:"w-4 h-4"}),"Eliminar Usuario"]})]}),p.jsxs("div",{children:[p.jsxs("h4",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:["Propiedades Publicadas (",w.length,")"]}),w.length===0?p.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Este usuario no tiene propiedades."}):p.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map(te=>p.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex gap-3 hover:bg-gray-50 transition",children:[p.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:te.images?.[0]&&p.jsx("img",{src:te.images[0],className:"w-full h-full object-cover"})}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:te.title}),p.jsx("p",{className:"text-xs text-gray-500 truncate",children:te.location}),p.jsxs("p",{className:"text-[#fc7f51] font-bold text-xs mt-1",children:["$",te.price?.toLocaleString()]})]})]},te.id))})]})]}):p.jsx("p",{className:"text-center text-red-500",children:"No se pudo cargar la informacin."})})]})})]})},R6=()=>{const{user:n}=Vo(),[e,t]=B.useState(!1),s=async()=>{t(!0);try{const c=[{title:"Modern Apartment in Downtown",price:25e4,location:"Downtown City Center",type:"venta",category:"construido",bedrooms:2,bathrooms:2,footage:85,description:"Stunning view of the city.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"]},{title:"Cozy Family Home",price:1500,location:"Suburban Area",type:"alquiler",category:"construido",bedrooms:3,bathrooms:2,footage:120,description:"Ideal for a small family.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1560184897-ae75f418493e"]}];for(const d of c)await qc(wn(nt,"properties"),d);Ge.success("Propiedades de demostracin creadas!")}catch(c){console.error("Error creating demo props:",c),Ge.error("Error al crear propiedades demo")}finally{t(!1)}},o=async()=>{if(!n){Ge.error("Debes iniciar sesin primero.");return}t(!0);try{const c=mn(nt,"users",n.uid);await mo(c,{role:"superadmin",isActivated:!0}),Ge.success(`Rol actualizado! Ahora eres Super Admin: ${n.email}`),setTimeout(()=>window.location.reload(),1500)}catch(c){console.error("Error making superadmin:",c),Ge.error("Error al actualizar rol")}finally{t(!1)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 space-y-8",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg border border-gray-100 text-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Configuracin Inicial"}),p.jsx("p",{className:"text-gray-500 mb-8",children:"Usa estas herramientas para inicializar tu base de datos."}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:[p.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"1. Configurar Admin"}),p.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Convierte tu usuario actual (",n?.email||"No logueado",") en Super Admin."]}),p.jsx("button",{onClick:o,disabled:e||!n,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Hacerme Super Admin"})]}),p.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[p.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"2. Datos de Prueba"}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crea propiedades de ejemplo para ver cmo luce el dashboard."}),p.jsx("button",{onClick:s,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Crear Propiedades Demo"})]})]}),p.jsx("p",{className:"mt-8 text-xs text-gray-400",children:"Nota: Esta pgina debe ser eliminada o asegurada antes de produccin."})]})})};function I6(){const e=nr().pathname==="/superadmin";return p.jsx(k5,{children:p.jsxs("div",{className:"flex flex-col min-h-screen",children:[!e&&p.jsx(X3,{}),p.jsx("main",{className:"flex-grow",children:p.jsxs(pC,{children:[p.jsx(is,{path:"/",element:p.jsx(vj,{})}),p.jsx(is,{path:"/about",element:p.jsx(Q3,{})}),p.jsx(is,{path:"/contact",element:p.jsx(e6,{})}),p.jsx(is,{path:"/properties/:id",element:p.jsx(W3,{})}),p.jsx(is,{path:"/search",element:p.jsx(t6,{})}),p.jsx(is,{path:"/login",element:p.jsx(n6,{})}),p.jsx(is,{path:"/register",element:p.jsx(i6,{})}),p.jsx(is,{path:"/forgot-password",element:p.jsx(s6,{})}),p.jsx(is,{path:"/setup",element:p.jsx(R6,{})}),p.jsx(is,{path:"/agent-dashboard",element:p.jsx(kg,{allowedRoles:["agente"],children:p.jsx(A6,{})})}),p.jsx(is,{path:"/client-dashboard",element:p.jsx(kg,{allowedRoles:["cliente"],children:p.jsx(C6,{})})}),p.jsx(is,{path:"/superadmin",element:p.jsx(kg,{allowedRoles:["superadmin"],children:p.jsx(N6,{})})})]})}),!e&&p.jsx(J3,{})]})})}yA.createRoot(document.getElementById("root")).render(p.jsx(B.StrictMode,{children:p.jsx(UC,{children:p.jsx(I6,{})})}));
