(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Kw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ug={exports:{}},$u={};var zb;function oA(){if(zb)return $u;zb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:d,ref:o!==void 0?o:null,props:c}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var Ub;function lA(){return Ub||(Ub=1,ug.exports=oA()),ug.exports}var _=lA(),hg={exports:{}},Qe={};var Bb;function cA(){if(Bb)return Qe;Bb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),N=Symbol.iterator;function R(Y){return Y===null||typeof Y!="object"?null:(Y=N&&Y[N]||Y["@@iterator"],typeof Y=="function"?Y:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,D={};function O(Y,ue,Se){this.props=Y,this.context=ue,this.refs=D,this.updater=Se||k}O.prototype.isReactComponent={},O.prototype.setState=function(Y,ue){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ue,"setState")},O.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function H(){}H.prototype=O.prototype;function Z(Y,ue,Se){this.props=Y,this.context=ue,this.refs=D,this.updater=Se||k}var J=Z.prototype=new H;J.constructor=Z,z(J,O.prototype),J.isPureReactComponent=!0;var te=Array.isArray;function fe(){}var V={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function q(Y,ue,Se){var Ae=Se.ref;return{$$typeof:n,type:Y,key:ue,ref:Ae!==void 0?Ae:null,props:Se}}function F(Y,ue){return q(Y.type,ue,Y.props)}function B(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function $(Y){var ue={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Se){return ue[Se]})}var G=/\/+/g;function ge(Y,ue){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):ue.toString(36)}function _e(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(fe,fe):(Y.status="pending",Y.then(function(ue){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ue)},function(ue){Y.status==="pending"&&(Y.status="rejected",Y.reason=ue)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function X(Y,ue,Se,Ae,Re){var Ie=typeof Y;(Ie==="undefined"||Ie==="boolean")&&(Y=null);var Ye=!1;if(Y===null)Ye=!0;else switch(Ie){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(Y.$$typeof){case n:case e:Ye=!0;break;case w:return Ye=Y._init,X(Ye(Y._payload),ue,Se,Ae,Re)}}if(Ye)return Re=Re(Y),Ye=Ae===""?"."+ge(Y,0):Ae,te(Re)?(Se="",Ye!=null&&(Se=Ye.replace(G,"$&/")+"/"),X(Re,ue,Se,"",function(Vi){return Vi})):Re!=null&&(B(Re)&&(Re=F(Re,Se+(Re.key==null||Y&&Y.key===Re.key?"":(""+Re.key).replace(G,"$&/")+"/")+Ye)),ue.push(Re)),1;Ye=0;var Ct=Ae===""?".":Ae+":";if(te(Y))for(var Nt=0;Nt<Y.length;Nt++)Ae=Y[Nt],Ie=Ct+ge(Ae,Nt),Ye+=X(Ae,ue,Se,Ie,Re);else if(Nt=R(Y),typeof Nt=="function")for(Y=Nt.call(Y),Nt=0;!(Ae=Y.next()).done;)Ae=Ae.value,Ie=Ct+ge(Ae,Nt++),Ye+=X(Ae,ue,Se,Ie,Re);else if(Ie==="object"){if(typeof Y.then=="function")return X(_e(Y),ue,Se,Ae,Re);throw ue=String(Y),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function ye(Y,ue,Se){if(Y==null)return Y;var Ae=[],Re=0;return X(Y,Ae,"","",function(Ie){return ue.call(Se,Ie,Re++)}),Ae}function ie(Y){if(Y._status===-1){var ue=Y._result;ue=ue(),ue.then(function(Se){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Se)},function(Se){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Se)}),Y._status===-1&&(Y._status=0,Y._result=ue)}if(Y._status===1)return Y._result.default;throw Y._result}var me=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},xe={map:ye,forEach:function(Y,ue,Se){ye(Y,function(){ue.apply(this,arguments)},Se)},count:function(Y){var ue=0;return ye(Y,function(){ue++}),ue},toArray:function(Y){return ye(Y,function(ue){return ue})||[]},only:function(Y){if(!B(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Qe.Activity=T,Qe.Children=xe,Qe.Component=O,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=Z,Qe.StrictMode=s,Qe.Suspense=m,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return V.H.useMemoCache(Y)}},Qe.cache=function(Y){return function(){return Y.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(Y,ue,Se){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Ae=z({},Y.props),Re=Y.key;if(ue!=null)for(Ie in ue.key!==void 0&&(Re=""+ue.key),ue)!I.call(ue,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ue.ref===void 0||(Ae[Ie]=ue[Ie]);var Ie=arguments.length-2;if(Ie===1)Ae.children=Se;else if(1<Ie){for(var Ye=Array(Ie),Ct=0;Ct<Ie;Ct++)Ye[Ct]=arguments[Ct+2];Ae.children=Ye}return q(Y.type,Re,Ae)},Qe.createContext=function(Y){return Y={$$typeof:d,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:c,_context:Y},Y},Qe.createElement=function(Y,ue,Se){var Ae,Re={},Ie=null;if(ue!=null)for(Ae in ue.key!==void 0&&(Ie=""+ue.key),ue)I.call(ue,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(Re[Ae]=ue[Ae]);var Ye=arguments.length-2;if(Ye===1)Re.children=Se;else if(1<Ye){for(var Ct=Array(Ye),Nt=0;Nt<Ye;Nt++)Ct[Nt]=arguments[Nt+2];Re.children=Ct}if(Y&&Y.defaultProps)for(Ae in Ye=Y.defaultProps,Ye)Re[Ae]===void 0&&(Re[Ae]=Ye[Ae]);return q(Y,Ie,Re)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(Y){return{$$typeof:y,render:Y}},Qe.isValidElement=B,Qe.lazy=function(Y){return{$$typeof:w,_payload:{_status:-1,_result:Y},_init:ie}},Qe.memo=function(Y,ue){return{$$typeof:v,type:Y,compare:ue===void 0?null:ue}},Qe.startTransition=function(Y){var ue=V.T,Se={};V.T=Se;try{var Ae=Y(),Re=V.S;Re!==null&&Re(Se,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(fe,me)}catch(Ie){me(Ie)}finally{ue!==null&&Se.types!==null&&(ue.types=Se.types),V.T=ue}},Qe.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Qe.use=function(Y){return V.H.use(Y)},Qe.useActionState=function(Y,ue,Se){return V.H.useActionState(Y,ue,Se)},Qe.useCallback=function(Y,ue){return V.H.useCallback(Y,ue)},Qe.useContext=function(Y){return V.H.useContext(Y)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(Y,ue){return V.H.useDeferredValue(Y,ue)},Qe.useEffect=function(Y,ue){return V.H.useEffect(Y,ue)},Qe.useEffectEvent=function(Y){return V.H.useEffectEvent(Y)},Qe.useId=function(){return V.H.useId()},Qe.useImperativeHandle=function(Y,ue,Se){return V.H.useImperativeHandle(Y,ue,Se)},Qe.useInsertionEffect=function(Y,ue){return V.H.useInsertionEffect(Y,ue)},Qe.useLayoutEffect=function(Y,ue){return V.H.useLayoutEffect(Y,ue)},Qe.useMemo=function(Y,ue){return V.H.useMemo(Y,ue)},Qe.useOptimistic=function(Y,ue){return V.H.useOptimistic(Y,ue)},Qe.useReducer=function(Y,ue,Se){return V.H.useReducer(Y,ue,Se)},Qe.useRef=function(Y){return V.H.useRef(Y)},Qe.useState=function(Y){return V.H.useState(Y)},Qe.useSyncExternalStore=function(Y,ue,Se){return V.H.useSyncExternalStore(Y,ue,Se)},Qe.useTransition=function(){return V.H.useTransition()},Qe.version="19.2.4",Qe}var Hb;function A_(){return Hb||(Hb=1,hg.exports=cA()),hg.exports}var U=A_();const rn=Kw(U);var dg={exports:{}},Yu={},fg={exports:{}},mg={};var qb;function uA(){return qb||(qb=1,(function(n){function e(X,ye){var ie=X.length;X.push(ye);e:for(;0<ie;){var me=ie-1>>>1,xe=X[me];if(0<o(xe,ye))X[me]=ye,X[ie]=xe,ie=me;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ye=X[0],ie=X.pop();if(ie!==ye){X[0]=ie;e:for(var me=0,xe=X.length,Y=xe>>>1;me<Y;){var ue=2*(me+1)-1,Se=X[ue],Ae=ue+1,Re=X[Ae];if(0>o(Se,ie))Ae<xe&&0>o(Re,Se)?(X[me]=Re,X[Ae]=ie,me=Ae):(X[me]=Se,X[ue]=ie,me=ue);else if(Ae<xe&&0>o(Re,ie))X[me]=Re,X[Ae]=ie,me=Ae;else break e}}return ye}function o(X,ye){var ie=X.sortIndex-ye.sortIndex;return ie!==0?ie:X.id-ye.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();n.unstable_now=function(){return d.now()-y}}var m=[],v=[],w=1,T=null,N=3,R=!1,k=!1,z=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function J(X){for(var ye=t(v);ye!==null;){if(ye.callback===null)s(v);else if(ye.startTime<=X)s(v),ye.sortIndex=ye.expirationTime,e(m,ye);else break;ye=t(v)}}function te(X){if(z=!1,J(X),!k)if(t(m)!==null)k=!0,fe||(fe=!0,$());else{var ye=t(v);ye!==null&&_e(te,ye.startTime-X)}}var fe=!1,V=-1,I=5,q=-1;function F(){return D?!0:!(n.unstable_now()-q<I)}function B(){if(D=!1,fe){var X=n.unstable_now();q=X;var ye=!0;try{e:{k=!1,z&&(z=!1,H(V),V=-1),R=!0;var ie=N;try{t:{for(J(X),T=t(m);T!==null&&!(T.expirationTime>X&&F());){var me=T.callback;if(typeof me=="function"){T.callback=null,N=T.priorityLevel;var xe=me(T.expirationTime<=X);if(X=n.unstable_now(),typeof xe=="function"){T.callback=xe,J(X),ye=!0;break t}T===t(m)&&s(m),J(X)}else s(m);T=t(m)}if(T!==null)ye=!0;else{var Y=t(v);Y!==null&&_e(te,Y.startTime-X),ye=!1}}break e}finally{T=null,N=ie,R=!1}ye=void 0}}finally{ye?$():fe=!1}}}var $;if(typeof Z=="function")$=function(){Z(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ge=G.port2;G.port1.onmessage=B,$=function(){ge.postMessage(null)}}else $=function(){O(B,0)};function _e(X,ye){V=O(function(){X(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(X){switch(N){case 1:case 2:case 3:var ye=3;break;default:ye=N}var ie=N;N=ye;try{return X()}finally{N=ie}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(X,ye){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ie=N;N=X;try{return ye()}finally{N=ie}},n.unstable_scheduleCallback=function(X,ye,ie){var me=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,X){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ie+xe,X={id:w++,callback:ye,priorityLevel:X,startTime:ie,expirationTime:xe,sortIndex:-1},ie>me?(X.sortIndex=ie,e(v,X),t(m)===null&&X===t(v)&&(z?(H(V),V=-1):z=!0,_e(te,ie-me))):(X.sortIndex=xe,e(m,X),k||R||(k=!0,fe||(fe=!0,$()))),X},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(X){var ye=N;return function(){var ie=N;N=ye;try{return X.apply(this,arguments)}finally{N=ie}}}})(mg)),mg}var Fb;function hA(){return Fb||(Fb=1,fg.exports=uA()),fg.exports}var pg={exports:{}},Jn={};var Gb;function dA(){if(Gb)return Jn;Gb=1;var n=A_();function e(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,v,w){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:v,implementation:w}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jn.createPortal=function(m,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(m,v,null,w)},Jn.flushSync=function(m){var v=d.T,w=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=v,s.p=w,s.d.f()}},Jn.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(m,v))},Jn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Jn.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var w=v.as,T=y(w,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,R=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:N,fetchPriority:R}):w==="script"&&s.d.X(m,{crossOrigin:T,integrity:N,fetchPriority:R,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Jn.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=y(v.as,v.crossOrigin);s.d.M(m,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(m)},Jn.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,T=y(w,v.crossOrigin);s.d.L(m,w,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Jn.preloadModule=function(m,v){if(typeof m=="string")if(v){var w=y(v.as,v.crossOrigin);s.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(m)},Jn.requestFormReset=function(m){s.d.r(m)},Jn.unstable_batchedUpdates=function(m,v){return m(v)},Jn.useFormState=function(m,v,w){return d.H.useFormState(m,v,w)},Jn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jn.version="19.2.4",Jn}var Zb;function Ww(){if(Zb)return pg.exports;Zb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pg.exports=dA(),pg.exports}var $b;function fA(){if($b)return Yu;$b=1;var n=hA(),e=A_(),t=Ww();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function d(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function y(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(c(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return m(g),i;if(b===h)return m(g),r;b=b.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=b;else{for(var A=!1,M=g.child;M;){if(M===l){A=!0,l=g,h=b;break}if(M===h){A=!0,h=g,l=b;break}M=M.sibling}if(!A){for(M=b.child;M;){if(M===l){A=!0,l=b,h=g;break}if(M===h){A=!0,h=b,l=g;break}M=M.sibling}if(!A)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function w(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=w(i),r!==null)return r;i=i.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var G=Symbol.for("react.client.reference");function ge(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===G?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case te:return"Suspense";case fe:return"SuspenseList";case q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case Z:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case J:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:ge(i.type)||"Memo";case I:r=i._payload,i=i._init;try{return ge(i(r))}catch{}}return null}var _e=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},me=[],xe=-1;function Y(i){return{current:i}}function ue(i){0>xe||(i.current=me[xe],me[xe]=null,xe--)}function Se(i,r){xe++,me[xe]=i.current,i.current=r}var Ae=Y(null),Re=Y(null),Ie=Y(null),Ye=Y(null);function Ct(i,r){switch(Se(Ie,r),Se(Re,i),Se(Ae,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?lb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=lb(r),i=cb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(Ae),Se(Ae,i)}function Nt(){ue(Ae),ue(Re),ue(Ie)}function Vi(i){i.memoizedState!==null&&Se(Ye,i);var r=Ae.current,l=cb(r,i.type);r!==l&&(Se(Re,i),Se(Ae,l))}function cs(i){Re.current===i&&(ue(Ae),ue(Re)),Ye.current===i&&(ue(Ye),qu._currentValue=ie)}var _i,us;function yi(i){if(_i===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);_i=r&&r[1]||"",us=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_i+i+us}var sr=!1;function he(i,r){if(!i||sr)return"";sr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(de){var le=de}Reflect.construct(i,[],Te)}else{try{Te.call()}catch(de){le=de}i.call(Te.prototype)}}else{try{throw Error()}catch(de){le=de}(Te=i())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(de){if(de&&le&&typeof de.stack=="string")return[de.stack,le.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),A=b[0],M=b[1];if(A&&M){var W=A.split(`
`),ae=M.split(`
`);for(g=h=0;h<W.length&&!W[h].includes("DetermineComponentFrameRoot");)h++;for(;g<ae.length&&!ae[g].includes("DetermineComponentFrameRoot");)g++;if(h===W.length||g===ae.length)for(h=W.length-1,g=ae.length-1;1<=h&&0<=g&&W[h]!==ae[g];)g--;for(;1<=h&&0<=g;h--,g--)if(W[h]!==ae[g]){if(h!==1||g!==1)do if(h--,g--,0>g||W[h]!==ae[g]){var pe=`
`+W[h].replace(" at new "," at ");return i.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",i.displayName)),pe}while(1<=h&&0<=g);break}}}finally{sr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?yi(l):""}function Ze(i,r){switch(i.tag){case 26:case 27:case 5:return yi(i.type);case 16:return yi("Lazy");case 13:return i.child!==r&&r!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return he(i.type,!1);case 11:return he(i.type.render,!1);case 1:return he(i.type,!0);case 31:return yi("Activity");default:return""}}function it(i){try{var r="",l=null;do r+=Ze(i,l),l=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Be=Object.prototype.hasOwnProperty,gt=n.unstable_scheduleCallback,Zn=n.unstable_cancelCallback,Zl=n.unstable_shouldYield,zo=n.unstable_requestPaint,zn=n.unstable_now,Vr=n.unstable_getCurrentPriorityLevel,zr=n.unstable_ImmediatePriority,Ca=n.unstable_UserBlockingPriority,Ls=n.unstable_NormalPriority,lu=n.unstable_LowPriority,Uo=n.unstable_IdlePriority,Bo=n.log,$l=n.unstable_setDisableYieldValue,vi=null,un=null;function ri(i){if(typeof Bo=="function"&&$l(i),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(vi,i)}catch{}}var Yt=Math.clz32?Math.clz32:Yl,rr=Math.log,Na=Math.LN2;function Yl(i){return i>>>=0,i===0?32:31-(rr(i)/Na|0)|0}var zi=256,ar=262144,Kt=4194304;function hs(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ds(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~b,h!==0?g=hs(h):(A&=M,A!==0?g=hs(A):l||(l=M&~i,l!==0&&(g=hs(l))))):(M=h&~b,M!==0?g=hs(M):A!==0?g=hs(A):l||(l=h&~i,l!==0&&(g=hs(l)))),g===0?0:r!==0&&r!==g&&(r&b)===0&&(b=g&-g,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:g}function Ui(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function cu(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var i=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),i}function fs(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Os(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function uu(i,r,l,h,g,b){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,W=i.expirationTimes,ae=i.hiddenUpdates;for(l=A&~l;0<l;){var pe=31-Yt(l),Te=1<<pe;M[pe]=0,W[pe]=-1;var le=ae[pe];if(le!==null)for(ae[pe]=null,pe=0;pe<le.length;pe++){var de=le[pe];de!==null&&(de.lane&=-536870913)}l&=~Te}h!==0&&Ur(i,h,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~r))}function Ur(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Yt(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Ho(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Yt(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function qo(i,r){var l=r&-r;return l=(l&42)!==0?1:Rn(l),(l&(i.suspendedLanes|r))!==0?0:l}function Rn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oe(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fo(){var i=ye.p;return i!==0?i:(i=window.event,i===void 0?32:Mb(i.type))}function bi(i,r){var l=ye.p;try{return ye.p=i,r()}finally{ye.p=l}}var xi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+xi,Jt="__reactProps$"+xi,Bi="__reactContainer$"+xi,Hi="__reactEvents$"+xi,Wl="__reactListeners$"+xi,Ql="__reactHandles$"+xi,Xl="__reactResources$"+xi,ms="__reactMarker$"+xi;function Ra(i){delete i[Wt],delete i[Jt],delete i[Hi],delete i[Wl],delete i[Ql]}function qi(i){var r=i[Wt];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Bi]||l[Wt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=gb(i);i!==null;){if(l=i[Wt])return l;i=gb(i)}return r}i=l,l=i.parentNode}return null}function wi(i){if(i=i[Wt]||i[Bi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function In(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ps(i){var r=i[Xl];return r||(r=i[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function en(i){i[ms]=!0}var Go=new Set,Zo={};function gs(i,r){Ti(i,r),Ti(i+"Capture",r)}function Ti(i,r){for(Zo[i]=r,i=0;i<r.length;i++)Go.add(r[i])}var Ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ia={},Pa={};function or(i){return Be.call(Pa,i)?!0:Be.call(Ia,i)?!1:Ds.test(i)?Pa[i]=!0:(Ia[i]=!0,!1)}function st(i,r,l){if(or(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function at(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Bt(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}function Ht(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ai(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Br(i,r,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,b=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(A){l=""+A,b.call(this,A)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Me(i){if(!i._valueTracker){var r=ai(i)?"checked":"value";i._valueTracker=Br(i,r,""+i[r])}}function Rt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=ai(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _s=/[\n"\\]/g;function jt(i){return i.replace(_s,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ma(i,r,l,h,g,b,A,M){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ht(r)):i.value!==""+Ht(r)&&(i.value=""+Ht(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?Fi(i,A,Ht(r)):l!=null?Fi(i,A,Ht(l)):h!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Ht(M):i.removeAttribute("name")}function Hr(i,r,l,h,g,b,A,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){Me(i);return}l=l!=null?""+Ht(l):"",r=r!=null?""+Ht(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Me(i)}function Fi(i,r,l){r==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function It(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ht(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function ys(i,r,l){if(r!=null&&(r=""+Ht(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+Ht(l):""}function Si(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(_e(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=Ht(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Me(i)}function pn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var La=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ks(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||La.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function qr(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&ks(i,g,h)}else for(var b in r)r.hasOwnProperty(b)&&ks(i,b,r[b])}function lr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(i){return vs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $n(){}var Oa=null;function Yn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ur=null,Ue=null;function Pn(i){var r=wi(i);if(r&&(i=r.stateNode)){var l=i[Jt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ma(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[Jt]||null;if(!g)throw Error(s(90));Ma(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Rt(h)}break e;case"textarea":ys(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&It(i,!!l.multiple,r,!1)}}}var bt=!1;function js(i,r,l){if(bt)return i(r,l);bt=!0;try{var h=i(r);return h}finally{if(bt=!1,(ur!==null||Ue!==null)&&(Cd(),ur&&(r=ur,i=Ue,Ue=ur=null,Pn(r),i)))for(r=0;r<i.length;r++)Pn(i[r])}}function oi(i,r){var l=i.stateNode;if(l===null)return null;var h=l[Jt]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Kn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Vs=!1}var Ai=null,zs=null,qt=null;function Gi(){if(qt)return qt;var i,r=zs,l=r.length,h,g="value"in Ai?Ai.value:Ai.textContent,b=g.length;for(i=0;i<l&&r[i]===g[i];i++);var A=l-i;for(h=1;h<=A&&r[l-h]===g[b-h];h++);return qt=g.slice(i,1<h?1-h:void 0)}function hr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function bs(){return!0}function Zi(){return!1}function gn(i){function r(l,h,g,b,A){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bs:Zi,this.isPropagationStopped=Zi,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=gn($i),Us=T({},$i,{view:0,detail:0}),nt=gn(Us),dr,Mn,Wn,Gr=T({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Wn&&(Wn&&i.type==="mousemove"?(dr=i.screenX-Wn.screenX,Mn=i.screenY-Wn.screenY):Mn=dr=0,Wn=i),dr)},movementY:function(i){return"movementY"in i?i.movementY:Mn}}),$o=gn(Gr),Bs=T({},Gr,{dataTransfer:0}),Jl=gn(Bs),Yo=T({},Us,{relatedTarget:0}),Zr=gn(Yo),Ko=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=gn(Ko),ka=T({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),li=gn(ka),ec=T({},$i,{data:0}),Yi=gn(ec),Ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ja(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Qo[i])?!!r[i]:!1}function fr(){return ja}var Ln=T({},Us,{key:function(i){if(i.key){var r=Ki[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=hr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(i){return i.type==="keypress"?hr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Xo=gn(Ln),tc=T({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=gn(tc),f=T({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),E=gn(f),C=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=gn(C),se=T({},Gr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ce=gn(se),Ce=T({},$i,{newState:0,oldState:0}),$e=gn(Ce),_t=[9,13,27,32],yt=Kn&&"CompositionEvent"in window,Vt=null;Kn&&"documentMode"in document&&(Vt=document.documentMode);var Ci=Kn&&"TextEvent"in window&&!Vt,Ni=Kn&&(!yt||Vt&&8<Vt&&11>=Vt),ci=" ",Wi=!1;function $r(i,r){switch(i){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yr(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Va=!1;function Qi(i,r){switch(i){case"compositionend":return Yr(r);case"keypress":return r.which!==32?null:(Wi=!0,ci);case"textInput":return i=r.data,i===ci&&Wi?null:i;default:return null}}function za(i,r){if(Va)return i==="compositionend"||!yt&&$r(i,r)?(i=Gi(),qt=zs=Ai=null,Va=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ni&&r.locale!=="ko"?null:r.data;default:return null}}var Nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ws(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Nm[i.type]:r==="textarea"}function Fh(i,r,l,h){ur?Ue?Ue.push(h):Ue=[h]:ur=h,r=Od(r,"onChange"),0<r.length&&(l=new xs("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Ts=null,Jo=null;function el(i){nb(i,0)}function tl(i){var r=In(i);if(Rt(r))return i}function nl(i,r){if(i==="change")return r}var Gh=!1;if(Kn){var Es;if(Kn){var Ua="oninput"in document;if(!Ua){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),Ua=typeof Zh.oninput=="function"}Es=Ua}else Es=!1;Gh=Es&&(!document.documentMode||9<document.documentMode)}function nc(){Ts&&(Ts.detachEvent("onpropertychange",$h),Jo=Ts=null)}function $h(i){if(i.propertyName==="value"&&tl(Jo)){var r=[];Fh(r,Jo,i,Yn(i)),js(el,r)}}function qs(i,r,l){i==="focusin"?(nc(),Ts=r,Jo=l,Ts.attachEvent("onpropertychange",$h)):i==="focusout"&&nc()}function Rm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tl(Jo)}function Ba(i,r){if(i==="click")return tl(r)}function Im(i,r){if(i==="input"||i==="change")return tl(r)}function Fs(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var On=typeof Object.is=="function"?Object.is:Fs;function Ha(i,r){if(On(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Be.call(r,g)||!On(i[g],r[g]))return!1}return!0}function ic(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function il(i,r){var l=ic(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ic(l)}}function sc(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?sc(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function sl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ei(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Ei(i.document)}return r}function mr(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var rc=Kn&&"documentMode"in document&&11>=document.documentMode,pr=null,ac=null,rl=null,qa=!1;function Yh(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qa||pr==null||pr!==Ei(h)||(h=pr,"selectionStart"in h&&mr(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),rl&&Ha(rl,h)||(rl=h,h=Od(ac,"onSelect"),0<h.length&&(r=new xs("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=pr)))}function gr(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Fa={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},oc={},Kh={};Kn&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Dn(i){if(oc[i])return oc[i];if(!Fa[i])return i;var r=Fa[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Kh)return oc[i]=r[l];return i}var al=Dn("animationend"),Wh=Dn("animationiteration"),ol=Dn("animationstart"),Pm=Dn("transitionrun"),Qh=Dn("transitionstart"),Mm=Dn("transitioncancel"),Ga=Dn("transitionend"),Xh=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_r.push("scrollEnd");function Ri(i,r){Xh.set(i,r),gs(r,[i])}var ll=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ii=[],Qn=0,lc=0;function cl(){for(var i=Qn,r=lc=Qn=0;r<i;){var l=Ii[r];Ii[r++]=null;var h=Ii[r];Ii[r++]=null;var g=Ii[r];Ii[r++]=null;var b=Ii[r];if(Ii[r++]=null,h!==null&&g!==null){var A=h.pending;A===null?g.next=g:(g.next=A.next,A.next=g),h.pending=g}b!==0&&Za(l,g,b)}}function yr(i,r,l,h){Ii[Qn++]=i,Ii[Qn++]=r,Ii[Qn++]=l,Ii[Qn++]=h,lc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function hu(i,r,l,h){return yr(i,r,l,h),ul(i)}function Ss(i,r){return yr(i,null,null,r),ul(i)}function Za(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,b=i.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&r!==null&&(g=31-Yt(l),i=b.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),b):null}function ul(i){if(50<ku)throw ku=0,Op=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Kr={};function Lm(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(i,r,l,h){return new Lm(i,r,l,h)}function cc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function As(i,r){var l=i.alternate;return l===null?(l=Xn(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function du(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function hl(i,r,l,h,g,b){var A=0;if(h=i,typeof i=="function")cc(i)&&(A=1);else if(typeof i=="string")A=K2(i,l,Ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case q:return i=Xn(31,l,r,g),i.elementType=q,i.lanes=b,i;case z:return Wr(l.children,g,b,r);case D:A=8,g|=24;break;case O:return i=Xn(12,l,r,g|2),i.elementType=O,i.lanes=b,i;case te:return i=Xn(13,l,r,g),i.elementType=te,i.lanes=b,i;case fe:return i=Xn(19,l,r,g),i.elementType=fe,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:A=10;break e;case H:A=9;break e;case J:A=11;break e;case V:A=14;break e;case I:A=16,h=null;break e}A=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=Xn(A,l,r,g),r.elementType=i,r.type=h,r.lanes=b,r}function Wr(i,r,l,h){return i=Xn(7,i,h,r),i.lanes=l,i}function uc(i,r,l){return i=Xn(6,i,null,r),i.lanes=l,i}function fu(i){var r=Xn(18,null,null,0);return r.stateNode=i,r}function mu(i,r,l){return r=Xn(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a=new WeakMap;function u(i,r){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(r={value:i,source:r,stack:it(r)},a.set(i,r),r)}return{value:i,source:r,stack:it(r)}}var p=[],x=0,S=null,P=0,K=[],ne=0,oe=null,we=1,Ne="";function je(i,r){p[x++]=P,p[x++]=S,S=i,P=r}function Je(i,r,l){K[ne++]=we,K[ne++]=Ne,K[ne++]=oe,oe=i;var h=we;i=Ne;var g=32-Yt(h)-1;h&=~(1<<g),l+=1;var b=32-Yt(r)+g;if(30<b){var A=g-g%5;b=(h&(1<<A)-1).toString(32),h>>=A,g-=A,we=1<<32-Yt(r)+g|l<<g|h,Ne=b+i}else we=1<<b|l<<g|h,Ne=i}function Sn(i){i.return!==null&&(je(i,1),Je(i,1,0))}function tn(i){for(;i===S;)S=p[--x],p[x]=null,P=p[--x],p[x]=null;for(;i===oe;)oe=K[--ne],K[ne]=null,Ne=K[--ne],K[ne]=null,we=K[--ne],K[ne]=null}function ui(i,r){K[ne++]=we,K[ne++]=Ne,K[ne++]=oe,we=r.id,Ne=r.overflow,oe=i}var xt=null,wt=null,ot=!1,vr=null,Pi=!1,hc=Error(s(519));function br(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(u(r,i)),hc}function pu(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Wt]=i,r[Jt]=h,l){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(l=0;l<Vu.length;l++)ct(Vu[l],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":ct("invalid",r),Hr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ct("invalid",r);break;case"textarea":ct("invalid",r),Si(r,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||ab(r.textContent,l)?(h.popover!=null&&(ct("beforetoggle",r),ct("toggle",r)),h.onScroll!=null&&ct("scroll",r),h.onScrollEnd!=null&&ct("scrollend",r),h.onClick!=null&&(r.onclick=$n),r=!0):r=!1,r||br(i,!0)}function Qt(i){for(xt=i.return;xt;)switch(xt.tag){case 5:case 31:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:xt=xt.return}}function Gs(i){if(i!==xt)return!1;if(!ot)return Qt(i),ot=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Kp(i.type,i.memoizedProps)),l=!l),l&&wt&&br(i),Qt(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));wt=pb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));wt=pb(i)}else r===27?(r=wt,ao(i.type)?(i=eg,eg=null,wt=i):wt=r):wt=xt?Ns(i.stateNode.nextSibling):null;return!0}function Qr(){wt=xt=null,ot=!1}function gu(){var i=vr;return i!==null&&(Di===null?Di=i:Di.push.apply(Di,i),vr=null),i}function dl(i){vr===null?vr=[i]:vr.push(i)}var fl=Y(null),xr=null,Zs=null;function $a(i,r,l){Se(fl,r._currentValue),r._currentValue=l}function Xr(i){i._currentValue=fl.current,ue(fl)}function Om(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function Dm(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var A=g.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=g;for(var W=0;W<r.length;W++)if(M.context===r[W]){b.lanes|=l,M=b.alternate,M!==null&&(M.lanes|=l),Om(b.return,l,i),h||(A=null);break e}b=M.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(s(341));A.lanes|=l,b=A.alternate,b!==null&&(b.lanes|=l),Om(A,l,i),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===i){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function dc(i,r,l,h){i=null;for(var g=r,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var M=g.type;On(g.pendingProps.value,A.value)||(i!==null?i.push(M):i=[M])}}else if(g===Ye.current){if(A=g.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(qu):i=[qu])}g=g.return}i!==null&&Dm(r,i,l,h),r.flags|=262144}function Jh(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ml(i){xr=i,Zs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Un(i){return Gy(xr,i)}function ed(i,r){return xr===null&&ml(i),Gy(i,r)}function Gy(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Zs===null){if(i===null)throw Error(s(308));Zs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Zs=Zs.next=r;return l}var GS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},ZS=n.unstable_scheduleCallback,$S=n.unstable_NormalPriority,_n={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function km(){return{controller:new GS,data:new Map,refCount:0}}function _u(i){i.refCount--,i.refCount===0&&ZS($S,function(){i.controller.abort()})}var yu=null,jm=0,fc=0,mc=null;function YS(i,r){if(yu===null){var l=yu=[];jm=0,fc=Up(),mc={status:"pending",value:void 0,then:function(h){l.push(h)}}}return jm++,r.then(Zy,Zy),r}function Zy(){if(--jm===0&&yu!==null){mc!==null&&(mc.status="fulfilled");var i=yu;yu=null,fc=0,mc=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function KS(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var $y=X.S;X.S=function(i,r){I0=zn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&YS(i,r),$y!==null&&$y(i,r)};var pl=Y(null);function Vm(){var i=pl.current;return i!==null?i:zt.pooledCache}function td(i,r){r===null?Se(pl,pl.current):Se(pl,r.pool)}function Yy(){var i=Vm();return i===null?null:{parent:_n._currentValue,pool:i}}var pc=Error(s(460)),zm=Error(s(474)),nd=Error(s(542)),id={then:function(){}};function Ky(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Wy(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then($n,$n),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Xy(i),i;default:if(typeof r.status=="string")r.then($n,$n);else{if(i=zt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Xy(i),i}throw _l=r,pc}}function gl(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(_l=l,pc):l}}var _l=null;function Qy(){if(_l===null)throw Error(s(459));var i=_l;return _l=null,i}function Xy(i){if(i===pc||i===nd)throw Error(s(483))}var gc=null,vu=0;function sd(i){var r=vu;return vu+=1,gc===null&&(gc=[]),Wy(gc,i,r)}function bu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function rd(i,r){throw r.$$typeof===N?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Jy(i){function r(ee,Q){if(i){var re=ee.deletions;re===null?(ee.deletions=[Q],ee.flags|=16):re.push(Q)}}function l(ee,Q){if(!i)return null;for(;Q!==null;)r(ee,Q),Q=Q.sibling;return null}function h(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function g(ee,Q){return ee=As(ee,Q),ee.index=0,ee.sibling=null,ee}function b(ee,Q,re){return ee.index=re,i?(re=ee.alternate,re!==null?(re=re.index,re<Q?(ee.flags|=67108866,Q):re):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function A(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function M(ee,Q,re,ve){return Q===null||Q.tag!==6?(Q=uc(re,ee.mode,ve),Q.return=ee,Q):(Q=g(Q,re),Q.return=ee,Q)}function W(ee,Q,re,ve){var Ve=re.type;return Ve===z?pe(ee,Q,re.props.children,ve,re.key):Q!==null&&(Q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&gl(Ve)===Q.type)?(Q=g(Q,re.props),bu(Q,re),Q.return=ee,Q):(Q=hl(re.type,re.key,re.props,null,ee.mode,ve),bu(Q,re),Q.return=ee,Q)}function ae(ee,Q,re,ve){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=mu(re,ee.mode,ve),Q.return=ee,Q):(Q=g(Q,re.children||[]),Q.return=ee,Q)}function pe(ee,Q,re,ve,Ve){return Q===null||Q.tag!==7?(Q=Wr(re,ee.mode,ve,Ve),Q.return=ee,Q):(Q=g(Q,re),Q.return=ee,Q)}function Te(ee,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=uc(""+Q,ee.mode,re),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return re=hl(Q.type,Q.key,Q.props,null,ee.mode,re),bu(re,Q),re.return=ee,re;case k:return Q=mu(Q,ee.mode,re),Q.return=ee,Q;case I:return Q=gl(Q),Te(ee,Q,re)}if(_e(Q)||$(Q))return Q=Wr(Q,ee.mode,re,null),Q.return=ee,Q;if(typeof Q.then=="function")return Te(ee,sd(Q),re);if(Q.$$typeof===Z)return Te(ee,ed(ee,Q),re);rd(ee,Q)}return null}function le(ee,Q,re,ve){var Ve=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ve!==null?null:M(ee,Q,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case R:return re.key===Ve?W(ee,Q,re,ve):null;case k:return re.key===Ve?ae(ee,Q,re,ve):null;case I:return re=gl(re),le(ee,Q,re,ve)}if(_e(re)||$(re))return Ve!==null?null:pe(ee,Q,re,ve,null);if(typeof re.then=="function")return le(ee,Q,sd(re),ve);if(re.$$typeof===Z)return le(ee,Q,ed(ee,re),ve);rd(ee,re)}return null}function de(ee,Q,re,ve,Ve){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ee=ee.get(re)||null,M(Q,ee,""+ve,Ve);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case R:return ee=ee.get(ve.key===null?re:ve.key)||null,W(Q,ee,ve,Ve);case k:return ee=ee.get(ve.key===null?re:ve.key)||null,ae(Q,ee,ve,Ve);case I:return ve=gl(ve),de(ee,Q,re,ve,Ve)}if(_e(ve)||$(ve))return ee=ee.get(re)||null,pe(Q,ee,ve,Ve,null);if(typeof ve.then=="function")return de(ee,Q,re,sd(ve),Ve);if(ve.$$typeof===Z)return de(ee,Q,re,ed(Q,ve),Ve);rd(Q,ve)}return null}function De(ee,Q,re,ve){for(var Ve=null,Tt=null,ke=Q,et=Q=0,dt=null;ke!==null&&et<re.length;et++){ke.index>et?(dt=ke,ke=null):dt=ke.sibling;var Et=le(ee,ke,re[et],ve);if(Et===null){ke===null&&(ke=dt);break}i&&ke&&Et.alternate===null&&r(ee,ke),Q=b(Et,Q,et),Tt===null?Ve=Et:Tt.sibling=Et,Tt=Et,ke=dt}if(et===re.length)return l(ee,ke),ot&&je(ee,et),Ve;if(ke===null){for(;et<re.length;et++)ke=Te(ee,re[et],ve),ke!==null&&(Q=b(ke,Q,et),Tt===null?Ve=ke:Tt.sibling=ke,Tt=ke);return ot&&je(ee,et),Ve}for(ke=h(ke);et<re.length;et++)dt=de(ke,ee,et,re[et],ve),dt!==null&&(i&&dt.alternate!==null&&ke.delete(dt.key===null?et:dt.key),Q=b(dt,Q,et),Tt===null?Ve=dt:Tt.sibling=dt,Tt=dt);return i&&ke.forEach(function(ho){return r(ee,ho)}),ot&&je(ee,et),Ve}function He(ee,Q,re,ve){if(re==null)throw Error(s(151));for(var Ve=null,Tt=null,ke=Q,et=Q=0,dt=null,Et=re.next();ke!==null&&!Et.done;et++,Et=re.next()){ke.index>et?(dt=ke,ke=null):dt=ke.sibling;var ho=le(ee,ke,Et.value,ve);if(ho===null){ke===null&&(ke=dt);break}i&&ke&&ho.alternate===null&&r(ee,ke),Q=b(ho,Q,et),Tt===null?Ve=ho:Tt.sibling=ho,Tt=ho,ke=dt}if(Et.done)return l(ee,ke),ot&&je(ee,et),Ve;if(ke===null){for(;!Et.done;et++,Et=re.next())Et=Te(ee,Et.value,ve),Et!==null&&(Q=b(Et,Q,et),Tt===null?Ve=Et:Tt.sibling=Et,Tt=Et);return ot&&je(ee,et),Ve}for(ke=h(ke);!Et.done;et++,Et=re.next())Et=de(ke,ee,et,Et.value,ve),Et!==null&&(i&&Et.alternate!==null&&ke.delete(Et.key===null?et:Et.key),Q=b(Et,Q,et),Tt===null?Ve=Et:Tt.sibling=Et,Tt=Et);return i&&ke.forEach(function(aA){return r(ee,aA)}),ot&&je(ee,et),Ve}function Dt(ee,Q,re,ve){if(typeof re=="object"&&re!==null&&re.type===z&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case R:e:{for(var Ve=re.key;Q!==null;){if(Q.key===Ve){if(Ve=re.type,Ve===z){if(Q.tag===7){l(ee,Q.sibling),ve=g(Q,re.props.children),ve.return=ee,ee=ve;break e}}else if(Q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&gl(Ve)===Q.type){l(ee,Q.sibling),ve=g(Q,re.props),bu(ve,re),ve.return=ee,ee=ve;break e}l(ee,Q);break}else r(ee,Q);Q=Q.sibling}re.type===z?(ve=Wr(re.props.children,ee.mode,ve,re.key),ve.return=ee,ee=ve):(ve=hl(re.type,re.key,re.props,null,ee.mode,ve),bu(ve,re),ve.return=ee,ee=ve)}return A(ee);case k:e:{for(Ve=re.key;Q!==null;){if(Q.key===Ve)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){l(ee,Q.sibling),ve=g(Q,re.children||[]),ve.return=ee,ee=ve;break e}else{l(ee,Q);break}else r(ee,Q);Q=Q.sibling}ve=mu(re,ee.mode,ve),ve.return=ee,ee=ve}return A(ee);case I:return re=gl(re),Dt(ee,Q,re,ve)}if(_e(re))return De(ee,Q,re,ve);if($(re)){if(Ve=$(re),typeof Ve!="function")throw Error(s(150));return re=Ve.call(re),He(ee,Q,re,ve)}if(typeof re.then=="function")return Dt(ee,Q,sd(re),ve);if(re.$$typeof===Z)return Dt(ee,Q,ed(ee,re),ve);rd(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Q!==null&&Q.tag===6?(l(ee,Q.sibling),ve=g(Q,re),ve.return=ee,ee=ve):(l(ee,Q),ve=uc(re,ee.mode,ve),ve.return=ee,ee=ve),A(ee)):l(ee,Q)}return function(ee,Q,re,ve){try{vu=0;var Ve=Dt(ee,Q,re,ve);return gc=null,Ve}catch(ke){if(ke===pc||ke===nd)throw ke;var Tt=Xn(29,ke,null,ee.mode);return Tt.lanes=ve,Tt.return=ee,Tt}}}var yl=Jy(!0),ev=Jy(!1),Ya=!1;function Um(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ka(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Wa(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(St&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=ul(i),Za(i,null,l),r}return yr(i,h,r,l),ul(i)}function xu(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}function Hm(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=A:b=b.next=A,l=l.next}while(l!==null);b===null?g=b=r:b=b.next=r}else g=b=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var qm=!1;function wu(){if(qm){var i=mc;if(i!==null)throw i}}function Tu(i,r,l,h){qm=!1;var g=i.updateQueue;Ya=!1;var b=g.firstBaseUpdate,A=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var W=M,ae=W.next;W.next=null,A===null?b=ae:A.next=ae,A=W;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,M=pe.lastBaseUpdate,M!==A&&(M===null?pe.firstBaseUpdate=ae:M.next=ae,pe.lastBaseUpdate=W))}if(b!==null){var Te=g.baseState;A=0,pe=ae=W=null,M=b;do{var le=M.lane&-536870913,de=le!==M.lane;if(de?(ht&le)===le:(h&le)===le){le!==0&&le===fc&&(qm=!0),pe!==null&&(pe=pe.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var De=i,He=M;le=r;var Dt=l;switch(He.tag){case 1:if(De=He.payload,typeof De=="function"){Te=De.call(Dt,Te,le);break e}Te=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=He.payload,le=typeof De=="function"?De.call(Dt,Te,le):De,le==null)break e;Te=T({},Te,le);break e;case 2:Ya=!0}}le=M.callback,le!==null&&(i.flags|=64,de&&(i.flags|=8192),de=g.callbacks,de===null?g.callbacks=[le]:de.push(le))}else de={lane:le,tag:M.tag,payload:M.payload,callback:M.callback,next:null},pe===null?(ae=pe=de,W=Te):pe=pe.next=de,A|=le;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;de=M,M=de.next,de.next=null,g.lastBaseUpdate=de,g.shared.pending=null}}while(!0);pe===null&&(W=Te),g.baseState=W,g.firstBaseUpdate=ae,g.lastBaseUpdate=pe,b===null&&(g.shared.lanes=0),to|=A,i.lanes=A,i.memoizedState=Te}}function tv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function nv(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)tv(l[i],r)}var _c=Y(null),ad=Y(0);function iv(i,r){i=oa,Se(ad,i),Se(_c,r),oa=i|r.baseLanes}function Fm(){Se(ad,oa),Se(_c,_c.current)}function Gm(){oa=ad.current,ue(_c),ue(ad)}var Xi=Y(null),Cs=null;function Qa(i){var r=i.alternate;Se(hn,hn.current&1),Se(Xi,i),Cs===null&&(r===null||_c.current!==null||r.memoizedState!==null)&&(Cs=i)}function Zm(i){Se(hn,hn.current),Se(Xi,i),Cs===null&&(Cs=i)}function sv(i){i.tag===22?(Se(hn,hn.current),Se(Xi,i),Cs===null&&(Cs=i)):Xa()}function Xa(){Se(hn,hn.current),Se(Xi,Xi.current)}function Ji(i){ue(Xi),Cs===i&&(Cs=null),ue(hn)}var hn=Y(0);function od(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Xp(l)||Jp(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Jr=0,Xe=null,Lt=null,yn=null,ld=!1,yc=!1,vl=!1,cd=0,Eu=0,vc=null,WS=0;function nn(){throw Error(s(321))}function $m(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!On(i[l],r[l]))return!1;return!0}function Ym(i,r,l,h,g,b){return Jr=b,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?Bv:cp,vl=!1,b=l(h,g),vl=!1,yc&&(b=av(r,l,h,g)),rv(i),b}function rv(i){X.H=Cu;var r=Lt!==null&&Lt.next!==null;if(Jr=0,yn=Lt=Xe=null,ld=!1,Eu=0,vc=null,r)throw Error(s(300));i===null||vn||(i=i.dependencies,i!==null&&Jh(i)&&(vn=!0))}function av(i,r,l,h){Xe=i;var g=0;do{if(yc&&(vc=null),Eu=0,yc=!1,25<=g)throw Error(s(301));if(g+=1,yn=Lt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=Hv,b=r(l,h)}while(yc);return b}function QS(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?Su(r):r,i=i.useState()[0],(Lt!==null?Lt.memoizedState:null)!==i&&(Xe.flags|=1024),r}function Km(){var i=cd!==0;return cd=0,i}function Wm(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Qm(i){if(ld){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ld=!1}Jr=0,yn=Lt=Xe=null,yc=!1,Eu=cd=0,vc=null}function hi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Xe.memoizedState=yn=i:yn=yn.next=i,yn}function dn(){if(Lt===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var r=yn===null?Xe.memoizedState:yn.next;if(r!==null)yn=r,Lt=i;else{if(i===null)throw Xe.alternate===null?Error(s(467)):Error(s(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},yn===null?Xe.memoizedState=yn=i:yn=yn.next=i}return yn}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(i){var r=Eu;return Eu+=1,vc===null&&(vc=[]),i=Wy(vc,i,r),r=Xe,(yn===null?r.memoizedState:yn.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Bv:cp),i}function hd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Su(i);if(i.$$typeof===Z)return Un(i)}throw Error(s(438,String(i)))}function Xm(i){var r=null,l=Xe.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Xe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=ud(),Xe.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=F;return r.index++,l}function ea(i,r){return typeof r=="function"?r(i):r}function dd(i){var r=dn();return Jm(r,Lt,i)}function Jm(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,b=h.pending;if(b!==null){if(g!==null){var A=g.next;g.next=b.next,b.next=A}r.baseQueue=g=b,h.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{r=g.next;var M=A=null,W=null,ae=r,pe=!1;do{var Te=ae.lane&-536870913;if(Te!==ae.lane?(ht&Te)===Te:(Jr&Te)===Te){var le=ae.revertLane;if(le===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),Te===fc&&(pe=!0);else if((Jr&le)===le){ae=ae.next,le===fc&&(pe=!0);continue}else Te={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},W===null?(M=W=Te,A=b):W=W.next=Te,Xe.lanes|=le,to|=le;Te=ae.action,vl&&l(b,Te),b=ae.hasEagerState?ae.eagerState:l(b,Te)}else le={lane:Te,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},W===null?(M=W=le,A=b):W=W.next=le,Xe.lanes|=Te,to|=Te;ae=ae.next}while(ae!==null&&ae!==r);if(W===null?A=b:W.next=M,!On(b,i.memoizedState)&&(vn=!0,pe&&(l=mc,l!==null)))throw l;i.memoizedState=b,i.baseState=A,i.baseQueue=W,h.lastRenderedState=b}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function ep(i){var r=dn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,b=r.memoizedState;if(g!==null){l.pending=null;var A=g=g.next;do b=i(b,A.action),A=A.next;while(A!==g);On(b,r.memoizedState)||(vn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,h]}function ov(i,r,l){var h=Xe,g=dn(),b=ot;if(b){if(l===void 0)throw Error(s(407));l=l()}else l=r();var A=!On((Lt||g).memoizedState,l);if(A&&(g.memoizedState=l,vn=!0),g=g.queue,ip(uv.bind(null,h,g,i),[i]),g.getSnapshot!==r||A||yn!==null&&yn.memoizedState.tag&1){if(h.flags|=2048,bc(9,{destroy:void 0},cv.bind(null,h,g,l,r),null),zt===null)throw Error(s(349));b||(Jr&127)!==0||lv(h,r,l)}return l}function lv(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Xe.updateQueue,r===null?(r=ud(),Xe.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function cv(i,r,l,h){r.value=l,r.getSnapshot=h,hv(r)&&dv(i)}function uv(i,r,l){return l(function(){hv(r)&&dv(i)})}function hv(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!On(i,l)}catch{return!0}}function dv(i){var r=Ss(i,2);r!==null&&ki(r,i,2)}function tp(i){var r=hi();if(typeof i=="function"){var l=i;if(i=l(),vl){ri(!0);try{l()}finally{ri(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:i},r}function fv(i,r,l,h){return i.baseState=l,Jm(i,Lt,typeof h=="function"?h:ea)}function XS(i,r,l,h,g){if(pd(i))throw Error(s(485));if(i=r.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};X.T!==null?l(!0):b.isTransition=!1,h(b),l=r.pending,l===null?(b.next=r.pending=b,mv(r,b)):(b.next=l.next,r.pending=l.next=b)}}function mv(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var b=X.T,A={};X.T=A;try{var M=l(g,h),W=X.S;W!==null&&W(A,M),pv(i,r,M)}catch(ae){np(i,r,ae)}finally{b!==null&&A.types!==null&&(b.types=A.types),X.T=b}}else try{b=l(g,h),pv(i,r,b)}catch(ae){np(i,r,ae)}}function pv(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){gv(i,r,h)},function(h){return np(i,r,h)}):gv(i,r,l)}function gv(i,r,l){r.status="fulfilled",r.value=l,_v(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,mv(i,l)))}function np(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,_v(r),r=r.next;while(r!==h)}i.action=null}function _v(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function yv(i,r){return r}function vv(i,r){if(ot){var l=zt.formState;if(l!==null){e:{var h=Xe;if(ot){if(wt){t:{for(var g=wt,b=Pi;g.nodeType!==8;){if(!b){g=null;break t}if(g=Ns(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){wt=Ns(g.nextSibling),h=g.data==="F!";break e}}br(h)}h=!1}h&&(r=l[0])}}return l=hi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yv,lastRenderedState:r},l.queue=h,l=Vv.bind(null,Xe,h),h.dispatch=l,h=tp(!1),b=lp.bind(null,Xe,!1,h.queue),h=hi(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=XS.bind(null,Xe,g,b,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function bv(i){var r=dn();return xv(r,Lt,i)}function xv(i,r,l){if(r=Jm(i,r,yv)[0],i=dd(ea)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=Su(r)}catch(A){throw A===pc?nd:A}else h=r;r=dn();var g=r.queue,b=g.dispatch;return l!==r.memoizedState&&(Xe.flags|=2048,bc(9,{destroy:void 0},JS.bind(null,g,l),null)),[h,b,i]}function JS(i,r){i.action=r}function wv(i){var r=dn(),l=Lt;if(l!==null)return xv(r,l,i);dn(),r=r.memoizedState,l=dn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function bc(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Xe.updateQueue,r===null&&(r=ud(),Xe.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function Tv(){return dn().memoizedState}function fd(i,r,l,h){var g=hi();Xe.flags|=i,g.memoizedState=bc(1|r,{destroy:void 0},l,h===void 0?null:h)}function md(i,r,l,h){var g=dn();h=h===void 0?null:h;var b=g.memoizedState.inst;Lt!==null&&h!==null&&$m(h,Lt.memoizedState.deps)?g.memoizedState=bc(r,b,l,h):(Xe.flags|=i,g.memoizedState=bc(1|r,b,l,h))}function Ev(i,r){fd(8390656,8,i,r)}function ip(i,r){md(2048,8,i,r)}function e2(i){Xe.flags|=4;var r=Xe.updateQueue;if(r===null)r=ud(),Xe.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function Sv(i){var r=dn().memoizedState;return e2({ref:r,nextImpl:i}),function(){if((St&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Av(i,r){return md(4,2,i,r)}function Cv(i,r){return md(4,4,i,r)}function Nv(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Rv(i,r,l){l=l!=null?l.concat([i]):null,md(4,4,Nv.bind(null,r,i),l)}function sp(){}function Iv(i,r){var l=dn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&$m(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function Pv(i,r){var l=dn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&$m(r,h[1]))return h[0];if(h=i(),vl){ri(!0);try{i()}finally{ri(!1)}}return l.memoizedState=[h,r],h}function rp(i,r,l){return l===void 0||(Jr&1073741824)!==0&&(ht&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=M0(),Xe.lanes|=i,to|=i,l)}function Mv(i,r,l,h){return On(l,r)?l:_c.current!==null?(i=rp(i,l,h),On(i,r)||(vn=!0),i):(Jr&42)===0||(Jr&1073741824)!==0&&(ht&261930)===0?(vn=!0,i.memoizedState=l):(i=M0(),Xe.lanes|=i,to|=i,r)}function Lv(i,r,l,h,g){var b=ye.p;ye.p=b!==0&&8>b?b:8;var A=X.T,M={};X.T=M,lp(i,!1,r,l);try{var W=g(),ae=X.S;if(ae!==null&&ae(M,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var pe=KS(W,h);Au(i,r,pe,ns(i))}else Au(i,r,h,ns(i))}catch(Te){Au(i,r,{then:function(){},status:"rejected",reason:Te},ns())}finally{ye.p=b,A!==null&&M.types!==null&&(A.types=M.types),X.T=A}}function t2(){}function ap(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=Ov(i).queue;Lv(i,g,r,ie,l===null?t2:function(){return Dv(i),l(h)})}function Ov(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:ie},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Dv(i){var r=Ov(i);r.next===null&&(r=i.alternate.memoizedState),Au(i,r.next.queue,{},ns())}function op(){return Un(qu)}function kv(){return dn().memoizedState}function jv(){return dn().memoizedState}function n2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ns();i=Ka(l);var h=Wa(r,i,l);h!==null&&(ki(h,r,l),xu(h,r,l)),r={cache:km()},i.payload=r;return}r=r.return}}function i2(i,r,l){var h=ns();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pd(i)?zv(r,l):(l=hu(i,r,l,h),l!==null&&(ki(l,i,h),Uv(l,r,h)))}function Vv(i,r,l){var h=ns();Au(i,r,l,h)}function Au(i,r,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(pd(i))zv(r,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var A=r.lastRenderedState,M=b(A,l);if(g.hasEagerState=!0,g.eagerState=M,On(M,A))return yr(i,r,g,0),zt===null&&cl(),!1}catch{}if(l=hu(i,r,g,h),l!==null)return ki(l,i,h),Uv(l,r,h),!0}return!1}function lp(i,r,l,h){if(h={lane:2,revertLane:Up(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},pd(i)){if(r)throw Error(s(479))}else r=hu(i,l,h,2),r!==null&&ki(r,i,2)}function pd(i){var r=i.alternate;return i===Xe||r!==null&&r===Xe}function zv(i,r){yc=ld=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function Uv(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Ho(i,l)}}var Cu={readContext:Un,use:hd,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Cu.useEffectEvent=nn;var Bv={readContext:Un,use:hd,useCallback:function(i,r){return hi().memoizedState=[i,r===void 0?null:r],i},useContext:Un,useEffect:Ev,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,fd(4194308,4,Nv.bind(null,r,i),l)},useLayoutEffect:function(i,r){return fd(4194308,4,i,r)},useInsertionEffect:function(i,r){fd(4,2,i,r)},useMemo:function(i,r){var l=hi();r=r===void 0?null:r;var h=i();if(vl){ri(!0);try{i()}finally{ri(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=hi();if(l!==void 0){var g=l(r);if(vl){ri(!0);try{l(r)}finally{ri(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=i2.bind(null,Xe,i),[h.memoizedState,i]},useRef:function(i){var r=hi();return i={current:i},r.memoizedState=i},useState:function(i){i=tp(i);var r=i.queue,l=Vv.bind(null,Xe,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:sp,useDeferredValue:function(i,r){var l=hi();return rp(l,i,r)},useTransition:function(){var i=tp(!1);return i=Lv.bind(null,Xe,i.queue,!0,!1),hi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Xe,g=hi();if(ot){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),zt===null)throw Error(s(349));(ht&127)!==0||lv(h,r,l)}g.memoizedState=l;var b={value:l,getSnapshot:r};return g.queue=b,Ev(uv.bind(null,h,b,i),[i]),h.flags|=2048,bc(9,{destroy:void 0},cv.bind(null,h,b,l,r),null),l},useId:function(){var i=hi(),r=zt.identifierPrefix;if(ot){var l=Ne,h=we;l=(h&~(1<<32-Yt(h)-1)).toString(32)+l,r="_"+r+"R_"+l,l=cd++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=WS++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:op,useFormState:vv,useActionState:vv,useOptimistic:function(i){var r=hi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=lp.bind(null,Xe,!0,l),l.dispatch=r,[i,r]},useMemoCache:Xm,useCacheRefresh:function(){return hi().memoizedState=n2.bind(null,Xe)},useEffectEvent:function(i){var r=hi(),l={impl:i};return r.memoizedState=l,function(){if((St&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},cp={readContext:Un,use:hd,useCallback:Iv,useContext:Un,useEffect:ip,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:Cv,useMemo:Pv,useReducer:dd,useRef:Tv,useState:function(){return dd(ea)},useDebugValue:sp,useDeferredValue:function(i,r){var l=dn();return Mv(l,Lt.memoizedState,i,r)},useTransition:function(){var i=dd(ea)[0],r=dn().memoizedState;return[typeof i=="boolean"?i:Su(i),r]},useSyncExternalStore:ov,useId:kv,useHostTransitionStatus:op,useFormState:bv,useActionState:bv,useOptimistic:function(i,r){var l=dn();return fv(l,Lt,i,r)},useMemoCache:Xm,useCacheRefresh:jv};cp.useEffectEvent=Sv;var Hv={readContext:Un,use:hd,useCallback:Iv,useContext:Un,useEffect:ip,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:Cv,useMemo:Pv,useReducer:ep,useRef:Tv,useState:function(){return ep(ea)},useDebugValue:sp,useDeferredValue:function(i,r){var l=dn();return Lt===null?rp(l,i,r):Mv(l,Lt.memoizedState,i,r)},useTransition:function(){var i=ep(ea)[0],r=dn().memoizedState;return[typeof i=="boolean"?i:Su(i),r]},useSyncExternalStore:ov,useId:kv,useHostTransitionStatus:op,useFormState:wv,useActionState:wv,useOptimistic:function(i,r){var l=dn();return Lt!==null?fv(l,Lt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Xm,useCacheRefresh:jv};Hv.useEffectEvent=Sv;function up(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:T({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var hp={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=ns(),g=Ka(h);g.payload=r,l!=null&&(g.callback=l),r=Wa(i,g,h),r!==null&&(ki(r,i,h),xu(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=ns(),g=Ka(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Wa(i,g,h),r!==null&&(ki(r,i,h),xu(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ns(),h=Ka(l);h.tag=2,r!=null&&(h.callback=r),r=Wa(i,h,l),r!==null&&(ki(r,i,l),xu(r,i,l))}};function qv(i,r,l,h,g,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,A):r.prototype&&r.prototype.isPureReactComponent?!Ha(l,h)||!Ha(g,b):!0}function Fv(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&hp.enqueueReplaceState(r,r.state,null)}function bl(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=T({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function Gv(i){ll(i)}function Zv(i){console.error(i)}function $v(i){ll(i)}function gd(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function Yv(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function dp(i,r,l){return l=Ka(l),l.tag=3,l.payload={element:null},l.callback=function(){gd(i,r)},l}function Kv(i){return i=Ka(i),i.tag=3,i}function Wv(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=h.value;i.payload=function(){return g(b)},i.callback=function(){Yv(r,l,h)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Yv(r,l,h),typeof g!="function"&&(no===null?no=new Set([this]):no.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function s2(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&dc(r,l,g,!0),l=Xi.current,l!==null){switch(l.tag){case 31:case 13:return Cs===null?Nd():l.alternate===null&&sn===0&&(sn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===id?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),jp(i,h,g)),!1;case 22:return l.flags|=65536,h===id?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),jp(i,h,g)),!1}throw Error(s(435,l.tag))}return jp(i,h,g),Nd(),!1}if(ot)return r=Xi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==hc&&(i=Error(s(422),{cause:h}),dl(u(i,l)))):(h!==hc&&(r=Error(s(423),{cause:h}),dl(u(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=u(h,l),g=dp(i.stateNode,h,g),Hm(i,g),sn!==4&&(sn=2)),!1;var b=Error(s(520),{cause:h});if(b=u(b,l),Du===null?Du=[b]:Du.push(b),sn!==4&&(sn=2),r===null)return!0;h=u(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=dp(l.stateNode,h,i),Hm(l,i),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(no===null||!no.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Kv(g),Wv(g,i,l,h),Hm(l,g),!1}l=l.return}while(l!==null);return!1}var fp=Error(s(461)),vn=!1;function Bn(i,r,l,h){r.child=i===null?ev(r,null,l,h):yl(r,i.child,l,h)}function Qv(i,r,l,h,g){l=l.render;var b=r.ref;if("ref"in h){var A={};for(var M in h)M!=="ref"&&(A[M]=h[M])}else A=h;return ml(r),h=Ym(i,r,l,A,b,g),M=Km(),i!==null&&!vn?(Wm(i,r,g),ta(i,r,g)):(ot&&M&&Sn(r),r.flags|=1,Bn(i,r,h,g),r.child)}function Xv(i,r,l,h,g){if(i===null){var b=l.type;return typeof b=="function"&&!cc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,Jv(i,r,b,h,g)):(i=hl(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(b=i.child,!xp(i,g)){var A=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ha,l(A,h)&&i.ref===r.ref)return ta(i,r,g)}return r.flags|=1,i=As(b,h),i.ref=r.ref,i.return=r,r.child=i}function Jv(i,r,l,h,g){if(i!==null){var b=i.memoizedProps;if(Ha(b,h)&&i.ref===r.ref)if(vn=!1,r.pendingProps=h=b,xp(i,g))(i.flags&131072)!==0&&(vn=!0);else return r.lanes=i.lanes,ta(i,r,g)}return mp(i,r,l,h,g)}function e0(i,r,l,h){var g=h.children,b=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(h=r.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~b}else h=0,r.child=null;return t0(i,r,b,l,h)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&td(r,b!==null?b.cachePool:null),b!==null?iv(r,b):Fm(),sv(r);else return h=r.lanes=536870912,t0(i,r,b!==null?b.baseLanes|l:l,l,h)}else b!==null?(td(r,b.cachePool),iv(r,b),Xa(),r.memoizedState=null):(i!==null&&td(r,null),Fm(),Xa());return Bn(i,r,g,l),r.child}function Nu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function t0(i,r,l,h,g){var b=Vm();return b=b===null?null:{parent:_n._currentValue,pool:b},r.memoizedState={baseLanes:l,cachePool:b},i!==null&&td(r,null),Fm(),sv(r),i!==null&&dc(i,r,h,!0),r.childLanes=g,null}function _d(i,r){return r=vd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function n0(i,r,l){return yl(r,i.child,null,l),i=_d(r,r.pendingProps),i.flags|=2,Ji(r),r.memoizedState=null,i}function r2(i,r,l){var h=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ot){if(h.mode==="hidden")return i=_d(r,h),r.lanes=536870912,Nu(null,i);if(Zm(r),(i=wt)?(i=mb(i,Pi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oe!==null?{id:we,overflow:Ne}:null,retryLane:536870912,hydrationErrors:null},l=fu(i),l.return=r,r.child=l,xt=r,wt=null)):i=null,i===null)throw br(r);return r.lanes=536870912,null}return _d(r,h)}var b=i.memoizedState;if(b!==null){var A=b.dehydrated;if(Zm(r),g)if(r.flags&256)r.flags&=-257,r=n0(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(vn||dc(i,r,l,!1),g=(l&i.childLanes)!==0,vn||g){if(h=zt,h!==null&&(A=qo(h,l),A!==0&&A!==b.retryLane))throw b.retryLane=A,Ss(i,A),ki(h,i,A),fp;Nd(),r=n0(i,r,l)}else i=b.treeContext,wt=Ns(A.nextSibling),xt=r,ot=!0,vr=null,Pi=!1,i!==null&&ui(r,i),r=_d(r,h),r.flags|=4096;return r}return i=As(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function yd(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function mp(i,r,l,h,g){return ml(r),l=Ym(i,r,l,h,void 0,g),h=Km(),i!==null&&!vn?(Wm(i,r,g),ta(i,r,g)):(ot&&h&&Sn(r),r.flags|=1,Bn(i,r,l,g),r.child)}function i0(i,r,l,h,g,b){return ml(r),r.updateQueue=null,l=av(r,h,l,g),rv(i),h=Km(),i!==null&&!vn?(Wm(i,r,b),ta(i,r,b)):(ot&&h&&Sn(r),r.flags|=1,Bn(i,r,l,b),r.child)}function s0(i,r,l,h,g){if(ml(r),r.stateNode===null){var b=Kr,A=l.contextType;typeof A=="object"&&A!==null&&(b=Un(A)),b=new l(h,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=hp,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=h,b.state=r.memoizedState,b.refs={},Um(r),A=l.contextType,b.context=typeof A=="object"&&A!==null?Un(A):Kr,b.state=r.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(up(r,l,A,h),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&hp.enqueueReplaceState(b,b.state,null),Tu(r,h,b,g),wu(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){b=r.stateNode;var M=r.memoizedProps,W=bl(l,M);b.props=W;var ae=b.context,pe=l.contextType;A=Kr,typeof pe=="object"&&pe!==null&&(A=Un(pe));var Te=l.getDerivedStateFromProps;pe=typeof Te=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||ae!==A)&&Fv(r,b,h,A),Ya=!1;var le=r.memoizedState;b.state=le,Tu(r,h,b,g),wu(),ae=r.memoizedState,M||le!==ae||Ya?(typeof Te=="function"&&(up(r,l,Te,h),ae=r.memoizedState),(W=Ya||qv(r,l,W,h,le,ae,A))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=ae),b.props=h,b.state=ae,b.context=A,h=W):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{b=r.stateNode,Bm(i,r),A=r.memoizedProps,pe=bl(l,A),b.props=pe,Te=r.pendingProps,le=b.context,ae=l.contextType,W=Kr,typeof ae=="object"&&ae!==null&&(W=Un(ae)),M=l.getDerivedStateFromProps,(ae=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==Te||le!==W)&&Fv(r,b,h,W),Ya=!1,le=r.memoizedState,b.state=le,Tu(r,h,b,g),wu();var de=r.memoizedState;A!==Te||le!==de||Ya||i!==null&&i.dependencies!==null&&Jh(i.dependencies)?(typeof M=="function"&&(up(r,l,M,h),de=r.memoizedState),(pe=Ya||qv(r,l,pe,h,le,de,W)||i!==null&&i.dependencies!==null&&Jh(i.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,de,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,de,W)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&le===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&le===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=de),b.props=h,b.state=de,b.context=W,h=pe):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&le===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&le===i.memoizedState||(r.flags|=1024),h=!1)}return b=h,yd(i,r),h=(r.flags&128)!==0,b||h?(b=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,i!==null&&h?(r.child=yl(r,i.child,null,g),r.child=yl(r,null,l,g)):Bn(i,r,l,g),r.memoizedState=b.state,i=r.child):i=ta(i,r,g),i}function r0(i,r,l,h){return Qr(),r.flags|=256,Bn(i,r,l,h),r.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(i){return{baseLanes:i,cachePool:Yy()}}function _p(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=ts),i}function a0(i,r,l){var h=r.pendingProps,g=!1,b=(r.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(hn.current&2)!==0),A&&(g=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if(ot){if(g?Qa(r):Xa(),(i=wt)?(i=mb(i,Pi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:oe!==null?{id:we,overflow:Ne}:null,retryLane:536870912,hydrationErrors:null},l=fu(i),l.return=r,r.child=l,xt=r,wt=null)):i=null,i===null)throw br(r);return Jp(i)?r.lanes=32:r.lanes=536870912,null}var M=h.children;return h=h.fallback,g?(Xa(),g=r.mode,M=vd({mode:"hidden",children:M},g),h=Wr(h,g,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,h=r.child,h.memoizedState=gp(l),h.childLanes=_p(i,A,l),r.memoizedState=pp,Nu(null,h)):(Qa(r),yp(r,M))}var W=i.memoizedState;if(W!==null&&(M=W.dehydrated,M!==null)){if(b)r.flags&256?(Qa(r),r.flags&=-257,r=vp(i,r,l)):r.memoizedState!==null?(Xa(),r.child=i.child,r.flags|=128,r=null):(Xa(),M=h.fallback,g=r.mode,h=vd({mode:"visible",children:h.children},g),M=Wr(M,g,l,null),M.flags|=2,h.return=r,M.return=r,h.sibling=M,r.child=h,yl(r,i.child,null,l),h=r.child,h.memoizedState=gp(l),h.childLanes=_p(i,A,l),r.memoizedState=pp,r=Nu(null,h));else if(Qa(r),Jp(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var ae=A.dgst;A=ae,h=Error(s(419)),h.stack="",h.digest=A,dl({value:h,source:null,stack:null}),r=vp(i,r,l)}else if(vn||dc(i,r,l,!1),A=(l&i.childLanes)!==0,vn||A){if(A=zt,A!==null&&(h=qo(A,l),h!==0&&h!==W.retryLane))throw W.retryLane=h,Ss(i,h),ki(A,i,h),fp;Xp(M)||Nd(),r=vp(i,r,l)}else Xp(M)?(r.flags|=192,r.child=i.child,r=null):(i=W.treeContext,wt=Ns(M.nextSibling),xt=r,ot=!0,vr=null,Pi=!1,i!==null&&ui(r,i),r=yp(r,h.children),r.flags|=4096);return r}return g?(Xa(),M=h.fallback,g=r.mode,W=i.child,ae=W.sibling,h=As(W,{mode:"hidden",children:h.children}),h.subtreeFlags=W.subtreeFlags&65011712,ae!==null?M=As(ae,M):(M=Wr(M,g,l,null),M.flags|=2),M.return=r,h.return=r,h.sibling=M,r.child=h,Nu(null,h),h=r.child,M=i.child.memoizedState,M===null?M=gp(l):(g=M.cachePool,g!==null?(W=_n._currentValue,g=g.parent!==W?{parent:W,pool:W}:g):g=Yy(),M={baseLanes:M.baseLanes|l,cachePool:g}),h.memoizedState=M,h.childLanes=_p(i,A,l),r.memoizedState=pp,Nu(i.child,h)):(Qa(r),l=i.child,i=l.sibling,l=As(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=l,r.memoizedState=null,l)}function yp(i,r){return r=vd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function vd(i,r){return i=Xn(22,i,null,r),i.lanes=0,i}function vp(i,r,l){return yl(r,i.child,null,l),i=yp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function o0(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Om(i.return,r,l)}function bp(i,r,l,h,g,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:b}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=l,A.tailMode=g,A.treeForkCount=b)}function l0(i,r,l){var h=r.pendingProps,g=h.revealOrder,b=h.tail;h=h.children;var A=hn.current,M=(A&2)!==0;if(M?(A=A&1|2,r.flags|=128):A&=1,Se(hn,A),Bn(i,r,h,l),h=ot?P:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&o0(i,l,r);else if(i.tag===19)o0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&od(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),bp(r,!1,g,l,b,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&od(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}bp(r,!0,l,null,b,h);break;case"together":bp(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function ta(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),to|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(dc(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=As(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=As(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function xp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Jh(i)))}function a2(i,r,l){switch(r.tag){case 3:Ct(r,r.stateNode.containerInfo),$a(r,_n,i.memoizedState.cache),Qr();break;case 27:case 5:Vi(r);break;case 4:Ct(r,r.stateNode.containerInfo);break;case 10:$a(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Zm(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Qa(r),r.flags|=128,null):(l&r.child.childLanes)!==0?a0(i,r,l):(Qa(r),i=ta(i,r,l),i!==null?i.sibling:null);Qa(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(dc(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return l0(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Se(hn,hn.current),h)break;return null;case 22:return r.lanes=0,e0(i,r,l,r.pendingProps);case 24:$a(r,_n,i.memoizedState.cache)}return ta(i,r,l)}function c0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)vn=!0;else{if(!xp(i,l)&&(r.flags&128)===0)return vn=!1,a2(i,r,l);vn=(i.flags&131072)!==0}else vn=!1,ot&&(r.flags&1048576)!==0&&Je(r,P,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(i=gl(r.elementType),r.type=i,typeof i=="function")cc(i)?(h=bl(i,h),r.tag=1,r=s0(null,r,i,h,l)):(r.tag=0,r=mp(null,r,i,h,l));else{if(i!=null){var g=i.$$typeof;if(g===J){r.tag=11,r=Qv(null,r,i,h,l);break e}else if(g===V){r.tag=14,r=Xv(null,r,i,h,l);break e}}throw r=ge(i)||i,Error(s(306,r,""))}}return r;case 0:return mp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=bl(h,r.pendingProps),s0(i,r,h,g,l);case 3:e:{if(Ct(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var b=r.memoizedState;g=b.element,Bm(i,r),Tu(r,h,null,l);var A=r.memoizedState;if(h=A.cache,$a(r,_n,h),h!==b.cache&&Dm(r,[_n],l,!0),wu(),h=A.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=r0(i,r,h,l);break e}else if(h!==g){g=u(Error(s(424)),r),dl(g),r=r0(i,r,h,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,wt=Ns(i.firstChild),xt=r,ot=!0,vr=null,Pi=!0,l=ev(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Qr(),h===g){r=ta(i,r,l);break e}Bn(i,r,h,l)}r=r.child}return r;case 26:return yd(i,r),i===null?(l=bb(r.type,null,r.pendingProps,null))?r.memoizedState=l:ot||(l=r.type,i=r.pendingProps,h=Dd(Ie.current).createElement(l),h[Wt]=r,h[Jt]=i,Hn(h,l,i),en(h),r.stateNode=h):r.memoizedState=bb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Vi(r),i===null&&ot&&(h=r.stateNode=_b(r.type,r.pendingProps,Ie.current),xt=r,Pi=!0,g=wt,ao(r.type)?(eg=g,wt=Ns(h.firstChild)):wt=g),Bn(i,r,r.pendingProps.children,l),yd(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ot&&((g=h=wt)&&(h=k2(h,r.type,r.pendingProps,Pi),h!==null?(r.stateNode=h,xt=r,wt=Ns(h.firstChild),Pi=!1,g=!0):g=!1),g||br(r)),Vi(r),g=r.type,b=r.pendingProps,A=i!==null?i.memoizedProps:null,h=b.children,Kp(g,b)?h=null:A!==null&&Kp(g,A)&&(r.flags|=32),r.memoizedState!==null&&(g=Ym(i,r,QS,null,null,l),qu._currentValue=g),yd(i,r),Bn(i,r,h,l),r.child;case 6:return i===null&&ot&&((i=l=wt)&&(l=j2(l,r.pendingProps,Pi),l!==null?(r.stateNode=l,xt=r,wt=null,i=!0):i=!1),i||br(r)),null;case 13:return a0(i,r,l);case 4:return Ct(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=yl(r,null,h,l):Bn(i,r,h,l),r.child;case 11:return Qv(i,r,r.type,r.pendingProps,l);case 7:return Bn(i,r,r.pendingProps,l),r.child;case 8:return Bn(i,r,r.pendingProps.children,l),r.child;case 12:return Bn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,$a(r,r.type,h.value),Bn(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,ml(r),g=Un(g),h=h(g),r.flags|=1,Bn(i,r,h,l),r.child;case 14:return Xv(i,r,r.type,r.pendingProps,l);case 15:return Jv(i,r,r.type,r.pendingProps,l);case 19:return l0(i,r,l);case 31:return r2(i,r,l);case 22:return e0(i,r,l,r.pendingProps);case 24:return ml(r),h=Un(_n),i===null?(g=Vm(),g===null&&(g=zt,b=km(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),r.memoizedState={parent:h,cache:g},Um(r),$a(r,_n,g)):((i.lanes&l)!==0&&(Bm(i,r),Tu(r,null,null,l),wu()),g=i.memoizedState,b=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),$a(r,_n,h)):(h=b.cache,$a(r,_n,h),h!==g.cache&&Dm(r,[_n],l,!0))),Bn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function na(i){i.flags|=4}function wp(i,r,l,h,g){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(k0())i.flags|=8192;else throw _l=id,zm}else i.flags&=-16777217}function u0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Sb(r))if(k0())i.flags|=8192;else throw _l=id,zm}function bd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Kl():536870912,i.lanes|=r,Ec|=r)}function Ru(i,r){if(!ot)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ft(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function o2(i,r,l){var h=r.pendingProps;switch(tn(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(r),null;case 1:return Ft(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Xr(_n),Nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Gs(r)?na(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gu())),Ft(r),null;case 26:var g=r.type,b=r.memoizedState;return i===null?(na(r),b!==null?(Ft(r),u0(r,b)):(Ft(r),wp(r,g,null,h,l))):b?b!==i.memoizedState?(na(r),Ft(r),u0(r,b)):(Ft(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&na(r),Ft(r),wp(r,g,i,h,l)),null;case 27:if(cs(r),l=Ie.current,g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&na(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}i=Ae.current,Gs(r)?pu(r):(i=_b(g,h,l),r.stateNode=i,na(r))}return Ft(r),null;case 5:if(cs(r),g=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&na(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}if(b=Ae.current,Gs(r))pu(r);else{var A=Dd(Ie.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?A.createElement(g,{is:h.is}):A.createElement(g)}}b[Wt]=r,b[Jt]=h;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=b;e:switch(Hn(b,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&na(r)}}return Ft(r),wp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&na(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ie.current,Gs(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=xt,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Wt]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||ab(i.nodeValue,l)),i||br(r,!0)}else i=Dd(i).createTextNode(h),i[Wt]=r,r.stateNode=i}return Ft(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(h=Gs(r),l!==null){if(i===null){if(!h)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Wt]=r}else Qr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),i=!1}else l=gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(Ji(r),r):(Ji(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ft(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Gs(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Wt]=r}else Qr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),g=!1}else g=gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Ji(r),r):(Ji(r),null)}return Ji(r),(r.flags&128)!==0?(r.lanes=l,r):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==g&&(h.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),bd(r,r.updateQueue),Ft(r),null);case 4:return Nt(),i===null&&Fp(r.stateNode.containerInfo),Ft(r),null;case 10:return Xr(r.type),Ft(r),null;case 19:if(ue(hn),h=r.memoizedState,h===null)return Ft(r),null;if(g=(r.flags&128)!==0,b=h.rendering,b===null)if(g)Ru(h,!1);else{if(sn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(b=od(i),b!==null){for(r.flags|=128,Ru(h,!1),i=b.updateQueue,r.updateQueue=i,bd(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)du(l,i),l=l.sibling;return Se(hn,hn.current&1|2),ot&&je(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&zn()>Sd&&(r.flags|=128,g=!0,Ru(h,!1),r.lanes=4194304)}else{if(!g)if(i=od(b),i!==null){if(r.flags|=128,g=!0,i=i.updateQueue,r.updateQueue=i,bd(r,i),Ru(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!ot)return Ft(r),null}else 2*zn()-h.renderingStartTime>Sd&&l!==536870912&&(r.flags|=128,g=!0,Ru(h,!1),r.lanes=4194304);h.isBackwards?(b.sibling=r.child,r.child=b):(i=h.last,i!==null?i.sibling=b:r.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=zn(),i.sibling=null,l=hn.current,Se(hn,g?l&1|2:l&1),ot&&je(r,h.treeForkCount),i):(Ft(r),null);case 22:case 23:return Ji(r),Gm(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(Ft(r),r.subtreeFlags&6&&(r.flags|=8192)):Ft(r),l=r.updateQueue,l!==null&&bd(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&ue(pl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xr(_n),Ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function l2(i,r){switch(tn(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xr(_n),Nt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return cs(r),null;case 31:if(r.memoizedState!==null){if(Ji(r),r.alternate===null)throw Error(s(340));Qr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Ji(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qr()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ue(hn),null;case 4:return Nt(),null;case 10:return Xr(r.type),null;case 22:case 23:return Ji(r),Gm(),i!==null&&ue(pl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xr(_n),null;case 25:return null;default:return null}}function h0(i,r){switch(tn(r),r.tag){case 3:Xr(_n),Nt();break;case 26:case 27:case 5:cs(r);break;case 4:Nt();break;case 31:r.memoizedState!==null&&Ji(r);break;case 13:Ji(r);break;case 19:ue(hn);break;case 10:Xr(r.type);break;case 22:case 23:Ji(r),Gm(),i!==null&&ue(pl);break;case 24:Xr(_n)}}function Iu(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var b=l.create,A=l.inst;h=b(),A.destroy=h}l=l.next}while(l!==g)}}catch(M){Mt(r,r.return,M)}}function Ja(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var b=g.next;h=b;do{if((h.tag&i)===i){var A=h.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,g=r;var W=l,ae=M;try{ae()}catch(pe){Mt(g,W,pe)}}}h=h.next}while(h!==b)}}catch(pe){Mt(r,r.return,pe)}}function d0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{nv(r,l)}catch(h){Mt(i,i.return,h)}}}function f0(i,r,l){l.props=bl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Mt(i,r,h)}}function Pu(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Mt(i,r,g)}}function wr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Mt(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Mt(i,r,g)}else l.current=null}function m0(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Mt(i,i.return,g)}}function Tp(i,r,l){try{var h=i.stateNode;I2(h,i.type,l,r),h[Jt]=r}catch(g){Mt(i,i.return,g)}}function p0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ao(i.type)||i.tag===4}function Ep(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||p0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ao(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sp(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=$n));else if(h!==4&&(h===27&&ao(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Sp(i,r,l),i=i.sibling;i!==null;)Sp(i,r,l),i=i.sibling}function xd(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&ao(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(xd(i,r,l),i=i.sibling;i!==null;)xd(i,r,l),i=i.sibling}function g0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Hn(r,h,l),r[Wt]=i,r[Jt]=l}catch(b){Mt(i,i.return,b)}}var ia=!1,bn=!1,Ap=!1,_0=typeof WeakSet=="function"?WeakSet:Set,kn=null;function c2(i,r){if(i=i.containerInfo,$p=Hd,i=sl(i),mr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var A=0,M=-1,W=-1,ae=0,pe=0,Te=i,le=null;t:for(;;){for(var de;Te!==l||g!==0&&Te.nodeType!==3||(M=A+g),Te!==b||h!==0&&Te.nodeType!==3||(W=A+h),Te.nodeType===3&&(A+=Te.nodeValue.length),(de=Te.firstChild)!==null;)le=Te,Te=de;for(;;){if(Te===i)break t;if(le===l&&++ae===g&&(M=A),le===b&&++pe===h&&(W=A),(de=Te.nextSibling)!==null)break;Te=le,le=Te.parentNode}Te=de}l=M===-1||W===-1?null:{start:M,end:W}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yp={focusedElem:i,selectionRange:l},Hd=!1,kn=r;kn!==null;)if(r=kn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,kn=i;else for(;kn!==null;){switch(r=kn,b=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=r,g=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var De=bl(l.type,g);i=h.getSnapshotBeforeUpdate(De,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(He){Mt(l,l.return,He)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Qp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Qp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,kn=i;break}kn=r.return}}function y0(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:ra(i,l),h&4&&Iu(5,l);break;case 1:if(ra(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(A){Mt(l,l.return,A)}else{var g=bl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Mt(l,l.return,A)}}h&64&&d0(l),h&512&&Pu(l,l.return);break;case 3:if(ra(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{nv(i,r)}catch(A){Mt(l,l.return,A)}}break;case 27:r===null&&h&4&&g0(l);case 26:case 5:ra(i,l),r===null&&h&4&&m0(l),h&512&&Pu(l,l.return);break;case 12:ra(i,l);break;case 31:ra(i,l),h&4&&x0(i,l);break;case 13:ra(i,l),h&4&&w0(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=y2.bind(null,l),V2(i,l))));break;case 22:if(h=l.memoizedState!==null||ia,!h){r=r!==null&&r.memoizedState!==null||bn,g=ia;var b=bn;ia=h,(bn=r)&&!b?aa(i,l,(l.subtreeFlags&8772)!==0):ra(i,l),ia=g,bn=b}break;case 30:break;default:ra(i,l)}}function v0(i){var r=i.alternate;r!==null&&(i.alternate=null,v0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ra(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,Mi=!1;function sa(i,r,l){for(l=l.child;l!==null;)b0(i,r,l),l=l.sibling}function b0(i,r,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(vi,l)}catch{}switch(l.tag){case 26:bn||wr(l,r),sa(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:bn||wr(l,r);var h=Zt,g=Mi;ao(l.type)&&(Zt=l.stateNode,Mi=!1),sa(i,r,l),Uu(l.stateNode),Zt=h,Mi=g;break;case 5:bn||wr(l,r);case 6:if(h=Zt,g=Mi,Zt=null,sa(i,r,l),Zt=h,Mi=g,Zt!==null)if(Mi)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(l.stateNode)}catch(b){Mt(l,r,b)}else try{Zt.removeChild(l.stateNode)}catch(b){Mt(l,r,b)}break;case 18:Zt!==null&&(Mi?(i=Zt,db(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Mc(i)):db(Zt,l.stateNode));break;case 4:h=Zt,g=Mi,Zt=l.stateNode.containerInfo,Mi=!0,sa(i,r,l),Zt=h,Mi=g;break;case 0:case 11:case 14:case 15:Ja(2,l,r),bn||Ja(4,l,r),sa(i,r,l);break;case 1:bn||(wr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&f0(l,r,h)),sa(i,r,l);break;case 21:sa(i,r,l);break;case 22:bn=(h=bn)||l.memoizedState!==null,sa(i,r,l),bn=h;break;default:sa(i,r,l)}}function x0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Mc(i)}catch(l){Mt(r,r.return,l)}}}function w0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mc(i)}catch(l){Mt(r,r.return,l)}}function u2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new _0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new _0),r;default:throw Error(s(435,i.tag))}}function wd(i,r){var l=u2(i);r.forEach(function(h){if(!l.has(h)){l.add(h);var g=v2.bind(null,i,h);h.then(g,g)}})}function Li(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],b=i,A=r,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(ao(M.type)){Zt=M.stateNode,Mi=!1;break e}break;case 5:Zt=M.stateNode,Mi=!1;break e;case 3:case 4:Zt=M.stateNode.containerInfo,Mi=!0;break e}M=M.return}if(Zt===null)throw Error(s(160));b0(b,A,g),Zt=null,Mi=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)T0(r,i),r=r.sibling}var $s=null;function T0(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Li(r,i),Oi(i),h&4&&(Ja(3,i,i.return),Iu(3,i),Ja(5,i,i.return));break;case 1:Li(r,i),Oi(i),h&512&&(bn||l===null||wr(l,l.return)),h&64&&ia&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=$s;if(Li(r,i),Oi(i),h&512&&(bn||l===null||wr(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":b=g.getElementsByTagName("title")[0],(!b||b[ms]||b[Wt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(h),g.head.insertBefore(b,g.querySelector("head > title"))),Hn(b,h,l),b[Wt]=i,en(b),h=b;break e;case"link":var A=Tb("link","href",g).get(h+(l.href||""));if(A){for(var M=0;M<A.length;M++)if(b=A[M],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(M,1);break t}}b=g.createElement(h),Hn(b,h,l),g.head.appendChild(b);break;case"meta":if(A=Tb("meta","content",g).get(h+(l.content||""))){for(M=0;M<A.length;M++)if(b=A[M],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(M,1);break t}}b=g.createElement(h),Hn(b,h,l),g.head.appendChild(b);break;default:throw Error(s(468,h))}b[Wt]=i,en(b),h=b}i.stateNode=h}else Eb(g,i.type,i.stateNode);else i.stateNode=wb(g,h,i.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?Eb(g,i.type,i.stateNode):wb(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Tp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Li(r,i),Oi(i),h&512&&(bn||l===null||wr(l,l.return)),l!==null&&h&4&&Tp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Li(r,i),Oi(i),h&512&&(bn||l===null||wr(l,l.return)),i.flags&32){g=i.stateNode;try{pn(g,"")}catch(De){Mt(i,i.return,De)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Tp(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Ap=!0);break;case 6:if(Li(r,i),Oi(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){Mt(i,i.return,De)}}break;case 3:if(Vd=null,g=$s,$s=kd(r.containerInfo),Li(r,i),$s=g,Oi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Mc(r.containerInfo)}catch(De){Mt(i,i.return,De)}Ap&&(Ap=!1,E0(i));break;case 4:h=$s,$s=kd(i.stateNode.containerInfo),Li(r,i),Oi(i),$s=h;break;case 12:Li(r,i),Oi(i);break;case 31:Li(r,i),Oi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 13:Li(r,i),Oi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ed=zn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 22:g=i.memoizedState!==null;var W=l!==null&&l.memoizedState!==null,ae=ia,pe=bn;if(ia=ae||g,bn=pe||W,Li(r,i),bn=pe,ia=ae,Oi(i),h&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||W||ia||bn||xl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){W=l=r;try{if(b=W.stateNode,g)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=W.stateNode;var Te=W.memoizedProps.style,le=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;M.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(De){Mt(W,W.return,De)}}}else if(r.tag===6){if(l===null){W=r;try{W.stateNode.nodeValue=g?"":W.memoizedProps}catch(De){Mt(W,W.return,De)}}}else if(r.tag===18){if(l===null){W=r;try{var de=W.stateNode;g?fb(de,!0):fb(W.stateNode,!1)}catch(De){Mt(W,W.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,wd(i,l))));break;case 19:Li(r,i),Oi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 30:break;case 21:break;default:Li(r,i),Oi(i)}}function Oi(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(p0(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,b=Ep(i);xd(i,b,g);break;case 5:var A=l.stateNode;l.flags&32&&(pn(A,""),l.flags&=-33);var M=Ep(i);xd(i,M,A);break;case 3:case 4:var W=l.stateNode.containerInfo,ae=Ep(i);Sp(i,ae,W);break;default:throw Error(s(161))}}catch(pe){Mt(i,i.return,pe)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function E0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;E0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ra(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)y0(i,r.alternate,r),r=r.sibling}function xl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ja(4,r,r.return),xl(r);break;case 1:wr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&f0(r,r.return,l),xl(r);break;case 27:Uu(r.stateNode);case 26:case 5:wr(r,r.return),xl(r);break;case 22:r.memoizedState===null&&xl(r);break;case 30:xl(r);break;default:xl(r)}i=i.sibling}}function aa(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,b=r,A=b.flags;switch(b.tag){case 0:case 11:case 15:aa(g,b,l),Iu(4,b);break;case 1:if(aa(g,b,l),h=b,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ae){Mt(h,h.return,ae)}if(h=b,g=h.updateQueue,g!==null){var M=h.stateNode;try{var W=g.shared.hiddenCallbacks;if(W!==null)for(g.shared.hiddenCallbacks=null,g=0;g<W.length;g++)tv(W[g],M)}catch(ae){Mt(h,h.return,ae)}}l&&A&64&&d0(b),Pu(b,b.return);break;case 27:g0(b);case 26:case 5:aa(g,b,l),l&&h===null&&A&4&&m0(b),Pu(b,b.return);break;case 12:aa(g,b,l);break;case 31:aa(g,b,l),l&&A&4&&x0(g,b);break;case 13:aa(g,b,l),l&&A&4&&w0(g,b);break;case 22:b.memoizedState===null&&aa(g,b,l),Pu(b,b.return);break;case 30:break;default:aa(g,b,l)}r=r.sibling}}function Cp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&_u(l))}function Np(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_u(i))}function Ys(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)S0(i,r,l,h),r=r.sibling}function S0(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Ys(i,r,l,h),g&2048&&Iu(9,r);break;case 1:Ys(i,r,l,h);break;case 3:Ys(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&_u(i)));break;case 12:if(g&2048){Ys(i,r,l,h),i=r.stateNode;try{var b=r.memoizedProps,A=b.id,M=b.onPostCommit;typeof M=="function"&&M(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(W){Mt(r,r.return,W)}}else Ys(i,r,l,h);break;case 31:Ys(i,r,l,h);break;case 13:Ys(i,r,l,h);break;case 23:break;case 22:b=r.stateNode,A=r.alternate,r.memoizedState!==null?b._visibility&2?Ys(i,r,l,h):Mu(i,r):b._visibility&2?Ys(i,r,l,h):(b._visibility|=2,xc(i,r,l,h,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Cp(A,r);break;case 24:Ys(i,r,l,h),g&2048&&Np(r.alternate,r);break;default:Ys(i,r,l,h)}}function xc(i,r,l,h,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=i,A=r,M=l,W=h,ae=A.flags;switch(A.tag){case 0:case 11:case 15:xc(b,A,M,W,g),Iu(8,A);break;case 23:break;case 22:var pe=A.stateNode;A.memoizedState!==null?pe._visibility&2?xc(b,A,M,W,g):Mu(b,A):(pe._visibility|=2,xc(b,A,M,W,g)),g&&ae&2048&&Cp(A.alternate,A);break;case 24:xc(b,A,M,W,g),g&&ae&2048&&Np(A.alternate,A);break;default:xc(b,A,M,W,g)}r=r.sibling}}function Mu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:Mu(l,h),g&2048&&Cp(h.alternate,h);break;case 24:Mu(l,h),g&2048&&Np(h.alternate,h);break;default:Mu(l,h)}r=r.sibling}}var Lu=8192;function wc(i,r,l){if(i.subtreeFlags&Lu)for(i=i.child;i!==null;)A0(i,r,l),i=i.sibling}function A0(i,r,l){switch(i.tag){case 26:wc(i,r,l),i.flags&Lu&&i.memoizedState!==null&&W2(l,$s,i.memoizedState,i.memoizedProps);break;case 5:wc(i,r,l);break;case 3:case 4:var h=$s;$s=kd(i.stateNode.containerInfo),wc(i,r,l),$s=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Lu,Lu=16777216,wc(i,r,l),Lu=h):wc(i,r,l));break;default:wc(i,r,l)}}function C0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ou(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];kn=h,R0(h,i)}C0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N0(i),i=i.sibling}function N0(i){switch(i.tag){case 0:case 11:case 15:Ou(i),i.flags&2048&&Ja(9,i,i.return);break;case 3:Ou(i);break;case 12:Ou(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Td(i)):Ou(i);break;default:Ou(i)}}function Td(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];kn=h,R0(h,i)}C0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ja(8,r,r.return),Td(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Td(r));break;default:Td(r)}i=i.sibling}}function R0(i,r){for(;kn!==null;){var l=kn;switch(l.tag){case 0:case 11:case 15:Ja(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:_u(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,kn=h;else e:for(l=i;kn!==null;){h=kn;var g=h.sibling,b=h.return;if(v0(h),h===l){kn=null;break e}if(g!==null){g.return=b,kn=g;break e}kn=b}}}var h2={getCacheForType:function(i){var r=Un(_n),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return Un(_n).controller.signal}},d2=typeof WeakMap=="function"?WeakMap:Map,St=0,zt=null,lt=null,ht=0,Pt=0,es=null,eo=!1,Tc=!1,Rp=!1,oa=0,sn=0,to=0,wl=0,Ip=0,ts=0,Ec=0,Du=null,Di=null,Pp=!1,Ed=0,I0=0,Sd=1/0,Ad=null,no=null,An=0,io=null,Sc=null,la=0,Mp=0,Lp=null,P0=null,ku=0,Op=null;function ns(){return(St&2)!==0&&ht!==0?ht&-ht:X.T!==null?Up():Fo()}function M0(){if(ts===0)if((ht&536870912)===0||ot){var i=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),ts=i}else ts=536870912;return i=Xi.current,i!==null&&(i.flags|=32),ts}function ki(i,r,l){(i===zt&&(Pt===2||Pt===9)||i.cancelPendingCommit!==null)&&(Ac(i,0),so(i,ht,ts,!1)),Os(i,l),((St&2)===0||i!==zt)&&(i===zt&&((St&2)===0&&(wl|=l),sn===4&&so(i,ht,ts,!1)),Tr(i))}function L0(i,r,l){if((St&6)!==0)throw Error(s(327));var h=!l&&(r&127)===0&&(r&i.expiredLanes)===0||Ui(i,r),g=h?p2(i,r):kp(i,r,!0),b=h;do{if(g===0){Tc&&!h&&so(i,r,0,!1);break}else{if(l=i.current.alternate,b&&!f2(l)){g=kp(i,r,!1),b=!1;continue}if(g===2){if(b=r,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var M=i;g=Du;var W=M.current.memoizedState.isDehydrated;if(W&&(Ac(M,A).flags|=256),A=kp(M,A,!1),A!==2){if(Rp&&!W){M.errorRecoveryDisabledLanes|=b,wl|=b,g=4;break e}b=Di,Di=g,b!==null&&(Di===null?Di=b:Di.push.apply(Di,b))}g=A}if(b=!1,g!==2)continue}}if(g===1){Ac(i,0),so(i,r,0,!0);break}e:{switch(h=i,b=g,b){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:so(h,r,ts,!eo);break e;case 2:Di=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=Ed+300-zn(),10<g)){if(so(h,r,ts,!eo),ds(h,0,!0)!==0)break e;la=r,h.timeoutHandle=ub(O0.bind(null,h,l,Di,Ad,Pp,r,ts,wl,Ec,eo,b,"Throttled",-0,0),g);break e}O0(h,l,Di,Ad,Pp,r,ts,wl,Ec,eo,b,null,-0,0)}}break}while(!0);Tr(i)}function O0(i,r,l,h,g,b,A,M,W,ae,pe,Te,le,de){if(i.timeoutHandle=-1,Te=r.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},A0(r,b,Te);var De=(b&62914560)===b?Ed-zn():(b&4194048)===b?I0-zn():0;if(De=Q2(Te,De),De!==null){la=b,i.cancelPendingCommit=De(H0.bind(null,i,r,b,l,h,g,A,M,W,pe,Te,null,le,de)),so(i,b,A,!ae);return}}H0(i,r,b,l,h,g,A,M,W)}function f2(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],b=g.getSnapshot;g=g.value;try{if(!On(b(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function so(i,r,l,h){r&=~Ip,r&=~wl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var b=31-Yt(g),A=1<<b;h[b]=-1,g&=~A}l!==0&&Ur(i,l,r)}function Cd(){return(St&6)===0?(ju(0),!1):!0}function Dp(){if(lt!==null){if(Pt===0)var i=lt.return;else i=lt,Zs=xr=null,Qm(i),gc=null,vu=0,i=lt;for(;i!==null;)h0(i.alternate,i),i=i.return;lt=null}}function Ac(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,L2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),la=0,Dp(),zt=i,lt=l=As(i.current,null),ht=r,Pt=0,es=null,eo=!1,Tc=Ui(i,r),Rp=!1,Ec=ts=Ip=wl=to=sn=0,Di=Du=null,Pp=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-Yt(h),b=1<<g;r|=i[g],h&=~b}return oa=r,cl(),l}function D0(i,r){Xe=null,X.H=Cu,r===pc||r===nd?(r=Qy(),Pt=3):r===zm?(r=Qy(),Pt=4):Pt=r===fp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,es=r,lt===null&&(sn=1,gd(i,u(r,i.current)))}function k0(){var i=Xi.current;return i===null?!0:(ht&4194048)===ht?Cs===null:(ht&62914560)===ht||(ht&536870912)!==0?i===Cs:!1}function j0(){var i=X.H;return X.H=Cu,i===null?Cu:i}function V0(){var i=X.A;return X.A=h2,i}function Nd(){sn=4,eo||(ht&4194048)!==ht&&Xi.current!==null||(Tc=!0),(to&134217727)===0&&(wl&134217727)===0||zt===null||so(zt,ht,ts,!1)}function kp(i,r,l){var h=St;St|=2;var g=j0(),b=V0();(zt!==i||ht!==r)&&(Ad=null,Ac(i,r)),r=!1;var A=sn;e:do try{if(Pt!==0&&lt!==null){var M=lt,W=es;switch(Pt){case 8:Dp(),A=6;break e;case 3:case 2:case 9:case 6:Xi.current===null&&(r=!0);var ae=Pt;if(Pt=0,es=null,Cc(i,M,W,ae),l&&Tc){A=0;break e}break;default:ae=Pt,Pt=0,es=null,Cc(i,M,W,ae)}}m2(),A=sn;break}catch(pe){D0(i,pe)}while(!0);return r&&i.shellSuspendCounter++,Zs=xr=null,St=h,X.H=g,X.A=b,lt===null&&(zt=null,ht=0,cl()),A}function m2(){for(;lt!==null;)z0(lt)}function p2(i,r){var l=St;St|=2;var h=j0(),g=V0();zt!==i||ht!==r?(Ad=null,Sd=zn()+500,Ac(i,r)):Tc=Ui(i,r);e:do try{if(Pt!==0&&lt!==null){r=lt;var b=es;t:switch(Pt){case 1:Pt=0,es=null,Cc(i,r,b,1);break;case 2:case 9:if(Ky(b)){Pt=0,es=null,U0(r);break}r=function(){Pt!==2&&Pt!==9||zt!==i||(Pt=7),Tr(i)},b.then(r,r);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:Ky(b)?(Pt=0,es=null,U0(r)):(Pt=0,es=null,Cc(i,r,b,7));break;case 5:var A=null;switch(lt.tag){case 26:A=lt.memoizedState;case 5:case 27:var M=lt;if(A?Sb(A):M.stateNode.complete){Pt=0,es=null;var W=M.sibling;if(W!==null)lt=W;else{var ae=M.return;ae!==null?(lt=ae,Rd(ae)):lt=null}break t}}Pt=0,es=null,Cc(i,r,b,5);break;case 6:Pt=0,es=null,Cc(i,r,b,6);break;case 8:Dp(),sn=6;break e;default:throw Error(s(462))}}g2();break}catch(pe){D0(i,pe)}while(!0);return Zs=xr=null,X.H=h,X.A=g,St=l,lt!==null?0:(zt=null,ht=0,cl(),sn)}function g2(){for(;lt!==null&&!Zl();)z0(lt)}function z0(i){var r=c0(i.alternate,i,oa);i.memoizedProps=i.pendingProps,r===null?Rd(i):lt=r}function U0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=i0(l,r,r.pendingProps,r.type,void 0,ht);break;case 11:r=i0(l,r,r.pendingProps,r.type.render,r.ref,ht);break;case 5:Qm(r);default:h0(l,r),r=lt=du(r,oa),r=c0(l,r,oa)}i.memoizedProps=i.pendingProps,r===null?Rd(i):lt=r}function Cc(i,r,l,h){Zs=xr=null,Qm(r),gc=null,vu=0;var g=r.return;try{if(s2(i,g,r,l,ht)){sn=1,gd(i,u(l,i.current)),lt=null;return}}catch(b){if(g!==null)throw lt=g,b;sn=1,gd(i,u(l,i.current)),lt=null;return}r.flags&32768?(ot||h===1?i=!0:Tc||(ht&536870912)!==0?i=!1:(eo=i=!0,(h===2||h===9||h===3||h===6)&&(h=Xi.current,h!==null&&h.tag===13&&(h.flags|=16384))),B0(r,i)):Rd(r)}function Rd(i){var r=i;do{if((r.flags&32768)!==0){B0(r,eo);return}i=r.return;var l=o2(r.alternate,r,oa);if(l!==null){lt=l;return}if(r=r.sibling,r!==null){lt=r;return}lt=r=i}while(r!==null);sn===0&&(sn=5)}function B0(i,r){do{var l=l2(i.alternate,i);if(l!==null){l.flags&=32767,lt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){lt=i;return}lt=i=l}while(i!==null);sn=6,lt=null}function H0(i,r,l,h,g,b,A,M,W){i.cancelPendingCommit=null;do Id();while(An!==0);if((St&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(b=r.lanes|r.childLanes,b|=lc,uu(i,l,b,A,M,W),i===zt&&(lt=zt=null,ht=0),Sc=r,io=i,la=l,Mp=b,Lp=g,P0=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,b2(Ls,function(){return $0(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=X.T,X.T=null,g=ye.p,ye.p=2,A=St,St|=4;try{c2(i,r,l)}finally{St=A,ye.p=g,X.T=h}}An=1,q0(),F0(),G0()}}function q0(){if(An===1){An=0;var i=io,r=Sc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var h=ye.p;ye.p=2;var g=St;St|=4;try{T0(r,i);var b=Yp,A=sl(i.containerInfo),M=b.focusedElem,W=b.selectionRange;if(A!==M&&M&&M.ownerDocument&&sc(M.ownerDocument.documentElement,M)){if(W!==null&&mr(M)){var ae=W.start,pe=W.end;if(pe===void 0&&(pe=ae),"selectionStart"in M)M.selectionStart=ae,M.selectionEnd=Math.min(pe,M.value.length);else{var Te=M.ownerDocument||document,le=Te&&Te.defaultView||window;if(le.getSelection){var de=le.getSelection(),De=M.textContent.length,He=Math.min(W.start,De),Dt=W.end===void 0?He:Math.min(W.end,De);!de.extend&&He>Dt&&(A=Dt,Dt=He,He=A);var ee=il(M,He),Q=il(M,Dt);if(ee&&Q&&(de.rangeCount!==1||de.anchorNode!==ee.node||de.anchorOffset!==ee.offset||de.focusNode!==Q.node||de.focusOffset!==Q.offset)){var re=Te.createRange();re.setStart(ee.node,ee.offset),de.removeAllRanges(),He>Dt?(de.addRange(re),de.extend(Q.node,Q.offset)):(re.setEnd(Q.node,Q.offset),de.addRange(re))}}}}for(Te=[],de=M;de=de.parentNode;)de.nodeType===1&&Te.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Te.length;M++){var ve=Te[M];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Hd=!!$p,Yp=$p=null}finally{St=g,ye.p=h,X.T=l}}i.current=r,An=2}}function F0(){if(An===2){An=0;var i=io,r=Sc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var h=ye.p;ye.p=2;var g=St;St|=4;try{y0(i,r.alternate,r)}finally{St=g,ye.p=h,X.T=l}}An=3}}function G0(){if(An===4||An===3){An=0,zo();var i=io,r=Sc,l=la,h=P0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?An=5:(An=0,Sc=io=null,Z0(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(no=null),Oe(l),r=r.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(vi,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=X.T,g=ye.p,ye.p=2,X.T=null;try{for(var b=i.onRecoverableError,A=0;A<h.length;A++){var M=h[A];b(M.value,{componentStack:M.stack})}}finally{X.T=r,ye.p=g}}(la&3)!==0&&Id(),Tr(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===Op?ku++:(ku=0,Op=i):ku=0,ju(0)}}function Z0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,_u(r)))}function Id(){return q0(),F0(),G0(),$0()}function $0(){if(An!==5)return!1;var i=io,r=Mp;Mp=0;var l=Oe(la),h=X.T,g=ye.p;try{ye.p=32>l?32:l,X.T=null,l=Lp,Lp=null;var b=io,A=la;if(An=0,Sc=io=null,la=0,(St&6)!==0)throw Error(s(331));var M=St;if(St|=4,N0(b.current),S0(b,b.current,A,l),St=M,ju(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(vi,b)}catch{}return!0}finally{ye.p=g,X.T=h,Z0(i,r)}}function Y0(i,r,l){r=u(l,r),r=dp(i.stateNode,r,2),i=Wa(i,r,2),i!==null&&(Os(i,2),Tr(i))}function Mt(i,r,l){if(i.tag===3)Y0(i,i,l);else for(;r!==null;){if(r.tag===3){Y0(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(no===null||!no.has(h))){i=u(l,i),l=Kv(2),h=Wa(r,l,2),h!==null&&(Wv(l,h,r,i),Os(h,2),Tr(h));break}}r=r.return}}function jp(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new d2;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(Rp=!0,g.add(l),i=_2.bind(null,i,r,l),r.then(i,i))}function _2(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,zt===i&&(ht&l)===l&&(sn===4||sn===3&&(ht&62914560)===ht&&300>zn()-Ed?(St&2)===0&&Ac(i,0):Ip|=l,Ec===ht&&(Ec=0)),Tr(i)}function K0(i,r){r===0&&(r=Kl()),i=Ss(i,r),i!==null&&(Os(i,r),Tr(i))}function y2(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),K0(i,l)}function v2(i,r){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),K0(i,l)}function b2(i,r){return gt(i,r)}var Pd=null,Nc=null,Vp=!1,Md=!1,zp=!1,ro=0;function Tr(i){i!==Nc&&i.next===null&&(Nc===null?Pd=Nc=i:Nc=Nc.next=i),Md=!0,Vp||(Vp=!0,w2())}function ju(i,r){if(!zp&&Md){zp=!0;do for(var l=!1,h=Pd;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var b=0;else{var A=h.suspendedLanes,M=h.pingedLanes;b=(1<<31-Yt(42|i)+1)-1,b&=g&~(A&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,J0(h,b))}else b=ht,b=ds(h,h===zt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Ui(h,b)||(l=!0,J0(h,b));h=h.next}while(l);zp=!1}}function x2(){W0()}function W0(){Md=Vp=!1;var i=0;ro!==0&&M2()&&(i=ro);for(var r=zn(),l=null,h=Pd;h!==null;){var g=h.next,b=Q0(h,r);b===0?(h.next=null,l===null?Pd=g:l.next=g,g===null&&(Nc=l)):(l=h,(i!==0||(b&3)!==0)&&(Md=!0)),h=g}An!==0&&An!==5||ju(i),ro!==0&&(ro=0)}function Q0(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-Yt(b),M=1<<A,W=g[A];W===-1?((M&l)===0||(M&h)!==0)&&(g[A]=cu(M,r)):W<=r&&(i.expiredLanes|=M),b&=~M}if(r=zt,l=ht,l=ds(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(Pt===2||Pt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Zn(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ui(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Zn(h),Oe(l)){case 2:case 8:l=Ca;break;case 32:l=Ls;break;case 268435456:l=Uo;break;default:l=Ls}return h=X0.bind(null,i),l=gt(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Zn(h),i.callbackPriority=2,i.callbackNode=null,2}function X0(i,r){if(An!==0&&An!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Id()&&i.callbackNode!==l)return null;var h=ht;return h=ds(i,i===zt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(L0(i,h,r),Q0(i,zn()),i.callbackNode!=null&&i.callbackNode===l?X0.bind(null,i):null)}function J0(i,r){if(Id())return null;L0(i,r,!0)}function w2(){O2(function(){(St&6)!==0?gt(zr,x2):W0()})}function Up(){if(ro===0){var i=fc;i===0&&(i=zi,zi<<=1,(zi&261888)===0&&(zi=256)),ro=i}return ro}function eb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:cr(""+i)}function tb(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function T2(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var b=eb((g[Jt]||null).action),A=h.submitter;A&&(r=(r=A[Jt]||null)?eb(r.formAction):A.getAttribute("formAction"),r!==null&&(b=r,A=null));var M=new xs("action","action",null,h,g);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ro!==0){var W=A?tb(g,A):new FormData(g);ap(l,{pending:!0,data:W,method:g.method,action:b},null,W)}}else typeof b=="function"&&(M.preventDefault(),W=A?tb(g,A):new FormData(g),ap(l,{pending:!0,data:W,method:g.method,action:b},b,W))},currentTarget:g}]})}}for(var Bp=0;Bp<_r.length;Bp++){var Hp=_r[Bp],E2=Hp.toLowerCase(),S2=Hp[0].toUpperCase()+Hp.slice(1);Ri(E2,"on"+S2)}Ri(al,"onAnimationEnd"),Ri(Wh,"onAnimationIteration"),Ri(ol,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Pm,"onTransitionRun"),Ri(Qh,"onTransitionStart"),Ri(Mm,"onTransitionCancel"),Ri(Ga,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function nb(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var b=void 0;if(r)for(var A=h.length-1;0<=A;A--){var M=h[A],W=M.instance,ae=M.currentTarget;if(M=M.listener,W!==b&&g.isPropagationStopped())break e;b=M,g.currentTarget=ae;try{b(g)}catch(pe){ll(pe)}g.currentTarget=null,b=W}else for(A=0;A<h.length;A++){if(M=h[A],W=M.instance,ae=M.currentTarget,M=M.listener,W!==b&&g.isPropagationStopped())break e;b=M,g.currentTarget=ae;try{b(g)}catch(pe){ll(pe)}g.currentTarget=null,b=W}}}}function ct(i,r){var l=r[Hi];l===void 0&&(l=r[Hi]=new Set);var h=i+"__bubble";l.has(h)||(ib(r,i,2,!1),l.add(h))}function qp(i,r,l){var h=0;r&&(h|=4),ib(l,i,h,r)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Fp(i){if(!i[Ld]){i[Ld]=!0,Go.forEach(function(l){l!=="selectionchange"&&(A2.has(l)||qp(l,!1,i),qp(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ld]||(r[Ld]=!0,qp("selectionchange",!1,r))}}function ib(i,r,l,h){switch(Mb(r)){case 2:var g=eA;break;case 8:g=tA;break;default:g=rg}l=g.bind(null,r,l,i),g=void 0,!Vs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function Gp(i,r,l,h,g){var b=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===g)break;if(A===4)for(A=h.return;A!==null;){var W=A.tag;if((W===3||W===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;M!==null;){if(A=qi(M),A===null)return;if(W=A.tag,W===5||W===6||W===26||W===27){h=b=A;continue e}M=M.parentNode}}h=h.return}js(function(){var ae=b,pe=Yn(l),Te=[];e:{var le=Xh.get(i);if(le!==void 0){var de=xs,De=i;switch(i){case"keypress":if(hr(l)===0)break e;case"keydown":case"keyup":de=Xo;break;case"focusin":De="focus",de=Zr;break;case"focusout":De="blur",de=Zr;break;case"beforeblur":case"afterblur":de=Zr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=E;break;case al:case Wh:case ol:de=Da;break;case Ga:de=j;break;case"scroll":case"scrollend":de=nt;break;case"wheel":de=ce;break;case"copy":case"cut":case"paste":de=li;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Hs;break;case"toggle":case"beforetoggle":de=$e}var He=(r&4)!==0,Dt=!He&&(i==="scroll"||i==="scrollend"),ee=He?le!==null?le+"Capture":null:le;He=[];for(var Q=ae,re;Q!==null;){var ve=Q;if(re=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||re===null||ee===null||(ve=oi(Q,ee),ve!=null&&He.push(zu(Q,ve,re))),Dt)break;Q=Q.return}0<He.length&&(le=new de(le,De,null,l,pe),Te.push({event:le,listeners:He}))}}if((r&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",le&&l!==Oa&&(De=l.relatedTarget||l.fromElement)&&(qi(De)||De[Bi]))break e;if((de||le)&&(le=pe.window===pe?pe:(le=pe.ownerDocument)?le.defaultView||le.parentWindow:window,de?(De=l.relatedTarget||l.toElement,de=ae,De=De?qi(De):null,De!==null&&(Dt=c(De),He=De.tag,De!==Dt||He!==5&&He!==27&&He!==6)&&(De=null)):(de=null,De=ae),de!==De)){if(He=$o,ve="onMouseLeave",ee="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(He=Hs,ve="onPointerLeave",ee="onPointerEnter",Q="pointer"),Dt=de==null?le:In(de),re=De==null?le:In(De),le=new He(ve,Q+"leave",de,l,pe),le.target=Dt,le.relatedTarget=re,ve=null,qi(pe)===ae&&(He=new He(ee,Q+"enter",De,l,pe),He.target=re,He.relatedTarget=Dt,ve=He),Dt=ve,de&&De)t:{for(He=C2,ee=de,Q=De,re=0,ve=ee;ve;ve=He(ve))re++;ve=0;for(var Ve=Q;Ve;Ve=He(Ve))ve++;for(;0<re-ve;)ee=He(ee),re--;for(;0<ve-re;)Q=He(Q),ve--;for(;re--;){if(ee===Q||Q!==null&&ee===Q.alternate){He=ee;break t}ee=He(ee),Q=He(Q)}He=null}else He=null;de!==null&&sb(Te,le,de,He,!1),De!==null&&Dt!==null&&sb(Te,Dt,De,He,!0)}}e:{if(le=ae?In(ae):window,de=le.nodeName&&le.nodeName.toLowerCase(),de==="select"||de==="input"&&le.type==="file")var Tt=nl;else if(ws(le))if(Gh)Tt=Im;else{Tt=Rm;var ke=qs}else de=le.nodeName,!de||de.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ae&&lr(ae.elementType)&&(Tt=nl):Tt=Ba;if(Tt&&(Tt=Tt(i,ae))){Fh(Te,Tt,l,pe);break e}ke&&ke(i,le,ae),i==="focusout"&&ae&&le.type==="number"&&ae.memoizedProps.value!=null&&Fi(le,"number",le.value)}switch(ke=ae?In(ae):window,i){case"focusin":(ws(ke)||ke.contentEditable==="true")&&(pr=ke,ac=ae,rl=null);break;case"focusout":rl=ac=pr=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,Yh(Te,l,pe);break;case"selectionchange":if(rc)break;case"keydown":case"keyup":Yh(Te,l,pe)}var et;if(yt)e:{switch(i){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Va?$r(i,l)&&(dt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(dt="onCompositionStart");dt&&(Ni&&l.locale!=="ko"&&(Va||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Va&&(et=Gi()):(Ai=pe,zs="value"in Ai?Ai.value:Ai.textContent,Va=!0)),ke=Od(ae,dt),0<ke.length&&(dt=new Yi(dt,i,null,l,pe),Te.push({event:dt,listeners:ke}),et?dt.data=et:(et=Yr(l),et!==null&&(dt.data=et)))),(et=Ci?Qi(i,l):za(i,l))&&(dt=Od(ae,"onBeforeInput"),0<dt.length&&(ke=new Yi("onBeforeInput","beforeinput",null,l,pe),Te.push({event:ke,listeners:dt}),ke.data=et)),T2(Te,i,ae,l,pe)}nb(Te,r)})}function zu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Od(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=oi(i,l),g!=null&&h.unshift(zu(i,g,b)),g=oi(i,r),g!=null&&h.push(zu(i,g,b))),i.tag===3)return h;i=i.return}return[]}function C2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sb(i,r,l,h,g){for(var b=r._reactName,A=[];l!==null&&l!==h;){var M=l,W=M.alternate,ae=M.stateNode;if(M=M.tag,W!==null&&W===h)break;M!==5&&M!==26&&M!==27||ae===null||(W=ae,g?(ae=oi(l,b),ae!=null&&A.unshift(zu(l,ae,W))):g||(ae=oi(l,b),ae!=null&&A.push(zu(l,ae,W)))),l=l.return}A.length!==0&&i.push({event:r,listeners:A})}var N2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function rb(i){return(typeof i=="string"?i:""+i).replace(N2,`
`).replace(R2,"")}function ab(i,r){return r=rb(r),rb(i)===r}function Ot(i,r,l,h,g,b){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||pn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&pn(i,""+h);break;case"className":at(i,"class",h);break;case"tabIndex":at(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":at(i,l,h);break;case"style":qr(i,h,b);break;case"data":if(r!=="object"){at(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=cr(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Ot(i,r,"name",g.name,g,null),Ot(i,r,"formEncType",g.formEncType,g,null),Ot(i,r,"formMethod",g.formMethod,g,null),Ot(i,r,"formTarget",g.formTarget,g,null)):(Ot(i,r,"encType",g.encType,g,null),Ot(i,r,"method",g.method,g,null),Ot(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=cr(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=$n);break;case"onScroll":h!=null&&ct("scroll",i);break;case"onScrollEnd":h!=null&&ct("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=cr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ct("beforetoggle",i),ct("toggle",i),st(i,"popover",h);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":st(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fr.get(l)||l,st(i,l,h))}}function Zp(i,r,l,h,g,b){switch(l){case"style":qr(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?pn(i,h):(typeof h=="number"||typeof h=="bigint")&&pn(i,""+h);break;case"onScroll":h!=null&&ct("scroll",i);break;case"onScrollEnd":h!=null&&ct("scrollend",i);break;case"onClick":h!=null&&(i.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),b=i[Jt]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(r,b,g),typeof h=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):st(i,l,h)}}}function Hn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",i),ct("load",i);var h=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var A=l[b];if(A!=null)switch(b){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,b,A,l,null)}}g&&Ot(i,r,"srcSet",l.srcSet,l,null),h&&Ot(i,r,"src",l.src,l,null);return;case"input":ct("invalid",i);var M=b=A=g=null,W=null,ae=null;for(h in l)if(l.hasOwnProperty(h)){var pe=l[h];if(pe!=null)switch(h){case"name":g=pe;break;case"type":A=pe;break;case"checked":W=pe;break;case"defaultChecked":ae=pe;break;case"value":b=pe;break;case"defaultValue":M=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,r));break;default:Ot(i,r,h,pe,l,null)}}Hr(i,b,M,W,ae,A,g,!1);return;case"select":ct("invalid",i),h=A=b=null;for(g in l)if(l.hasOwnProperty(g)&&(M=l[g],M!=null))switch(g){case"value":b=M;break;case"defaultValue":A=M;break;case"multiple":h=M;default:Ot(i,r,g,M,l,null)}r=b,l=A,i.multiple=!!h,r!=null?It(i,!!h,r,!1):l!=null&&It(i,!!h,l,!0);return;case"textarea":ct("invalid",i),b=g=h=null;for(A in l)if(l.hasOwnProperty(A)&&(M=l[A],M!=null))switch(A){case"value":h=M;break;case"defaultValue":g=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Ot(i,r,A,M,l,null)}Si(i,h,g,b);return;case"option":for(W in l)l.hasOwnProperty(W)&&(h=l[W],h!=null)&&(W==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":Ot(i,r,W,h,l,null));return;case"dialog":ct("beforetoggle",i),ct("toggle",i),ct("cancel",i),ct("close",i);break;case"iframe":case"object":ct("load",i);break;case"video":case"audio":for(h=0;h<Vu.length;h++)ct(Vu[h],i);break;case"image":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"embed":case"source":case"link":ct("error",i),ct("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in l)if(l.hasOwnProperty(ae)&&(h=l[ae],h!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ot(i,r,ae,h,l,null)}return;default:if(lr(r)){for(pe in l)l.hasOwnProperty(pe)&&(h=l[pe],h!==void 0&&Zp(i,r,pe,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&Ot(i,r,M,h,l,null))}function I2(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,A=null,M=null,W=null,ae=null,pe=null;for(de in l){var Te=l[de];if(l.hasOwnProperty(de)&&Te!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":W=Te;default:h.hasOwnProperty(de)||Ot(i,r,de,null,h,Te)}}for(var le in h){var de=h[le];if(Te=l[le],h.hasOwnProperty(le)&&(de!=null||Te!=null))switch(le){case"type":b=de;break;case"name":g=de;break;case"checked":ae=de;break;case"defaultChecked":pe=de;break;case"value":A=de;break;case"defaultValue":M=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,r));break;default:de!==Te&&Ot(i,r,le,de,h,Te)}}Ma(i,A,M,W,ae,pe,b,g);return;case"select":de=A=M=le=null;for(b in l)if(W=l[b],l.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":de=W;default:h.hasOwnProperty(b)||Ot(i,r,b,null,h,W)}for(g in h)if(b=h[g],W=l[g],h.hasOwnProperty(g)&&(b!=null||W!=null))switch(g){case"value":le=b;break;case"defaultValue":M=b;break;case"multiple":A=b;default:b!==W&&Ot(i,r,g,b,h,W)}r=M,l=A,h=de,le!=null?It(i,!!l,le,!1):!!h!=!!l&&(r!=null?It(i,!!l,r,!0):It(i,!!l,l?[]:"",!1));return;case"textarea":de=le=null;for(M in l)if(g=l[M],l.hasOwnProperty(M)&&g!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Ot(i,r,M,null,h,g)}for(A in h)if(g=h[A],b=l[A],h.hasOwnProperty(A)&&(g!=null||b!=null))switch(A){case"value":le=g;break;case"defaultValue":de=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==b&&Ot(i,r,A,g,h,b)}ys(i,le,de);return;case"option":for(var De in l)le=l[De],l.hasOwnProperty(De)&&le!=null&&!h.hasOwnProperty(De)&&(De==="selected"?i.selected=!1:Ot(i,r,De,null,h,le));for(W in h)le=h[W],de=l[W],h.hasOwnProperty(W)&&le!==de&&(le!=null||de!=null)&&(W==="selected"?i.selected=le&&typeof le!="function"&&typeof le!="symbol":Ot(i,r,W,le,h,de));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)le=l[He],l.hasOwnProperty(He)&&le!=null&&!h.hasOwnProperty(He)&&Ot(i,r,He,null,h,le);for(ae in h)if(le=h[ae],de=l[ae],h.hasOwnProperty(ae)&&le!==de&&(le!=null||de!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:Ot(i,r,ae,le,h,de)}return;default:if(lr(r)){for(var Dt in l)le=l[Dt],l.hasOwnProperty(Dt)&&le!==void 0&&!h.hasOwnProperty(Dt)&&Zp(i,r,Dt,void 0,h,le);for(pe in h)le=h[pe],de=l[pe],!h.hasOwnProperty(pe)||le===de||le===void 0&&de===void 0||Zp(i,r,pe,le,h,de);return}}for(var ee in l)le=l[ee],l.hasOwnProperty(ee)&&le!=null&&!h.hasOwnProperty(ee)&&Ot(i,r,ee,null,h,le);for(Te in h)le=h[Te],de=l[Te],!h.hasOwnProperty(Te)||le===de||le==null&&de==null||Ot(i,r,Te,le,h,de)}function ob(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],b=g.transferSize,A=g.initiatorType,M=g.duration;if(b&&M&&ob(A)){for(A=0,M=g.responseEnd,h+=1;h<l.length;h++){var W=l[h],ae=W.startTime;if(ae>M)break;var pe=W.transferSize,Te=W.initiatorType;pe&&ob(Te)&&(W=W.responseEnd,A+=pe*(W<M?1:(M-ae)/(W-ae)))}if(--h,r+=8*(b+A)/(g.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var $p=null,Yp=null;function Dd(i){return i.nodeType===9?i:i.ownerDocument}function lb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Kp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wp=null;function M2(){var i=window.event;return i&&i.type==="popstate"?i===Wp?!1:(Wp=i,!0):(Wp=null,!1)}var ub=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,hb=typeof Promise=="function"?Promise:void 0,O2=typeof queueMicrotask=="function"?queueMicrotask:typeof hb<"u"?function(i){return hb.resolve(null).then(i).catch(D2)}:ub;function D2(i){setTimeout(function(){throw i})}function ao(i){return i==="head"}function db(i,r){var l=r,h=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(g),Mc(r);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Uu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Uu(l);for(var b=l.firstChild;b;){var A=b.nextSibling,M=b.nodeName;b[ms]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=A}}else l==="body"&&Uu(i.ownerDocument.body);l=g}while(l);Mc(r)}function fb(i,r){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Qp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Qp(l),Ra(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function k2(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ms])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ns(i.nextSibling),i===null)break}return null}function j2(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ns(i.nextSibling),i===null))return null;return i}function mb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ns(i.nextSibling),i===null))return null;return i}function Xp(i){return i.data==="$?"||i.data==="$~"}function Jp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function V2(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ns(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var eg=null;function pb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Ns(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function gb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function _b(i,r,l){switch(r=Dd(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Uu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ra(i)}var Rs=new Map,yb=new Set;function kd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ca=ye.d;ye.d={f:z2,r:U2,D:B2,C:H2,L:q2,m:F2,X:Z2,S:G2,M:$2};function z2(){var i=ca.f(),r=Cd();return i||r}function U2(i){var r=wi(i);r!==null&&r.tag===5&&r.type==="form"?Dv(r):ca.r(i)}var Rc=typeof document>"u"?null:document;function vb(i,r,l){var h=Rc;if(h&&typeof r=="string"&&r){var g=jt(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),yb.has(g)||(yb.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Hn(r,"link",i),en(r),h.head.appendChild(r)))}}function B2(i){ca.D(i),vb("dns-prefetch",i,null)}function H2(i,r){ca.C(i,r),vb("preconnect",i,r)}function q2(i,r,l){ca.L(i,r,l);var h=Rc;if(h&&i&&r){var g='link[rel="preload"][as="'+jt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+jt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+jt(l.imageSizes)+'"]')):g+='[href="'+jt(i)+'"]';var b=g;switch(r){case"style":b=Ic(i);break;case"script":b=Pc(i)}Rs.has(b)||(i=T({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Rs.set(b,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(Bu(b))||r==="script"&&h.querySelector(Hu(b))||(r=h.createElement("link"),Hn(r,"link",i),en(r),h.head.appendChild(r)))}}function F2(i,r){ca.m(i,r);var l=Rc;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+jt(h)+'"][href="'+jt(i)+'"]',b=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Pc(i)}if(!Rs.has(b)&&(i=T({rel:"modulepreload",href:i},r),Rs.set(b,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Hu(b)))return}h=l.createElement("link"),Hn(h,"link",i),en(h),l.head.appendChild(h)}}}function G2(i,r,l){ca.S(i,r,l);var h=Rc;if(h&&i){var g=ps(h).hoistableStyles,b=Ic(i);r=r||"default";var A=g.get(b);if(!A){var M={loading:0,preload:null};if(A=h.querySelector(Bu(b)))M.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Rs.get(b))&&tg(i,l);var W=A=h.createElement("link");en(W),Hn(W,"link",i),W._p=new Promise(function(ae,pe){W.onload=ae,W.onerror=pe}),W.addEventListener("load",function(){M.loading|=1}),W.addEventListener("error",function(){M.loading|=2}),M.loading|=4,jd(A,r,h)}A={type:"stylesheet",instance:A,count:1,state:M},g.set(b,A)}}}function Z2(i,r){ca.X(i,r);var l=Rc;if(l&&i){var h=ps(l).hoistableScripts,g=Pc(i),b=h.get(g);b||(b=l.querySelector(Hu(g)),b||(i=T({src:i,async:!0},r),(r=Rs.get(g))&&ng(i,r),b=l.createElement("script"),en(b),Hn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function $2(i,r){ca.M(i,r);var l=Rc;if(l&&i){var h=ps(l).hoistableScripts,g=Pc(i),b=h.get(g);b||(b=l.querySelector(Hu(g)),b||(i=T({src:i,async:!0,type:"module"},r),(r=Rs.get(g))&&ng(i,r),b=l.createElement("script"),en(b),Hn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function bb(i,r,l,h){var g=(g=Ie.current)?kd(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ic(l.href),l=ps(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ic(l.href);var b=ps(g).hoistableStyles,A=b.get(i);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=g.querySelector(Bu(i)))&&!b._p&&(A.instance=b,A.state.loading=5),Rs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Rs.set(i,l),b||Y2(g,i,l,A.state))),r&&h===null)throw Error(s(528,""));return A}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Pc(l),l=ps(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ic(i){return'href="'+jt(i)+'"'}function Bu(i){return'link[rel="stylesheet"]['+i+"]"}function xb(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function Y2(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Hn(r,"link",l),en(r),i.head.appendChild(r))}function Pc(i){return'[src="'+jt(i)+'"]'}function Hu(i){return"script[async]"+i}function wb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+jt(l.href)+'"]');if(h)return r.instance=h,en(h),h;var g=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),en(h),Hn(h,"style",g),jd(h,l.precedence,i),r.instance=h;case"stylesheet":g=Ic(l.href);var b=i.querySelector(Bu(g));if(b)return r.state.loading|=4,r.instance=b,en(b),b;h=xb(l),(g=Rs.get(g))&&tg(h,g),b=(i.ownerDocument||i).createElement("link"),en(b);var A=b;return A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),Hn(b,"link",h),r.state.loading|=4,jd(b,l.precedence,i),r.instance=b;case"script":return b=Pc(l.src),(g=i.querySelector(Hu(b)))?(r.instance=g,en(g),g):(h=l,(g=Rs.get(b))&&(h=T({},l),ng(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),en(g),Hn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,jd(h,l.precedence,i));return r.instance}function jd(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,b=g,A=0;A<h.length;A++){var M=h[A];if(M.dataset.precedence===r)b=M;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function tg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Vd=null;function Tb(i,r,l){if(Vd===null){var h=new Map,g=Vd=new Map;g.set(l,h)}else g=Vd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var b=l[g];if(!(b[ms]||b[Wt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(r)||"";A=i+A;var M=h.get(A);M?M.push(b):h.set(A,[b])}}return h}function Eb(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function K2(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Sb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function W2(i,r,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Ic(h.href),b=r.querySelector(Bu(g));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=zd.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=b,en(b);return}b=r.ownerDocument||r,h=xb(h),(g=Rs.get(g))&&tg(h,g),b=b.createElement("link"),en(b);var A=b;A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),Hn(b,"link",h),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=zd.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var ig=0;function Q2(i,r){return i.stylesheets&&i.count===0&&Bd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+r);0<i.imgBytes&&ig===0&&(ig=62500*P2());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>ig?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ud=null;function Bd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ud=new Map,r.forEach(X2,i),Ud=null,zd.call(i))}function X2(i,r){if(!(r.state.loading&4)){var l=Ud.get(i);if(l)var h=l.get(null);else{l=new Map,Ud.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var A=g[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),h=A)}h&&l.set(null,h)}g=r.instance,A=g.getAttribute("data-precedence"),b=l.get(A)||h,b===h&&l.set(null,g),l.set(A,g),this.count++,h=zd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var qu={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function J2(i,r,l,h,g,b,A,M,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Ab(i,r,l,h,g,b,A,M,W,ae,pe,Te){return i=new J2(i,r,l,A,W,ae,pe,Te,M),r=1,b===!0&&(r|=24),b=Xn(3,null,null,r),i.current=b,b.stateNode=i,r=km(),r.refCount++,i.pooledCache=r,r.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:r},Um(b),i}function Cb(i){return i?(i=Kr,i):Kr}function Nb(i,r,l,h,g,b){g=Cb(g),h.context===null?h.context=g:h.pendingContext=g,h=Ka(r),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=Wa(i,h,r),l!==null&&(ki(l,i,r),xu(l,i,r))}function Rb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function sg(i,r){Rb(i,r),(i=i.alternate)&&Rb(i,r)}function Ib(i){if(i.tag===13||i.tag===31){var r=Ss(i,67108864);r!==null&&ki(r,i,67108864),sg(i,67108864)}}function Pb(i){if(i.tag===13||i.tag===31){var r=ns();r=Rn(r);var l=Ss(i,r);l!==null&&ki(l,i,r),sg(i,r)}}var Hd=!0;function eA(i,r,l,h){var g=X.T;X.T=null;var b=ye.p;try{ye.p=2,rg(i,r,l,h)}finally{ye.p=b,X.T=g}}function tA(i,r,l,h){var g=X.T;X.T=null;var b=ye.p;try{ye.p=8,rg(i,r,l,h)}finally{ye.p=b,X.T=g}}function rg(i,r,l,h){if(Hd){var g=ag(h);if(g===null)Gp(i,r,h,qd,l),Lb(i,h);else if(iA(g,i,r,l,h))h.stopPropagation();else if(Lb(i,h),r&4&&-1<nA.indexOf(i)){for(;g!==null;){var b=wi(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=hs(b.pendingLanes);if(A!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var W=1<<31-Yt(A);M.entanglements[1]|=W,A&=~W}Tr(b),(St&6)===0&&(Sd=zn()+500,ju(0))}}break;case 31:case 13:M=Ss(b,2),M!==null&&ki(M,b,2),Cd(),sg(b,2)}if(b=ag(h),b===null&&Gp(i,r,h,qd,l),b===g)break;g=b}g!==null&&h.stopPropagation()}else Gp(i,r,h,null,l)}}function ag(i){return i=Yn(i),og(i)}var qd=null;function og(i){if(qd=null,i=qi(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=d(r),i!==null)return i;i=null}else if(l===31){if(i=y(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return qd=i,null}function Mb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case zr:return 2;case Ca:return 8;case Ls:case lu:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var lg=!1,oo=null,lo=null,co=null,Fu=new Map,Gu=new Map,uo=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lb(i,r){switch(i){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(r.pointerId)}}function Zu(i,r,l,h,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[g]},r!==null&&(r=wi(r),r!==null&&Ib(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function iA(i,r,l,h,g){switch(r){case"focusin":return oo=Zu(oo,i,r,l,h,g),!0;case"dragenter":return lo=Zu(lo,i,r,l,h,g),!0;case"mouseover":return co=Zu(co,i,r,l,h,g),!0;case"pointerover":var b=g.pointerId;return Fu.set(b,Zu(Fu.get(b)||null,i,r,l,h,g)),!0;case"gotpointercapture":return b=g.pointerId,Gu.set(b,Zu(Gu.get(b)||null,i,r,l,h,g)),!0}return!1}function Ob(i){var r=qi(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=d(l),r!==null){i.blockedOn=r,bi(i.priority,function(){Pb(l)});return}}else if(r===31){if(r=y(l),r!==null){i.blockedOn=r,bi(i.priority,function(){Pb(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=ag(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Oa=h,l.target.dispatchEvent(h),Oa=null}else return r=wi(l),r!==null&&Ib(r),i.blockedOn=l,!1;r.shift()}return!0}function Db(i,r,l){Fd(i)&&l.delete(r)}function sA(){lg=!1,oo!==null&&Fd(oo)&&(oo=null),lo!==null&&Fd(lo)&&(lo=null),co!==null&&Fd(co)&&(co=null),Fu.forEach(Db),Gu.forEach(Db)}function Gd(i,r){i.blockedOn===r&&(i.blockedOn=null,lg||(lg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sA)))}var Zd=null;function kb(i){Zd!==i&&(Zd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zd===i&&(Zd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(og(h||l)===null)continue;break}var b=wi(l);b!==null&&(i.splice(r,3),r-=3,ap(b,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Mc(i){function r(W){return Gd(W,i)}oo!==null&&Gd(oo,i),lo!==null&&Gd(lo,i),co!==null&&Gd(co,i),Fu.forEach(r),Gu.forEach(r);for(var l=0;l<uo.length;l++){var h=uo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<uo.length&&(l=uo[0],l.blockedOn===null);)Ob(l),l.blockedOn===null&&uo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],b=l[h+1],A=g[Jt]||null;if(typeof b=="function")A||kb(l);else if(A){var M=null;if(b&&b.hasAttribute("formAction")){if(g=b,A=b[Jt]||null)M=A.formAction;else if(og(g)!==null)continue}else M=A.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),kb(l)}}}function jb(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function cg(i){this._internalRoot=i}$d.prototype.render=cg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=ns();Nb(l,h,i,r,null,null)},$d.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Nb(i.current,2,null,i,null,null),Cd(),r[Bi]=null}};function $d(i){this._internalRoot=i}$d.prototype.unstable_scheduleHydration=function(i){if(i){var r=Fo();i={blockedOn:null,target:i,priority:r};for(var l=0;l<uo.length&&r!==0&&r<uo[l].priority;l++);uo.splice(l,0,i),l===0&&Ob(i)}};var Vb=e.version;if(Vb!=="19.2.4")throw Error(s(527,Vb,"19.2.4"));ye.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var rA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{vi=Yd.inject(rA),un=Yd}catch{}}return Yu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=Gv,b=Zv,A=$v;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=Ab(i,1,!1,null,null,l,h,null,g,b,A,jb),i[Bi]=r.current,Fp(i),new cg(r)},Yu.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",b=Gv,A=Zv,M=$v,W=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(W=l.formState)),r=Ab(i,1,!0,r,l??null,h,g,W,b,A,M,jb),r.context=Cb(null),l=r.current,h=ns(),h=Rn(h),g=Ka(h),g.callback=null,Wa(l,g,h),l=h,r.current.lanes=l,Os(r,l),Tr(r),i[Bi]=r.current,Fp(i),new $d(r)},Yu.version="19.2.4",Yu}var Yb;function mA(){if(Yb)return dg.exports;Yb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dg.exports=fA(),dg.exports}var pA=mA();var Kb="popstate";function gA(n={}){function e(o,c){let{pathname:d="/",search:y="",hash:m=""}=Bl(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Gg("",{pathname:d,search:y,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let d=o.document.querySelector("base"),y="";if(d&&d.getAttribute("href")){let m=o.location.href,v=m.indexOf("#");y=v===-1?m:m.slice(0,v)}return y+"#"+(typeof c=="string"?c:ph(c))}function s(o,c){os(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return yA(e,t,s,n)}function $t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function os(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _A(){return Math.random().toString(36).substring(2,10)}function Wb(n,e){return{usr:n.state,key:n.key,idx:e}}function Gg(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Bl(e):e,state:t,key:e&&e.key||s||_A()}}function ph({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Bl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function yA(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,y="POP",m=null,v=w();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function w(){return(d.state||{idx:null}).idx}function T(){y="POP";let D=w(),O=D==null?null:D-v;v=D,m&&m({action:y,location:z.location,delta:O})}function N(D,O){y="PUSH";let H=Gg(z.location,D,O);t&&t(H,D),v=w()+1;let Z=Wb(H,v),J=z.createHref(H);try{d.pushState(Z,"",J)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(J)}c&&m&&m({action:y,location:z.location,delta:1})}function R(D,O){y="REPLACE";let H=Gg(z.location,D,O);t&&t(H,D),v=w();let Z=Wb(H,v),J=z.createHref(H);d.replaceState(Z,"",J),c&&m&&m({action:y,location:z.location,delta:0})}function k(D){return vA(D)}let z={get action(){return y},get location(){return n(o,d)},listen(D){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Kb,T),m=D,()=>{o.removeEventListener(Kb,T),m=null}},createHref(D){return e(o,D)},createURL:k,encodeLocation(D){let O=k(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:N,replace:R,go(D){return d.go(D)}};return z}function vA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),$t(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ph(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Qw(n,e,t="/"){return bA(n,e,t,!1)}function bA(n,e,t,s){let o=typeof e=="string"?Bl(e):e,c=_a(o.pathname||"/",t);if(c==null)return null;let d=Xw(n);xA(d);let y=null;for(let m=0;y==null&&m<d.length;++m){let v=MA(c);y=IA(d[m],v,s)}return y}function Xw(n,e=[],t=[],s="",o=!1){let c=(d,y,m=o,v)=>{let w={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:y,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&m)return;$t(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let T=ga([s,w.relativePath]),N=t.concat(w);d.children&&d.children.length>0&&($t(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Xw(d.children,e,N,T,m)),!(d.path==null&&!d.index)&&e.push({path:T,score:NA(T,d.index),routesMeta:N})};return n.forEach((d,y)=>{if(d.path===""||!d.path?.includes("?"))c(d,y);else for(let m of Jw(d.path))c(d,y,!0,m)}),e}function Jw(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Jw(s.join("/")),y=[];return y.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&y.push(...d),y.map(m=>n.startsWith("/")&&m===""?"/":m)}function xA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var wA=/^:[\w-]+$/,TA=3,EA=2,SA=1,AA=10,CA=-2,Qb=n=>n==="*";function NA(n,e){let t=n.split("/"),s=t.length;return t.some(Qb)&&(s+=CA),e&&(s+=EA),t.filter(o=>!Qb(o)).reduce((o,c)=>o+(wA.test(c)?TA:c===""?SA:AA),s)}function RA(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function IA(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",d=[];for(let y=0;y<s.length;++y){let m=s[y],v=y===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",T=xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},w),N=m.route;if(!T&&v&&t&&!s[s.length-1].route.index&&(T=xf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:ga([c,T.pathname]),pathnameBase:kA(ga([c,T.pathnameBase])),route:N}),T.pathnameBase!=="/"&&(c=ga([c,T.pathnameBase]))}return d}function xf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=PA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),y=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:T},N)=>{if(w==="*"){let k=y[N]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const R=y[N];return T&&!R?v[w]=void 0:v[w]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:d,pattern:n}}function PA(n,e=!1,t=!0){os(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,y,m)=>(s.push({paramName:y,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function MA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _a(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var LA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OA(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Bl(n):n,c;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?c=Xb(t.substring(1),"/"):c=Xb(t,e)):c=e,{pathname:c,search:jA(s),hash:VA(o)}}function Xb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function C_(n){let e=DA(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function N_(n,e,t,s=!1){let o;typeof n=="string"?o=Bl(n):(o={...n},$t(!o.pathname||!o.pathname.includes("?"),gg("?","pathname","search",o)),$t(!o.pathname||!o.pathname.includes("#"),gg("#","pathname","hash",o)),$t(!o.search||!o.search.includes("#"),gg("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,y;if(d==null)y=t;else{let T=e.length-1;if(!s&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),T-=1;o.pathname=N.join("/")}y=T>=0?e[T]:"/"}let m=OA(o,y),v=d&&d!=="/"&&d.endsWith("/"),w=(c||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(v||w)&&(m.pathname+="/"),m}var ga=n=>n.join("/").replace(/\/\/+/g,"/"),kA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,zA=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function UA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function BA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var e1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function t1(n,e){let t=n;if(typeof t!="string"||!LA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(e1)try{let c=new URL(window.location.href),d=t.startsWith("//")?new URL(c.protocol+t):new URL(t),y=_a(d.pathname,e);d.origin===c.origin&&y!=null?t=y+d.search+d.hash:o=!0}catch{os(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var n1=["POST","PUT","PATCH","DELETE"];new Set(n1);var HA=["GET",...n1];new Set(HA);var Qc=U.createContext(null);Qc.displayName="DataRouter";var Xf=U.createContext(null);Xf.displayName="DataRouterState";var qA=U.createContext(!1),i1=U.createContext({isTransitioning:!1});i1.displayName="ViewTransition";var FA=U.createContext(new Map);FA.displayName="Fetchers";var GA=U.createContext(null);GA.displayName="Await";var ls=U.createContext(null);ls.displayName="Navigation";var Nh=U.createContext(null);Nh.displayName="Location";var tr=U.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var R_=U.createContext(null);R_.displayName="RouteError";var s1="REACT_ROUTER_ERROR",ZA="REDIRECT",$A="ROUTE_ERROR_RESPONSE";function YA(n){if(n.startsWith(`${s1}:${ZA}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function KA(n){if(n.startsWith(`${s1}:${$A}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new zA(e.status,e.statusText,e.data)}catch{}}function WA(n,{relative:e}={}){$t(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(ls),{hash:o,pathname:c,search:d}=Rh(n,{relative:e}),y=c;return t!=="/"&&(y=c==="/"?t:ga([t,c])),s.createHref({pathname:y,search:d,hash:o})}function Xc(){return U.useContext(Nh)!=null}function nr(){return $t(Xc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Nh).location}var r1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a1(n){U.useContext(ls).static||U.useLayoutEffect(n)}function Jc(){let{isDataRoute:n}=U.useContext(tr);return n?uC():QA()}function QA(){$t(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(Qc),{basename:e,navigator:t}=U.useContext(ls),{matches:s}=U.useContext(tr),{pathname:o}=nr(),c=JSON.stringify(C_(s)),d=U.useRef(!1);return a1(()=>{d.current=!0}),U.useCallback((m,v={})=>{if(os(d.current,r1),!d.current)return;if(typeof m=="number"){t.go(m);return}let w=N_(m,JSON.parse(c),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:ga([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,c,o,n])}U.createContext(null);function XA(){let{matches:n}=U.useContext(tr),e=n[n.length-1];return e?e.params:{}}function Rh(n,{relative:e}={}){let{matches:t}=U.useContext(tr),{pathname:s}=nr(),o=JSON.stringify(C_(t));return U.useMemo(()=>N_(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function JA(n,e){return o1(n,e)}function o1(n,e,t,s,o){$t(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(ls),{matches:d}=U.useContext(tr),y=d[d.length-1],m=y?y.params:{},v=y?y.pathname:"/",w=y?y.pathnameBase:"/",T=y&&y.route;{let H=T&&T.path||"";c1(v,!T||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let N=nr(),R;if(e){let H=typeof e=="string"?Bl(e):e;$t(w==="/"||H.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${H.pathname}" was given in the \`location\` prop.`),R=H}else R=N;let k=R.pathname||"/",z=k;if(w!=="/"){let H=w.replace(/^\//,"").split("/");z="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=Qw(n,{pathname:z});os(T||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),os(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=sC(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:ga([w,c.encodeLocation?c.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?w:ga([w,c.encodeLocation?c.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),d,t,s,o);return e&&O?U.createElement(Nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},O):O}function eC(){let n=cC(),e=UA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,d)}var tC=U.createElement(eC,null),l1=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=KA(n.digest);t&&(n=t)}let e=n!==void 0?U.createElement(tr.Provider,{value:this.props.routeContext},U.createElement(R_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?U.createElement(nC,{error:n},e):e}};l1.contextType=qA;var _g=new WeakMap;function nC({children:n,error:e}){let{basename:t}=U.useContext(ls);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=YA(e.digest);if(s){let o=_g.get(e);if(o)throw o;let c=t1(s.location,t);if(e1&&!_g.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw _g.set(e,d),d}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function iC({routeContext:n,match:e,children:t}){let s=U.useContext(Qc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(tr.Provider,{value:n},t)}function sC(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=t?.errors;if(d!=null){let w=c.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);$t(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let y=!1,m=-1;if(t)for(let w=0;w<c.length;w++){let T=c[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=w),T.route.id){let{loaderData:N,errors:R}=t,k=T.route.loader&&!N.hasOwnProperty(T.route.id)&&(!R||R[T.route.id]===void 0);if(T.route.lazy||k){y=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let v=t&&s?(w,T)=>{s(w,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:BA(t.matches),errorInfo:T})}:void 0;return c.reduceRight((w,T,N)=>{let R,k=!1,z=null,D=null;t&&(R=d&&T.route.id?d[T.route.id]:void 0,z=T.route.errorElement||tC,y&&(m<0&&N===0?(c1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,D=null):m===N&&(k=!0,D=T.route.hydrateFallbackElement||null)));let O=e.concat(c.slice(0,N+1)),H=()=>{let Z;return R?Z=z:k?Z=D:T.route.Component?Z=U.createElement(T.route.Component,null):T.route.element?Z=T.route.element:Z=w,U.createElement(iC,{match:T,routeContext:{outlet:w,matches:O,isDataRoute:t!=null},children:Z})};return t&&(T.route.ErrorBoundary||T.route.errorElement||N===0)?U.createElement(l1,{location:t.location,revalidation:t.revalidation,component:z,error:R,children:H(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:v}):H()},null)}function I_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rC(n){let e=U.useContext(Qc);return $t(e,I_(n)),e}function aC(n){let e=U.useContext(Xf);return $t(e,I_(n)),e}function oC(n){let e=U.useContext(tr);return $t(e,I_(n)),e}function P_(n){let e=oC(n),t=e.matches[e.matches.length-1];return $t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function lC(){return P_("useRouteId")}function cC(){let n=U.useContext(R_),e=aC("useRouteError"),t=P_("useRouteError");return n!==void 0?n:e.errors?.[t]}function uC(){let{router:n}=rC("useNavigate"),e=P_("useNavigate"),t=U.useRef(!1);return a1(()=>{t.current=!0}),U.useCallback(async(o,c={})=>{os(t.current,r1),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var Jb={};function c1(n,e,t){!e&&!Jb[n]&&(Jb[n]=!0,os(!1,t))}U.memo(hC);function hC({routes:n,future:e,state:t,onError:s}){return o1(n,void 0,t,s,e)}function yg({to:n,replace:e,state:t,relative:s}){$t(Xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(ls);os(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext(tr),{pathname:d}=nr(),y=Jc(),m=N_(n,C_(c),d,s==="path"),v=JSON.stringify(m);return U.useEffect(()=>{y(JSON.parse(v),{replace:e,state:t,relative:s})},[y,v,s,e,t]),null}function is(n){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dC({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){$t(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=n.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:y,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[y,o,c,d]);typeof t=="string"&&(t=Bl(t));let{pathname:v="/",search:w="",hash:T="",state:N=null,key:R="default"}=t,k=U.useMemo(()=>{let z=_a(v,y);return z==null?null:{location:{pathname:z,search:w,hash:T,state:N,key:R},navigationType:s}},[y,v,w,T,N,R,s]);return os(k!=null,`<Router basename="${y}"> is not able to match the URL "${v}${w}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:U.createElement(ls.Provider,{value:m},U.createElement(Nh.Provider,{children:e,value:k}))}function fC({children:n,location:e}){return JA(Zg(n),e)}function Zg(n,e=[]){let t=[];return U.Children.forEach(n,(s,o)=>{if(!U.isValidElement(s))return;let c=[...e,o];if(s.type===U.Fragment){t.push.apply(t,Zg(s.props.children,c));return}$t(s.type===is,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Zg(s.props.children,c)),t.push(d)}),t}var of="get",lf="application/x-www-form-urlencoded";function Jf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function mC(n){return Jf(n)&&n.tagName.toLowerCase()==="button"}function pC(n){return Jf(n)&&n.tagName.toLowerCase()==="form"}function gC(n){return Jf(n)&&n.tagName.toLowerCase()==="input"}function _C(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yC(n,e){return n.button===0&&(!e||e==="_self")&&!_C(n)}function $g(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function vC(n,e){let t=$g(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var Kd=null;function bC(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var xC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(n){return n!=null&&!xC.has(n)?(os(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):n}function wC(n,e){let t,s,o,c,d;if(pC(n)){let y=n.getAttribute("action");s=y?_a(y,e):null,t=n.getAttribute("method")||of,o=vg(n.getAttribute("enctype"))||lf,c=new FormData(n)}else if(mC(n)||gC(n)&&(n.type==="submit"||n.type==="image")){let y=n.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||y.getAttribute("action");if(s=m?_a(m,e):null,t=n.getAttribute("formmethod")||y.getAttribute("method")||of,o=vg(n.getAttribute("formenctype"))||vg(y.getAttribute("enctype"))||lf,c=new FormData(y,n),!bC()){let{name:v,type:w,value:T}=n;if(w==="image"){let N=v?`${v}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else v&&c.append(v,T)}}else{if(Jf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=of,s=null,o=lf,d=n}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function TC(n,e,t,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&_a(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function EC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AC(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await EC(c,t);return d.links?d.links():[]}return[]}));return IC(s.flat(1).filter(SC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ex(n,e,t,s,o,c){let d=(m,v)=>t[v]?m.route.id!==t[v].route.id:!0,y=(m,v)=>t[v].pathname!==m.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==m.params["*"];return c==="assets"?e.filter((m,v)=>d(m,v)||y(m,v)):c==="data"?e.filter((m,v)=>{let w=s.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(d(m,v)||y(m,v))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function CC(n,e,{includeHydrateFallback:t}={}){return NC(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function NC(n){return[...new Set(n)]}function RC(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function IC(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(RC(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function u1(){let n=U.useContext(Qc);return M_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function PC(){let n=U.useContext(Xf);return M_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var L_=U.createContext(void 0);L_.displayName="FrameworkContext";function h1(){let n=U.useContext(L_);return M_(n,"You must render this element inside a <HydratedRouter> element"),n}function MC(n,e){let t=U.useContext(L_),[s,o]=U.useState(!1),[c,d]=U.useState(!1),{onFocus:y,onBlur:m,onMouseEnter:v,onMouseLeave:w,onTouchStart:T}=e,N=U.useRef(null);U.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let z=O=>{O.forEach(H=>{d(H.isIntersecting)})},D=new IntersectionObserver(z,{threshold:.5});return N.current&&D.observe(N.current),()=>{D.disconnect()}}},[n]),U.useEffect(()=>{if(s){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[s]);let R=()=>{o(!0)},k=()=>{o(!1),d(!1)};return t?n!=="intent"?[c,N,{}]:[c,N,{onFocus:Ku(y,R),onBlur:Ku(m,k),onMouseEnter:Ku(v,R),onMouseLeave:Ku(w,k),onTouchStart:Ku(T,R)}]:[!1,N,{}]}function Ku(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function LC({page:n,...e}){let{router:t}=u1(),s=U.useMemo(()=>Qw(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?U.createElement(DC,{page:n,matches:s,...e}):null}function OC(n){let{manifest:e,routeModules:t}=h1(),[s,o]=U.useState([]);return U.useEffect(()=>{let c=!1;return AC(n,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[n,e,t]),s}function DC({page:n,matches:e,...t}){let s=nr(),{future:o,manifest:c,routeModules:d}=h1(),{basename:y}=u1(),{loaderData:m,matches:v}=PC(),w=U.useMemo(()=>ex(n,e,v,c,s,"data"),[n,e,v,c,s]),T=U.useMemo(()=>ex(n,e,v,c,s,"assets"),[n,e,v,c,s]),N=U.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let z=new Set,D=!1;if(e.forEach(H=>{let Z=c.routes[H.route.id];!Z||!Z.hasLoader||(!w.some(J=>J.route.id===H.route.id)&&H.route.id in m&&d[H.route.id]?.shouldRevalidate||Z.hasClientLoader?D=!0:z.add(H.route.id))}),z.size===0)return[];let O=TC(n,y,o.unstable_trailingSlashAwareDataRequests,"data");return D&&z.size>0&&O.searchParams.set("_routes",e.filter(H=>z.has(H.route.id)).map(H=>H.route.id).join(",")),[O.pathname+O.search]},[y,o.unstable_trailingSlashAwareDataRequests,m,s,c,w,e,n,d]),R=U.useMemo(()=>CC(T,c),[T,c]),k=OC(T);return U.createElement(U.Fragment,null,N.map(z=>U.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),R.map(z=>U.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),k.map(({key:z,link:D})=>U.createElement("link",{key:z,nonce:t.nonce,...D,crossOrigin:D.crossOrigin??t.crossOrigin})))}function kC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jC&&(window.__reactRouterVersion="7.13.0")}catch{}function VC({basename:n,children:e,unstable_useTransitions:t,window:s}){let o=U.useRef();o.current==null&&(o.current=gA({window:s,v5Compat:!0}));let c=o.current,[d,y]=U.useState({action:c.action,location:c.location}),m=U.useCallback(v=>{t===!1?y(v):U.startTransition(()=>y(v))},[t]);return U.useLayoutEffect(()=>c.listen(m),[c,m]),U.createElement(dC,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:t})}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:y,target:m,to:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:N,...R},k){let{basename:z,unstable_useTransitions:D}=U.useContext(ls),O=typeof v=="string"&&d1.test(v),H=t1(v,z);v=H.to;let Z=WA(v,{relative:o}),[J,te,fe]=MC(s,R),V=HC(v,{replace:d,state:y,target:m,preventScrollReset:w,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:N,unstable_useTransitions:D});function I(F){e&&e(F),F.defaultPrevented||V(F)}let q=U.createElement("a",{...R,...fe,href:H.absoluteURL||Z,onClick:H.isExternal||c?e:I,ref:kC(k,te),target:m,"data-discover":!O&&t==="render"?"true":void 0});return J&&!O?U.createElement(U.Fragment,null,q,U.createElement(LC,{page:Z})):q});an.displayName="Link";var zC=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:y,children:m,...v},w){let T=Rh(d,{relative:v.relative}),N=nr(),R=U.useContext(Xf),{navigator:k,basename:z}=U.useContext(ls),D=R!=null&&YC(T)&&y===!0,O=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,H=N.pathname,Z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(H=H.toLowerCase(),Z=Z?Z.toLowerCase():null,O=O.toLowerCase()),Z&&z&&(Z=_a(Z,z)||Z);const J=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let te=H===O||!o&&H.startsWith(O)&&H.charAt(J)==="/",fe=Z!=null&&(Z===O||!o&&Z.startsWith(O)&&Z.charAt(O.length)==="/"),V={isActive:te,isPending:fe,isTransitioning:D},I=te?e:void 0,q;typeof s=="function"?q=s(V):q=[s,te?"active":null,fe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let F=typeof c=="function"?c(V):c;return U.createElement(an,{...v,"aria-current":I,className:q,ref:w,style:F,to:d,viewTransition:y},typeof m=="function"?m(V):m)});zC.displayName="NavLink";var UC=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:d=of,action:y,onSubmit:m,relative:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:N,...R},k)=>{let{unstable_useTransitions:z}=U.useContext(ls),D=ZC(),O=$C(y,{relative:v}),H=d.toLowerCase()==="get"?"get":"post",Z=typeof y=="string"&&d1.test(y),J=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let fe=te.nativeEvent.submitter,V=fe?.getAttribute("formmethod")||d,I=()=>D(fe||te.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:o,state:c,relative:v,preventScrollReset:w,viewTransition:T,unstable_defaultShouldRevalidate:N});z&&t!==!1?U.startTransition(()=>I()):I()};return U.createElement("form",{ref:k,method:H,action:O,onSubmit:s?m:J,...R,"data-discover":!Z&&n==="render"?"true":void 0})});UC.displayName="Form";function BC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f1(n){let e=U.useContext(Qc);return $t(e,BC(n)),e}function HC(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:y,unstable_useTransitions:m}={}){let v=Jc(),w=nr(),T=Rh(n,{relative:c});return U.useCallback(N=>{if(yC(N,e)){N.preventDefault();let R=t!==void 0?t:ph(w)===ph(T),k=()=>v(n,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:y});m?U.startTransition(()=>k()):k()}},[w,v,T,t,s,e,n,o,c,d,y,m])}function qC(n){os(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=U.useRef($g(n)),t=U.useRef(!1),s=nr(),o=U.useMemo(()=>vC(s.search,t.current?null:e.current),[s.search]),c=Jc(),d=U.useCallback((y,m)=>{const v=$g(typeof y=="function"?y(new URLSearchParams(o)):y);t.current=!0,c("?"+v,m)},[c,o]);return[o,d]}var FC=0,GC=()=>`__${String(++FC)}__`;function ZC(){let{router:n}=f1("useSubmit"),{basename:e}=U.useContext(ls),t=lC(),s=n.fetch,o=n.navigate;return U.useCallback(async(c,d={})=>{let{action:y,method:m,encType:v,formData:w,body:T}=wC(c,e);if(d.navigate===!1){let N=d.fetcherKey||GC();await s(N,t,d.action||y,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:T,formMethod:d.method||m,formEncType:d.encType||v,flushSync:d.flushSync})}else await o(d.action||y,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:T,formMethod:d.method||m,formEncType:d.encType||v,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,t])}function $C(n,{relative:e}={}){let{basename:t}=U.useContext(ls),s=U.useContext(tr);$t(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Rh(n||".",{relative:e})},d=nr();if(n==null){c.search=d.search;let y=new URLSearchParams(c.search),m=y.getAll("index");if(m.some(w=>w==="")){y.delete("index"),m.filter(T=>T).forEach(T=>y.append("index",T));let w=y.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:ga([t,c.pathname])),ph(c)}function YC(n,{relative:e}={}){let t=U.useContext(i1);$t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=f1("useViewTransitionState"),o=Rh(n,{relative:e});if(!t.isTransitioning)return!1;let c=_a(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=_a(t.nextLocation.pathname,s)||t.nextLocation.pathname;return xf(o.pathname,d)!=null||xf(o.pathname,c)!=null}Ww();const KC=()=>{};var tx={};const m1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],d=n[t++],y=n[t++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=n[t++],d=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],d=o+1<n.length,y=d?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,w=c>>2,T=(c&3)<<4|y>>4;let N=(y&15)<<2|v>>6,R=v&63;m||(R=64,d||(N=64)),s.push(t[w],t[T],t[N],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(m1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],y=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||y==null||v==null||T==null)throw new QC;const N=c<<2|y>>4;if(s.push(N),v!==64){const R=y<<4&240|v>>2;if(s.push(R),T!==64){const k=v<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XC=function(n){const e=m1(n);return p1.encodeByteArray(e,!0)},wf=function(n){return XC(n).replace(/\./g,"")},g1=function(n){try{return p1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eN=()=>JC().__FIREBASE_DEFAULTS__,tN=()=>{if(typeof process>"u"||typeof tx>"u")return;const n=tx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&g1(n[1]);return e&&JSON.parse(e)},em=()=>{try{return KC()||eN()||tN()||nN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_1=n=>em()?.emulatorHosts?.[n],y1=n=>{const e=_1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},v1=()=>em()?.config,b1=n=>em()?.[`_${n}`];class iN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Oo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O_(n){return(await fetch(n,{credentials:"include"})).ok}function x1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wf(JSON.stringify(t)),wf(JSON.stringify(d)),""].join(".")}const ah={};function sN(){const n={prod:[],emulator:[]};for(const e of Object.keys(ah))ah[e]?n.emulator.push(e):n.prod.push(e);return n}function rN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nx=!1;function D_(n,e){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||ah[n]===e||ah[n]||nx)return;ah[n]=e;function t(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=sN().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function y(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function m(N,R){N.setAttribute("width","24"),N.setAttribute("id",R),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{nx=!0,d()},N}function w(N,R){N.setAttribute("id",R),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function T(){const N=rN(s),R=t("text"),k=document.getElementById(R)||document.createElement("span"),z=t("learnmore"),D=document.getElementById(z)||document.createElement("a"),O=t("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Z=N.element;y(Z),w(D,z);const J=v();m(H,O),Z.append(H,k,D,J),document.body.appendChild(Z)}c?(k.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function oN(){const n=em()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hN(){const n=si();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dN(){return!oN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fN(){try{return typeof indexedDB=="object"}catch{return!1}}function mN(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const pN="FirebaseError";class jr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=pN,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?gN(c,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new jr(o,y,s)}}function gN(n,e){return n.replace(_N,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _N=/\{\$([^}]+)}/g;function yN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pl(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],d=e[o];if(ix(c)&&ix(d)){if(!Pl(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ix(n){return n!==null&&typeof n=="object"}function Ph(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function eh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function vN(n,e){const t=new bN(n,e);return t.subscribe.bind(t)}class bN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");xN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=bg),o.error===void 0&&(o.error=bg),o.complete===void 0&&(o.complete=bg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bg(){}function kt(n){return n&&n._delegate?n._delegate:n}class Co{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const El="[DEFAULT]";class wN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new iN;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EN(e))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=El){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=El){return this.instances.has(e)}getOptions(e=El){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);s===y&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TN(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=El){return this.component?this.component.multipleInstances?e:El:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TN(n){return n===El?void 0:n}function EN(n){return n.instantiationMode==="EAGER"}class SN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const AN={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},CN=ft.INFO,NN={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},RN=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=NN[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k_{constructor(e){this.name=e,this._logLevel=CN,this._logHandler=RN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const IN=(n,e)=>e.some(t=>n instanceof t);let sx,rx;function PN(){return sx||(sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MN(){return rx||(rx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w1=new WeakMap,Yg=new WeakMap,T1=new WeakMap,xg=new WeakMap,j_=new WeakMap;function LN(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{t(To(n.result)),o()},d=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&w1.set(t,n)}).catch(()=>{}),j_.set(e,n),e}function ON(n){if(Yg.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});Yg.set(n,e)}let Kg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||T1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return To(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DN(n){Kg=n(Kg)}function kN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(wg(this),e,...t);return T1.set(s,e.sort?e.sort():[e]),To(s)}:MN().includes(n)?function(...e){return n.apply(wg(this),e),To(w1.get(this))}:function(...e){return To(n.apply(wg(this),e))}}function jN(n){return typeof n=="function"?kN(n):(n instanceof IDBTransaction&&ON(n),IN(n,PN())?new Proxy(n,Kg):n)}function To(n){if(n instanceof IDBRequest)return LN(n);if(xg.has(n))return xg.get(n);const e=jN(n);return e!==n&&(xg.set(n,e),j_.set(e,n)),e}const wg=n=>j_.get(n);function VN(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(n,e),y=To(d);return s&&d.addEventListener("upgradeneeded",m=>{s(To(d.result),m.oldVersion,m.newVersion,To(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),y.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const zN=["get","getKey","getAll","getAllKeys","count"],UN=["put","add","delete","clear"],Tg=new Map;function ax(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=UN.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zN.includes(t)))return;const c=async function(d,...y){const m=this.transaction(d,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(y.shift())),(await Promise.all([v[t](...y),o&&m.done]))[0]};return Tg.set(e,c),c}DN(n=>({...n,get:(e,t,s)=>ax(e,t)||n.get(e,t,s),has:(e,t)=>!!ax(e,t)||n.has(e,t)}));class BN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HN(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function HN(n){return n.getComponent()?.type==="VERSION"}const Wg="@firebase/app",ox="0.14.8";const ya=new k_("@firebase/app"),qN="@firebase/app-compat",FN="@firebase/analytics-compat",GN="@firebase/analytics",ZN="@firebase/app-check-compat",$N="@firebase/app-check",YN="@firebase/auth",KN="@firebase/auth-compat",WN="@firebase/database",QN="@firebase/data-connect",XN="@firebase/database-compat",JN="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",iR="@firebase/messaging",sR="@firebase/messaging-compat",rR="@firebase/performance",aR="@firebase/performance-compat",oR="@firebase/remote-config",lR="@firebase/remote-config-compat",cR="@firebase/storage",uR="@firebase/storage-compat",hR="@firebase/firestore",dR="@firebase/ai",fR="@firebase/firestore-compat",mR="firebase",pR="12.9.0";const Qg="[DEFAULT]",gR={[Wg]:"fire-core",[qN]:"fire-core-compat",[GN]:"fire-analytics",[FN]:"fire-analytics-compat",[$N]:"fire-app-check",[ZN]:"fire-app-check-compat",[YN]:"fire-auth",[KN]:"fire-auth-compat",[WN]:"fire-rtdb",[QN]:"fire-data-connect",[XN]:"fire-rtdb-compat",[JN]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[iR]:"fire-fcm",[sR]:"fire-fcm-compat",[rR]:"fire-perf",[aR]:"fire-perf-compat",[oR]:"fire-rc",[lR]:"fire-rc-compat",[cR]:"fire-gcs",[uR]:"fire-gcs-compat",[hR]:"fire-fst",[fR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};const Tf=new Map,_R=new Map,Xg=new Map;function lx(n,e){try{n.container.addComponent(e)}catch(t){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ml(n){const e=n.name;if(Xg.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,n);for(const t of Tf.values())lx(t,n);for(const t of _R.values())lx(t,n);return!0}function tm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fi(n){return n==null?!1:n.settings!==void 0}const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new Ih("app","Firebase",yR);class vR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}const Hl=pR;function E1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Qg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Eo.create("bad-app-name",{appName:String(o)});if(t||(t=v1()),!t)throw Eo.create("no-options");const c=Tf.get(o);if(c){if(Pl(t,c.options)&&Pl(s,c.config))return c;throw Eo.create("duplicate-app",{appName:o})}const d=new SN(o);for(const m of Xg.values())d.addComponent(m);const y=new vR(t,s,d);return Tf.set(o,y),y}function V_(n=Qg){const e=Tf.get(n);if(!e&&n===Qg&&v1())return E1();if(!e)throw Eo.create("no-app",{appName:n});return e}function Nr(n,e,t){let s=gR[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(d.join(" "));return}Ml(new Co(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const bR="firebase-heartbeat-database",xR=1,gh="firebase-heartbeat-store";let Eg=null;function S1(){return Eg||(Eg=VN(bR,xR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Eo.create("idb-open",{originalErrorMessage:n.message})})),Eg}async function wR(n){try{const t=(await S1()).transaction(gh),s=await t.objectStore(gh).get(A1(n));return await t.done,s}catch(e){if(e instanceof jr)ya.warn(e.message);else{const t=Eo.create("idb-get",{originalErrorMessage:e?.message});ya.warn(t.message)}}}async function cx(n,e){try{const s=(await S1()).transaction(gh,"readwrite");await s.objectStore(gh).put(e,A1(n)),await s.done}catch(t){if(t instanceof jr)ya.warn(t.message);else{const s=Eo.create("idb-set",{originalErrorMessage:t?.message});ya.warn(s.message)}}}function A1(n){return`${n.name}!${n.options.appId}`}const TR=1024,ER=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ux();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>ER){const o=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ya.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ux(),{heartbeatsToSend:t,unsentEntries:s}=AR(this._heartbeatsCache.heartbeats),o=wf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ya.warn(e),""}}}function ux(){return new Date().toISOString().substring(0,10)}function AR(n,e=TR){const t=[];let s=n.slice();for(const o of n){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),hx(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),hx(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class CR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fN()?mN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hx(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}function NR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function RR(n){Ml(new Co("platform-logger",e=>new BN(e),"PRIVATE")),Ml(new Co("heartbeat",e=>new SR(e),"PRIVATE")),Nr(Wg,ox,n),Nr(Wg,ox,"esm2020"),Nr("fire-js","")}RR("");var IR="firebase",PR="12.9.0";Nr(IR,PR,"app");function C1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MR=C1,N1=new Ih("auth","Firebase",C1());const Ef=new k_("@firebase/auth");function LR(n,...e){Ef.logLevel<=ft.WARN&&Ef.warn(`Auth (${Hl}): ${n}`,...e)}function cf(n,...e){Ef.logLevel<=ft.ERROR&&Ef.error(`Auth (${Hl}): ${n}`,...e)}function Ms(n,...e){throw U_(n,...e)}function Qs(n,...e){return U_(n,...e)}function z_(n,e,t){const s={...MR(),[e]:t};return new Ih("auth","Firebase",s).create(e,{appName:n.name})}function Rr(n){return z_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OR(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ms(n,"argument-error"),z_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function U_(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return N1.create(n,...e)}function qe(n,e,...t){if(!n)throw U_(e,...t)}function ma(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cf(e),new Error(e)}function va(n,e){n||ma(e)}function Jg(){return typeof self<"u"&&self.location?.href||""}function DR(){return dx()==="http:"||dx()==="https:"}function dx(){return typeof self<"u"&&self.location?.protocol||null}function kR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DR()||cN()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Mh{constructor(e,t){this.shortDelay=e,this.longDelay=t,va(t>e,"Short delay should be less than long delay!"),this.isMobile=aN()||uN()}get(){return kR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function B_(n,e){va(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class R1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UR=new Mh(3e4,6e4);function Ea(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ir(n,e,t,s,o={}){return I1(n,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const y=Ph({key:n.config.apiKey,...d}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:m,...c};return lN()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Oo(n.emulatorConfig.host)&&(v.credentials="include"),R1.fetch()(await P1(n,n.config.apiHost,t,y),v)})}async function I1(n,e,t){n._canInitEmulator=!1;const s={...VR,...e};try{const o=new HR(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Wd(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[m,v]=y.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(n,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Wd(n,"email-already-in-use",d);if(m==="USER_DISABLED")throw Wd(n,"user-disabled",d);const w=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw z_(n,w,v);Ms(n,w)}}catch(o){if(o instanceof jr)throw o;Ms(n,"network-request-failed",{message:String(o)})}}async function Lh(n,e,t,s,o={}){const c=await ir(n,e,t,s,o);return"mfaPendingCredential"in c&&Ms(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function P1(n,e,t,s){const o=`${e}${t}?${s}`,c=n,d=c.config.emulator?B_(n.config,o):`${n.config.apiScheme}://${o}`;return zR.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function BR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Qs(this.auth,"network-request-failed")),UR.get())})}}function Wd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Qs(n,e,s);return o.customData._tokenResponse=t,o}function fx(n){return n!==void 0&&n.enterprise!==void 0}class qR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FR(n,e){return ir(n,"GET","/v2/recaptchaConfig",Ea(n,e))}async function GR(n,e){return ir(n,"POST","/v1/accounts:delete",e)}async function Sf(n,e){return ir(n,"POST","/v1/accounts:lookup",e)}function oh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZR(n,e=!1){const t=kt(n),s=await t.getIdToken(e),o=H_(s);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:oh(Sg(o.auth_time)),issuedAtTime:oh(Sg(o.iat)),expirationTime:oh(Sg(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Sg(n){return Number(n)*1e3}function H_(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const o=g1(t);return o?JSON.parse(o):(cf("Failed to decode base64 JWT payload"),null)}catch(o){return cf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function mx(n){const e=H_(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ll(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof jr&&$R(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function $R({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class YR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class e_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=oh(this.lastLoginAt),this.creationTime=oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Af(n){const e=n.auth,t=await n.getIdToken(),s=await Ll(n,Sf(e,{idToken:t}));qe(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?M1(o.providerUserInfo):[],d=WR(n.providerData,c),y=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!d?.length,v=y?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new e_(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function KR(n){const e=kt(n);await Af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WR(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function M1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function QR(n,e){const t=await I1(n,{},async()=>{const s=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,d=await P1(n,o,"/v1/token",`key=${c}`),y=await n._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:y,body:s};return n.emulatorConfig&&Oo(n.emulatorConfig.host)&&(m.credentials="include"),R1.fetch()(d,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XR(n,e){return ir(n,"POST","/v2/accounts:revokeToken",Ea(n,e))}class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=mx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await QR(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,d=new jc;return s&&(qe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(qe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(qe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return ma("not implemented")}}function fo(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ws{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new YR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new e_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZR(this,e)}reload(){return KR(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ws({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Af(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(Rr(this.auth));const e=await this.getIdToken();return await Ll(this,GR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,y=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:T,emailVerified:N,isAnonymous:R,providerData:k,stsTokenManager:z}=t;qe(T&&z,e,"internal-error");const D=jc.fromJSON(this.name,z);qe(typeof T=="string",e,"internal-error"),fo(s,e.name),fo(o,e.name),qe(typeof N=="boolean",e,"internal-error"),qe(typeof R=="boolean",e,"internal-error"),fo(c,e.name),fo(d,e.name),fo(y,e.name),fo(m,e.name),fo(v,e.name),fo(w,e.name);const O=new Ws({uid:T,auth:e,email:o,emailVerified:N,displayName:s,isAnonymous:R,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:D,createdAt:v,lastLoginAt:w});return k&&Array.isArray(k)&&(O.providerData=k.map(H=>({...H}))),m&&(O._redirectEventId=m),O}static async _fromIdTokenResponse(e,t,s=!1){const o=new jc;o.updateFromServerResponse(t);const c=new Ws({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Af(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?M1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new jc;y.updateFromIdToken(s);const m=new Ws({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new e_(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,v),m}}const px=new Map;function pa(n){va(n instanceof Function,"Expected a class definition");let e=px.get(n);return e?(va(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,px.set(n,e),e)}class L1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}L1.type="NONE";const gx=L1;function uf(n,e,t){return`firebase:${n}:${e}:${t}`}class Vc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=uf(this.userKey,o.apiKey,c),this.fullPersistenceKey=uf("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sf(this.auth,{idToken:e}).catch(()=>{});return t?Ws._fromGetAccountInfoResponse(this.auth,t,e):null}return Ws._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Vc(pa(gx),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||pa(gx);const d=uf(s,e.config.apiKey,e.name);let y=null;for(const v of t)try{const w=await v._get(d);if(w){let T;if(typeof w=="string"){const N=await Sf(e,{idToken:w}).catch(()=>{});if(!N)break;T=await Ws._fromGetAccountInfoResponse(e,N,w)}else T=Ws._fromJSON(e,w);v!==c&&(y=T),c=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Vc(c,e,s):(c=m[0],y&&await c._set(d,y.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Vc(c,e,s))}}function _x(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z1(e))return"Blackberry";if(U1(e))return"Webos";if(D1(e))return"Safari";if((e.includes("chrome/")||k1(e))&&!e.includes("edge/"))return"Chrome";if(V1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function O1(n=si()){return/firefox\//i.test(n)}function D1(n=si()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k1(n=si()){return/crios\//i.test(n)}function j1(n=si()){return/iemobile/i.test(n)}function V1(n=si()){return/android/i.test(n)}function z1(n=si()){return/blackberry/i.test(n)}function U1(n=si()){return/webos/i.test(n)}function q_(n=si()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JR(n=si()){return q_(n)&&!!window.navigator?.standalone}function eI(){return hN()&&document.documentMode===10}function B1(n=si()){return q_(n)||V1(n)||U1(n)||z1(n)||/windows phone/i.test(n)||j1(n)}function H1(n,e=[]){let t;switch(n){case"Browser":t=_x(si());break;case"Worker":t=`${_x(si())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hl}/${s}`}class tI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,y)=>{try{const m=e(c);d(m)}catch(m){y(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nI(n,e={}){return ir(n,"GET","/v2/passwordPolicy",Ea(n,e))}const iI=6;class sI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class rI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yx(this),this.idTokenSubscription=new yx(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sf(this,{idToken:e}),s=await Ws._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Af(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(Rr(this));const t=e?kt(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nI(this),t=new sI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ih("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await XR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pa(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Vc.create(this,[pa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sa(n){return kt(n)}class yx{constructor(e){this.auth=e,this.observer=null,this.addObserver=vN(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aI(n){nm=n}function q1(n){return nm.loadJS(n)}function oI(){return nm.recaptchaEnterpriseScript}function lI(){return nm.gapiScript}function cI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uI{constructor(){this.enterprise=new hI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dI="recaptcha-enterprise",F1="NO_RECAPTCHA";class fI{constructor(e){this.type=dI,this.auth=Sa(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,y)=>{FR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const v=new qR(m);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(m=>{y(m)})})}function o(c,d,y){const m=window.grecaptcha;fx(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(F1)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(y=>{if(!t&&fx(window.grecaptcha))o(y,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=oI();m.length!==0&&(m+=y),q1(m).then(()=>{o(y,c,d)}).catch(v=>{d(v)})}}).catch(y=>{d(y)})})}}async function vx(n,e,t,s=!1,o=!1){const c=new fI(n);let d;if(o)d=F1;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const y={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const m=y.phoneEnrollmentInfo.phoneNumber,v=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const m=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return s?Object.assign(y,{captchaResp:d}):Object.assign(y,{captchaResponse:d}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function Cf(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await vx(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await vx(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}function mI(n,e){const t=tm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Pl(c,e??{}))return o;Ms(o,"already-initialized")}return t.initialize({options:e})}function pI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(pa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function gI(n,e,t){const s=Sa(n);qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=G1(e),{host:d,port:y}=_I(e),m=y===null?"":`:${y}`,v={url:`${c}//${d}${m}/`},w=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){qe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),qe(Pl(v,s.config.emulator)&&Pl(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Oo(d)?(O_(`${c}//${d}${m}`),D_("Auth",!0)):yI()}function G1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _I(n){const e=G1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:bx(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:bx(d)}}}function bx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class F_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ma("not implemented")}_getIdTokenResponse(e){return ma("not implemented")}_linkToIdToken(e,t){return ma("not implemented")}_getReauthenticationResolver(e){return ma("not implemented")}}async function vI(n,e){return ir(n,"POST","/v1/accounts:update",e)}async function bI(n,e){return ir(n,"POST","/v1/accounts:signUp",e)}async function xI(n,e){return Lh(n,"POST","/v1/accounts:signInWithPassword",Ea(n,e))}async function wI(n,e){return ir(n,"POST","/v1/accounts:sendOobCode",Ea(n,e))}async function TI(n,e){return wI(n,e)}async function EI(n,e){return Lh(n,"POST","/v1/accounts:signInWithEmailLink",Ea(n,e))}async function SI(n,e){return Lh(n,"POST","/v1/accounts:signInWithEmailLink",Ea(n,e))}class _h extends F_{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new _h(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new _h(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,t,"signInWithPassword",xI);case"emailLink":return EI(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,s,"signUpPassword",bI);case"emailLink":return SI(e,{idToken:t,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zc(n,e){return Lh(n,"POST","/v1/accounts:signInWithIdp",Ea(n,e))}const AI="http://localhost";class ba extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const d=new ba(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return zc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,zc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zc(e,t)}buildRequest(){const e={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ph(t)}return e}}function CI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NI(n){const e=Ju(eh(n)).link,t=e?Ju(eh(e)).deep_link_id:null,s=Ju(eh(n)).deep_link_id;return(s?Ju(eh(s)).link:null)||s||t||e||n}class G_{constructor(e){const t=Ju(eh(e)),s=t.apiKey??null,o=t.oobCode??null,c=CI(t.mode??null);qe(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=NI(e);try{return new G_(t)}catch{return null}}}class eu{constructor(){this.providerId=eu.PROVIDER_ID}static credential(e,t){return _h._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=G_.parseLink(t);return qe(s,"argument-error"),_h._fromEmailAndCode(e,s.code,s.tenantId)}}eu.PROVIDER_ID="password";eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Z_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends Z_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lh extends tu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return qe("providerId"in t&&"signInMethod"in t,"argument-error"),ba._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return qe(e.idToken||e.accessToken,"argument-error"),ba._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return lh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return lh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:d,providerId:y}=e;if(!s&&!o&&!t&&!c||!y)return null;try{return new lh(y)._credential({idToken:t,accessToken:s,nonce:d,pendingToken:c})}catch{return null}}}class po extends tu{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";class fa extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return fa.credential(t,s)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";class go extends tu{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.GITHUB_SIGN_IN_METHOD="github.com";go.PROVIDER_ID="github.com";class _o extends tu{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return _o.credential(t,s)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";async function RI(n,e){return Lh(n,"POST","/v1/accounts:signUp",Ea(n,e))}class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await Ws._fromIdTokenResponse(e,s,o),d=xx(s);return new Ol({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=xx(s);return new Ol({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function xx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Nf extends jr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nf(e,t,s,o)}}function Z1(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(n,c,e,s):c})}async function II(n,e,t=!1){const s=await Ll(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ol._forOperation(n,"link",s)}async function PI(n,e,t=!1){const{auth:s}=n;if(fi(s.app))return Promise.reject(Rr(s));const o="reauthenticate";try{const c=await Ll(n,Z1(s,o,e,n),t);qe(c.idToken,s,"internal-error");const d=H_(c.idToken);qe(d,s,"internal-error");const{sub:y}=d;return qe(n.uid===y,s,"user-mismatch"),Ol._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ms(s,"user-mismatch"),c}}async function $1(n,e,t=!1){if(fi(n.app))return Promise.reject(Rr(n));const s="signIn",o=await Z1(n,s,e),c=await Ol._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function MI(n,e){return $1(Sa(n),e)}async function Y1(n){const e=Sa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LI(n,e,t){const s=Sa(n);await Cf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",TI)}async function OI(n,e,t){if(fi(n.app))return Promise.reject(Rr(n));const s=Sa(n),d=await Cf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Y1(n),m}),y=await Ol._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(y.user),y}function DI(n,e,t){return fi(n.app)?Promise.reject(Rr(n)):MI(kt(n),eu.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Y1(n),s})}async function kI(n,e){return ir(n,"POST","/v1/accounts:update",e)}async function K1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=kt(n),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Ll(s,kI(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const y=s.providerData.find(({providerId:m})=>m==="password");y&&(y.displayName=s.displayName,y.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function jI(n,e){const t=kt(n);return fi(t.auth.app)?Promise.reject(Rr(t.auth)):W1(t,e,null)}function VI(n,e){return W1(kt(n),null,e)}async function W1(n,e,t){const{auth:s}=n,c={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(c.email=e),t&&(c.password=t);const d=await Ll(n,vI(s,c));await n._updateTokensIfNecessary(d,!0)}function zI(n,e,t,s){return kt(n).onIdTokenChanged(e,t,s)}function UI(n,e,t){return kt(n).beforeAuthStateChanged(e,t)}function BI(n,e,t,s){return kt(n).onAuthStateChanged(e,t,s)}function HI(n){return kt(n).signOut()}const Rf="__sak";class Q1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qI=1e3,FI=10;class X1 extends Q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,y,m)=>{this.notifyListeners(d,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);eI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},qI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}X1.type="LOCAL";const GI=X1;class J1 extends Q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}J1.type="SESSION";const eT=J1;function ZI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new im(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(d).map(async v=>v(t.origin,c)),m=await ZI(y);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];function $_(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class $I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,m)=>{const v=$_("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(T){const N=T;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(N.data.response);break;default:clearTimeout(w),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ir(){return window}function YI(n){Ir().location.href=n}function tT(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function KI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WI(){return navigator?.serviceWorker?.controller||null}function QI(){return tT()?self:null}const nT="firebaseLocalStorageDb",XI=1,If="firebaseLocalStorage",iT="fbase_key";class Oh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sm(n,e){return n.transaction([If],e?"readwrite":"readonly").objectStore(If)}function JI(){const n=indexedDB.deleteDatabase(nT);return new Oh(n).toPromise()}function t_(){const n=indexedDB.open(nT,XI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(If,{keyPath:iT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(If)?e(s):(s.close(),await JI(),e(await t_()))})})}async function wx(n,e,t){const s=sm(n,!0).put({[iT]:e,value:t});return new Oh(s).toPromise()}async function eP(n,e){const t=sm(n,!1).get(e),s=await new Oh(t).toPromise();return s===void 0?null:s.value}function Tx(n,e){const t=sm(n,!0).delete(e);return new Oh(t).toPromise()}const tP=800,nP=3;class sT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>nP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(QI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KI(),!this.activeServiceWorker)return;this.sender=new $I(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t_();return await wx(e,Rf,"1"),await Tx(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>wx(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>eP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=sm(o,!1).getAll();return new Oh(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sT.type="LOCAL";const iP=sT;new Mh(3e4,6e4);function rT(n,e){return e?pa(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Y_ extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sP(n){return $1(n.auth,new Y_(n),n.bypassAuthState)}function rP(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),PI(t,new Y_(n),n.bypassAuthState)}async function aP(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),II(t,new Y_(n),n.bypassAuthState)}class aT{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sP;case"linkViaPopup":case"linkViaRedirect":return aP;case"reauthViaPopup":case"reauthViaRedirect":return rP;default:Ms(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oP=new Mh(2e3,1e4);async function Ex(n,e,t){if(fi(n.app))return Promise.reject(Qs(n,"operation-not-supported-in-this-environment"));const s=Sa(n);OR(n,e,Z_);const o=rT(s,t);return new Sl(s,"signInViaPopup",e,o).executeNotNull()}class Sl extends aT{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Sl.currentPopupAction&&Sl.currentPopupAction.cancel(),Sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=$_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oP.get())};e()}}Sl.currentPopupAction=null;const lP="pendingRedirect",hf=new Map;class cP extends aT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const s=await uP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uP(n,e){const t=fP(e),s=dP(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function hP(n,e){hf.set(n._key(),e)}function dP(n){return pa(n._redirectPersistence)}function fP(n){return uf(lP,n.config.apiKey,n.name)}async function mP(n,e,t=!1){if(fi(n.app))return Promise.reject(Rr(n));const s=Sa(n),o=rT(s,e),d=await new cP(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const pP=600*1e3;class gP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_P(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!oT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Qs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sx(e))}saveEventToCache(e){this.cachedEventUids.add(Sx(e)),this.lastProcessedEventTime=Date.now()}}function Sx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function _P(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oT(n);default:return!1}}async function yP(n,e={}){return ir(n,"GET","/v1/projects",e)}const vP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bP=/^https?/;async function xP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yP(n);for(const t of e)try{if(wP(t))return}catch{}Ms(n,"unauthorized-domain")}function wP(n){const e=Jg(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!bP.test(t))return!1;if(vP.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const TP=new Mh(3e4,6e4);function Ax(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EP(n){return new Promise((e,t)=>{function s(){Ax(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ax(),t(Qs(n,"network-request-failed"))},timeout:TP.get()})}if(Ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ir().gapi?.load)s();else{const o=cI("iframefcb");return Ir()[o]=()=>{gapi.load?s():t(Qs(n,"network-request-failed"))},q1(`${lI()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw df=null,e})}let df=null;function SP(n){return df=df||EP(n),df}const AP=new Mh(5e3,15e3),CP="__/auth/iframe",NP="emulator/auth/iframe",RP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PP(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?B_(e,NP):`https://${n.config.authDomain}/${CP}`,s={apiKey:e.apiKey,appName:n.name,v:Hl},o=IP.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Ph(s).slice(1)}`}async function MP(n){const e=await SP(n),t=Ir().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:PP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RP,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=Qs(n,"network-request-failed"),y=Ir().setTimeout(()=>{c(d)},AP.get());function m(){Ir().clearTimeout(y),o(s)}s.ping(m).then(m,()=>{c(d)})}))}const LP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OP=500,DP=600,kP="_blank",jP="http://localhost";class Cx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VP(n,e,t,s=OP,o=DP){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const m={...LP,width:s.toString(),height:o.toString(),top:c,left:d},v=si().toLowerCase();t&&(y=k1(v)?kP:t),O1(v)&&(e=e||jP,m.scrollbars="yes");const w=Object.entries(m).reduce((N,[R,k])=>`${N}${R}=${k},`,"");if(JR(v)&&y!=="_self")return zP(e||"",y),new Cx(null);const T=window.open(e||"",y,w);qe(T,n,"popup-blocked");try{T.focus()}catch{}return new Cx(T)}function zP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const UP="__/auth/handler",BP="emulator/auth/handler",HP=encodeURIComponent("fac");async function Nx(n,e,t,s,o,c){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Hl,eventId:o};if(e instanceof Z_){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",yN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))d[w]=T}if(e instanceof tu){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const y=d;for(const w of Object.keys(y))y[w]===void 0&&delete y[w];const m=await n._getAppCheckToken(),v=m?`#${HP}=${encodeURIComponent(m)}`:"";return`${qP(n)}?${Ph(y).slice(1)}${v}`}function qP({config:n}){return n.emulator?B_(n,BP):`https://${n.authDomain}/${UP}`}const Ag="webStorageSupport";class FP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eT,this._completeRedirectFn=mP,this._overrideRedirectResult=hP}async _openPopup(e,t,s,o){va(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Nx(e,t,s,Jg(),o);return VP(e,c,$_())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Nx(e,t,s,Jg(),o);return YI(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(va(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await MP(e),s=new gP(e);return t.register("authEvent",o=>(qe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ag,{type:Ag},o=>{const c=o?.[0]?.[Ag];c!==void 0&&t(!!c),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return B1()||D1()||q_()}}const GP=FP;var Rx="@firebase/auth",Ix="1.12.0";class ZP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $P(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YP(n){Ml(new Co("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=s.options;qe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:y,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H1(n)},v=new rI(s,o,c,m);return pI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ml(new Co("auth-internal",e=>{const t=Sa(e.getProvider("auth").getImmediate());return(s=>new ZP(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(Rx,Ix,$P(n)),Nr(Rx,Ix,"esm2020")}const KP=300,WP=b1("authIdTokenMaxAge")||KP;let Px=null;const QP=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>WP)return;const o=t?.token;Px!==o&&(Px=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XP(n=V_()){const e=tm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mI(n,{popupRedirectResolver:GP,persistence:[iP,GI,eT]}),s=b1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=QP(c.toString());UI(t,d,()=>d(t.currentUser)),zI(t,y=>d(y))}}const o=_1("auth");return o&&gI(t,`http://${o}`),t}function JP(){return document.getElementsByTagName("head")?.[0]??document}aI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=Qs("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",JP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YP("Browser");var Mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var So,lT;(function(){var n;function e(V,I){function q(){}q.prototype=I.prototype,V.F=I.prototype,V.prototype=new q,V.prototype.constructor=V,V.D=function(F,B,$){for(var G=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)G[ge-2]=arguments[ge];return I.prototype[B].apply(F,G)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,I,q){q||(q=0);const F=Array(16);if(typeof I=="string")for(var B=0;B<16;++B)F[B]=I.charCodeAt(q++)|I.charCodeAt(q++)<<8|I.charCodeAt(q++)<<16|I.charCodeAt(q++)<<24;else for(B=0;B<16;++B)F[B]=I[q++]|I[q++]<<8|I[q++]<<16|I[q++]<<24;I=V.g[0],q=V.g[1],B=V.g[2];let $=V.g[3],G;G=I+($^q&(B^$))+F[0]+3614090360&4294967295,I=q+(G<<7&4294967295|G>>>25),G=$+(B^I&(q^B))+F[1]+3905402710&4294967295,$=I+(G<<12&4294967295|G>>>20),G=B+(q^$&(I^q))+F[2]+606105819&4294967295,B=$+(G<<17&4294967295|G>>>15),G=q+(I^B&($^I))+F[3]+3250441966&4294967295,q=B+(G<<22&4294967295|G>>>10),G=I+($^q&(B^$))+F[4]+4118548399&4294967295,I=q+(G<<7&4294967295|G>>>25),G=$+(B^I&(q^B))+F[5]+1200080426&4294967295,$=I+(G<<12&4294967295|G>>>20),G=B+(q^$&(I^q))+F[6]+2821735955&4294967295,B=$+(G<<17&4294967295|G>>>15),G=q+(I^B&($^I))+F[7]+4249261313&4294967295,q=B+(G<<22&4294967295|G>>>10),G=I+($^q&(B^$))+F[8]+1770035416&4294967295,I=q+(G<<7&4294967295|G>>>25),G=$+(B^I&(q^B))+F[9]+2336552879&4294967295,$=I+(G<<12&4294967295|G>>>20),G=B+(q^$&(I^q))+F[10]+4294925233&4294967295,B=$+(G<<17&4294967295|G>>>15),G=q+(I^B&($^I))+F[11]+2304563134&4294967295,q=B+(G<<22&4294967295|G>>>10),G=I+($^q&(B^$))+F[12]+1804603682&4294967295,I=q+(G<<7&4294967295|G>>>25),G=$+(B^I&(q^B))+F[13]+4254626195&4294967295,$=I+(G<<12&4294967295|G>>>20),G=B+(q^$&(I^q))+F[14]+2792965006&4294967295,B=$+(G<<17&4294967295|G>>>15),G=q+(I^B&($^I))+F[15]+1236535329&4294967295,q=B+(G<<22&4294967295|G>>>10),G=I+(B^$&(q^B))+F[1]+4129170786&4294967295,I=q+(G<<5&4294967295|G>>>27),G=$+(q^B&(I^q))+F[6]+3225465664&4294967295,$=I+(G<<9&4294967295|G>>>23),G=B+(I^q&($^I))+F[11]+643717713&4294967295,B=$+(G<<14&4294967295|G>>>18),G=q+($^I&(B^$))+F[0]+3921069994&4294967295,q=B+(G<<20&4294967295|G>>>12),G=I+(B^$&(q^B))+F[5]+3593408605&4294967295,I=q+(G<<5&4294967295|G>>>27),G=$+(q^B&(I^q))+F[10]+38016083&4294967295,$=I+(G<<9&4294967295|G>>>23),G=B+(I^q&($^I))+F[15]+3634488961&4294967295,B=$+(G<<14&4294967295|G>>>18),G=q+($^I&(B^$))+F[4]+3889429448&4294967295,q=B+(G<<20&4294967295|G>>>12),G=I+(B^$&(q^B))+F[9]+568446438&4294967295,I=q+(G<<5&4294967295|G>>>27),G=$+(q^B&(I^q))+F[14]+3275163606&4294967295,$=I+(G<<9&4294967295|G>>>23),G=B+(I^q&($^I))+F[3]+4107603335&4294967295,B=$+(G<<14&4294967295|G>>>18),G=q+($^I&(B^$))+F[8]+1163531501&4294967295,q=B+(G<<20&4294967295|G>>>12),G=I+(B^$&(q^B))+F[13]+2850285829&4294967295,I=q+(G<<5&4294967295|G>>>27),G=$+(q^B&(I^q))+F[2]+4243563512&4294967295,$=I+(G<<9&4294967295|G>>>23),G=B+(I^q&($^I))+F[7]+1735328473&4294967295,B=$+(G<<14&4294967295|G>>>18),G=q+($^I&(B^$))+F[12]+2368359562&4294967295,q=B+(G<<20&4294967295|G>>>12),G=I+(q^B^$)+F[5]+4294588738&4294967295,I=q+(G<<4&4294967295|G>>>28),G=$+(I^q^B)+F[8]+2272392833&4294967295,$=I+(G<<11&4294967295|G>>>21),G=B+($^I^q)+F[11]+1839030562&4294967295,B=$+(G<<16&4294967295|G>>>16),G=q+(B^$^I)+F[14]+4259657740&4294967295,q=B+(G<<23&4294967295|G>>>9),G=I+(q^B^$)+F[1]+2763975236&4294967295,I=q+(G<<4&4294967295|G>>>28),G=$+(I^q^B)+F[4]+1272893353&4294967295,$=I+(G<<11&4294967295|G>>>21),G=B+($^I^q)+F[7]+4139469664&4294967295,B=$+(G<<16&4294967295|G>>>16),G=q+(B^$^I)+F[10]+3200236656&4294967295,q=B+(G<<23&4294967295|G>>>9),G=I+(q^B^$)+F[13]+681279174&4294967295,I=q+(G<<4&4294967295|G>>>28),G=$+(I^q^B)+F[0]+3936430074&4294967295,$=I+(G<<11&4294967295|G>>>21),G=B+($^I^q)+F[3]+3572445317&4294967295,B=$+(G<<16&4294967295|G>>>16),G=q+(B^$^I)+F[6]+76029189&4294967295,q=B+(G<<23&4294967295|G>>>9),G=I+(q^B^$)+F[9]+3654602809&4294967295,I=q+(G<<4&4294967295|G>>>28),G=$+(I^q^B)+F[12]+3873151461&4294967295,$=I+(G<<11&4294967295|G>>>21),G=B+($^I^q)+F[15]+530742520&4294967295,B=$+(G<<16&4294967295|G>>>16),G=q+(B^$^I)+F[2]+3299628645&4294967295,q=B+(G<<23&4294967295|G>>>9),G=I+(B^(q|~$))+F[0]+4096336452&4294967295,I=q+(G<<6&4294967295|G>>>26),G=$+(q^(I|~B))+F[7]+1126891415&4294967295,$=I+(G<<10&4294967295|G>>>22),G=B+(I^($|~q))+F[14]+2878612391&4294967295,B=$+(G<<15&4294967295|G>>>17),G=q+($^(B|~I))+F[5]+4237533241&4294967295,q=B+(G<<21&4294967295|G>>>11),G=I+(B^(q|~$))+F[12]+1700485571&4294967295,I=q+(G<<6&4294967295|G>>>26),G=$+(q^(I|~B))+F[3]+2399980690&4294967295,$=I+(G<<10&4294967295|G>>>22),G=B+(I^($|~q))+F[10]+4293915773&4294967295,B=$+(G<<15&4294967295|G>>>17),G=q+($^(B|~I))+F[1]+2240044497&4294967295,q=B+(G<<21&4294967295|G>>>11),G=I+(B^(q|~$))+F[8]+1873313359&4294967295,I=q+(G<<6&4294967295|G>>>26),G=$+(q^(I|~B))+F[15]+4264355552&4294967295,$=I+(G<<10&4294967295|G>>>22),G=B+(I^($|~q))+F[6]+2734768916&4294967295,B=$+(G<<15&4294967295|G>>>17),G=q+($^(B|~I))+F[13]+1309151649&4294967295,q=B+(G<<21&4294967295|G>>>11),G=I+(B^(q|~$))+F[4]+4149444226&4294967295,I=q+(G<<6&4294967295|G>>>26),G=$+(q^(I|~B))+F[11]+3174756917&4294967295,$=I+(G<<10&4294967295|G>>>22),G=B+(I^($|~q))+F[2]+718787259&4294967295,B=$+(G<<15&4294967295|G>>>17),G=q+($^(B|~I))+F[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(B+(G<<21&4294967295|G>>>11))&4294967295,V.g[2]=V.g[2]+B&4294967295,V.g[3]=V.g[3]+$&4294967295}s.prototype.v=function(V,I){I===void 0&&(I=V.length);const q=I-this.blockSize,F=this.C;let B=this.h,$=0;for(;$<I;){if(B==0)for(;$<=q;)o(this,V,$),$+=this.blockSize;if(typeof V=="string"){for(;$<I;)if(F[B++]=V.charCodeAt($++),B==this.blockSize){o(this,F),B=0;break}}else for(;$<I;)if(F[B++]=V[$++],B==this.blockSize){o(this,F),B=0;break}}this.h=B,this.o+=I},s.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;I=this.o*8;for(var q=V.length-8;q<V.length;++q)V[q]=I&255,I/=256;for(this.v(V),V=Array(16),I=0,q=0;q<4;++q)for(let F=0;F<32;F+=8)V[I++]=this.g[q]>>>F&255;return V};function c(V,I){var q=y;return Object.prototype.hasOwnProperty.call(q,V)?q[V]:q[V]=I(V)}function d(V,I){this.h=I;const q=[];let F=!0;for(let B=V.length-1;B>=0;B--){const $=V[B]|0;F&&$==I||(q[B]=$,F=!1)}this.g=q}var y={};function m(V){return-128<=V&&V<128?c(V,function(I){return new d([I|0],I<0?-1:0)}):new d([V|0],V<0?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return T;if(V<0)return D(v(-V));const I=[];let q=1;for(let F=0;V>=q;F++)I[F]=V/q|0,q*=4294967296;return new d(I,0)}function w(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return D(w(V.substring(1),I));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const q=v(Math.pow(I,8));let F=T;for(let $=0;$<V.length;$+=8){var B=Math.min(8,V.length-$);const G=parseInt(V.substring($,$+B),I);B<8?(B=v(Math.pow(I,B)),F=F.j(B).add(v(G))):(F=F.j(q),F=F.add(v(G)))}return F}var T=m(0),N=m(1),R=m(16777216);n=d.prototype,n.m=function(){if(z(this))return-D(this).m();let V=0,I=1;for(let q=0;q<this.g.length;q++){const F=this.i(q);V+=(F>=0?F:4294967296+F)*I,I*=4294967296}return V},n.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(k(this))return"0";if(z(this))return"-"+D(this).toString(V);const I=v(Math.pow(V,6));var q=this;let F="";for(;;){const B=J(q,I).g;q=O(q,B.j(I));let $=((q.g.length>0?q.g[0]:q.h)>>>0).toString(V);if(q=B,k(q))return $+F;for(;$.length<6;)$="0"+$;F=$+F}},n.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function k(V){if(V.h!=0)return!1;for(let I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function z(V){return V.h==-1}n.l=function(V){return V=O(this,V),z(V)?-1:k(V)?0:1};function D(V){const I=V.g.length,q=[];for(let F=0;F<I;F++)q[F]=~V.g[F];return new d(q,~V.h).add(N)}n.abs=function(){return z(this)?D(this):this},n.add=function(V){const I=Math.max(this.g.length,V.g.length),q=[];let F=0;for(let B=0;B<=I;B++){let $=F+(this.i(B)&65535)+(V.i(B)&65535),G=($>>>16)+(this.i(B)>>>16)+(V.i(B)>>>16);F=G>>>16,$&=65535,G&=65535,q[B]=G<<16|$}return new d(q,q[q.length-1]&-2147483648?-1:0)};function O(V,I){return V.add(D(I))}n.j=function(V){if(k(this)||k(V))return T;if(z(this))return z(V)?D(this).j(D(V)):D(D(this).j(V));if(z(V))return D(this.j(D(V)));if(this.l(R)<0&&V.l(R)<0)return v(this.m()*V.m());const I=this.g.length+V.g.length,q=[];for(var F=0;F<2*I;F++)q[F]=0;for(F=0;F<this.g.length;F++)for(let B=0;B<V.g.length;B++){const $=this.i(F)>>>16,G=this.i(F)&65535,ge=V.i(B)>>>16,_e=V.i(B)&65535;q[2*F+2*B]+=G*_e,H(q,2*F+2*B),q[2*F+2*B+1]+=$*_e,H(q,2*F+2*B+1),q[2*F+2*B+1]+=G*ge,H(q,2*F+2*B+1),q[2*F+2*B+2]+=$*ge,H(q,2*F+2*B+2)}for(V=0;V<I;V++)q[V]=q[2*V+1]<<16|q[2*V];for(V=I;V<2*I;V++)q[V]=0;return new d(q,0)};function H(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function Z(V,I){this.g=V,this.h=I}function J(V,I){if(k(I))throw Error("division by zero");if(k(V))return new Z(T,T);if(z(V))return I=J(D(V),I),new Z(D(I.g),D(I.h));if(z(I))return I=J(V,D(I)),new Z(D(I.g),I.h);if(V.g.length>30){if(z(V)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var q=N,F=I;F.l(V)<=0;)q=te(q),F=te(F);var B=fe(q,1),$=fe(F,1);for(F=fe(F,2),q=fe(q,2);!k(F);){var G=$.add(F);G.l(V)<=0&&(B=B.add(q),$=G),F=fe(F,1),q=fe(q,1)}return I=O(V,B.j(I)),new Z(B,I)}for(B=T;V.l(I)>=0;){for(q=Math.max(1,Math.floor(V.m()/I.m())),F=Math.ceil(Math.log(q)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),$=v(q),G=$.j(I);z(G)||G.l(V)>0;)q-=F,$=v(q),G=$.j(I);k($)&&($=N),B=B.add($),V=O(V,G)}return new Z(B,V)}n.B=function(V){return J(this,V).h},n.and=function(V){const I=Math.max(this.g.length,V.g.length),q=[];for(let F=0;F<I;F++)q[F]=this.i(F)&V.i(F);return new d(q,this.h&V.h)},n.or=function(V){const I=Math.max(this.g.length,V.g.length),q=[];for(let F=0;F<I;F++)q[F]=this.i(F)|V.i(F);return new d(q,this.h|V.h)},n.xor=function(V){const I=Math.max(this.g.length,V.g.length),q=[];for(let F=0;F<I;F++)q[F]=this.i(F)^V.i(F);return new d(q,this.h^V.h)};function te(V){const I=V.g.length+1,q=[];for(let F=0;F<I;F++)q[F]=V.i(F)<<1|V.i(F-1)>>>31;return new d(q,V.h)}function fe(V,I){const q=I>>5;I%=32;const F=V.g.length-q,B=[];for(let $=0;$<F;$++)B[$]=I>0?V.i($+q)>>>I|V.i($+q+1)<<32-I:V.i($+q);return new d(B,V.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,So=d}).apply(typeof Mx<"u"?Mx:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cT,th,uT,ff,n_,hT,dT,fT;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var E=0;E<f.length;++E){var C=f[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=t(this);function o(f,E){if(E)e:{var C=s;f=f.split(".");for(var j=0;j<f.length-1;j++){var se=f[j];if(!(se in C))break e;C=C[se]}f=f[f.length-1],j=C[f],E=E(j),E!=j&&E!=null&&e(C,f,{configurable:!0,writable:!0,value:E})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(E){var C=[],j;for(j in E)Object.prototype.hasOwnProperty.call(E,j)&&C.push([j,E[j]]);return C}});var c=c||{},d=this||self;function y(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function m(f,E,C){return f.call.apply(f.bind,arguments)}function v(f,E,C){return v=m,v.apply(null,arguments)}function w(f,E){var C=Array.prototype.slice.call(arguments,1);return function(){var j=C.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function T(f,E){function C(){}C.prototype=E.prototype,f.Z=E.prototype,f.prototype=new C,f.prototype.constructor=f,f.Ob=function(j,se,ce){for(var Ce=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Ce[$e-2]=arguments[$e];return E.prototype[se].apply(j,Ce)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function R(f){const E=f.length;if(E>0){const C=Array(E);for(let j=0;j<E;j++)C[j]=f[j];return C}return[]}function k(f,E){for(let j=1;j<arguments.length;j++){const se=arguments[j];var C=typeof se;if(C=C!="object"?C:se?Array.isArray(se)?"array":C:"null",C=="array"||C=="object"&&typeof se.length=="number"){C=f.length||0;const ce=se.length||0;f.length=C+ce;for(let Ce=0;Ce<ce;Ce++)f[C+Ce]=se[Ce]}else f.push(se)}}class z{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function D(f){d.setTimeout(()=>{throw f},0)}function O(){var f=V;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class H{constructor(){this.h=this.g=null}add(E,C){const j=Z.get();j.set(E,C),this.h?this.h.next=j:this.g=j,this.h=j}}var Z=new z(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let te,fe=!1,V=new H,I=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(q)}};function q(){for(var f;f=O();){try{f.h.call(f.g)}catch(C){D(C)}var E=Z;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}fe=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};d.addEventListener("test",C,E),d.removeEventListener("test",C,E)}catch{}return f})();function G(f){return/^[\s\xa0]*$/.test(f)}function ge(f,E){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}T(ge,B),ge.prototype.init=function(f,E){const C=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(C=="mouseover"?E=f.fromElement:C=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),X=0;function ye(f,E,C,j,se){this.listener=f,this.proxy=null,this.src=E,this.type=C,this.capture=!!j,this.ha=se,this.key=++X,this.da=this.fa=!1}function ie(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function me(f,E,C){for(const j in f)E.call(C,f[j],j,f)}function xe(f,E){for(const C in f)E.call(void 0,f[C],C,f)}function Y(f){const E={};for(const C in f)E[C]=f[C];return E}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(f,E){let C,j;for(let se=1;se<arguments.length;se++){j=arguments[se];for(C in j)f[C]=j[C];for(let ce=0;ce<ue.length;ce++)C=ue[ce],Object.prototype.hasOwnProperty.call(j,C)&&(f[C]=j[C])}}function Ae(f){this.src=f,this.g={},this.h=0}Ae.prototype.add=function(f,E,C,j,se){const ce=f.toString();f=this.g[ce],f||(f=this.g[ce]=[],this.h++);const Ce=Ie(f,E,j,se);return Ce>-1?(E=f[Ce],C||(E.fa=!1)):(E=new ye(E,this.src,ce,!!j,se),E.fa=C,f.push(E)),E};function Re(f,E){const C=E.type;if(C in f.g){var j=f.g[C],se=Array.prototype.indexOf.call(j,E,void 0),ce;(ce=se>=0)&&Array.prototype.splice.call(j,se,1),ce&&(ie(E),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Ie(f,E,C,j){for(let se=0;se<f.length;++se){const ce=f[se];if(!ce.da&&ce.listener==E&&ce.capture==!!C&&ce.ha==j)return se}return-1}var Ye="closure_lm_"+(Math.random()*1e6|0),Ct={};function Nt(f,E,C,j,se){if(Array.isArray(E)){for(let ce=0;ce<E.length;ce++)Nt(f,E[ce],C,j,se);return null}return C=it(C),f&&f[_e]?f.J(E,C,y(j)?!!j.capture:!1,se):Vi(f,E,C,!1,j,se)}function Vi(f,E,C,j,se,ce){if(!E)throw Error("Invalid event type");const Ce=y(se)?!!se.capture:!!se;let $e=he(f);if($e||(f[Ye]=$e=new Ae(f)),C=$e.add(E,C,j,Ce,ce),C.proxy)return C;if(j=cs(),C.proxy=j,j.src=f,j.listener=C,f.addEventListener)$||(se=Ce),se===void 0&&(se=!1),f.addEventListener(E.toString(),j,se);else if(f.attachEvent)f.attachEvent(yi(E.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return C}function cs(){function f(C){return E.call(f.src,f.listener,C)}const E=sr;return f}function _i(f,E,C,j,se){if(Array.isArray(E))for(var ce=0;ce<E.length;ce++)_i(f,E[ce],C,j,se);else j=y(j)?!!j.capture:!!j,C=it(C),f&&f[_e]?(f=f.i,ce=String(E).toString(),ce in f.g&&(E=f.g[ce],C=Ie(E,C,j,se),C>-1&&(ie(E[C]),Array.prototype.splice.call(E,C,1),E.length==0&&(delete f.g[ce],f.h--)))):f&&(f=he(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Ie(E,C,j,se)),(C=f>-1?E[f]:null)&&us(C))}function us(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[_e])Re(E.i,f);else{var C=f.type,j=f.proxy;E.removeEventListener?E.removeEventListener(C,j,f.capture):E.detachEvent?E.detachEvent(yi(C),j):E.addListener&&E.removeListener&&E.removeListener(j),(C=he(E))?(Re(C,f),C.h==0&&(C.src=null,E[Ye]=null)):ie(f)}}}function yi(f){return f in Ct?Ct[f]:Ct[f]="on"+f}function sr(f,E){if(f.da)f=!0;else{E=new ge(E,this);const C=f.listener,j=f.ha||f.src;f.fa&&us(f),f=C.call(j,E)}return f}function he(f){return f=f[Ye],f instanceof Ae?f:null}var Ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function it(f){return typeof f=="function"?f:(f[Ze]||(f[Ze]=function(E){return f.handleEvent(E)}),f[Ze])}function Be(){F.call(this),this.i=new Ae(this),this.M=this,this.G=null}T(Be,F),Be.prototype[_e]=!0,Be.prototype.removeEventListener=function(f,E,C,j){_i(this,f,E,C,j)};function gt(f,E){var C,j=f.G;if(j)for(C=[];j;j=j.G)C.push(j);if(f=f.M,j=E.type||E,typeof E=="string")E=new B(E,f);else if(E instanceof B)E.target=E.target||f;else{var se=E;E=new B(j,f),Se(E,se)}se=!0;let ce,Ce;if(C)for(Ce=C.length-1;Ce>=0;Ce--)ce=E.g=C[Ce],se=Zn(ce,j,!0,E)&&se;if(ce=E.g=f,se=Zn(ce,j,!0,E)&&se,se=Zn(ce,j,!1,E)&&se,C)for(Ce=0;Ce<C.length;Ce++)ce=E.g=C[Ce],se=Zn(ce,j,!1,E)&&se}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const C=f.g[E];for(let j=0;j<C.length;j++)ie(C[j]);delete f.g[E],f.h--}}this.G=null},Be.prototype.J=function(f,E,C,j){return this.i.add(String(f),E,!1,C,j)},Be.prototype.K=function(f,E,C,j){return this.i.add(String(f),E,!0,C,j)};function Zn(f,E,C,j){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let se=!0;for(let ce=0;ce<E.length;++ce){const Ce=E[ce];if(Ce&&!Ce.da&&Ce.capture==C){const $e=Ce.listener,_t=Ce.ha||Ce.src;Ce.fa&&Re(f.i,Ce),se=$e.call(_t,j)!==!1&&se}}return se&&!j.defaultPrevented}function Zl(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:d.setTimeout(f,E||0)}function zo(f){f.g=Zl(()=>{f.g=null,f.i&&(f.i=!1,zo(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class zn extends F{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(f){F.call(this),this.h=f,this.g={}}T(Vr,F);var zr=[];function Ca(f){me(f.g,function(E,C){this.g.hasOwnProperty(C)&&us(E)},f),f.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),Ca(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=d.JSON.stringify,lu=d.JSON.parse,Uo=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Bo(){}function $l(){}var vi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function un(){B.call(this,"d")}T(un,B);function ri(){B.call(this,"c")}T(ri,B);var Yt={},rr=null;function Na(){return rr=rr||new Be}Yt.Ia="serverreachability";function Yl(f){B.call(this,Yt.Ia,f)}T(Yl,B);function zi(f){const E=Na();gt(E,new Yl(E))}Yt.STAT_EVENT="statevent";function ar(f,E){B.call(this,Yt.STAT_EVENT,f),this.stat=E}T(ar,B);function Kt(f){const E=Na();gt(E,new ar(E,f))}Yt.Ja="timingevent";function hs(f,E){B.call(this,Yt.Ja,f),this.size=E}T(hs,B);function ds(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},E)}function Ui(){this.g=!0}Ui.prototype.ua=function(){this.g=!1};function cu(f,E,C,j,se,ce){f.info(function(){if(f.g)if(ce){var Ce="",$e=ce.split("&");for(let yt=0;yt<$e.length;yt++){var _t=$e[yt].split("=");if(_t.length>1){const Vt=_t[0];_t=_t[1];const Ci=Vt.split("_");Ce=Ci.length>=2&&Ci[1]=="type"?Ce+(Vt+"="+_t+"&"):Ce+(Vt+"=redacted&")}}}else Ce=null;else Ce=ce;return"XMLHTTP REQ ("+j+") [attempt "+se+"]: "+E+`
`+C+`
`+Ce})}function Kl(f,E,C,j,se,ce,Ce){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+se+"]: "+E+`
`+C+`
`+ce+" "+Ce})}function fs(f,E,C,j){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+uu(f,C)+(j?" "+j:"")})}function Os(f,E){f.info(function(){return"TIMEOUT: "+E})}Ui.prototype.info=function(){};function uu(f,E){if(!f.g)return E;if(!E)return null;try{const ce=JSON.parse(E);if(ce){for(f=0;f<ce.length;f++)if(Array.isArray(ce[f])){var C=ce[f];if(!(C.length<2)){var j=C[1];if(Array.isArray(j)&&!(j.length<1)){var se=j[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Ce=1;Ce<j.length;Ce++)j[Ce]=""}}}}return Ls(ce)}catch{return E}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Rn(){}T(Rn,Bo),Rn.prototype.g=function(){return new XMLHttpRequest},qo=new Rn;function Oe(f){return encodeURIComponent(String(f))}function Fo(f){var E=1;f=f.split(":");const C=[];for(;E>0&&f.length;)C.push(f.shift()),E--;return f.length&&C.push(f.join(":")),C}function bi(f,E,C,j){this.j=f,this.i=E,this.l=C,this.S=j||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var Wt={},Jt={};function Bi(f,E,C){f.M=1,f.A=Rt(Bt(E)),f.u=C,f.R=!0,Hi(f,null)}function Hi(f,E){f.F=Date.now(),ms(f),f.B=Bt(f.A);var C=f.B,j=f.S;Array.isArray(j)||(j=[String(j)]),lr(C.i,"t",j),f.C=0,C=f.j.L,f.h=new xi,f.g=Qo(f.j,C?E:null,!f.u),f.P>0&&(f.O=new zn(v(f.Y,f,f.g),f.P)),E=f.V,C=f.g,j=f.ba;var se="readystatechange";Array.isArray(se)||(se&&(zr[0]=se.toString()),se=zr);for(let ce=0;ce<se.length;ce++){const Ce=Nt(C,se[ce],j||E.handleEvent,!1,E.h||E);if(!Ce)break;E.g[Ce.key]=Ce}E=f.J?Y(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),zi(),cu(f.i,f.v,f.B,f.l,f.S,f.u)}bi.prototype.ba=function(f){f=f.target;const E=this.O;E&&Zi(f)==3?E.j():this.Y(f)},bi.prototype.Y=function(f){try{if(f==this.g)e:{const $e=Zi(this.g),_t=this.g.ya(),yt=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||$e!=4||_t==7||(_t==8||yt<=0?zi(3):zi(2)),qi(this);var E=this.g.ca();this.X=E;var C=Wl(this);if(this.o=E==200,Kl(this.i,this.v,this.B,this.l,this.S,$e,E),this.o){if(this.U&&!this.L){t:{if(this.g){var j,se=this.g;if((j=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(j)){var ce=j;break t}}ce=null}if(f=ce)fs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ps(this,f);else{this.o=!1,this.m=3,Kt(12),In(this),wi(this);break e}}if(this.R){f=!0;let Vt;for(;!this.K&&this.C<C.length;)if(Vt=Xl(this,C),Vt==Jt){$e==4&&(this.m=4,Kt(14),f=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==Wt){this.m=4,Kt(15),fs(this.i,this.l,C,"[Invalid Chunk]"),f=!1;break}else fs(this.i,this.l,Vt,null),ps(this,Vt);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||C.length!=0||this.h.h||(this.m=1,Kt(16),f=!1),this.o=this.o&&f,!f)fs(this.i,this.l,C,"[Invalid Chunked Response]"),In(this),wi(this);else if(C.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Ko(Ce),Ce.P=!0,Kt(11))}}else fs(this.i,this.l,C,null),ps(this,C);$e==4&&In(this),this.o&&!this.K&&($e==4?li(this.j,this):(this.o=!1,ms(this)))}else $i(this.g),E==400&&C.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),In(this),wi(this)}}}catch{}};function Wl(f){if(!Ql(f))return f.g.la();const E=gn(f.g);if(E==="")return"";let C="";const j=E.length,se=Zi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return In(f),wi(f),"";f.h.i=new d.TextDecoder}for(let ce=0;ce<j;ce++)f.h.h=!0,C+=f.h.i.decode(E[ce],{stream:!(se&&ce==j-1)});return E.length=0,f.h.g+=C,f.C=0,f.h.g}function Ql(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Xl(f,E){var C=f.C,j=E.indexOf(`
`,C);return j==-1?Jt:(C=Number(E.substring(C,j)),isNaN(C)?Wt:(j+=1,j+C>E.length?Jt:(E=E.slice(j,j+C),f.C=j+C,E)))}bi.prototype.cancel=function(){this.K=!0,In(this)};function ms(f){f.T=Date.now()+f.H,Ra(f,f.H)}function Ra(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ds(v(f.aa,f),E)}function qi(f){f.D&&(d.clearTimeout(f.D),f.D=null)}bi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Os(this.i,this.B),this.M!=2&&(zi(),Kt(17)),In(this),this.m=2,wi(this)):Ra(this,this.T-f)};function wi(f){f.j.I==0||f.K||li(f.j,f)}function In(f){qi(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,Ca(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function ps(f,E){try{var C=f.j;if(C.I!=0&&(C.g==f||Ti(C.h,f))){if(!f.L&&Ti(C.h,f)&&C.I==3){try{var j=C.Ba.g.parse(E)}catch{j=null}if(Array.isArray(j)&&j.length==3){var se=j;if(se[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<f.F)ka(C),dr(C);else break e;Zr(C),Kt(18)}}else C.xa=se[1],0<C.xa-C.K&&se[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=ds(v(C.Va,C),6e3));gs(C.h)<=1&&C.ta&&(C.ta=void 0)}else Yi(C,11)}else if((f.L||C.g==f)&&ka(C),!G(E))for(se=C.Ba.g.parse(E),E=0;E<se.length;E++){let yt=se[E];const Vt=yt[0];if(!(Vt<=C.K))if(C.K=Vt,yt=yt[1],C.I==2)if(yt[0]=="c"){C.M=yt[1],C.ba=yt[2];const Ci=yt[3];Ci!=null&&(C.ka=Ci,C.j.info("VER="+C.ka));const Ni=yt[4];Ni!=null&&(C.za=Ni,C.j.info("SVER="+C.za));const ci=yt[5];ci!=null&&typeof ci=="number"&&ci>0&&(j=1.5*ci,C.O=j,C.j.info("backChannelRequestTimeoutMs_="+j)),j=C;const Wi=f.g;if(Wi){const $r=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var ce=j.h;ce.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Ds(ce,ce.h),ce.h=null))}if(j.G){const Yr=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;Yr&&(j.wa=Yr,Me(j.J,j.G,Yr))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-f.F,C.j.info("Handshake RTT: "+C.T+"ms")),j=C;var Ce=f;if(j.na=Wo(j,j.L?j.ba:null,j.W),Ce.L){Ia(j.h,Ce);var $e=Ce,_t=j.O;_t&&($e.H=_t),$e.D&&(qi($e),ms($e)),j.g=Ce}else Yo(j);C.i.length>0&&Wn(C)}else yt[0]!="stop"&&yt[0]!="close"||Yi(C,7);else C.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Yi(C,7):nt(C):yt[0]!="noop"&&C.l&&C.l.qa(yt),C.A=0)}}zi(4)}catch{}}var en=class{constructor(f,E){this.g=f,this.map=E}};function Go(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function gs(f){return f.h?1:f.g?f.g.size:0}function Ti(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Ds(f,E){f.g?f.g.add(E):f.h=E}function Ia(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Go.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Pa(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const C of f.g.values())E=E.concat(C.G);return E}return R(f.i)}var or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(f,E){if(f){f=f.split("&");for(let C=0;C<f.length;C++){const j=f[C].indexOf("=");let se,ce=null;j>=0?(se=f[C].substring(0,j),ce=f[C].substring(j+1)):se=f[C],E(se,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function at(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof at?(this.l=f.l,Ht(this,f.j),this.o=f.o,this.g=f.g,ai(this,f.u),this.h=f.h,Br(this,Fr(f.i)),this.m=f.m):f&&(E=String(f).match(or))?(this.l=!1,Ht(this,E[1]||"",!0),this.o=Ei(E[2]||""),this.g=Ei(E[3]||"",!0),ai(this,E[4]),this.h=Ei(E[5]||"",!0),Br(this,E[6]||"",!0),this.m=Ei(E[7]||"")):(this.l=!1,this.i=new Si(null,this.l))}at.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(_s(E,Ma,!0),":");var C=this.g;return(C||E=="file")&&(f.push("//"),(E=this.o)&&f.push(_s(E,Ma,!0),"@"),f.push(Oe(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&f.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(_s(C,C.charAt(0)=="/"?Fi:Hr,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",_s(C,ys)),f.join("")},at.prototype.resolve=function(f){const E=Bt(this);let C=!!f.j;C?Ht(E,f.j):C=!!f.o,C?E.o=f.o:C=!!f.g,C?E.g=f.g:C=f.u!=null;var j=f.h;if(C)ai(E,f.u);else if(C=!!f.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var se=E.h.lastIndexOf("/");se!=-1&&(j=E.h.slice(0,se+1)+j)}if(se=j,se==".."||se==".")j="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){j=se.lastIndexOf("/",0)==0,se=se.split("/");const ce=[];for(let Ce=0;Ce<se.length;){const $e=se[Ce++];$e=="."?j&&Ce==se.length&&ce.push(""):$e==".."?((ce.length>1||ce.length==1&&ce[0]!="")&&ce.pop(),j&&Ce==se.length&&ce.push("")):(ce.push($e),j=!0)}j=ce.join("/")}else j=se}return C?E.h=j:C=f.i.toString()!=="",C?Br(E,Fr(f.i)):C=!!f.m,C&&(E.m=f.m),E};function Bt(f){return new at(f)}function Ht(f,E,C){f.j=C?Ei(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function ai(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function Br(f,E,C){E instanceof Si?(f.i=E,cr(f.i,f.l)):(C||(E=_s(E,It)),f.i=new Si(E,f.l))}function Me(f,E,C){f.i.set(E,C)}function Rt(f){return Me(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ei(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _s(f,E,C){return typeof f=="string"?(f=encodeURI(f).replace(E,jt),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function jt(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ma=/[#\/\?@]/g,Hr=/[#\?:]/g,Fi=/[#\?]/g,It=/[#\?@]/g,ys=/#/g;function Si(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function pn(f){f.g||(f.g=new Map,f.h=0,f.i&&st(f.i,function(E,C){f.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}n=Si.prototype,n.add=function(f,E){pn(this),this.i=null,f=vs(this,f);let C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(E),this.h+=1,this};function La(f,E){pn(f),E=vs(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function ks(f,E){return pn(f),E=vs(f,E),f.g.has(E)}n.forEach=function(f,E){pn(this),this.g.forEach(function(C,j){C.forEach(function(se){f.call(E,se,j,this)},this)},this)};function qr(f,E){pn(f);let C=[];if(typeof E=="string")ks(f,E)&&(C=C.concat(f.g.get(vs(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)C=C.concat(f[E]);return C}n.set=function(f,E){return pn(this),this.i=null,f=vs(this,f),ks(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},n.get=function(f,E){return f?(f=qr(this,f),f.length>0?String(f[0]):E):E};function lr(f,E,C){La(f,E),C.length>0&&(f.i=null,f.g.set(vs(f,E),R(C)),f.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let j=0;j<E.length;j++){var C=E[j];const se=Oe(C);C=qr(this,C);for(let ce=0;ce<C.length;ce++){let Ce=se;C[ce]!==""&&(Ce+="="+Oe(C[ce])),f.push(Ce)}}return this.i=f.join("&")};function Fr(f){const E=new Si;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function vs(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function cr(f,E){E&&!f.j&&(pn(f),f.i=null,f.g.forEach(function(C,j){const se=j.toLowerCase();j!=se&&(La(this,j),lr(this,se,C))},f)),f.j=E}function $n(f,E){const C=new Ui;if(d.Image){const j=new Image;j.onload=w(Yn,C,"TestLoadImage: loaded",!0,E,j),j.onerror=w(Yn,C,"TestLoadImage: error",!1,E,j),j.onabort=w(Yn,C,"TestLoadImage: abort",!1,E,j),j.ontimeout=w(Yn,C,"TestLoadImage: timeout",!1,E,j),d.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else E(!1)}function Oa(f,E){const C=new Ui,j=new AbortController,se=setTimeout(()=>{j.abort(),Yn(C,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:j.signal}).then(ce=>{clearTimeout(se),ce.ok?Yn(C,"TestPingServer: ok",!0,E):Yn(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(se),Yn(C,"TestPingServer: error",!1,E)})}function Yn(f,E,C,j,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),j(C)}catch{}}function ur(){this.g=new Uo}function Ue(f){this.i=f.Sb||null,this.h=f.ab||!1}T(Ue,Bo),Ue.prototype.g=function(){return new Pn(this.i,this.h)};function Pn(f,E){Be.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Pn,Be),n=Pn.prototype,n.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,oi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||d).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bt(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function bt(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?js(this):oi(this),this.readyState==3&&bt(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,js(this))},n.Na=function(f){this.g&&(this.response=f,js(this))},n.ga=function(){this.g&&js(this)};function js(f){f.readyState=4,f.l=null,f.j=null,f.B=null,oi(f)}n.setRequestHeader=function(f,E){this.A.append(f,E)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=E.next();return f.join(`\r
`)};function oi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Kn(f){let E="";return me(f,function(C,j){E+=j,E+=":",E+=C,E+=`\r
`}),E}function Vs(f,E,C){e:{for(j in C){var j=!1;break e}j=!0}j||(C=Kn(C),typeof f=="string"?C!=null&&Oe(C):Me(f,E,C))}function ut(f){Be.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ut,Be);var Ai=/^https?$/i,zs=["POST","PUT"];n=ut.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,E,C,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=N(v(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(ce){qt(this,ce);return}if(f=C||"",C=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var se in j)C.set(se,j[se]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ce of j.keys())C.set(ce,j.get(ce));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(C.keys()).find(ce=>ce.toLowerCase()=="content-type"),se=d.FormData&&f instanceof d.FormData,!(Array.prototype.indexOf.call(zs,E,void 0)>=0)||j||se||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ce]of C)this.g.setRequestHeader(ce,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ce){qt(this,ce)}};function qt(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,Gi(f),bs(f)}function Gi(f){f.A||(f.A=!0,gt(f,"complete"),gt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,gt(this,"complete"),gt(this,"abort"),bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),ut.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?hr(this):this.Xa())},n.Xa=function(){hr(this)};function hr(f){if(f.h&&typeof c<"u"){if(f.v&&Zi(f)==4)setTimeout(f.Ca.bind(f),0);else if(gt(f,"readystatechange"),Zi(f)==4){f.h=!1;try{const ce=f.ca();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var j;if(j=ce===0){let Ce=String(f.D).match(or)[1]||null;!Ce&&d.self&&d.self.location&&(Ce=d.self.location.protocol.slice(0,-1)),j=!Ai.test(Ce?Ce.toLowerCase():"")}C=j}if(C)gt(f,"complete"),gt(f,"success");else{f.o=6;try{var se=Zi(f)>2?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.ca()+"]",Gi(f)}}finally{bs(f)}}}}function bs(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const C=f.g;f.g=null,E||gt(f,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Zi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Zi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),lu(E)}};function gn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(f){const E={};f=(f.g&&Zi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(G(f[j]))continue;var C=Fo(f[j]);const se=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ce=E[se]||[];E[se]=ce,ce.push(C)}xe(E,function(j){return j.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(f,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||E}function Us(f){this.za=0,this.i=[],this.j=new Ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xs("baseRetryDelayMs",5e3,f),this.Za=xs("retryDelaySeedMs",1e4,f),this.Ta=xs("forwardChannelMaxRetries",2,f),this.va=xs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(f&&f.concurrentRequestLimit),this.Ba=new ur,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Us.prototype,n.ka=8,n.I=1,n.connect=function(f,E,C,j){Kt(0),this.W=f,this.H=E||{},C&&j!==void 0&&(this.H.OSID=C,this.H.OAID=j),this.F=this.X,this.J=Wo(this,null,this.W),Wn(this)};function nt(f){if(Mn(f),f.I==3){var E=f.V++,C=Bt(f.J);if(Me(C,"SID",f.M),Me(C,"RID",E),Me(C,"TYPE","terminate"),Bs(f,C),E=new bi(f,f.j,E),E.M=2,E.A=Rt(Bt(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(E.A.toString(),"")}catch{}!C&&d.Image&&(new Image().src=E.A,C=!0),C||(E.g=Qo(E.j,null),E.g.ea(E.A)),E.F=Date.now(),ms(E)}Ki(f)}function dr(f){f.g&&(Ko(f),f.g.cancel(),f.g=null)}function Mn(f){dr(f),f.v&&(d.clearTimeout(f.v),f.v=null),ka(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&d.clearTimeout(f.m),f.m=null)}function Wn(f){if(!Zo(f.h)&&!f.m){f.m=!0;var E=f.Ea;te||I(),fe||(te(),fe=!0),V.add(E,f),f.D=0}}function Gr(f,E){return gs(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ds(v(f.Ea,f,E),ec(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const se=new bi(this,this.j,f);let ce=this.o;if(this.U&&(ce?(ce=Y(ce),Se(ce,this.U)):ce=this.U),this.u!==null||this.R||(se.J=ce,ce=null),this.S)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var j=this.i[C];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(E+=j,E>4096){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=Jl(this,se,E),C=Bt(this.J),Me(C,"RID",f),Me(C,"CVER",22),this.G&&Me(C,"X-HTTP-Session-Id",this.G),Bs(this,C),ce&&(this.R?E="headers="+Oe(Kn(ce))+"&"+E:this.u&&Vs(C,this.u,ce)),Ds(this.h,se),this.Ra&&Me(C,"TYPE","init"),this.S?(Me(C,"$req",E),Me(C,"SID","null"),se.U=!0,Bi(se,C,null)):Bi(se,C,E),this.I=2}}else this.I==3&&(f?$o(this,f):this.i.length==0||Zo(this.h)||$o(this))};function $o(f,E){var C;E?C=E.l:C=f.V++;const j=Bt(f.J);Me(j,"SID",f.M),Me(j,"RID",C),Me(j,"AID",f.K),Bs(f,j),f.u&&f.o&&Vs(j,f.u,f.o),C=new bi(f,f.j,C,f.D+1),f.u===null&&(C.J=f.o),E&&(f.i=E.G.concat(f.i)),E=Jl(f,C,1e3),C.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ds(f.h,C),Bi(C,j,E)}function Bs(f,E){f.H&&me(f.H,function(C,j){Me(E,j,C)}),f.l&&me({},function(C,j){Me(E,j,C)})}function Jl(f,E,C){C=Math.min(f.i.length,C);const j=f.l?v(f.l.Ka,f.l,f):null;e:{var se=f.i;let $e=-1;for(;;){const _t=["count="+C];$e==-1?C>0?($e=se[0].g,_t.push("ofs="+$e)):$e=0:_t.push("ofs="+$e);let yt=!0;for(let Vt=0;Vt<C;Vt++){var ce=se[Vt].g;const Ci=se[Vt].map;if(ce-=$e,ce<0)$e=Math.max(0,se[Vt].g-100),yt=!1;else try{ce="req"+ce+"_"||"";try{var Ce=Ci instanceof Map?Ci:Object.entries(Ci);for(const[Ni,ci]of Ce){let Wi=ci;y(ci)&&(Wi=Ls(ci)),_t.push(ce+Ni+"="+encodeURIComponent(Wi))}}catch(Ni){throw _t.push(ce+"type="+encodeURIComponent("_badmap")),Ni}}catch{j&&j(Ci)}}if(yt){Ce=_t.join("&");break e}}Ce=void 0}return f=f.i.splice(0,C),E.G=f,Ce}function Yo(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;te||I(),fe||(te(),fe=!0),V.add(E,f),f.A=0}}function Zr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ds(v(f.Da,f),ec(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Da(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ds(v(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),dr(this),Da(this))};function Ko(f){f.B!=null&&(d.clearTimeout(f.B),f.B=null)}function Da(f){f.g=new bi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=Bt(f.na);Me(E,"RID","rpc"),Me(E,"SID",f.M),Me(E,"AID",f.K),Me(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&Me(E,"TO",f.ia),Me(E,"TYPE","xmlhttp"),Bs(f,E),f.u&&f.o&&Vs(E,f.u,f.o),f.O&&(f.g.H=f.O);var C=f.g;f=f.ba,C.M=1,C.A=Rt(Bt(E)),C.u=null,C.R=!0,Hi(C,f)}n.Va=function(){this.C!=null&&(this.C=null,dr(this),Zr(this),Kt(19))};function ka(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function li(f,E){var C=null;if(f.g==E){ka(f),Ko(f),f.g=null;var j=2}else if(Ti(f.h,E))C=E.G,Ia(f.h,E),j=1;else return;if(f.I!=0){if(E.o)if(j==1){C=E.u?E.u.length:0,E=Date.now()-E.F;var se=f.D;j=Na(),gt(j,new hs(j,C)),Wn(f)}else Yo(f);else if(se=E.m,se==3||se==0&&E.X>0||!(j==1&&Gr(f,E)||j==2&&Zr(f)))switch(C&&C.length>0&&(E=f.h,E.i=E.i.concat(C)),se){case 1:Yi(f,5);break;case 4:Yi(f,10);break;case 3:Yi(f,6);break;default:Yi(f,2)}}}function ec(f,E){let C=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(C*=2),C*E}function Yi(f,E){if(f.j.info("Error code "+E),E==2){var C=v(f.bb,f),j=f.Ua;const se=!j;j=new at(j||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(j,"https"),Rt(j),se?$n(j.toString(),C):Oa(j.toString(),C)}else Kt(2);f.I=0,f.l&&f.l.pa(E),Ki(f),Mn(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function Ki(f){if(f.I=0,f.ja=[],f.l){const E=Pa(f.h);(E.length!=0||f.i.length!=0)&&(k(f.ja,E),k(f.ja,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.oa()}}function Wo(f,E,C){var j=C instanceof at?Bt(C):new at(C);if(j.g!="")E&&(j.g=E+"."+j.g),ai(j,j.u);else{var se=d.location;j=se.protocol,E=E?E+"."+se.hostname:se.hostname,se=+se.port;const ce=new at(null);j&&Ht(ce,j),E&&(ce.g=E),se&&ai(ce,se),C&&(ce.h=C),j=ce}return C=f.G,E=f.wa,C&&E&&Me(j,C,E),Me(j,"VER",f.ka),Bs(f,j),j}function Qo(f,E,C){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new ut(new Ue({ab:C})):new ut(f.ma),E.Fa(f.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ja(){}n=ja.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fr(){}fr.prototype.g=function(f,E){return new Ln(f,E)};function Ln(f,E){Be.call(this),this.g=new Us(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!G(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!G(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Hs(this)}T(Ln,Be),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){nt(this.g)},Ln.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.v&&(C={},C.__data__=Ls(f),f=C);E.i.push(new en(E.Ya++,f)),E.I==3&&Wn(E)},Ln.prototype.N=function(){this.g.l=null,delete this.j,nt(this.g),delete this.g,Ln.Z.N.call(this)};function Xo(f){un.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const C in E){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}T(Xo,un);function tc(){ri.call(this),this.status=1}T(tc,ri);function Hs(f){this.g=f}T(Hs,ja),Hs.prototype.ra=function(){gt(this.g,"a")},Hs.prototype.qa=function(f){gt(this.g,new Xo(f))},Hs.prototype.pa=function(f){gt(this.g,new tc)},Hs.prototype.oa=function(){gt(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,fT=function(){return new fr},dT=function(){return Na()},hT=Yt,n_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,ff=Ur,Ho.COMPLETE="complete",uT=Ho,$l.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",Be.prototype.listen=Be.prototype.J,th=$l,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,cT=ut}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});let ti=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");let nu="12.9.0";function eM(n){nu=n}const Dl=new k_("@firebase/firestore");function Oc(){return Dl.logLevel}function Le(n,...e){if(Dl.logLevel<=ft.DEBUG){const t=e.map(K_);Dl.debug(`Firestore (${nu}): ${n}`,...t)}}function xa(n,...e){if(Dl.logLevel<=ft.ERROR){const t=e.map(K_);Dl.error(`Firestore (${nu}): ${n}`,...t)}}function kl(n,...e){if(Dl.logLevel<=ft.WARN){const t=e.map(K_);Dl.warn(`Firestore (${nu}): ${n}`,...t)}}function K_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ge(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,mT(n,s,t)}function mT(n,e,t){let s=`FIRESTORE (${nu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw xa(s),new Error(s)}function At(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||mT(e,o,s)}function Ke(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class pT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ti.UNAUTHENTICATED)))}shutdown(){}}class nM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class iM{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let c=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},y=m=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>y(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?y(m):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pr)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(At(typeof s.accessToken=="string",31837,{l:s}),new pT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new ti(e)}}class sM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ti.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new sM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ti.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){At(this.o===void 0,3512);const s=c=>{c.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(At(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class W_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oM(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function mt(n,e){return n<e?-1:n>e?1:0}function i_(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Cg(o)===Cg(c)?mt(o,c):Cg(o)?1:-1}return mt(n.length,e.length)}const lM=55296,cM=57343;function Cg(n){const e=n.charCodeAt(0);return e>=lM&&e<=cM}function Fc(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const Ox="__name__";class Er{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ge(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Er.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return mt(e.length,t.length)}static compareSegments(e,t){const s=Er.isNumericId(e),o=Er.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Er.extractNumericId(e).compare(Er.extractNumericId(t)):i_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return So.fromString(e.substring(4,e.length-2))}}class Ut extends Er{construct(e,t,s){return new Ut(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Pe(be.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ut(t)}static emptyPath(){return new Ut([])}}const uM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Er{construct(e,t,s){return new Fn(e,t,s)}static isValidIdentifier(e){return uM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ox}static keyField(){return new Fn([Ox])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Pe(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new Pe(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Pe(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(c(),o++)}if(c(),d)throw new Pe(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(t)}static emptyPath(){return new Fn([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Ut.fromString(e))}static fromName(e){return new ze(Ut.fromString(e).popFirst(5))}static empty(){return new ze(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Ut(e.slice()))}}function gT(n,e,t){if(!t)throw new Pe(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hM(n,e,t,s){if(e===!0&&s===!0)throw new Pe(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Dx(n){if(!ze.isDocumentKey(n))throw new Pe(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kx(n){if(ze.isDocumentKey(n))throw new Pe(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _T(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function ii(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rm(n);throw new Pe(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function En(n,e){const t={typeString:n};return e&&(t.value=e),t}function Dh(n,e){if(!_T(n))throw new Pe(be.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const d=n[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Pe(be.INVALID_ARGUMENT,t);return!0}const jx=-62135596800,Vx=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Vx);return new Gt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jx)throw new Pe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vx}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dh(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:En("string",Gt._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Gt(0,0))}static max(){return new We(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yh=-1;function dM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=We.fromTimestamp(s===1e9?new Gt(t+1,0):new Gt(t,s));return new No(o,ze.empty(),e)}function fM(n){return new No(n.readTime,n.key,yh)}class No{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new No(We.min(),ze.empty(),yh)}static max(){return new No(We.max(),ze.empty(),yh)}}function mM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ze.comparator(n.documentKey,e.documentKey),t!==0?t:mt(n.largestBatchId,e.largestBatchId))}const pM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function iu(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==pM)throw n;Le("LocalStore","Unexpectedly lost primary lease")}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ee.reject(t)}static resolve(e){return new Ee(((t,s)=>{t(e)}))}static reject(e){return new Ee(((t,s)=>{s(e)}))}static waitFor(e){return new Ee(((t,s)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&t()}),(m=>s(m)))})),d=!0,c===o&&t()}))}static or(e){let t=Ee.resolve(!1);for(const s of e)t=t.next((o=>o?Ee.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new Ee(((s,o)=>{const c=e.length,d=new Array(c);let y=0;for(let m=0;m<c;m++){const v=m;t(e[v]).next((w=>{d[v]=w,++y,y===c&&s(d)}),(w=>o(w)))}}))}static doWhile(e,t){return new Ee(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function _M(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(n){return n.name==="IndexedDbTransactionError"}class am{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}am.ce=-1;const Q_=-1;function om(n){return n==null}function Pf(n){return n===0&&1/n==-1/0}function yM(n){return typeof n=="number"&&Number.isInteger(n)&&!Pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const yT="";function vM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zx(e)),e=bM(n.get(t),e);return zx(e)}function bM(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case yT:t+="";break;default:t+=c}}return t}function zx(n){return n+yT+""}function Ux(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Do(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xM(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function vT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Xt{constructor(e,t){this.comparator=e,this.root=t||qn.EMPTY}insert(e,t){return new Xt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??qn.RED,this.left=o??qn.EMPTY,this.right=c??qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new qn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return qn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bx(this.data.getIterator())}getIteratorFrom(e){return new Bx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class Bx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rs{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new rs([])}unionWith(e){let t=new Nn(Fn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fc(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bT("Invalid base64 string: "+c):c}})(e);return new Gn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const wM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(n){if(At(!!n,39018),typeof n=="string"){let e=0;const t=wM.exec(n);if(At(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fn(n.seconds),nanos:fn(n.nanos)}}function fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Io(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}const xT="server_timestamp",wT="__type__",TT="__previous_value__",ET="__local_write_time__";function X_(n){return(n?.mapValue?.fields||{})[wT]?.stringValue===xT}function lm(n){const e=n.mapValue.fields[TT];return X_(e)?lm(e):e}function vh(n){const e=Ro(n.mapValue.fields[ET].timestampValue);return new Gt(e.seconds,e.nanos)}class TM{constructor(e,t,s,o,c,d,y,m,v,w,T){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=T}}const Mf="(default)";class bh{constructor(e,t){this.projectId=e,this.database=t||Mf}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}function EM(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Pe(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(n.options.projectId,e)}const ST="__type__",SM="__max__",Jd={mapValue:{}},AT="__vector__",Lf="value";function Po(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X_(n)?4:CM(n)?9007199254740991:AM(n)?10:11:Ge(28295,{value:n})}function kr(n,e){if(n===e)return!0;const t=Po(n);if(t!==Po(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vh(n).isEqual(vh(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ro(o.timestampValue),y=Ro(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return Io(o.bytesValue).isEqual(Io(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return fn(o.geoPointValue.latitude)===fn(c.geoPointValue.latitude)&&fn(o.geoPointValue.longitude)===fn(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return fn(o.integerValue)===fn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=fn(o.doubleValue),y=fn(c.doubleValue);return d===y?Pf(d)===Pf(y):isNaN(d)&&isNaN(y)}return!1})(n,e);case 9:return Fc(n.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(Ux(d)!==Ux(y))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(y[m]===void 0||!kr(d[m],y[m])))return!1;return!0})(n,e);default:return Ge(52216,{left:n})}}function xh(n,e){return(n.values||[]).find((t=>kr(t,e)))!==void 0}function Gc(n,e){if(n===e)return 0;const t=Po(n),s=Po(e);if(t!==s)return mt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return mt(n.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=fn(c.integerValue||c.doubleValue),m=fn(d.integerValue||d.doubleValue);return y<m?-1:y>m?1:y===m?0:isNaN(y)?isNaN(m)?0:-1:1})(n,e);case 3:return Hx(n.timestampValue,e.timestampValue);case 4:return Hx(vh(n),vh(e));case 5:return i_(n.stringValue,e.stringValue);case 6:return(function(c,d){const y=Io(c),m=Io(d);return y.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),m=d.split("/");for(let v=0;v<y.length&&v<m.length;v++){const w=mt(y[v],m[v]);if(w!==0)return w}return mt(y.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=mt(fn(c.latitude),fn(d.latitude));return y!==0?y:mt(fn(c.longitude),fn(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return qx(n.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},m=d.fields||{},v=y[Lf]?.arrayValue,w=m[Lf]?.arrayValue,T=mt(v?.values?.length||0,w?.values?.length||0);return T!==0?T:qx(v,w)})(n.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Jd.mapValue&&d===Jd.mapValue)return 0;if(c===Jd.mapValue)return 1;if(d===Jd.mapValue)return-1;const y=c.fields||{},m=Object.keys(y),v=d.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let T=0;T<m.length&&T<w.length;++T){const N=i_(m[T],w[T]);if(N!==0)return N;const R=Gc(y[m[T]],v[w[T]]);if(R!==0)return R}return mt(m.length,w.length)})(n.mapValue,e.mapValue);default:throw Ge(23264,{he:t})}}function Hx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return mt(n,e);const t=Ro(n),s=Ro(e),o=mt(t.seconds,s.seconds);return o!==0?o:mt(t.nanos,s.nanos)}function qx(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Gc(t[o],s[o]);if(c)return c}return mt(t.length,s.length)}function Zc(n){return s_(n)}function s_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Ro(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Io(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ze.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=s_(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${s_(t.fields[d])}`;return o+"}"})(n.mapValue):Ge(61005,{value:n})}function mf(n){switch(Po(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lm(n);return e?16+mf(e):16;case 5:return 2*n.stringValue.length;case 6:return Io(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+mf(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Do(s.fields,((c,d)=>{o+=c.length+mf(d)})),o})(n.mapValue);default:throw Ge(13486,{value:n})}}function Fx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function r_(n){return!!n&&"integerValue"in n}function J_(n){return!!n&&"arrayValue"in n}function Gx(n){return!!n&&"nullValue"in n}function Zx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pf(n){return!!n&&"mapValue"in n}function AM(n){return(n?.mapValue?.fields||{})[ST]?.stringValue===AT}function ch(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Do(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ch(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ch(n.arrayValue.values[t]);return e}return{...n}}function CM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SM}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(t)}setAll(e){let t=Fn.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!t.isImmediateParentOf(y)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=y.popLast()}d?s[y.lastSegment()]=ch(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Do(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new mi(ch(this.value))}}function CT(n){const e=[];return Do(n.fields,((t,s)=>{const o=new Fn([t]);if(pf(s)){const c=CT(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new rs(e)}class ni{constructor(e,t,s,o,c,d,y){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new ni(e,0,We.min(),We.min(),We.min(),mi.empty(),0)}static newFoundDocument(e,t,s,o){return new ni(e,1,t,We.min(),s,o,0)}static newNoDocument(e,t){return new ni(e,2,t,We.min(),We.min(),mi.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,We.min(),We.min(),mi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(e,t){this.position=e,this.inclusive=t}}function $x(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(c.field.isKeyField()?s=ze.comparator(ze.fromName(d.referenceValue),t.key):s=Gc(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kr(n.position[t],e.position[t]))return!1;return!0}class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function NM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class NT{}class Tn extends NT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new IM(e,t,s):t==="array-contains"?new LM(e,s):t==="in"?new OM(e,s):t==="not-in"?new DM(e,s):t==="array-contains-any"?new kM(e,s):new Tn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new PM(e,s):new MM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Gc(t,this.value)):t!==null&&Po(this.value)===Po(t)&&this.matchesComparison(Gc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Js extends NT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Js(e,t)}matches(e){return RT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RT(n){return n.op==="and"}function IT(n){return RM(n)&&RT(n)}function RM(n){for(const e of n.filters)if(e instanceof Js)return!1;return!0}function a_(n){if(n instanceof Tn)return n.field.canonicalString()+n.op.toString()+Zc(n.value);if(IT(n))return n.filters.map((e=>a_(e))).join(",");{const e=n.filters.map((t=>a_(t))).join(",");return`${n.op}(${e})`}}function PT(n,e){return n instanceof Tn?(function(s,o){return o instanceof Tn&&s.op===o.op&&s.field.isEqual(o.field)&&kr(s.value,o.value)})(n,e):n instanceof Js?(function(s,o){return o instanceof Js&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,y)=>c&&PT(d,o.filters[y])),!0):!1})(n,e):void Ge(19439)}function MT(n){return n instanceof Tn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zc(t.value)}`})(n):n instanceof Js?(function(t){return t.op.toString()+" {"+t.getFilters().map(MT).join(" ,")+"}"})(n):"Filter"}class IM extends Tn{constructor(e,t,s){super(e,t,s),this.key=ze.fromName(s.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class PM extends Tn{constructor(e,t){super(e,"in",t),this.keys=LT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class MM extends Tn{constructor(e,t){super(e,"not-in",t),this.keys=LT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function LT(n,e){return(e.arrayValue?.values||[]).map((t=>ze.fromName(t.referenceValue)))}class LM extends Tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return J_(t)&&xh(t.arrayValue,this.value)}}class OM extends Tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xh(this.value.arrayValue,t)}}class DM extends Tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xh(this.value.arrayValue,t)}}class kM extends Tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!J_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>xh(this.value.arrayValue,s)))}}class jM{constructor(e,t=null,s=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function Kx(n,e=null,t=[],s=[],o=null,c=null,d=null){return new jM(n,e,t,s,o,c,d)}function ey(n){const e=Ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>a_(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),om(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Zc(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Zc(s))).join(",")),e.Te=t}return e.Te}function ty(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yx(n.startAt,e.startAt)&&Yx(n.endAt,e.endAt)}function o_(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ru{constructor(e,t=null,s=[],o=[],c=null,d="F",y=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VM(n,e,t,s,o,c,d,y){return new ru(n,e,t,s,o,c,d,y)}function cm(n){return new ru(n)}function Wx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zM(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function OT(n){return n.collectionGroup!==null}function uh(n){const e=Ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Nn(Fn.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new wh(c,s))})),t.has(Fn.keyField().canonicalString())||e.Ie.push(new wh(Fn.keyField(),s))}return e.Ie}function Mr(n){const e=Ke(n);return e.Ee||(e.Ee=DT(e,uh(n))),e.Ee}function UM(n){const e=Ke(n);return e.Re||(e.Re=DT(e,n.explicitOrderBy)),e.Re}function DT(n,e){if(n.limitType==="F")return Kx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new wh(o.field,c)}));const t=n.endAt?new Of(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Of(n.startAt.position,n.startAt.inclusive):null;return Kx(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function l_(n,e){const t=n.filters.concat([e]);return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function BM(n,e){const t=n.explicitOrderBy.concat([e]);return new ru(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Df(n,e,t){return new ru(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function um(n,e){return ty(Mr(n),Mr(e))&&n.limitType===e.limitType}function kT(n){return`${ey(Mr(n))}|lt:${n.limitType}`}function Dc(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>MT(o))).join(", ")}]`),om(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Zc(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Zc(o))).join(",")),`Target(${s})`})(Mr(n))}; limitType=${n.limitType})`}function hm(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ze.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of uh(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,m){const v=$x(d,y,m);return d.inclusive?v<=0:v<0})(s.startAt,uh(s),o)||s.endAt&&!(function(d,y,m){const v=$x(d,y,m);return d.inclusive?v>=0:v>0})(s.endAt,uh(s),o))})(n,e)}function HM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jT(n){return(e,t)=>{let s=!1;for(const o of uh(n)){const c=qM(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function qM(n,e,t){const s=n.field.isKeyField()?ze.comparator(e.key,t.key):(function(c,d,y){const m=d.data.field(c),v=y.data.field(c);return m!==null&&v!==null?Gc(m,v):Ge(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ge(19790,{direction:n.dir})}}class ql{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return vT(this.inner)}size(){return this.innerSize}}const FM=new Xt(ze.comparator);function wa(){return FM}const VT=new Xt(ze.comparator);function nh(...n){let e=VT;for(const t of n)e=e.insert(t.key,t);return e}function zT(n){let e=VT;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Al(){return hh()}function UT(){return hh()}function hh(){return new ql((n=>n.toString()),((n,e)=>n.isEqual(e)))}const GM=new Xt(ze.comparator),ZM=new Nn(ze.comparator);function pt(...n){let e=ZM;for(const t of n)e=e.add(t);return e}const $M=new Nn(mt);function YM(){return $M}function ny(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function BT(n){return{integerValue:""+n}}function HT(n,e){return yM(e)?BT(e):ny(n,e)}class dm{constructor(){this._=void 0}}function KM(n,e,t){return n instanceof kf?(function(o,c){const d={fields:{[wT]:{stringValue:xT},[ET]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&X_(c)&&(c=lm(c)),c&&(d.fields[TT]=c),{mapValue:d}})(t,e):n instanceof Th?FT(n,e):n instanceof Eh?GT(n,e):(function(o,c){const d=qT(o,c),y=Qx(d)+Qx(o.Ae);return r_(d)&&r_(o.Ae)?BT(y):ny(o.serializer,y)})(n,e)}function WM(n,e,t){return n instanceof Th?FT(n,e):n instanceof Eh?GT(n,e):t}function qT(n,e){return n instanceof Sh?(function(s){return r_(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class kf extends dm{}class Th extends dm{constructor(e){super(),this.elements=e}}function FT(n,e){const t=ZT(e);for(const s of n.elements)t.some((o=>kr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Eh extends dm{constructor(e){super(),this.elements=e}}function GT(n,e){let t=ZT(e);for(const s of n.elements)t=t.filter((o=>!kr(o,s)));return{arrayValue:{values:t}}}class Sh extends dm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Qx(n){return fn(n.integerValue||n.doubleValue)}function ZT(n){return J_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class QM{constructor(e,t){this.field=e,this.transform=t}}function XM(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Th&&o instanceof Th||s instanceof Eh&&o instanceof Eh?Fc(s.elements,o.elements,kr):s instanceof Sh&&o instanceof Sh?kr(s.Ae,o.Ae):s instanceof kf&&o instanceof kf})(n.transform,e.transform)}class JM{constructor(e,t){this.version=e,this.transformResults=t}}class pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fm{}function $T(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new mm(n.key,pi.none()):new kh(n.key,n.data,pi.none());{const t=n.data,s=mi.empty();let o=new Nn(Fn.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new ko(n.key,s,new rs(o.toArray()),pi.none())}}function eL(n,e,t){n instanceof kh?(function(o,c,d){const y=o.value.clone(),m=Jx(o.fieldTransforms,c,d.transformResults);y.setAll(m),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(n,e,t):n instanceof ko?(function(o,c,d){if(!gf(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=Jx(o.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(YT(o)),m.setAll(y),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(n,e,t):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function dh(n,e,t,s){return n instanceof kh?(function(c,d,y,m){if(!gf(c.precondition,d))return y;const v=c.value.clone(),w=ew(c.fieldTransforms,m,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof ko?(function(c,d,y,m){if(!gf(c.precondition,d))return y;const v=ew(c.fieldTransforms,m,d),w=d.data;return w.setAll(YT(c)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(n,e,t,s):(function(c,d,y){return gf(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(n,e,t)}function tL(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=qT(s.transform,o||null);c!=null&&(t===null&&(t=mi.empty()),t.set(s.field,c))}return t||null}function Xx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fc(s,o,((c,d)=>XM(c,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kh extends fm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ko extends fm{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Jx(n,e,t){const s=new Map;At(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,y=e.data.field(c.field);s.set(c.field,WM(d,y,t[o]))}return s}function ew(n,e,t){const s=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);s.set(o.field,KM(c,d,e))}return s}class mm extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nL extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iL{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&eL(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=UT();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=t.has(o.key)?null:y;const m=$T(d,y);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(We.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Fc(this.mutations,e.mutations,((t,s)=>Xx(t,s)))&&Fc(this.baseMutations,e.baseMutations,((t,s)=>Xx(t,s)))}}class iy{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){At(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return GM})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new iy(e,t,s,o)}}class sL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rL{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}class aL{constructor(e,t){this.count=e,this.unchangedNames=t}}var xn,vt;function oL(n){switch(n){case be.OK:return Ge(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function KT(n){if(n===void 0)return xa("GRPC error has no .code"),be.UNKNOWN;switch(n){case xn.OK:return be.OK;case xn.CANCELLED:return be.CANCELLED;case xn.UNKNOWN:return be.UNKNOWN;case xn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case xn.INTERNAL:return be.INTERNAL;case xn.UNAVAILABLE:return be.UNAVAILABLE;case xn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case xn.NOT_FOUND:return be.NOT_FOUND;case xn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case xn.ABORTED:return be.ABORTED;case xn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case xn.DATA_LOSS:return be.DATA_LOSS;default:return Ge(39323,{code:n})}}(vt=xn||(xn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";function lL(){return new TextEncoder}const cL=new So([4294967295,4294967295],0);function tw(n){const e=lL().encode(n),t=new lT;return t.update(e),new Uint8Array(t.digest())}function nw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new So([t,s],0),new So([o,c],0)]}class sy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ih(`Invalid padding: ${t}`);if(s<0)throw new ih(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ih(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=So.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(So.fromNumber(s)));return o.compare(cL)===1&&(o=new So([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=tw(e),[s,o]=nw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new sy(c,o,t);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const t=tw(e),[s,o]=nw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.be(d)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pm{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,jh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new pm(We.min(),o,new Xt(mt),wa(),pt())}}class jh{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new jh(s,t,pt(),pt(),pt())}}class _f{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class WT{constructor(e,t){this.targetId=e,this.Ce=t}}class QT{constructor(e,t,s=Gn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class iw{constructor(){this.ve=0,this.Fe=sw(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),t=pt(),s=pt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ge(38017,{changeType:c})}})),new jh(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=sw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class uL{constructor(e){this.Ge=e,this.ze=new Map,this.je=wa(),this.He=ef(),this.Je=ef(),this.Ze=new Xt(mt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(o_(c))if(s===0){const d=new ze(c.path);this.et(t,d,ni.newNoDocument(d,We.min()))}else At(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const y=this.ut(e),m=y?this.ct(y,e,d):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let d,y;try{d=Io(s).toUint8Array()}catch(m){if(m instanceof bT)return kl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{y=new sy(d,o,c)}catch(m){return kl(m instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return y.ge===0?null:y}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&o_(y.target)){const m=new ze(y.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,ni.newNoDocument(m,e))}c.Be&&(t.set(d,c.ke()),c.Ke())}}));let s=pt();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new pm(e,t,this.Ze,this.je,s);return this.je=wa(),this.He=ef(),this.Je=ef(),this.Ze=new Xt(mt),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new iw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Nn(mt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Nn(mt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ef(){return new Xt(ze.comparator)}function sw(){return new Xt(ze.comparator)}const hL={asc:"ASCENDING",desc:"DESCENDING"},dL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fL={and:"AND",or:"OR"};class mL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function c_(n,e){return n.useProto3Json||om(e)?e:{value:e}}function jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pL(n,e){return jf(n,e.toTimestamp())}function Lr(n){return At(!!n,49232),We.fromTimestamp((function(t){const s=Ro(t);return new Gt(s.seconds,s.nanos)})(n))}function ry(n,e){return u_(n,e).canonicalString()}function u_(n,e){const t=(function(o){return new Ut(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function JT(n){const e=Ut.fromString(n);return At(rE(e),10190,{key:e.toString()}),e}function h_(n,e){return ry(n.databaseId,e.path)}function Ng(n,e){const t=JT(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(tE(t))}function eE(n,e){return ry(n.databaseId,e)}function gL(n){const e=JT(n);return e.length===4?Ut.emptyPath():tE(e)}function d_(n){return new Ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tE(n){return At(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rw(n,e,t){return{name:h_(n,e),fields:t.value.mapValue.fields}}function _L(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ge(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(At(w===void 0||typeof w=="string",58123),Gn.fromBase64String(w||"")):(At(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Gn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(v){const w=v.code===void 0?be.UNKNOWN:KT(v.code);return new Pe(w,v.message||"")})(d);t=new QT(s,o,c,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ng(n,s.document.name),c=Lr(s.document.updateTime),d=s.document.createTime?Lr(s.document.createTime):We.min(),y=new mi({mapValue:{fields:s.document.fields}}),m=ni.newFoundDocument(o,c,d,y),v=s.targetIds||[],w=s.removedTargetIds||[];t=new _f(v,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ng(n,s.document),c=s.readTime?Lr(s.readTime):We.min(),d=ni.newNoDocument(o,c),y=s.removedTargetIds||[];t=new _f([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ng(n,s.document),c=s.removedTargetIds||[];t=new _f([],c,o,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new aL(o,c),y=s.targetId;t=new WT(y,d)}}return t}function yL(n,e){let t;if(e instanceof kh)t={update:rw(n,e.key,e.value)};else if(e instanceof mm)t={delete:h_(n,e.key)};else if(e instanceof ko)t={update:rw(n,e.key,e.data),updateMask:CL(e.fieldMask)};else{if(!(e instanceof nL))return Ge(16599,{dt:e.type});t={verify:h_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const y=d.transform;if(y instanceof kf)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Th)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Eh)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Sh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Ge(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:pL(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ge(27497)})(n,e.precondition)),t}function vL(n,e){return n&&n.length>0?(At(e!==void 0,14353),n.map((t=>(function(o,c){let d=o.updateTime?Lr(o.updateTime):Lr(c);return d.isEqual(We.min())&&(d=Lr(c)),new JM(d,o.transformResults||[])})(t,e)))):[]}function bL(n,e){return{documents:[eE(n,e.path)]}}function nE(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=eE(n,o);const c=(function(v){if(v.length!==0)return sE(Js.create(v,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((w=>(function(N){return{field:yo(N.field),direction:EL(N.dir)}})(w)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const y=c_(n,e.limit);return y!==null&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function xL(n,e,t,s){const{ft:o,parent:c}=nE(n,e),d={},y=[];let m=0;return t.forEach((v=>{const w="aggregate_"+m++;d[w]=v.alias,v.aggregateType==="count"?y.push({alias:w,count:{}}):v.aggregateType==="avg"?y.push({alias:w,avg:{field:yo(v.fieldPath)}}):v.aggregateType==="sum"&&y.push({alias:w,sum:{field:yo(v.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:y,structuredQuery:o.structuredQuery},parent:o.parent},gt:d,parent:c}}function wL(n){let e=gL(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){At(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(T){const N=iE(T);return N instanceof Js&&IT(N)?N.getFilters():[N]})(t.where));let d=[];t.orderBy&&(d=(function(T){return T.map((N=>(function(k){return new wh(kc(k.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(N)))})(t.orderBy));let y=null;t.limit&&(y=(function(T){let N;return N=typeof T=="object"?T.value:T,om(N)?null:N})(t.limit));let m=null;t.startAt&&(m=(function(T){const N=!!T.before,R=T.values||[];return new Of(R,N)})(t.startAt));let v=null;return t.endAt&&(v=(function(T){const N=!T.before,R=T.values||[];return new Of(R,N)})(t.endAt)),VM(e,o,d,c,y,"F",m,v)}function TL(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=kc(t.unaryFilter.field);return Tn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=kc(t.unaryFilter.field);return Tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=kc(t.unaryFilter.field);return Tn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=kc(t.unaryFilter.field);return Tn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tn.create(kc(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Js.create(t.compositeFilter.filters.map((s=>iE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(t.compositeFilter.op))})(n):Ge(30097,{filter:n})}function EL(n){return hL[n]}function SL(n){return dL[n]}function AL(n){return fL[n]}function yo(n){return{fieldPath:n.canonicalString()}}function kc(n){return Fn.fromServerFormat(n.fieldPath)}function sE(n){return n instanceof Tn?(function(t){if(t.op==="=="){if(Zx(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NAN"}};if(Gx(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zx(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NAN"}};if(Gx(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(t.field),op:SL(t.op),value:t.value}}})(n):n instanceof Js?(function(t){const s=t.getFilters().map((o=>sE(o)));return s.length===1?s[0]:{compositeFilter:{op:AL(t.op),filters:s}}})(n):Ge(54877,{filter:n})}function CL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function rE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function aE(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class xo{constructor(e,t,s,o,c=We.min(),d=We.min(),y=Gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=m}withSequenceNumber(e){return new xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NL{constructor(e){this.yt=e}}function RL(n){const e=wL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Df(e,e.limit,"L"):e}class IL{constructor(){this.Sn=new PL}addToCollectionParentIndex(e,t){return this.Sn.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Ee.resolve()}deleteFieldIndex(e,t){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,t){return Ee.resolve()}getDocumentsMatchingTarget(e,t){return Ee.resolve(null)}getIndexType(e,t){return Ee.resolve(0)}getFieldIndexes(e,t){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,t){return Ee.resolve(No.min())}getMinOffsetFromCollectionGroup(e,t){return Ee.resolve(No.min())}updateCollectionGroup(e,t,s){return Ee.resolve()}updateIndexEntries(e,t){return Ee.resolve()}}class PL{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Nn(Ut.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nn(Ut.comparator)).toArray()}}const aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oE=41943040;class ji{static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(oE,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);class $c{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $c(0)}static ar(){return new $c(-1)}}const ow="LruGarbageCollector",ML=1048576;function lw([n,e],[t,s]){const o=mt(n,t);return o===0?mt(e,s):o}class LL{constructor(e){this.Pr=e,this.buffer=new Nn(lw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();lw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OL{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Le(ow,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){su(t)?Le(ow,"Ignoring IndexedDB error during garbage collection: ",t):await iu(t)}await this.Ar(3e5)}))}}class DL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Ee.resolve(am.ce);const s=new LL(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(aw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,c,d,y,m,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,y=Date.now(),this.removeTargets(e,s,t)))).next((T=>(c=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(v=Date.now(),Oc()<=ft.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(m-y)+`ms
	Removed ${T} documents in `+(v-m)+`ms
Total Duration: ${v-w}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function kL(n,e){return new DL(n,e)}class jL{constructor(){this.changes=new ql((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zL{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&dh(s.mutation,o,rs.empty(),Gt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,pt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=pt()){const o=Al();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let d=nh();return c.forEach(((y,m)=>{d=d.insert(y,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=Al();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,pt())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{t.set(d,y)}))}))}computeViews(e,t,s,o){let c=wa();const d=hh(),y=(function(){return hh()})();return t.forEach(((m,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof ko)?c=c.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),dh(w.mutation,v,w.mutation.getFieldMask(),Gt.now())):d.set(v.key,rs.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((v,w)=>d.set(v,w))),t.forEach(((v,w)=>y.set(v,new VL(w,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(e,t){const s=hh();let o=new Xt(((d,y)=>d-y)),c=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const y of d)y.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let w=s.get(m)||rs.empty();w=y.applyToLocalView(v,w),s.set(m,w);const T=(o.get(y.batchId)||pt()).add(m);o=o.insert(y.batchId,T)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const m=y.getNext(),v=m.key,w=m.value,T=UT();w.forEach((N=>{if(!c.has(N)){const R=$T(t.get(N),s.get(N));R!==null&&T.set(N,R),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,T))}return Ee.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return zM(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):Ee.resolve(Al());let y=yh,m=c;return d.next((v=>Ee.forEach(v,((w,T)=>(y<T.largestBatchId&&(y=T.largestBatchId),c.get(w)?Ee.resolve():this.remoteDocumentCache.getEntry(e,w).next((N=>{m=m.insert(w,N)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,m,v,pt()))).next((w=>({batchId:y,changes:zT(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next((s=>{let o=nh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let d=nh();return this.indexManager.getCollectionParents(e,c).next((y=>Ee.forEach(y,(m=>{const v=(function(T,N){return new ru(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((T,N)=>{d=d.insert(T,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((d=>{c.forEach(((m,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,ni.newInvalidDocument(w)))}));let y=nh();return d.forEach(((m,v)=>{const w=c.get(m);w!==void 0&&dh(w.mutation,v,rs.empty(),Gt.now()),hm(t,v)&&(y=y.insert(m,v))})),y}))}}class UL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Ee.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Lr(o.createTime)}})(t)),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:RL(o.bundledQuery),readTime:Lr(o.readTime)}})(t)),Ee.resolve()}}class BL{constructor(){this.overlays=new Xt(ze.comparator),this.Lr=new Map}getOverlay(e,t){return Ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Al();return Ee.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.bt(e,t,c)})),Ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Ee.resolve()}getOverlaysForCollection(e,t,s){const o=Al(),c=t.length+1,d=new ze(t.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const m=y.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new Xt(((v,w)=>v-w));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Al(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const y=Al(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,w)=>y.set(v,w))),!(y.size()>=o)););return Ee.resolve(y)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new sL(t,s));let c=this.Lr.get(t);c===void 0&&(c=pt(),this.Lr.set(t,c)),this.Lr.set(t,c.add(s.key))}}class HL{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ee.resolve()}}class ay{constructor(){this.kr=new Nn(jn.Kr),this.qr=new Nn(jn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new jn(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new jn(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new ze(new Ut([])),s=new jn(t,e),o=new jn(t,e+1),c=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ze(new Ut([])),s=new jn(t,e),o=new jn(t,e+1);let c=pt();return this.qr.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const t=new jn(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ze.comparator(e.key,t.key)||mt(e.Hr,t.Hr)}static Ur(e,t){return mt(e.Hr,t.Hr)||ze.comparator(e.key,t.key)}}class qL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Nn(jn.Kr)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iL(c,t,s,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new jn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Ee.resolve(d)}lookupMutationBatch(e,t){return Ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),c=o<0?0:o;return Ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?Q_:this.Yn-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jn(t,0),o=new jn(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(d=>{const y=this.Zr(d.Hr);c.push(y)})),Ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Nn(mt);return t.forEach((o=>{const c=new jn(o,0),d=new jn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{s=s.add(y.Hr)}))})),Ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;ze.isDocumentKey(c)||(c=c.child(""));const d=new jn(new ze(c),0);let y=new Nn(mt);return this.Jr.forEachWhile((m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(y=y.add(m.Hr)),!0)}),d),Ee.resolve(this.Yr(y))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){At(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Ee.forEach(t.mutations,(o=>{const c=new jn(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new jn(t,0),o=this.Jr.firstAfterOrEqual(s);return Ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class FL{constructor(e){this.ti=e,this.docs=(function(){return new Xt(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,d=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ee.resolve(s?s.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let s=wa();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ni.newInvalidDocument(o))})),Ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=wa();const d=t.path,y=new ze(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(y);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||mM(fM(w),s)<=0||(o.has(w.key)||hm(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return Ee.resolve(c)}getAllFromCollectionGroup(e,t,s,o){Ge(9500)}ni(e,t){return Ee.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new GL(this)}getSize(e){return Ee.resolve(this.size)}}class GL extends jL{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Ee.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class ZL{constructor(e){this.persistence=e,this.ri=new ql((t=>ey(t)),ty),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ii=0,this.si=new ay,this.targetCount=0,this.oi=$c._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),Ee.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new $c(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.lr(t),Ee.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=t&&s.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Ee.waitFor(c).next((()=>o))}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return Ee.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),Ee.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Ee.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return Ee.resolve(s)}containsKey(e,t){return Ee.resolve(this.si.containsKey(t))}}class lE{constructor(e,t){this._i={},this.overlays={},this.ai=new am(0),this.ui=!1,this.ui=!0,this.ci=new HL,this.referenceDelegate=e(this),this.li=new ZL(this),this.indexManager=new IL,this.remoteDocumentCache=(function(o){return new FL(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new NL(t),this.Pi=new UL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new qL(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){Le("MemoryPersistence","Starting transaction:",e);const o=new $L(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,t){return Ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class $L extends gM{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Ri=new ay,this.Ai=null}static Vi(e){return new oy(e)}get di(){if(this.Ai)return this.Ai;throw Ge(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),Ee.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.di,(s=>{const o=ze.fromPath(s);return this.mi(e,o).next((c=>{c||t.removeEntry(o,We.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Vf{constructor(e,t){this.persistence=e,this.fi=new ql((s=>vM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=kL(this,t)}static Vi(e,t){return new Vf(e,t)}Ti(){}Ii(e){return Ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return Ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?Ee.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,t).next((y=>{y||(s++,c.removeEntry(d,We.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Ee.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Ee.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mf(e.data.value)),t}wr(e,t,s){return Ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return Ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ly{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=pt(),o=pt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ly(e,t.fromCache,s,o)}}class YL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dN()?8:_M(si())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.gs(e,t).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,t,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new YL;return this.ys(e,t,d).next((y=>{if(c.result=y,this.As)return this.ws(e,t,d,y.size)}))})).next((()=>c.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(Oc()<=ft.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Dc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ee.resolve()):(Oc()<=ft.DEBUG&&Le("QueryEngine","Query:",Dc(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Oc()<=ft.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Dc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):Ee.resolve())}gs(e,t){if(Wx(t))return Ee.resolve(null);let s=Mr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Df(t,null,"F"),s=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=pt(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((m=>{const v=this.bs(t,y);return this.Ss(t,v,d,m.readTime)?this.gs(e,Df(t,null,"F")):this.Ds(e,v,t,m)}))))})))))}ps(e,t,s,o){return Wx(t)||o.isEqual(We.min())?Ee.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(t,c);return this.Ss(t,d,s,o)?Ee.resolve(null):(Oc()<=ft.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Dc(t)),this.Ds(e,d,t,dM(o,yh)).next((y=>y)))}))}bs(e,t){let s=new Nn(jT(e));return t.forEach(((o,c)=>{hm(e,c)&&(s=s.add(c))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,t,s){return Oc()<=ft.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Dc(t)),this.fs.getDocumentsMatchingQuery(e,t,No.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const cy="LocalStore",WL=3e8;class QL{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new Xt(mt),this.Fs=new ql((c=>ey(c)),ty),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function XL(n,e,t,s){return new QL(n,e,t,s)}async function cE(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],y=[];let m=pt();for(const v of o){d.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of c){y.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(s,m).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function JL(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(y,m,v,w){const T=v.batch,N=T.keys();let R=Ee.resolve();return N.forEach((k=>{R=R.next((()=>w.getEntry(m,k))).next((z=>{const D=v.docVersions.get(k);At(D!==null,48541),z.version.compareTo(D)<0&&(T.applyToRemoteDocument(z,v),z.isValidDocument()&&(z.setReadTime(v.commitVersion),w.addEntry(z)))}))})),R.next((()=>y.mutationQueue.removeMutationBatch(m,T)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let m=pt();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(m=m.add(y.batch.mutations[v].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function uE(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function eO(n,e){const t=Ke(n),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const y=[];e.targetChanges.forEach(((w,T)=>{const N=o.get(T);if(!N)return;y.push(t.li.removeMatchingKeys(c,w.removedDocuments,T).next((()=>t.li.addMatchingKeys(c,w.addedDocuments,T))));let R=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(Gn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,s)),o=o.insert(T,R),(function(z,D,O){return z.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=WL?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(N,R,w)&&y.push(t.li.updateTargetData(c,R))}));let m=wa(),v=pt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),y.push(tO(c,d,e.documentUpdates).next((w=>{m=w.Bs,v=w.Ls}))),!s.isEqual(We.min())){const w=t.li.getLastRemoteSnapshotVersion(c).next((T=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));y.push(w)}return Ee.waitFor(y).next((()=>d.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,m,v))).next((()=>m))})).then((c=>(t.vs=o,c)))}function tO(n,e,t){let s=pt(),o=pt();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let d=wa();return t.forEach(((y,m)=>{const v=c.get(y);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(y)),m.isNoDocument()&&m.version.isEqual(We.min())?(e.removeEntry(y,m.readTime),d=d.insert(y,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),d=d.insert(y,m)):Le(cy,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",m.version)})),{Bs:d,Ls:o}}))}function nO(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Q_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function iO(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((c=>c?(o=c,Ee.resolve(o)):t.li.allocateTargetId(s).next((d=>(o=new xo(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function f_(n,e,t){const s=Ke(n),o=s.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!su(d))throw d;Le(cy,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function cw(n,e,t){const s=Ke(n);let o=We.min(),c=pt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,v,w){const T=Ke(m),N=T.Fs.get(w);return N!==void 0?Ee.resolve(T.vs.get(N)):T.li.getTargetData(v,w)})(s,d,Mr(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,y.targetId).next((m=>{c=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,t?o:We.min(),t?c:pt()))).next((y=>(sO(s,HM(e),y),{documents:y,ks:c})))))}function sO(n,e,t){let s=n.Ms.get(e)||We.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Ms.set(e,s)}class uw{constructor(){this.activeTargetIds=YM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rO{constructor(){this.vo=new uw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new uw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aO{Mo(e){}shutdown(){}}const hw="ConnectivityMonitor";class dw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Le(hw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Le(hw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tf=null;function m_(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}const Rg="RestConnection",oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Mf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,c){const d=m_(),y=this.Qo(e,t.toUriEncodedString());Le(Rg,`Sending RPC '${e}' ${d}:`,y,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,c);const{host:v}=new URL(y),w=Oo(v);return this.zo(e,y,m,s,w).then((T=>(Le(Rg,`Received RPC '${e}' ${d}: `,T),T)),(T=>{throw kl(Rg,`RPC '${e}' ${d} failed with error: `,T,"url: ",y,"request:",s),T}))}jo(e,t,s,o,c,d){return this.Wo(e,t,s,o,c)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,t){const s=oO[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class cO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ei="WebChannelConnection",Wu=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Uc extends lO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Uc.c_){const e=dT();Wu(e,hT.STAT_EVENT,(t=>{t.stat===n_.PROXY?Le(ei,"STAT_EVENT: detected buffering proxy"):t.stat===n_.NOPROXY&&Le(ei,"STAT_EVENT: detected no buffering proxy")})),Uc.c_=!0}}zo(e,t,s,o,c){const d=m_();return new Promise(((y,m)=>{const v=new cT;v.setWithCredentials(!0),v.listenOnce(uT.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ff.NO_ERROR:const T=v.getResponseJson();Le(ei,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(T)),y(T);break;case ff.TIMEOUT:Le(ei,`RPC '${e}' ${d} timed out`),m(new Pe(be.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const N=v.getStatus();if(Le(ei,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const z=(function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(H)>=0?H:be.UNKNOWN})(k.status);m(new Pe(z,k.message))}else m(new Pe(be.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new Pe(be.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Le(ei,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);Le(ei,`RPC '${e}' ${d} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=m_(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(y.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const v=c.join("");Le(ei,`Creating RPC '${e}' stream ${o}: ${v}`,y);const w=d.createWebChannel(v,y);this.I_(w);let T=!1,N=!1;const R=new cO({Ho:k=>{N?Le(ei,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(T||(Le(ei,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),Le(ei,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Jo:()=>w.close()});return Wu(w,th.EventType.OPEN,(()=>{N||(Le(ei,`RPC '${e}' stream ${o} transport opened.`),R.i_())})),Wu(w,th.EventType.CLOSE,(()=>{N||(N=!0,Le(ei,`RPC '${e}' stream ${o} transport closed`),R.o_(),this.E_(w))})),Wu(w,th.EventType.ERROR,(k=>{N||(N=!0,kl(ei,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),R.o_(new Pe(be.UNAVAILABLE,"The operation could not be completed")))})),Wu(w,th.EventType.MESSAGE,(k=>{if(!N){const z=k.data[0];At(!!z,16349);const D=z,O=D?.error||D[0]?.error;if(O){Le(ei,`RPC '${e}' stream ${o} received error:`,O);const H=O.status;let Z=(function(fe){const V=xn[fe];if(V!==void 0)return KT(V)})(H),J=O.message;H==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&kl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Z===void 0&&(Z=be.INTERNAL,J="Unknown error status: "+H+" with message "+O.message),N=!0,R.o_(new Pe(Z,J)),w.close()}else Le(ei,`RPC '${e}' stream ${o} received:`,z),R.__(z)}})),Uc.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fT()}}function uO(n){return new Uc(n)}function Ig(){return typeof document<"u"?document:null}function gm(n){return new mL(n,!0)}Uc.c_=!1;class hE{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fw="PersistentStream";class dE{constructor(e,t,s,o,c,d,y,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(xa(t.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Pe(be.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Le(fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hO extends dE{constructor(e,t,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_L(this.serializer,e),s=(function(c){if(!("targetChange"in c))return We.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?We.min():d.readTime?Lr(d.readTime):We.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=d_(this.serializer),t.addTarget=(function(c,d){let y;const m=d.target;if(y=o_(m)?{documents:bL(c,m)}:{query:nE(c,m).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=XT(c,d.resumeToken);const v=c_(c,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(We.min())>0){y.readTime=jf(c,d.snapshotVersion.toTimestamp());const v=c_(c,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,e);const s=TL(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=d_(this.serializer),t.removeTarget=e,this.K_(t)}}class dO extends dE{constructor(e,t,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vL(e.writeResults,e.commitTime),s=Lr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=d_(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>yL(this.serializer,s)))};this.K_(t)}}class fO{}class mO extends fO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Pe(be.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,u_(t,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(be.UNKNOWN,c.toString())}))}jo(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,u_(t,s),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Pe(be.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function pO(n,e,t,s){return new mO(n,e,t,s)}class gO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xa(t),this.aa=!1):Le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const jl="RemoteStore";class _O{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Fl(this)&&(Le(jl,"Restarting streams for network reachability change."),await(async function(m){const v=Ke(m);v.Ea.add(4),await Vh(v),v.Va.set("Unknown"),v.Ea.delete(4),await _m(v)})(this))}))})),this.Va=new gO(s,o)}}async function _m(n){if(Fl(n))for(const e of n.Ra)await e(!0)}async function Vh(n){for(const e of n.Ra)await e(!1)}function fE(n,e){const t=Ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),fy(t)?dy(t):au(t).O_()&&hy(t,e))}function uy(n,e){const t=Ke(n),s=au(t);t.Ia.delete(e),s.O_()&&mE(t,e),t.Ia.size===0&&(s.O_()?s.L_():Fl(t)&&t.Va.set("Unknown"))}function hy(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(n).Z_(e)}function mE(n,e){n.da.$e(e),au(n).X_(e)}function dy(n){n.da=new uL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),au(n).start(),n.Va.ua()}function fy(n){return Fl(n)&&!au(n).x_()&&n.Ia.size>0}function Fl(n){return Ke(n).Ea.size===0}function pE(n){n.da=void 0}async function yO(n){n.Va.set("Online")}async function vO(n){n.Ia.forEach(((e,t)=>{hy(n,e)}))}async function bO(n,e){pE(n),fy(n)?(n.Va.ha(e),dy(n)):n.Va.set("Unknown")}async function xO(n,e,t){if(n.Va.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(n,e)}catch(s){Le(jl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zf(n,s)}else if(e instanceof _f?n.da.Xe(e):e instanceof WT?n.da.st(e):n.da.tt(e),!t.isEqual(We.min()))try{const s=await uE(n.localStore);t.compareTo(s)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(m.resumeToken,d))}})),y.targetMismatches.forEach(((m,v)=>{const w=c.Ia.get(m);if(!w)return;c.Ia.set(m,w.withResumeToken(Gn.EMPTY_BYTE_STRING,w.snapshotVersion)),mE(c,m);const T=new xo(w.target,m,v,w.sequenceNumber);hy(c,T)})),c.remoteSyncer.applyRemoteEvent(y)})(n,t)}catch(s){Le(jl,"Failed to raise snapshot:",s),await zf(n,s)}}async function zf(n,e,t){if(!su(e))throw e;n.Ea.add(1),await Vh(n),n.Va.set("Offline"),t||(t=()=>uE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Le(jl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await _m(n)}))}function gE(n,e){return e().catch((t=>zf(n,t,e)))}async function ym(n){const e=Ke(n),t=Mo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Q_;for(;wO(e);)try{const o=await nO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,TO(e,o)}catch(o){await zf(e,o)}_E(e)&&yE(e)}function wO(n){return Fl(n)&&n.Ta.length<10}function TO(n,e){n.Ta.push(e);const t=Mo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function _E(n){return Fl(n)&&!Mo(n).x_()&&n.Ta.length>0}function yE(n){Mo(n).start()}async function EO(n){Mo(n).ra()}async function SO(n){const e=Mo(n);for(const t of n.Ta)e.ea(t.mutations)}async function AO(n,e,t){const s=n.Ta.shift(),o=iy.from(s,e,t);await gE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await ym(n)}async function CO(n,e){e&&Mo(n).Y_&&await(async function(s,o){if((function(d){return oL(d)&&d!==be.ABORTED})(o.code)){const c=s.Ta.shift();Mo(s).B_(),await gE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ym(s)}})(n,e),_E(n)&&yE(n)}async function mw(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Le(jl,"RemoteStore received new credentials");const s=Fl(t);t.Ea.add(3),await Vh(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _m(t)}async function NO(n,e){const t=Ke(n);e?(t.Ea.delete(2),await _m(t)):e||(t.Ea.add(2),await Vh(t),t.Va.set("Unknown"))}function au(n){return n.ma||(n.ma=(function(t,s,o){const c=Ke(t);return c.sa(),new hO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:yO.bind(null,n),Yo:vO.bind(null,n),t_:bO.bind(null,n),J_:xO.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),fy(n)?dy(n):n.Va.set("Unknown")):(await n.ma.stop(),pE(n))}))),n.ma}function Mo(n){return n.fa||(n.fa=(function(t,s,o){const c=Ke(t);return c.sa(),new dO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:EO.bind(null,n),t_:CO.bind(null,n),ta:SO.bind(null,n),na:AO.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await ym(n)):(await n.fa.stop(),n.Ta.length>0&&(Le(jl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class my{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const d=Date.now()+s,y=new my(e,t,d,o,c);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(n,e){if(xa("AsyncQueue",`${e}: ${n}`),su(n))return new Pe(be.UNAVAILABLE,`${e}: ${n}`);throw n}class Bc{static emptySet(e){return new Bc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ze.comparator(t.key,s.key):(t,s)=>ze.comparator(t.key,s.key),this.keyedMap=nh(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Bc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class pw{constructor(){this.ga=new Xt(ze.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Yc{constructor(e,t,s,o,c,d,y,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,c){const d=[];return t.forEach((y=>{d.push({type:0,doc:y})})),new Yc(e,t,Bc.emptySet(t),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class RO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class IO{constructor(){this.queries=gw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ke(t),c=o.queries;o.queries=gw(),c.forEach(((d,y)=>{for(const m of y.ba)m.onError(s)}))})(this,new Pe(be.ABORTED,"Firestore shutting down"))}}function gw(){return new ql((n=>kT(n)),um)}async function gy(n,e){const t=Ke(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new RO,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const y=py(d,`Initialization of query '${Dc(e.query)}' failed`);return void e.onError(y)}t.queries.set(o,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&yy(t)}async function _y(n,e){const t=Ke(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function PO(n,e){const t=Ke(n);let s=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const y of d.ba)y.Fa(o)&&(s=!0);d.wa=o}}s&&yy(t)}function MO(n,e,t){const s=Ke(n),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(t);s.queries.delete(e)}function yy(n){n.Ca.forEach((e=>{e.next()}))}var p_,_w;(_w=p_||(p_={})).Ma="default",_w.Cache="cache";class vy{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Yc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==p_.Cache}}class vE{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class LO{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pt(),this.mutatedKeys=pt(),this.eu=jT(e),this.tu=new Bc(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new pw,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,y=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const N=o.get(w),R=hm(this.query,T)?T:null,k=!!N&&this.mutatedKeys.has(N.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;N&&R?N.data.isEqual(R.data)?k!==z&&(s.track({type:3,doc:R}),D=!0):this.su(N,R)||(s.track({type:2,doc:R}),D=!0,(m&&this.eu(R,m)>0||v&&this.eu(R,v)<0)&&(y=!0)):!N&&R?(s.track({type:0,doc:R}),D=!0):N&&!R&&(s.track({type:1,doc:N}),D=!0,(m||v)&&(y=!0)),D&&(R?(d=d.add(R),c=z?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Ss:y,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,T)=>(function(R,k){const z=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:D})}};return z(R)-z(k)})(w.type,T.type)||this.eu(w.doc,T.doc))),this.ou(s),o=o??!1;const y=t&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,v=m!==this.Xa;return this.Xa=m,d.length!==0||v?{snapshot:new Yc(this.query,e.tu,c,d,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new bE(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new vE(s))})),t}cu(e){this.Za=e.ks,this.Ya=pt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const by="SyncEngine";class OO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class DO{constructor(e){this.key=e,this.hu=!1}}class kO{constructor(e,t,s,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ql((y=>kT(y)),um),this.Iu=new Map,this.Eu=new Set,this.Ru=new Xt(ze.comparator),this.Au=new Map,this.Vu=new ay,this.du={},this.mu=new Map,this.fu=$c.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jO(n,e,t=!0){const s=AE(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await xE(s,e,t,!0),o}async function VO(n,e){const t=AE(n);await xE(t,e,!0,!1)}async function xE(n,e,t,s){const o=await iO(n.localStore,Mr(e)),c=o.targetId,d=n.sharedClientState.addLocalQueryTarget(c,t);let y;return s&&(y=await zO(n,e,c,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&fE(n.remoteStore,o),y}async function zO(n,e,t,s,o){n.pu=(T,N,R)=>(async function(z,D,O,H){let Z=D.view.ru(O);Z.Ss&&(Z=await cw(z.localStore,D.query,!1).then((({documents:V})=>D.view.ru(V,Z))));const J=H&&H.targetChanges.get(D.targetId),te=H&&H.targetMismatches.get(D.targetId)!=null,fe=D.view.applyChanges(Z,z.isPrimaryClient,J,te);return vw(z,D.targetId,fe.au),fe.snapshot})(n,T,N,R);const c=await cw(n.localStore,e,!0),d=new LO(e,c.ks),y=d.ru(c.documents),m=jh.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=d.applyChanges(y,n.isPrimaryClient,m);vw(n,t,v.au);const w=new OO(e,t,d);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function UO(n,e,t){const s=Ke(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!um(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await f_(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&uy(s.remoteStore,o.targetId),g_(s,o.targetId)})).catch(iu)):(g_(s,o.targetId),await f_(s.localStore,o.targetId,!0))}async function BO(n,e){const t=Ke(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),uy(t.remoteStore,s.targetId))}async function HO(n,e,t){const s=KO(n);try{const o=await(function(d,y){const m=Ke(d),v=Gt.now(),w=y.reduce(((R,k)=>R.add(k.key)),pt());let T,N;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=wa(),z=pt();return m.xs.getEntries(R,w).next((D=>{k=D,k.forEach(((O,H)=>{H.isValidDocument()||(z=z.add(O))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,k))).next((D=>{T=D;const O=[];for(const H of y){const Z=tL(H,T.get(H.key).overlayedDocument);Z!=null&&O.push(new ko(H.key,Z,CT(Z.value.mapValue),pi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,v,O,y)})).next((D=>{N=D;const O=D.applyToLocalDocumentSet(T,z);return m.documentOverlayCache.saveOverlays(R,D.batchId,O)}))})).then((()=>({batchId:N.batchId,changes:zT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,m){let v=d.du[d.currentUser.toKey()];v||(v=new Xt(mt)),v=v.insert(y,m),d.du[d.currentUser.toKey()]=v})(s,o.batchId,t),await zh(s,o.changes),await ym(s.remoteStore)}catch(o){const c=py(o,"Failed to persist write");t.reject(c)}}async function wE(n,e){const t=Ke(n);try{const s=await eO(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=t.Au.get(c);d&&(At(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?At(d.hu,14607):o.removedDocuments.size>0&&(At(d.hu,42227),d.hu=!1))})),await zh(t,s,e)}catch(s){await iu(s)}}function yw(n,e,t){const s=Ke(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const m=Ke(d);m.onlineState=y;let v=!1;m.queries.forEach(((w,T)=>{for(const N of T.ba)N.va(y)&&(v=!0)})),v&&yy(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qO(n,e,t){const s=Ke(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new Xt(ze.comparator);d=d.insert(c,ni.newNoDocument(c,We.min()));const y=pt().add(c),m=new pm(We.min(),new Map,new Xt(mt),d,y);await wE(s,m),s.Ru=s.Ru.remove(c),s.Au.delete(e),xy(s)}else await f_(s.localStore,e,!1).then((()=>g_(s,e,t))).catch(iu)}async function FO(n,e){const t=Ke(n),s=e.batch.batchId;try{const o=await JL(t.localStore,e);EE(t,s,null),TE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await zh(t,o)}catch(o){await iu(o)}}async function GO(n,e,t){const s=Ke(n);try{const o=await(function(d,y){const m=Ke(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return m.mutationQueue.lookupMutationBatch(v,y).next((T=>(At(T!==null,37113),w=T.keys(),m.mutationQueue.removeMutationBatch(v,T)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,w,y))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>m.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);EE(s,e,t),TE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await zh(s,o)}catch(o){await iu(o)}}function TE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function EE(n,e,t){const s=Ke(n);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function g_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||SE(n,s)}))}function SE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(uy(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),xy(n))}function vw(n,e,t){for(const s of t)s instanceof vE?(n.Vu.addReference(s.key,e),ZO(n,s)):s instanceof bE?(Le(by,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||SE(n,s.key)):Ge(19791,{wu:s})}function ZO(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(Le(by,"New document in limbo: "+t),n.Eu.add(s),xy(n))}function xy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ze(Ut.fromString(e)),s=n.fu.next();n.Au.set(s,new DO(t)),n.Ru=n.Ru.insert(t,s),fE(n.remoteStore,new xo(Mr(cm(t.path)),s,"TargetPurposeLimboResolution",am.ce))}}async function zh(n,e,t){const s=Ke(n),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,m)=>{d.push(s.pu(m,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(v){o.push(v);const w=ly.Es(m.targetId,v);c.push(w)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(m,v){const w=Ke(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Ee.forEach(v,(N=>Ee.forEach(N.Ts,(R=>w.persistence.referenceDelegate.addReference(T,N.targetId,R))).next((()=>Ee.forEach(N.Is,(R=>w.persistence.referenceDelegate.removeReference(T,N.targetId,R)))))))))}catch(T){if(!su(T))throw T;Le(cy,"Failed to update sequence numbers: "+T)}for(const T of v){const N=T.targetId;if(!T.fromCache){const R=w.vs.get(N),k=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(k);w.vs=w.vs.insert(N,z)}}})(s.localStore,c))}async function $O(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Le(by,"User change. New user:",e.toKey());const s=await cE(t.localStore,e);t.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((m=>{m.reject(new Pe(be.CANCELLED,d))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zh(t,s.Ns)}}function YO(n,e){const t=Ke(n),s=t.Au.get(e);if(s&&s.hu)return pt().add(s.key);{let o=pt();const c=t.Iu.get(e);if(!c)return o;for(const d of c){const y=t.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function AE(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qO.bind(null,e),e.Pu.J_=PO.bind(null,e.eventManager),e.Pu.yu=MO.bind(null,e.eventManager),e}function KO(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GO.bind(null,e),e}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return XL(this.persistence,new KL,e.initialUser,this.serializer)}Cu(e){return new lE(oy.Vi,this.serializer)}Du(e){return new rO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class WO extends Uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){At(this.persistence.referenceDelegate instanceof Vf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new OL(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new lE((s=>Vf.Vi(s,t)),this.serializer)}}class __{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$O.bind(null,this.syncEngine),await NO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IO})()}createDatastore(e){const t=gm(e.databaseInfo.databaseId),s=uO(e.databaseInfo);return pO(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,d,y){return new _O(s,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(t=>yw(this.syncEngine,t,0)),(function(){return dw.v()?new dw:new aO})())}createSyncEngine(e,t){return(function(o,c,d,y,m,v,w){const T=new kO(o,c,d,y,m,v);return w&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ke(t);Le(jl,"RemoteStore shutting down."),s.Ea.add(5),await Vh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}__.provider={build:()=>new __};class wy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Lo="FirestoreClient";class QO{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=ti.UNAUTHENTICATED,this.clientId=W_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{Le(Lo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Le(Lo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=py(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pg(n,e){n.asyncQueue.verifyOperationInProgress(),Le(Lo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await cE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function bw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await XO(n);Le(Lo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>mw(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>mw(e.remoteStore,o))),n._onlineComponents=e}async function XO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le(Lo,"Using user provided OfflineComponentProvider");try{await Pg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===be.FAILED_PRECONDITION||o.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;kl("Error using user provided cache. Falling back to memory cache: "+t),await Pg(n,new Uf)}}else Le(Lo,"Using default OfflineComponentProvider"),await Pg(n,new WO(void 0));return n._offlineComponents}async function Ty(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le(Lo,"Using user provided OnlineComponentProvider"),await bw(n,n._uninitializedComponentsProvider._online)):(Le(Lo,"Using default OnlineComponentProvider"),await bw(n,new __))),n._onlineComponents}function JO(n){return Ty(n).then((e=>e.syncEngine))}function eD(n){return Ty(n).then((e=>e.datastore))}async function Bf(n){const e=await Ty(n),t=e.eventManager;return t.onListen=jO.bind(null,e.syncEngine),t.onUnlisten=UO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=VO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BO.bind(null,e.syncEngine),t}function tD(n,e,t,s){const o=new wy(s),c=new vy(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>gy(await Bf(n),c))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>_y(await Bf(n),c)))}}function nD(n,e,t={}){const s=new Pr;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,m,v){const w=new wy({next:N=>{w.Nu(),d.enqueueAndForget((()=>_y(c,T)));const R=N.docs.has(y);!R&&N.fromCache?v.reject(new Pe(be.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&N.fromCache&&m&&m.source==="server"?v.reject(new Pe(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),T=new vy(cm(y.path),w,{includeMetadataChanges:!0,Ka:!0});return gy(c,T)})(await Bf(n),n.asyncQueue,e,t,s))),s.promise}function iD(n,e,t={}){const s=new Pr;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,m,v){const w=new wy({next:N=>{w.Nu(),d.enqueueAndForget((()=>_y(c,T))),N.fromCache&&m.source==="server"?v.reject(new Pe(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),T=new vy(y,w,{includeMetadataChanges:!0,Ka:!0});return gy(c,T)})(await Bf(n),n.asyncQueue,e,t,s))),s.promise}function sD(n,e,t){const s=new Pr;return n.asyncQueue.enqueueAndForget((async()=>{try{const o=await eD(n);s.resolve((async function(d,y,m){const v=Ke(d),{request:w,gt:T,parent:N}=xL(v.serializer,UM(y),m);v.connection.Ko||delete w.parent;const R=(await v.jo("RunAggregationQuery",v.serializer.databaseId,N,w,1)).filter((z=>!!z.result));At(R.length===1,64727);const k=R[0].result?.aggregateFields;return Object.keys(k).reduce(((z,D)=>(z[T[D]]=k[D],z)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}function rD(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((async()=>HO(await JO(n),e,t))),t.promise}function CE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const aD="ComponentProvider",xw=new Map;function oD(n,e,t,s,o){return new TM(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,CE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const NE="firestore.googleapis.com",ww=!0;class Tw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NE,this.ssl=ww}else this.host=e.host,this.ssl=e.ssl??ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ML)throw new Pe(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new tM;switch(s.type){case"firstParty":return new rM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Pe(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=xw.get(t);s&&(Le(aD,"Removing Datastore"),xw.delete(t),s.terminate())})(this),Promise.resolve()}}function lD(n,e,t,s={}){n=ii(n,vm);const o=Oo(e),c=n._getSettings(),d={...c,emulatorOptions:n._getEmulatorOptions()},y=`${e}:${t}`;o&&(O_(`https://${y}`),D_("Firestore",!0)),c.host!==NE&&c.host!==y&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:y,ssl:o,emulatorOptions:s};if(!Pl(m,d)&&(n._setSettings(m),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=ti.MOCK_USER;else{v=x1(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new Pe(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ti(T)}n._authCredentials=new nM(new pT(v,w))}}class Aa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class on{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Dh(t,on._jsonSchema))return new on(e,s||null,new ze(Ut.fromString(t.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:En("string",on._jsonSchemaVersion),referencePath:En("string")};class Ao extends Aa{constructor(e,t,s){super(e,t,cm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ze(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function wn(n,e,...t){if(n=kt(n),gT("collection","path",e),n instanceof vm){const s=Ut.fromString(e,...t);return kx(s),new Ao(n,null,s)}{if(!(n instanceof on||n instanceof Ao))throw new Pe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ut.fromString(e,...t));return kx(s),new Ao(n.firestore,null,s)}}function mn(n,e,...t){if(n=kt(n),arguments.length===1&&(e=W_.newId()),gT("doc","path",e),n instanceof vm){const s=Ut.fromString(e,...t);return Dx(s),new on(n,null,new ze(s))}{if(!(n instanceof on||n instanceof Ao))throw new Pe(be.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ut.fromString(e,...t));return Dx(s),new on(n.firestore,n instanceof Ao?n.converter:null,new ze(s))}}const Ew="AsyncQueue";class Sw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hE(this,"async_queue_retry"),this._c=()=>{const s=Ig();s&&Le(Ew,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Ig();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ig();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!su(e))throw e;Le(Ew,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,xa("INTERNAL UNHANDLED ERROR: ",Aw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=my.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ge(47125,{Pc:Aw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Aw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class er extends vm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Sw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sw(e),this._firestoreClient=void 0,await e}}}function cD(n,e){const t=typeof n=="object"?n:V_(),s=typeof n=="string"?n:Mf,o=tm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=y1("firestore");c&&lD(o,...c)}return o}function ou(n){if(n._terminated)throw new Pe(be.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uD(n),n._firestoreClient}function uD(n){const e=n._freezeSettings(),t=oD(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new QO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(Gn.fromBase64String(e))}catch(t){throw new Pe(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ps(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dh(e,Ps._jsonSchema))return Ps.fromBase64String(e.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:En("string",Ps._jsonSchemaVersion),bytes:En("string")};class bm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xm{constructor(e){this._methodName=e}}class Or{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Dh(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:En("string",Or._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};class Xs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dh(e,Xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Xs(e.vectorValues);throw new Pe(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xs._jsonSchemaVersion="firestore/vectorValue/1.0",Xs._jsonSchema={type:En("string",Xs._jsonSchemaVersion),vectorValues:En("object")};const hD=/^__.*__$/;class dD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}class RE{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ko(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{dataSource:n})}}class Ey{constructor(e,t,s,o,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ey({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Hf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(IE(this.dataSource)&&hD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class fD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gm(e)}createContext(e,t,s,o=!1){return new Ey({dataSource:e,methodName:t,targetDoc:s,path:Fn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(n){const e=n._freezeSettings(),t=gm(n._databaseId);return new fD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sy(n,e,t,s,o,c={}){const d=n.createContext(c.merge||c.mergeFields?2:0,e,t,o);Cy("Data must be an object, but it was:",d,s);const y=LE(s,d);let m,v;if(c.merge)m=new rs(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const T of c.mergeFields){const N=Vl(e,T,t);if(!d.contains(N))throw new Pe(be.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);kE(w,N)||w.push(N)}m=new rs(w),v=d.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,v=d.fieldTransforms;return new dD(new mi(y),m,v)}class wm extends xm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}class Ay extends xm{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Sh(e.serializer,HT(e.serializer,this.Vc));return new QM(e.path,t)}isEqual(e){return e instanceof Ay&&this.Vc===e.Vc}}function PE(n,e,t,s){const o=n.createContext(1,e,t);Cy("Data must be an object, but it was:",o,s);const c=[],d=mi.empty();Do(s,((m,v)=>{const w=DE(e,m,t);v=kt(v);const T=o.childContextForFieldPath(w);if(v instanceof wm)c.push(w);else{const N=Bh(v,T);N!=null&&(c.push(w),d.set(w,N))}}));const y=new rs(c);return new RE(d,y,o.fieldTransforms)}function ME(n,e,t,s,o,c){const d=n.createContext(1,e,t),y=[Vl(e,s,t)],m=[o];if(c.length%2!=0)throw new Pe(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)y.push(Vl(e,c[N])),m.push(c[N+1]);const v=[],w=mi.empty();for(let N=y.length-1;N>=0;--N)if(!kE(v,y[N])){const R=y[N];let k=m[N];k=kt(k);const z=d.childContextForFieldPath(R);if(k instanceof wm)v.push(R);else{const D=Bh(k,z);D!=null&&(v.push(R),w.set(R,D))}}const T=new rs(v);return new RE(w,T,d.fieldTransforms)}function mD(n,e,t,s=!1){return Bh(t,n.createContext(s?4:3,e))}function Bh(n,e){if(OE(n=kt(n)))return Cy("Unsupported field value:",e,n),LE(n,e);if(n instanceof xm)return(function(s,o){if(!IE(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const y of s){let m=Bh(y,o.childContextForArray(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return HT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Gt.fromDate(s);return{timestampValue:jf(o.serializer,c)}}if(s instanceof Gt){const c=new Gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jf(o.serializer,c)}}if(s instanceof Or)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ps)return{bytesValue:XT(o.serializer,s._byteString)};if(s instanceof on){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ry(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Xs)return(function(d,y){const m=d instanceof Xs?d.toArray():d;return{mapValue:{fields:{[ST]:{stringValue:AT},[Lf]:{arrayValue:{values:m.map((w=>{if(typeof w!="number")throw y.createError("VectorValues must only contain numeric values.");return ny(y.serializer,w)}))}}}}}})(s,o);if(aE(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${rm(s)}`)})(n,e)}function LE(n,e){const t={};return vT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(n,((s,o)=>{const c=Bh(o,e.childContextForField(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function OE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Gt||n instanceof Or||n instanceof Ps||n instanceof on||n instanceof xm||n instanceof Xs||aE(n))}function Cy(n,e,t){if(!OE(t)||!_T(t)){const s=rm(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Vl(n,e,t){if((e=kt(e))instanceof bm)return e._internalPath;if(typeof e=="string")return DE(n,e);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,t)}const pD=new RegExp("[~\\*/\\[\\]]");function DE(n,e,t){if(e.search(pD)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bm(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hf(n,e,t,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new Pe(be.INVALID_ARGUMENT,y+n+m)}function kE(n,e){return n.some((t=>t.isEqual(e)))}class gD{convertValue(e,t="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Do(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Lf].arrayValue?.values?.map((s=>fn(s.doubleValue)));return new Xs(t)}convertGeoPoint(e){return new Or(fn(e.latitude),fn(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=lm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new Gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ut.fromString(e);At(rE(s),9688,{name:e});const o=new bh(s.get(1),s.get(3)),c=new ze(s.popFirst(5));return o.isEqual(t)||xa(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Tm extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function _D(n){return new Ay("increment",n)}const Cw="@firebase/firestore",Nw="4.11.0";function Rw(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class yD{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class vD{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new mi({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class jE{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Vl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bD extends jE{data(){return super.data()}}function VE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class Ry extends Ny{}function Is(n,e,...t){let s=[];e instanceof Ny&&s.push(e),s=s.concat(t),(function(c){const d=c.filter((m=>m instanceof Iy)).length,y=c.filter((m=>m instanceof Em)).length;if(d>1||d>0&&y>0)throw new Pe(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Em extends Ry{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Em(e,t,s)}_apply(e){const t=this._parse(e);return UE(e._query,t),new Aa(e.firestore,e.converter,l_(e._query,t))}_parse(e){const t=Uh(e.firestore);return(function(c,d,y,m,v,w,T){let N;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Pe(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Pw(T,w);const k=[];for(const z of T)k.push(Iw(m,c,z));N={arrayValue:{values:k}}}else N=Iw(m,c,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Pw(T,w),N=mD(y,d,T,w==="in"||w==="not-in");return Tn.create(v,w,N)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function da(n,e,t){const s=e,o=Vl("where",n);return Em._create(o,s,t)}class Iy extends Ny{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Iy(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Js.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let d=o;const y=c.getFlattenedFilters();for(const m of y)UE(d,m),d=l_(d,m)})(e._query,t),new Aa(e.firestore,e.converter,l_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Py extends Ry{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Py(e,t)}_apply(e){const t=(function(o,c,d){if(o.startAt!==null)throw new Pe(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Pe(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wh(c,d)})(e._query,this._field,this._direction);return new Aa(e.firestore,e.converter,BM(e._query,t))}}function zE(n,e="asc"){const t=e,s=Vl("orderBy",n);return Py._create(s,t)}class My extends Ry{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new My(e,t,s)}_apply(e){return new Aa(e.firestore,e.converter,Df(e._query,this._limit,this._limitType))}}function xD(n){return My._create("limit",n,"F")}function Iw(n,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new Pe(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OT(e)&&t.indexOf("/")!==-1)throw new Pe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ut.fromString(t));if(!ze.isDocumentKey(s))throw new Pe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fx(n,new ze(s))}if(t instanceof on)return Fx(n,t._key);throw new Pe(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rm(t)}.`)}function Pw(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UE(n,e){const t=(function(o,c){for(const d of o)for(const y of d.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Pe(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ly(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}function wD(){return new yD("count")}function Mw(n){return TD(n,{count:wD()})}function TD(n,e){const t=ii(n.firestore,er),s=ou(t),o=xM(e,((c,d)=>new rL(d,c.aggregateType,c._internalFieldPath)));return sD(s,n._query,o).then((c=>(function(y,m,v){const w=new Tm(y);return new vD(m,w,v)})(t,n,c)))}class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cl extends jE{constructor(e,t,s,o,c,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Vl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Cl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cl._jsonSchema={type:En("string",Cl._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class yf extends Cl{data(e={}){return super.data(e)}}class Nl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new sh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new yf(this._firestore,this._userDataWriter,s.key,s,new sh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const m=new yf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new sh(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const m=new yf(o._firestore,o._userDataWriter,y.doc.key,y.doc,new sh(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),w=d.indexOf(y.doc.key)),{type:ED(y.type),doc:m,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pe(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=W_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ED(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:En("string",Nl._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};class SD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Uh(e)}set(e,t,s){this._verifyNotCommitted();const o=Mg(e,this._firestore),c=Ly(o.converter,t,s),d=Sy(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,pi.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const c=Mg(e,this._firestore);let d;return d=typeof(t=kt(t))=="string"||t instanceof bm?ME(this._dataReader,"WriteBatch.update",c._key,t,s,o):PE(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mg(e,this._firestore);return this._mutations=this._mutations.concat(new mm(t._key,pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mg(n,e){if((n=kt(n)).firestore!==e)throw new Pe(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Rl(n){n=ii(n,on);const e=ii(n.firestore,er),t=ou(e);return nD(t,n._key).then((s=>BE(e,n,s)))}function Ks(n){n=ii(n,Aa);const e=ii(n.firestore,er),t=ou(e),s=new Tm(e);return VE(n._query),iD(t,n._query).then((o=>new Nl(e,s,n,o)))}function Lg(n,e,t){n=ii(n,on);const s=ii(n.firestore,er),o=Ly(n.converter,e,t),c=Uh(s);return Hh(s,[Sy(c,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,pi.none())])}function mo(n,e,t,...s){n=ii(n,on);const o=ii(n.firestore,er),c=Uh(o);let d;return d=typeof(e=kt(e))=="string"||e instanceof bm?ME(c,"updateDoc",n._key,e,t,s):PE(c,"updateDoc",n._key,e),Hh(o,[d.toMutation(n._key,pi.exists(!0))])}function y_(n){return Hh(ii(n.firestore,er),[new mm(n._key,pi.none())])}function Hc(n,e){const t=ii(n.firestore,er),s=mn(n),o=Ly(n.converter,e),c=Uh(n.firestore);return Hh(t,[Sy(c,"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,pi.exists(!1))]).then((()=>s))}function AD(n,...e){n=kt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Rw(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Rw(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let c,d,y;if(n instanceof on)d=ii(n.firestore,er),y=cm(n._key.path),c={next:v=>{e[s]&&e[s](BE(d,n,v))},error:e[s+1],complete:e[s+2]};else{const v=ii(n,Aa);d=ii(v.firestore,er),y=v._query;const w=new Tm(d);c={next:T=>{e[s]&&e[s](new Nl(d,w,v,T))},error:e[s+1],complete:e[s+2]},VE(n._query)}const m=ou(d);return tD(m,y,o,c)}function Hh(n,e){const t=ou(n);return rD(t,e)}function BE(n,e,t){const s=t.docs.get(e._key),o=new Tm(n);return new Cl(n,o,e._key,s,new sh(t.hasPendingWrites,t.fromCache),e.converter)}function CD(n){return n=ii(n,er),ou(n),new SD(n,(e=>Hh(n,e)))}(function(e,t=!0){eM(Hl),Ml(new Co("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),y=new er(new iM(s.getProvider("auth-internal")),new aM(d,s.getProvider("app-check-internal")),EM(d,o),d);return c={useFetchStreams:t,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),Nr(Cw,Nw,e),Nr(Cw,Nw,"esm2020")})();const HE="firebasestorage.googleapis.com",qE="storageBucket",ND=120*1e3,RD=600*1e3;class cn extends jr{constructor(e,t,s=0){super(Og(e),`Firebase Storage: ${t} (${Og(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function Og(n){return"storage/"+n}function Oy(){const n="An unknown error occurred, please check the error payload for server response.";return new cn(ln.UNKNOWN,n)}function ID(n){return new cn(ln.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function PD(n){return new cn(ln.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(ln.UNAUTHENTICATED,n)}function LD(){return new cn(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OD(n){return new cn(ln.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function DD(){return new cn(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kD(){return new cn(ln.CANCELED,"User canceled the upload/download.")}function jD(n){return new cn(ln.INVALID_URL,"Invalid URL '"+n+"'.")}function VD(n){return new cn(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function zD(){return new cn(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qE+"' property when initializing the app?")}function UD(){return new cn(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BD(){return new cn(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HD(n){return new cn(ln.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function v_(n){return new cn(ln.INVALID_ARGUMENT,n)}function FE(){return new cn(ln.APP_DELETED,"The Firebase app was deleted.")}function qD(n){return new cn(ln.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fh(n,e){return new cn(ln.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Qu(n){throw new cn(ln.INTERNAL_ERROR,"Internal error: "+n)}class as{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=as.makeFromUrl(e,t)}catch{return new as(e,"")}if(s.path==="")return s;throw VD(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const d="(/(.*))?$",y=new RegExp("^gs://"+o+d,"i"),m={bucket:1,path:3};function v(J){J.path_=decodeURIComponent(J.path)}const w="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",R=new RegExp(`^https?://${T}/${w}/b/${o}/o${N}`,"i"),k={bucket:1,path:3},z=t===HE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",O=new RegExp(`^https?://${z}/${o}/${D}`,"i"),Z=[{regex:y,indices:m,postModify:c},{regex:R,indices:k,postModify:v},{regex:O,indices:{bucket:1,path:2},postModify:v}];for(let J=0;J<Z.length;J++){const te=Z[J],fe=te.regex.exec(e);if(fe){const V=fe[te.indices.bucket];let I=fe[te.indices.path];I||(I=""),s=new as(V,I),te.postModify(s);break}}if(s==null)throw jD(e);return s}}class FD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function GD(n,e,t){let s=1,o=null,c=null,d=!1,y=0;function m(){return y===2}let v=!1;function w(...D){v||(v=!0,e.apply(null,D))}function T(D){o=setTimeout(()=>{o=null,n(R,m())},D)}function N(){c&&clearTimeout(c)}function R(D,...O){if(v){N();return}if(D){N(),w.call(null,D,...O);return}if(m()||d){N(),w.call(null,D,...O);return}s<64&&(s*=2);let Z;y===1?(y=2,Z=0):Z=(s+Math.random())*1e3,T(Z)}let k=!1;function z(D){k||(k=!0,N(),!v&&(o!==null?(D||(y=2),clearTimeout(o),T(0)):D||(y=1)))}return T(0),c=setTimeout(()=>{d=!0,z(!0)},t),z}function ZD(n){n(!1)}function $D(n){return n!==void 0}function YD(n){return typeof n=="object"&&!Array.isArray(n)}function Dy(n){return typeof n=="string"||n instanceof String}function Lw(n){return ky()&&n instanceof Blob}function ky(){return typeof Blob<"u"}function Ow(n,e,t,s){if(s<e)throw v_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw v_(`Invalid value for '${n}'. Expected ${t} or less.`)}function jy(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function GE(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Il;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Il||(Il={}));function KD(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}class WD{constructor(e,t,s,o,c,d,y,m,v,w,T,N=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=y,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=T,this.retry=N,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,z)=>{this.resolve_=k,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nf(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=y=>{const m=y.loaded,v=y.lengthComputable?y.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const y=c.getErrorCode()===Il.NO_ERROR,m=c.getStatus();if(!y||KD(m,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Il.ABORT;s(!1,new nf(!1,null,w));return}const v=this.successCodes_.indexOf(m)!==-1;s(!0,new nf(v,c))})},t=(s,o)=>{const c=this.resolve_,d=this.reject_,y=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(y,y.getResponse());$D(m)?c(m):c()}catch(m){d(m)}else if(y!==null){const m=Oy();m.serverResponse=y.getErrorText(),this.errorCallback_?d(this.errorCallback_(y,m)):d(m)}else if(o.canceled){const m=this.appDelete_?FE():kD();d(m)}else{const m=DD();d(m)}};this.canceled_?t(!1,new nf(!1,null,!0)):this.backoffId_=GD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nf{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function QD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function XD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ek(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function tk(n,e,t,s,o,c,d=!0,y=!1){const m=GE(n.urlParams),v=n.url+m,w=Object.assign({},n.headers);return JD(w,e),QD(w,t),XD(w,c),ek(w,s),new WD(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,d,y)}function nk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ik(...n){const e=nk();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(ky())return new Blob(n);throw new cn(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sk(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function rk(n){if(typeof atob>"u")throw HD("base-64");return atob(n)}const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dg{constructor(e,t){this.data=e,this.contentType=t||null}}function ak(n,e){switch(n){case Sr.RAW:return new Dg(ZE(e));case Sr.BASE64:case Sr.BASE64URL:return new Dg($E(n,e));case Sr.DATA_URL:return new Dg(lk(e),ck(e))}throw Oy()}function ZE(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=s,d=n.charCodeAt(++t);s=65536|(c&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function ok(n){let e;try{e=decodeURIComponent(n)}catch{throw fh(Sr.DATA_URL,"Malformed data URL.")}return ZE(e)}function $E(n,e){switch(n){case Sr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw fh(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw fh(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=rk(e)}catch(o){throw o.message.includes("polyfill")?o:fh(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class YE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw fh(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=uk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function lk(n){const e=new YE(n);return e.base64?$E(Sr.BASE64,e.rest):ok(e.rest)}function ck(n){return new YE(n).contentType}function uk(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class vo{constructor(e,t){let s=0,o="";Lw(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Lw(this.data_)){const s=this.data_,o=sk(s,e,t);return o===null?null:new vo(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new vo(s,!0)}}static getBlob(...e){if(ky()){const t=e.map(s=>s instanceof vo?s.data_:s);return new vo(ik.apply(null,t))}else{const t=e.map(d=>Dy(d)?ak(Sr.RAW,d).data:d.data_);let s=0;t.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return t.forEach(d=>{for(let y=0;y<d.length;y++)o[c++]=d[y]}),new vo(o,!0)}}uploadData(){return this.data_}}function KE(n){let e;try{e=JSON.parse(n)}catch{return null}return YD(e)?e:null}function hk(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function dk(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function WE(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function fk(n,e){return e}class di{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||fk}}let sf=null;function mk(n){return!Dy(n)||n.length<2?n:WE(n)}function QE(){if(sf)return sf;const n=[];n.push(new di("bucket")),n.push(new di("generation")),n.push(new di("metageneration")),n.push(new di("name","fullPath",!0));function e(c,d){return mk(d)}const t=new di("name");t.xform=e,n.push(t);function s(c,d){return d!==void 0?Number(d):d}const o=new di("size");return o.xform=s,n.push(o),n.push(new di("timeCreated")),n.push(new di("updated")),n.push(new di("md5Hash",null,!0)),n.push(new di("cacheControl",null,!0)),n.push(new di("contentDisposition",null,!0)),n.push(new di("contentEncoding",null,!0)),n.push(new di("contentLanguage",null,!0)),n.push(new di("contentType",null,!0)),n.push(new di("metadata","customMetadata",!0)),sf=n,sf}function pk(n,e){function t(){const s=n.bucket,o=n.fullPath,c=new as(s,o);return e._makeStorageReference(c)}Object.defineProperty(n,"ref",{get:t})}function gk(n,e,t){const s={};s.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];s[d.local]=d.xform(s,e[d.server])}return pk(s,n),s}function XE(n,e,t){const s=KE(e);return s===null?null:gk(n,s,t)}function _k(n,e,t,s){const o=KE(e);if(o===null||!Dy(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(v=>{const w=n.bucket,T=n.fullPath,N="/b/"+d(w)+"/o/"+d(T),R=jy(N,t,s),k=GE({alt:"media",token:v});return R+k})[0]}function yk(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}class JE{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function eS(n){if(!n)throw Oy()}function vk(n,e){function t(s,o){const c=XE(n,o,e);return eS(c!==null),c}return t}function bk(n,e){function t(s,o){const c=XE(n,o,e);return eS(c!==null),_k(c,o,n.host,n._protocol)}return t}function tS(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=LD():o=MD():t.getStatus()===402?o=PD(n.bucket):t.getStatus()===403?o=OD(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function xk(n){const e=tS(n);function t(s,o){let c=e(s,o);return s.getStatus()===404&&(c=ID(n.path)),c.serverResponse=o.serverResponse,c}return t}function wk(n,e,t){const s=e.fullServerUrl(),o=jy(s,n.host,n._protocol),c="GET",d=n.maxOperationRetryTime,y=new JE(o,c,bk(n,t),d);return y.errorHandler=xk(e),y}function Tk(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Ek(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=Tk(null,e)),s}function Sk(n,e,t,s,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function y(){let Z="";for(let J=0;J<2;J++)Z=Z+Math.random().toString().slice(2);return Z}const m=y();d["Content-Type"]="multipart/related; boundary="+m;const v=Ek(e,s,o),w=yk(v,t),T="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+m+`\r
Content-Type: `+v.contentType+`\r
\r
`,N=`\r
--`+m+"--",R=vo.getBlob(T,s,N);if(R===null)throw UD();const k={name:v.fullPath},z=jy(c,n.host,n._protocol),D="POST",O=n.maxUploadRetryTime,H=new JE(z,D,vk(n,t),O);return H.urlParams=k,H.headers=d,H.body=R.uploadData(),H.errorHandler=tS(e),H}class Ak{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Il.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Il.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Il.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,c){if(this.sent_)throw Qu("cannot .send() more than once");if(Oo(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ck extends Ak{initXhr(){this.xhr_.responseType="text"}}function nS(){return new Ck}class zl{constructor(e,t){this._service=e,t instanceof as?this._location=t:this._location=as.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zl(e,t)}get root(){const e=new as(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WE(this._location.path)}get storage(){return this._service}get parent(){const e=hk(this._location.path);if(e===null)return null;const t=new as(this._location.bucket,e);return new zl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw qD(e)}}function Nk(n,e,t){n._throwIfRoot("uploadBytes");const s=Sk(n.storage,n._location,QE(),new vo(e,!0),t);return n.storage.makeRequestWithTokens(s,nS).then(o=>({metadata:o,ref:n}))}function Rk(n){n._throwIfRoot("getDownloadURL");const e=wk(n.storage,n._location,QE());return n.storage.makeRequestWithTokens(e,nS).then(t=>{if(t===null)throw BD();return t})}function Ik(n,e){const t=dk(n._location.path,e),s=new as(n._location.bucket,t);return new zl(n.storage,s)}function Pk(n){return/^[A-Za-z]+:\/\//.test(n)}function Mk(n,e){return new zl(n,e)}function iS(n,e){if(n instanceof Vy){const t=n;if(t._bucket==null)throw zD();const s=new zl(t,t._bucket);return e!=null?iS(s,e):s}else return e!==void 0?Ik(n,e):n}function Lk(n,e){if(e&&Pk(e)){if(n instanceof Vy)return Mk(n,e);throw v_("To use ref(service, url), the first argument must be a Storage instance.")}else return iS(n,e)}function Dw(n,e){const t=e?.[qE];return t==null?null:as.makeFromBucketSpec(t,n)}function Ok(n,e,t,s={}){n.host=`${e}:${t}`;const o=Oo(e);o&&(O_(`https://${n.host}/b`),D_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:x1(c,n.app.options.projectId))}class Vy{constructor(e,t,s,o,c,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=HE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ND,this._maxUploadRetryTime=RD,this._requests=new Set,o!=null?this._bucket=as.makeFromBucketSpec(o,this._host):this._bucket=Dw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=as.makeFromBucketSpec(this._url,e):this._bucket=Dw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ow("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zl(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new FD(FE());{const d=tk(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const kw="@firebase/storage",jw="0.14.0";const sS="storage";function Dk(n,e,t){return n=kt(n),Nk(n,e,t)}function kk(n){return n=kt(n),Rk(n)}function jk(n,e){return n=kt(n),Lk(n,e)}function Vk(n=V_(),e){n=kt(n);const s=tm(n,sS).getImmediate({identifier:e}),o=y1("storage");return o&&zk(s,...o),s}function zk(n,e,t,s={}){Ok(n,e,t,s)}function Uk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Vy(t,s,o,e,Hl)}function Bk(){Ml(new Co(sS,Uk,"PUBLIC").setMultipleInstances(!0)),Nr(kw,jw,""),Nr(kw,jw,"esm2020")}Bk();const Hk={apiKey:"AIzaSyDhATfuTR03Z0MDHK6LdVtePzvnOlw2RYs",authDomain:"inmobiliaria-89dca.firebaseapp.com",projectId:"inmobiliaria-89dca",storageBucket:"inmobiliaria-89dca.firebasestorage.app",messagingSenderId:"264339137867",appId:"1:264339137867:web:721f347d175208451c34ce",measurementId:"G-71P9DV29GB"},zy=E1(Hk),Tl=XP(zy),tt=cD(zy),qk=Vk(zy),Fk=new fa,Gk=new lh("apple.com");let Zk={data:""},$k=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||Zk},Yk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Kk=/\/\*[^]*?\*\/|  +/g,Vw=/\n+/g,bo=(n,e)=>{let t="",s="",o="";for(let c in n){let d=n[c];c[0]=="@"?c[1]=="i"?t=c+" "+d+";":s+=c[1]=="f"?bo(d,c):c+"{"+bo(d,c[1]=="k"?"":e)+"}":typeof d=="object"?s+=bo(d,e?e.replace(/([^,])+/g,y=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,y):y?y+" "+m:m)):c):d!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=bo.p?bo.p(c,d):c+":"+d+";")}return t+(e&&o?e+"{"+o+"}":o)+s},ua={},rS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+rS(n[t]);return e}return n},Wk=(n,e,t,s,o)=>{let c=rS(n),d=ua[c]||(ua[c]=(m=>{let v=0,w=11;for(;v<m.length;)w=101*w+m.charCodeAt(v++)>>>0;return"go"+w})(c));if(!ua[d]){let m=c!==n?n:(v=>{let w,T,N=[{}];for(;w=Yk.exec(v.replace(Kk,""));)w[4]?N.shift():w[3]?(T=w[3].replace(Vw," ").trim(),N.unshift(N[0][T]=N[0][T]||{})):N[0][w[1]]=w[2].replace(Vw," ").trim();return N[0]})(n);ua[d]=bo(o?{["@keyframes "+d]:m}:m,t?"":"."+d)}let y=t&&ua.g?ua.g:null;return t&&(ua.g=ua[d]),((m,v,w,T)=>{T?v.data=v.data.replace(T,m):v.data.indexOf(m)===-1&&(v.data=w?m+v.data:v.data+m)})(ua[d],e,s,y),d},Qk=(n,e,t)=>n.reduce((s,o,c)=>{let d=e[c];if(d&&d.call){let y=d(t),m=y&&y.props&&y.props.className||/^go/.test(y)&&y;d=m?"."+m:y&&typeof y=="object"?y.props?"":bo(y,""):y===!1?"":y}return s+o+(d??"")},"");function Sm(n){let e=this||{},t=n.call?n(e.p):n;return Wk(t.unshift?t.raw?Qk(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,$k(e.target),e.g,e.o,e.k)}let aS,b_,x_;Sm.bind({g:1});let Ta=Sm.bind({k:1});function Xk(n,e,t,s){bo.p=e,aS=n,b_=t,x_=s}function jo(n,e){let t=this||{};return function(){let s=arguments;function o(c,d){let y=Object.assign({},c),m=y.className||o.className;t.p=Object.assign({theme:b_&&b_()},y),t.o=/ *go\d+/.test(m),y.className=Sm.apply(t,s)+(m?" "+m:"");let v=n;return n[0]&&(v=y.as||n,delete y.as),x_&&v[0]&&x_(y),aS(v,y)}return o}}var Jk=n=>typeof n=="function",qf=(n,e)=>Jk(n)?n(e):n,e4=(()=>{let n=0;return()=>(++n).toString()})(),oS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),t4=20,Uy="default",lS=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(d=>d.id===e.toast.id?{...d,...e.toast}:d)};case 2:let{toast:s}=e;return lS(n,{type:n.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(d=>d.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let c=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+c}))}}},vf=[],cS={toasts:[],pausedAt:void 0,settings:{toastLimit:t4}},Ar={},uS=(n,e=Uy)=>{Ar[e]=lS(Ar[e]||cS,n),vf.forEach(([t,s])=>{t===e&&s(Ar[e])})},hS=n=>Object.keys(Ar).forEach(e=>uS(n,e)),n4=n=>Object.keys(Ar).find(e=>Ar[e].toasts.some(t=>t.id===n)),Am=(n=Uy)=>e=>{uS(e,n)},i4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},s4=(n={},e=Uy)=>{let[t,s]=U.useState(Ar[e]||cS),o=U.useRef(Ar[e]);U.useEffect(()=>(o.current!==Ar[e]&&s(Ar[e]),vf.push([e,s]),()=>{let d=vf.findIndex(([y])=>y===e);d>-1&&vf.splice(d,1)}),[e]);let c=t.toasts.map(d=>{var y,m,v;return{...n,...n[d.type],...d,removeDelay:d.removeDelay||((y=n[d.type])==null?void 0:y.removeDelay)||n?.removeDelay,duration:d.duration||((m=n[d.type])==null?void 0:m.duration)||n?.duration||i4[d.type],style:{...n.style,...(v=n[d.type])==null?void 0:v.style,...d.style}}});return{...t,toasts:c}},r4=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||e4()}),qh=n=>(e,t)=>{let s=r4(e,n,t);return Am(s.toasterId||n4(s.id))({type:2,toast:s}),s.id},Cn=(n,e)=>qh("blank")(n,e);Cn.error=qh("error");Cn.success=qh("success");Cn.loading=qh("loading");Cn.custom=qh("custom");Cn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Am(e)(t):hS(t)};Cn.dismissAll=n=>Cn.dismiss(void 0,n);Cn.remove=(n,e)=>{let t={type:4,toastId:n};e?Am(e)(t):hS(t)};Cn.removeAll=n=>Cn.remove(void 0,n);Cn.promise=(n,e,t)=>{let s=Cn.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?qf(e.success,o):void 0;return c?Cn.success(c,{id:s,...t,...t?.success}):Cn.dismiss(s),o}).catch(o=>{let c=e.error?qf(e.error,o):void 0;c?Cn.error(c,{id:s,...t,...t?.error}):Cn.dismiss(s)}),n};var a4=1e3,o4=(n,e="default")=>{let{toasts:t,pausedAt:s}=s4(n,e),o=U.useRef(new Map).current,c=U.useCallback((T,N=a4)=>{if(o.has(T))return;let R=setTimeout(()=>{o.delete(T),d({type:4,toastId:T})},N);o.set(T,R)},[]);U.useEffect(()=>{if(s)return;let T=Date.now(),N=t.map(R=>{if(R.duration===1/0)return;let k=(R.duration||0)+R.pauseDuration-(T-R.createdAt);if(k<0){R.visible&&Cn.dismiss(R.id);return}return setTimeout(()=>Cn.dismiss(R.id,e),k)});return()=>{N.forEach(R=>R&&clearTimeout(R))}},[t,s,e]);let d=U.useCallback(Am(e),[e]),y=U.useCallback(()=>{d({type:5,time:Date.now()})},[d]),m=U.useCallback((T,N)=>{d({type:1,toast:{id:T,height:N}})},[d]),v=U.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),w=U.useCallback((T,N)=>{let{reverseOrder:R=!1,gutter:k=8,defaultPosition:z}=N||{},D=t.filter(Z=>(Z.position||z)===(T.position||z)&&Z.height),O=D.findIndex(Z=>Z.id===T.id),H=D.filter((Z,J)=>J<O&&Z.visible).length;return D.filter(Z=>Z.visible).slice(...R?[H+1]:[0,H]).reduce((Z,J)=>Z+(J.height||0)+k,0)},[t]);return U.useEffect(()=>{t.forEach(T=>{if(T.dismissed)c(T.id,T.removeDelay);else{let N=o.get(T.id);N&&(clearTimeout(N),o.delete(T.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:m,startPause:y,endPause:v,calculateOffset:w}}},l4=Ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,c4=Ta`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,u4=Ta`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,h4=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${c4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${u4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,d4=Ta`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,f4=jo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${d4} 1s linear infinite;
`,m4=Ta`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,p4=Ta`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,g4=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${m4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${p4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,_4=jo("div")`
  position: absolute;
`,y4=jo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,v4=Ta`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,b4=jo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${v4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,x4=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?U.createElement(b4,null,e):e:t==="blank"?null:U.createElement(y4,null,U.createElement(f4,{...s}),t!=="loading"&&U.createElement(_4,null,t==="error"?U.createElement(h4,{...s}):U.createElement(g4,{...s})))},w4=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,T4=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,E4="0%{opacity:0;} 100%{opacity:1;}",S4="0%{opacity:1;} 100%{opacity:0;}",A4=jo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,C4=jo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,N4=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=oS()?[E4,S4]:[w4(t),T4(t)];return{animation:e?`${Ta(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ta(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},R4=U.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?N4(n.position||e||"top-center",n.visible):{opacity:0},c=U.createElement(x4,{toast:n}),d=U.createElement(C4,{...n.ariaProps},qf(n.message,n));return U.createElement(A4,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:c,message:d}):U.createElement(U.Fragment,null,c,d))});Xk(U.createElement);var I4=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=U.useCallback(d=>{if(d){let y=()=>{let m=d.getBoundingClientRect().height;s(n,m)};y(),new MutationObserver(y).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return U.createElement("div",{ref:c,className:e,style:t},o)},P4=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:oS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},M4=Sm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,rf=16,L4=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:d,containerClassName:y})=>{let{toasts:m,handlers:v}=o4(t,c);return U.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:rf,left:rf,right:rf,bottom:rf,pointerEvents:"none",...d},className:y,onMouseEnter:v.startPause,onMouseLeave:v.endPause},m.map(w=>{let T=w.position||e,N=v.calculateOffset(w,{reverseOrder:n,gutter:s,defaultPosition:e}),R=P4(T,N);return U.createElement(I4,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?M4:"",style:R},w.type==="custom"?qf(w.message,w):o?o(w):U.createElement(R4,{toast:w,position:T}))}))},Fe=Cn;const dS=U.createContext();function Vo(){return U.useContext(dS)}function O4({children:n}){const[e,t]=U.useState(null),[s,o]=U.useState(null),[c,d]=U.useState(!0),y=async(z,D,O="cliente",H="",Z="")=>{try{const J=await OI(Tl,z,D);return await K1(J.user,{displayName:H}),await Lg(mn(tt,"users",J.user.uid),{email:z,role:O,displayName:H,phoneNumber:Z,createdAt:new Date}),J}catch(J){throw console.error("Signup error",J),R(J)}},m=(z,D)=>DI(Tl,z,D).catch(O=>{throw R(O)}),v=async(z="cliente")=>{try{const D=await Ex(Tl,Fk);return(await Rl(mn(tt,"users",D.user.uid))).exists()||await Lg(mn(tt,"users",D.user.uid),{email:D.user.email,displayName:D.user.displayName,phoneNumber:D.user.phoneNumber||"",role:z,createdAt:new Date}),D}catch(D){throw R(D)}},w=async(z="cliente")=>{try{const D=await Ex(Tl,Gk);return(await Rl(mn(tt,"users",D.user.uid))).exists()||await Lg(mn(tt,"users",D.user.uid),{email:D.user.email,displayName:D.user.displayName,phoneNumber:D.user.phoneNumber||"",role:z,createdAt:new Date}),D}catch(D){throw R(D)}},T=()=>HI(Tl),N=z=>LI(Tl,z).catch(D=>{throw R(D)}),R=z=>{let D="Ocurri un error inesperado. Por favor intenta de nuevo.";return z.code==="auth/email-already-in-use"&&(D="Este correo ya est registrado."),z.code==="auth/invalid-email"&&(D="El correo no es vlido."),z.code==="auth/user-not-found"&&(D="No encontramos una cuenta con este correo."),z.code==="auth/wrong-password"&&(D="La contrasea es incorrecta."),z.code==="auth/weak-password"&&(D="La contrasea debe tener al menos 6 caracteres."),new Error(D)};U.useEffect(()=>BI(Tl,async D=>{if(t(D),D){const O=await Rl(mn(tt,"users",D.uid));O.exists()&&o(O.data())}else o(null);d(!1)}),[]);const k={user:e,userData:s,signup:y,login:m,loginWithGoogle:v,loginWithApple:w,logout:T,resetPassword:N};return _.jsxs(dS.Provider,{value:k,children:[!c&&n,_.jsx(L4,{position:"top-center"})]})}const kg=({children:n,allowedRoles:e})=>{const{user:t,userData:s,loading:o}=Vo();return o?_.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?e&&s&&!e.includes(s.role)?s.role==="agente"?_.jsx(yg,{to:"/agent-dashboard"}):_.jsx(yg,{to:"/client-dashboard"}):n:_.jsx(yg,{to:"/login"})};const fS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const D4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const k4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const zw=n=>{const e=k4(n);return e.charAt(0).toUpperCase()+e.slice(1)};var j4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const V4=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const z4=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...y},m)=>U.createElement("svg",{ref:m,...j4,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:fS("lucide",o),...!c&&!V4(y)&&{"aria-hidden":"true"},...y},[...d.map(([v,w])=>U.createElement(v,w)),...Array.isArray(c)?c:[c]]));const rt=(n,e)=>{const t=U.forwardRef(({className:s,...o},c)=>U.createElement(z4,{ref:c,iconNode:e,className:fS(`lucide-${D4(zw(n))}`,`lucide-${n}`,s),...o}));return t.displayName=zw(n),t};const U4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],B4=rt("arrow-left",U4);const H4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],q4=rt("arrow-right",H4);const F4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],G4=rt("briefcase",F4);const Z4=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],$4=rt("building",Z4);const Y4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],K4=rt("circle-user",Y4);const W4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Q4=rt("copy",W4);const X4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ff=rt("eye",X4);const J4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],e5=rt("facebook",J4);const t5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],n5=rt("file-text",t5);const i5=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],s5=rt("heart-handshake",i5);const r5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Gf=rt("heart",r5);const a5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mS=rt("house",a5);const o5=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],l5=rt("instagram",o5);const c5=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zf=rt("key",c5);const u5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],h5=rt("lightbulb",u5);const d5=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],f5=rt("linkedin",d5);const m5=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],p5=rt("list-filter",m5);const g5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ah=rt("loader-circle",g5);const _5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y5=rt("lock",_5);const v5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pS=rt("mail",v5);const b5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dr=rt("map-pin",b5);const x5=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],w5=rt("message-circle",x5);const T5=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],E5=rt("mountain",T5);const S5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gS=rt("phone",S5);const A5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jg=rt("refresh-cw",A5);const C5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kc=rt("search",C5);const N5=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],R5=rt("share",N5);const I5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],P5=rt("shield-check",I5);const M5=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],L5=rt("sliders-horizontal",M5);const O5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],D5=rt("target",O5);const k5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_S=rt("trash-2",k5);const j5=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],V5=rt("tree-palm",j5);const z5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],U5=rt("upload",z5);const B5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yS=rt("user",B5);const H5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vS=rt("users",H5);const q5=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],F5=rt("warehouse",q5);const G5=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Z5=rt("waves",G5);const $5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wc=rt("x",$5),bS=({property:n})=>{const[t,s]=U.useState(0),[o,c]=U.useState(!1),d=n.currency||"USD",y=typeof n.price=="number"?n.price:parseFloat(n.price);let m,v;d==="USD"?(m=y,v=y*3.75):(v=y,m=y/3.75);const w=(N,R)=>N?N.toLocaleString("en-US",{style:"currency",currency:R,maximumFractionDigits:0}):"0";U.useEffect(()=>{let N;return o&&n.images&&n.images.length>1?N=setInterval(()=>{s(R=>(R+1)%n.images.length)},1e3):s(0),()=>clearInterval(N)},[o,n.images]);const T=n.images?.[t]||n.images?.[0]||"https://placehold.co/400x300/e2e8f0/94a3b8?text=Sin+Imagen";return _.jsxs(an,{to:`/properties/${n.id}`,className:"group block relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[_.jsxs("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[_.jsx("img",{src:T,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),n.isPromoted&&_.jsx("div",{className:"absolute top-3 left-3 bg-[#fc7f51] text-white px-2 py-1 rounded-md text-xs font-bold shadow-md z-10",children:"DESTACADO"}),_.jsx("button",{className:"absolute top-3 right-3 text-white/70 hover:scale-110 transition z-10",children:_.jsx(Gf,{className:"w-6 h-6 fill-black/50 text-white stroke-[2px]"})}),_.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 backdrop-blur-md px-3 py-1 rounded-lg text-white text-xs font-bold uppercase",children:n.type})]}),_.jsxs("div",{className:"flex justify-between items-center mb-1",children:[_.jsx("h3",{className:"font-semibold text-gray-500 truncate pr-2 text-xs uppercase tracking-wide",children:n.location||n.address}),_.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",title:"Vistas",children:[_.jsx(Ff,{className:"w-3 h-3 text-[#fc7f51]"}),_.jsx("span",{className:"text-xs font-bold text-gray-700",children:n.views||0})]})]}),_.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Agente: ",n.agentName||"Inmuvete"]}),_.jsx("p",{className:"text-gray-800 text-sm font-semibold mb-1 line-clamp-1",children:n.title}),_.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[_.jsx("span",{className:"font-bold text-[#fc7f51] text-lg",children:w(m,"USD")}),_.jsx("span",{className:"text-xs text-gray-400 font-medium",children:w(v,"PEN")})]})]})},Y5=[{icon:$4,label:"Departamentos"},{icon:F5,label:"Casas"},{icon:V5,label:"Terrenos"},{icon:E5,label:"Campestres"},{icon:Z5,label:"Playa"}],K5=()=>{const n=Jc(),[e,t]=U.useState("venta"),[s,o]=U.useState(""),[c,d]=U.useState("departamento"),[y,m]=U.useState("USD"),[v,w]=U.useState(""),[T,N]=U.useState(""),[R,k]=U.useState(!1),[z,D]=U.useState(!1),[O,H]=U.useState({location:"",footage:"",price:""}),Z=()=>{const me=`Hola, quiero vender mi propiedad.

 Ubicacin: ${O.location}
 Metraje: ${O.footage} m
 Precio Estimado: $${O.price}

Solicito ms informacin.`,xe=`https://wa.me/51999999999?text=${encodeURIComponent(me)}`;window.open(xe,"_blank"),D(!1),H({location:"",footage:"",price:""})},J=["Lima","Arequipa","Cusco","Trujillo","Piura","Ica","Tacna"],[te,fe]=U.useState([]),[V,I]=U.useState(!1),q=me=>{const xe=me.target.value;if(o(xe),xe.length>0){const Y=J.filter(ue=>ue.toLowerCase().includes(xe.toLowerCase()));fe(Y),I(!0)}else I(!1)},F=me=>{o(me),I(!1)},[B,$]=U.useState([]),[G,ge]=U.useState(!0);U.useEffect(()=>{ge(!0);const me=Is(wn(tt,"properties")),xe=AD(me,Y=>{const ue=Y.docs.map(Se=>({id:Se.id,...Se.data()}));ue.sort((Se,Ae)=>{if(Se.isPromoted&&!Ae.isPromoted)return-1;if(!Se.isPromoted&&Ae.isPromoted)return 1;const Re=Se.createdAt?.seconds||0;return(Ae.createdAt?.seconds||0)-Re}),$(ue),ge(!1)},Y=>{console.error("Error fetching properties:",Y),ge(!1)});return()=>xe()},[]);const[_e,X]=U.useState([]),[ye,ie]=U.useState(!0);return U.useEffect(()=>{(async()=>{try{const xe=Is(wn(tt,"tips"),xD(3)),ue=(await Ks(xe)).docs.map(Se=>({id:Se.id,...Se.data()}));ue.sort((Se,Ae)=>(Ae.createdAt?.seconds||0)-(Se.createdAt?.seconds||0)),X(ue)}catch(xe){console.error("Error fetching tips:",xe)}finally{ie(!1)}})()},[]),_.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[_.jsxs("div",{className:"relative h-[85vh] min-h-[700px] flex items-center pt-20",children:[_.jsxs("div",{className:"absolute inset-0 z-0",children:[_.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",alt:"Hero",className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/20"})]}),_.jsxs("div",{className:"relative z-10 container mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center",children:[_.jsxs("div",{className:"lg:col-span-5 bg-white rounded-3xl shadow-2xl overflow-hidden animate-fadeIn",children:[_.jsxs("div",{className:"p-8 pb-4 bg-[#262626] text-white",children:[_.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",style:{color:"#ffffff"},children:"Encuentra tu prximo hogar"}),_.jsx("p",{className:"text-gray-300 text-sm",children:"Explora propiedades nicas para vivir o invertir."})]}),_.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[_.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["venta","alquiler","anticresis"].map(me=>_.jsx("button",{onClick:()=>t(me),className:`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${e===me?"bg-white text-[#fc7f51] shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700"}`,children:me},me))}),_.jsxs("div",{className:"relative",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"En dnde buscas?"}),_.jsxs("div",{className:"relative",children:[_.jsx(Dr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),_.jsx("input",{type:"text",value:s,onChange:q,onFocus:()=>s&&I(!0),placeholder:"Ciudad, distrito o zona...",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"}),V&&te.length>0&&_.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:te.map(me=>_.jsxs("div",{onClick:()=>F(me),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-2 text-gray-700 font-medium",children:[_.jsx(Dr,{className:"w-4 h-4 text-[#fc7f51]"}),me]},me))})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo de Inmueble"}),_.jsxs("div",{className:"relative",children:[_.jsx(mS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),_.jsxs("select",{value:c,onChange:me=>d(me.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none appearance-none font-medium cursor-pointer",children:[_.jsx("option",{value:"departamento",children:"Departamento"}),_.jsx("option",{value:"casa",children:"Casa"}),_.jsx("option",{value:"terreno",children:"Terreno"}),_.jsx("option",{value:"oficina",children:"Oficina"}),_.jsx("option",{value:"local",children:"Local Comercial"}),_.jsx("option",{value:"otro",children:"Otro"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),_.jsx("div",{className:"relative",children:_.jsxs("div",{className:"flex bg-gray-50 rounded-xl border border-gray-200 p-1 h-[58px] items-center",children:[_.jsx("button",{onClick:()=>m("USD"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${y==="USD"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"$ USD"}),_.jsx("button",{onClick:()=>m("PEN"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${y==="PEN"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"S/ PEN"})]})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Rango de Precio"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("input",{type:"number",placeholder:"Mnimo",value:v,onChange:me=>w(me.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"}),_.jsx("input",{type:"number",placeholder:"Mximo",value:T,onChange:me=>N(me.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"})]})]}),_.jsxs("button",{onClick:()=>k(!R),className:"flex items-center gap-2 text-[#fc7f51] font-bold text-sm hover:underline",children:[_.jsx(p5,{className:"w-4 h-4"}),R?"Menos filtros":"Ms filtros (Habitaciones, Baos, rea...)"]}),R&&_.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fadeIn",children:[_.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),_.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[_.jsx("option",{value:"",children:"Cualquiera"}),_.jsx("option",{value:"1",children:"1+"}),_.jsx("option",{value:"2",children:"2+"}),_.jsx("option",{value:"3",children:"3+"}),_.jsx("option",{value:"4",children:"4+"})]})]}),_.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),_.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[_.jsx("option",{value:"",children:"Cualquiera"}),_.jsx("option",{value:"1",children:"1+"}),_.jsx("option",{value:"2",children:"2+"}),_.jsx("option",{value:"3",children:"3+"})]})]}),_.jsxs("div",{className:"col-span-2",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"rea Mnima (m)"}),_.jsx("input",{type:"number",placeholder:"Ej: 80",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none"})]})]}),_.jsxs("button",{onClick:()=>{const me=new URLSearchParams;e&&me.set("operation",e),s&&me.set("location",s),c&&me.set("propertyType",c),y&&me.set("currency",y),v&&me.set("priceMin",v),T&&me.set("priceMax",T),n(`/search?${me.toString()}`)},className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2",children:[_.jsx(Kc,{className:"w-6 h-6"}),"BUSCAR PROPIEDADES"]})]})]}),_.jsx("div",{className:"hidden lg:block lg:col-span-7",children:_.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[_.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-[#fc7f51] transform hover:-translate-x-2 transition cursor-pointer",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:_.jsx(G4,{className:"w-6 h-6 text-[#fc7f51]"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Eres Propietario?"}),_.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros y vndela ms rpido."})]})]}),_.jsx(an,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),_.jsx("button",{onClick:()=>D(!0),className:"block w-full text-left bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-blue-500 transform hover:-translate-x-2 transition cursor-pointer delay-100",children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:_.jsx(Zf,{className:"w-6 h-6 text-blue-500"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Vendes tu Propiedad?"}),_.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos para vender rpido y seguro al mejor precio."})]})]})})]})})]})]}),z&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden animate-fadeIn",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[_.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Vende con nosotros"}),_.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:_.jsx(Wc,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"p-6 space-y-4",children:[_.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ingresa los datos de tu propiedad para enviarlos a un agente."}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin / Distrito"}),_.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: Miraflores, Lima",value:O.location,onChange:me=>H({...O,location:me.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metraje Aprox. (m)"}),_.jsx("input",{type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 120",value:O.footage,onChange:me=>H({...O,footage:me.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto Estimado de Venta"}),_.jsxs("div",{className:"relative",children:[_.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),_.jsx("input",{type:"number",className:"w-full pl-8 pr-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 150000",value:O.price,onChange:me=>H({...O,price:me.target.value})})]})]}),_.jsxs("button",{onClick:Z,disabled:!O.location||!O.footage||!O.price,className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3 rounded-lg shadow-lg hover:shadow-green-500/30 transition flex items-center justify-center gap-2 mt-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[_.jsx(Zf,{className:"w-5 h-5"}),"Enviar por WhatsApp"]})]})]})}),_.jsx("div",{className:"bg-gray-50 py-10 border-b border-gray-200",children:_.jsx("div",{className:"container mx-auto px-6",children:_.jsx("div",{className:"flex gap-4 md:gap-12 overflow-x-auto no-scrollbar items-center justify-start md:justify-center py-2",children:Y5.map((me,xe)=>_.jsxs("div",{onClick:()=>n(`/search?propertyType=${me.label.toLowerCase()}`),className:"flex flex-col items-center gap-3 min-w-[100px] cursor-pointer group opacity-60 hover:opacity-100 transition-all duration-300 hover:-translate-y-1",children:[_.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-md border border-gray-100 group-hover:border-[#fc7f51]/30 transition",children:_.jsx(me.icon,{className:"w-7 h-7 text-[#262626] group-hover:text-[#fc7f51] transition",strokeWidth:1.5})}),_.jsx("span",{className:"text-sm font-semibold text-[#262626] group-hover:text-[#fc7f51] whitespace-nowrap transition",children:me.label})]},xe))})})}),_.jsxs("main",{id:"properties",className:"container mx-auto px-6 py-20",children:[_.jsxs("div",{className:"flex justify-between items-end mb-12",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Oportunidades"}),_.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Propiedades Destacadas"})]}),_.jsxs(an,{to:"/properties",className:"hidden md:flex items-center gap-2 text-[#262626] font-semibold hover:text-[#fc7f51] transition group",children:["Ver todo ",_.jsx(q4,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:G?_.jsxs("div",{className:"col-span-full py-20 text-center",children:[_.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"}),_.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando propiedades..."})]}):B.length===0?_.jsx("div",{className:"col-span-full py-20 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:_.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propiedades disponibles en este momento."})}):B.filter(me=>{if(e&&me.type!==e)return!1;if(c){if(c==="terreno"){if(me.category!=="terreno")return!1}else if(c!=="otro"&&me.category==="terreno")return!1}if(s&&!me.location?.toLowerCase().includes(s.toLowerCase())&&!me.address?.toLowerCase().includes(s.toLowerCase()))return!1;const xe=parseFloat(me.price);return!(v&&xe<parseFloat(v)||T&&xe>parseFloat(T)||y&&me.currency!==y)}).sort((me,xe)=>(xe.isExclusive===!0?1:0)-(me.isExclusive===!0?1:0)).map(me=>_.jsx(bS,{property:me},me.id))}),_.jsx("div",{className:"mt-12 text-center md:hidden",children:_.jsx("button",{className:"bg-white border border-gray-300 text-[#262626] px-8 py-3 rounded-full font-bold shadow-sm hover:bg-gray-50 transition",children:"Ver todas las propiedades"})})]}),_.jsx("section",{className:"bg-gray-50 py-20 border-t border-gray-200",children:_.jsxs("div",{className:"container mx-auto px-6",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Consejos de Expertos"}),_.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Tips Inmobiliarios"})]}),ye?_.jsx("div",{className:"flex justify-center",children:_.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})}):_e.length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:_e.map(me=>_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group",children:[_.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center mb-6 text-[#fc7f51] group-hover:bg-[#fc7f51] group-hover:text-white transition",children:_.jsx(h5,{className:"w-6 h-6"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-[#fc7f51] transition",children:me.title}),_.jsx("p",{className:"text-gray-600 leading-relaxed text-sm mb-4 line-clamp-4",children:me.content}),_.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["Por ",me.agentName||"Agente","  ",me.createdAt?.seconds?new Date(me.createdAt.seconds*1e3).toLocaleDateString():"Reciente"]})]},me.id))}):_.jsx("div",{className:"text-center text-gray-500",children:"Pronto publicaremos consejos tiles para ti."})]})}),_.jsxs("section",{className:"py-24 bg-[#16151a] text-white relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#fc7f51] rounded-full opacity-10 blur-[100px] translate-x-1/3 -translate-y-1/3"}),_.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[_.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Listo para dar el siguiente paso?"}),_.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-2xl mx-auto",children:"Ya sea que busques comprar, vender o invertir, en Inmuvete tenemos el equipo y la experiencia para hacerlo posible."}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[_.jsx(an,{to:"/contact",className:"bg-[#fc7f51] text-white px-8 py-4 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg hover:shadow-orange-500/20",children:"Contctanos Ahora"}),_.jsx(an,{to:"/about",className:"bg-transparent border border-gray-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-[#262626] hover:border-white transition",children:"Conoce Ms"})]})]})]})]})};function Uw(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function By(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Uw(e[s])&&Uw(n[s])&&Object.keys(e[s]).length>0&&By(n[s],e[s])})}const xS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Gl(){const n=typeof document<"u"?document:{};return By(n,xS),n}const W5={document:xS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function gi(){const n=typeof window<"u"?window:{};return By(n,W5),n}function Q5(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function X5(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function wS(n,e=0){return setTimeout(n,e)}function $f(){return Date.now()}function J5(n){const e=gi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function ej(n,e="x"){const t=gi();let s,o,c;const d=J5(n);return t.WebKitCSSMatrix?(o=d.transform||d.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(y=>y.replace(",",".")).join(", ")),c=new t.WebKitCSSMatrix(o==="none"?"":o)):(c=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=c.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?o=c.m41:s.length===16?o=parseFloat(s[12]):o=parseFloat(s[4])),e==="y"&&(t.WebKitCSSMatrix?o=c.m42:s.length===16?o=parseFloat(s[13]):o=parseFloat(s[5])),o||0}function af(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function tj(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ss(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<n.length;s+=1){const o=n[s];if(o!=null&&!tj(o)){const c=Object.keys(Object(o)).filter(d=>t.indexOf(d)<0);for(let d=0,y=c.length;d<y;d+=1){const m=c[d],v=Object.getOwnPropertyDescriptor(o,m);v!==void 0&&v.enumerable&&(af(e[m])&&af(o[m])?o[m].__swiper__?e[m]=o[m]:ss(e[m],o[m]):!af(e[m])&&af(o[m])?(e[m]={},o[m].__swiper__?e[m]=o[m]:ss(e[m],o[m])):e[m]=o[m])}}}return e}function Lc(n,e,t){n.style.setProperty(e,t)}function TS({swiper:n,targetPosition:e,side:t}){const s=gi(),o=-n.translate;let c=null,d;const y=n.params.speed;n.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(n.cssModeFrameID);const m=e>o?"next":"prev",v=(T,N)=>m==="next"&&T>=N||m==="prev"&&T<=N,w=()=>{d=new Date().getTime(),c===null&&(c=d);const T=Math.max(Math.min((d-c)/y,1),0),N=.5-Math.cos(T*Math.PI)/2;let R=o+N*(e-o);if(v(R,e)&&(R=e),n.wrapperEl.scrollTo({[t]:R}),v(R,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:R})}),s.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=s.requestAnimationFrame(w)};w()}function Cr(n,e=""){const t=gi(),s=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&s.push(...n.assignedElements()),e?s.filter(o=>o.matches(e)):s}function nj(n,e){const t=[e];for(;t.length>0;){const s=t.shift();if(n===s)return!0;t.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function ij(n,e){const t=gi();let s=e.contains(n);return!s&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(n),s||(s=nj(n,e))),s}function Yf(n){try{console.warn(n);return}catch{}}function Kf(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Q5(e)),t}function sj(n,e){const t=[];for(;n.previousElementSibling;){const s=n.previousElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function rj(n,e){const t=[];for(;n.nextElementSibling;){const s=n.nextElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function wo(n,e){return gi().getComputedStyle(n,null).getPropertyValue(e)}function Wf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function ES(n,e){const t=[];let s=n.parentElement;for(;s;)e?s.matches(e)&&t.push(s):t.push(s),s=s.parentElement;return t}function w_(n,e,t){const s=gi();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Vn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Ch(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Vg;function aj(){const n=gi(),e=Gl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function SS(){return Vg||(Vg=aj()),Vg}let zg;function oj({userAgent:n}={}){const e=SS(),t=gi(),s=t.navigator.platform,o=n||t.navigator.userAgent,c={ios:!1,android:!1},d=t.screen.width,y=t.screen.height,m=o.match(/(Android);?[\s\/]+([\d.]+)?/);let v=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const w=o.match(/(iPod)(.*OS\s([\d_]+))?/),T=!v&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),N=s==="Win32";let R=s==="MacIntel";const k=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&R&&e.touch&&k.indexOf(`${d}x${y}`)>=0&&(v=o.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),R=!1),m&&!N&&(c.os="android",c.android=!0),(v||T||w)&&(c.os="ios",c.ios=!0),c}function AS(n={}){return zg||(zg=oj(n)),zg}let Ug;function lj(){const n=gi(),e=AS();let t=!1;function s(){const y=n.navigator.userAgent.toLowerCase();return y.indexOf("safari")>=0&&y.indexOf("chrome")<0&&y.indexOf("android")<0}if(s()){const y=String(n.navigator.userAgent);if(y.includes("Version/")){const[m,v]=y.split("Version/")[1].split(" ")[0].split(".").map(w=>Number(w));t=m<16||m===16&&v<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),c=s(),d=c||o&&e.ios;return{isSafari:t||c,needPerspectiveFix:t,need3dFix:d,isWebView:o}}function CS(){return Ug||(Ug=lj()),Ug}function cj({swiper:n,on:e,emit:t}){const s=gi();let o=null,c=null;const d=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},y=()=>{!n||n.destroyed||!n.initialized||(o=new ResizeObserver(w=>{c=s.requestAnimationFrame(()=>{const{width:T,height:N}=n;let R=T,k=N;w.forEach(({contentBoxSize:z,contentRect:D,target:O})=>{O&&O!==n.el||(R=D?D.width:(z[0]||z).inlineSize,k=D?D.height:(z[0]||z).blockSize)}),(R!==T||k!==N)&&d()})}),o.observe(n.el))},m=()=>{c&&s.cancelAnimationFrame(c),o&&o.unobserve&&n.el&&(o.unobserve(n.el),o=null)},v=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof s.ResizeObserver<"u"){y();return}s.addEventListener("resize",d),s.addEventListener("orientationchange",v)}),e("destroy",()=>{m(),s.removeEventListener("resize",d),s.removeEventListener("orientationchange",v)})}function uj({swiper:n,extendParams:e,on:t,emit:s}){const o=[],c=gi(),d=(v,w={})=>{const T=c.MutationObserver||c.WebkitMutationObserver,N=new T(R=>{if(n.__preventObserver__)return;if(R.length===1){s("observerUpdate",R[0]);return}const k=function(){s("observerUpdate",R[0])};c.requestAnimationFrame?c.requestAnimationFrame(k):c.setTimeout(k,0)});N.observe(v,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:n.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),o.push(N)},y=()=>{if(n.params.observer){if(n.params.observeParents){const v=ES(n.hostEl);for(let w=0;w<v.length;w+=1)d(v[w])}d(n.hostEl,{childList:n.params.observeSlideChildren}),d(n.wrapperEl,{attributes:!1})}},m=()=>{o.forEach(v=>{v.disconnect()}),o.splice(0,o.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",y),t("destroy",m)}var hj={on(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const o=t?"unshift":"push";return n.split(" ").forEach(c=>{s.eventsListeners[c]||(s.eventsListeners[c]=[]),s.eventsListeners[c][o](e)}),s},once(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function o(...c){s.off(n,o),o.__emitterProxy&&delete o.__emitterProxy,e.apply(s,c)}return o.__emitterProxy=e,s.on(n,o,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const s=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[s](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(s=>{typeof e>"u"?t.eventsListeners[s]=[]:t.eventsListeners[s]&&t.eventsListeners[s].forEach((o,c)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&t.eventsListeners[s].splice(c,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,s,o;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],s=n.slice(1,n.length),o=e):(t=n[0].events,s=n[0].data,o=n[0].context||e),s.unshift(o),(Array.isArray(t)?t:t.split(" ")).forEach(d=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(y=>{y.apply(o,[d,...s])}),e.eventsListeners&&e.eventsListeners[d]&&e.eventsListeners[d].forEach(y=>{y.apply(o,s)})}),e}};function dj(){const n=this;let e,t;const s=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=s.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=s.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(wo(s,"padding-left")||0,10)-parseInt(wo(s,"padding-right")||0,10),t=t-parseInt(wo(s,"padding-top")||0,10)-parseInt(wo(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function fj(){const n=this;function e(F,B){return parseFloat(F.getPropertyValue(n.getDirectionLabel(B))||0)}const t=n.params,{wrapperEl:s,slidesEl:o,rtlTranslate:c,wrongRTL:d}=n,y=n.virtual&&t.virtual.enabled,m=y?n.virtual.slides.length:n.slides.length,v=Cr(o,`.${n.params.slideClass}, swiper-slide`),w=y?n.virtual.slides.length:v.length;let T=[];const N=[],R=[];let k=t.slidesOffsetBefore;typeof k=="function"&&(k=t.slidesOffsetBefore.call(n));let z=t.slidesOffsetAfter;typeof z=="function"&&(z=t.slidesOffsetAfter.call(n));const D=n.snapGrid.length,O=n.slidesGrid.length,H=n.size-k-z;let Z=t.spaceBetween,J=-k,te=0,fe=0;if(typeof H>"u")return;typeof Z=="string"&&Z.indexOf("%")>=0?Z=parseFloat(Z.replace("%",""))/100*H:typeof Z=="string"&&(Z=parseFloat(Z)),n.virtualSize=-Z-k-z,v.forEach(F=>{c?F.style.marginLeft="":F.style.marginRight="",F.style.marginBottom="",F.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Lc(s,"--swiper-centered-offset-before",""),Lc(s,"--swiper-centered-offset-after","")),t.cssMode&&(Lc(s,"--swiper-slides-offset-before",`${k}px`),Lc(s,"--swiper-slides-offset-after",`${z}px`));const V=t.grid&&t.grid.rows>1&&n.grid;V?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let I;const q=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(F=>typeof t.breakpoints[F].slidesPerView<"u").length>0;for(let F=0;F<w;F+=1){I=0;const B=v[F];if(!(B&&(V&&n.grid.updateSlide(F,B,v),wo(B,"display")==="none"))){if(y&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(I=t.virtual.slidesPerViewAutoSlideSize),I&&B&&(t.roundLengths&&(I=Math.floor(I)),B.style[n.getDirectionLabel("width")]=`${I}px`);else if(t.slidesPerView==="auto"){q&&(B.style[n.getDirectionLabel("width")]="");const $=getComputedStyle(B),G=B.style.transform,ge=B.style.webkitTransform;if(G&&(B.style.transform="none"),ge&&(B.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?w_(B,"width"):w_(B,"height");else{const _e=e($,"width"),X=e($,"padding-left"),ye=e($,"padding-right"),ie=e($,"margin-left"),me=e($,"margin-right"),xe=$.getPropertyValue("box-sizing");if(xe&&xe==="border-box")I=_e+ie+me;else{const{clientWidth:Y,offsetWidth:ue}=B;I=_e+X+ye+ie+me+(ue-Y)}}G&&(B.style.transform=G),ge&&(B.style.webkitTransform=ge),t.roundLengths&&(I=Math.floor(I))}else I=(H-(t.slidesPerView-1)*Z)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),B&&(B.style[n.getDirectionLabel("width")]=`${I}px`);B&&(B.swiperSlideSize=I),R.push(I),t.centeredSlides?(J=J+I/2+te/2+Z,te===0&&F!==0&&(J=J-H/2-Z),F===0&&(J=J-H/2-Z),Math.abs(J)<1/1e3&&(J=0),t.roundLengths&&(J=Math.floor(J)),fe%t.slidesPerGroup===0&&T.push(J),N.push(J)):(t.roundLengths&&(J=Math.floor(J)),(fe-Math.min(n.params.slidesPerGroupSkip,fe))%n.params.slidesPerGroup===0&&T.push(J),N.push(J),J=J+I+Z),n.virtualSize+=I+Z,te=I,fe+=1}}if(n.virtualSize=Math.max(n.virtualSize,H)+z,c&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(s.style.width=`${n.virtualSize+Z}px`),t.setWrapperSize&&(s.style[n.getDirectionLabel("width")]=`${n.virtualSize+Z}px`),V&&n.grid.updateWrapperSize(I,T),!t.centeredSlides){const F=t.slidesPerView!=="auto"&&t.slidesPerView%1!==0,B=t.snapToSlideEdge&&!t.loop&&(t.slidesPerView==="auto"||F);let $=T.length;if(B){let ge;if(t.slidesPerView==="auto"){ge=1;let _e=0;for(let X=R.length-1;X>=0&&(_e+=R[X]+(X<R.length-1?Z:0),_e<=H);X-=1)ge=R.length-X}else ge=Math.floor(t.slidesPerView);$=Math.max(w-ge,0)}const G=[];for(let ge=0;ge<T.length;ge+=1){let _e=T[ge];t.roundLengths&&(_e=Math.floor(_e)),B?ge<=$&&G.push(_e):T[ge]<=n.virtualSize-H&&G.push(_e)}T=G,Math.floor(n.virtualSize-H)-Math.floor(T[T.length-1])>1&&(B||T.push(n.virtualSize-H))}if(y&&t.loop){const F=R[0]+Z;if(t.slidesPerGroup>1){const B=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),$=F*t.slidesPerGroup;for(let G=0;G<B;G+=1)T.push(T[T.length-1]+$)}for(let B=0;B<n.virtual.slidesBefore+n.virtual.slidesAfter;B+=1)t.slidesPerGroup===1&&T.push(T[T.length-1]+F),N.push(N[N.length-1]+F),n.virtualSize+=F}if(T.length===0&&(T=[0]),Z!==0){const F=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");v.filter((B,$)=>!t.cssMode||t.loop?!0:$!==v.length-1).forEach(B=>{B.style[F]=`${Z}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let F=0;R.forEach($=>{F+=$+(Z||0)}),F-=Z;const B=F>H?F-H:0;T=T.map($=>$<=0?-k:$>B?B+z:$)}if(t.centerInsufficientSlides){let F=0;R.forEach($=>{F+=$+(Z||0)}),F-=Z;const B=(k||0)+(z||0);if(F+B<H){const $=(H-F-B)/2;T.forEach((G,ge)=>{T[ge]=G-$}),N.forEach((G,ge)=>{N[ge]=G+$})}}if(Object.assign(n,{slides:v,snapGrid:T,slidesGrid:N,slidesSizesGrid:R}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Lc(s,"--swiper-centered-offset-before",`${-T[0]}px`),Lc(s,"--swiper-centered-offset-after",`${n.size/2-R[R.length-1]/2}px`);const F=-n.snapGrid[0],B=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map($=>$+F),n.slidesGrid=n.slidesGrid.map($=>$+B)}if(w!==m&&n.emit("slidesLengthChange"),T.length!==D&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),N.length!==O&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!y&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const F=`${t.containerModifierClass}backface-hidden`,B=n.el.classList.contains(F);w<=t.maxBackfaceHiddenSlides?B||n.el.classList.add(F):B&&n.el.classList.remove(F)}}function mj(n){const e=this,t=[],s=e.virtual&&e.params.virtual.enabled;let o=0,c;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const d=y=>s?e.slides[e.getSlideIndexByData(y)]:e.slides[y];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(y=>{t.push(y)});else for(c=0;c<Math.ceil(e.params.slidesPerView);c+=1){const y=e.activeIndex+c;if(y>e.slides.length&&!s)break;t.push(d(y))}else t.push(d(e.activeIndex));for(c=0;c<t.length;c+=1)if(typeof t[c]<"u"){const y=t[c].offsetHeight;o=y>o?y:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function pj(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(n.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-t-n.cssOverflowAdjustment()}const Bw=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function gj(n=this&&this.translate||0){const e=this,t=e.params,{slides:s,rtlTranslate:o,snapGrid:c}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let d=-n;o&&(d=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let y=t.spaceBetween;typeof y=="string"&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*e.size:typeof y=="string"&&(y=parseFloat(y));for(let m=0;m<s.length;m+=1){const v=s[m];let w=v.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(w-=s[0].swiperSlideOffset);const T=(d+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+y),N=(d-c[0]+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+y),R=-(d-w),k=R+e.slidesSizesGrid[m],z=R>=0&&R<=e.size-e.slidesSizesGrid[m],D=R>=0&&R<e.size-1||k>1&&k<=e.size||R<=0&&k>=e.size;D&&(e.visibleSlides.push(v),e.visibleSlidesIndexes.push(m)),Bw(v,D,t.slideVisibleClass),Bw(v,z,t.slideFullyVisibleClass),v.progress=o?-T:T,v.originalProgress=o?-N:N}}function _j(n){const e=this;if(typeof n>"u"){const w=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*w||0}const t=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:c,isEnd:d,progressLoop:y}=e;const m=c,v=d;if(s===0)o=0,c=!0,d=!0;else{o=(n-e.minTranslate())/s;const w=Math.abs(n-e.minTranslate())<1,T=Math.abs(n-e.maxTranslate())<1;c=w||o<=0,d=T||o>=1,w&&(o=0),T&&(o=1)}if(t.loop){const w=e.getSlideIndexByData(0),T=e.getSlideIndexByData(e.slides.length-1),N=e.slidesGrid[w],R=e.slidesGrid[T],k=e.slidesGrid[e.slidesGrid.length-1],z=Math.abs(n);z>=N?y=(z-N)/k:y=(z+k-R)/k,y>1&&(y-=1)}Object.assign(e,{progress:o,progressLoop:y,isBeginning:c,isEnd:d}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),c&&!m&&e.emit("reachBeginning toEdge"),d&&!v&&e.emit("reachEnd toEdge"),(m&&!c||v&&!d)&&e.emit("fromEdge"),e.emit("progress",o)}const Bg=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function yj(){const n=this,{slides:e,params:t,slidesEl:s,activeIndex:o}=n,c=n.virtual&&t.virtual.enabled,d=n.grid&&t.grid&&t.grid.rows>1,y=T=>Cr(s,`.${t.slideClass}${T}, swiper-slide${T}`)[0];let m,v,w;if(c)if(t.loop){let T=o-n.virtual.slidesBefore;T<0&&(T=n.virtual.slides.length+T),T>=n.virtual.slides.length&&(T-=n.virtual.slides.length),m=y(`[data-swiper-slide-index="${T}"]`)}else m=y(`[data-swiper-slide-index="${o}"]`);else d?(m=e.find(T=>T.column===o),w=e.find(T=>T.column===o+1),v=e.find(T=>T.column===o-1)):m=e[o];m&&(d||(w=rj(m,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!w&&(w=e[0]),v=sj(m,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v===0&&(v=e[e.length-1]))),e.forEach(T=>{Bg(T,T===m,t.slideActiveClass),Bg(T,T===w,t.slideNextClass),Bg(T,T===v,t.slidePrevClass)}),n.emitSlidesClasses()}const bf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,s=e.closest(t());if(s){let o=s.querySelector(`.${n.params.lazyPreloaderClass}`);!o&&n.isElement&&(s.shadowRoot?o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),o&&!o.lazyPreloaderManaged&&o.remove())})),o&&!o.lazyPreloaderManaged&&o.remove()}},Hg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},T_=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const s=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),o=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const d=o,y=[d-e];y.push(...Array.from({length:e}).map((m,v)=>d+s+v)),n.slides.forEach((m,v)=>{y.includes(m.column)&&Hg(n,v)});return}const c=o+s-1;if(n.params.rewind||n.params.loop)for(let d=o-e;d<=c+e;d+=1){const y=(d%t+t)%t;(y<o||y>c)&&Hg(n,y)}else for(let d=Math.max(o-e,0);d<=Math.min(c+e,t-1);d+=1)d!==o&&(d>c||d<o)&&Hg(n,d)};function vj(n){const{slidesGrid:e,params:t}=n,s=n.rtlTranslate?n.translate:-n.translate;let o;for(let c=0;c<e.length;c+=1)typeof e[c+1]<"u"?s>=e[c]&&s<e[c+1]-(e[c+1]-e[c])/2?o=c:s>=e[c]&&s<e[c+1]&&(o=c+1):s>=e[c]&&(o=c);return t.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function bj(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:o,activeIndex:c,realIndex:d,snapIndex:y}=e;let m=n,v;const w=R=>{let k=R-e.virtual.slidesBefore;return k<0&&(k=e.virtual.slides.length+k),k>=e.virtual.slides.length&&(k-=e.virtual.slides.length),k};if(typeof m>"u"&&(m=vj(e)),s.indexOf(t)>=0)v=s.indexOf(t);else{const R=Math.min(o.slidesPerGroupSkip,m);v=R+Math.floor((m-R)/o.slidesPerGroup)}if(v>=s.length&&(v=s.length-1),m===c&&!e.params.loop){v!==y&&(e.snapIndex=v,e.emit("snapIndexChange"));return}if(m===c&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=w(m);return}const T=e.grid&&o.grid&&o.grid.rows>1;let N;if(e.virtual&&o.virtual.enabled)o.loop?N=w(m):N=m;else if(T){const R=e.slides.find(z=>z.column===m);let k=parseInt(R.getAttribute("data-swiper-slide-index"),10);Number.isNaN(k)&&(k=Math.max(e.slides.indexOf(R),0)),N=Math.floor(k/o.grid.rows)}else if(e.slides[m]){const R=e.slides[m].getAttribute("data-swiper-slide-index");R?N=parseInt(R,10):N=m}else N=m;Object.assign(e,{previousSnapIndex:y,snapIndex:v,previousRealIndex:d,realIndex:N,previousIndex:c,activeIndex:m}),e.initialized&&T_(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(d!==N&&e.emit("realIndexChange"),e.emit("slideChange"))}function xj(n,e){const t=this,s=t.params;let o=n.closest(`.${s.slideClass}, swiper-slide`);!o&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(y=>{!o&&y.matches&&y.matches(`.${s.slideClass}, swiper-slide`)&&(o=y)});let c=!1,d;if(o){for(let y=0;y<t.slides.length;y+=1)if(t.slides[y]===o){c=!0,d=y;break}}if(o&&c)t.clickedSlide=o,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var wj={updateSize:dj,updateSlides:fj,updateAutoHeight:mj,updateSlidesOffset:pj,updateSlidesProgress:gj,updateProgress:_j,updateSlidesClasses:yj,updateActiveIndex:bj,updateClickedSlide:xj};function Tj(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:s,translate:o,wrapperEl:c}=e;if(t.virtualTranslate)return s?-o:o;if(t.cssMode)return o;let d=ej(c,n);return d+=e.cssOverflowAdjustment(),s&&(d=-d),d||0}function Ej(n,e){const t=this,{rtlTranslate:s,params:o,wrapperEl:c,progress:d}=t;let y=0,m=0;const v=0;t.isHorizontal()?y=s?-n:n:m=n,o.roundLengths&&(y=Math.floor(y),m=Math.floor(m)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?y:m,o.cssMode?c[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-y:-m:o.virtualTranslate||(t.isHorizontal()?y-=t.cssOverflowAdjustment():m-=t.cssOverflowAdjustment(),c.style.transform=`translate3d(${y}px, ${m}px, ${v}px)`);let w;const T=t.maxTranslate()-t.minTranslate();T===0?w=0:w=(n-t.minTranslate())/T,w!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function Sj(){return-this.snapGrid[0]}function Aj(){return-this.snapGrid[this.snapGrid.length-1]}function Cj(n=0,e=this.params.speed,t=!0,s=!0,o){const c=this,{params:d,wrapperEl:y}=c;if(c.animating&&d.preventInteractionOnTransition)return!1;const m=c.minTranslate(),v=c.maxTranslate();let w;if(s&&n>m?w=m:s&&n<v?w=v:w=n,c.updateProgress(w),d.cssMode){const T=c.isHorizontal();if(e===0)y[T?"scrollLeft":"scrollTop"]=-w;else{if(!c.support.smoothScroll)return TS({swiper:c,targetPosition:-w,side:T?"left":"top"}),!0;y.scrollTo({[T?"left":"top"]:-w,behavior:"smooth"})}return!0}return e===0?(c.setTransition(0),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionEnd"))):(c.setTransition(e),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(N){!c||c.destroyed||N.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,c.animating=!1,t&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}var Nj={getTranslate:Tj,setTranslate:Ej,minTranslate:Sj,maxTranslate:Aj,translateTo:Cj};function Rj(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function NS({swiper:n,runCallbacks:e,direction:t,step:s}){const{activeIndex:o,previousIndex:c}=n;let d=t;d||(o>c?d="next":o<c?d="prev":d="reset"),n.emit(`transition${s}`),e&&d==="reset"?n.emit(`slideResetTransition${s}`):e&&o!==c&&(n.emit(`slideChangeTransition${s}`),d==="next"?n.emit(`slideNextTransition${s}`):n.emit(`slidePrevTransition${s}`))}function Ij(n=!0,e){const t=this,{params:s}=t;s.cssMode||(s.autoHeight&&t.updateAutoHeight(),NS({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Pj(n=!0,e){const t=this,{params:s}=t;t.animating=!1,!s.cssMode&&(t.setTransition(0),NS({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var Mj={setTransition:Rj,transitionStart:Ij,transitionEnd:Pj};function Lj(n=0,e,t=!0,s,o){typeof n=="string"&&(n=parseInt(n,10));const c=this;let d=n;d<0&&(d=0);const{params:y,snapGrid:m,slidesGrid:v,previousIndex:w,activeIndex:T,rtlTranslate:N,wrapperEl:R,enabled:k}=c;if(!k&&!s&&!o||c.destroyed||c.animating&&y.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=c.params.speed);const z=Math.min(c.params.slidesPerGroupSkip,d);let D=z+Math.floor((d-z)/c.params.slidesPerGroup);D>=m.length&&(D=m.length-1);const O=-m[D];if(y.normalizeSlideIndex)for(let V=0;V<v.length;V+=1){const I=-Math.floor(O*100),q=Math.floor(v[V]*100),F=Math.floor(v[V+1]*100);typeof v[V+1]<"u"?I>=q&&I<F-(F-q)/2?d=V:I>=q&&I<F&&(d=V+1):I>=q&&(d=V)}if(c.initialized&&d!==T&&(!c.allowSlideNext&&(N?O>c.translate&&O>c.minTranslate():O<c.translate&&O<c.minTranslate())||!c.allowSlidePrev&&O>c.translate&&O>c.maxTranslate()&&(T||0)!==d))return!1;d!==(w||0)&&t&&c.emit("beforeSlideChangeStart"),c.updateProgress(O);let H;d>T?H="next":d<T?H="prev":H="reset";const Z=c.virtual&&c.params.virtual.enabled;if(!(Z&&o)&&(N&&-O===c.translate||!N&&O===c.translate))return c.updateActiveIndex(d),y.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),y.effect!=="slide"&&c.setTranslate(O),H!=="reset"&&(c.transitionStart(t,H),c.transitionEnd(t,H)),!1;if(y.cssMode){const V=c.isHorizontal(),I=N?O:-O;if(e===0)Z&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),Z&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{R[V?"scrollLeft":"scrollTop"]=I})):R[V?"scrollLeft":"scrollTop"]=I,Z&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1});else{if(!c.support.smoothScroll)return TS({swiper:c,targetPosition:I,side:V?"left":"top"}),!0;R.scrollTo({[V?"left":"top"]:I,behavior:"smooth"})}return!0}const fe=CS().isSafari;return Z&&!o&&fe&&c.isElement&&c.virtual.update(!1,!1,d),c.setTransition(e),c.setTranslate(O),c.updateActiveIndex(d),c.updateSlidesClasses(),c.emit("beforeTransitionStart",e,s),c.transitionStart(t,H),e===0?c.transitionEnd(t,H):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(I){!c||c.destroyed||I.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(t,H))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0}function Oj(n=0,e,t=!0,s){typeof n=="string"&&(n=parseInt(n,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const c=o.grid&&o.params.grid&&o.params.grid.rows>1;let d=n;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)d=d+o.virtual.slidesBefore;else{let y;if(c){const z=d*o.params.grid.rows;y=o.slides.find(D=>D.getAttribute("data-swiper-slide-index")*1===z).column}else y=o.getSlideIndexByData(d);const m=c?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:v,slidesOffsetBefore:w,slidesOffsetAfter:T}=o.params,N=v||!!w||!!T;let R=o.params.slidesPerView;R==="auto"?R=o.slidesPerViewDynamic():(R=Math.ceil(parseFloat(o.params.slidesPerView,10)),N&&R%2===0&&(R=R+1));let k=m-y<R;if(N&&(k=k||y<Math.ceil(R/2)),s&&N&&o.params.slidesPerView!=="auto"&&!c&&(k=!1),k){const z=N?y<o.activeIndex?"prev":"next":y-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:z,slideTo:!0,activeSlideIndex:z==="next"?y+1:y-m+1,slideRealIndex:z==="next"?o.realIndex:void 0})}if(c){const z=d*o.params.grid.rows;d=o.slides.find(D=>D.getAttribute("data-swiper-slide-index")*1===z).column}else d=o.getSlideIndexByData(d)}return requestAnimationFrame(()=>{o.slideTo(d,e,t,s)}),o}function Dj(n,e=!0,t){const s=this,{enabled:o,params:c,animating:d}=s;if(!o||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);let y=c.slidesPerGroup;c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(y=Math.max(s.slidesPerViewDynamic("current",!0),1));const m=s.activeIndex<c.slidesPerGroupSkip?1:y,v=s.virtual&&c.virtual.enabled;if(c.loop){if(d&&!v&&c.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&c.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+m,n,e,t)}),!0}return c.rewind&&s.isEnd?s.slideTo(0,n,e,t):s.slideTo(s.activeIndex+m,n,e,t)}function kj(n,e=!0,t){const s=this,{params:o,snapGrid:c,slidesGrid:d,rtlTranslate:y,enabled:m,animating:v}=s;if(!m||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);const w=s.virtual&&o.virtual.enabled;if(o.loop){if(v&&!w&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const T=y?s.translate:-s.translate;function N(H){return H<0?-Math.floor(Math.abs(H)):Math.floor(H)}const R=N(T),k=c.map(H=>N(H)),z=o.freeMode&&o.freeMode.enabled;let D=c[k.indexOf(R)-1];if(typeof D>"u"&&(o.cssMode||z)){let H;c.forEach((Z,J)=>{R>=Z&&(H=J)}),typeof H<"u"&&(D=z?c[H]:c[H>0?H-1:H])}let O=0;if(typeof D<"u"&&(O=d.indexOf(D),O<0&&(O=s.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(O=O-s.slidesPerViewDynamic("previous",!0)+1,O=Math.max(O,0))),o.rewind&&s.isBeginning){const H=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(H,n,e,t)}else if(o.loop&&s.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(O,n,e,t)}),!0;return s.slideTo(O,n,e,t)}function jj(n,e=!0,t){const s=this;if(!s.destroyed)return typeof n>"u"&&(n=s.params.speed),s.slideTo(s.activeIndex,n,e,t)}function Vj(n,e=!0,t,s=.5){const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);let c=o.activeIndex;const d=Math.min(o.params.slidesPerGroupSkip,c),y=d+Math.floor((c-d)/o.params.slidesPerGroup),m=o.rtlTranslate?o.translate:-o.translate;if(m>=o.snapGrid[y]){const v=o.snapGrid[y],w=o.snapGrid[y+1];m-v>(w-v)*s&&(c+=o.params.slidesPerGroup)}else{const v=o.snapGrid[y-1],w=o.snapGrid[y];m-v<=(w-v)*s&&(c-=o.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,o.slidesGrid.length-1),o.slideTo(c,n,e,t)}function zj(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,s=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let o=n.getSlideIndexWhenGrid(n.clickedIndex),c;const d=n.isElement?"swiper-slide":`.${e.slideClass}`,y=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;c=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(c):o>(y?(n.slides.length-s)/2-(n.params.grid.rows-1):n.slides.length-s)?(n.loopFix(),o=n.getSlideIndex(Cr(t,`${d}[data-swiper-slide-index="${c}"]`)[0]),wS(()=>{n.slideTo(o)})):n.slideTo(o)}else n.slideTo(o)}var Uj={slideTo:Lj,slideToLoop:Oj,slideNext:Dj,slidePrev:kj,slideReset:jj,slideToClosest:Vj,slideToClickedSlide:zj};function Bj(n,e){const t=this,{params:s,slidesEl:o}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;const c=()=>{Cr(o,`.${s.slideClass}, swiper-slide`).forEach((k,z)=>{k.setAttribute("data-swiper-slide-index",z)})},d=()=>{const R=Cr(o,`.${s.slideBlankClass}`);R.forEach(k=>{k.remove()}),R.length>0&&(t.recalcSlides(),t.updateSlides())},y=t.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||y)&&d();const m=s.slidesPerGroup*(y?s.grid.rows:1),v=t.slides.length%m!==0,w=y&&t.slides.length%s.grid.rows!==0,T=R=>{for(let k=0;k<R;k+=1){const z=t.isElement?Kf("swiper-slide",[s.slideBlankClass]):Kf("div",[s.slideClass,s.slideBlankClass]);t.slidesEl.append(z)}};if(v){if(s.loopAddBlankSlides){const R=m-t.slides.length%m;T(R),t.recalcSlides(),t.updateSlides()}else Yf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else if(w){if(s.loopAddBlankSlides){const R=s.grid.rows-t.slides.length%s.grid.rows;T(R),t.recalcSlides(),t.updateSlides()}else Yf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else c();const N=s.centeredSlides||!!s.slidesOffsetBefore||!!s.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:N?void 0:"next",initial:e})}function Hj({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:s,activeSlideIndex:o,initial:c,byController:d,byMousewheel:y}={}){const m=this;if(!m.params.loop)return;m.emit("beforeLoopFix");const{slides:v,allowSlidePrev:w,allowSlideNext:T,slidesEl:N,params:R}=m,{centeredSlides:k,slidesOffsetBefore:z,slidesOffsetAfter:D,initialSlide:O}=R,H=k||!!z||!!D;if(m.allowSlidePrev=!0,m.allowSlideNext=!0,m.virtual&&R.virtual.enabled){e&&(!H&&m.snapIndex===0?m.slideTo(m.virtual.slides.length,0,!1,!0):H&&m.snapIndex<R.slidesPerView?m.slideTo(m.virtual.slides.length+m.snapIndex,0,!1,!0):m.snapIndex===m.snapGrid.length-1&&m.slideTo(m.virtual.slidesBefore,0,!1,!0)),m.allowSlidePrev=w,m.allowSlideNext=T,m.emit("loopFix");return}let Z=R.slidesPerView;Z==="auto"?Z=m.slidesPerViewDynamic():(Z=Math.ceil(parseFloat(R.slidesPerView,10)),H&&Z%2===0&&(Z=Z+1));const J=R.slidesPerGroupAuto?Z:R.slidesPerGroup;let te=H?Math.max(J,Math.ceil(Z/2)):J;te%J!==0&&(te+=J-te%J),te+=R.loopAdditionalSlides,m.loopedSlides=te;const fe=m.grid&&R.grid&&R.grid.rows>1;v.length<Z+te||m.params.effect==="cards"&&v.length<Z+te*2?Yf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):fe&&R.grid.fill==="row"&&Yf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const V=[],I=[],q=fe?Math.ceil(v.length/R.grid.rows):v.length,F=c&&q-O<Z&&!H;let B=F?O:m.activeIndex;typeof o>"u"?o=m.getSlideIndex(v.find(ie=>ie.classList.contains(R.slideActiveClass))):B=o;const $=t==="next"||!t,G=t==="prev"||!t;let ge=0,_e=0;const ye=(fe?v[o].column:o)+(H&&typeof s>"u"?-Z/2+.5:0);if(ye<te){ge=Math.max(te-ye,J);for(let ie=0;ie<te-ye;ie+=1){const me=ie-Math.floor(ie/q)*q;if(fe){const xe=q-me-1;for(let Y=v.length-1;Y>=0;Y-=1)v[Y].column===xe&&V.push(Y)}else V.push(q-me-1)}}else if(ye+Z>q-te){_e=Math.max(ye-(q-te*2),J),F&&(_e=Math.max(_e,Z-q+O+1));for(let ie=0;ie<_e;ie+=1){const me=ie-Math.floor(ie/q)*q;fe?v.forEach((xe,Y)=>{xe.column===me&&I.push(Y)}):I.push(me)}}if(m.__preventObserver__=!0,requestAnimationFrame(()=>{m.__preventObserver__=!1}),m.params.effect==="cards"&&v.length<Z+te*2&&(I.includes(o)&&I.splice(I.indexOf(o),1),V.includes(o)&&V.splice(V.indexOf(o),1)),G&&V.forEach(ie=>{v[ie].swiperLoopMoveDOM=!0,N.prepend(v[ie]),v[ie].swiperLoopMoveDOM=!1}),$&&I.forEach(ie=>{v[ie].swiperLoopMoveDOM=!0,N.append(v[ie]),v[ie].swiperLoopMoveDOM=!1}),m.recalcSlides(),R.slidesPerView==="auto"?m.updateSlides():fe&&(V.length>0&&G||I.length>0&&$)&&m.slides.forEach((ie,me)=>{m.grid.updateSlide(me,ie,m.slides)}),R.watchSlidesProgress&&m.updateSlidesOffset(),e){if(V.length>0&&G){if(typeof n>"u"){const ie=m.slidesGrid[B],xe=m.slidesGrid[B+ge]-ie;y?m.setTranslate(m.translate-xe):(m.slideTo(B+Math.ceil(ge),0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-xe,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-xe))}else if(s){const ie=fe?V.length/R.grid.rows:V.length;m.slideTo(m.activeIndex+ie,0,!1,!0),m.touchEventsData.currentTranslate=m.translate}}else if(I.length>0&&$)if(typeof n>"u"){const ie=m.slidesGrid[B],xe=m.slidesGrid[B-_e]-ie;y?m.setTranslate(m.translate-xe):(m.slideTo(B-_e,0,!1,!0),s&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-xe,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-xe))}else{const ie=fe?I.length/R.grid.rows:I.length;m.slideTo(m.activeIndex-ie,0,!1,!0)}}if(m.allowSlidePrev=w,m.allowSlideNext=T,m.controller&&m.controller.control&&!d){const ie={slideRealIndex:n,direction:t,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(m.controller.control)?m.controller.control.forEach(me=>{!me.destroyed&&me.params.loop&&me.loopFix({...ie,slideTo:me.params.slidesPerView===R.slidesPerView?e:!1})}):m.controller.control instanceof m.constructor&&m.controller.control.params.loop&&m.controller.control.loopFix({...ie,slideTo:m.controller.control.params.slidesPerView===R.slidesPerView?e:!1})}m.emit("loopFix")}function qj(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const s=[];n.slides.forEach(o=>{const c=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;s[c]=o}),n.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),s.forEach(o=>{t.append(o)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Fj={loopCreate:Bj,loopFix:Hj,loopDestroy:qj};function Gj(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Zj(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var $j={setGrabCursor:Gj,unsetGrabCursor:Zj};function Yj(n,e=this){function t(s){if(!s||s===Gl()||s===gi())return null;s.assignedSlot&&(s=s.assignedSlot);const o=s.closest(n);return!o&&!s.getRootNode?null:o||t(s.getRootNode().host)}return t(e)}function Hw(n,e,t){const s=gi(),{params:o}=n,c=o.edgeSwipeDetection,d=o.edgeSwipeThreshold;return c&&(t<=d||t>=s.innerWidth-d)?c==="prevent"?(e.preventDefault(),!0):!1:!0}function Kj(n){const e=this,t=Gl();let s=n;s.originalEvent&&(s=s.originalEvent);const o=e.touchEventsData;if(s.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(o.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){Hw(e,s,s.targetTouches[0].pageX);return}const{params:c,touches:d,enabled:y}=e;if(!y||!c.simulateTouch&&s.pointerType==="mouse"||e.animating&&c.preventInteractionOnTransition)return;!e.animating&&c.cssMode&&c.loop&&e.loopFix();let m=s.target;if(c.touchEventsTarget==="wrapper"&&!ij(m,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||o.isTouched&&o.isMoved)return;const v=!!c.noSwipingClass&&c.noSwipingClass!=="",w=s.composedPath?s.composedPath():s.path;v&&s.target&&s.target.shadowRoot&&w&&(m=w[0]);const T=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`,N=!!(s.target&&s.target.shadowRoot);if(c.noSwiping&&(N?Yj(T,m):m.closest(T))){e.allowClick=!0;return}if(c.swipeHandler&&!m.closest(c.swipeHandler))return;d.currentX=s.pageX,d.currentY=s.pageY;const R=d.currentX,k=d.currentY;if(!Hw(e,s,R))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=R,d.startY=k,o.touchStartTime=$f(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,c.threshold>0&&(o.allowThresholdMove=!1);let z=!0;m.matches(o.focusableElements)&&(z=!1,m.nodeName==="SELECT"&&(o.isTouched=!1)),t.activeElement&&t.activeElement.matches(o.focusableElements)&&t.activeElement!==m&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!m.matches(o.focusableElements))&&t.activeElement.blur();const D=z&&e.allowTouchMove&&c.touchStartPreventDefault;(c.touchStartForcePreventDefault||D)&&!m.isContentEditable&&s.preventDefault(),c.freeMode&&c.freeMode.enabled&&e.freeMode&&e.animating&&!c.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function Wj(n){const e=Gl(),t=this,s=t.touchEventsData,{params:o,touches:c,rtlTranslate:d,enabled:y}=t;if(!y||!o.simulateTouch&&n.pointerType==="mouse")return;let m=n;if(m.originalEvent&&(m=m.originalEvent),m.type==="pointermove"&&(s.touchId!==null||m.pointerId!==s.pointerId))return;let v;if(m.type==="touchmove"){if(v=[...m.changedTouches].find(te=>te.identifier===s.touchId),!v||v.identifier!==s.touchId)return}else v=m;if(!s.isTouched){s.startMoving&&s.isScrolling&&t.emit("touchMoveOpposite",m);return}const w=v.pageX,T=v.pageY;if(m.preventedByNestedSwiper){c.startX=w,c.startY=T;return}if(!t.allowTouchMove){m.target.matches(s.focusableElements)||(t.allowClick=!1),s.isTouched&&(Object.assign(c,{startX:w,startY:T,currentX:w,currentY:T}),s.touchStartTime=$f());return}if(o.touchReleaseOnEdges&&!o.loop)if(t.isVertical()){if(T<c.startY&&t.translate<=t.maxTranslate()||T>c.startY&&t.translate>=t.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(d&&(w>c.startX&&-t.translate<=t.maxTranslate()||w<c.startX&&-t.translate>=t.minTranslate()))return;if(!d&&(w<c.startX&&t.translate<=t.maxTranslate()||w>c.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==m.target&&m.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&m.target===e.activeElement&&m.target.matches(s.focusableElements)){s.isMoved=!0,t.allowClick=!1;return}s.allowTouchCallbacks&&t.emit("touchMove",m),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=w,c.currentY=T;const N=c.currentX-c.startX,R=c.currentY-c.startY;if(t.params.threshold&&Math.sqrt(N**2+R**2)<t.params.threshold)return;if(typeof s.isScrolling>"u"){let te;t.isHorizontal()&&c.currentY===c.startY||t.isVertical()&&c.currentX===c.startX?s.isScrolling=!1:N*N+R*R>=25&&(te=Math.atan2(Math.abs(R),Math.abs(N))*180/Math.PI,s.isScrolling=t.isHorizontal()?te>o.touchAngle:90-te>o.touchAngle)}if(s.isScrolling&&t.emit("touchMoveOpposite",m),typeof s.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(s.startMoving=!0),s.isScrolling||m.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;t.allowClick=!1,!o.cssMode&&m.cancelable&&m.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&m.stopPropagation();let k=t.isHorizontal()?N:R,z=t.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;o.oneWayMovement&&(k=Math.abs(k)*(d?1:-1),z=Math.abs(z)*(d?1:-1)),c.diff=k,k*=o.touchRatio,d&&(k=-k,z=-z);const D=t.touchesDirection;t.swipeDirection=k>0?"prev":"next",t.touchesDirection=z>0?"prev":"next";const O=t.params.loop&&!o.cssMode,H=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!s.isMoved){if(O&&H&&t.loopFix({direction:t.swipeDirection}),s.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const te=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(te)}s.allowMomentumBounce=!1,o.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",m)}if(new Date().getTime(),o._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&D!==t.touchesDirection&&O&&H&&Math.abs(k)>=1){Object.assign(c,{startX:w,startY:T,currentX:w,currentY:T,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}t.emit("sliderMove",m),s.isMoved=!0,s.currentTranslate=k+s.startTranslate;let Z=!0,J=o.resistanceRatio;if(o.touchReleaseOnEdges&&(J=0),k>0?(O&&H&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>t.minTranslate()&&(Z=!1,o.resistance&&(s.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+s.startTranslate+k)**J))):k<0&&(O&&H&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(o.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<t.maxTranslate()&&(Z=!1,o.resistance&&(s.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-s.startTranslate-k)**J))),Z&&(m.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0)if(Math.abs(k)>o.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,s.currentTranslate=s.startTranslate,c.diff=t.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY;return}}else{s.currentTranslate=s.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&t.freeMode||o.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(s.currentTranslate),t.setTranslate(s.currentTranslate))}function Qj(n){const e=this,t=e.touchEventsData;let s=n;s.originalEvent&&(s=s.originalEvent);let o;if(s.type==="touchend"||s.type==="touchcancel"){if(o=[...s.changedTouches].find(te=>te.identifier===t.touchId),!o||o.identifier!==t.touchId)return}else{if(t.touchId!==null||s.pointerId!==t.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:d,touches:y,rtlTranslate:m,slidesGrid:v,enabled:w}=e;if(!w||!d.simulateTouch&&s.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",s),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&d.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}d.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const T=$f(),N=T-t.touchStartTime;if(e.allowClick){const te=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(te&&te[0]||s.target,te),e.emit("tap click",s),N<300&&T-t.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(t.lastClickTime=$f(),wS(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||y.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let R;if(d.followFinger?R=m?e.translate:-e.translate:R=-t.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:R});return}const k=R>=-e.maxTranslate()&&!e.params.loop;let z=0,D=e.slidesSizesGrid[0];for(let te=0;te<v.length;te+=te<d.slidesPerGroupSkip?1:d.slidesPerGroup){const fe=te<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof v[te+fe]<"u"?(k||R>=v[te]&&R<v[te+fe])&&(z=te,D=v[te+fe]-v[te]):(k||R>=v[te])&&(z=te,D=v[v.length-1]-v[v.length-2])}let O=null,H=null;d.rewind&&(e.isBeginning?H=d.virtual&&d.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(O=0));const Z=(R-v[z])/D,J=z<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(N>d.longSwipesMs){if(!d.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(Z>=d.longSwipesRatio?e.slideTo(d.rewind&&e.isEnd?O:z+J):e.slideTo(z)),e.swipeDirection==="prev"&&(Z>1-d.longSwipesRatio?e.slideTo(z+J):H!==null&&Z<0&&Math.abs(Z)>d.longSwipesRatio?e.slideTo(H):e.slideTo(z))}else{if(!d.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(z+J):e.slideTo(z):(e.swipeDirection==="next"&&e.slideTo(O!==null?O:z+J),e.swipeDirection==="prev"&&e.slideTo(H!==null?H:z))}}function qw(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:c}=n,d=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const y=d&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!y?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!d?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=o,n.allowSlideNext=s,n.params.watchOverflow&&c!==n.snapGrid&&n.checkOverflow()}function Xj(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Jj(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:s}=n;if(!s)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let o;const c=n.maxTranslate()-n.minTranslate();c===0?o=0:o=(n.translate-n.minTranslate())/c,o!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function e3(n){const e=this;bf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function t3(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const RS=(n,e)=>{const t=Gl(),{params:s,el:o,wrapperEl:c,device:d}=n,y=!!s.nested,m=e==="on"?"addEventListener":"removeEventListener",v=e;!o||typeof o=="string"||(t[m]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:y}),o[m]("touchstart",n.onTouchStart,{passive:!1}),o[m]("pointerdown",n.onTouchStart,{passive:!1}),t[m]("touchmove",n.onTouchMove,{passive:!1,capture:y}),t[m]("pointermove",n.onTouchMove,{passive:!1,capture:y}),t[m]("touchend",n.onTouchEnd,{passive:!0}),t[m]("pointerup",n.onTouchEnd,{passive:!0}),t[m]("pointercancel",n.onTouchEnd,{passive:!0}),t[m]("touchcancel",n.onTouchEnd,{passive:!0}),t[m]("pointerout",n.onTouchEnd,{passive:!0}),t[m]("pointerleave",n.onTouchEnd,{passive:!0}),t[m]("contextmenu",n.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[m]("click",n.onClick,!0),s.cssMode&&c[m]("scroll",n.onScroll),s.updateOnWindowResize?n[v](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",qw,!0):n[v]("observerUpdate",qw,!0),o[m]("load",n.onLoad,{capture:!0}))};function n3(){const n=this,{params:e}=n;n.onTouchStart=Kj.bind(n),n.onTouchMove=Wj.bind(n),n.onTouchEnd=Qj.bind(n),n.onDocumentTouchStart=t3.bind(n),e.cssMode&&(n.onScroll=Jj.bind(n)),n.onClick=Xj.bind(n),n.onLoad=e3.bind(n),RS(n,"on")}function i3(){RS(this,"off")}var s3={attachEvents:n3,detachEvents:i3};const Fw=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function r3(){const n=this,{realIndex:e,initialized:t,params:s,el:o}=n,c=s.breakpoints;if(!c||c&&Object.keys(c).length===0)return;const d=Gl(),y=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",m=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?n.el:d.querySelector(s.breakpointsBase),v=n.getBreakpoint(c,y,m);if(!v||n.currentBreakpoint===v)return;const T=(v in c?c[v]:void 0)||n.originalParams,N=Fw(n,s),R=Fw(n,T),k=n.params.grabCursor,z=T.grabCursor,D=s.enabled;N&&!R?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),n.emitContainerClasses()):!N&&R&&(o.classList.add(`${s.containerModifierClass}grid`),(T.grid.fill&&T.grid.fill==="column"||!T.grid.fill&&s.grid.fill==="column")&&o.classList.add(`${s.containerModifierClass}grid-column`),n.emitContainerClasses()),k&&!z?n.unsetGrabCursor():!k&&z&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(fe=>{if(typeof T[fe]>"u")return;const V=s[fe]&&s[fe].enabled,I=T[fe]&&T[fe].enabled;V&&!I&&n[fe].disable(),!V&&I&&n[fe].enable()});const O=T.direction&&T.direction!==s.direction,H=s.loop&&(T.slidesPerView!==s.slidesPerView||O),Z=s.loop;O&&t&&n.changeDirection(),ss(n.params,T);const J=n.params.enabled,te=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),D&&!J?n.disable():!D&&J&&n.enable(),n.currentBreakpoint=v,n.emit("_beforeBreakpoint",T),t&&(H?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!Z&&te?(n.loopCreate(e),n.updateSlides()):Z&&!te&&n.loopDestroy()),n.emit("breakpoint",T)}function a3(n,e="window",t){if(!n||e==="container"&&!t)return;let s=!1;const o=gi(),c=e==="window"?o.innerHeight:t.clientHeight,d=Object.keys(n).map(y=>{if(typeof y=="string"&&y.indexOf("@")===0){const m=parseFloat(y.substr(1));return{value:c*m,point:y}}return{value:y,point:y}});d.sort((y,m)=>parseInt(y.value,10)-parseInt(m.value,10));for(let y=0;y<d.length;y+=1){const{point:m,value:v}=d[y];e==="window"?o.matchMedia(`(min-width: ${v}px)`).matches&&(s=m):v<=t.clientWidth&&(s=m)}return s||"max"}var o3={setBreakpoint:r3,getBreakpoint:a3};function l3(n,e){const t=[];return n.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(o=>{s[o]&&t.push(e+o)}):typeof s=="string"&&t.push(e+s)}),t}function c3(){const n=this,{classNames:e,params:t,rtl:s,el:o,device:c}=n,d=l3(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:s},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:c.android},{ios:c.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),o.classList.add(...e),n.emitContainerClasses()}function u3(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var h3={addClasses:c3,removeClasses:u3};function d3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:s}=t;if(s){const o=n.slides.length-1,c=n.slidesGrid[o]+n.slidesSizesGrid[o]+s*2;n.isLocked=n.size>c}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var f3={checkOverflow:d3},E_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function m3(n,e){return function(s={}){const o=Object.keys(s)[0],c=s[o];if(typeof c!="object"||c===null){ss(e,s);return}if(n[o]===!0&&(n[o]={enabled:!0}),o==="navigation"&&n[o]&&n[o].enabled&&!n[o].prevEl&&!n[o].nextEl&&(n[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&n[o]&&n[o].enabled&&!n[o].el&&(n[o].auto=!0),!(o in n&&"enabled"in c)){ss(e,s);return}typeof n[o]=="object"&&!("enabled"in n[o])&&(n[o].enabled=!0),n[o]||(n[o]={enabled:!1}),ss(e,s)}}const qg={eventsEmitter:hj,update:wj,translate:Nj,transition:Mj,slide:Uj,loop:Fj,grabCursor:$j,events:s3,breakpoints:o3,checkOverflow:f3,classes:h3},Fg={};let Hy=class ha{constructor(...e){let t,s;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?s=e[0]:[t,s]=e,s||(s={}),s=ss({},s),t&&!s.el&&(s.el=t);const o=Gl();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){const m=[];return o.querySelectorAll(s.el).forEach(v=>{const w=ss({},s,{el:v});m.push(new ha(w))}),m}const c=this;c.__swiper__=!0,c.support=SS(),c.device=AS({userAgent:s.userAgent}),c.browser=CS(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],s.modules&&Array.isArray(s.modules)&&c.modules.push(...s.modules);const d={};c.modules.forEach(m=>{m({params:s,swiper:c,extendParams:m3(s,d),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const y=ss({},E_,d);return c.params=ss({},y,Fg,s),c.originalParams=ss({},c.params),c.passedParams=ss({},s),c.params&&c.params.on&&Object.keys(c.params.on).forEach(m=>{c.on(m,c.params.on[m])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,o=Cr(t,`.${s.slideClass}, swiper-slide`),c=Wf(o[0]);return Wf(e)-c}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:s}=e;e.slides=Cr(t,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const o=s.minTranslate(),d=(s.maxTranslate()-o)*e+o;s.translateTo(d,typeof t>"u"?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const o=e.getSlideClasses(s);t.push({slideEl:s,classNames:o}),e.emit("_slideClass",s,o)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const s=this,{params:o,slides:c,slidesGrid:d,slidesSizesGrid:y,size:m,activeIndex:v}=s;let w=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let T=c[v]?Math.ceil(c[v].swiperSlideSize):0,N;for(let R=v+1;R<c.length;R+=1)c[R]&&!N&&(T+=Math.ceil(c[R].swiperSlideSize),w+=1,T>m&&(N=!0));for(let R=v-1;R>=0;R-=1)c[R]&&!N&&(T+=c[R].swiperSlideSize,w+=1,T>m&&(N=!0))}else if(e==="current")for(let T=v+1;T<c.length;T+=1)(t?d[T]+y[T]-d[v]<m:d[T]-d[v]<m)&&(w+=1);else for(let T=v-1;T>=0;T-=1)d[v]-d[T]<m&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&bf(e,d)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const d=e.rtlTranslate?e.translate*-1:e.translate,y=Math.min(Math.max(d,e.maxTranslate()),e.minTranslate());e.setTranslate(y),e.updateActiveIndex(),e.updateSlidesClasses()}let c;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)o(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const d=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;c=e.slideTo(d.length-1,0,!1,!0)}else c=e.slideTo(e.activeIndex,0,!1,!0);c||o()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,o=s.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${o}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(c=>{e==="vertical"?c.style.width="":c.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const o=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(o()):Cr(s,o())[0];return!d&&t.params.createElements&&(d=Kf("div",t.params.wrapperClass),s.append(d),Cr(s,`.${t.params.slideClass}`).forEach(y=>{d.append(y)})),Object.assign(t,{el:s,wrapperEl:d,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:d,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||wo(s,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||wo(s,"direction")==="rtl"),wrongRTL:wo(d,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const o=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&o.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(c=>{c.complete?bf(t,c):c.addEventListener("load",d=>{bf(t,d.target)})}),T_(t),t.initialized=!0,T_(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const s=this,{params:o,el:c,wrapperEl:d,slides:y}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),t&&(s.removeClasses(),c&&typeof c!="string"&&c.removeAttribute("style"),d&&d.removeAttribute("style"),y&&y.length&&y.forEach(m=>{m.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),m.removeAttribute("style"),m.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(m=>{s.off(m)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),X5(s)),s.destroyed=!0),null}static extendDefaults(e){ss(Fg,e)}static get extendedDefaults(){return Fg}static get defaults(){return E_}static installModule(e){ha.prototype.__modules__||(ha.prototype.__modules__=[]);const t=ha.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ha.installModule(t)),ha):(ha.installModule(e),ha)}};Object.keys(qg).forEach(n=>{Object.keys(qg[n]).forEach(e=>{Hy.prototype[e]=qg[n][e]})});Hy.use([cj,uj]);const IS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ul(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function qc(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Ul(e[s])&&Ul(n[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?n[s]=e[s]:qc(n[s],e[s]):n[s]=e[s]})}function PS(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function MS(n={}){return n.pagination&&typeof n.pagination.el>"u"}function LS(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function OS(n=""){const e=n.split(" ").map(s=>s.trim()).filter(s=>!!s),t=[];return e.forEach(s=>{t.indexOf(s)<0&&t.push(s)}),t.join(" ")}function p3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function g3({swiper:n,slides:e,passedParams:t,changedParams:s,nextEl:o,prevEl:c,scrollbarEl:d,paginationEl:y}){const m=s.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:v,pagination:w,navigation:T,scrollbar:N,virtual:R,thumbs:k}=n;let z,D,O,H,Z,J,te,fe;s.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(z=!0),s.includes("controller")&&t.controller&&t.controller.control&&v.controller&&!v.controller.control&&(D=!0),s.includes("pagination")&&t.pagination&&(t.pagination.el||y)&&(v.pagination||v.pagination===!1)&&w&&!w.el&&(O=!0),s.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||d)&&(v.scrollbar||v.scrollbar===!1)&&N&&!N.el&&(H=!0),s.includes("navigation")&&t.navigation&&(t.navigation.prevEl||c)&&(t.navigation.nextEl||o)&&(v.navigation||v.navigation===!1)&&T&&!T.prevEl&&!T.nextEl&&(Z=!0);const V=I=>{n[I]&&(n[I].destroy(),I==="navigation"?(n.isElement&&(n[I].prevEl.remove(),n[I].nextEl.remove()),v[I].prevEl=void 0,v[I].nextEl=void 0,n[I].prevEl=void 0,n[I].nextEl=void 0):(n.isElement&&n[I].el.remove(),v[I].el=void 0,n[I].el=void 0))};s.includes("loop")&&n.isElement&&(v.loop&&!t.loop?J=!0:!v.loop&&t.loop?te=!0:fe=!0),m.forEach(I=>{if(Ul(v[I])&&Ul(t[I]))Object.assign(v[I],t[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in t[I]&&!t[I].enabled&&V(I);else{const q=t[I];(q===!0||q===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?q===!1&&V(I):v[I]=t[I]}}),m.includes("controller")&&!D&&n.controller&&n.controller.control&&v.controller&&v.controller.control&&(n.controller.control=v.controller.control),s.includes("children")&&e&&R&&v.virtual.enabled?(R.slides=e,R.update(!0)):s.includes("virtual")&&R&&v.virtual.enabled&&(e&&(R.slides=e),R.update(!0)),s.includes("children")&&e&&v.loop&&(fe=!0),z&&k.init()&&k.update(!0),D&&(n.controller.control=v.controller.control),O&&(n.isElement&&(!y||typeof y=="string")&&(y=document.createElement("div"),y.classList.add("swiper-pagination"),y.part.add("pagination"),n.el.appendChild(y)),y&&(v.pagination.el=y),w.init(),w.render(),w.update()),H&&(n.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),n.el.appendChild(d)),d&&(v.scrollbar.el=d),N.init(),N.updateSize(),N.setTranslate()),Z&&(n.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Ch(o,n.navigation.arrowSvg),o.part.add("button-next"),n.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),Ch(c,n.navigation.arrowSvg),c.part.add("button-prev"),n.el.appendChild(c))),o&&(v.navigation.nextEl=o),c&&(v.navigation.prevEl=c),T.init(),T.update()),s.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),s.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),s.includes("direction")&&n.changeDirection(t.direction,!1),(J||fe)&&n.loopDestroy(),(te||fe)&&n.loopCreate(),n.update()}function _3(n={},e=!0){const t={on:{}},s={},o={};qc(t,E_),t._emitClasses=!0,t.init=!1;const c={},d=IS.map(m=>m.replace(/_/,"")),y=Object.assign({},n);return Object.keys(y).forEach(m=>{typeof n[m]>"u"||(d.indexOf(m)>=0?Ul(n[m])?(t[m]={},o[m]={},qc(t[m],n[m]),qc(o[m],n[m])):(t[m]=n[m],o[m]=n[m]):m.search(/on[A-Z]/)===0&&typeof n[m]=="function"?e?s[`${m[2].toLowerCase()}${m.substr(3)}`]=n[m]:t.on[`${m[2].toLowerCase()}${m.substr(3)}`]=n[m]:c[m]=n[m])}),["navigation","pagination","scrollbar"].forEach(m=>{t[m]===!0&&(t[m]={}),t[m]===!1&&delete t[m]}),{params:t,passedParams:o,rest:c,events:s}}function y3({el:n,nextEl:e,prevEl:t,paginationEl:s,scrollbarEl:o,swiper:c},d){PS(d)&&e&&t&&(c.params.navigation.nextEl=e,c.originalParams.navigation.nextEl=e,c.params.navigation.prevEl=t,c.originalParams.navigation.prevEl=t),MS(d)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),LS(d)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(n)}function v3(n,e,t,s,o){const c=[];if(!e)return c;const d=m=>{c.indexOf(m)<0&&c.push(m)};if(t&&s){const m=s.map(o),v=t.map(o);m.join("")!==v.join("")&&d("children"),s.length!==t.length&&d("children")}return IS.filter(m=>m[0]==="_").map(m=>m.replace(/_/,"")).forEach(m=>{if(m in n&&m in e)if(Ul(n[m])&&Ul(e[m])){const v=Object.keys(n[m]),w=Object.keys(e[m]);v.length!==w.length?d(m):(v.forEach(T=>{n[m][T]!==e[m][T]&&d(m)}),w.forEach(T=>{n[m][T]!==e[m][T]&&d(m)}))}else n[m]!==e[m]&&d(m)}),c}const b3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Qf(){return Qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Qf.apply(this,arguments)}function DS(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function kS(n){const e=[];return rn.Children.toArray(n).forEach(t=>{DS(t)?e.push(t):t.props&&t.props.children&&kS(t.props.children).forEach(s=>e.push(s))}),e}function x3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return rn.Children.toArray(n).forEach(s=>{if(DS(s))e.push(s);else if(s.props&&s.props.slot&&t[s.props.slot])t[s.props.slot].push(s);else if(s.props&&s.props.children){const o=kS(s.props.children);o.length>0?o.forEach(c=>e.push(c)):t["container-end"].push(s)}else t["container-end"].push(s)}),{slides:e,slots:t}}function w3(n,e,t){if(!t)return null;const s=w=>{let T=w;return w<0?T=e.length+w:T>=e.length&&(T=T-e.length),T},o=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:c,to:d}=t,y=n.params.loop?-e.length:0,m=n.params.loop?e.length*2:e.length,v=[];for(let w=y;w<m;w+=1)w>=c&&w<=d&&v.push(e[s(w)]);return v.map((w,T)=>rn.cloneElement(w,{swiper:n,style:o,key:w.props.virtualIndex||w.key||`slide-${T}`}))}function mh(n,e){return typeof window>"u"?U.useEffect(n,e):U.useLayoutEffect(n,e)}const Gw=U.createContext(null),T3=U.createContext(null),jS=U.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:s,onSwiper:o,...c}={},d)=>{let y=!1;const[m,v]=U.useState("swiper"),[w,T]=U.useState(null),[N,R]=U.useState(!1),k=U.useRef(!1),z=U.useRef(null),D=U.useRef(null),O=U.useRef(null),H=U.useRef(null),Z=U.useRef(null),J=U.useRef(null),te=U.useRef(null),fe=U.useRef(null),{params:V,passedParams:I,rest:q,events:F}=_3(c),{slides:B,slots:$}=x3(s),G=()=>{R(!N)};Object.assign(V.on,{_containerClasses(ie,me){v(me)}});const ge=()=>{Object.assign(V.on,F),y=!0;const ie={...V};if(delete ie.wrapperClass,D.current=new Hy(ie),D.current.virtual&&D.current.params.virtual.enabled){D.current.virtual.slides=B;const me={cache:!1,slides:B,renderExternal:T,renderExternalUpdate:!1};qc(D.current.params.virtual,me),qc(D.current.originalParams.virtual,me)}};z.current||ge(),D.current&&D.current.on("_beforeBreakpoint",G);const _e=()=>{y||!F||!D.current||Object.keys(F).forEach(ie=>{D.current.on(ie,F[ie])})},X=()=>{!F||!D.current||Object.keys(F).forEach(ie=>{D.current.off(ie,F[ie])})};U.useEffect(()=>()=>{D.current&&D.current.off("_beforeBreakpoint",G)}),U.useEffect(()=>{!k.current&&D.current&&(D.current.emitSlidesClasses(),k.current=!0)}),mh(()=>{if(d&&(d.current=z.current),!!z.current)return D.current.destroyed&&ge(),y3({el:z.current,nextEl:Z.current,prevEl:J.current,paginationEl:te.current,scrollbarEl:fe.current,swiper:D.current},V),o&&!D.current.destroyed&&o(D.current),()=>{D.current&&!D.current.destroyed&&D.current.destroy(!0,!1)}},[]),mh(()=>{_e();const ie=v3(I,O.current,B,H.current,me=>me.key);return O.current=I,H.current=B,ie.length&&D.current&&!D.current.destroyed&&g3({swiper:D.current,slides:B,passedParams:I,changedParams:ie,nextEl:Z.current,prevEl:J.current,scrollbarEl:fe.current,paginationEl:te.current}),()=>{X()}}),mh(()=>{b3(D.current)},[w]);function ye(){return V.virtual?w3(D.current,B,w):B.map((ie,me)=>rn.cloneElement(ie,{swiper:D.current,swiperSlideIndex:me}))}return rn.createElement(e,Qf({ref:z,className:OS(`${m}${n?` ${n}`:""}`)},q),rn.createElement(T3.Provider,{value:D.current},$["container-start"],rn.createElement(t,{className:p3(V.wrapperClass)},$["wrapper-start"],ye(),$["wrapper-end"]),PS(V)&&rn.createElement(rn.Fragment,null,rn.createElement("div",{ref:J,className:"swiper-button-prev"}),rn.createElement("div",{ref:Z,className:"swiper-button-next"})),LS(V)&&rn.createElement("div",{ref:fe,className:"swiper-scrollbar"}),MS(V)&&rn.createElement("div",{ref:te,className:"swiper-pagination"}),$["container-end"]))});jS.displayName="Swiper";const S_=U.forwardRef(({tag:n="div",children:e,className:t="",swiper:s,zoom:o,lazy:c,virtualIndex:d,swiperSlideIndex:y,...m}={},v)=>{const w=U.useRef(null),[T,N]=U.useState("swiper-slide"),[R,k]=U.useState(!1);function z(Z,J,te){J===w.current&&N(te)}mh(()=>{if(typeof y<"u"&&(w.current.swiperSlideIndex=y),v&&(v.current=w.current),!(!w.current||!s)){if(s.destroyed){T!=="swiper-slide"&&N("swiper-slide");return}return s.on("_slideClass",z),()=>{s&&s.off("_slideClass",z)}}}),mh(()=>{s&&w.current&&!s.destroyed&&N(s.getSlideClasses(w.current))},[s]);const D={isActive:T.indexOf("swiper-slide-active")>=0,isVisible:T.indexOf("swiper-slide-visible")>=0,isPrev:T.indexOf("swiper-slide-prev")>=0,isNext:T.indexOf("swiper-slide-next")>=0},O=()=>typeof e=="function"?e(D):e,H=()=>{k(!0)};return rn.createElement(n,Qf({ref:w,className:OS(`${T}${t?` ${t}`:""}`),"data-swiper-slide-index":d,onLoad:H},m),o&&rn.createElement(Gw.Provider,{value:D},rn.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},O(),c&&!R&&rn.createElement("div",{className:"swiper-lazy-preloader",ref:Z=>{Z&&(Z.lazyPreloaderManaged=!0)}}))),!o&&rn.createElement(Gw.Provider,{value:D},O(),c&&!R&&rn.createElement("div",{className:"swiper-lazy-preloader",ref:Z=>{Z&&(Z.lazyPreloaderManaged=!0)}})))});S_.displayName="SwiperSlide";function VS(n,e,t,s){return n.params.createElements&&Object.keys(s).forEach(o=>{if(!t[o]&&t.auto===!0){let c=Cr(n.el,`.${s[o]}`)[0];c||(c=Kf("div",s[o]),c.className=s[o],n.el.append(c)),t[o]=c,e[o]=c}}),t}const Zw='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function E3({swiper:n,extendParams:e,on:t,emit:s}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null,arrowSvg:Zw};function o(R){let k;return R&&typeof R=="string"&&n.isElement&&(k=n.el.querySelector(R)||n.hostEl.querySelector(R),k)?k:(R&&(typeof R=="string"&&(k=[...document.querySelectorAll(R)]),n.params.uniqueNavElements&&typeof R=="string"&&k&&k.length>1&&n.el.querySelectorAll(R).length===1?k=n.el.querySelector(R):k&&k.length===1&&(k=k[0])),R&&!k?R:k)}function c(R,k){const z=n.params.navigation;R=Vn(R),R.forEach(D=>{D&&(D.classList[k?"add":"remove"](...z.disabledClass.split(" ")),D.tagName==="BUTTON"&&(D.disabled=k),n.params.watchOverflow&&n.enabled&&D.classList[n.isLocked?"add":"remove"](z.lockClass))})}function d(){const{nextEl:R,prevEl:k}=n.navigation;if(n.params.loop){c(k,!1),c(R,!1);return}c(k,n.isBeginning&&!n.params.rewind),c(R,n.isEnd&&!n.params.rewind)}function y(R){R.preventDefault(),!(n.isBeginning&&!n.params.loop&&!n.params.rewind)&&(n.slidePrev(),s("navigationPrev"))}function m(R){R.preventDefault(),!(n.isEnd&&!n.params.loop&&!n.params.rewind)&&(n.slideNext(),s("navigationNext"))}function v(){const R=n.params.navigation;if(n.params.navigation=VS(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(R.nextEl||R.prevEl))return;let k=o(R.nextEl),z=o(R.prevEl);Object.assign(n.navigation,{nextEl:k,prevEl:z}),k=Vn(k),z=Vn(z);const D=(O,H)=>{if(O){if(R.addIcons&&O.matches(".swiper-button-next,.swiper-button-prev")&&!O.querySelector("svg")){const Z=document.createElement("div");Ch(Z,Zw),O.appendChild(Z.querySelector("svg")),Z.remove()}O.addEventListener("click",H==="next"?m:y)}!n.enabled&&O&&O.classList.add(...R.lockClass.split(" "))};k.forEach(O=>D(O,"next")),z.forEach(O=>D(O,"prev"))}function w(){let{nextEl:R,prevEl:k}=n.navigation;R=Vn(R),k=Vn(k);const z=(D,O)=>{D.removeEventListener("click",O==="next"?m:y),D.classList.remove(...n.params.navigation.disabledClass.split(" "))};R.forEach(D=>z(D,"next")),k.forEach(D=>z(D,"prev"))}t("init",()=>{n.params.navigation.enabled===!1?N():(v(),d())}),t("toEdge fromEdge lock unlock",()=>{d()}),t("destroy",()=>{w()}),t("enable disable",()=>{let{nextEl:R,prevEl:k}=n.navigation;if(R=Vn(R),k=Vn(k),n.enabled){d();return}[...R,...k].filter(z=>!!z).forEach(z=>z.classList.add(n.params.navigation.lockClass))}),t("click",(R,k)=>{let{nextEl:z,prevEl:D}=n.navigation;z=Vn(z),D=Vn(D);const O=k.target;let H=D.includes(O)||z.includes(O);if(n.isElement&&!H){const Z=k.path||k.composedPath&&k.composedPath();Z&&(H=Z.find(J=>z.includes(J)||D.includes(J)))}if(n.params.navigation.hideOnClick&&!H){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===O||n.pagination.el.contains(O)))return;let Z;z.length?Z=z[0].classList.contains(n.params.navigation.hiddenClass):D.length&&(Z=D[0].classList.contains(n.params.navigation.hiddenClass)),s(Z===!0?"navigationShow":"navigationHide"),[...z,...D].filter(J=>!!J).forEach(J=>J.classList.toggle(n.params.navigation.hiddenClass))}});const T=()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),v(),d()},N=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(n.navigation,{enable:T,disable:N,update:d,init:v,destroy:w})}function Xu(n=""){return`.${n.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function S3({swiper:n,extendParams:e,on:t,emit:s}){const o="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:O=>O,formatFractionTotal:O=>O,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),n.pagination={el:null,bullets:[]};let c,d=0;function y(){return!n.params.pagination.el||!n.pagination.el||Array.isArray(n.pagination.el)&&n.pagination.el.length===0}function m(O,H){const{bulletActiveClass:Z}=n.params.pagination;O&&(O=O[`${H==="prev"?"previous":"next"}ElementSibling`],O&&(O.classList.add(`${Z}-${H}`),O=O[`${H==="prev"?"previous":"next"}ElementSibling`],O&&O.classList.add(`${Z}-${H}-${H}`)))}function v(O,H,Z){if(O=O%Z,H=H%Z,H===O+1)return"next";if(H===O-1)return"previous"}function w(O){const H=O.target.closest(Xu(n.params.pagination.bulletClass));if(!H)return;O.preventDefault();const Z=Wf(H)*n.params.slidesPerGroup;if(n.params.loop){if(n.realIndex===Z)return;const J=v(n.realIndex,Z,n.slides.length);J==="next"?n.slideNext():J==="previous"?n.slidePrev():n.slideToLoop(Z)}else n.slideTo(Z)}function T(){const O=n.rtl,H=n.params.pagination;if(y())return;let Z=n.pagination.el;Z=Vn(Z);let J,te;const fe=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,V=n.params.loop?Math.ceil(fe/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(te=n.previousRealIndex||0,J=n.params.slidesPerGroup>1?Math.floor(n.realIndex/n.params.slidesPerGroup):n.realIndex):typeof n.snapIndex<"u"?(J=n.snapIndex,te=n.previousSnapIndex):(te=n.previousIndex||0,J=n.activeIndex||0),H.type==="bullets"&&n.pagination.bullets&&n.pagination.bullets.length>0){const I=n.pagination.bullets;let q,F,B;if(H.dynamicBullets&&(c=w_(I[0],n.isHorizontal()?"width":"height"),Z.forEach($=>{$.style[n.isHorizontal()?"width":"height"]=`${c*(H.dynamicMainBullets+4)}px`}),H.dynamicMainBullets>1&&te!==void 0&&(d+=J-(te||0),d>H.dynamicMainBullets-1?d=H.dynamicMainBullets-1:d<0&&(d=0)),q=Math.max(J-d,0),F=q+(Math.min(I.length,H.dynamicMainBullets)-1),B=(F+q)/2),I.forEach($=>{const G=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ge=>`${H.bulletActiveClass}${ge}`)].map(ge=>typeof ge=="string"&&ge.includes(" ")?ge.split(" "):ge).flat();$.classList.remove(...G)}),Z.length>1)I.forEach($=>{const G=Wf($);G===J?$.classList.add(...H.bulletActiveClass.split(" ")):n.isElement&&$.setAttribute("part","bullet"),H.dynamicBullets&&(G>=q&&G<=F&&$.classList.add(...`${H.bulletActiveClass}-main`.split(" ")),G===q&&m($,"prev"),G===F&&m($,"next"))});else{const $=I[J];if($&&$.classList.add(...H.bulletActiveClass.split(" ")),n.isElement&&I.forEach((G,ge)=>{G.setAttribute("part",ge===J?"bullet-active":"bullet")}),H.dynamicBullets){const G=I[q],ge=I[F];for(let _e=q;_e<=F;_e+=1)I[_e]&&I[_e].classList.add(...`${H.bulletActiveClass}-main`.split(" "));m(G,"prev"),m(ge,"next")}}if(H.dynamicBullets){const $=Math.min(I.length,H.dynamicMainBullets+4),G=(c*$-c)/2-B*c,ge=O?"right":"left";I.forEach(_e=>{_e.style[n.isHorizontal()?ge:"top"]=`${G}px`})}}Z.forEach((I,q)=>{if(H.type==="fraction"&&(I.querySelectorAll(Xu(H.currentClass)).forEach(F=>{F.textContent=H.formatFractionCurrent(J+1)}),I.querySelectorAll(Xu(H.totalClass)).forEach(F=>{F.textContent=H.formatFractionTotal(V)})),H.type==="progressbar"){let F;H.progressbarOpposite?F=n.isHorizontal()?"vertical":"horizontal":F=n.isHorizontal()?"horizontal":"vertical";const B=(J+1)/V;let $=1,G=1;F==="horizontal"?$=B:G=B,I.querySelectorAll(Xu(H.progressbarFillClass)).forEach(ge=>{ge.style.transform=`translate3d(0,0,0) scaleX(${$}) scaleY(${G})`,ge.style.transitionDuration=`${n.params.speed}ms`})}H.type==="custom"&&H.renderCustom?(Ch(I,H.renderCustom(n,J+1,V)),q===0&&s("paginationRender",I)):(q===0&&s("paginationRender",I),s("paginationUpdate",I)),n.params.watchOverflow&&n.enabled&&I.classList[n.isLocked?"add":"remove"](H.lockClass)})}function N(){const O=n.params.pagination;if(y())return;const H=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.grid&&n.params.grid.rows>1?n.slides.length/Math.ceil(n.params.grid.rows):n.slides.length;let Z=n.pagination.el;Z=Vn(Z);let J="";if(O.type==="bullets"){let te=n.params.loop?Math.ceil(H/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&te>H&&(te=H);for(let fe=0;fe<te;fe+=1)O.renderBullet?J+=O.renderBullet.call(n,fe,O.bulletClass):J+=`<${O.bulletElement} ${n.isElement?'part="bullet"':""} class="${O.bulletClass}"></${O.bulletElement}>`}O.type==="fraction"&&(O.renderFraction?J=O.renderFraction.call(n,O.currentClass,O.totalClass):J=`<span class="${O.currentClass}"></span> / <span class="${O.totalClass}"></span>`),O.type==="progressbar"&&(O.renderProgressbar?J=O.renderProgressbar.call(n,O.progressbarFillClass):J=`<span class="${O.progressbarFillClass}"></span>`),n.pagination.bullets=[],Z.forEach(te=>{O.type!=="custom"&&Ch(te,J||""),O.type==="bullets"&&n.pagination.bullets.push(...te.querySelectorAll(Xu(O.bulletClass)))}),O.type!=="custom"&&s("paginationRender",Z[0])}function R(){n.params.pagination=VS(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const O=n.params.pagination;if(!O.el)return;let H;typeof O.el=="string"&&n.isElement&&(H=n.el.querySelector(O.el)),!H&&typeof O.el=="string"&&(H=[...document.querySelectorAll(O.el)]),H||(H=O.el),!(!H||H.length===0)&&(n.params.uniqueNavElements&&typeof O.el=="string"&&Array.isArray(H)&&H.length>1&&(H=[...n.el.querySelectorAll(O.el)],H.length>1&&(H=H.find(Z=>ES(Z,".swiper")[0]===n.el))),Array.isArray(H)&&H.length===1&&(H=H[0]),Object.assign(n.pagination,{el:H}),H=Vn(H),H.forEach(Z=>{O.type==="bullets"&&O.clickable&&Z.classList.add(...(O.clickableClass||"").split(" ")),Z.classList.add(O.modifierClass+O.type),Z.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.type==="bullets"&&O.dynamicBullets&&(Z.classList.add(`${O.modifierClass}${O.type}-dynamic`),d=0,O.dynamicMainBullets<1&&(O.dynamicMainBullets=1)),O.type==="progressbar"&&O.progressbarOpposite&&Z.classList.add(O.progressbarOppositeClass),O.clickable&&Z.addEventListener("click",w),n.enabled||Z.classList.add(O.lockClass)}))}function k(){const O=n.params.pagination;if(y())return;let H=n.pagination.el;H&&(H=Vn(H),H.forEach(Z=>{Z.classList.remove(O.hiddenClass),Z.classList.remove(O.modifierClass+O.type),Z.classList.remove(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.clickable&&(Z.classList.remove(...(O.clickableClass||"").split(" ")),Z.removeEventListener("click",w))})),n.pagination.bullets&&n.pagination.bullets.forEach(Z=>Z.classList.remove(...O.bulletActiveClass.split(" ")))}t("changeDirection",()=>{if(!n.pagination||!n.pagination.el)return;const O=n.params.pagination;let{el:H}=n.pagination;H=Vn(H),H.forEach(Z=>{Z.classList.remove(O.horizontalClass,O.verticalClass),Z.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass)})}),t("init",()=>{n.params.pagination.enabled===!1?D():(R(),N(),T())}),t("activeIndexChange",()=>{typeof n.snapIndex>"u"&&T()}),t("snapIndexChange",()=>{T()}),t("snapGridLengthChange",()=>{N(),T()}),t("destroy",()=>{k()}),t("enable disable",()=>{let{el:O}=n.pagination;O&&(O=Vn(O),O.forEach(H=>H.classList[n.enabled?"remove":"add"](n.params.pagination.lockClass)))}),t("lock unlock",()=>{T()}),t("click",(O,H)=>{const Z=H.target,J=Vn(n.pagination.el);if(n.params.pagination.el&&n.params.pagination.hideOnClick&&J&&J.length>0&&!Z.classList.contains(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&Z===n.navigation.nextEl||n.navigation.prevEl&&Z===n.navigation.prevEl))return;const te=J[0].classList.contains(n.params.pagination.hiddenClass);s(te===!0?"paginationShow":"paginationHide"),J.forEach(fe=>fe.classList.toggle(n.params.pagination.hiddenClass))}});const z=()=>{n.el.classList.remove(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=Vn(O),O.forEach(H=>H.classList.remove(n.params.pagination.paginationDisabledClass))),R(),N(),T()},D=()=>{n.el.classList.add(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=Vn(O),O.forEach(H=>H.classList.add(n.params.pagination.paginationDisabledClass))),k()};Object.assign(n.pagination,{enable:z,disable:D,render:N,update:T,init:R,destroy:k})}const A3=()=>{const{id:n}=XA(),[e,t]=U.useState(null),[s,o]=U.useState(!0),[c,d]=U.useState(!1),[y,m]=U.useState(!1),v=U.useRef(!1),[w,T]=U.useState({name:"",phone:"",message:"Hola, estoy interesado en esta propiedad y me gustara recibir ms informacin."}),N=async fe=>{fe.preventDefault(),m(!0);try{await Hc(wn(tt,"inquiries"),{propertyId:e.id,propertyTitle:e.title,agentId:e.agentId,clientName:w.name,clientPhone:w.phone,clientMessage:w.message,timestamp:new Date,status:"pending"}),Fe.success("Tu solicitud ha sido enviada! El agente te contactar pronto."),d(!1),T({name:"",phone:"",message:""})}catch(V){console.error("Error sending inquiry:",V),Fe.error("Hubo un error al enviar tu solicitud.")}finally{m(!1)}},R=async()=>{if(!e)return;let fe="51999999999";try{if(e.agentId){const q=await Rl(mn(tt,"users",e.agentId));if(q.exists()){const F=q.data();F.phoneNumber&&(fe=F.phoneNumber.replace(/[\s\-\+]/g,""),fe.startsWith("51")||(fe="51"+fe))}}}catch(q){console.error("Error fetching agent phone:",q)}const V=`Hola, estoy interesado en la propiedad: ${e.title}
 ${e.location}`,I=`https://wa.me/${fe}?text=${encodeURIComponent(V)}`;window.open(I,"_blank")},k=async()=>{const fe={title:e?.title||"Propiedad en Inmuvete",text:`Mira esta propiedad: ${e?.title} - ${e?.location}`,url:window.location.href};try{navigator.share?await navigator.share(fe):(await navigator.clipboard.writeText(window.location.href),Fe.success("Enlace copiado al portapapeles!"))}catch(V){V.name!=="AbortError"&&(await navigator.clipboard.writeText(window.location.href),Fe.success("Enlace copiado al portapapeles!"))}},z=()=>{Fe.success("Propiedad guardada en favoritos!")};if(U.useEffect(()=>{(async()=>{try{if(!n)return;const V=mn(tt,"properties",n),I=await Rl(V);if(I.exists()){const q=I.data();v.current||(v.current=!0,mo(V,{views:_D(1)}).catch(F=>console.error("Error incrementing views",F)),q.views=(q.views||0)+1),t({id:I.id,...q})}else console.log("No such document!")}catch(V){console.error("Error fetching property:",V)}finally{o(!1)}})()},[n]),s)return _.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:_.jsx("div",{className:"w-16 h-16 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})});if(!e)return _.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Propiedad no encontrada"}),_.jsx(an,{to:"/",className:"text-[#fc7f51] hover:underline",children:"Volver al inicio"})]});const D=3.75,O=typeof e.price=="number"?e.price:parseFloat(e.price),H=e.currency||"USD";let Z,J;H==="USD"?(Z=O,J=O*D):(J=O,Z=O/D);const te=e.lat&&e.lng?`https://www.google.com/maps/search/?api=1&query=${e.lat},${e.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.location)}`;return _.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[_.jsxs("main",{className:"container mx-auto px-6 pt-32 pb-12",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:e.title}),_.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center text-sm gap-4",children:[_.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium overflow-hidden",children:[_.jsx(Dr,{className:"w-4 h-4 text-[#fc7f51] flex-shrink-0"}),_.jsx("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#fc7f51] truncate",children:e.location})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("button",{onClick:k,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[_.jsx(R5,{className:"w-4 h-4"})," Compartir"]}),_.jsxs("button",{onClick:z,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[_.jsx(Gf,{className:"w-4 h-4"})," Guardar"]})]})]})]}),_.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 shadow-2xl relative h-[400px] md:h-[600px] bg-gray-100 group",children:_.jsx(jS,{modules:[E3,S3],navigation:!0,pagination:{clickable:!0},className:"h-full w-full",loop:!0,children:e.images&&e.images.length>0?e.images.map((fe,V)=>_.jsx(S_,{children:_.jsx("img",{src:fe,alt:`Property ${V+1}`,className:"w-full h-full object-cover"})},V)):_.jsx(S_,{children:_.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-400",children:"No hay imgenes disponibles"})})})}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[_.jsxs("div",{className:"lg:col-span-2",children:[_.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8 flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["Publicado por ",e.agentName||"Agente Inmuvete"]}),_.jsxs("p",{className:"text-gray-600 mb-0",children:[e.bedrooms||0," Habitaciones  ",e.bathrooms||0," Baos  ",e.footage," m"]})]}),_.jsx("div",{className:"w-14 h-14 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden border-2 border-white shadow-md",children:_.jsx(yS,{className:"w-8 h-8 text-gray-400"})})]}),_.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Descripcin"}),_.jsx("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-line",children:e.description})]}),_.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[_.jsx("h3",{className:"text-xl font-bold mb-4",children:"Detalles"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[_.jsx("span",{className:"text-gray-500",children:"Tipo"}),_.jsx("span",{className:"font-semibold capitalize",children:e.type})]}),_.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[_.jsx("span",{className:"text-gray-500",children:"Categora"}),_.jsx("span",{className:"font-semibold capitalize",children:e.category})]}),_.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[_.jsx("span",{className:"text-gray-500",children:"rea"}),_.jsxs("span",{className:"font-semibold",children:[e.footage," m"]})]}),_.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[_.jsx("span",{className:"text-gray-500",children:"Estado"}),_.jsx("span",{className:`font-semibold capitalize ${e.status==="disponible"?"text-green-600":"text-red-500"}`,children:e.status})]}),_.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[_.jsx("span",{className:"text-gray-500",children:"Antigedad"}),_.jsx("span",{className:"font-semibold capitalize",children:e.antiquity==="estreno"?"A estrenar":e.antiquity==="preventa"?"En Preventa":e.antiquity==="up_to_5"?"Hasta 5 aos":e.antiquity==="5_to_10"?"5 a 10 aos":e.antiquity==="10_to_20"?"10 a 20 aos":e.antiquity==="more_than_20"?"Ms de 20 aos":e.antiquity||"No especificado"})]}),e.floor&&_.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[_.jsx("span",{className:"text-gray-500",children:"Piso"}),_.jsxs("span",{className:"font-semibold",children:[e.floor,""]})]}),_.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[_.jsx("span",{className:"text-gray-500",children:"Ascensor"}),_.jsx("span",{className:"font-semibold",children:e.elevator?"S":"No"})]}),_.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[_.jsx("span",{className:"text-gray-500",children:"Cochera"}),_.jsx("span",{className:"font-semibold",children:e.parking?"S":"No"})]})]})]}),_.jsxs("div",{className:"pt-4",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ubicacin"}),_.jsx("p",{className:"text-gray-500 mb-4",children:e.location}),_.jsxs("div",{className:"h-96 w-full rounded-xl overflow-hidden bg-gray-100 shadow-inner relative group",children:[e.lat&&e.lng?_.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${e.lat},${e.lng}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):e.location?_.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${encodeURIComponent(e.location)}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):_.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-200",children:[_.jsx(Dr,{className:"w-12 h-12 text-gray-400 mb-2"}),_.jsx("p",{className:"text-gray-500",children:"Mapa no disponible para esta ubicacin."})]}),_.jsxs("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-lg text-sm font-bold flex items-center gap-2 hover:bg-[#fc7f51] hover:text-white transition",children:[_.jsx(Dr,{className:"w-4 h-4"}),"Abrir en Google Maps"]})]})]})]}),_.jsx("div",{className:"lg:col-span-1",children:_.jsxs("div",{className:"sticky top-32 bg-white rounded-xl shadow-card border border-gray-200 p-6",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("span",{className:"block text-3xl font-bold text-[#fc7f51]",children:Z.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})}),_.jsx("span",{className:"block text-xl font-bold text-gray-400 mt-1",children:J.toLocaleString("en-US",{style:"currency",currency:"PEN",maximumFractionDigits:0})}),e.type==="alquiler"&&_.jsx("span",{className:"text-gray-500 text-sm block mt-1",children:"Precio por mes"})]}),_.jsxs("button",{onClick:R,className:"w-full bg-[#25D366] text-white font-bold text-lg py-3 rounded-lg hover:bg-[#20bd5a] transition mb-4 shadow-lg shadow-green-500/30 flex items-center justify-center gap-2",children:[_.jsx(gS,{className:"w-5 h-5"}),"Contactar por WhatsApp"]}),_.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-white border-2 border-gray-200 text-gray-700 font-bold py-3 rounded-lg hover:border-[#fc7f51] hover:text-[#fc7f51] transition mb-6 flex items-center justify-center gap-2",children:[_.jsx(pS,{className:"w-5 h-5"}),"Solicitar Informacin"]}),_.jsx("div",{className:"text-center text-xs text-gray-400",children:"* Al contactar aceptas nuestros trminos y condiciones."})]})})]})]}),c&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[_.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Solicitar Informacin"}),_.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:_.jsx(Wc,{className:"w-5 h-5"})})]}),_.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),_.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre completo",value:w.name,onChange:fe=>T({...w,name:fe.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono / WhatsApp"}),_.jsx("input",{required:!0,type:"tel",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: +51 999 999 999",value:w.phone,onChange:fe=>T({...w,phone:fe.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),_.jsx("textarea",{required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition h-32 resize-none",value:w.message,onChange:fe=>T({...w,message:fe.target.value})})]}),_.jsx("button",{type:"submit",disabled:y,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-70",children:y?_.jsx(Ah,{className:"animate-spin"}):"Enviar Solicitud"})]})]})})]})},qy="/inmobiliaria/assets/logo-9PyExb9b.png",C3=()=>_.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[_.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[_.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:_.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20",alt:"About Hero"})}),_.jsxs("div",{className:"relative z-10 text-center px-6",children:[_.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:["Ms que una ",_.jsx("span",{className:"text-[#fc7f51]",children:"inmobiliaria"})]}),_.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Inspiramos movimiento. Impulsamos a las personas a dar el paso hacia nuevas etapas de su vida."})]})]}),_.jsxs("div",{className:"container mx-auto px-6 py-20",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center mb-24",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Quines Somos"}),_.jsx("img",{src:qy,alt:"Inmuvete",className:"h-16 mb-6 object-contain"}),_.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 leading-tight",children:"Concepto de Marca"}),_.jsxs("p",{className:"text-[#878787] text-lg leading-relaxed mb-6",children:["Ms que vender inmuebles, inspiramos movimiento. ",_.jsx("strong",{className:"text-[#262626]",children:"Inmuvete"})," es la inmobiliaria que impulsa a las personas a dar el paso hacia nuevas etapas de su vida: un nuevo hogar, una inversin segura o un espacio para crecer."]}),_.jsx("p",{className:"text-[#878787] text-lg leading-relaxed",children:"Nuestro enfoque combina confianza, transparencia y dinamismo, convirtiendo cada transaccin en una experiencia cercana, gil y motivadora."})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsx("img",{src:"https://images.unsplash.com/photo-1600596542815-e3287135f5cf?q=80&w=2072&auto=format&fit=crop",className:"rounded-tl-[40px] rounded-br-[40px] w-full h-64 object-cover shadow-card",alt:"Concept 1"}),_.jsx("img",{src:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2053&auto=format&fit=crop",className:"rounded-tr-[40px] rounded-bl-[40px] w-full h-64 object-cover shadow-card mt-8",alt:"Concept 2"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-24",children:[_.jsxs("div",{className:"bg-[#f9f9f9] p-10 rounded-2xl hover:shadow-lg transition border-l-4 border-[#fc7f51] group",children:[_.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] group-hover:text-white transition",children:_.jsx(D5,{className:"w-7 h-7"})}),_.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Misin"}),_.jsx("p",{className:"text-[#878787] leading-relaxed",children:'"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles, ofreciendo un servicio cercano que transforma cada proceso en una experiencia sencilla y segura."'})]}),_.jsxs("div",{className:"bg-[#262626] p-10 rounded-2xl text-white shadow-xl relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#fc7f51] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"}),_.jsx("div",{className:"w-14 h-14 bg-[#333] rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] transition",children:_.jsx(Ff,{className:"w-7 h-7"})}),_.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visin"}),_.jsx("p",{className:"text-gray-300 leading-relaxed",children:'"Ser la inmobiliaria de referencia en la regin, reconocida por la confianza, innovacin y cercana con nuestros clientes, ofreciendo experiencias inmobiliarias que impulsen el desarrollo personal, familiar y empresarial."'})]})]}),_.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[_.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Nuestra Esencia"}),_.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Nuestros Valores"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:_.jsx(P5,{className:"w-10 h-10"})}),_.jsx("h4",{className:"text-xl font-bold mb-3",children:"Integridad"}),_.jsx("p",{className:"text-[#878787] text-sm",children:"Actuamos con honestidad y transparencia en cada paso."})]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:_.jsx(s5,{className:"w-10 h-10"})}),_.jsx("h4",{className:"text-xl font-bold mb-3",children:"Compromiso"}),_.jsx("p",{className:"text-[#878787] text-sm",children:"Nos dedicamos a cumplir y superar las expectativas."})]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:_.jsx(vS,{className:"w-10 h-10"})}),_.jsx("h4",{className:"text-xl font-bold mb-3",children:"Confianza"}),_.jsx("p",{className:"text-[#878787] text-sm",children:"Construimos relaciones duraderas basadas en la seguridad."})]})]})]})]})]}),N3=()=>{const{user:n,userData:e,logout:t}=Vo(),o=nr().pathname==="/about";return _.jsx("nav",{className:"fixed w-full z-50 bg-[#16151a] border-b border-gray-800 shadow-lg",children:_.jsxs("div",{className:"container mx-auto px-6 h-24 flex justify-between items-center",children:[_.jsxs(an,{to:"/",className:"flex items-center gap-3 group",children:[_.jsx("img",{src:qy,alt:"Inmuvete",className:`${o?"block":"hidden md:block"} h-12 w-auto object-contain`}),!o&&_.jsx("img",{src:"/favicon.png",alt:"Inmuvete",className:"block md:hidden h-10 w-auto object-contain"})]}),_.jsxs("div",{className:"hidden lg:flex items-center bg-white rounded-full py-2 pl-6 pr-2 shadow-xl hover:shadow-orange-500/5 transition cursor-pointer gap-4 min-w-[420px]",children:[_.jsx("input",{type:"text",placeholder:"Buscar por zona, ciudad o tipo...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm"}),_.jsx("div",{className:"bg-[#fc7f51] p-2.5 rounded-full text-white hover:bg-[#e56b3e] transition shadow-md",children:_.jsx(Kc,{className:"w-5 h-5",strokeWidth:2.5})})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[_.jsx(an,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),_.jsx(an,{to:"/about",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Nosotros"}),_.jsx(an,{to:"/contact",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Contacto"})]}),n?_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs(an,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",className:"text-white hover:text-[#fc7f51] transition font-medium mr-2",children:["Hola, ",n.displayName?n.displayName.split(" ")[0]:"Usuario"]}),_.jsx("button",{onClick:t,className:"bg-[#262626] border border-gray-600 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition",children:"Salir"}),_.jsx(an,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",children:_.jsx("div",{className:"bg-gray-600 rounded-full p-0.5 cursor-pointer",children:_.jsx(K4,{className:"w-8 h-8 text-white fill-gray-600"})})})]}):_.jsx(an,{to:"/login",className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-full font-bold transition shadow-lg shadow-orange-500/20",children:"Ingresar"})]})]})})},R3=()=>_.jsxs("footer",{className:"bg-[#16151a] text-white py-16",children:[_.jsxs("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx("img",{src:qy,alt:"Inmuvete",className:"h-12"}),_.jsxs("span",{className:"text-2xl font-bold font-[Montserrat] text-white",children:["Inmu",_.jsx("span",{className:"text-[#fc7f51]",children:"vete"})]})]}),_.jsx("p",{className:"text-[#878787] text-sm leading-relaxed mb-6",children:"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles."}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"in"}),_.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"ig"}),_.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"fb"})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Nuestros Valores"}),_.jsxs("ul",{className:"space-y-4 text-sm text-[#878787]",children:[_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Integridad"]}),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Compromiso"]}),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Confianza"]})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Contacto"}),_.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"Oficina Central, Ciudad"}),_.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"contacto@inmuevete.com"}),_.jsx("p",{className:"text-[#878787] text-sm",children:"+51 123 456 789"})]})]}),_.jsx("div",{className:"border-t border-[#262626] mt-12 pt-8 text-center text-[#878787] text-xs",children:" 2024 Inmuvete. Todos los derechos reservados."})]}),I3=()=>{const[n,e]=U.useState({name:"",phone:"+51 ",email:"",subject:"Informacin general",message:""}),t=d=>{e({...n,[d.target.name]:d.target.value})},s=d=>{let y=d.target.value;y.startsWith("+51 ")||(y="+51 "+y.replace(/^\+51\s*/,"")),e({...n,phone:y})},o=()=>{const d="+51965355700";let y=n.message.trim();return y||(y=`Hola, me gustara ${n.subject==="Comprar una propiedad"?"Comprar":n.subject==="Vender una propiedad"?"Vender":n.subject==="Alquileres"?"Alquilar":"obtener Informacin general sobre"} un inmueble.`),y+=`

- Nombre: ${n.name}
- Telfono: ${n.phone}
- Email: ${n.email}
- Asunto: ${n.subject}`,`https://wa.me/${d}?text=${encodeURIComponent(y)}`},c=d=>{if(d.preventDefault(),!n.name||!n.email){Fe.error("Por favor completa nombre y email.");return}const y=o();Fe.success("Redirigiendo a WhatsApp..."),setTimeout(()=>{window.open(y,"_blank")},1e3)};return _.jsx("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:_.jsxs("div",{className:"pt-24 pb-20 container mx-auto px-6",children:[_.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[_.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Hablamos?"}),_.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#262626]",children:"Contctanos"}),_.jsx("p",{className:"text-[#878787] text-lg",children:"Estamos aqu para ayudarte a encontrar tu espacio ideal. Escrbenos y un asesor se pondr en contacto contigo a la brevedad."})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[_.jsxs("div",{className:"bg-[#16151a] text-white p-10 rounded-3xl shadow-xl relative overflow-hidden",children:[_.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-20 blur-3xl"}),_.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-10 blur-3xl"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Informacin de Contacto"}),_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:_.jsx(gS,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg mb-1",children:"Telfono"}),_.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"+51 965355700"})]})]}),_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:_.jsx(pS,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg mb-1",children:"Email"}),_.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"contacto@inmuevete.com"}),_.jsx("p",{className:"text-gray-400 text-sm",children:"ventas@inmuevete.com"})]})]}),_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:_.jsx(Dr,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg mb-1",children:"Oficina Central"}),_.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Av. Principal 123, Oficina 404",_.jsx("br",{}),"Centro Empresarial, Ciudad",_.jsx("br",{}),"Per"]})]})]})]}),_.jsxs("div",{className:"mt-12",children:[_.jsx("h4",{className:"font-bold text-lg mb-4",children:"Sguenos"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:_.jsx(l5,{className:"w-5 h-5"})}),_.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:_.jsx(e5,{className:"w-5 h-5"})}),_.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:_.jsx(f5,{className:"w-5 h-5"})})]})]})]})]}),_.jsx("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-card border border-gray-100",children:_.jsxs("form",{onSubmit:c,className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Nombre"}),_.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,placeholder:"Tu nombre completo",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Telfono"}),_.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:s,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Email"}),_.jsx("input",{type:"email",name:"email",value:n.email,onChange:t,placeholder:"ejemplo@correo.com",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Asunto"}),_.jsxs("select",{name:"subject",value:n.subject,onChange:t,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition text-gray-600 bg-white",children:[_.jsx("option",{value:"Informacin general",children:"Informacin general"}),_.jsx("option",{value:"Comprar una propiedad",children:"Comprar una propiedad"}),_.jsx("option",{value:"Vender una propiedad",children:"Vender una propiedad"}),_.jsx("option",{value:"Alquileres",children:"Alquileres"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Mensaje"}),_.jsx("textarea",{name:"message",value:n.message,onChange:t,rows:"4",placeholder:"Cmo podemos ayudarte?",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),_.jsxs("button",{type:"submit",className:"w-full bg-[#128C7E] hover:bg-[#075E54] text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2 group",children:["Contactar por WhatsApp",_.jsx(w5,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})]})]})})},$w=3.75,P3=()=>{const[n,e]=qC(),[t,s]=U.useState(n.get("operation")||"venta"),[o,c]=U.useState(n.get("location")||""),[d,y]=U.useState(n.get("propertyType")||""),[m,v]=U.useState(n.get("currency")||"USD"),[w,T]=U.useState(n.get("priceMin")||""),[N,R]=U.useState(n.get("priceMax")||""),[k,z]=U.useState(n.get("bedrooms")||""),[D,O]=U.useState(n.get("bathrooms")||""),[H,Z]=U.useState([]),[J,te]=U.useState([]),[fe,V]=U.useState(!0),[I,q]=U.useState(!1),[F,B]=U.useState("newest");U.useEffect(()=>{(async()=>{V(!0);try{const ye=(await Ks(wn(tt,"properties"))).docs.map(ie=>({id:ie.id,...ie.data()}));Z(ye)}catch(X){console.error("Error fetching properties:",X)}finally{V(!1)}})()},[]),U.useEffect(()=>{let _e=[...H];if(t&&(_e=_e.filter(X=>X.type?.toLowerCase()===t.toLowerCase())),o){const X=o.toLowerCase();_e=_e.filter(ye=>ye.location?.toLowerCase().includes(X)||ye.address?.toLowerCase().includes(X)||ye.title?.toLowerCase().includes(X))}if(d){const X=d.toLowerCase();_e=_e.filter(ye=>{const ie=ye.title?.toLowerCase()||"",me=ye.category?.toLowerCase()||"",xe=ye.location?.toLowerCase()||"";return X==="departamento"||X==="departamentos"?ie.includes("departamento")||ie.includes("depa"):X==="casa"||X==="casas"?ie.includes("casa"):X==="terreno"||X==="terrenos"?me==="terreno"||ie.includes("terreno")||ie.includes("lote"):X==="oficina"||X==="oficinas"?ie.includes("oficina"):X==="local"||X==="locales"?ie.includes("local"):X==="campestre"||X==="campestres"?ie.includes("campestre")||ie.includes("campo")||xe.includes("campo"):X==="playa"?ie.includes("playa")||xe.includes("playa"):!0})}if(w||N){const X=w?parseFloat(w):0,ye=N?parseFloat(N):1/0;_e=_e.filter(ie=>{const me=typeof ie.price=="number"?ie.price:parseFloat(ie.price)||0,xe=ie.currency||"USD";let Y;return xe===m?Y=me:m==="USD"&&xe==="PEN"?Y=me/$w:m==="PEN"&&xe==="USD"?Y=me*$w:Y=me,Y>=X&&Y<=ye})}if(k){const X=parseInt(k);_e=_e.filter(ye=>(parseInt(ye.bedrooms)||0)>=X)}if(D){const X=parseInt(D);_e=_e.filter(ye=>(parseInt(ye.bathrooms)||0)>=X)}_e=_e.filter(X=>X.status==="disponible"),F==="newest"?_e.sort((X,ye)=>(ye.createdAt?.seconds||0)-(X.createdAt?.seconds||0)):F==="price_asc"?_e.sort((X,ye)=>(parseFloat(X.price)||0)-(parseFloat(ye.price)||0)):F==="price_desc"&&_e.sort((X,ye)=>(parseFloat(ye.price)||0)-(parseFloat(X.price)||0)),_e.sort((X,ye)=>X.isPromoted&&!ye.isPromoted?-1:!X.isPromoted&&ye.isPromoted?1:0),te(_e)},[H,t,o,d,m,w,N,k,D,F]);const $=()=>{const _e={};t&&(_e.operation=t),o&&(_e.location=o),d&&(_e.propertyType=d),m&&(_e.currency=m),w&&(_e.priceMin=w),N&&(_e.priceMax=N),k&&(_e.bedrooms=k),D&&(_e.bathrooms=D),e(_e)},G=()=>{s("venta"),c(""),y(""),v("USD"),T(""),R(""),z(""),O(""),e({})},ge=[t,o,d,w,N,k,D].filter(Boolean).length;return _.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-[#262626]",children:[_.jsx("div",{className:"bg-white border-b border-gray-200 pt-24 pb-6 sticky top-0 z-30",children:_.jsxs("div",{className:"container mx-auto px-6",children:[_.jsxs(an,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-[#fc7f51] transition mb-4",children:[_.jsx(B4,{className:"w-4 h-4"}),"Volver al inicio"]}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[_.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl flex-shrink-0",children:["venta","alquiler","anticresis"].map(_e=>_.jsx("button",{onClick:()=>s(_e),className:`px-4 py-2 text-sm font-bold capitalize rounded-lg transition-all ${t===_e?"bg-white text-[#fc7f51] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:_e},_e))}),_.jsxs("div",{className:"relative flex-grow",children:[_.jsx(Dr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),_.jsx("input",{type:"text",value:o,onChange:_e=>c(_e.target.value),onKeyDown:_e=>_e.key==="Enter"&&$(),placeholder:"Buscar por ubicacin, zona o nombre...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"})]}),_.jsxs("button",{onClick:()=>q(!I),className:`flex items-center gap-2 px-4 py-3 rounded-xl border font-bold text-sm transition flex-shrink-0 ${I?"bg-[#fc7f51] text-white border-[#fc7f51]":"bg-white text-gray-700 border-gray-200 hover:border-[#fc7f51]"}`,children:[_.jsx(L5,{className:"w-4 h-4"}),"Filtros",ge>1&&_.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${I?"bg-white/20 text-white":"bg-[#fc7f51] text-white"}`,children:ge})]}),_.jsxs("button",{onClick:$,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-8 py-3 rounded-xl font-bold text-sm shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2 flex-shrink-0",children:[_.jsx(Kc,{className:"w-4 h-4"}),"Buscar"]})]}),I&&_.jsxs("div",{className:"mt-4 p-6 bg-gray-50 rounded-2xl border border-gray-200 animate-fadeIn",children:[_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo Inmueble"}),_.jsxs("select",{value:d,onChange:_e=>y(_e.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[_.jsx("option",{value:"",children:"Todos"}),_.jsx("option",{value:"departamento",children:"Departamento"}),_.jsx("option",{value:"casa",children:"Casa"}),_.jsx("option",{value:"terreno",children:"Terreno"}),_.jsx("option",{value:"oficina",children:"Oficina"}),_.jsx("option",{value:"local",children:"Local Comercial"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),_.jsxs("div",{className:"flex bg-white rounded-lg border border-gray-200 p-0.5 h-[42px]",children:[_.jsx("button",{onClick:()=>v("USD"),className:`flex-1 rounded-md text-xs font-bold transition ${m==="USD"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"$ USD"}),_.jsx("button",{onClick:()=>v("PEN"),className:`flex-1 rounded-md text-xs font-bold transition ${m==="PEN"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"S/ PEN"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mn."}),_.jsx("input",{type:"number",placeholder:"0",value:w,onChange:_e=>T(_e.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mx."}),_.jsx("input",{type:"number",placeholder:"Sin lmite",value:N,onChange:_e=>R(_e.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),_.jsxs("select",{value:k,onChange:_e=>z(_e.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[_.jsx("option",{value:"",children:"Cualquiera"}),_.jsx("option",{value:"1",children:"1+"}),_.jsx("option",{value:"2",children:"2+"}),_.jsx("option",{value:"3",children:"3+"}),_.jsx("option",{value:"4",children:"4+"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),_.jsxs("select",{value:D,onChange:_e=>O(_e.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[_.jsx("option",{value:"",children:"Cualquiera"}),_.jsx("option",{value:"1",children:"1+"}),_.jsx("option",{value:"2",children:"2+"}),_.jsx("option",{value:"3",children:"3+"})]})]})]}),_.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[_.jsxs("button",{onClick:G,className:"text-sm text-gray-500 hover:text-red-500 font-medium flex items-center gap-1 transition",children:[_.jsx(Wc,{className:"w-4 h-4"}),"Limpiar filtros"]}),_.jsx("button",{onClick:()=>{$(),q(!1)},className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-lg font-bold text-sm transition",children:"Aplicar Filtros"})]})]})]})}),_.jsxs("div",{className:"container mx-auto px-6 py-8",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:fe?"Buscando...":`${J.length} propiedad${J.length!==1?"es":""} encontrada${J.length!==1?"s":""}`}),(o||d)&&_.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[t&&_.jsx("span",{className:"capitalize",children:t}),d&&_.jsxs("span",{children:["  ",d]}),o&&_.jsxs("span",{children:[" en ",_.jsx("strong",{children:o})]})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:"text-sm text-gray-500 font-medium",children:"Ordenar por:"}),_.jsxs("select",{value:F,onChange:_e=>B(_e.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium focus:border-[#fc7f51] outline-none cursor-pointer",children:[_.jsx("option",{value:"newest",children:"Ms recientes"}),_.jsx("option",{value:"price_asc",children:"Precio: menor a mayor"}),_.jsx("option",{value:"price_desc",children:"Precio: mayor a menor"})]})]})]}),fe?_.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[_.jsx(Ah,{className:"w-12 h-12 animate-spin text-[#fc7f51] mb-4"}),_.jsx("p",{className:"text-gray-500 font-medium",children:"Buscando propiedades..."})]}):J.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[_.jsx("div",{className:"w-24 h-24 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:_.jsx(Kc,{className:"w-12 h-12 text-[#fc7f51]/50"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No encontramos propiedades"}),_.jsx("p",{className:"text-gray-500 max-w-md mb-6",children:"No hay propiedades que coincidan con tus criterios de bsqueda. Intenta ajustar los filtros o buscar en otra ubicacin."}),_.jsx("button",{onClick:G,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold transition",children:"Limpiar Filtros"})]}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:J.map(_e=>_.jsx(bS,{property:_e},_e.id))})]})]})},M3=()=>{const[n,e]=U.useState(""),[t,s]=U.useState(""),{login:o,loginWithGoogle:c,loginWithApple:d}=Vo(),y=Jc(),m=async N=>{try{const R=await Rl(mn(tt,"users",N));if(R.exists()){const k=R.data();k.role==="agente"?y("/agent-dashboard"):k.role==="superadmin"?y("/superadmin"):y("/client-dashboard")}else y("/")}catch(R){console.error("Error redirecting:",R)}},v=async N=>{N.preventDefault();try{const R=await o(n,t);Fe.success("Bienvenido de nuevo!"),m(R.user.uid)}catch(R){Fe.error(R.message)}},w=async()=>{try{const N=await c();Fe.success("Bienvenido!"),m(N.user.uid)}catch(N){Fe.error(N.message)}},T=async()=>{try{const N=await d();Fe.success("Bienvenido!"),m(N.user.uid)}catch(N){Fe.error(N.message)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[_.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Iniciar Sesin"}),_.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Accede a tu cuenta de Inmuvete"}),_.jsxs("form",{onSubmit:v,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),_.jsx("input",{type:"email",value:n,onChange:N=>e(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),_.jsx("input",{type:"password",value:t,onChange:N=>s(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"",required:!0})]}),_.jsxs("div",{className:"flex items-center justify-between text-sm",children:[_.jsxs("label",{className:"flex items-center text-gray-600",children:[_.jsx("input",{type:"checkbox",className:"mr-2 text-[#fc7f51] focus:ring-[#fc7f51] rounded border-gray-300"}),"Recordarme"]}),_.jsx(an,{to:"/forgot-password",className:"text-[#fc7f51] hover:underline font-medium",children:"Olvidaste tu contrasea?"})]}),_.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Ingresar"})]}),_.jsxs("div",{className:"my-6 flex items-center",children:[_.jsx("div",{className:"flex-grow border-t border-gray-200"}),_.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O contina con"}),_.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),_.jsxs("button",{onClick:T,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[_.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),_.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["No tienes una cuenta?"," ",_.jsx(an,{to:"/register",className:"text-[#fc7f51] font-bold hover:underline",children:"Regstrate aqu"})]})]})})},L3=()=>{const[n,e]=U.useState(""),[t,s]=U.useState(""),[o,c]=U.useState(""),[d,y]=U.useState(""),[m,v]=U.useState("cliente"),{signup:w,loginWithGoogle:T,loginWithApple:N}=Vo(),R=Jc(),k=async O=>{O.preventDefault();try{await w(n,t,m,o,d),Fe.success("Cuenta creada exitosamente!"),R(m==="agente"?"/agent-dashboard":"/client-dashboard")}catch(H){Fe.error(H.message)}},z=async()=>{try{await T(m),Fe.success("Cuenta creada exitosamente!"),R(m==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Fe.error(O.message)}},D=async()=>{try{await N(m),Fe.success("Cuenta creada exitosamente!"),R(m==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Fe.error(O.message)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[_.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Crear una Cuenta"}),_.jsx("p",{className:"text-center text-gray-500 mb-8",children:"nete y encuentra tu prximo hogar"}),_.jsxs("form",{onSubmit:k,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),_.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),_.jsx("input",{type:"tel",value:d,onChange:O=>y(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"+51 999 999 999",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),_.jsx("input",{type:"email",value:n,onChange:O=>e(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),_.jsx("input",{type:"password",value:t,onChange:O=>s(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Crea una contrasea segura",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Qu buscas hacer?"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("button",{type:"button",onClick:()=>v("cliente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${m==="cliente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[_.jsx("span",{className:"font-bold",children:"Buscar Propiedades"}),_.jsx("span",{className:"text-xs mt-1",children:"Soy Cliente"})]}),_.jsxs("button",{type:"button",onClick:()=>v("agente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${m==="agente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[_.jsx("span",{className:"font-bold",children:"Publicar Inmuebles"}),_.jsx("span",{className:"text-xs mt-1",children:"Soy Agente"})]})]})]}),_.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Registrarme"})]}),_.jsxs("div",{className:"my-6 flex items-center",children:[_.jsx("div",{className:"flex-grow border-t border-gray-200"}),_.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O regstrate con"}),_.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("button",{onClick:z,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),_.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[_.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),_.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Ya tienes cuenta?"," ",_.jsx(an,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Inicia Sesin"})]})]})})},O3=()=>{const[n,e]=U.useState(""),{resetPassword:t}=Vo(),[s,o]=U.useState(!1),c=async d=>{d.preventDefault(),o(!0);try{await t(n),Fe.success("Te hemos enviado un correo para restablecer tu contrasea.")}catch(y){Fe.error(y.message)}finally{o(!1)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[_.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Recuperar Contrasea"}),_.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Ingresa tu correo y te enviaremos las instrucciones"}),_.jsxs("form",{onSubmit:c,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),_.jsx("input",{type:"email",value:n,onChange:d=>e(d.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),_.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:s?"Enviando...":"Enviar Instrucciones"})]}),_.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Te acordaste?"," ",_.jsx(an,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Volver a Iniciar Sesin"})]})]})})};function D3(n,e){const t=U.useRef(e);U.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const k3=1;function j3(n){return Object.freeze({__version:k3,map:n})}function V3(n,e){return Object.freeze({...n,...e})}const Fy=U.createContext(null);function zS(){const n=U.use(Fy);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function z3(n){function e(t,s){const{instance:o,context:c}=n(t).current;U.useImperativeHandle(s,()=>o);const{children:d}=t;return d==null?null:rn.createElement(Fy,{value:c},d)}return U.forwardRef(e)}function U3(n){function e(t,s){const{instance:o}=n(t).current;return U.useImperativeHandle(s,()=>o),null}return U.forwardRef(e)}function B3(n,e){const t=U.useRef(void 0);U.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function US(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}var rh={exports:{}};var H3=rh.exports,Yw;function q3(){return Yw||(Yw=1,(function(n,e){(function(t,s){s(e)})(H3,(function(t){var s="1.9.4";function o(a){var u,p,x,S;for(p=1,x=arguments.length;p<x;p++){S=arguments[p];for(u in S)a[u]=S[u]}return a}var c=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function d(a,u){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var x=p.call(arguments,2);return function(){return a.apply(u,x.length?x.concat(p.call(arguments)):arguments)}}var y=0;function m(a){return"_leaflet_id"in a||(a._leaflet_id=++y),a._leaflet_id}function v(a,u,p){var x,S,P,K;return K=function(){x=!1,S&&(P.apply(p,S),S=!1)},P=function(){x?S=arguments:(a.apply(p,arguments),setTimeout(K,u),x=!0)},P}function w(a,u,p){var x=u[1],S=u[0],P=x-S;return a===x&&p?a:((a-S)%P+P)%P+S}function T(){return!1}function N(a,u){if(u===!1)return a;var p=Math.pow(10,u===void 0?6:u);return Math.round(a*p)/p}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return R(a).split(/\s+/)}function z(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var p in u)a.options[p]=u[p];return a.options}function D(a,u,p){var x=[];for(var S in a)x.push(encodeURIComponent(p?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function H(a,u){return a.replace(O,function(p,x){var S=u[x];if(S===void 0)throw new Error("No value provided for variable "+p);return typeof S=="function"&&(S=S(u)),S})}var Z=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function J(a,u){for(var p=0;p<a.length;p++)if(a[p]===u)return p;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function fe(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var V=0;function I(a){var u=+new Date,p=Math.max(0,16-(u-V));return V=u+p,window.setTimeout(a,p)}var q=window.requestAnimationFrame||fe("RequestAnimationFrame")||I,F=window.cancelAnimationFrame||fe("CancelAnimationFrame")||fe("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function B(a,u,p){if(p&&q===I)a.call(u);else return q.call(window,d(a,u))}function $(a){a&&F.call(window,a)}var G={__proto__:null,extend:o,create:c,bind:d,get lastId(){return y},stamp:m,throttle:v,wrapNum:w,falseFn:T,formatNum:N,trim:R,splitWords:k,setOptions:z,getParamString:D,template:H,isArray:Z,indexOf:J,emptyImageUrl:te,requestFn:q,cancelFn:F,requestAnimFrame:B,cancelAnimFrame:$};function ge(){}ge.extend=function(a){var u=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,x=c(p);x.constructor=u,u.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&o(u,a.statics),a.includes&&(_e(a.includes),o.apply(null,[x].concat(a.includes))),o(x,a),delete x.statics,delete x.includes,x.options&&(x.options=p.options?c(p.options):{},o(x.options,a.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,K=x._initHooks.length;P<K;P++)x._initHooks[P].call(this)}},u},ge.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},ge.mergeOptions=function(a){return o(this.prototype.options,a),this},ge.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function _e(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=Z(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(a,u,p){if(typeof a=="object")for(var x in a)this._on(x,a[x],u);else{a=k(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,p)}return this},off:function(a,u,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var x in a)this._off(x,a[x],u);else{a=k(a);for(var S=arguments.length===1,P=0,K=a.length;P<K;P++)S?this._off(a[P]):this._off(a[P],u,p)}return this},_on:function(a,u,p,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,p)===!1){p===this&&(p=void 0);var S={fn:u,ctx:p};x&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,p){var x,S,P;if(this._events&&(x=this._events[a],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,P=x.length;S<P;S++)x[S].fn=T;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var K=this._listens(a,u,p);if(K!==!1){var ne=x[K];this._firingCount&&(ne.fn=T,this._events[a]=x=x.slice()),x.splice(K,1)}}},fire:function(a,u,p){if(!this.listens(a,p))return this;var x=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,K=S.length;P<K;P++){var ne=S[P],oe=ne.fn;ne.once&&this.off(a,oe,ne.ctx),oe.call(ne.ctx||this,x)}this._firingCount--}}return p&&this._propagateEvent(x),this},listens:function(a,u,p,x){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(x=!!u,S=void 0,p=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,p)!==!1)return!0;if(x){for(var K in this._eventParents)if(this._eventParents[K].listens(a,u,p,x))return!0}return!1},_listens:function(a,u,p){if(!this._events)return!1;var x=this._events[a]||[];if(!u)return!!x.length;p===this&&(p=void 0);for(var S=0,P=x.length;S<P;S++)if(x[S].fn===u&&x[S].ctx===p)return S;return!1},once:function(a,u,p){if(typeof a=="object")for(var x in a)this._on(x,a[x],u,!0);else{a=k(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[m(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[m(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var ye=ge.extend(X);function ie(a,u,p){this.x=p?Math.round(a):a,this.y=p?Math.round(u):u}var me=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(a){return this.clone()._add(xe(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(xe(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ie(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ie(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=me(this.x),this.y=me(this.y),this},distanceTo:function(a){a=xe(a);var u=a.x-this.x,p=a.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(a){return a=xe(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=xe(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function xe(a,u,p){return a instanceof ie?a:Z(a)?new ie(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ie(a.x,a.y):new ie(a,u,p)}function Y(a,u){if(a)for(var p=u?[a,u]:a,x=0,S=p.length;x<S;x++)this.extend(p[x])}Y.prototype={extend:function(a){var u,p;if(!a)return this;if(a instanceof ie||typeof a[0]=="number"||"x"in a)u=p=xe(a);else if(a=ue(a),u=a.min,p=a.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return xe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return xe(this.min.x,this.max.y)},getTopRight:function(){return xe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,p;return typeof a[0]=="number"||a instanceof ie?a=xe(a):a=ue(a),a instanceof Y?(u=a.min,p=a.max):u=p=a,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=ue(a);var u=this.min,p=this.max,x=a.min,S=a.max,P=S.x>=u.x&&x.x<=p.x,K=S.y>=u.y&&x.y<=p.y;return P&&K},overlaps:function(a){a=ue(a);var u=this.min,p=this.max,x=a.min,S=a.max,P=S.x>u.x&&x.x<p.x,K=S.y>u.y&&x.y<p.y;return P&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,p=this.max,x=Math.abs(u.x-p.x)*a,S=Math.abs(u.y-p.y)*a;return ue(xe(u.x-x,u.y-S),xe(p.x+x,p.y+S))},equals:function(a){return a?(a=ue(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ue(a,u){return!a||a instanceof Y?a:new Y(a,u)}function Se(a,u){if(a)for(var p=u?[a,u]:a,x=0,S=p.length;x<S;x++)this.extend(p[x])}Se.prototype={extend:function(a){var u=this._southWest,p=this._northEast,x,S;if(a instanceof Re)x=a,S=a;else if(a instanceof Se){if(x=a._southWest,S=a._northEast,!x||!S)return this}else return a?this.extend(Ie(a)||Ae(a)):this;return!u&&!p?(this._southWest=new Re(x.lat,x.lng),this._northEast=new Re(S.lat,S.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),p.lat=Math.max(S.lat,p.lat),p.lng=Math.max(S.lng,p.lng)),this},pad:function(a){var u=this._southWest,p=this._northEast,x=Math.abs(u.lat-p.lat)*a,S=Math.abs(u.lng-p.lng)*a;return new Se(new Re(u.lat-x,u.lng-S),new Re(p.lat+x,p.lng+S))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Re||"lat"in a?a=Ie(a):a=Ae(a);var u=this._southWest,p=this._northEast,x,S;return a instanceof Se?(x=a.getSouthWest(),S=a.getNorthEast()):x=S=a,x.lat>=u.lat&&S.lat<=p.lat&&x.lng>=u.lng&&S.lng<=p.lng},intersects:function(a){a=Ae(a);var u=this._southWest,p=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=u.lat&&x.lat<=p.lat,K=S.lng>=u.lng&&x.lng<=p.lng;return P&&K},overlaps:function(a){a=Ae(a);var u=this._southWest,p=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>u.lat&&x.lat<p.lat,K=S.lng>u.lng&&x.lng<p.lng;return P&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=Ae(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ae(a,u){return a instanceof Se?a:new Se(a,u)}function Re(a,u,p){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,p!==void 0&&(this.alt=+p)}Re.prototype={equals:function(a,u){if(!a)return!1;a=Ie(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return Ct.distance(this,Ie(a))},wrap:function(){return Ct.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,p=u/Math.cos(Math.PI/180*this.lat);return Ae([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Ie(a,u,p){return a instanceof Re?a:Z(a)&&typeof a[0]!="object"?a.length===3?new Re(a[0],a[1],a[2]):a.length===2?new Re(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Re(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Re(a,u,p)}var Ye={latLngToPoint:function(a,u){var p=this.projection.project(a),x=this.scale(u);return this.transformation._transform(p,x)},pointToLatLng:function(a,u){var p=this.scale(u),x=this.transformation.untransform(a,p);return this.projection.unproject(x)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(a),x=this.transformation.transform(u.min,p),S=this.transformation.transform(u.max,p);return new Y(x,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,x=a.alt;return new Re(p,u,x)},wrapLatLngBounds:function(a){var u=a.getCenter(),p=this.wrapLatLng(u),x=u.lat-p.lat,S=u.lng-p.lng;if(x===0&&S===0)return a;var P=a.getSouthWest(),K=a.getNorthEast(),ne=new Re(P.lat-x,P.lng-S),oe=new Re(K.lat-x,K.lng-S);return new Se(ne,oe)}},Ct=o({},Ye,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var p=Math.PI/180,x=a.lat*p,S=u.lat*p,P=Math.sin((u.lat-a.lat)*p/2),K=Math.sin((u.lng-a.lng)*p/2),ne=P*P+Math.cos(x)*Math.cos(S)*K*K,oe=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*oe}}),Nt=6378137,Vi={R:Nt,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,p=this.MAX_LATITUDE,x=Math.max(Math.min(p,a.lat),-p),S=Math.sin(x*u);return new ie(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new Re((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Nt*Math.PI;return new Y([-a,-a],[a,a])})()};function cs(a,u,p,x){if(Z(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=p,this._d=x}cs.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new ie((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function _i(a,u,p,x){return new cs(a,u,p,x)}var us=o({},Ct,{code:"EPSG:3857",projection:Vi,transformation:(function(){var a=.5/(Math.PI*Vi.R);return _i(a,.5,-a,.5)})()}),yi=o({},us,{code:"EPSG:900913"});function sr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function he(a,u){var p="",x,S,P,K,ne,oe;for(x=0,P=a.length;x<P;x++){for(ne=a[x],S=0,K=ne.length;S<K;S++)oe=ne[S],p+=(S?"L":"M")+oe.x+" "+oe.y;p+=u?Oe.svg?"z":"x":""}return p||"M0 0"}var Ze=document.documentElement.style,it="ActiveXObject"in window,Be=it&&!document.addEventListener,gt="msLaunchUri"in navigator&&!("documentMode"in document),Zn=Rn("webkit"),Zl=Rn("android"),zo=Rn("android 2")||Rn("android 3"),zn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vr=Zl&&Rn("Google")&&zn<537&&!("AudioNode"in window),zr=!!window.opera,Ca=!gt&&Rn("chrome"),Ls=Rn("gecko")&&!Zn&&!zr&&!it,lu=!Ca&&Rn("safari"),Uo=Rn("phantom"),Bo="OTransition"in Ze,$l=navigator.platform.indexOf("Win")===0,vi=it&&"transition"in Ze,un="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zo,ri="MozPerspective"in Ze,Yt=!window.L_DISABLE_3D&&(vi||un||ri)&&!Bo&&!Uo,rr=typeof orientation<"u"||Rn("mobile"),Na=rr&&Zn,Yl=rr&&un,zi=!window.PointerEvent&&window.MSPointerEvent,ar=!!(window.PointerEvent||zi),Kt="ontouchstart"in window||!!window.TouchEvent,hs=!window.L_NO_TOUCH&&(Kt||ar),ds=rr&&zr,Ui=rr&&Ls,cu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kl=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",T,u),window.removeEventListener("testPassiveEventSupport",T,u)}catch{}return a})(),fs=(function(){return!!document.createElement("canvas").getContext})(),Os=!!(document.createElementNS&&sr("svg").createSVGRect),uu=!!Os&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ur=!Os&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Ho=navigator.platform.indexOf("Mac")===0,qo=navigator.platform.indexOf("Linux")===0;function Rn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Oe={ie:it,ielt9:Be,edge:gt,webkit:Zn,android:Zl,android23:zo,androidStock:Vr,opera:zr,chrome:Ca,gecko:Ls,safari:lu,phantom:Uo,opera12:Bo,win:$l,ie3d:vi,webkit3d:un,gecko3d:ri,any3d:Yt,mobile:rr,mobileWebkit:Na,mobileWebkit3d:Yl,msPointer:zi,pointer:ar,touch:hs,touchNative:Kt,mobileOpera:ds,mobileGecko:Ui,retina:cu,passiveEvents:Kl,canvas:fs,svg:Os,vml:Ur,inlineSvg:uu,mac:Ho,linux:qo},Fo=Oe.msPointer?"MSPointerDown":"pointerdown",bi=Oe.msPointer?"MSPointerMove":"pointermove",xi=Oe.msPointer?"MSPointerUp":"pointerup",Wt=Oe.msPointer?"MSPointerCancel":"pointercancel",Jt={touchstart:Fo,touchmove:bi,touchend:xi,touchcancel:Wt},Bi={touchstart:ps,touchmove:In,touchend:In,touchcancel:In},Hi={},Wl=!1;function Ql(a,u,p){return u==="touchstart"&&wi(),Bi[u]?(p=Bi[u].bind(this,p),a.addEventListener(Jt[u],p,!1),p):(console.warn("wrong event specified:",u),T)}function Xl(a,u,p){if(!Jt[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Jt[u],p,!1)}function ms(a){Hi[a.pointerId]=a}function Ra(a){Hi[a.pointerId]&&(Hi[a.pointerId]=a)}function qi(a){delete Hi[a.pointerId]}function wi(){Wl||(document.addEventListener(Fo,ms,!0),document.addEventListener(bi,Ra,!0),document.addEventListener(xi,qi,!0),document.addEventListener(Wt,qi,!0),Wl=!0)}function In(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in Hi)u.touches.push(Hi[p]);u.changedTouches=[u],a(u)}}function ps(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&qt(u),In(a,u)}function en(a){var u={},p,x;for(x in a)p=a[x],u[x]=p&&p.bind?p.bind(a):p;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Go=200;function Zo(a,u){a.addEventListener("dblclick",u);var p=0,x;function S(P){if(P.detail!==1){x=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var K=hr(P);if(!(K.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!K.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var ne=Date.now();ne-p<=Go?(x++,x===2&&u(en(P))):x=1,p=ne}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function gs(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var Ti=Hr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ds=Hr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ia=Ds==="webkitTransition"||Ds==="OTransition"?Ds+"End":"transitionend";function Pa(a){return typeof a=="string"?document.getElementById(a):a}function or(a,u){var p=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(a,null);p=x?x[u]:null}return p==="auto"?null:p}function st(a,u,p){var x=document.createElement(a);return x.className=u||"",p&&p.appendChild(x),x}function at(a){var u=a.parentNode;u&&u.removeChild(a)}function Bt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ht(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function ai(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Br(a,u){if(a.classList!==void 0)return a.classList.contains(u);var p=_s(a);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Me(a,u){if(a.classList!==void 0)for(var p=k(u),x=0,S=p.length;x<S;x++)a.classList.add(p[x]);else if(!Br(a,u)){var P=_s(a);Ei(a,(P?P+" ":"")+u)}}function Rt(a,u){a.classList!==void 0?a.classList.remove(u):Ei(a,R((" "+_s(a)+" ").replace(" "+u+" "," ")))}function Ei(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function _s(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function jt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Ma(a,u)}function Ma(a,u){var p=!1,x="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):a.style.filter+=" progid:"+x+"(opacity="+u+")"}function Hr(a){for(var u=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in u)return a[p];return!1}function Fi(a,u,p){var x=u||new ie(0,0);a.style[Ti]=(Oe.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(p?" scale("+p+")":"")}function It(a,u){a._leaflet_pos=u,Oe.any3d?Fi(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function ys(a){return a._leaflet_pos||new ie(0,0)}var Si,pn,La;if("onselectstart"in document)Si=function(){Ue(window,"selectstart",qt)},pn=function(){bt(window,"selectstart",qt)};else{var ks=Hr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Si=function(){if(ks){var a=document.documentElement.style;La=a[ks],a[ks]="none"}},pn=function(){ks&&(document.documentElement.style[ks]=La,La=void 0)}}function qr(){Ue(window,"dragstart",qt)}function lr(){bt(window,"dragstart",qt)}var Fr,vs;function cr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&($n(),Fr=a,vs=a.style.outlineStyle,a.style.outlineStyle="none",Ue(window,"keydown",$n))}function $n(){Fr&&(Fr.style.outlineStyle=vs,Fr=void 0,vs=void 0,bt(window,"keydown",$n))}function Oa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Yn(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var ur={__proto__:null,TRANSFORM:Ti,TRANSITION:Ds,TRANSITION_END:Ia,get:Pa,getStyle:or,create:st,remove:at,empty:Bt,toFront:Ht,toBack:ai,hasClass:Br,addClass:Me,removeClass:Rt,setClass:Ei,getClass:_s,setOpacity:jt,testProp:Hr,setTransform:Fi,setPosition:It,getPosition:ys,get disableTextSelection(){return Si},get enableTextSelection(){return pn},disableImageDrag:qr,enableImageDrag:lr,preventOutline:cr,restoreOutline:$n,getSizedParentNode:Oa,getScale:Yn};function Ue(a,u,p,x){if(u&&typeof u=="object")for(var S in u)Kn(a,S,u[S],p);else{u=k(u);for(var P=0,K=u.length;P<K;P++)Kn(a,u[P],p,x)}return this}var Pn="_leaflet_events";function bt(a,u,p,x){if(arguments.length===1)js(a),delete a[Pn];else if(u&&typeof u=="object")for(var S in u)Vs(a,S,u[S],p);else if(u=k(u),arguments.length===2)js(a,function(ne){return J(u,ne)!==-1});else for(var P=0,K=u.length;P<K;P++)Vs(a,u[P],p,x);return this}function js(a,u){for(var p in a[Pn]){var x=p.split(/\d/)[0];(!u||u(x))&&Vs(a,x,null,null,p)}}var oi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kn(a,u,p,x){var S=u+m(p)+(x?"_"+m(x):"");if(a[Pn]&&a[Pn][S])return this;var P=function(ne){return p.call(x||a,ne||window.event)},K=P;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?P=Ql(a,u,P):Oe.touch&&u==="dblclick"?P=Zo(a,P):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(oi[u]||u,P,Oe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(P=function(ne){ne=ne||window.event,$i(a,ne)&&K(ne)},a.addEventListener(oi[u],P,!1)):a.addEventListener(u,K,!1):a.attachEvent("on"+u,P),a[Pn]=a[Pn]||{},a[Pn][S]=P}function Vs(a,u,p,x,S){S=S||u+m(p)+(x?"_"+m(x):"");var P=a[Pn]&&a[Pn][S];if(!P)return this;!Oe.touchNative&&Oe.pointer&&u.indexOf("touch")===0?Xl(a,u,P):Oe.touch&&u==="dblclick"?gs(a,P):"removeEventListener"in a?a.removeEventListener(oi[u]||u,P,!1):a.detachEvent("on"+u,P),a[Pn][S]=null}function ut(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ai(a){return Kn(a,"wheel",ut),this}function zs(a){return Ue(a,"mousedown touchstart dblclick contextmenu",ut),a._leaflet_disable_click=!0,this}function qt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Gi(a){return qt(a),ut(a),this}function hr(a){if(a.composedPath)return a.composedPath();for(var u=[],p=a.target;p;)u.push(p),p=p.parentNode;return u}function bs(a,u){if(!u)return new ie(a.clientX,a.clientY);var p=Yn(u),x=p.boundingClientRect;return new ie((a.clientX-x.left)/p.x-u.clientLeft,(a.clientY-x.top)/p.y-u.clientTop)}var Zi=Oe.linux&&Oe.chrome?window.devicePixelRatio:Oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function gn(a){return Oe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Zi:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function $i(a,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var xs={__proto__:null,on:Ue,off:bt,stopPropagation:ut,disableScrollPropagation:Ai,disableClickPropagation:zs,preventDefault:qt,stop:Gi,getPropagationPath:hr,getMousePosition:bs,getWheelDelta:gn,isExternalTarget:$i,addListener:Ue,removeListener:bt},Us=ye.extend({run:function(a,u,p,x){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=ys(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var p=this._startPos.add(this._offset.multiplyBy(a));u&&p._round(),It(this._el,p),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),nt=ye.extend({options:{crs:us,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=z(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ie(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ds&&Oe.any3d&&!Oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ue(this._proxy,Ia,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Ie(a),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,p.zoom):this._tryAnimatedPan(a,p.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,p){var x=this.getZoomScale(u),S=this.getSize().divideBy(2),P=a instanceof ie?a:this.latLngToContainerPoint(a),K=P.subtract(S).multiplyBy(1-1/x),ne=this.containerPointToLatLng(S.add(K));return this.setView(ne,u,{zoom:p})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():Ae(a);var p=xe(u.paddingTopLeft||u.padding||[0,0]),x=xe(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,p.add(x));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=x.subtract(p).divideBy(2),K=this.project(a.getSouthWest(),S),ne=this.project(a.getNorthEast(),S),oe=this.unproject(K.add(ne).divideBy(2).add(P),S);return{center:oe,zoom:S}},fitBounds:function(a,u){if(a=Ae(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=xe(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Us,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Me(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,p){if(p=p||{},p.animate===!1||!Oe.any3d)return this.setView(a,u,p);this._stop();var x=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),K=this._zoom;a=Ie(a),u=u===void 0?K:u;var ne=Math.max(P.x,P.y),oe=ne*this.getZoomScale(K,u),we=S.distanceTo(x)||1,Ne=1.42,je=Ne*Ne;function Je(Qt){var Gs=Qt?-1:1,Qr=Qt?oe:ne,gu=oe*oe-ne*ne+Gs*je*je*we*we,dl=2*Qr*je*we,fl=gu/dl,xr=Math.sqrt(fl*fl+1)-fl,Zs=xr<1e-9?-18:Math.log(xr);return Zs}function Sn(Qt){return(Math.exp(Qt)-Math.exp(-Qt))/2}function tn(Qt){return(Math.exp(Qt)+Math.exp(-Qt))/2}function ui(Qt){return Sn(Qt)/tn(Qt)}var xt=Je(0);function wt(Qt){return ne*(tn(xt)/tn(xt+Ne*Qt))}function ot(Qt){return ne*(tn(xt)*ui(xt+Ne*Qt)-Sn(xt))/je}function vr(Qt){return 1-Math.pow(1-Qt,1.5)}var Pi=Date.now(),hc=(Je(1)-xt)/Ne,br=p.duration?1e3*p.duration:1e3*hc*.8;function pu(){var Qt=(Date.now()-Pi)/br,Gs=vr(Qt)*hc;Qt<=1?(this._flyToFrame=B(pu,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(ot(Gs)/we)),K),this.getScaleZoom(ne/wt(Gs),K),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),pu.call(this),this},flyToBounds:function(a,u){var p=this._getBoundsCenterZoom(a,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(a){return a=Ae(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var p=this.getCenter(),x=this._limitCenter(p,this._zoom,Ae(a));return p.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var p=xe(u.paddingTopLeft||u.padding||[0,0]),x=xe(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),K=this.getPixelBounds(),ne=ue([K.min.add(p),K.max.subtract(x)]),oe=ne.getSize();if(!ne.contains(P)){this._enforcingBounds=!0;var we=P.subtract(ne.getCenter()),Ne=ne.extend(P).getSize().subtract(oe);S.x+=we.x<0?-Ne.x:Ne.x,S.y+=we.y<0?-Ne.y:Ne.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),x=u.divideBy(2).round(),S=p.divideBy(2).round(),P=x.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),p=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,a):navigator.geolocation.getCurrentPosition(u,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,p=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,p=a.coords.longitude,x=new Re(u,p),S=x.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var K=this.getBoundsZoom(S);this.setView(x,P.maxZoom?Math.min(K,P.maxZoom):K)}var ne={latlng:x,bounds:S,timestamp:a.timestamp};for(var oe in a.coords)typeof a.coords[oe]=="number"&&(ne[oe]=a.coords[oe]);this.fire("locationfound",ne)}},addHandler:function(a,u){if(!u)return this;var p=this[a]=new u(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)at(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),x=st("div",p,u||this._mapPane);return a&&(this._panes[a]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new Se(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,p){a=Ae(a),p=xe(p||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),K=a.getNorthWest(),ne=a.getSouthEast(),oe=this.getSize().subtract(p),we=ue(this.project(ne,x),this.project(K,x)).getSize(),Ne=Oe.any3d?this.options.zoomSnap:1,je=oe.x/we.x,Je=oe.y/we.y,Sn=u?Math.max(je,Je):Math.min(je,Je);return x=this.getScaleZoom(Sn,x),Ne&&(x=Math.round(x/(Ne/100))*(Ne/100),x=u?Math.ceil(x/Ne)*Ne:Math.floor(x/Ne)*Ne),Math.max(S,Math.min(P,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var p=this._getTopLeftPoint(a,u);return new Y(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(a)/p.scale(u)},getScaleZoom:function(a,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var x=p.zoom(a*p.scale(u));return isNaN(x)?1/0:x},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ie(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(xe(a),u)},layerPointToLatLng:function(a){var u=xe(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Ie(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ie(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Ae(a))},distance:function(a,u){return this.options.crs.distance(Ie(a),Ie(u))},containerPointToLayerPoint:function(a){return xe(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return xe(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(xe(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(a)))},mouseEventToContainerPoint:function(a){return bs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Pa(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ue(u,"scroll",this._onScroll,this),this._containerId=m(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Oe.any3d,Me(a,"leaflet-container"+(Oe.touch?" leaflet-touch":"")+(Oe.retina?" leaflet-retina":"")+(Oe.ielt9?" leaflet-oldie":"")+(Oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=or(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Me(a.markerPane,"leaflet-zoom-hide"),Me(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,p){It(this._mapPane,new ie(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,p)._move(a,u)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,p,x){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),x?p&&p.pinch&&this.fire("zoom",p):((S||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){It(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[m(this._container)]=this;var u=a?bt:Ue;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Oe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var p=[],x,S=u==="mouseout"||u==="mouseover",P=a.target||a.srcElement,K=!1;P;){if(x=this._targets[m(P)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){K=!0;break}if(x&&x.listens(u,!0)&&(S&&!$i(P,a)||(p.push(x),S))||P===this._container)break;P=P.parentNode}return!p.length&&!K&&!S&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var p=a.type;p==="mousedown"&&cr(u),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,p){if(a.type==="click"){var x=o({},a);x.type="preclick",this._fireDOMEvent(x,x.type,p)}var S=this._findEventTargets(a,u);if(p){for(var P=[],K=0;K<p.length;K++)p[K].listens(u,!0)&&P.push(p[K]);S=P.concat(S)}if(S.length){u==="contextmenu"&&qt(a);var ne=S[0],oe={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var we=ne.getLatLng&&(!ne._radius||ne._radius<=10);oe.containerPoint=we?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(a),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=we?ne.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(K=0;K<S.length;K++)if(S[K].fire(u,oe,!0),oe.originalEvent._stopped||S[K].options.bubblingMouseEvents===!1&&J(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return ys(this._mapPane)||new ie(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var p=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var p=this.getSize()._divideBy(2);return this.project(a,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,p){var x=this._getNewPixelOrigin(p,u);return this.project(a,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(a,u,p){var x=this._getNewPixelOrigin(p,u);return ue([this.project(a.getSouthWest(),u)._subtract(x),this.project(a.getNorthWest(),u)._subtract(x),this.project(a.getSouthEast(),u)._subtract(x),this.project(a.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,p){if(!p)return a;var x=this.project(a,u),S=this.getSize().divideBy(2),P=new Y(x.subtract(S),x.add(S)),K=this._getBoundsOffset(P,p,u);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?a:this.unproject(x.add(K),u)},_limitOffset:function(a,u){if(!u)return a;var p=this.getPixelBounds(),x=new Y(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(a,u,p){var x=ue(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),S=x.min.subtract(a.min),P=x.max.subtract(a.max),K=this._rebound(S.x,-P.x),ne=this._rebound(S.y,-P.y);return new ie(K,ne)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),p=this.getMaxZoom(),x=Oe.any3d?this.options.zoomSnap:1;return x&&(a=Math.round(a/x)*x),Math.max(u,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var p=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var a=this._proxy=st("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var p=Ti,x=this._proxy.style[p];Fi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Fi(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/x);return p.animate!==!0&&!this.getSize().contains(S)?!1:(B(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,p,x){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function dr(a,u){return new nt(a,u)}var Mn=ge.extend({options:{position:"topright"},initialize:function(a){z(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),p=this.getPosition(),x=a._controlCorners[p];return Me(u,"leaflet-control"),p.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Wn=function(a){return new Mn(a)};nt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",p=this._controlContainer=st("div",u+"control-container",this._container);function x(S,P){var K=u+S+" "+u+P;a[S+P]=st("div",K,p)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)at(this._controlCorners[a]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gr=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,p,x){return p<x?-1:x<p?1:0}},initialize:function(a,u,p){z(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in a)this._addLayer(a[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Mn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(m(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Rt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=st("div",a),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),zs(u),Ai(u);var x=this._section=st("section",a+"-list");p&&(this._map.on("click",this.collapse,this),Ue(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=st("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ue(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){qt(P),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=st("div",a+"-base",x),this._separator=st("div",a+"-separator",x),this._overlaysList=st("div",a+"-overlays",x),u.appendChild(x)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&m(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(d(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bt(this._baseLayersList),Bt(this._overlaysList),this._layerControlInputs=[];var a,u,p,x,S=0;for(p=0;p<this._layers.length;p++)x=this._layers[p],this._addItem(x),u=u||x.overlay,a=a||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(m(a.target)),p=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(a,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=p,x.firstChild},_addItem:function(a){var u=document.createElement("label"),p=this._map.hasLayer(a.layer),x;a.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=p):x=this._createRadioElement("leaflet-base-layers_"+m(this),p),this._layerControlInputs.push(x),x.layerId=m(a.layer),Ue(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");u.appendChild(P),P.appendChild(x),P.appendChild(S);var K=a.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,p,x=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)u=a[P],p=this._getLayer(u.layerId).layer,u.checked?x.push(p):u.checked||S.push(p);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<x.length;P++)this._map.hasLayer(x[P])||this._map.addLayer(x[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,p,x=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&x<p.options.minZoom||p.options.maxZoom!==void 0&&x>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ue(a,"click",qt),this.expand();var u=this;setTimeout(function(){bt(a,"click",qt),u._preventClick=!1})}}),$o=function(a,u,p){return new Gr(a,u,p)},Bs=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",p=st("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,p,x,S){var P=st("a",p,x);return P.innerHTML=a,P.href="#",P.title=u,P.setAttribute("role","button"),P.setAttribute("aria-label",u),zs(P),Ue(P,"click",Gi),Ue(P,"click",S,this),Ue(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Rt(this._zoomInButton,u),Rt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Me(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Me(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});nt.mergeOptions({zoomControl:!0}),nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Bs,this.addControl(this.zoomControl))});var Jl=function(a){return new Bs(a)},Yo=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",p=st("div",u),x=this.options;return this._addScales(x,u+"-line",p),a.on(x.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,p){a.metric&&(this._mScale=st("div",u,p)),a.imperial&&(this._iScale=st("div",u,p))},_update:function(){var a=this._map,u=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/a)},_updateImperial:function(a){var u=a*3.2808399,p,x,S;u>5280?(p=u/5280,x=this._getRoundNum(p),this._updateScale(this._iScale,x+" mi",x/p)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),p=a/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),Zr=function(a){return new Yo(a)},Ko='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Da=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Oe.inlineSvg?Ko+" ":"")+"Leaflet</a>"},initialize:function(a){z(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=st("div","leaflet-control-attribution"),zs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});nt.mergeOptions({attributionControl:!0}),nt.addInitHook(function(){this.options.attributionControl&&new Da().addTo(this)});var ka=function(a){return new Da(a)};Mn.Layers=Gr,Mn.Zoom=Bs,Mn.Scale=Yo,Mn.Attribution=Da,Wn.layers=$o,Wn.zoom=Jl,Wn.scale=Zr,Wn.attribution=ka;var li=ge.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});li.addTo=function(a,u){return a.addHandler(u,this),this};var ec={Events:X},Yi=Oe.touch?"touchstart mousedown":"mousedown",Ki=ye.extend({options:{clickTolerance:3},initialize:function(a,u,p,x){z(this,x),this._element=a,this._dragStartTarget=u||a,this._preventOutline=p},enable:function(){this._enabled||(Ue(this._dragStartTarget,Yi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ki._dragging===this&&this.finishDrag(!0),bt(this._dragStartTarget,Yi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Br(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ki._dragging===this&&this.finishDrag();return}if(!(Ki._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ki._dragging=this,this._preventOutline&&cr(this._element),qr(),Si(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,p=Oa(this._element);this._startPoint=new ie(u.clientX,u.clientY),this._startPos=ys(this._element),this._parentScale=Yn(p);var x=a.type==="mousedown";Ue(document,x?"mousemove":"touchmove",this._onMove,this),Ue(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,p=new ie(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,qt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Me(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),It(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Rt(document.body,"leaflet-dragging"),this._lastTarget&&(Rt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),bt(document,"mousemove touchmove",this._onMove,this),bt(document,"mouseup touchend touchcancel",this._onUp,this),lr(),pn();var u=this._moved&&this._moving;this._moving=!1,Ki._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Wo(a,u,p){var x,S=[1,4,2,8],P,K,ne,oe,we,Ne,je,Je;for(P=0,Ne=a.length;P<Ne;P++)a[P]._code=ce(a[P],u);for(ne=0;ne<4;ne++){for(je=S[ne],x=[],P=0,Ne=a.length,K=Ne-1;P<Ne;K=P++)oe=a[P],we=a[K],oe._code&je?we._code&je||(Je=se(we,oe,je,u,p),Je._code=ce(Je,u),x.push(Je)):(we._code&je&&(Je=se(we,oe,je,u,p),Je._code=ce(Je,u),x.push(Je)),x.push(oe));a=x}return a}function Qo(a,u){var p,x,S,P,K,ne,oe,we,Ne;if(!a||a.length===0)throw new Error("latlngs not passed");_t(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var je=Ie([0,0]),Je=Ae(a),Sn=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());Sn<1700&&(je=ja(a));var tn=a.length,ui=[];for(p=0;p<tn;p++){var xt=Ie(a[p]);ui.push(u.project(Ie([xt.lat-je.lat,xt.lng-je.lng])))}for(ne=oe=we=0,p=0,x=tn-1;p<tn;x=p++)S=ui[p],P=ui[x],K=S.y*P.x-P.y*S.x,oe+=(S.x+P.x)*K,we+=(S.y+P.y)*K,ne+=K*3;ne===0?Ne=ui[0]:Ne=[oe/ne,we/ne];var wt=u.unproject(xe(Ne));return Ie([wt.lat+je.lat,wt.lng+je.lng])}function ja(a){for(var u=0,p=0,x=0,S=0;S<a.length;S++){var P=Ie(a[S]);u+=P.lat,p+=P.lng,x++}return Ie([u/x,p/x])}var fr={__proto__:null,clipPolygon:Wo,polygonCenter:Qo,centroid:ja};function Ln(a,u){if(!u||!a.length)return a.slice();var p=u*u;return a=E(a,p),a=Hs(a,p),a}function Xo(a,u,p){return Math.sqrt($e(a,u,p,!0))}function tc(a,u,p){return $e(a,u,p)}function Hs(a,u){var p=a.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(p);S[0]=S[p-1]=1,f(a,S,u,0,p-1);var P,K=[];for(P=0;P<p;P++)S[P]&&K.push(a[P]);return K}function f(a,u,p,x,S){var P=0,K,ne,oe;for(ne=x+1;ne<=S-1;ne++)oe=$e(a[ne],a[x],a[S],!0),oe>P&&(K=ne,P=oe);P>p&&(u[K]=1,f(a,u,p,x,K),f(a,u,p,K,S))}function E(a,u){for(var p=[a[0]],x=1,S=0,P=a.length;x<P;x++)Ce(a[x],a[S])>u&&(p.push(a[x]),S=x);return S<P-1&&p.push(a[P-1]),p}var C;function j(a,u,p,x,S){var P=x?C:ce(a,p),K=ce(u,p),ne,oe,we;for(C=K;;){if(!(P|K))return[a,u];if(P&K)return!1;ne=P||K,oe=se(a,u,ne,p,S),we=ce(oe,p),ne===P?(a=oe,P=we):(u=oe,K=we)}}function se(a,u,p,x,S){var P=u.x-a.x,K=u.y-a.y,ne=x.min,oe=x.max,we,Ne;return p&8?(we=a.x+P*(oe.y-a.y)/K,Ne=oe.y):p&4?(we=a.x+P*(ne.y-a.y)/K,Ne=ne.y):p&2?(we=oe.x,Ne=a.y+K*(oe.x-a.x)/P):p&1&&(we=ne.x,Ne=a.y+K*(ne.x-a.x)/P),new ie(we,Ne,S)}function ce(a,u){var p=0;return a.x<u.min.x?p|=1:a.x>u.max.x&&(p|=2),a.y<u.min.y?p|=4:a.y>u.max.y&&(p|=8),p}function Ce(a,u){var p=u.x-a.x,x=u.y-a.y;return p*p+x*x}function $e(a,u,p,x){var S=u.x,P=u.y,K=p.x-S,ne=p.y-P,oe=K*K+ne*ne,we;return oe>0&&(we=((a.x-S)*K+(a.y-P)*ne)/oe,we>1?(S=p.x,P=p.y):we>0&&(S+=K*we,P+=ne*we)),K=a.x-S,ne=a.y-P,x?K*K+ne*ne:new ie(S,P)}function _t(a){return!Z(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function yt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_t(a)}function Vt(a,u){var p,x,S,P,K,ne,oe,we;if(!a||a.length===0)throw new Error("latlngs not passed");_t(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ne=Ie([0,0]),je=Ae(a),Je=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());Je<1700&&(Ne=ja(a));var Sn=a.length,tn=[];for(p=0;p<Sn;p++){var ui=Ie(a[p]);tn.push(u.project(Ie([ui.lat-Ne.lat,ui.lng-Ne.lng])))}for(p=0,x=0;p<Sn-1;p++)x+=tn[p].distanceTo(tn[p+1])/2;if(x===0)we=tn[0];else for(p=0,P=0;p<Sn-1;p++)if(K=tn[p],ne=tn[p+1],S=K.distanceTo(ne),P+=S,P>x){oe=(P-x)/S,we=[ne.x-oe*(ne.x-K.x),ne.y-oe*(ne.y-K.y)];break}var xt=u.unproject(xe(we));return Ie([xt.lat+Ne.lat,xt.lng+Ne.lng])}var Ci={__proto__:null,simplify:Ln,pointToSegmentDistance:Xo,closestPointOnSegment:tc,clipSegment:j,_getEdgeIntersection:se,_getBitCode:ce,_sqClosestPointOnSegment:$e,isFlat:_t,_flat:yt,polylineCenter:Vt},Ni={project:function(a){return new ie(a.lng,a.lat)},unproject:function(a){return new Re(a.y,a.x)},bounds:new Y([-180,-90],[180,90])},ci={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,p=this.R,x=a.lat*u,S=this.R_MINOR/p,P=Math.sqrt(1-S*S),K=P*Math.sin(x),ne=Math.tan(Math.PI/4-x/2)/Math.pow((1-K)/(1+K),P/2);return x=-p*Math.log(Math.max(ne,1e-10)),new ie(a.lng*u*p,x)},unproject:function(a){for(var u=180/Math.PI,p=this.R,x=this.R_MINOR/p,S=Math.sqrt(1-x*x),P=Math.exp(-a.y/p),K=Math.PI/2-2*Math.atan(P),ne=0,oe=.1,we;ne<15&&Math.abs(oe)>1e-7;ne++)we=S*Math.sin(K),we=Math.pow((1-we)/(1+we),S/2),oe=Math.PI/2-2*Math.atan(P*we)-K,K+=oe;return new Re(K*u,a.x*u/p)}},Wi={__proto__:null,LonLat:Ni,Mercator:ci,SphericalMercator:Vi},$r=o({},Ct,{code:"EPSG:3395",projection:ci,transformation:(function(){var a=.5/(Math.PI*ci.R);return _i(a,.5,-a,.5)})()}),Yr=o({},Ct,{code:"EPSG:4326",projection:Ni,transformation:_i(1/180,1,-1/180,.5)}),Va=o({},Ye,{projection:Ni,transformation:_i(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var p=u.lng-a.lng,x=u.lat-a.lat;return Math.sqrt(p*p+x*x)},infinite:!0});Ye.Earth=Ct,Ye.EPSG3395=$r,Ye.EPSG3857=us,Ye.EPSG900913=yi,Ye.EPSG4326=Yr,Ye.Simple=Va;var Qi=ye.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[m(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[m(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});nt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=m(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=m(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return m(a)in this._layers},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},_addLayers:function(a){a=a?Z(a)?a:[a]:[];for(var u=0,p=a.length;u<p;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[m(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=m(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,p=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var za=Qi.extend({initialize:function(a,u){z(this,u),this._layers={};var p,x;if(a)for(p=0,x=a.length;p<x;p++)this.addLayer(a[p])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),p,x;for(p in this._layers)x=this._layers[p],x[a]&&x[a].apply(x,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return m(a)}}),Nm=function(a,u){return new za(a,u)},ws=za.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),za.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),za.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Se;for(var u in this._layers){var p=this._layers[u];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),Fh=function(a,u){return new ws(a,u)},Ts=ge.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){z(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(a,u){var p=this.options,x=p[u+"Size"];typeof x=="number"&&(x=[x,x]);var S=xe(x),P=xe(u==="shadow"&&p.shadowAnchor||p.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(p.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Oe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Jo(a){return new Ts(a)}var el=Ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof el.imagePath!="string"&&(el.imagePath=this._detectIconPath()),(this.options.imagePath||el.imagePath)+Ts.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(p,x,S){var P=x.exec(p);return P&&P[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=st("div","leaflet-default-icon-path",document.body),u=or(a,"background-image")||or(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),tl=li.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ki(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Me(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,p=u._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=ys(u._icon),K=p.getPixelBounds(),ne=p.getPixelOrigin(),oe=ue(K.min._subtract(ne).add(S),K.max._subtract(ne).subtract(S));if(!oe.contains(P)){var we=xe((Math.max(oe.max.x,P.x)-oe.max.x)/(K.max.x-oe.max.x)-(Math.min(oe.min.x,P.x)-oe.min.x)/(K.min.x-oe.min.x),(Math.max(oe.max.y,P.y)-oe.max.y)/(K.max.y-oe.max.y)-(Math.min(oe.min.y,P.y)-oe.min.y)/(K.min.y-oe.min.y)).multiplyBy(x);p.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),It(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=B(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,p=u._shadow,x=ys(u._icon),S=u._map.layerPointToLatLng(x);p&&It(p,x),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),nl=Qi.extend({options:{icon:new el,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){z(this,u),this._latlng=Ie(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Ie(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),x=!1;p!==this._icon&&(this._icon&&this._removeIcon(),x=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Me(p,u),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(p,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(Me(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&It(this._icon,a),this._shadow&&It(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&jt(this._icon,a),this._shadow&&jt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,p=u.iconSize?xe(u.iconSize):xe(0,0),x=u.iconAnchor?xe(u.iconAnchor):xe(0,0);a.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:p.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gh(a,u){return new nl(a,u)}var Es=Qi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return z(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ua=Es.extend({options:{fill:!0,radius:10},initialize:function(a,u){z(this,u),this._latlng=Ie(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Ie(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Es.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,p=this._clickTolerance(),x=[a+p,u+p];this._pxBounds=new Y(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zh(a,u){return new Ua(a,u)}var nc=Ua.extend({initialize:function(a,u,p){if(typeof u=="number"&&(u=o({},p,{radius:u})),z(this,u),this._latlng=Ie(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Se(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Es.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,p=this._map,x=p.options.crs;if(x.distance===Ct.distance){var S=Math.PI/180,P=this._mRadius/Ct.R/S,K=p.project([u+P,a]),ne=p.project([u-P,a]),oe=K.add(ne).divideBy(2),we=p.unproject(oe).lat,Ne=Math.acos((Math.cos(P*S)-Math.sin(u*S)*Math.sin(we*S))/(Math.cos(u*S)*Math.cos(we*S)))/S;(isNaN(Ne)||Ne===0)&&(Ne=P/Math.cos(Math.PI/180*u)),this._point=oe.subtract(p.getPixelOrigin()),this._radius=isNaN(Ne)?0:oe.x-p.project([we,a-Ne]).x,this._radiusY=oe.y-K.y}else{var je=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(je).x}this._updateBounds()}});function $h(a,u,p){return new nc(a,u,p)}var qs=Es.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){z(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,p=null,x=$e,S,P,K=0,ne=this._parts.length;K<ne;K++)for(var oe=this._parts[K],we=1,Ne=oe.length;we<Ne;we++){S=oe[we-1],P=oe[we];var je=x(a,S,P,!0);je<u&&(u=je,p=x(a,S,P))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Ie(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Se,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return _t(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],p=_t(a),x=0,S=a.length;x<S;x++)p?(u[x]=Ie(a[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(a[x]);return u},_project:function(){var a=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new ie(a,a);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,p){var x=a[0]instanceof Re,S=a.length,P,K;if(x){for(K=[],P=0;P<S;P++)K[P]=this._map.latLngToLayerPoint(a[P]),p.extend(K[P]);u.push(K)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],u,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,x,S,P,K,ne,oe;for(p=0,S=0,P=this._rings.length;p<P;p++)for(oe=this._rings[p],x=0,K=oe.length;x<K-1;x++)ne=j(oe[x],oe[x+1],a,x,!0),ne&&(u[S]=u[S]||[],u[S].push(ne[0]),(ne[1]!==oe[x+1]||x===K-2)&&(u[S].push(ne[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,p=0,x=a.length;p<x;p++)a[p]=Ln(a[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var p,x,S,P,K,ne,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,P=this._parts.length;p<P;p++)for(ne=this._parts[p],x=0,K=ne.length,S=K-1;x<K;S=x++)if(!(!u&&x===0)&&Xo(a,ne[S],ne[x])<=oe)return!0;return!1}});function Rm(a,u){return new qs(a,u)}qs._flat=yt;var Ba=qs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=qs.prototype._convertLatLngs.call(this,a),p=u.length;return p>=2&&u[0]instanceof Re&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(a){qs.prototype._setLatLngs.call(this,a),_t(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _t(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,p=new ie(u,u);if(a=new Y(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,P;x<S;x++)P=Wo(this._rings[x],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,p,x,S,P,K,ne,oe,we;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,oe=this._parts.length;P<oe;P++)for(p=this._parts[P],K=0,we=p.length,ne=we-1;K<we;ne=K++)x=p[K],S=p[ne],x.y>a.y!=S.y>a.y&&a.x<(S.x-x.x)*(a.y-x.y)/(S.y-x.y)+x.x&&(u=!u);return u||qs.prototype._containsPoint.call(this,a,!0)}});function Im(a,u){return new Ba(a,u)}var Fs=ws.extend({initialize:function(a,u){z(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=Z(a)?a:a.features,p,x,S;if(u){for(p=0,x=u.length;p<x;p++)S=u[p],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var K=On(a,P);return K?(K.feature=rc(a),K.defaultOptions=K.options,this.resetStyle(K),P.onEachFeature&&P.onEachFeature(a,K),this.addLayer(K)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function On(a,u){var p=a.type==="Feature"?a.geometry:a,x=p?p.coordinates:null,S=[],P=u&&u.pointToLayer,K=u&&u.coordsToLatLng||ic,ne,oe,we,Ne;if(!x&&!p)return null;switch(p.type){case"Point":return ne=K(x),Ha(P,a,ne,u);case"MultiPoint":for(we=0,Ne=x.length;we<Ne;we++)ne=K(x[we]),S.push(Ha(P,a,ne,u));return new ws(S);case"LineString":case"MultiLineString":return oe=il(x,p.type==="LineString"?0:1,K),new qs(oe,u);case"Polygon":case"MultiPolygon":return oe=il(x,p.type==="Polygon"?1:2,K),new Ba(oe,u);case"GeometryCollection":for(we=0,Ne=p.geometries.length;we<Ne;we++){var je=On({geometry:p.geometries[we],type:"Feature",properties:a.properties},u);je&&S.push(je)}return new ws(S);case"FeatureCollection":for(we=0,Ne=p.features.length;we<Ne;we++){var Je=On(p.features[we],u);Je&&S.push(Je)}return new ws(S);default:throw new Error("Invalid GeoJSON object.")}}function Ha(a,u,p,x){return a?a(u,p):new nl(p,x&&x.markersInheritOptions&&x)}function ic(a){return new Re(a[1],a[0],a[2])}function il(a,u,p){for(var x=[],S=0,P=a.length,K;S<P;S++)K=u?il(a[S],u-1,p):(p||ic)(a[S]),x.push(K);return x}function sc(a,u){return a=Ie(a),a.alt!==void 0?[N(a.lng,u),N(a.lat,u),N(a.alt,u)]:[N(a.lng,u),N(a.lat,u)]}function sl(a,u,p,x){for(var S=[],P=0,K=a.length;P<K;P++)S.push(u?sl(a[P],_t(a[P])?0:u-1,p,x):sc(a[P],x));return!u&&p&&S.length>0&&S.push(S[0].slice()),S}function mr(a,u){return a.feature?o({},a.feature,{geometry:u}):rc(u)}function rc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var pr={toGeoJSON:function(a){return mr(this,{type:"Point",coordinates:sc(this.getLatLng(),a)})}};nl.include(pr),nc.include(pr),Ua.include(pr),qs.include({toGeoJSON:function(a){var u=!_t(this._latlngs),p=sl(this._latlngs,u?1:0,!1,a);return mr(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),Ba.include({toGeoJSON:function(a){var u=!_t(this._latlngs),p=u&&!_t(this._latlngs[0]),x=sl(this._latlngs,p?2:u?1:0,!0,a);return u||(x=[x]),mr(this,{type:(p?"Multi":"")+"Polygon",coordinates:x})}}),za.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(a).geometry.coordinates)}),mr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var p=u==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(p)x.push(P.geometry);else{var K=rc(P);K.type==="FeatureCollection"?x.push.apply(x,K.features):x.push(K)}}}),p?mr(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function ac(a,u){return new Fs(a,u)}var rl=ac,qa=Qi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,p){this._url=a,this._bounds=Ae(u),z(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ht(this._image),this},bringToBack:function(){return this._map&&ai(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Ae(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:st("img");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=T,u.onmousemove=T,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Fi(this._image,p,u)},_reset:function(){var a=this._image,u=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();It(a,u.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Yh=function(a,u,p){return new qa(a,u,p)},gr=qa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:st("video");if(Me(u,"leaflet-image-layer"),this._zoomAnimated&&Me(u,"leaflet-zoom-animated"),this.options.className&&Me(u,this.options.className),u.onselectstart=T,u.onmousemove=T,u.onloadeddata=d(this.fire,this,"load"),a){for(var p=u.getElementsByTagName("source"),x=[],S=0;S<p.length;S++)x.push(p[S].src);this._url=p.length>0?x:[u.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var K=st("source");K.src=this._url[P],u.appendChild(K)}}});function Fa(a,u,p){return new gr(a,u,p)}var oc=qa.extend({_initImage:function(){var a=this._image=this._url;Me(a,"leaflet-image-layer"),this._zoomAnimated&&Me(a,"leaflet-zoom-animated"),this.options.className&&Me(a,this.options.className),a.onselectstart=T,a.onmousemove=T}});function Kh(a,u,p){return new oc(a,u,p)}var Dn=Qi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Re||Z(a))?(this._latlng=Ie(a),z(this,u)):(z(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&jt(this._container,1),this.bringToFront(),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(jt(this._container,0),this._removeTimeout=setTimeout(d(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ie(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ht(this._container),this},bringToBack:function(){return this._map&&ai(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof ws){u=null;var p=this._source._layers;for(var x in p)if(p[x]._map){u=p[x];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=xe(this.options.offset),p=this._getAnchor();this._zoomAnimated?It(this._container,a.add(p)):u=u.add(a).add(p);var x=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});nt.include({_initOverlay:function(a,u,p,x){var S=u;return S instanceof a||(S=new a(x).setContent(u)),p&&S.setLatLng(p),S}}),Qi.include({_initOverlay:function(a,u,p,x){var S=p;return S instanceof a?(z(S,x),S._source=this):(S=u&&!x?u:new a(x,this),S.setContent(p)),S}});var al=Dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Dn.prototype.openOn.call(this,a)},onAdd:function(a){Dn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Es||this._source.on("preclick",ut))},onRemove:function(a){Dn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Es||this._source.off("preclick",ut))},getEvents:function(){var a=Dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=st("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=st("div",a+"-content-wrapper",u);if(this._contentNode=st("div",a+"-content",p),zs(u),Ai(this._contentNode),Ue(u,"contextmenu",ut),this._tipContainer=st("div",a+"-tip-container",u),this._tip=st("div",a+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=st("a",a+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Ue(x,"click",function(S){qt(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var x=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&x>S?(u.height=S+"px",Me(a,P)):Rt(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();It(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(or(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,x=this._containerWidth,S=new ie(this._containerLeft,-p-this._containerBottom);S._add(ys(this._container));var P=a.layerPointToContainerPoint(S),K=xe(this.options.autoPanPadding),ne=xe(this.options.autoPanPaddingTopLeft||K),oe=xe(this.options.autoPanPaddingBottomRight||K),we=a.getSize(),Ne=0,je=0;P.x+x+oe.x>we.x&&(Ne=P.x+x-we.x+oe.x),P.x-Ne-ne.x<0&&(Ne=P.x-ne.x),P.y+p+oe.y>we.y&&(je=P.y+p-we.y+oe.y),P.y-je-ne.y<0&&(je=P.y-ne.y),(Ne||je)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ne,je]))}},_getAnchor:function(){return xe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wh=function(a,u){return new al(a,u)};nt.mergeOptions({closePopupOnClick:!0}),nt.include({openPopup:function(a,u,p){return this._initOverlay(al,a,u,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Qi.include({bindPopup:function(a,u){return this._popup=this._initOverlay(al,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ws||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Gi(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Es)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ol=Dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Dn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Dn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Dn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=st("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,p,x=this._map,S=this._container,P=x.latLngToContainerPoint(x.getCenter()),K=x.layerPointToContainerPoint(a),ne=this.options.direction,oe=S.offsetWidth,we=S.offsetHeight,Ne=xe(this.options.offset),je=this._getAnchor();ne==="top"?(u=oe/2,p=we):ne==="bottom"?(u=oe/2,p=0):ne==="center"?(u=oe/2,p=we/2):ne==="right"?(u=0,p=we/2):ne==="left"?(u=oe,p=we/2):K.x<P.x?(ne="right",u=0,p=we/2):(ne="left",u=oe+(Ne.x+je.x)*2,p=we/2),a=a.subtract(xe(u,p,!0)).add(Ne).add(je),Rt(S,"leaflet-tooltip-right"),Rt(S,"leaflet-tooltip-left"),Rt(S,"leaflet-tooltip-top"),Rt(S,"leaflet-tooltip-bottom"),Me(S,"leaflet-tooltip-"+ne),It(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&jt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return xe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Pm=function(a,u){return new ol(a,u)};nt.include({openTooltip:function(a,u,p){return this._initOverlay(ol,a,u,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Qi.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ol,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ws||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Ue(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ue(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,p,x;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),x=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Qh=Ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Bt(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var x=xe(p.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Mm(a){return new Qh(a)}Ts.Default=el;var Ga=Qi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){z(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),at(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ht(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ie?a:new ie(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,p=-a(-1/0,1/0),x=0,S=u.length,P;x<S;x++)P=u[x].style.zIndex,u[x]!==this._container&&P&&(p=a(p,+P));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Oe.ielt9){jt(this._container,this.options.opacity);var a=+new Date,u=!1,p=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);jt(S.el,P),P<1?u=!0:(S.active?p=!0:this._onOpaqueTile(S),S.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&($(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=st("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=u-Math.abs(a-p),this._onUpdateLevel(p)):(at(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var x=this._levels[a],S=this._map;return x||(x=this._levels[a]={},x.el=st("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),x.zoom=a,this._setZoomTransform(x,S.getCenter(),S.getZoom()),T(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var a,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)at(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,p,x){var S=Math.floor(a/2),P=Math.floor(u/2),K=p-1,ne=new ie(+S,+P);ne.z=+K;var oe=this._tileCoordsToKey(ne),we=this._tiles[oe];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),K>x?this._retainParent(S,P,K,x):!1)},_retainChildren:function(a,u,p,x){for(var S=2*a;S<2*a+2;S++)for(var P=2*u;P<2*u+2;P++){var K=new ie(S,P);K.z=p+1;var ne=this._tileCoordsToKey(K),oe=this._tiles[ne];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);p+1<x&&this._retainChildren(S,P,p+1,x)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,p,x){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,u)},_setZoomTransform:function(a,u,p){var x=this._map.getZoomScale(p,a.zoom),S=a.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,p)).round();Oe.any3d?Fi(a.el,S,x):It(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,p=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],x).x/p.x),Math.ceil(a.project([0,u.wrapLng[1]],x).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],x).y/p.x),Math.ceil(a.project([u.wrapLat[1],0],x).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(p,this._tileZoom),S=u.project(a,this._tileZoom).floor(),P=u.getSize().divideBy(x*2);return new Y(S.subtract(P),S.add(P))},_update:function(a){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(x),P=S.getCenter(),K=[],ne=this.options.keepBuffer,oe=new Y(S.getBottomLeft().subtract([ne,-ne]),S.getTopRight().add([ne,-ne]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Ne=this._tiles[we].coords;(Ne.z!==this._tileZoom||!oe.contains(new ie(Ne.x,Ne.y)))&&(this._tiles[we].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var je=S.min.y;je<=S.max.y;je++)for(var Je=S.min.x;Je<=S.max.x;Je++){var Sn=new ie(Je,je);if(Sn.z=this._tileZoom,!!this._isValidTile(Sn)){var tn=this._tiles[this._tileCoordsToKey(Sn)];tn?tn.current=!0:K.push(Sn)}}if(K.sort(function(xt,wt){return xt.distanceTo(P)-wt.distanceTo(P)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ui=document.createDocumentFragment();for(Je=0;Je<K.length;Je++)this._addTile(K[Je],ui);this._level.el.appendChild(ui)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!u.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(a);return Ae(this.options.bounds).overlaps(x)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,p=this.getTileSize(),x=a.scaleBy(p),S=x.add(p),P=u.unproject(x,a.z),K=u.unproject(S,a.z);return[P,K]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),p=new Se(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),p=new ie(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(a){var u=this._tiles[a];u&&(at(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Me(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=T,a.onmousemove=T,Oe.ielt9&&this.options.opacity<1&&jt(a,this.options.opacity)},_addTile:function(a,u){var p=this._getTilePos(a),x=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&B(d(this._tileReady,this,a,null,S)),It(S,p),this._tiles[x]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:a});var x=this._tileCoordsToKey(a);p=this._tiles[x],p&&(p.loaded=+new Date,this._map._fadeAnimated?(jt(p.el,0),$(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Me(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Oe.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new ie(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new Y(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Xh(a){return new Ga(a)}var _r=Ga.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=z(this,u),u.detectRetina&&Oe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var p=document.createElement("img");return Ue(p,"load",d(this._tileOnLoad,this,u,p)),Ue(p,"error",d(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var u={r:Oe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=p),u["-y"]=p}return H(this._url,o(u,this.options))},_tileOnLoad:function(a,u){Oe.ielt9?setTimeout(d(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,p){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),a(p,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,x=this.options.zoomOffset;return p&&(a=u-a),a+x},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=T,u.onerror=T,!u.complete)){u.src=te;var p=this._tiles[a].coords;at(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",te),Ga.prototype._removeTile.call(this,a)},_tileReady:function(a,u,p){if(!(!this._map||p&&p.getAttribute("src")===te))return Ga.prototype._tileReady.call(this,a,u,p)}});function Ri(a,u){return new _r(a,u)}var ll=_r.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var p=o({},this.defaultWmsParams);for(var x in u)x in this.options||(p[x]=u[x]);u=z(this,u);var S=u.detectRetina&&Oe.retina?2:1,P=this.getTileSize();p.width=P.x*S,p.height=P.y*S,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,_r.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),p=this._crs,x=ue(p.project(u[0]),p.project(u[1])),S=x.min,P=x.max,K=(this._wmsVersion>=1.3&&this._crs===Yr?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),ne=_r.prototype.getTileUrl.call(this,a);return ne+D(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function Ii(a,u){return new ll(a,u)}_r.WMS=ll,Ri.wms=Ii;var Qn=Qi.extend({options:{padding:.1},initialize:function(a){z(this,a),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var p=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),P=x.multiplyBy(-p).add(S).subtract(this._map._getNewPixelOrigin(a,u));Oe.any3d?Fi(this._container,P,p):It(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new Y(p,p.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lc=Qn.extend({options:{tolerance:0},getEvents:function(){var a=Qn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ue(a,"mousemove",this._onMouseMove,this),Ue(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ue(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,at(this._container),bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var a=this._bounds,u=this._container,p=a.getSize(),x=Oe.retina?2:1;It(u,a.min),u.width=x*p.x,u.height=x*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[m(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,p=u.next,x=u.prev;p?p.prev=x:this._drawLast=x,x?x.next=p:this._drawFirst=p,delete a._order,delete this._layers[m(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),p=[],x,S;for(S=0;S<u.length;S++){if(x=Number(u[S]),isNaN(x))return;p.push(x)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)a=x.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var p,x,S,P,K=a._parts,ne=K.length,oe=this._ctx;if(ne){for(oe.beginPath(),p=0;p<ne;p++){for(x=0,S=K[p].length;x<S;x++)P=K[p][x],oe[x?"lineTo":"moveTo"](P.x,P.y);u&&oe.closePath()}this._fillStroke(oe,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,p=this._ctx,x=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||x)/x;S!==1&&(p.save(),p.scale(1,S)),p.beginPath(),p.arc(u.x,u.y/S,x,0,Math.PI*2,!1),S!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,u){var p=u.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),p,x,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(x=p);this._fireEvent(x?[x]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var p,x,S=this._drawFirst;S;S=S.next)p=S.layer,p.options.interactive&&p._containsPoint(u)&&(x=p);x!==this._hoveredLayer&&(this._handleMouseOut(a),x&&(Me(this._container,"leaflet-interactive"),this._fireEvent([x],a,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,p){this._map._fireDOMEvent(u,p||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var p=u.next,x=u.prev;if(p)p.prev=x;else return;x?x.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var p=u.next,x=u.prev;if(x)x.next=p;else return;p?p.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function cl(a){return Oe.canvas?new lc(a):null}var yr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),hu={_initContainer:function(){this._container=st("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=yr("shape");Me(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=yr("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[m(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;at(u),a.removeInteractiveTarget(u),delete this._layers[m(a)]},_updateStyle:function(a){var u=a._stroke,p=a._fill,x=a.options,S=a._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(u||(u=a._stroke=yr("stroke")),S.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=Z(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(S.removeChild(u),a._stroke=null),x.fill?(p||(p=a._fill=yr("fill")),S.appendChild(p),p.color=x.fillColor||x.color,p.opacity=x.fillOpacity):p&&(S.removeChild(p),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),p=Math.round(a._radius),x=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+x+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Ht(a._container)},_bringToBack:function(a){ai(a._container)}},Ss=Oe.vml?yr:sr,Za=Qn.extend({_initContainer:function(){this._container=Ss("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ss("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qn.prototype._update.call(this);var a=this._bounds,u=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),It(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Ss("path");a.options.className&&Me(u,a.options.className),a.options.interactive&&Me(u,"leaflet-interactive"),this._updateStyle(a),this._layers[m(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){at(a._path),a.removeInteractiveTarget(a._path),delete this._layers[m(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,p=a.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,he(a._parts,u))},_updateCircle:function(a){var u=a._point,p=Math.max(Math.round(a._radius),1),x=Math.max(Math.round(a._radiusY),1)||p,S="a"+p+","+x+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(u.x-p)+","+u.y+S+p*2+",0 "+S+-p*2+",0 ";this._setPath(a,P)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Ht(a._path)},_bringToBack:function(a){ai(a._path)}});Oe.vml&&Za.include(hu);function ul(a){return Oe.svg||Oe.vml?new Za(a):null}nt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&cl(a)||ul(a)}});var Kr=Ba.extend({initialize:function(a,u){Ba.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Ae(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Lm(a,u){return new Kr(a,u)}Za.create=Ss,Za.pointsToPath=he,Fs.geometryToLayer=On,Fs.coordsToLatLng=ic,Fs.coordsToLatLngs=il,Fs.latLngToCoords=sc,Fs.latLngsToCoords=sl,Fs.getFeature=mr,Fs.asFeature=rc,nt.mergeOptions({boxZoom:!0});var Xn=li.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Si(),qr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ue(document,{contextmenu:Gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=st("div","leaflet-zoom-box",this._container),Me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new Y(this._point,this._startPoint),p=u.getSize();It(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(at(this._box),Rt(this._container,"leaflet-crosshair")),pn(),lr(),bt(document,{contextmenu:Gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new Se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nt.addInitHook("addHandler","boxZoom",Xn),nt.mergeOptions({doubleClickZoom:!0});var cc=li.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,p=u.getZoom(),x=u.options.zoomDelta,S=a.originalEvent.shiftKey?p-x:p+x;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});nt.addInitHook("addHandler","doubleClickZoom",cc),nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var As=li.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ki(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rt(this._map._container,"leaflet-grab"),Rt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Ae(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),p=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-u+p)%a+u-p,P=(x+u+p)%a-u-p,K=Math.abs(S+p)<Math.abs(P+p)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(a){var u=this._map,p=u.options,x=!p.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),x)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,K=p.easeLinearity,ne=S.multiplyBy(K/P),oe=ne.distanceTo([0,0]),we=Math.min(p.inertiaMaxSpeed,oe),Ne=ne.multiplyBy(we/oe),je=we/(p.inertiaDeceleration*K),Je=Ne.multiplyBy(-je/2).round();!Je.x&&!Je.y?u.fire("moveend"):(Je=u._limitOffset(Je,u.options.maxBounds),B(function(){u.panBy(Je,{duration:je,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});nt.addInitHook("addHandler","dragging",As),nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var du=li.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ue(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,p=a.scrollTop||u.scrollTop,x=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},p=this.keyCodes,x,S;for(x=0,S=p.left.length;x<S;x++)u[p.left[x]]=[-1*a,0];for(x=0,S=p.right.length;x<S;x++)u[p.right[x]]=[a,0];for(x=0,S=p.down.length;x<S;x++)u[p.down[x]]=[0,a];for(x=0,S=p.up.length;x<S;x++)u[p.up[x]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},p=this.keyCodes,x,S;for(x=0,S=p.zoomIn.length;x<S;x++)u[p.zoomIn[x]]=a;for(x=0,S=p.zoomOut.length;x<S;x++)u[p.zoomOut[x]]=-a},_addHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,p=this._map,x;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(x=this._panKeys[u],a.shiftKey&&(x=xe(x).multiplyBy(3)),p.options.maxBounds&&(x=p._limitOffset(xe(x),p.options.maxBounds)),p.options.worldCopyJump){var S=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(x)));p.panTo(S)}else p.panBy(x)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Gi(a)}}});nt.addInitHook("addHandler","keyboard",du),nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var hl=li.extend({addHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=gn(a),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var x=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),x),Gi(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,P=p?Math.ceil(S/p)*p:S,K=a._limitZoom(u+(this._delta>0?P:-P))-u;this._delta=0,this._startTime=null,K&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+K):a.setZoomAround(this._lastMousePos,u+K))}});nt.addInitHook("addHandler","scrollWheelZoom",hl);var Wr=600;nt.mergeOptions({tapHold:Oe.touchNative&&Oe.safari&&Oe.mobile,tapTolerance:15});var uc=li.extend({addHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new ie(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Ue(document,"touchend",qt),Ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Wr),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){bt(document,"touchend",qt),bt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new ie(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});nt.addInitHook("addHandler","tapHold",uc),nt.mergeOptions({touchZoom:Oe.touch,bounceAtZoomLimits:!0});var fu=li.extend({addHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(x)._divideBy(2))),this._startDist=p.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),qt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]),S=p.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=p._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var K=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(K,this,!0),qt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});nt.addInitHook("addHandler","touchZoom",fu),nt.BoxZoom=Xn,nt.DoubleClickZoom=cc,nt.Drag=As,nt.Keyboard=du,nt.ScrollWheelZoom=hl,nt.TapHold=uc,nt.TouchZoom=fu,t.Bounds=Y,t.Browser=Oe,t.CRS=Ye,t.Canvas=lc,t.Circle=nc,t.CircleMarker=Ua,t.Class=ge,t.Control=Mn,t.DivIcon=Qh,t.DivOverlay=Dn,t.DomEvent=xs,t.DomUtil=ur,t.Draggable=Ki,t.Evented=ye,t.FeatureGroup=ws,t.GeoJSON=Fs,t.GridLayer=Ga,t.Handler=li,t.Icon=Ts,t.ImageOverlay=qa,t.LatLng=Re,t.LatLngBounds=Se,t.Layer=Qi,t.LayerGroup=za,t.LineUtil=Ci,t.Map=nt,t.Marker=nl,t.Mixin=ec,t.Path=Es,t.Point=ie,t.PolyUtil=fr,t.Polygon=Ba,t.Polyline=qs,t.Popup=al,t.PosAnimation=Us,t.Projection=Wi,t.Rectangle=Kr,t.Renderer=Qn,t.SVG=Za,t.SVGOverlay=oc,t.TileLayer=_r,t.Tooltip=ol,t.Transformation=cs,t.Util=G,t.VideoOverlay=gr,t.bind=d,t.bounds=ue,t.canvas=cl,t.circle=$h,t.circleMarker=Zh,t.control=Wn,t.divIcon=Mm,t.extend=o,t.featureGroup=Fh,t.geoJSON=ac,t.geoJson=rl,t.gridLayer=Xh,t.icon=Jo,t.imageOverlay=Yh,t.latLng=Ie,t.latLngBounds=Ae,t.layerGroup=Nm,t.map=dr,t.marker=Gh,t.point=xe,t.polygon=Im,t.polyline=Rm,t.popup=Wh,t.rectangle=Lm,t.setOptions=z,t.stamp=m,t.svg=ul,t.svgOverlay=Kh,t.tileLayer=Ri,t.tooltip=Pm,t.transformation=_i,t.version=s,t.videoOverlay=Fa;var mu=window.L;t.noConflict=function(){return window.L=mu,this},window.L=t}))})(rh,rh.exports)),rh.exports}var Cm=q3();const BS=Kw(Cm);function HS(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function qS(n,e){return e==null?function(s,o){const c=U.useRef(void 0);return c.current||(c.current=n(s,o)),c}:function(s,o){const c=U.useRef(void 0);c.current||(c.current=n(s,o));const d=U.useRef(s),{instance:y}=c.current;return U.useEffect(function(){d.current!==s&&(e(y,s,d.current),d.current=s)},[y,s,e]),c}}function F3(n,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function FS(n){return function(t){const s=zS(),o=n(US(t,s),s);return D3(s.map,t.attribution),B3(o.current,t.eventHandlers),F3(o.current,s),o}}function G3(n,e){const t=qS(n,e),s=FS(t);return z3(s)}function Z3(n,e){const t=qS(n,e),s=FS(t);return U3(s)}function $3(n,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function Y3(){return zS().map}function K3(n){const e=Y3();return U.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function W3({bounds:n,boundsOptions:e,center:t,children:s,className:o,id:c,placeholder:d,style:y,whenReady:m,zoom:v,...w},T){const[N]=U.useState({className:o,id:c,style:y}),[R,k]=U.useState(null),z=U.useRef(void 0);U.useImperativeHandle(T,()=>R?.map??null,[R]);const D=U.useCallback(H=>{if(H!==null&&!z.current){const Z=new Cm.Map(H,w);z.current=Z,t!=null&&v!=null?Z.setView(t,v):n!=null&&Z.fitBounds(n,e),m!=null&&Z.whenReady(m),k(j3(Z))}},[]);U.useEffect(()=>()=>{R?.map.remove()},[R]);const O=R?rn.createElement(Fy,{value:R},s):d??null;return rn.createElement("div",{...N,ref:D},O)}const Q3=U.forwardRef(W3),X3=G3(function({position:e,...t},s){const o=new Cm.Marker(e,t);return HS(o,V3(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),J3=Z3(function({url:e,...t},s){const o=new Cm.TileLayer(e,US(t,s));return HS(o,s)},function(e,t,s){$3(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)});delete BS.Icon.Default.prototype._getIconUrl;BS.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function e6({position:n,setPosition:e,setAddress:t}){const s=K3({click(o){e(o.latlng),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.latlng.lat}&lon=${o.latlng.lng}`).then(c=>c.json()).then(c=>{c&&c.display_name&&t(c.display_name)}).catch(c=>console.error("Error reverse geocoding",c))}});return U.useEffect(()=>{n&&s.flyTo(n,16)},[n,s]),n===null?null:_.jsx(X3,{position:n})}const t6=({onConfirm:n,initialLocation:e})=>{const[t,s]=U.useState(e?{lat:e.lat,lng:e.lng}:null),[o,c]=U.useState(e?.address||""),[d,y]=U.useState(""),[m,v]=U.useState(!1),w=[-12.0464,-77.0428],T=async R=>{if(R.preventDefault(),!!d){v(!0);try{const z=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(d)}`)).json();if(z&&z.length>0){const D=z[0],O={lat:parseFloat(D.lat),lng:parseFloat(D.lon)};s(O),c(D.display_name)}else console.log("No location found")}catch(k){console.error("Search error:",k)}finally{v(!1)}}},N=()=>{t&&n({lat:t.lat,lng:t.lng,address:o})};return _.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[_.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[_.jsxs("form",{onSubmit:T,className:"relative flex gap-2",children:[_.jsxs("div",{className:"relative flex-grow",children:[_.jsx("input",{type:"text",value:d,onChange:R=>y(R.target.value),placeholder:"Buscar ciudad, calle o lugar...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-[#fc7f51] focus:ring-1 focus:ring-[#fc7f51] outline-none text-sm"}),_.jsx(Kc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),_.jsx("button",{type:"submit",disabled:m,className:"bg-[#262626] text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-black transition disabled:opacity-70",children:m?_.jsx(Ah,{className:"w-4 h-4 animate-spin"}):"Buscar"})]}),o&&_.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-start gap-1",children:[_.jsx(Dr,{className:"w-3 h-3 mt-0.5 text-[#fc7f51]"}),_.jsx("span",{className:"line-clamp-2",children:o})]})]}),_.jsx("div",{className:"flex-grow min-h-[300px] relative z-0",children:_.jsxs(Q3,{center:w,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[_.jsx(J3,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),_.jsx(e6,{position:t,setPosition:s,setAddress:c})]})}),_.jsx("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-end",children:_.jsx("button",{type:"button",onClick:N,disabled:!t,className:"bg-[#fc7f51] text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-[#e56b3e] transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ubicacin"})})]})},n6=()=>{const{user:n,userData:e}=Vo(),[t,s]=U.useState(!1),[o,c]=U.useState(!1),[d,y]=U.useState(null),[m,v]=U.useState("properties"),[w,T]=U.useState(""),[N,R]=U.useState(!1),[k,z]=U.useState({displayName:"",email:"",phoneNumber:"",newPassword:""}),[D,O]=U.useState(!1),[H,Z]=U.useState([]),[J,te]=U.useState({title:"",content:""}),[fe,V]=U.useState(null),[I,q]=U.useState(!1),[F,B]=U.useState([]),[$,G]=U.useState([]),[ge,_e]=U.useState({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),[X,ye]=U.useState([]),[ie,me]=U.useState([]),[xe,Y]=U.useState(!0),ue=async()=>{if(n){Y(!0);try{const he=Is(wn(tt,"properties"),da("agentId","==",n.uid)),it=(await Ks(he)).docs.map(Be=>({id:Be.id,...Be.data()}));it.sort((Be,gt)=>(gt.createdAt?.seconds||0)-(Be.createdAt?.seconds||0)),ye(it)}catch(he){console.error("Error fetching properties:",he)}finally{Y(!1)}}},Se=async()=>{if(n){q(!0);try{const he=Is(wn(tt,"tips"),da("agentId","==",n.uid),zE("createdAt","desc")),Ze=await Ks(he);Z(Ze.docs.map(it=>({id:it.id,...it.data()})))}catch(he){console.error("Error fetching tips:",he)}finally{q(!1)}}};U.useEffect(()=>{e?.isActivated&&(ue(),(async()=>{try{const Ze=Is(wn(tt,"inquiries"),da("agentId","==",n.uid)),it=await Ks(Ze);me(it.docs.map(Be=>({id:Be.id,...Be.data()})))}catch(Ze){console.error("Error fetching inquiries:",Ze)}})(),Se()),z({displayName:e?.displayName||n?.displayName||"",email:e?.email||n?.email||"",phoneNumber:e?.phoneNumber||"",newPassword:""})},[n,e]);const Ae=async he=>{he.preventDefault(),R(!0);try{const Ze=Is(wn(tt,"activation_codes"),da("code","==",w),da("used","==",!1)),it=await Ks(Ze);if(it.empty){Fe.error("Cdigo invlido o ya usado."),R(!1);return}const Be=it.docs[0];await mo(mn(tt,"activation_codes",Be.id),{used:!0,usedBy:n.uid,usedAt:new Date}),await mo(mn(tt,"users",n.uid),{isActivated:!0,activationCode:w}),Fe.success("Cuenta activada con xito! Recargando..."),setTimeout(()=>window.location.reload(),1500)}catch(Ze){console.error("Error activating account:",Ze),Fe.error("Error al activar la cuenta.")}finally{R(!1)}},Re=async he=>{he.preventDefault(),O(!0);try{if(k.displayName!==n.displayName&&await K1(n,{displayName:k.displayName}),k.email!==n.email&&await jI(n,k.email),await mo(mn(tt,"users",n.uid),{displayName:k.displayName,email:k.email,phoneNumber:k.phoneNumber}),k.newPassword){if(k.newPassword.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");await VI(n,k.newPassword),z(gt=>({...gt,newPassword:""})),Fe.success("Contrasea actualizada.")}const Ze=CD(tt),it=Is(wn(tt,"properties"),da("agentId","==",n.uid));(await Ks(it)).forEach(gt=>{Ze.update(gt.ref,{agentName:k.displayName})}),await Ze.commit(),Fe.success("Perfil actualizado correctamente."),ue()}catch(Ze){console.error("Error updating profile:",Ze),Fe.error("Error al actualizar perfil. Si cambiaste el email, podras necesitar volver a iniciar sesin.")}finally{O(!1)}},Ie=async he=>{he.preventDefault(),q(!0);try{fe?(await mo(mn(tt,"tips",fe),{...J,updatedAt:new Date}),Fe.success("Tip actualizado.")):(await Hc(wn(tt,"tips"),{...J,agentId:n.uid,agentName:n.displayName||"Agente",createdAt:new Date,likes:0}),Fe.success("Tip publicado.")),te({title:"",content:""}),V(null),Se()}catch(Ze){console.error("Error saving tip:",Ze),Ze.code==="failed-precondition"?Fe.error("El ndice de base de datos se est creando. Intenta de nuevo en unos minutos."):Fe.error("Error al guardar el tip.")}finally{q(!1)}},Ye=async he=>{if(window.confirm("Seguro que quieres eliminar este tip?"))try{await y_(mn(tt,"tips",he)),Z(Ze=>Ze.filter(it=>it.id!==he)),Fe.success("Tip eliminado.")}catch(Ze){console.error("Error deleting tip:",Ze)}},Ct=he=>{te({title:he.title||"",content:he.content||""}),V(he.id),v("tips")},Nt=async(he,Ze)=>{const it=Ze==="disponible"?"tomada":"disponible";try{await mo(mn(tt,"properties",he),{status:it}),Fe.success(`Estado actualizado a: ${it==="disponible"?"Disponible":"No Disponible"}`)}catch(Be){console.error("Error updating status:",Be),Fe.error("No se pudo actualizar el estado.")}},Vi=he=>{const Ze=Array.from(he.target.files),it=Ze.map(Be=>URL.createObjectURL(Be));G(Be=>[...Be,...it]),B(Be=>[...Be,...Ze])},cs=he=>{if($[he].startsWith("blob:")){const it=$.slice(0,he).filter(Be=>Be.startsWith("blob:")).length;B(Be=>Be.filter((gt,Zn)=>Zn!==it))}G(it=>it.filter((Be,gt)=>gt!==he))},_i=he=>{y(he.id),_e({title:he.title,description:he.description,type:he.type,currency:he.currency||"USD",price:he.price,category:he.category,location:he.location,footage:he.footage,bedrooms:he.bedrooms||"",bathrooms:he.bathrooms||"",antiquityType:he.antiquityType||"estreno",antiquityYears:he.antiquityYears||"",lat:he.lat||"",lng:he.lng||"",antiquity:he.antiquity||"estreno",floor:he.floor||"",elevator:he.elevator||!1,parking:he.parking||!1,isExclusive:he.isExclusive||!1}),G(he.images||[]),B([]),v("properties"),window.scrollTo({top:0,behavior:"smooth"})},us=()=>{y(null),_e({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),G([]),B([])},yi=async he=>{he.preventDefault(),s(!0);try{const Ze=F.map(async Be=>{const gt=jk(qk,`properties/${n.uid}/${Date.now()}_${Be.name}`),Zn=await Dk(gt,Be);return await kk(Zn.ref)}),it=await Promise.all(Ze);if(d){const Be={...ge,price:parseFloat(ge.price),footage:parseFloat(ge.footage),bedrooms:ge.category==="construido"?parseInt(ge.bedrooms):0,bathrooms:ge.category==="construido"?parseInt(ge.bathrooms):0};it.length>0&&(Be.images=[...$.filter(gt=>gt.startsWith("http")),...it]),await mo(mn(tt,"properties",d),Be),Fe.success("Propiedad actualizada con xito!")}else await Hc(wn(tt,"properties"),{...ge,agentId:n.uid,agentName:e.displayName||"Agente",images:it,createdAt:new Date,status:"disponible",views:0,isPromoted:!1,price:parseFloat(ge.price),footage:parseFloat(ge.footage),bedrooms:ge.category==="construido"?parseInt(ge.bedrooms):0,bathrooms:ge.category==="construido"?parseInt(ge.bathrooms):0}),Fe.success("Propiedad publicada con xito!"),_e({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),B([]),G([]),y(null),ue()}catch(Ze){console.error("Error adding property: ",Ze),Fe.error("Hubo un error al publicar la propiedad.")}finally{s(!1)}};U.useEffect(()=>{if(e?.role!=="superadmin")return;(async()=>{try{const Ze=Is(wn(tt,"activation_codes"),da("code","==","AGENT2024"));(await Ks(Ze)).empty&&await Hc(wn(tt,"activation_codes"),{code:"AGENT2024",used:!1,createdAt:new Date,type:"standard"})}catch{console.debug("Skipping code creation (not authorized)")}})()},[e]);const sr=e?.isActivated;return _.jsx("div",{className:"min-h-screen bg-gray-50 pt-28 pb-12 px-6",children:_.jsxs("div",{className:"container mx-auto max-w-6xl",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold font-[Montserrat] text-gray-800 mb-6",children:"Panel de Agente"}),_.jsxs("div",{className:"flex flex-wrap gap-4 border-b border-gray-200",children:[_.jsx("button",{onClick:()=>v("properties"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="properties"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mis Propiedades"}),_.jsx("button",{onClick:()=>v("inquiries"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="inquiries"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Solicitudes"}),_.jsx("button",{onClick:()=>v("tips"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="tips"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tips Inmobiliarios"}),_.jsx("button",{onClick:()=>v("profile"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${m==="profile"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mi Perfil"})]})]}),sr?_.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[m==="properties"&&_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 h-fit",children:[_.jsx("div",{className:"bg-[#16151a] p-6 text-white",children:_.jsx("h2",{className:"text-xl font-bold",children:d?"Editar Propiedad":"Nueva Propiedad"})}),_.jsxs("form",{onSubmit:yi,className:"p-8 space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),_.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Ej: Departamento en Miraflores",value:ge.title,onChange:he=>_e({...ge,title:he.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),_.jsxs("div",{className:"flex",children:[_.jsxs("select",{className:"w-24 px-2 py-3 rounded-l-lg border border-r-0 border-gray-200 bg-gray-50 text-sm font-bold",value:ge.currency,onChange:he=>_e({...ge,currency:he.target.value}),children:[_.jsx("option",{value:"USD",children:"USD"}),_.jsx("option",{value:"PEN",children:"PEN"})]}),_.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-r-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"0.00",value:ge.price,onChange:he=>_e({...ge,price:he.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operacin"}),_.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:ge.type,onChange:he=>_e({...ge,type:he.target.value}),children:[_.jsx("option",{value:"venta",children:"Venta"}),_.jsx("option",{value:"alquiler",children:"Alquiler"}),_.jsx("option",{value:"alquiler",children:"Anticresis"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),_.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:ge.category,onChange:he=>_e({...ge,category:he.target.value}),children:[_.jsx("option",{value:"construido",children:"Construido"}),_.jsx("option",{value:"terreno",children:"Terreno"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metraje (m)"}),_.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"120",value:ge.footage,onChange:he=>_e({...ge,footage:he.target.value})})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Antigedad"}),_.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:ge.antiquity,onChange:he=>_e({...ge,antiquity:he.target.value}),children:[_.jsx("option",{value:"estreno",children:"Estreno"}),_.jsx("option",{value:"preventa",children:"Pre-Venta"}),_.jsx("option",{value:"up_to_5",children:"Hasta 5 aos"}),_.jsx("option",{value:"5_to_10",children:"5 a 10 aos"}),_.jsx("option",{value:"more_than_10",children:"Ms de 10 aos"}),_.jsx("option",{value:"more_than_20",children:"Ms de 20 aos"})]})]}),_.jsx("div",{className:"flex items-center pt-8",children:_.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[_.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:ge.isExclusive,onChange:he=>_e({...ge,isExclusive:he.target.checked})}),_.jsx("span",{className:"font-bold text-[#fc7f51]",children:"Es Exclusiva?"})]})})]}),ge.category==="construido"&&_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaciones"}),_.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:ge.bedrooms,onChange:he=>_e({...ge,bedrooms:he.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Baos"}),_.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:ge.bathrooms,onChange:he=>_e({...ge,bathrooms:he.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("div",{className:"relative flex-grow",children:[_.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Direccin o Link Maps",value:ge.location,onChange:he=>_e({...ge,location:he.target.value})})]}),_.jsx("button",{type:"button",onClick:()=>c(!0),className:"bg-[#262626] text-white px-4 rounded-lg hover:bg-black transition flex items-center justify-center",title:"Buscar en Mapa",children:_.jsx(Dr,{className:"w-5 h-5"})})]})]}),o&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-[600px] flex flex-col overflow-hidden relative",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[_.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Seleccionar Ubicacin"}),_.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:_.jsx(Wc,{className:"w-5 h-5"})})]}),_.jsx("div",{className:"flex-grow p-0",children:_.jsx(t6,{onConfirm:he=>{_e({...ge,location:he.address||`${he.lat}, ${he.lng}`,lat:he.lat,lng:he.lng}),c(!1)}})})]})}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),_.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-24 resize-none",value:ge.description,onChange:he=>_e({...ge,description:he.target.value})})]}),_.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[_.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Vi,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),_.jsx(U5,{className:"h-6 w-6 text-[#fc7f51] mx-auto mb-2"}),_.jsx("p",{className:"text-gray-500 text-sm",children:"Subir fotos"})]}),$.length>0&&_.jsx("div",{className:"grid grid-cols-4 gap-2",children:$.map((he,Ze)=>_.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[_.jsx("img",{src:he,alt:"",className:"w-full h-full object-cover"}),_.jsx("button",{type:"button",onClick:()=>cs(Ze),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5",children:_.jsx(Wc,{className:"w-3 h-3"})})]},Ze))}),_.jsxs("div",{className:"flex gap-2",children:[d&&_.jsx("button",{type:"button",onClick:us,className:"flex-1 bg-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2",children:t?_.jsx(Ah,{className:"animate-spin"}):d?"Actualizar Propiedad":"Publicar Propiedad"})]})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Propiedades"}),_.jsxs("span",{className:"bg-orange-100 text-[#fc7f51] px-3 py-1 rounded-full text-sm font-bold",children:[X.length," Total"]})]}),xe?_.jsx("div",{className:"flex justify-center py-12",children:_.jsx(Ah,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):X.length===0?_.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No has publicado ninguna propiedad an."}):_.jsx("div",{className:"grid gap-4",children:X.map(he=>_.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4",children:[_.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:_.jsx("img",{src:he.images?.[0]||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Sin+Img",alt:he.title,className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"flex-grow",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:he.title}),_.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${he.status==="disponible"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:he.status})]}),_.jsx("p",{className:"text-gray-500 text-xs mt-1",children:he.location}),_.jsxs("p",{className:"text-[#fc7f51] font-bold text-sm mt-1",children:["$",he.price?.toLocaleString()]}),_.jsxs("div",{className:"mt-3 flex gap-2",children:[_.jsx("button",{onClick:()=>Nt(he.id,he.status),className:`tx-xs px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 text-center ${he.status==="disponible"?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:he.status==="disponible"?"Marcar Vendido/Alquilado":"Marcar Disponible"}),_.jsx("button",{onClick:()=>_i(he),className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-100 transition",children:"Editar"})]})]})]},he.id))})]})]}),m==="profile"&&_.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[_.jsx(yS,{className:"w-6 h-6 text-[#fc7f51]"})," Editar Perfil"]}),_.jsxs("form",{onSubmit:Re,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Publico"}),_.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:k.displayName,onChange:he=>z({...k,displayName:he.target.value}),required:!0}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este nombre aparecer en todas tus propiedades publicadas."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),_.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:k.email,onChange:he=>z({...k,email:he.target.value}),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),_.jsx("input",{type:"tel",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:k.phoneNumber,onChange:he=>z({...k,phoneNumber:he.target.value})})]}),_.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea (Opcional)"}),_.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Dejar vaca para mantener la actual",value:k.newPassword||"",onChange:he=>z({...k,newPassword:he.target.value})}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres."})]}),_.jsx("button",{type:"submit",disabled:D,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-xl hover:bg-[#e56b3e] transition disabled:opacity-70",children:D?"Guardando...":"Guardar Cambios"})]})]}),m==="inquiries"&&_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Solicitudes de Clientes"}),ie.length===0?_.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No tienes solicitudes de contacto pendientes."}):_.jsx("div",{className:"space-y-4",children:ie.map(he=>_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-800",children:he.clientName}),_.jsxs("p",{className:"text-sm text-gray-500",children:[he.clientPhone,"  ",he.clientEmail||"Sin email"]})]}),_.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-600",children:he.timestamp?.seconds?new Date(he.timestamp.seconds*1e3).toLocaleDateString():"Reciente"})]}),_.jsxs("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg text-sm italic",children:['"',he.clientMessage,'"']}),_.jsxs("div",{className:"mt-2 text-xs text-[#fc7f51] font-bold",children:["Interesado en: ",he.propertyTitle]})]},he.id))})]}),m==="tips"&&_.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsx("div",{className:"md:col-span-1",children:_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-24",children:[_.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:fe?"Editar Tip":"Nuevo Tip"}),_.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[_.jsx("input",{type:"text",placeholder:"Ttulo del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:J.title,onChange:he=>te({...J,title:he.target.value}),required:!0}),_.jsx("textarea",{placeholder:"Contenido del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-32 resize-none",value:J.content,onChange:he=>te({...J,content:he.target.value}),required:!0}),_.jsx("button",{type:"submit",disabled:I,className:"w-full bg-[#fc7f51] text-white font-bold py-2 rounded-lg hover:bg-[#e56b3e] transition",children:fe?"Actualizar":"Publicar"}),fe&&_.jsx("button",{type:"button",onClick:()=>{V(null),te({title:"",content:""})},className:"w-full bg-gray-100 text-gray-600 font-bold py-2 rounded-lg hover:bg-gray-200 transition",children:"Cancelar"})]})]})}),_.jsxs("div",{className:"md:col-span-2 space-y-4",children:[_.jsxs("h3",{className:"font-bold text-gray-800 mb-4",children:["Tips Publicados (",H.length,")"]}),H.length===0?_.jsx("p",{className:"text-gray-500 text-center py-10",children:"No has publicado tips an."}):H.map(he=>_.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative group",children:[_.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:he.title}),_.jsx("p",{className:"text-sm text-gray-600 mb-4",children:he.content}),_.jsx("div",{className:"text-xs text-gray-400",children:he.createdAt?.seconds?new Date(he.createdAt.seconds*1e3).toLocaleDateString():"Reciente"}),_.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[_.jsx("button",{onClick:()=>Ct(he),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:_.jsx(n5,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>Ye(he.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:_.jsx(_S,{className:"w-4 h-4"})})]})]},he.id))]})]})]}):_.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:_.jsx(y5,{className:"w-8 h-8 text-[#fc7f51]"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cuenta Inactiva"}),_.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Ingresa tu cdigo de activacin para acceder al panel."}),_.jsxs("form",{onSubmit:Ae,className:"w-full space-y-4",children:[_.jsx("input",{type:"text",value:w,onChange:he=>T(he.target.value.toUpperCase()),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition text-center font-mono text-lg tracking-widest uppercase",placeholder:"CDIGO",required:!0}),_.jsx("button",{type:"submit",disabled:N,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition disabled:opacity-70",children:N?"Verificando...":"Activar Cuenta"})]})]})]})})},i6=()=>{const{user:n}=Vo(),[e,t]=U.useState([]),[s,o]=U.useState(!0);return U.useEffect(()=>{(async()=>{try{const d=Is(wn(tt,"properties")),m=(await Ks(d)).docs.map(v=>({id:v.id,...v.data()}));console.log("ClientDashboard Fetched properties:",m),t(m)}catch(d){console.error("Error fetching properties:",d)}finally{o(!1)}})()},[n]),_.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:_.jsxs("div",{className:"container mx-auto",children:[_.jsxs("div",{className:"mb-8",children:[_.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:["Hola, ",n?.displayName||"Usuario"]}),_.jsx("p",{className:"text-gray-500 mt-2",children:"Bienvenido a tu panel personal. Aqu encontrars las propiedades que te interesan."})]}),_.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1",children:[_.jsx("button",{className:"px-4 py-2 text-[#fc7f51] border-b-2 border-[#fc7f51] font-bold",children:"Mis Favoritos"}),_.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Vistos Recientemente"}),_.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Alertas"})]}),s?_.jsx("div",{className:"flex justify-center py-20",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#fc7f51]"})}):e.length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden group border border-gray-100",children:[_.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[_.jsx("img",{src:c.images?.[0]||"https://images.unsplash.com/photo-1600596542815-9ad4dc2f2072?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),_.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500",children:_.jsx(Gf,{className:"w-5 h-5 fill-current"})}),_.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider",children:c.type})]}),_.jsxs("div",{className:"p-6",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:c.title}),_.jsxs("span",{className:"text-[#fc7f51] font-bold text-lg",children:["$",c.price?.toLocaleString()]})]}),_.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.location}),_.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-4",children:[c.category==="construido"?_.jsxs(_.Fragment,{children:[_.jsxs("span",{children:[c.bedrooms," Hab"]}),_.jsx("span",{children:""}),_.jsxs("span",{children:[c.bathrooms," Baos"]}),_.jsx("span",{children:""})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{children:"Terreno"}),_.jsx("span",{children:""})]}),_.jsxs("span",{children:[c.footage," m"]})]}),_.jsx(an,{to:`/properties/${c.id}`,className:"mt-4 block w-full py-3 bg-gray-50 hover:bg-[#fc7f51] hover:text-white text-gray-600 font-bold text-center rounded-xl transition text-sm",children:"Ver Detalles"})]})]},c.id))}):_.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[_.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:_.jsx(Gf,{className:"w-8 h-8 text-[#fc7f51]"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"An no tienes favoritos"}),_.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explora nuestro catlogo y guarda las propiedades que ms te gusten para verlas aqu."}),_.jsxs(an,{to:"/",className:"inline-flex items-center gap-2 bg-[#fc7f51] text-white px-8 py-3 rounded-full font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:[_.jsx(Kc,{className:"w-5 h-5"}),"Explorar Propiedades"]})]})]})})},s6=()=>{const[n,e]=U.useState({totalAgents:0,totalProperties:0,activeCodes:0}),[t,s]=U.useState([]),[o,c]=U.useState(!0),[d,y]=U.useState(!1),[m,v]=U.useState(null),[w,T]=U.useState([]),[N,R]=U.useState(!1),[k,z]=U.useState(!1),D=async()=>{try{const te=Is(wn(tt,"users"),da("role","==","agente")),fe=await Mw(te),V=await Mw(wn(tt,"properties")),I=Is(wn(tt,"activation_codes"),zE("createdAt","desc")),F=(await Ks(I)).docs.map(B=>({id:B.id,...B.data()}));s(F),e({totalAgents:fe.data().count,totalProperties:V.data().count,activeCodes:F.filter(B=>!B.used).length})}catch(te){console.error("Error fetching admin stats:",te),Fe.error("Error al cargar estadsticas")}finally{c(!1)}};U.useEffect(()=>{D()},[]);const O=async()=>{y(!0);try{const te="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let fe="";for(let V=0;V<8;V++)fe+=te.charAt(Math.floor(Math.random()*te.length));await Hc(wn(tt,"activation_codes"),{code:fe,used:!1,createdAt:new Date,usedBy:null,usedAt:null}),Fe.success("Cdigo generado correctamente!"),D()}catch(te){console.error("Error generating code:",te),Fe.error("No se pudo generar el cdigo")}finally{y(!1)}},H=te=>{navigator.clipboard.writeText(te),Fe.success("Cdigo copiado al portapapeles")},Z=async te=>{if(te){R(!0),z(!0),T([]);try{const fe=await Rl(mn(tt,"users",te));if(fe.exists())v({id:fe.id,...fe.data()});else{v(null),Fe.error("Usuario no encontrado (probablemente ya eliminado).");return}const V=Is(wn(tt,"properties"),da("agentId","==",te)),q=(await Ks(V)).docs.map(F=>({id:F.id,...F.data()}));T(q)}catch(fe){console.error("Error details:",fe),Fe.error("Error al cargar detalles")}finally{R(!1)}}},J=async()=>{if(!(!m||!window.confirm(`Ests seguro de que quieres eliminar a ${m.displayName||"este usuario"} y todas sus propiedades? Esta accin no se puede deshacer.`)))try{const te=w.map(fe=>y_(mn(tt,"properties",fe.id)));await Promise.all(te),await y_(mn(tt,"users",m.id)),Fe.success("Usuario y sus propiedades eliminados."),z(!1),D()}catch(te){console.error("Error deleting user:",te),Fe.error("Error al eliminar usuario.")}};return o?_.jsx("div",{className:"min-h-screen flex items-center justify-center",children:_.jsx(jg,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):_.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:[_.jsxs("div",{className:"container mx-auto max-w-6xl",children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:"Panel Super Admin"}),_.jsx("p",{className:"text-gray-500 mt-2",children:"Gestin general de la plataforma"})]}),_.jsx("button",{onClick:D,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition shadow-sm",children:_.jsx(jg,{className:"w-5 h-5 text-gray-500"})})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"bg-orange-50 p-4 rounded-xl",children:_.jsx(vS,{className:"w-8 h-8 text-[#fc7f51]"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Agentes Registrados"}),_.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalAgents})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:_.jsx(mS,{className:"w-8 h-8 text-blue-500"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Inmuebles Publicados"}),_.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalProperties})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:_.jsx(Zf,{className:"w-8 h-8 text-green-500"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Cdigos Disponibles"}),_.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.activeCodes})]})]})]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[_.jsxs("div",{className:"p-8 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cdigos de Activacin"}),_.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Genera cdigos nicos para activar cuentas de agentes."})]}),_.jsxs("button",{onClick:O,disabled:d,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/20 transition flex items-center gap-2 disabled:opacity-70",children:[d?_.jsx(jg,{className:"w-5 h-5 animate-spin"}):_.jsx(Zf,{className:"w-5 h-5"}),"Generar Nuevo Cdigo"]})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CDIGO"}),_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ESTADO"}),_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CREADO EL"}),_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"USADO POR"}),_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ACCIONES"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-50",children:t.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"px-8 py-8 text-center text-gray-400",children:"No hay cdigos generados an."})}):t.map(te=>_.jsxs("tr",{className:"hover:bg-gray-50/50 transition",children:[_.jsx("td",{className:"px-8 py-4",children:_.jsx("span",{className:"font-mono font-bold text-lg text-gray-700 tracking-wider",children:te.code})}),_.jsx("td",{className:"px-8 py-4",children:te.used?_.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Usado"}):_.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Disponible"})}),_.jsx("td",{className:"px-8 py-4 text-sm text-gray-500",children:te.createdAt?.toDate().toLocaleDateString()}),_.jsx("td",{className:"px-8 py-4 text-sm text-gray-500 relative group cursor-pointer",onClick:()=>te.usedBy&&Z(te.usedBy),children:te.usedBy?_.jsxs("div",{className:"flex items-center gap-2 hover:text-[#fc7f51] transition",children:[_.jsx("span",{children:te.usedBy}),_.jsx(Ff,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}):"-"}),_.jsx("td",{className:"px-8 py-4",children:te.used?_.jsx("button",{onClick:()=>Z(te.usedBy),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition",title:"Ver Detalles",children:_.jsx(Ff,{className:"w-5 h-5"})}):_.jsx("button",{onClick:()=>H(te.code),className:"text-[#fc7f51] hover:text-[#e56b3e] p-2 hover:bg-orange-50 rounded-lg transition",title:"Copiar cdigo",children:_.jsx(Q4,{className:"w-5 h-5"})})})]},te.id))})]})})]})]}),k&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Detalles del Agente"}),_.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-gray-200 rounded-full transition",children:_.jsx(Wc,{className:"w-5 h-5 text-gray-500"})})]}),_.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:N?_.jsx("div",{className:"flex justify-center py-12",children:_.jsx(Loader2,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):m?_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-bold text-gray-800",children:m.displayName||"Sin Nombre"}),_.jsx("p",{className:"text-gray-500",children:m.email}),_.jsx("p",{className:"text-gray-500 text-sm mt-1",children:m.phoneNumber||"Sin Telfono"}),_.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-orange-100 text-[#fc7f51] text-xs font-bold rounded-lg uppercase",children:m.role})]}),_.jsxs("button",{onClick:J,className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition",children:[_.jsx(_S,{className:"w-4 h-4"}),"Eliminar Usuario"]})]}),_.jsxs("div",{children:[_.jsxs("h4",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:["Propiedades Publicadas (",w.length,")"]}),w.length===0?_.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Este usuario no tiene propiedades."}):_.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map(te=>_.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex gap-3 hover:bg-gray-50 transition",children:[_.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:te.images?.[0]&&_.jsx("img",{src:te.images[0],className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"overflow-hidden",children:[_.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:te.title}),_.jsx("p",{className:"text-xs text-gray-500 truncate",children:te.location}),_.jsxs("p",{className:"text-[#fc7f51] font-bold text-xs mt-1",children:["$",te.price?.toLocaleString()]})]})]},te.id))})]})]}):_.jsx("p",{className:"text-center text-red-500",children:"No se pudo cargar la informacin."})})]})})]})},r6=()=>{const{user:n}=Vo(),[e,t]=U.useState(!1),s=async()=>{t(!0);try{const c=[{title:"Modern Apartment in Downtown",price:25e4,location:"Downtown City Center",type:"venta",category:"construido",bedrooms:2,bathrooms:2,footage:85,description:"Stunning view of the city.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"]},{title:"Cozy Family Home",price:1500,location:"Suburban Area",type:"alquiler",category:"construido",bedrooms:3,bathrooms:2,footage:120,description:"Ideal for a small family.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1560184897-ae75f418493e"]}];for(const d of c)await Hc(wn(tt,"properties"),d);Fe.success("Propiedades de demostracin creadas!")}catch(c){console.error("Error creating demo props:",c),Fe.error("Error al crear propiedades demo")}finally{t(!1)}},o=async()=>{if(!n){Fe.error("Debes iniciar sesin primero.");return}t(!0);try{const c=mn(tt,"users",n.uid);await mo(c,{role:"superadmin",isActivated:!0}),Fe.success(`Rol actualizado! Ahora eres Super Admin: ${n.email}`),setTimeout(()=>window.location.reload(),1500)}catch(c){console.error("Error making superadmin:",c),Fe.error("Error al actualizar rol")}finally{t(!1)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 space-y-8",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg border border-gray-100 text-center",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Configuracin Inicial"}),_.jsx("p",{className:"text-gray-500 mb-8",children:"Usa estas herramientas para inicializar tu base de datos."}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:[_.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"1. Configurar Admin"}),_.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Convierte tu usuario actual (",n?.email||"No logueado",") en Super Admin."]}),_.jsx("button",{onClick:o,disabled:e||!n,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Hacerme Super Admin"})]}),_.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[_.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"2. Datos de Prueba"}),_.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crea propiedades de ejemplo para ver cmo luce el dashboard."}),_.jsx("button",{onClick:s,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Crear Propiedades Demo"})]})]}),_.jsx("p",{className:"mt-8 text-xs text-gray-400",children:"Nota: Esta pgina debe ser eliminada o asegurada antes de produccin."})]})})};function a6(){const e=nr().pathname==="/superadmin";return _.jsx(O4,{children:_.jsxs("div",{className:"flex flex-col min-h-screen",children:[!e&&_.jsx(N3,{}),_.jsx("main",{className:"flex-grow",children:_.jsxs(fC,{children:[_.jsx(is,{path:"/",element:_.jsx(K5,{})}),_.jsx(is,{path:"/about",element:_.jsx(C3,{})}),_.jsx(is,{path:"/contact",element:_.jsx(I3,{})}),_.jsx(is,{path:"/properties/:id",element:_.jsx(A3,{})}),_.jsx(is,{path:"/search",element:_.jsx(P3,{})}),_.jsx(is,{path:"/login",element:_.jsx(M3,{})}),_.jsx(is,{path:"/register",element:_.jsx(L3,{})}),_.jsx(is,{path:"/forgot-password",element:_.jsx(O3,{})}),_.jsx(is,{path:"/setup",element:_.jsx(r6,{})}),_.jsx(is,{path:"/agent-dashboard",element:_.jsx(kg,{allowedRoles:["agente"],children:_.jsx(n6,{})})}),_.jsx(is,{path:"/client-dashboard",element:_.jsx(kg,{allowedRoles:["cliente"],children:_.jsx(i6,{})})}),_.jsx(is,{path:"/superadmin",element:_.jsx(kg,{allowedRoles:["superadmin"],children:_.jsx(s6,{})})})]})}),!e&&_.jsx(R3,{})]})})}pA.createRoot(document.getElementById("root")).render(_.jsx(U.StrictMode,{children:_.jsx(VC,{children:_.jsx(a6,{})})}));
