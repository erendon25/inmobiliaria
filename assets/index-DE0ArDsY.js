(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function o1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dg={exports:{}},$u={};var Gb;function yA(){if(Gb)return $u;Gb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var _ in o)_!=="key"&&(c[_]=o[_])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:d,ref:o!==void 0?o:null,props:c}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var Zb;function _A(){return Zb||(Zb=1,dg.exports=yA()),dg.exports}var f=_A(),fg={exports:{}},Qe={};var $b;function vA(){if($b)return Qe;$b=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),N=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function O(D,J,pe){this.props=D,this.context=J,this.refs=k,this.updater=pe||j}O.prototype.isReactComponent={},O.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},O.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function B(){}B.prototype=O.prototype;function $(D,J,pe){this.props=D,this.context=J,this.refs=k,this.updater=pe||j}var te=$.prototype=new B;te.constructor=$,U(te,O.prototype),te.isPureReactComponent=!0;var ne=Array.isArray;function ye(){}var q={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Z(D,J,pe){var xe=pe.ref;return{$$typeof:n,type:D,key:J,ref:xe!==void 0?xe:null,props:pe}}function G(D,J){return Z(D.type,J,D.props)}function H(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function Y(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(pe){return J[pe]})}var F=/\/+/g;function de(D,J){return typeof D=="object"&&D!==null&&D.key!=null?Y(""+D.key):J.toString(36)}function Re(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ye,ye):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ae(D,J,pe,xe,Ae){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var He=!1;if(D===null)He=!0;else switch(Ce){case"bigint":case"string":case"number":He=!0;break;case"object":switch(D.$$typeof){case n:case e:He=!0;break;case w:return He=D._init,ae(He(D._payload),J,pe,xe,Ae)}}if(He)return Ae=Ae(D),He=xe===""?"."+de(D,0):xe,ne(Ae)?(pe="",He!=null&&(pe=He.replace(F,"$&/")+"/"),ae(Ae,J,pe,"",function(Hn){return Hn})):Ae!=null&&(H(Ae)&&(Ae=G(Ae,pe+(Ae.key==null||D&&D.key===Ae.key?"":(""+Ae.key).replace(F,"$&/")+"/")+He)),J.push(Ae)),1;He=0;var At=xe===""?".":xe+":";if(ne(D))for(var Ct=0;Ct<D.length;Ct++)xe=D[Ct],Ce=At+de(xe,Ct),He+=ae(xe,J,pe,Ce,Ae);else if(Ct=R(D),typeof Ct=="function")for(D=Ct.call(D),Ct=0;!(xe=D.next()).done;)xe=xe.value,Ce=At+de(xe,Ct++),He+=ae(xe,J,pe,Ce,Ae);else if(Ce==="object"){if(typeof D.then=="function")return ae(Re(D),J,pe,xe,Ae);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return He}function Se(D,J,pe){if(D==null)return D;var xe=[],Ae=0;return ae(D,xe,"","",function(Ce){return J.call(pe,Ce,Ae++)}),xe}function ee(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(pe){(D._status===0||D._status===-1)&&(D._status=1,D._result=pe)},function(pe){(D._status===0||D._status===-1)&&(D._status=2,D._result=pe)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},_e={map:Se,forEach:function(D,J,pe){Se(D,function(){J.apply(this,arguments)},pe)},count:function(D){var J=0;return Se(D,function(){J++}),J},toArray:function(D){return Se(D,function(J){return J})||[]},only:function(D){if(!H(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Qe.Activity=E,Qe.Children=_e,Qe.Component=O,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=$,Qe.StrictMode=s,Qe.Suspense=p,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return q.H.useMemoCache(D)}},Qe.cache=function(D){return function(){return D.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(D,J,pe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var xe=U({},D.props),Ae=D.key;if(J!=null)for(Ce in J.key!==void 0&&(Ae=""+J.key),J)!I.call(J,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&J.ref===void 0||(xe[Ce]=J[Ce]);var Ce=arguments.length-2;if(Ce===1)xe.children=pe;else if(1<Ce){for(var He=Array(Ce),At=0;At<Ce;At++)He[At]=arguments[At+2];xe.children=He}return Z(D.type,Ae,xe)},Qe.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Qe.createElement=function(D,J,pe){var xe,Ae={},Ce=null;if(J!=null)for(xe in J.key!==void 0&&(Ce=""+J.key),J)I.call(J,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Ae[xe]=J[xe]);var He=arguments.length-2;if(He===1)Ae.children=pe;else if(1<He){for(var At=Array(He),Ct=0;Ct<He;Ct++)At[Ct]=arguments[Ct+2];Ae.children=At}if(D&&D.defaultProps)for(xe in He=D.defaultProps,He)Ae[xe]===void 0&&(Ae[xe]=He[xe]);return Z(D,Ce,Ae)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(D){return{$$typeof:_,render:D}},Qe.isValidElement=H,Qe.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:ee}},Qe.memo=function(D,J){return{$$typeof:v,type:D,compare:J===void 0?null:J}},Qe.startTransition=function(D){var J=q.T,pe={};q.T=pe;try{var xe=D(),Ae=q.S;Ae!==null&&Ae(pe,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(ye,fe)}catch(Ce){fe(Ce)}finally{J!==null&&pe.types!==null&&(J.types=pe.types),q.T=J}},Qe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Qe.use=function(D){return q.H.use(D)},Qe.useActionState=function(D,J,pe){return q.H.useActionState(D,J,pe)},Qe.useCallback=function(D,J){return q.H.useCallback(D,J)},Qe.useContext=function(D){return q.H.useContext(D)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(D,J){return q.H.useDeferredValue(D,J)},Qe.useEffect=function(D,J){return q.H.useEffect(D,J)},Qe.useEffectEvent=function(D){return q.H.useEffectEvent(D)},Qe.useId=function(){return q.H.useId()},Qe.useImperativeHandle=function(D,J,pe){return q.H.useImperativeHandle(D,J,pe)},Qe.useInsertionEffect=function(D,J){return q.H.useInsertionEffect(D,J)},Qe.useLayoutEffect=function(D,J){return q.H.useLayoutEffect(D,J)},Qe.useMemo=function(D,J){return q.H.useMemo(D,J)},Qe.useOptimistic=function(D,J){return q.H.useOptimistic(D,J)},Qe.useReducer=function(D,J,pe){return q.H.useReducer(D,J,pe)},Qe.useRef=function(D){return q.H.useRef(D)},Qe.useState=function(D){return q.H.useState(D)},Qe.useSyncExternalStore=function(D,J,pe){return q.H.useSyncExternalStore(D,J,pe)},Qe.useTransition=function(){return q.H.useTransition()},Qe.version="19.2.4",Qe}var Yb;function Py(){return Yb||(Yb=1,fg.exports=vA()),fg.exports}var V=Py();const cn=o1(V);var mg={exports:{}},Yu={},pg={exports:{}},gg={};var Kb;function bA(){return Kb||(Kb=1,(function(n){function e(ae,Se){var ee=ae.length;ae.push(Se);e:for(;0<ee;){var fe=ee-1>>>1,_e=ae[fe];if(0<o(_e,Se))ae[fe]=Se,ae[ee]=_e,ee=fe;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var Se=ae[0],ee=ae.pop();if(ee!==Se){ae[0]=ee;e:for(var fe=0,_e=ae.length,D=_e>>>1;fe<D;){var J=2*(fe+1)-1,pe=ae[J],xe=J+1,Ae=ae[xe];if(0>o(pe,ee))xe<_e&&0>o(Ae,pe)?(ae[fe]=Ae,ae[xe]=ee,fe=xe):(ae[fe]=pe,ae[J]=ee,fe=J);else if(xe<_e&&0>o(Ae,ee))ae[fe]=Ae,ae[xe]=ee,fe=xe;else break e}}return Se}function o(ae,Se){var ee=ae.sortIndex-Se.sortIndex;return ee!==0?ee:ae.id-Se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();n.unstable_now=function(){return d.now()-_}}var p=[],v=[],w=1,E=null,N=3,R=!1,j=!1,U=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function te(ae){for(var Se=t(v);Se!==null;){if(Se.callback===null)s(v);else if(Se.startTime<=ae)s(v),Se.sortIndex=Se.expirationTime,e(p,Se);else break;Se=t(v)}}function ne(ae){if(U=!1,te(ae),!j)if(t(p)!==null)j=!0,ye||(ye=!0,Y());else{var Se=t(v);Se!==null&&Re(ne,Se.startTime-ae)}}var ye=!1,q=-1,I=5,Z=-1;function G(){return k?!0:!(n.unstable_now()-Z<I)}function H(){if(k=!1,ye){var ae=n.unstable_now();Z=ae;var Se=!0;try{e:{j=!1,U&&(U=!1,B(q),q=-1),R=!0;var ee=N;try{t:{for(te(ae),E=t(p);E!==null&&!(E.expirationTime>ae&&G());){var fe=E.callback;if(typeof fe=="function"){E.callback=null,N=E.priorityLevel;var _e=fe(E.expirationTime<=ae);if(ae=n.unstable_now(),typeof _e=="function"){E.callback=_e,te(ae),Se=!0;break t}E===t(p)&&s(p),te(ae)}else s(p);E=t(p)}if(E!==null)Se=!0;else{var D=t(v);D!==null&&Re(ne,D.startTime-ae),Se=!1}}break e}finally{E=null,N=ee,R=!1}Se=void 0}}finally{Se?Y():ye=!1}}}var Y;if(typeof $=="function")Y=function(){$(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,de=F.port2;F.port1.onmessage=H,Y=function(){de.postMessage(null)}}else Y=function(){O(H,0)};function Re(ae,Se){q=O(function(){ae(n.unstable_now())},Se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(ae){switch(N){case 1:case 2:case 3:var Se=3;break;default:Se=N}var ee=N;N=Se;try{return ae()}finally{N=ee}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(ae,Se){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ee=N;N=ae;try{return Se()}finally{N=ee}},n.unstable_scheduleCallback=function(ae,Se,ee){var fe=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,ae){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ee+_e,ae={id:w++,callback:Se,priorityLevel:ae,startTime:ee,expirationTime:_e,sortIndex:-1},ee>fe?(ae.sortIndex=ee,e(v,ae),t(p)===null&&ae===t(v)&&(U?(B(q),q=-1):U=!0,Re(ne,ee-fe))):(ae.sortIndex=_e,e(p,ae),j||R||(j=!0,ye||(ye=!0,Y()))),ae},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(ae){var Se=N;return function(){var ee=N;N=Se;try{return ae.apply(this,arguments)}finally{N=ee}}}})(gg)),gg}var Wb;function xA(){return Wb||(Wb=1,pg.exports=bA()),pg.exports}var yg={exports:{}},si={};var Qb;function wA(){if(Qb)return si;Qb=1;var n=Py();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:v,implementation:w}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,si.createPortal=function(p,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,w)},si.flushSync=function(p){var v=d.T,w=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=w,s.d.f()}},si.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},si.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},si.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,R=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:R}):w==="script"&&s.d.X(p,{crossOrigin:E,integrity:N,fetchPriority:R,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},si.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=_(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},si.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin);s.d.L(p,w,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},si.preloadModule=function(p,v){if(typeof p=="string")if(v){var w=_(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},si.requestFormReset=function(p){s.d.r(p)},si.unstable_batchedUpdates=function(p,v){return p(v)},si.useFormState=function(p,v,w){return d.H.useFormState(p,v,w)},si.useFormStatus=function(){return d.H.useHostTransitionStatus()},si.version="19.2.4",si}var Xb;function l1(){if(Xb)return yg.exports;Xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yg.exports=wA(),yg.exports}var Jb;function EA(){if(Jb)return Yu;Jb=1;var n=xA(),e=Py(),t=l1();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function d(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function _(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(c(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var y=l.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===l)return p(y),i;if(b===h)return p(y),r;b=b.sibling}throw Error(s(188))}if(l.return!==h.return)l=y,h=b;else{for(var A=!1,M=y.child;M;){if(M===l){A=!0,l=y,h=b;break}if(M===h){A=!0,h=y,l=b;break}M=M.sibling}if(!A){for(M=b.child;M;){if(M===l){A=!0,l=b,h=y;break}if(M===h){A=!0,h=b,l=y;break}M=M.sibling}if(!A)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function w(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=w(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),$=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case O:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case ye:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case $:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case te:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return r=i.displayName||null,r!==null?r:de(i.type)||"Memo";case I:r=i._payload,i=i._init;try{return de(i(r))}catch{}}return null}var Re=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},fe=[],_e=-1;function D(i){return{current:i}}function J(i){0>_e||(i.current=fe[_e],fe[_e]=null,_e--)}function pe(i,r){_e++,fe[_e]=i.current,i.current=r}var xe=D(null),Ae=D(null),Ce=D(null),He=D(null);function At(i,r){switch(pe(Ce,r),pe(Ae,i),pe(xe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?mb(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=mb(r),i=pb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(xe),pe(xe,i)}function Ct(){J(xe),J(Ae),J(Ce)}function Hn(i){i.memoizedState!==null&&pe(He,i);var r=xe.current,l=pb(r,i.type);r!==l&&(pe(Ae,i),pe(xe,l))}function wi(i){Ae.current===i&&(J(xe),J(Ae)),He.current===i&&(J(He),qu._currentValue=ee)}var Kn,Ei;function Wn(i){if(Kn===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Kn=r&&r[1]||"",Ei=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+i+Ei}var fs=!1;function ui(i,r){if(!i||fs)return"";fs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(me){var ue=me}Reflect.construct(i,[],Ee)}else{try{Ee.call()}catch(me){ue=me}i.call(Ee.prototype)}}else{try{throw Error()}catch(me){ue=me}(Ee=i())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(me){if(me&&ue&&typeof me.stack=="string")return[me.stack,ue.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),A=b[0],M=b[1];if(A&&M){var W=A.split(`
`),le=M.split(`
`);for(y=h=0;h<W.length&&!W[h].includes("DetermineComponentFrameRoot");)h++;for(;y<le.length&&!le[y].includes("DetermineComponentFrameRoot");)y++;if(h===W.length||y===le.length)for(h=W.length-1,y=le.length-1;1<=h&&0<=y&&W[h]!==le[y];)y--;for(;1<=h&&0<=y;h--,y--)if(W[h]!==le[y]){if(h!==1||y!==1)do if(h--,y--,0>y||W[h]!==le[y]){var ge=`
`+W[h].replace(" at new "," at ");return i.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",i.displayName)),ge}while(1<=h&&0<=y);break}}}finally{fs=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Wn(l):""}function ms(i,r){switch(i.tag){case 26:case 27:case 5:return Wn(i.type);case 16:return Wn("Lazy");case 13:return i.child!==r&&r!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return ui(i.type,!1);case 11:return ui(i.type.render,!1);case 1:return ui(i.type,!0);case 31:return Wn("Activity");default:return""}}function ps(i){try{var r="",l=null;do r+=ms(i,l),l=i,i=i.return;while(i);return r}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Zt=Object.prototype.hasOwnProperty,$t=n.unstable_scheduleCallback,Ti=n.unstable_cancelCallback,Da=n.unstable_shouldYield,qr=n.unstable_requestPaint,Cn=n.unstable_now,Us=n.unstable_getCurrentPriorityLevel,Bs=n.unstable_ImmediatePriority,hr=n.unstable_UserBlockingPriority,qi=n.unstable_NormalPriority,Zo=n.unstable_LowPriority,Fr=n.unstable_IdlePriority,Gr=n.log,ja=n.unstable_setDisableYieldValue,Qn=null,Wt=null;function Q(i){if(typeof Gr=="function"&&ja(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Qn,i)}catch{}}var Pe=Math.clz32?Math.clz32:nn,Je=Math.log,tt=Math.LN2;function nn(i){return i>>>=0,i===0?32:31-(Je(i)/tt|0)|0}var Dt=256,gs=262144,Qt=4194304;function ys(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _s(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~b,h!==0?y=ys(h):(A&=M,A!==0?y=ys(A):l||(l=M&~i,l!==0&&(y=ys(l))))):(M=h&~b,M!==0?y=ys(M):A!==0?y=ys(A):l||(l=h&~i,l!==0&&(y=ys(l)))),y===0?0:r!==0&&r!==y&&(r&b)===0&&(b=y&-y,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:y}function Fi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function cu(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var i=Qt;return Qt<<=1,(Qt&62914560)===0&&(Qt=4194304),i}function vs(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Hs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function uu(i,r,l,h,y,b){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,W=i.expirationTimes,le=i.hiddenUpdates;for(l=A&~l;0<l;){var ge=31-Pe(l),Ee=1<<ge;M[ge]=0,W[ge]=-1;var ue=le[ge];if(ue!==null)for(le[ge]=null,ge=0;ge<ue.length;ge++){var me=ue[ge];me!==null&&(me.lane&=-536870913)}l&=~Ee}h!==0&&Zr(i,h,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~r))}function Zr(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-Pe(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function $o(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-Pe(l),y=1<<h;y&r|i[h]&r&&(i[h]|=r),l&=~y}}function Yo(i,r){var l=r&-r;return l=(l&42)!==0?1:Mn(l),(l&(i.suspendedLanes|r))!==0?0:l}function Mn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ke(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ko(){var i=Se.p;return i!==0?i:(i=window.event,i===void 0?32:Vb(i.type))}function Si(i,r){var l=Se.p;try{return Se.p=i,r()}finally{Se.p=l}}var Ai=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Ai,sn="__reactProps$"+Ai,Gi="__reactContainer$"+Ai,Zi="__reactEvents$"+Ai,ec="__reactListeners$"+Ai,tc="__reactHandles$"+Ai,nc="__reactResources$"+Ai,bs="__reactMarker$"+Ai;function Va(i){delete i[Xt],delete i[sn],delete i[Zi],delete i[ec],delete i[tc]}function $i(i){var r=i[Xt];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Gi]||l[Xt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=wb(i);i!==null;){if(l=i[Xt])return l;i=wb(i)}return r}i=l,l=i.parentNode}return null}function Ci(i){if(i=i[Xt]||i[Gi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Ln(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function xs(i){var r=i[nc];return r||(r=i[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function rn(i){i[bs]=!0}var Wo=new Set,Qo={};function ws(i,r){Ni(i,r),Ni(i+"Capture",r)}function Ni(i,r){for(Qo[i]=r,i=0;i<r.length;i++)Wo.add(r[i])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),za={},Ua={};function dr(i){return Zt.call(Ua,i)?!0:Zt.call(za,i)?!1:qs.test(i)?Ua[i]=!0:(za[i]=!0,!1)}function rt(i,r,l){if(dr(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function at(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Bt(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}function Ht(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hi(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $r(i,r,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(A){l=""+A,b.call(this,A)}}),Object.defineProperty(i,r,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Le(i){if(!i._valueTracker){var r=hi(i)?"checked":"value";i._valueTracker=$r(i,r,""+i[r])}}function Nt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=hi(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function Ri(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Es=/[\n"\\]/g;function jt(i){return i.replace(Es,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ba(i,r,l,h,y,b,A,M){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ht(r)):i.value!==""+Ht(r)&&(i.value=""+Ht(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?Yi(i,A,Ht(r)):l!=null?Yi(i,A,Ht(l)):h!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Ht(M):i.removeAttribute("name")}function Yr(i,r,l,h,y,b,A,M){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){Le(i);return}l=l!=null?""+Ht(l):"",r=r!=null?""+Ht(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Le(i)}function Yi(i,r,l){r==="number"&&Ri(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Rt(i,r,l,h){if(i=i.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=r.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ht(l),r=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function Ts(i,r,l){if(r!=null&&(r=""+Ht(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+Ht(l):""}function Ii(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(Re(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=Ht(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Le(i)}function _n(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||Ha.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Kr(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in r)h=r[y],r.hasOwnProperty(y)&&l[y]!==h&&Fs(i,y,h)}else for(var b in r)r.hasOwnProperty(b)&&Fs(i,b,r[b])}function fr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(i){return Ss.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Xn(){}var qa=null;function Jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pr=null,qe=null;function On(i){var r=Ci(i);if(r&&(i=r.stateNode)){var l=i[sn]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ba(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+jt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var y=h[sn]||null;if(!y)throw Error(s(90));Ba(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Nt(h)}break e;case"textarea":Ts(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Rt(i,!!l.multiple,r,!1)}}}var vt=!1;function Gs(i,r,l){if(vt)return i(r,l);vt=!0;try{var h=i(r);return h}finally{if(vt=!1,(pr!==null||qe!==null)&&(Cd(),pr&&(r=pr,i=qe,qe=pr=null,On(r),i)))for(r=0;r<i.length;r++)On(i[r])}}function di(i,r){var l=i.stateNode;if(l===null)return null;var h=l[sn]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(ei)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Zs=!1}var Pi=null,$s=null,qt=null;function Ki(){if(qt)return qt;var i,r=$s,l=r.length,h,y="value"in Pi?Pi.value:Pi.textContent,b=y.length;for(i=0;i<l&&r[i]===y[i];i++);var A=l-i;for(h=1;h<=A&&r[l-h]===y[b-h];h++);return qt=y.slice(i,1<h?1-h:void 0)}function gr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function As(){return!0}function Wi(){return!1}function vn(i){function r(l,h,y,b,A){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(b):b[M]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?As:Wi,this.isPropagationStopped=Wi,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),r}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=vn(Qi),Ys=E({},Qi,{view:0,detail:0}),st=vn(Ys),yr,kn,ti,Qr=E({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ti&&(ti&&i.type==="mousemove"?(yr=i.screenX-ti.screenX,kn=i.screenY-ti.screenY):kn=yr=0,ti=i),yr)},movementY:function(i){return"movementY"in i?i.movementY:kn}}),Xo=vn(Qr),Ks=E({},Qr,{dataTransfer:0}),ic=vn(Ks),Jo=E({},Ys,{relatedTarget:0}),Xr=vn(Jo),el=E({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=vn(el),Ga=E({},Qi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fi=vn(Ga),sc=E({},Qi,{data:0}),Xi=vn(sc),Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=nl[i])?!!r[i]:!1}function _r(){return Za}var Dn=E({},Ys,{key:function(i){if(i.key){var r=Ji[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=gr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(i){return i.type==="keypress"?gr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),il=vn(Dn),rc=E({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=vn(rc),m=E({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),T=vn(m),C=E({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=vn(C),re=E({},Qr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),he=vn(re),Ne=E({},Qi,{newState:0,oldState:0}),Ye=vn(Ne),gt=[9,13,27,32],yt=ei&&"CompositionEvent"in window,Vt=null;ei&&"documentMode"in document&&(Vt=document.documentMode);var Mi=ei&&"TextEvent"in window&&!Vt,Li=ei&&(!yt||Vt&&8<Vt&&11>=Vt),mi=" ",es=!1;function Jr(i,r){switch(i){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $a=!1;function ts(i,r){switch(i){case"compositionend":return ea(r);case"keypress":return r.which!==32?null:(es=!0,mi);case"textInput":return i=r.data,i===mi&&es?null:i;default:return null}}function Ya(i,r){if($a)return i==="compositionend"||!yt&&Jr(i,r)?(i=Ki(),qt=$s=Pi=null,$a=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Li&&r.locale!=="ko"?null:r.data;default:return null}}var Im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ns(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Im[i.type]:r==="textarea"}function Fh(i,r,l,h){pr?qe?qe.push(h):qe=[h]:pr=h,r=Od(r,"onChange"),0<r.length&&(l=new Cs("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Rs=null,sl=null;function rl(i){lb(i,0)}function al(i){var r=Ln(i);if(Nt(r))return i}function ol(i,r){if(i==="change")return r}var Gh=!1;if(ei){var Is;if(ei){var Ka="oninput"in document;if(!Ka){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),Ka=typeof Zh.oninput=="function"}Is=Ka}else Is=!1;Gh=Is&&(!document.documentMode||9<document.documentMode)}function ac(){Rs&&(Rs.detachEvent("onpropertychange",$h),sl=Rs=null)}function $h(i){if(i.propertyName==="value"&&al(sl)){var r=[];Fh(r,sl,i,Jn(i)),Gs(rl,r)}}function Qs(i,r,l){i==="focusin"?(ac(),Rs=r,sl=l,Rs.attachEvent("onpropertychange",$h)):i==="focusout"&&ac()}function Pm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return al(sl)}function Wa(i,r){if(i==="click")return al(r)}function Mm(i,r){if(i==="input"||i==="change")return al(r)}function Xs(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var jn=typeof Object.is=="function"?Object.is:Xs;function Qa(i,r){if(jn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!Zt.call(r,y)||!jn(i[y],r[y]))return!1}return!0}function oc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ll(i,r){var l=oc(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=oc(l)}}function lc(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?lc(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function cl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ri(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Ri(i.document)}return r}function vr(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var cc=ei&&"documentMode"in document&&11>=document.documentMode,br=null,uc=null,ul=null,Xa=!1;function Yh(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xa||br==null||br!==Ri(h)||(h=br,"selectionStart"in h&&vr(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ul&&Qa(ul,h)||(ul=h,h=Od(uc,"onSelect"),0<h.length&&(r=new Cs("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=br)))}function xr(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var Ja={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},hc={},Kh={};ei&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Vn(i){if(hc[i])return hc[i];if(!Ja[i])return i;var r=Ja[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Kh)return hc[i]=r[l];return i}var hl=Vn("animationend"),Wh=Vn("animationiteration"),dl=Vn("animationstart"),Lm=Vn("transitionrun"),Qh=Vn("transitionstart"),Om=Vn("transitioncancel"),eo=Vn("transitionend"),Xh=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wr.push("scrollEnd");function Oi(i,r){Xh.set(i,r),ws(r,[i])}var fl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ki=[],ni=0,dc=0;function ml(){for(var i=ni,r=dc=ni=0;r<i;){var l=ki[r];ki[r++]=null;var h=ki[r];ki[r++]=null;var y=ki[r];ki[r++]=null;var b=ki[r];if(ki[r++]=null,h!==null&&y!==null){var A=h.pending;A===null?y.next=y:(y.next=A.next,A.next=y),h.pending=y}b!==0&&to(l,y,b)}}function Er(i,r,l,h){ki[ni++]=i,ki[ni++]=r,ki[ni++]=l,ki[ni++]=h,dc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function hu(i,r,l,h){return Er(i,r,l,h),pl(i)}function Ps(i,r){return Er(i,null,null,r),pl(i)}function to(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,b=i.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&r!==null&&(y=31-Pe(l),i=b.hiddenUpdates,h=i[y],h===null?i[y]=[r]:h.push(r),r.lane=l|536870912),b):null}function pl(i){if(50<Du)throw Du=0,Dp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ta={};function km(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(i,r,l,h){return new km(i,r,l,h)}function fc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ms(i,r){var l=i.alternate;return l===null?(l=ii(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function du(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function gl(i,r,l,h,y,b){var A=0;if(h=i,typeof i=="function")fc(i)&&(A=1);else if(typeof i=="string")A=rA(i,l,xe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Z:return i=ii(31,l,r,y),i.elementType=Z,i.lanes=b,i;case U:return na(l.children,y,b,r);case k:A=8,y|=24;break;case O:return i=ii(12,l,r,y|2),i.elementType=O,i.lanes=b,i;case ne:return i=ii(13,l,r,y),i.elementType=ne,i.lanes=b,i;case ye:return i=ii(19,l,r,y),i.elementType=ye,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:A=10;break e;case B:A=9;break e;case te:A=11;break e;case q:A=14;break e;case I:A=16,h=null;break e}A=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=ii(A,l,r,y),r.elementType=i,r.type=h,r.lanes=b,r}function na(i,r,l,h){return i=ii(7,i,h,r),i.lanes=l,i}function mc(i,r,l){return i=ii(6,i,null,r),i.lanes=l,i}function fu(i){var r=ii(18,null,null,0);return r.stateNode=i,r}function mu(i,r,l){return r=ii(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a=new WeakMap;function u(i,r){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(r={value:i,source:r,stack:ps(r)},a.set(i,r),r)}return{value:i,source:r,stack:ps(r)}}var g=[],x=0,S=null,P=0,K=[],se=0,ce=null,we=1,Ie="";function ze(i,r){g[x++]=P,g[x++]=S,S=i,P=r}function nt(i,r,l){K[se++]=we,K[se++]=Ie,K[se++]=ce,ce=i;var h=we;i=Ie;var y=32-Pe(h)-1;h&=~(1<<y),l+=1;var b=32-Pe(r)+y;if(30<b){var A=y-y%5;b=(h&(1<<A)-1).toString(32),h>>=A,y-=A,we=1<<32-Pe(r)+y|l<<y|h,Ie=b+i}else we=1<<b|l<<y|h,Ie=i}function Nn(i){i.return!==null&&(ze(i,1),nt(i,1,0))}function an(i){for(;i===S;)S=g[--x],g[x]=null,P=g[--x],g[x]=null;for(;i===ce;)ce=K[--se],K[se]=null,Ie=K[--se],K[se]=null,we=K[--se],K[se]=null}function pi(i,r){K[se++]=we,K[se++]=Ie,K[se++]=ce,we=r.id,Ie=r.overflow,ce=i}var bt=null,xt=null,ot=!1,Tr=null,Di=!1,pc=Error(s(519));function Sr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(u(r,i)),pc}function pu(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[Xt]=i,r[sn]=h,l){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(l=0;l<Vu.length;l++)ct(Vu[l],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":ct("invalid",r),Yr(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ct("invalid",r);break;case"textarea":ct("invalid",r),Ii(r,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||db(r.textContent,l)?(h.popover!=null&&(ct("beforetoggle",r),ct("toggle",r)),h.onScroll!=null&&ct("scroll",r),h.onScrollEnd!=null&&ct("scrollend",r),h.onClick!=null&&(r.onclick=Xn),r=!0):r=!1,r||Sr(i,!0)}function Jt(i){for(bt=i.return;bt;)switch(bt.tag){case 5:case 31:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:bt=bt.return}}function Js(i){if(i!==bt)return!1;if(!ot)return Jt(i),ot=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Qp(i.type,i.memoizedProps)),l=!l),l&&xt&&Sr(i),Jt(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=xb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));xt=xb(i)}else r===27?(r=xt,go(i.type)?(i=ng,ng=null,xt=i):xt=r):xt=bt?Os(i.stateNode.nextSibling):null;return!0}function ia(){xt=bt=null,ot=!1}function gu(){var i=Tr;return i!==null&&(Ui===null?Ui=i:Ui.push.apply(Ui,i),Tr=null),i}function yl(i){Tr===null?Tr=[i]:Tr.push(i)}var _l=D(null),Ar=null,er=null;function no(i,r,l){pe(_l,r._currentValue),r._currentValue=l}function sa(i){i._currentValue=_l.current,J(_l)}function Dm(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function jm(i,r,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;e:for(;b!==null;){var M=b;b=y;for(var W=0;W<r.length;W++)if(M.context===r[W]){b.lanes|=l,M=b.alternate,M!==null&&(M.lanes|=l),Dm(b.return,l,i),h||(A=null);break e}b=M.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(s(341));A.lanes|=l,b=A.alternate,b!==null&&(b.lanes|=l),Dm(A,l,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function gc(i,r,l,h){i=null;for(var y=r,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var M=y.type;jn(y.pendingProps.value,A.value)||(i!==null?i.push(M):i=[M])}}else if(y===He.current){if(A=y.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(qu):i=[qu])}y=y.return}i!==null&&jm(r,i,l,h),r.flags|=262144}function Jh(i){for(i=i.firstContext;i!==null;){if(!jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function vl(i){Ar=i,er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function qn(i){return Q_(Ar,i)}function ed(i,r){return Ar===null&&vl(i),Q_(i,r)}function Q_(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},er===null){if(i===null)throw Error(s(308));er=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else er=er.next=r;return l}var t2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},n2=n.unstable_scheduleCallback,i2=n.unstable_NormalPriority,bn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new t2,data:new Map,refCount:0}}function yu(i){i.refCount--,i.refCount===0&&n2(i2,function(){i.controller.abort()})}var _u=null,zm=0,yc=0,_c=null;function s2(i,r){if(_u===null){var l=_u=[];zm=0,yc=Hp(),_c={status:"pending",value:void 0,then:function(h){l.push(h)}}}return zm++,r.then(X_,X_),r}function X_(){if(--zm===0&&_u!==null){_c!==null&&(_c.status="fulfilled");var i=_u;_u=null,yc=0,_c=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function r2(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var J_=ae.S;ae.S=function(i,r){D0=Cn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&s2(i,r),J_!==null&&J_(i,r)};var bl=D(null);function Um(){var i=bl.current;return i!==null?i:zt.pooledCache}function td(i,r){r===null?pe(bl,bl.current):pe(bl,r.pool)}function ev(){var i=Um();return i===null?null:{parent:bn._currentValue,pool:i}}var vc=Error(s(460)),Bm=Error(s(474)),nd=Error(s(542)),id={then:function(){}};function tv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function nv(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Xn,Xn),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,sv(i),i;default:if(typeof r.status=="string")r.then(Xn,Xn);else{if(i=zt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=h}},function(h){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,sv(i),i}throw wl=r,vc}}function xl(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(wl=l,vc):l}}var wl=null;function iv(){if(wl===null)throw Error(s(459));var i=wl;return wl=null,i}function sv(i){if(i===vc||i===nd)throw Error(s(483))}var bc=null,vu=0;function sd(i){var r=vu;return vu+=1,bc===null&&(bc=[]),nv(bc,i,r)}function bu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function rd(i,r){throw r.$$typeof===N?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function rv(i){function r(ie,X){if(i){var oe=ie.deletions;oe===null?(ie.deletions=[X],ie.flags|=16):oe.push(X)}}function l(ie,X){if(!i)return null;for(;X!==null;)r(ie,X),X=X.sibling;return null}function h(ie){for(var X=new Map;ie!==null;)ie.key!==null?X.set(ie.key,ie):X.set(ie.index,ie),ie=ie.sibling;return X}function y(ie,X){return ie=Ms(ie,X),ie.index=0,ie.sibling=null,ie}function b(ie,X,oe){return ie.index=oe,i?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<X?(ie.flags|=67108866,X):oe):(ie.flags|=67108866,X)):(ie.flags|=1048576,X)}function A(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function M(ie,X,oe,ve){return X===null||X.tag!==6?(X=mc(oe,ie.mode,ve),X.return=ie,X):(X=y(X,oe),X.return=ie,X)}function W(ie,X,oe,ve){var Ue=oe.type;return Ue===U?ge(ie,X,oe.props.children,ve,oe.key):X!==null&&(X.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===I&&xl(Ue)===X.type)?(X=y(X,oe.props),bu(X,oe),X.return=ie,X):(X=gl(oe.type,oe.key,oe.props,null,ie.mode,ve),bu(X,oe),X.return=ie,X)}function le(ie,X,oe,ve){return X===null||X.tag!==4||X.stateNode.containerInfo!==oe.containerInfo||X.stateNode.implementation!==oe.implementation?(X=mu(oe,ie.mode,ve),X.return=ie,X):(X=y(X,oe.children||[]),X.return=ie,X)}function ge(ie,X,oe,ve,Ue){return X===null||X.tag!==7?(X=na(oe,ie.mode,ve,Ue),X.return=ie,X):(X=y(X,oe),X.return=ie,X)}function Ee(ie,X,oe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=mc(""+X,ie.mode,oe),X.return=ie,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return oe=gl(X.type,X.key,X.props,null,ie.mode,oe),bu(oe,X),oe.return=ie,oe;case j:return X=mu(X,ie.mode,oe),X.return=ie,X;case I:return X=xl(X),Ee(ie,X,oe)}if(Re(X)||Y(X))return X=na(X,ie.mode,oe,null),X.return=ie,X;if(typeof X.then=="function")return Ee(ie,sd(X),oe);if(X.$$typeof===$)return Ee(ie,ed(ie,X),oe);rd(ie,X)}return null}function ue(ie,X,oe,ve){var Ue=X!==null?X.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ue!==null?null:M(ie,X,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return oe.key===Ue?W(ie,X,oe,ve):null;case j:return oe.key===Ue?le(ie,X,oe,ve):null;case I:return oe=xl(oe),ue(ie,X,oe,ve)}if(Re(oe)||Y(oe))return Ue!==null?null:ge(ie,X,oe,ve,null);if(typeof oe.then=="function")return ue(ie,X,sd(oe),ve);if(oe.$$typeof===$)return ue(ie,X,ed(ie,oe),ve);rd(ie,oe)}return null}function me(ie,X,oe,ve,Ue){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ie=ie.get(oe)||null,M(X,ie,""+ve,Ue);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case R:return ie=ie.get(ve.key===null?oe:ve.key)||null,W(X,ie,ve,Ue);case j:return ie=ie.get(ve.key===null?oe:ve.key)||null,le(X,ie,ve,Ue);case I:return ve=xl(ve),me(ie,X,oe,ve,Ue)}if(Re(ve)||Y(ve))return ie=ie.get(oe)||null,ge(X,ie,ve,Ue,null);if(typeof ve.then=="function")return me(ie,X,oe,sd(ve),Ue);if(ve.$$typeof===$)return me(ie,X,oe,ed(X,ve),Ue);rd(X,ve)}return null}function De(ie,X,oe,ve){for(var Ue=null,wt=null,je=X,it=X=0,dt=null;je!==null&&it<oe.length;it++){je.index>it?(dt=je,je=null):dt=je.sibling;var Et=ue(ie,je,oe[it],ve);if(Et===null){je===null&&(je=dt);break}i&&je&&Et.alternate===null&&r(ie,je),X=b(Et,X,it),wt===null?Ue=Et:wt.sibling=Et,wt=Et,je=dt}if(it===oe.length)return l(ie,je),ot&&ze(ie,it),Ue;if(je===null){for(;it<oe.length;it++)je=Ee(ie,oe[it],ve),je!==null&&(X=b(je,X,it),wt===null?Ue=je:wt.sibling=je,wt=je);return ot&&ze(ie,it),Ue}for(je=h(je);it<oe.length;it++)dt=me(je,ie,it,oe[it],ve),dt!==null&&(i&&dt.alternate!==null&&je.delete(dt.key===null?it:dt.key),X=b(dt,X,it),wt===null?Ue=dt:wt.sibling=dt,wt=dt);return i&&je.forEach(function(xo){return r(ie,xo)}),ot&&ze(ie,it),Ue}function Ge(ie,X,oe,ve){if(oe==null)throw Error(s(151));for(var Ue=null,wt=null,je=X,it=X=0,dt=null,Et=oe.next();je!==null&&!Et.done;it++,Et=oe.next()){je.index>it?(dt=je,je=null):dt=je.sibling;var xo=ue(ie,je,Et.value,ve);if(xo===null){je===null&&(je=dt);break}i&&je&&xo.alternate===null&&r(ie,je),X=b(xo,X,it),wt===null?Ue=xo:wt.sibling=xo,wt=xo,je=dt}if(Et.done)return l(ie,je),ot&&ze(ie,it),Ue;if(je===null){for(;!Et.done;it++,Et=oe.next())Et=Ee(ie,Et.value,ve),Et!==null&&(X=b(Et,X,it),wt===null?Ue=Et:wt.sibling=Et,wt=Et);return ot&&ze(ie,it),Ue}for(je=h(je);!Et.done;it++,Et=oe.next())Et=me(je,ie,it,Et.value,ve),Et!==null&&(i&&Et.alternate!==null&&je.delete(Et.key===null?it:Et.key),X=b(Et,X,it),wt===null?Ue=Et:wt.sibling=Et,wt=Et);return i&&je.forEach(function(gA){return r(ie,gA)}),ot&&ze(ie,it),Ue}function Ot(ie,X,oe,ve){if(typeof oe=="object"&&oe!==null&&oe.type===U&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:e:{for(var Ue=oe.key;X!==null;){if(X.key===Ue){if(Ue=oe.type,Ue===U){if(X.tag===7){l(ie,X.sibling),ve=y(X,oe.props.children),ve.return=ie,ie=ve;break e}}else if(X.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===I&&xl(Ue)===X.type){l(ie,X.sibling),ve=y(X,oe.props),bu(ve,oe),ve.return=ie,ie=ve;break e}l(ie,X);break}else r(ie,X);X=X.sibling}oe.type===U?(ve=na(oe.props.children,ie.mode,ve,oe.key),ve.return=ie,ie=ve):(ve=gl(oe.type,oe.key,oe.props,null,ie.mode,ve),bu(ve,oe),ve.return=ie,ie=ve)}return A(ie);case j:e:{for(Ue=oe.key;X!==null;){if(X.key===Ue)if(X.tag===4&&X.stateNode.containerInfo===oe.containerInfo&&X.stateNode.implementation===oe.implementation){l(ie,X.sibling),ve=y(X,oe.children||[]),ve.return=ie,ie=ve;break e}else{l(ie,X);break}else r(ie,X);X=X.sibling}ve=mu(oe,ie.mode,ve),ve.return=ie,ie=ve}return A(ie);case I:return oe=xl(oe),Ot(ie,X,oe,ve)}if(Re(oe))return De(ie,X,oe,ve);if(Y(oe)){if(Ue=Y(oe),typeof Ue!="function")throw Error(s(150));return oe=Ue.call(oe),Ge(ie,X,oe,ve)}if(typeof oe.then=="function")return Ot(ie,X,sd(oe),ve);if(oe.$$typeof===$)return Ot(ie,X,ed(ie,oe),ve);rd(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,X!==null&&X.tag===6?(l(ie,X.sibling),ve=y(X,oe),ve.return=ie,ie=ve):(l(ie,X),ve=mc(oe,ie.mode,ve),ve.return=ie,ie=ve),A(ie)):l(ie,X)}return function(ie,X,oe,ve){try{vu=0;var Ue=Ot(ie,X,oe,ve);return bc=null,Ue}catch(je){if(je===vc||je===nd)throw je;var wt=ii(29,je,null,ie.mode);return wt.lanes=ve,wt.return=ie,wt}}}var El=rv(!0),av=rv(!1),io=!1;function Hm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function so(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ro(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Tt&2)!==0){var y=h.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),h.pending=r,r=pl(i),to(i,null,l),r}return Er(i,h,r,l),pl(i)}function xu(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,$o(i,l)}}function Fm(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,l=l.next}while(l!==null);b===null?y=b=r:b=b.next=r}else y=b=r;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Gm=!1;function wu(){if(Gm){var i=_c;if(i!==null)throw i}}function Eu(i,r,l,h){Gm=!1;var y=i.updateQueue;io=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var W=M,le=W.next;W.next=null,A===null?b=le:A.next=le,A=W;var ge=i.alternate;ge!==null&&(ge=ge.updateQueue,M=ge.lastBaseUpdate,M!==A&&(M===null?ge.firstBaseUpdate=le:M.next=le,ge.lastBaseUpdate=W))}if(b!==null){var Ee=y.baseState;A=0,ge=le=W=null,M=b;do{var ue=M.lane&-536870913,me=ue!==M.lane;if(me?(ht&ue)===ue:(h&ue)===ue){ue!==0&&ue===yc&&(Gm=!0),ge!==null&&(ge=ge.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var De=i,Ge=M;ue=r;var Ot=l;switch(Ge.tag){case 1:if(De=Ge.payload,typeof De=="function"){Ee=De.call(Ot,Ee,ue);break e}Ee=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ge.payload,ue=typeof De=="function"?De.call(Ot,Ee,ue):De,ue==null)break e;Ee=E({},Ee,ue);break e;case 2:io=!0}}ue=M.callback,ue!==null&&(i.flags|=64,me&&(i.flags|=8192),me=y.callbacks,me===null?y.callbacks=[ue]:me.push(ue))}else me={lane:ue,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ge===null?(le=ge=me,W=Ee):ge=ge.next=me,A|=ue;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;me=M,M=me.next,me.next=null,y.lastBaseUpdate=me,y.shared.pending=null}}while(!0);ge===null&&(W=Ee),y.baseState=W,y.firstBaseUpdate=le,y.lastBaseUpdate=ge,b===null&&(y.shared.lanes=0),uo|=A,i.lanes=A,i.memoizedState=Ee}}function ov(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function lv(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ov(l[i],r)}var xc=D(null),ad=D(0);function cv(i,r){i=fa,pe(ad,i),pe(xc,r),fa=i|r.baseLanes}function Zm(){pe(ad,fa),pe(xc,xc.current)}function $m(){fa=ad.current,J(xc),J(ad)}var ns=D(null),Ls=null;function ao(i){var r=i.alternate;pe(mn,mn.current&1),pe(ns,i),Ls===null&&(r===null||xc.current!==null||r.memoizedState!==null)&&(Ls=i)}function Ym(i){pe(mn,mn.current),pe(ns,i),Ls===null&&(Ls=i)}function uv(i){i.tag===22?(pe(mn,mn.current),pe(ns,i),Ls===null&&(Ls=i)):oo()}function oo(){pe(mn,mn.current),pe(ns,ns.current)}function is(i){J(ns),Ls===i&&(Ls=null),J(mn)}var mn=D(0);function od(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||eg(l)||tg(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ra=0,et=null,Mt=null,xn=null,ld=!1,wc=!1,Tl=!1,cd=0,Tu=0,Ec=null,a2=0;function on(){throw Error(s(321))}function Km(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!jn(i[l],r[l]))return!1;return!0}function Wm(i,r,l,h,y,b){return ra=b,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ae.H=i===null||i.memoizedState===null?$v:hp,Tl=!1,b=l(h,y),Tl=!1,wc&&(b=dv(r,l,h,y)),hv(i),b}function hv(i){ae.H=Cu;var r=Mt!==null&&Mt.next!==null;if(ra=0,xn=Mt=et=null,ld=!1,Tu=0,Ec=null,r)throw Error(s(300));i===null||wn||(i=i.dependencies,i!==null&&Jh(i)&&(wn=!0))}function dv(i,r,l,h){et=i;var y=0;do{if(wc&&(Ec=null),Tu=0,wc=!1,25<=y)throw Error(s(301));if(y+=1,xn=Mt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ae.H=Yv,b=r(l,h)}while(wc);return b}function o2(){var i=ae.H,r=i.useState()[0];return r=typeof r.then=="function"?Su(r):r,i=i.useState()[0],(Mt!==null?Mt.memoizedState:null)!==i&&(et.flags|=1024),r}function Qm(){var i=cd!==0;return cd=0,i}function Xm(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Jm(i){if(ld){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ld=!1}ra=0,xn=Mt=et=null,wc=!1,Tu=cd=0,Ec=null}function gi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?et.memoizedState=xn=i:xn=xn.next=i,xn}function pn(){if(Mt===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var r=xn===null?et.memoizedState:xn.next;if(r!==null)xn=r,Mt=i;else{if(i===null)throw et.alternate===null?Error(s(467)):Error(s(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},xn===null?et.memoizedState=xn=i:xn=xn.next=i}return xn}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(i){var r=Tu;return Tu+=1,Ec===null&&(Ec=[]),i=nv(Ec,i,r),r=et,(xn===null?r.memoizedState:xn.next)===null&&(r=r.alternate,ae.H=r===null||r.memoizedState===null?$v:hp),i}function hd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Su(i);if(i.$$typeof===$)return qn(i)}throw Error(s(438,String(i)))}function ep(i){var r=null,l=et.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=ud(),et.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=G;return r.index++,l}function aa(i,r){return typeof r=="function"?r(i):r}function dd(i){var r=pn();return tp(r,Mt,i)}function tp(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var y=i.baseQueue,b=h.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}r.baseQueue=y=b,h.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{r=y.next;var M=A=null,W=null,le=r,ge=!1;do{var Ee=le.lane&-536870913;if(Ee!==le.lane?(ht&Ee)===Ee:(ra&Ee)===Ee){var ue=le.revertLane;if(ue===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ee===yc&&(ge=!0);else if((ra&ue)===ue){le=le.next,ue===yc&&(ge=!0);continue}else Ee={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(M=W=Ee,A=b):W=W.next=Ee,et.lanes|=ue,uo|=ue;Ee=le.action,Tl&&l(b,Ee),b=le.hasEagerState?le.eagerState:l(b,Ee)}else ue={lane:Ee,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(M=W=ue,A=b):W=W.next=ue,et.lanes|=Ee,uo|=Ee;le=le.next}while(le!==null&&le!==r);if(W===null?A=b:W.next=M,!jn(b,i.memoizedState)&&(wn=!0,ge&&(l=_c,l!==null)))throw l;i.memoizedState=b,i.baseState=A,i.baseQueue=W,h.lastRenderedState=b}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function np(i){var r=pn(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,b=r.memoizedState;if(y!==null){l.pending=null;var A=y=y.next;do b=i(b,A.action),A=A.next;while(A!==y);jn(b,r.memoizedState)||(wn=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,h]}function fv(i,r,l){var h=et,y=pn(),b=ot;if(b){if(l===void 0)throw Error(s(407));l=l()}else l=r();var A=!jn((Mt||y).memoizedState,l);if(A&&(y.memoizedState=l,wn=!0),y=y.queue,rp(gv.bind(null,h,y,i),[i]),y.getSnapshot!==r||A||xn!==null&&xn.memoizedState.tag&1){if(h.flags|=2048,Tc(9,{destroy:void 0},pv.bind(null,h,y,l,r),null),zt===null)throw Error(s(349));b||(ra&127)!==0||mv(h,r,l)}return l}function mv(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=et.updateQueue,r===null?(r=ud(),et.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function pv(i,r,l,h){r.value=l,r.getSnapshot=h,yv(r)&&_v(i)}function gv(i,r,l){return l(function(){yv(r)&&_v(i)})}function yv(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!jn(i,l)}catch{return!0}}function _v(i){var r=Ps(i,2);r!==null&&Bi(r,i,2)}function ip(i){var r=gi();if(typeof i=="function"){var l=i;if(i=l(),Tl){Q(!0);try{l()}finally{Q(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:i},r}function vv(i,r,l,h){return i.baseState=l,tp(i,Mt,typeof h=="function"?h:aa)}function l2(i,r,l,h,y){if(pd(i))throw Error(s(485));if(i=r.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};ae.T!==null?l(!0):b.isTransition=!1,h(b),l=r.pending,l===null?(b.next=r.pending=b,bv(r,b)):(b.next=l.next,r.pending=l.next=b)}}function bv(i,r){var l=r.action,h=r.payload,y=i.state;if(r.isTransition){var b=ae.T,A={};ae.T=A;try{var M=l(y,h),W=ae.S;W!==null&&W(A,M),xv(i,r,M)}catch(le){sp(i,r,le)}finally{b!==null&&A.types!==null&&(b.types=A.types),ae.T=b}}else try{b=l(y,h),xv(i,r,b)}catch(le){sp(i,r,le)}}function xv(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){wv(i,r,h)},function(h){return sp(i,r,h)}):wv(i,r,l)}function wv(i,r,l){r.status="fulfilled",r.value=l,Ev(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,bv(i,l)))}function sp(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,Ev(r),r=r.next;while(r!==h)}i.action=null}function Ev(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Tv(i,r){return r}function Sv(i,r){if(ot){var l=zt.formState;if(l!==null){e:{var h=et;if(ot){if(xt){t:{for(var y=xt,b=Di;y.nodeType!==8;){if(!b){y=null;break t}if(y=Os(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){xt=Os(y.nextSibling),h=y.data==="F!";break e}}Sr(h)}h=!1}h&&(r=l[0])}}return l=gi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:r},l.queue=h,l=Fv.bind(null,et,h),h.dispatch=l,h=ip(!1),b=up.bind(null,et,!1,h.queue),h=gi(),y={state:r,dispatch:null,action:i,pending:null},h.queue=y,l=l2.bind(null,et,y,b,l),y.dispatch=l,h.memoizedState=i,[r,l,!1]}function Av(i){var r=pn();return Cv(r,Mt,i)}function Cv(i,r,l){if(r=tp(i,r,Tv)[0],i=dd(aa)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=Su(r)}catch(A){throw A===vc?nd:A}else h=r;r=pn();var y=r.queue,b=y.dispatch;return l!==r.memoizedState&&(et.flags|=2048,Tc(9,{destroy:void 0},c2.bind(null,y,l),null)),[h,b,i]}function c2(i,r){i.action=r}function Nv(i){var r=pn(),l=Mt;if(l!==null)return Cv(r,l,i);pn(),r=r.memoizedState,l=pn();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function Tc(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=et.updateQueue,r===null&&(r=ud(),et.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function Rv(){return pn().memoizedState}function fd(i,r,l,h){var y=gi();et.flags|=i,y.memoizedState=Tc(1|r,{destroy:void 0},l,h===void 0?null:h)}function md(i,r,l,h){var y=pn();h=h===void 0?null:h;var b=y.memoizedState.inst;Mt!==null&&h!==null&&Km(h,Mt.memoizedState.deps)?y.memoizedState=Tc(r,b,l,h):(et.flags|=i,y.memoizedState=Tc(1|r,b,l,h))}function Iv(i,r){fd(8390656,8,i,r)}function rp(i,r){md(2048,8,i,r)}function u2(i){et.flags|=4;var r=et.updateQueue;if(r===null)r=ud(),et.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function Pv(i){var r=pn().memoizedState;return u2({ref:r,nextImpl:i}),function(){if((Tt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Mv(i,r){return md(4,2,i,r)}function Lv(i,r){return md(4,4,i,r)}function Ov(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function kv(i,r,l){l=l!=null?l.concat([i]):null,md(4,4,Ov.bind(null,r,i),l)}function ap(){}function Dv(i,r){var l=pn();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Km(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function jv(i,r){var l=pn();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Km(r,h[1]))return h[0];if(h=i(),Tl){Q(!0);try{i()}finally{Q(!1)}}return l.memoizedState=[h,r],h}function op(i,r,l){return l===void 0||(ra&1073741824)!==0&&(ht&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=V0(),et.lanes|=i,uo|=i,l)}function Vv(i,r,l,h){return jn(l,r)?l:xc.current!==null?(i=op(i,l,h),jn(i,r)||(wn=!0),i):(ra&42)===0||(ra&1073741824)!==0&&(ht&261930)===0?(wn=!0,i.memoizedState=l):(i=V0(),et.lanes|=i,uo|=i,r)}function zv(i,r,l,h,y){var b=Se.p;Se.p=b!==0&&8>b?b:8;var A=ae.T,M={};ae.T=M,up(i,!1,r,l);try{var W=y(),le=ae.S;if(le!==null&&le(M,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ge=r2(W,h);Au(i,r,ge,as(i))}else Au(i,r,h,as(i))}catch(Ee){Au(i,r,{then:function(){},status:"rejected",reason:Ee},as())}finally{Se.p=b,A!==null&&M.types!==null&&(A.types=M.types),ae.T=A}}function h2(){}function lp(i,r,l,h){if(i.tag!==5)throw Error(s(476));var y=Uv(i).queue;zv(i,y,r,ee,l===null?h2:function(){return Bv(i),l(h)})}function Uv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:ee},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Bv(i){var r=Uv(i);r.next===null&&(r=i.alternate.memoizedState),Au(i,r.next.queue,{},as())}function cp(){return qn(qu)}function Hv(){return pn().memoizedState}function qv(){return pn().memoizedState}function d2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=as();i=so(l);var h=ro(r,i,l);h!==null&&(Bi(h,r,l),xu(h,r,l)),r={cache:Vm()},i.payload=r;return}r=r.return}}function f2(i,r,l){var h=as();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pd(i)?Gv(r,l):(l=hu(i,r,l,h),l!==null&&(Bi(l,i,h),Zv(l,r,h)))}function Fv(i,r,l){var h=as();Au(i,r,l,h)}function Au(i,r,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(pd(i))Gv(r,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var A=r.lastRenderedState,M=b(A,l);if(y.hasEagerState=!0,y.eagerState=M,jn(M,A))return Er(i,r,y,0),zt===null&&ml(),!1}catch{}if(l=hu(i,r,y,h),l!==null)return Bi(l,i,h),Zv(l,r,h),!0}return!1}function up(i,r,l,h){if(h={lane:2,revertLane:Hp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},pd(i)){if(r)throw Error(s(479))}else r=hu(i,l,h,2),r!==null&&Bi(r,i,2)}function pd(i){var r=i.alternate;return i===et||r!==null&&r===et}function Gv(i,r){wc=ld=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function Zv(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,$o(i,l)}}var Cu={readContext:qn,use:hd,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};Cu.useEffectEvent=on;var $v={readContext:qn,use:hd,useCallback:function(i,r){return gi().memoizedState=[i,r===void 0?null:r],i},useContext:qn,useEffect:Iv,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,fd(4194308,4,Ov.bind(null,r,i),l)},useLayoutEffect:function(i,r){return fd(4194308,4,i,r)},useInsertionEffect:function(i,r){fd(4,2,i,r)},useMemo:function(i,r){var l=gi();r=r===void 0?null:r;var h=i();if(Tl){Q(!0);try{i()}finally{Q(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=gi();if(l!==void 0){var y=l(r);if(Tl){Q(!0);try{l(r)}finally{Q(!1)}}}else y=r;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=f2.bind(null,et,i),[h.memoizedState,i]},useRef:function(i){var r=gi();return i={current:i},r.memoizedState=i},useState:function(i){i=ip(i);var r=i.queue,l=Fv.bind(null,et,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:ap,useDeferredValue:function(i,r){var l=gi();return op(l,i,r)},useTransition:function(){var i=ip(!1);return i=zv.bind(null,et,i.queue,!0,!1),gi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=et,y=gi();if(ot){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),zt===null)throw Error(s(349));(ht&127)!==0||mv(h,r,l)}y.memoizedState=l;var b={value:l,getSnapshot:r};return y.queue=b,Iv(gv.bind(null,h,b,i),[i]),h.flags|=2048,Tc(9,{destroy:void 0},pv.bind(null,h,b,l,r),null),l},useId:function(){var i=gi(),r=zt.identifierPrefix;if(ot){var l=Ie,h=we;l=(h&~(1<<32-Pe(h)-1)).toString(32)+l,r="_"+r+"R_"+l,l=cd++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=a2++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:cp,useFormState:Sv,useActionState:Sv,useOptimistic:function(i){var r=gi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=up.bind(null,et,!0,l),l.dispatch=r,[i,r]},useMemoCache:ep,useCacheRefresh:function(){return gi().memoizedState=d2.bind(null,et)},useEffectEvent:function(i){var r=gi(),l={impl:i};return r.memoizedState=l,function(){if((Tt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},hp={readContext:qn,use:hd,useCallback:Dv,useContext:qn,useEffect:rp,useImperativeHandle:kv,useInsertionEffect:Mv,useLayoutEffect:Lv,useMemo:jv,useReducer:dd,useRef:Rv,useState:function(){return dd(aa)},useDebugValue:ap,useDeferredValue:function(i,r){var l=pn();return Vv(l,Mt.memoizedState,i,r)},useTransition:function(){var i=dd(aa)[0],r=pn().memoizedState;return[typeof i=="boolean"?i:Su(i),r]},useSyncExternalStore:fv,useId:Hv,useHostTransitionStatus:cp,useFormState:Av,useActionState:Av,useOptimistic:function(i,r){var l=pn();return vv(l,Mt,i,r)},useMemoCache:ep,useCacheRefresh:qv};hp.useEffectEvent=Pv;var Yv={readContext:qn,use:hd,useCallback:Dv,useContext:qn,useEffect:rp,useImperativeHandle:kv,useInsertionEffect:Mv,useLayoutEffect:Lv,useMemo:jv,useReducer:np,useRef:Rv,useState:function(){return np(aa)},useDebugValue:ap,useDeferredValue:function(i,r){var l=pn();return Mt===null?op(l,i,r):Vv(l,Mt.memoizedState,i,r)},useTransition:function(){var i=np(aa)[0],r=pn().memoizedState;return[typeof i=="boolean"?i:Su(i),r]},useSyncExternalStore:fv,useId:Hv,useHostTransitionStatus:cp,useFormState:Nv,useActionState:Nv,useOptimistic:function(i,r){var l=pn();return Mt!==null?vv(l,Mt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:ep,useCacheRefresh:qv};Yv.useEffectEvent=Pv;function dp(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var fp={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=as(),y=so(h);y.payload=r,l!=null&&(y.callback=l),r=ro(i,y,h),r!==null&&(Bi(r,i,h),xu(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=as(),y=so(h);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=ro(i,y,h),r!==null&&(Bi(r,i,h),xu(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=as(),h=so(l);h.tag=2,r!=null&&(h.callback=r),r=ro(i,h,l),r!==null&&(Bi(r,i,l),xu(r,i,l))}};function Kv(i,r,l,h,y,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,A):r.prototype&&r.prototype.isPureReactComponent?!Qa(l,h)||!Qa(y,b):!0}function Wv(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&fp.enqueueReplaceState(r,r.state,null)}function Sl(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function Qv(i){fl(i)}function Xv(i){console.error(i)}function Jv(i){fl(i)}function gd(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function e0(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function mp(i,r,l){return l=so(l),l.tag=3,l.payload={element:null},l.callback=function(){gd(i,r)},l}function t0(i){return i=so(i),i.tag=3,i}function n0(i,r,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;i.payload=function(){return y(b)},i.callback=function(){e0(r,l,h)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){e0(r,l,h),typeof y!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function m2(i,r,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&gc(r,l,y,!0),l=ns.current,l!==null){switch(l.tag){case 31:case 13:return Ls===null?Nd():l.alternate===null&&ln===0&&(ln=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===id?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),zp(i,h,y)),!1;case 22:return l.flags|=65536,h===id?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),zp(i,h,y)),!1}throw Error(s(435,l.tag))}return zp(i,h,y),Nd(),!1}if(ot)return r=ns.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,h!==pc&&(i=Error(s(422),{cause:h}),yl(u(i,l)))):(h!==pc&&(r=Error(s(423),{cause:h}),yl(u(r,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=u(h,l),y=mp(i.stateNode,h,y),Fm(i,y),ln!==4&&(ln=2)),!1;var b=Error(s(520),{cause:h});if(b=u(b,l),ku===null?ku=[b]:ku.push(b),ln!==4&&(ln=2),r===null)return!0;h=u(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=mp(l.stateNode,h,i),Fm(l,i),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ho===null||!ho.has(b))))return l.flags|=65536,y&=-y,l.lanes|=y,y=t0(y),n0(y,i,l,h),Fm(l,y),!1}l=l.return}while(l!==null);return!1}var pp=Error(s(461)),wn=!1;function Fn(i,r,l,h){r.child=i===null?av(r,null,l,h):El(r,i.child,l,h)}function i0(i,r,l,h,y){l=l.render;var b=r.ref;if("ref"in h){var A={};for(var M in h)M!=="ref"&&(A[M]=h[M])}else A=h;return vl(r),h=Wm(i,r,l,A,b,y),M=Qm(),i!==null&&!wn?(Xm(i,r,y),oa(i,r,y)):(ot&&M&&Nn(r),r.flags|=1,Fn(i,r,h,y),r.child)}function s0(i,r,l,h,y){if(i===null){var b=l.type;return typeof b=="function"&&!fc(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,r0(i,r,b,h,y)):(i=gl(l.type,null,h,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(b=i.child,!Ep(i,y)){var A=b.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(A,h)&&i.ref===r.ref)return oa(i,r,y)}return r.flags|=1,i=Ms(b,h),i.ref=r.ref,i.return=r,r.child=i}function r0(i,r,l,h,y){if(i!==null){var b=i.memoizedProps;if(Qa(b,h)&&i.ref===r.ref)if(wn=!1,r.pendingProps=h=b,Ep(i,y))(i.flags&131072)!==0&&(wn=!0);else return r.lanes=i.lanes,oa(i,r,y)}return gp(i,r,l,h,y)}function a0(i,r,l,h){var y=h.children,b=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(h=r.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,r.child=null;return o0(i,r,b,l,h)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&td(r,b!==null?b.cachePool:null),b!==null?cv(r,b):Zm(),uv(r);else return h=r.lanes=536870912,o0(i,r,b!==null?b.baseLanes|l:l,l,h)}else b!==null?(td(r,b.cachePool),cv(r,b),oo(),r.memoizedState=null):(i!==null&&td(r,null),Zm(),oo());return Fn(i,r,y,l),r.child}function Nu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function o0(i,r,l,h,y){var b=Um();return b=b===null?null:{parent:bn._currentValue,pool:b},r.memoizedState={baseLanes:l,cachePool:b},i!==null&&td(r,null),Zm(),uv(r),i!==null&&gc(i,r,h,!0),r.childLanes=y,null}function yd(i,r){return r=vd({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function l0(i,r,l){return El(r,i.child,null,l),i=yd(r,r.pendingProps),i.flags|=2,is(r),r.memoizedState=null,i}function p2(i,r,l){var h=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ot){if(h.mode==="hidden")return i=yd(r,h),r.lanes=536870912,Nu(null,i);if(Ym(r),(i=xt)?(i=bb(i,Di),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:we,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},l=fu(i),l.return=r,r.child=l,bt=r,xt=null)):i=null,i===null)throw Sr(r);return r.lanes=536870912,null}return yd(r,h)}var b=i.memoizedState;if(b!==null){var A=b.dehydrated;if(Ym(r),y)if(r.flags&256)r.flags&=-257,r=l0(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(wn||gc(i,r,l,!1),y=(l&i.childLanes)!==0,wn||y){if(h=zt,h!==null&&(A=Yo(h,l),A!==0&&A!==b.retryLane))throw b.retryLane=A,Ps(i,A),Bi(h,i,A),pp;Nd(),r=l0(i,r,l)}else i=b.treeContext,xt=Os(A.nextSibling),bt=r,ot=!0,Tr=null,Di=!1,i!==null&&pi(r,i),r=yd(r,h),r.flags|=4096;return r}return i=Ms(i.child,{mode:h.mode,children:h.children}),i.ref=r.ref,r.child=i,i.return=r,i}function _d(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function gp(i,r,l,h,y){return vl(r),l=Wm(i,r,l,h,void 0,y),h=Qm(),i!==null&&!wn?(Xm(i,r,y),oa(i,r,y)):(ot&&h&&Nn(r),r.flags|=1,Fn(i,r,l,y),r.child)}function c0(i,r,l,h,y,b){return vl(r),r.updateQueue=null,l=dv(r,h,l,y),hv(i),h=Qm(),i!==null&&!wn?(Xm(i,r,b),oa(i,r,b)):(ot&&h&&Nn(r),r.flags|=1,Fn(i,r,l,b),r.child)}function u0(i,r,l,h,y){if(vl(r),r.stateNode===null){var b=ta,A=l.contextType;typeof A=="object"&&A!==null&&(b=qn(A)),b=new l(h,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=fp,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=h,b.state=r.memoizedState,b.refs={},Hm(r),A=l.contextType,b.context=typeof A=="object"&&A!==null?qn(A):ta,b.state=r.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(dp(r,l,A,h),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&fp.enqueueReplaceState(b,b.state,null),Eu(r,h,b,y),wu(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){b=r.stateNode;var M=r.memoizedProps,W=Sl(l,M);b.props=W;var le=b.context,ge=l.contextType;A=ta,typeof ge=="object"&&ge!==null&&(A=qn(ge));var Ee=l.getDerivedStateFromProps;ge=typeof Ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ge||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M||le!==A)&&Wv(r,b,h,A),io=!1;var ue=r.memoizedState;b.state=ue,Eu(r,h,b,y),wu(),le=r.memoizedState,M||ue!==le||io?(typeof Ee=="function"&&(dp(r,l,Ee,h),le=r.memoizedState),(W=io||Kv(r,l,W,h,ue,le,A))?(ge||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=le),b.props=h,b.state=le,b.context=A,h=W):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{b=r.stateNode,qm(i,r),A=r.memoizedProps,ge=Sl(l,A),b.props=ge,Ee=r.pendingProps,ue=b.context,le=l.contextType,W=ta,typeof le=="object"&&le!==null&&(W=qn(le)),M=l.getDerivedStateFromProps,(le=typeof M=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==Ee||ue!==W)&&Wv(r,b,h,W),io=!1,ue=r.memoizedState,b.state=ue,Eu(r,h,b,y),wu();var me=r.memoizedState;A!==Ee||ue!==me||io||i!==null&&i.dependencies!==null&&Jh(i.dependencies)?(typeof M=="function"&&(dp(r,l,M,h),me=r.memoizedState),(ge=io||Kv(r,l,ge,h,ue,me,W)||i!==null&&i.dependencies!==null&&Jh(i.dependencies))?(le||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,me,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,me,W)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=me),b.props=h,b.state=me,b.context=W,h=ge):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),h=!1)}return b=h,_d(i,r),h=(r.flags&128)!==0,b||h?(b=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,i!==null&&h?(r.child=El(r,i.child,null,y),r.child=El(r,null,l,y)):Fn(i,r,l,y),r.memoizedState=b.state,i=r.child):i=oa(i,r,y),i}function h0(i,r,l,h){return ia(),r.flags|=256,Fn(i,r,l,h),r.child}var yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _p(i){return{baseLanes:i,cachePool:ev()}}function vp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=rs),i}function d0(i,r,l){var h=r.pendingProps,y=!1,b=(r.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(mn.current&2)!==0),A&&(y=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if(ot){if(y?ao(r):oo(),(i=xt)?(i=bb(i,Di),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:we,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},l=fu(i),l.return=r,r.child=l,bt=r,xt=null)):i=null,i===null)throw Sr(r);return tg(i)?r.lanes=32:r.lanes=536870912,null}var M=h.children;return h=h.fallback,y?(oo(),y=r.mode,M=vd({mode:"hidden",children:M},y),h=na(h,y,l,null),M.return=r,h.return=r,M.sibling=h,r.child=M,h=r.child,h.memoizedState=_p(l),h.childLanes=vp(i,A,l),r.memoizedState=yp,Nu(null,h)):(ao(r),bp(r,M))}var W=i.memoizedState;if(W!==null&&(M=W.dehydrated,M!==null)){if(b)r.flags&256?(ao(r),r.flags&=-257,r=xp(i,r,l)):r.memoizedState!==null?(oo(),r.child=i.child,r.flags|=128,r=null):(oo(),M=h.fallback,y=r.mode,h=vd({mode:"visible",children:h.children},y),M=na(M,y,l,null),M.flags|=2,h.return=r,M.return=r,h.sibling=M,r.child=h,El(r,i.child,null,l),h=r.child,h.memoizedState=_p(l),h.childLanes=vp(i,A,l),r.memoizedState=yp,r=Nu(null,h));else if(ao(r),tg(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var le=A.dgst;A=le,h=Error(s(419)),h.stack="",h.digest=A,yl({value:h,source:null,stack:null}),r=xp(i,r,l)}else if(wn||gc(i,r,l,!1),A=(l&i.childLanes)!==0,wn||A){if(A=zt,A!==null&&(h=Yo(A,l),h!==0&&h!==W.retryLane))throw W.retryLane=h,Ps(i,h),Bi(A,i,h),pp;eg(M)||Nd(),r=xp(i,r,l)}else eg(M)?(r.flags|=192,r.child=i.child,r=null):(i=W.treeContext,xt=Os(M.nextSibling),bt=r,ot=!0,Tr=null,Di=!1,i!==null&&pi(r,i),r=bp(r,h.children),r.flags|=4096);return r}return y?(oo(),M=h.fallback,y=r.mode,W=i.child,le=W.sibling,h=Ms(W,{mode:"hidden",children:h.children}),h.subtreeFlags=W.subtreeFlags&65011712,le!==null?M=Ms(le,M):(M=na(M,y,l,null),M.flags|=2),M.return=r,h.return=r,h.sibling=M,r.child=h,Nu(null,h),h=r.child,M=i.child.memoizedState,M===null?M=_p(l):(y=M.cachePool,y!==null?(W=bn._currentValue,y=y.parent!==W?{parent:W,pool:W}:y):y=ev(),M={baseLanes:M.baseLanes|l,cachePool:y}),h.memoizedState=M,h.childLanes=vp(i,A,l),r.memoizedState=yp,Nu(i.child,h)):(ao(r),l=i.child,i=l.sibling,l=Ms(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=l,r.memoizedState=null,l)}function bp(i,r){return r=vd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function vd(i,r){return i=ii(22,i,null,r),i.lanes=0,i}function xp(i,r,l){return El(r,i.child,null,l),i=bp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function f0(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Dm(i.return,r,l)}function wp(i,r,l,h,y,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:b}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=l,A.tailMode=y,A.treeForkCount=b)}function m0(i,r,l){var h=r.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var A=mn.current,M=(A&2)!==0;if(M?(A=A&1|2,r.flags|=128):A&=1,pe(mn,A),Fn(i,r,h,l),h=ot?P:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&f0(i,l,r);else if(i.tag===19)f0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)i=l.alternate,i!==null&&od(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),wp(r,!1,y,l,b,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&od(i)===null){r.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}wp(r,!0,l,null,b,h);break;case"together":wp(r,!1,null,null,void 0,h);break;default:r.memoizedState=null}return r.child}function oa(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),uo|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(gc(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Ms(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Ms(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function Ep(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Jh(i)))}function g2(i,r,l){switch(r.tag){case 3:At(r,r.stateNode.containerInfo),no(r,bn,i.memoizedState.cache),ia();break;case 27:case 5:Hn(r);break;case 4:At(r,r.stateNode.containerInfo);break;case 10:no(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Ym(r),null;break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(ao(r),r.flags|=128,null):(l&r.child.childLanes)!==0?d0(i,r,l):(ao(r),i=oa(i,r,l),i!==null?i.sibling:null);ao(r);break;case 19:var y=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(gc(i,r,l,!1),h=(l&r.childLanes)!==0),y){if(h)return m0(i,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pe(mn,mn.current),h)break;return null;case 22:return r.lanes=0,a0(i,r,l,r.pendingProps);case 24:no(r,bn,i.memoizedState.cache)}return oa(i,r,l)}function p0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)wn=!0;else{if(!Ep(i,l)&&(r.flags&128)===0)return wn=!1,g2(i,r,l);wn=(i.flags&131072)!==0}else wn=!1,ot&&(r.flags&1048576)!==0&&nt(r,P,r.index);switch(r.lanes=0,r.tag){case 16:e:{var h=r.pendingProps;if(i=xl(r.elementType),r.type=i,typeof i=="function")fc(i)?(h=Sl(i,h),r.tag=1,r=u0(null,r,i,h,l)):(r.tag=0,r=gp(null,r,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===te){r.tag=11,r=i0(null,r,i,h,l);break e}else if(y===q){r.tag=14,r=s0(null,r,i,h,l);break e}}throw r=de(i)||i,Error(s(306,r,""))}}return r;case 0:return gp(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,y=Sl(h,r.pendingProps),u0(i,r,h,y,l);case 3:e:{if(At(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var b=r.memoizedState;y=b.element,qm(i,r),Eu(r,h,null,l);var A=r.memoizedState;if(h=A.cache,no(r,bn,h),h!==b.cache&&jm(r,[bn],l,!0),wu(),h=A.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=h0(i,r,h,l);break e}else if(h!==y){y=u(Error(s(424)),r),yl(y),r=h0(i,r,h,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,xt=Os(i.firstChild),bt=r,ot=!0,Tr=null,Di=!0,l=av(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ia(),h===y){r=oa(i,r,l);break e}Fn(i,r,h,l)}r=r.child}return r;case 26:return _d(i,r),i===null?(l=Ab(r.type,null,r.pendingProps,null))?r.memoizedState=l:ot||(l=r.type,i=r.pendingProps,h=kd(Ce.current).createElement(l),h[Xt]=r,h[sn]=i,Gn(h,l,i),rn(h),r.stateNode=h):r.memoizedState=Ab(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Hn(r),i===null&&ot&&(h=r.stateNode=Eb(r.type,r.pendingProps,Ce.current),bt=r,Di=!0,y=xt,go(r.type)?(ng=y,xt=Os(h.firstChild)):xt=y),Fn(i,r,r.pendingProps.children,l),_d(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ot&&((y=h=xt)&&(h=Z2(h,r.type,r.pendingProps,Di),h!==null?(r.stateNode=h,bt=r,xt=Os(h.firstChild),Di=!1,y=!0):y=!1),y||Sr(r)),Hn(r),y=r.type,b=r.pendingProps,A=i!==null?i.memoizedProps:null,h=b.children,Qp(y,b)?h=null:A!==null&&Qp(y,A)&&(r.flags|=32),r.memoizedState!==null&&(y=Wm(i,r,o2,null,null,l),qu._currentValue=y),_d(i,r),Fn(i,r,h,l),r.child;case 6:return i===null&&ot&&((i=l=xt)&&(l=$2(l,r.pendingProps,Di),l!==null?(r.stateNode=l,bt=r,xt=null,i=!0):i=!1),i||Sr(r)),null;case 13:return d0(i,r,l);case 4:return At(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=El(r,null,h,l):Fn(i,r,h,l),r.child;case 11:return i0(i,r,r.type,r.pendingProps,l);case 7:return Fn(i,r,r.pendingProps,l),r.child;case 8:return Fn(i,r,r.pendingProps.children,l),r.child;case 12:return Fn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,no(r,r.type,h.value),Fn(i,r,h.children,l),r.child;case 9:return y=r.type._context,h=r.pendingProps.children,vl(r),y=qn(y),h=h(y),r.flags|=1,Fn(i,r,h,l),r.child;case 14:return s0(i,r,r.type,r.pendingProps,l);case 15:return r0(i,r,r.type,r.pendingProps,l);case 19:return m0(i,r,l);case 31:return p2(i,r,l);case 22:return a0(i,r,l,r.pendingProps);case 24:return vl(r),h=qn(bn),i===null?(y=Um(),y===null&&(y=zt,b=Vm(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=l),y=b),r.memoizedState={parent:h,cache:y},Hm(r),no(r,bn,y)):((i.lanes&l)!==0&&(qm(i,r),Eu(r,null,null,l),wu()),y=i.memoizedState,b=r.memoizedState,y.parent!==h?(y={parent:h,cache:h},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),no(r,bn,h)):(h=b.cache,no(r,bn,h),h!==y.cache&&jm(r,[bn],l,!0))),Fn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function la(i){i.flags|=4}function Tp(i,r,l,h,y){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(H0())i.flags|=8192;else throw wl=id,Bm}else i.flags&=-16777217}function g0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Pb(r))if(H0())i.flags|=8192;else throw wl=id,Bm}function bd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Jl():536870912,i.lanes|=r,Nc|=r)}function Ru(i,r){if(!ot)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ft(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function y2(i,r,l){var h=r.pendingProps;switch(an(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(r),null;case 1:return Ft(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),sa(bn),Ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Js(r)?la(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gu())),Ft(r),null;case 26:var y=r.type,b=r.memoizedState;return i===null?(la(r),b!==null?(Ft(r),g0(r,b)):(Ft(r),Tp(r,y,null,h,l))):b?b!==i.memoizedState?(la(r),Ft(r),g0(r,b)):(Ft(r),r.flags&=-16777217):(i=i.memoizedProps,i!==h&&la(r),Ft(r),Tp(r,y,i,h,l)),null;case 27:if(wi(r),l=Ce.current,y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&la(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}i=xe.current,Js(r)?pu(r):(i=Eb(y,h,l),r.stateNode=i,la(r))}return Ft(r),null;case 5:if(wi(r),y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&la(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}if(b=xe.current,Js(r))pu(r);else{var A=kd(Ce.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?A.createElement(y,{is:h.is}):A.createElement(y)}}b[Xt]=r,b[sn]=h;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=b;e:switch(Gn(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&la(r)}}return Ft(r),Tp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&la(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ce.current,Js(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,y=bt,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Xt]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||db(i.nodeValue,l)),i||Sr(r,!0)}else i=kd(i).createTextNode(h),i[Xt]=r,r.stateNode=i}return Ft(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(h=Js(r),l!==null){if(i===null){if(!h)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Xt]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),i=!1}else l=gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(is(r),r):(is(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ft(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Js(r),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Xt]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),y=!1}else y=gu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(is(r),r):(is(r),null)}return is(r),(r.flags&128)!==0?(r.lanes=l,r):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=r.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),bd(r,r.updateQueue),Ft(r),null);case 4:return Ct(),i===null&&Zp(r.stateNode.containerInfo),Ft(r),null;case 10:return sa(r.type),Ft(r),null;case 19:if(J(mn),h=r.memoizedState,h===null)return Ft(r),null;if(y=(r.flags&128)!==0,b=h.rendering,b===null)if(y)Ru(h,!1);else{if(ln!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(b=od(i),b!==null){for(r.flags|=128,Ru(h,!1),i=b.updateQueue,r.updateQueue=i,bd(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)du(l,i),l=l.sibling;return pe(mn,mn.current&1|2),ot&&ze(r,h.treeForkCount),r.child}i=i.sibling}h.tail!==null&&Cn()>Sd&&(r.flags|=128,y=!0,Ru(h,!1),r.lanes=4194304)}else{if(!y)if(i=od(b),i!==null){if(r.flags|=128,y=!0,i=i.updateQueue,r.updateQueue=i,bd(r,i),Ru(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!ot)return Ft(r),null}else 2*Cn()-h.renderingStartTime>Sd&&l!==536870912&&(r.flags|=128,y=!0,Ru(h,!1),r.lanes=4194304);h.isBackwards?(b.sibling=r.child,r.child=b):(i=h.last,i!==null?i.sibling=b:r.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Cn(),i.sibling=null,l=mn.current,pe(mn,y?l&1|2:l&1),ot&&ze(r,h.treeForkCount),i):(Ft(r),null);case 22:case 23:return is(r),$m(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(Ft(r),r.subtreeFlags&6&&(r.flags|=8192)):Ft(r),l=r.updateQueue,l!==null&&bd(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&J(bl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),sa(bn),Ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _2(i,r){switch(an(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return sa(bn),Ct(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return wi(r),null;case 31:if(r.memoizedState!==null){if(is(r),r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(is(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return J(mn),null;case 4:return Ct(),null;case 10:return sa(r.type),null;case 22:case 23:return is(r),$m(),i!==null&&J(bl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return sa(bn),null;case 25:return null;default:return null}}function y0(i,r){switch(an(r),r.tag){case 3:sa(bn),Ct();break;case 26:case 27:case 5:wi(r);break;case 4:Ct();break;case 31:r.memoizedState!==null&&is(r);break;case 13:is(r);break;case 19:J(mn);break;case 10:sa(r.type);break;case 22:case 23:is(r),$m(),i!==null&&J(bl);break;case 24:sa(bn)}}function Iu(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var b=l.create,A=l.inst;h=b(),A.destroy=h}l=l.next}while(l!==y)}}catch(M){Pt(r,r.return,M)}}function lo(i,r,l){try{var h=r.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&i)===i){var A=h.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,y=r;var W=l,le=M;try{le()}catch(ge){Pt(y,W,ge)}}}h=h.next}while(h!==b)}}catch(ge){Pt(r,r.return,ge)}}function _0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{lv(r,l)}catch(h){Pt(i,i.return,h)}}}function v0(i,r,l){l.props=Sl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Pt(i,r,h)}}function Pu(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){Pt(i,r,y)}}function Cr(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){Pt(i,r,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Pt(i,r,y)}else l.current=null}function b0(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){Pt(i,i.return,y)}}function Sp(i,r,l){try{var h=i.stateNode;U2(h,i.type,l,r),h[sn]=r}catch(y){Pt(i,i.return,y)}}function x0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&go(i.type)||i.tag===4}function Ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||x0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&go(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cp(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Xn));else if(h!==4&&(h===27&&go(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Cp(i,r,l),i=i.sibling;i!==null;)Cp(i,r,l),i=i.sibling}function xd(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&go(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(xd(i,r,l),i=i.sibling;i!==null;)xd(i,r,l),i=i.sibling}function w0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);Gn(r,h,l),r[Xt]=i,r[sn]=l}catch(b){Pt(i,i.return,b)}}var ca=!1,En=!1,Np=!1,E0=typeof WeakSet=="function"?WeakSet:Set,zn=null;function v2(i,r){if(i=i.containerInfo,Kp=Hd,i=cl(i),vr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var A=0,M=-1,W=-1,le=0,ge=0,Ee=i,ue=null;t:for(;;){for(var me;Ee!==l||y!==0&&Ee.nodeType!==3||(M=A+y),Ee!==b||h!==0&&Ee.nodeType!==3||(W=A+h),Ee.nodeType===3&&(A+=Ee.nodeValue.length),(me=Ee.firstChild)!==null;)ue=Ee,Ee=me;for(;;){if(Ee===i)break t;if(ue===l&&++le===y&&(M=A),ue===b&&++ge===h&&(W=A),(me=Ee.nextSibling)!==null)break;Ee=ue,ue=Ee.parentNode}Ee=me}l=M===-1||W===-1?null:{start:M,end:W}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wp={focusedElem:i,selectionRange:l},Hd=!1,zn=r;zn!==null;)if(r=zn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,zn=i;else for(;zn!==null;){switch(r=zn,b=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=r,y=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var De=Sl(l.type,y);i=h.getSnapshotBeforeUpdate(De,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ge){Pt(l,l.return,Ge)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Jp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,zn=i;break}zn=r.return}}function T0(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:ha(i,l),h&4&&Iu(5,l);break;case 1:if(ha(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(A){Pt(l,l.return,A)}else{var y=Sl(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(y,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Pt(l,l.return,A)}}h&64&&_0(l),h&512&&Pu(l,l.return);break;case 3:if(ha(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{lv(i,r)}catch(A){Pt(l,l.return,A)}}break;case 27:r===null&&h&4&&w0(l);case 26:case 5:ha(i,l),r===null&&h&4&&b0(l),h&512&&Pu(l,l.return);break;case 12:ha(i,l);break;case 31:ha(i,l),h&4&&C0(i,l);break;case 13:ha(i,l),h&4&&N0(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=N2.bind(null,l),Y2(i,l))));break;case 22:if(h=l.memoizedState!==null||ca,!h){r=r!==null&&r.memoizedState!==null||En,y=ca;var b=En;ca=h,(En=r)&&!b?da(i,l,(l.subtreeFlags&8772)!==0):ha(i,l),ca=y,En=b}break;case 30:break;default:ha(i,l)}}function S0(i){var r=i.alternate;r!==null&&(i.alternate=null,S0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Va(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yt=null,ji=!1;function ua(i,r,l){for(l=l.child;l!==null;)A0(i,r,l),l=l.sibling}function A0(i,r,l){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Qn,l)}catch{}switch(l.tag){case 26:En||Cr(l,r),ua(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:En||Cr(l,r);var h=Yt,y=ji;go(l.type)&&(Yt=l.stateNode,ji=!1),ua(i,r,l),Uu(l.stateNode),Yt=h,ji=y;break;case 5:En||Cr(l,r);case 6:if(h=Yt,y=ji,Yt=null,ua(i,r,l),Yt=h,ji=y,Yt!==null)if(ji)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(l.stateNode)}catch(b){Pt(l,r,b)}else try{Yt.removeChild(l.stateNode)}catch(b){Pt(l,r,b)}break;case 18:Yt!==null&&(ji?(i=Yt,_b(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Dc(i)):_b(Yt,l.stateNode));break;case 4:h=Yt,y=ji,Yt=l.stateNode.containerInfo,ji=!0,ua(i,r,l),Yt=h,ji=y;break;case 0:case 11:case 14:case 15:lo(2,l,r),En||lo(4,l,r),ua(i,r,l);break;case 1:En||(Cr(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&v0(l,r,h)),ua(i,r,l);break;case 21:ua(i,r,l);break;case 22:En=(h=En)||l.memoizedState!==null,ua(i,r,l),En=h;break;default:ua(i,r,l)}}function C0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Dc(i)}catch(l){Pt(r,r.return,l)}}}function N0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dc(i)}catch(l){Pt(r,r.return,l)}}function b2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new E0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new E0),r;default:throw Error(s(435,i.tag))}}function wd(i,r){var l=b2(i);r.forEach(function(h){if(!l.has(h)){l.add(h);var y=R2.bind(null,i,h);h.then(y,y)}})}function Vi(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],b=i,A=r,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(go(M.type)){Yt=M.stateNode,ji=!1;break e}break;case 5:Yt=M.stateNode,ji=!1;break e;case 3:case 4:Yt=M.stateNode.containerInfo,ji=!0;break e}M=M.return}if(Yt===null)throw Error(s(160));A0(b,A,y),Yt=null,ji=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)R0(r,i),r=r.sibling}var tr=null;function R0(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vi(r,i),zi(i),h&4&&(lo(3,i,i.return),Iu(3,i),lo(5,i,i.return));break;case 1:Vi(r,i),zi(i),h&512&&(En||l===null||Cr(l,l.return)),h&64&&ca&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=tr;if(Vi(r,i),zi(i),h&512&&(En||l===null||Cr(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[bs]||b[Xt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),Gn(b,h,l),b[Xt]=i,rn(b),h=b;break e;case"link":var A=Rb("link","href",y).get(h+(l.href||""));if(A){for(var M=0;M<A.length;M++)if(b=A[M],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(M,1);break t}}b=y.createElement(h),Gn(b,h,l),y.head.appendChild(b);break;case"meta":if(A=Rb("meta","content",y).get(h+(l.content||""))){for(M=0;M<A.length;M++)if(b=A[M],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(M,1);break t}}b=y.createElement(h),Gn(b,h,l),y.head.appendChild(b);break;default:throw Error(s(468,h))}b[Xt]=i,rn(b),h=b}i.stateNode=h}else Ib(y,i.type,i.stateNode);else i.stateNode=Nb(y,h,i.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?Ib(y,i.type,i.stateNode):Nb(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Sp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Vi(r,i),zi(i),h&512&&(En||l===null||Cr(l,l.return)),l!==null&&h&4&&Sp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Vi(r,i),zi(i),h&512&&(En||l===null||Cr(l,l.return)),i.flags&32){y=i.stateNode;try{_n(y,"")}catch(De){Pt(i,i.return,De)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,Sp(i,y,l!==null?l.memoizedProps:y)),h&1024&&(Np=!0);break;case 6:if(Vi(r,i),zi(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){Pt(i,i.return,De)}}break;case 3:if(Vd=null,y=tr,tr=Dd(r.containerInfo),Vi(r,i),tr=y,zi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Dc(r.containerInfo)}catch(De){Pt(i,i.return,De)}Np&&(Np=!1,I0(i));break;case 4:h=tr,tr=Dd(i.stateNode.containerInfo),Vi(r,i),zi(i),tr=h;break;case 12:Vi(r,i),zi(i);break;case 31:Vi(r,i),zi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 13:Vi(r,i),zi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Td=Cn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 22:y=i.memoizedState!==null;var W=l!==null&&l.memoizedState!==null,le=ca,ge=En;if(ca=le||y,En=ge||W,Vi(r,i),En=ge,ca=le,zi(i),h&8192)e:for(r=i.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||W||ca||En||Al(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){W=l=r;try{if(b=W.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=W.stateNode;var Ee=W.memoizedProps.style,ue=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;M.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(De){Pt(W,W.return,De)}}}else if(r.tag===6){if(l===null){W=r;try{W.stateNode.nodeValue=y?"":W.memoizedProps}catch(De){Pt(W,W.return,De)}}}else if(r.tag===18){if(l===null){W=r;try{var me=W.stateNode;y?vb(me,!0):vb(W.stateNode,!1)}catch(De){Pt(W,W.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,wd(i,l))));break;case 19:Vi(r,i),zi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 30:break;case 21:break;default:Vi(r,i),zi(i)}}function zi(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(x0(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var y=l.stateNode,b=Ap(i);xd(i,b,y);break;case 5:var A=l.stateNode;l.flags&32&&(_n(A,""),l.flags&=-33);var M=Ap(i);xd(i,M,A);break;case 3:case 4:var W=l.stateNode.containerInfo,le=Ap(i);Cp(i,le,W);break;default:throw Error(s(161))}}catch(ge){Pt(i,i.return,ge)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function I0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;I0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ha(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)T0(i,r.alternate,r),r=r.sibling}function Al(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:lo(4,r,r.return),Al(r);break;case 1:Cr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&v0(r,r.return,l),Al(r);break;case 27:Uu(r.stateNode);case 26:case 5:Cr(r,r.return),Al(r);break;case 22:r.memoizedState===null&&Al(r);break;case 30:Al(r);break;default:Al(r)}i=i.sibling}}function da(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,y=i,b=r,A=b.flags;switch(b.tag){case 0:case 11:case 15:da(y,b,l),Iu(4,b);break;case 1:if(da(y,b,l),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(le){Pt(h,h.return,le)}if(h=b,y=h.updateQueue,y!==null){var M=h.stateNode;try{var W=y.shared.hiddenCallbacks;if(W!==null)for(y.shared.hiddenCallbacks=null,y=0;y<W.length;y++)ov(W[y],M)}catch(le){Pt(h,h.return,le)}}l&&A&64&&_0(b),Pu(b,b.return);break;case 27:w0(b);case 26:case 5:da(y,b,l),l&&h===null&&A&4&&b0(b),Pu(b,b.return);break;case 12:da(y,b,l);break;case 31:da(y,b,l),l&&A&4&&C0(y,b);break;case 13:da(y,b,l),l&&A&4&&N0(y,b);break;case 22:b.memoizedState===null&&da(y,b,l),Pu(b,b.return);break;case 30:break;default:da(y,b,l)}r=r.sibling}}function Rp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&yu(l))}function Ip(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yu(i))}function nr(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)P0(i,r,l,h),r=r.sibling}function P0(i,r,l,h){var y=r.flags;switch(r.tag){case 0:case 11:case 15:nr(i,r,l,h),y&2048&&Iu(9,r);break;case 1:nr(i,r,l,h);break;case 3:nr(i,r,l,h),y&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&yu(i)));break;case 12:if(y&2048){nr(i,r,l,h),i=r.stateNode;try{var b=r.memoizedProps,A=b.id,M=b.onPostCommit;typeof M=="function"&&M(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(W){Pt(r,r.return,W)}}else nr(i,r,l,h);break;case 31:nr(i,r,l,h);break;case 13:nr(i,r,l,h);break;case 23:break;case 22:b=r.stateNode,A=r.alternate,r.memoizedState!==null?b._visibility&2?nr(i,r,l,h):Mu(i,r):b._visibility&2?nr(i,r,l,h):(b._visibility|=2,Sc(i,r,l,h,(r.subtreeFlags&10256)!==0||!1)),y&2048&&Rp(A,r);break;case 24:nr(i,r,l,h),y&2048&&Ip(r.alternate,r);break;default:nr(i,r,l,h)}}function Sc(i,r,l,h,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=i,A=r,M=l,W=h,le=A.flags;switch(A.tag){case 0:case 11:case 15:Sc(b,A,M,W,y),Iu(8,A);break;case 23:break;case 22:var ge=A.stateNode;A.memoizedState!==null?ge._visibility&2?Sc(b,A,M,W,y):Mu(b,A):(ge._visibility|=2,Sc(b,A,M,W,y)),y&&le&2048&&Rp(A.alternate,A);break;case 24:Sc(b,A,M,W,y),y&&le&2048&&Ip(A.alternate,A);break;default:Sc(b,A,M,W,y)}r=r.sibling}}function Mu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,y=h.flags;switch(h.tag){case 22:Mu(l,h),y&2048&&Rp(h.alternate,h);break;case 24:Mu(l,h),y&2048&&Ip(h.alternate,h);break;default:Mu(l,h)}r=r.sibling}}var Lu=8192;function Ac(i,r,l){if(i.subtreeFlags&Lu)for(i=i.child;i!==null;)M0(i,r,l),i=i.sibling}function M0(i,r,l){switch(i.tag){case 26:Ac(i,r,l),i.flags&Lu&&i.memoizedState!==null&&aA(l,tr,i.memoizedState,i.memoizedProps);break;case 5:Ac(i,r,l);break;case 3:case 4:var h=tr;tr=Dd(i.stateNode.containerInfo),Ac(i,r,l),tr=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Lu,Lu=16777216,Ac(i,r,l),Lu=h):Ac(i,r,l));break;default:Ac(i,r,l)}}function L0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ou(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];zn=h,k0(h,i)}L0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)O0(i),i=i.sibling}function O0(i){switch(i.tag){case 0:case 11:case 15:Ou(i),i.flags&2048&&lo(9,i,i.return);break;case 3:Ou(i);break;case 12:Ou(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ed(i)):Ou(i);break;default:Ou(i)}}function Ed(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];zn=h,k0(h,i)}L0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:lo(8,r,r.return),Ed(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Ed(r));break;default:Ed(r)}i=i.sibling}}function k0(i,r){for(;zn!==null;){var l=zn;switch(l.tag){case 0:case 11:case 15:lo(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yu(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,zn=h;else e:for(l=i;zn!==null;){h=zn;var y=h.sibling,b=h.return;if(S0(h),h===l){zn=null;break e}if(y!==null){y.return=b,zn=y;break e}zn=b}}}var x2={getCacheForType:function(i){var r=qn(bn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return qn(bn).controller.signal}},w2=typeof WeakMap=="function"?WeakMap:Map,Tt=0,zt=null,lt=null,ht=0,It=0,ss=null,co=!1,Cc=!1,Pp=!1,fa=0,ln=0,uo=0,Cl=0,Mp=0,rs=0,Nc=0,ku=null,Ui=null,Lp=!1,Td=0,D0=0,Sd=1/0,Ad=null,ho=null,Rn=0,fo=null,Rc=null,ma=0,Op=0,kp=null,j0=null,Du=0,Dp=null;function as(){return(Tt&2)!==0&&ht!==0?ht&-ht:ae.T!==null?Hp():Ko()}function V0(){if(rs===0)if((ht&536870912)===0||ot){var i=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),rs=i}else rs=536870912;return i=ns.current,i!==null&&(i.flags|=32),rs}function Bi(i,r,l){(i===zt&&(It===2||It===9)||i.cancelPendingCommit!==null)&&(Ic(i,0),mo(i,ht,rs,!1)),Hs(i,l),((Tt&2)===0||i!==zt)&&(i===zt&&((Tt&2)===0&&(Cl|=l),ln===4&&mo(i,ht,rs,!1)),Nr(i))}function z0(i,r,l){if((Tt&6)!==0)throw Error(s(327));var h=!l&&(r&127)===0&&(r&i.expiredLanes)===0||Fi(i,r),y=h?S2(i,r):Vp(i,r,!0),b=h;do{if(y===0){Cc&&!h&&mo(i,r,0,!1);break}else{if(l=i.current.alternate,b&&!E2(l)){y=Vp(i,r,!1),b=!1;continue}if(y===2){if(b=r,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var M=i;y=ku;var W=M.current.memoizedState.isDehydrated;if(W&&(Ic(M,A).flags|=256),A=Vp(M,A,!1),A!==2){if(Pp&&!W){M.errorRecoveryDisabledLanes|=b,Cl|=b,y=4;break e}b=Ui,Ui=y,b!==null&&(Ui===null?Ui=b:Ui.push.apply(Ui,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){Ic(i,0),mo(i,r,0,!0);break}e:{switch(h=i,b=y,b){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:mo(h,r,rs,!co);break e;case 2:Ui=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(y=Td+300-Cn(),10<y)){if(mo(h,r,rs,!co),_s(h,0,!0)!==0)break e;ma=r,h.timeoutHandle=gb(U0.bind(null,h,l,Ui,Ad,Lp,r,rs,Cl,Nc,co,b,"Throttled",-0,0),y);break e}U0(h,l,Ui,Ad,Lp,r,rs,Cl,Nc,co,b,null,-0,0)}}break}while(!0);Nr(i)}function U0(i,r,l,h,y,b,A,M,W,le,ge,Ee,ue,me){if(i.timeoutHandle=-1,Ee=r.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},M0(r,b,Ee);var De=(b&62914560)===b?Td-Cn():(b&4194048)===b?D0-Cn():0;if(De=oA(Ee,De),De!==null){ma=b,i.cancelPendingCommit=De(Y0.bind(null,i,r,b,l,h,y,A,M,W,ge,Ee,null,ue,me)),mo(i,b,A,!le);return}}Y0(i,r,b,l,h,y,A,M,W)}function E2(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],b=y.getSnapshot;y=y.value;try{if(!jn(b(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mo(i,r,l,h){r&=~Mp,r&=~Cl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var y=r;0<y;){var b=31-Pe(y),A=1<<b;h[b]=-1,y&=~A}l!==0&&Zr(i,l,r)}function Cd(){return(Tt&6)===0?(ju(0),!1):!0}function jp(){if(lt!==null){if(It===0)var i=lt.return;else i=lt,er=Ar=null,Jm(i),bc=null,vu=0,i=lt;for(;i!==null;)y0(i.alternate,i),i=i.return;lt=null}}function Ic(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,q2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ma=0,jp(),zt=i,lt=l=Ms(i.current,null),ht=r,It=0,ss=null,co=!1,Cc=Fi(i,r),Pp=!1,Nc=rs=Mp=Cl=uo=ln=0,Ui=ku=null,Lp=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var y=31-Pe(h),b=1<<y;r|=i[y],h&=~b}return fa=r,ml(),l}function B0(i,r){et=null,ae.H=Cu,r===vc||r===nd?(r=iv(),It=3):r===Bm?(r=iv(),It=4):It=r===pp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ss=r,lt===null&&(ln=1,gd(i,u(r,i.current)))}function H0(){var i=ns.current;return i===null?!0:(ht&4194048)===ht?Ls===null:(ht&62914560)===ht||(ht&536870912)!==0?i===Ls:!1}function q0(){var i=ae.H;return ae.H=Cu,i===null?Cu:i}function F0(){var i=ae.A;return ae.A=x2,i}function Nd(){ln=4,co||(ht&4194048)!==ht&&ns.current!==null||(Cc=!0),(uo&134217727)===0&&(Cl&134217727)===0||zt===null||mo(zt,ht,rs,!1)}function Vp(i,r,l){var h=Tt;Tt|=2;var y=q0(),b=F0();(zt!==i||ht!==r)&&(Ad=null,Ic(i,r)),r=!1;var A=ln;e:do try{if(It!==0&&lt!==null){var M=lt,W=ss;switch(It){case 8:jp(),A=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(r=!0);var le=It;if(It=0,ss=null,Pc(i,M,W,le),l&&Cc){A=0;break e}break;default:le=It,It=0,ss=null,Pc(i,M,W,le)}}T2(),A=ln;break}catch(ge){B0(i,ge)}while(!0);return r&&i.shellSuspendCounter++,er=Ar=null,Tt=h,ae.H=y,ae.A=b,lt===null&&(zt=null,ht=0,ml()),A}function T2(){for(;lt!==null;)G0(lt)}function S2(i,r){var l=Tt;Tt|=2;var h=q0(),y=F0();zt!==i||ht!==r?(Ad=null,Sd=Cn()+500,Ic(i,r)):Cc=Fi(i,r);e:do try{if(It!==0&&lt!==null){r=lt;var b=ss;t:switch(It){case 1:It=0,ss=null,Pc(i,r,b,1);break;case 2:case 9:if(tv(b)){It=0,ss=null,Z0(r);break}r=function(){It!==2&&It!==9||zt!==i||(It=7),Nr(i)},b.then(r,r);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:tv(b)?(It=0,ss=null,Z0(r)):(It=0,ss=null,Pc(i,r,b,7));break;case 5:var A=null;switch(lt.tag){case 26:A=lt.memoizedState;case 5:case 27:var M=lt;if(A?Pb(A):M.stateNode.complete){It=0,ss=null;var W=M.sibling;if(W!==null)lt=W;else{var le=M.return;le!==null?(lt=le,Rd(le)):lt=null}break t}}It=0,ss=null,Pc(i,r,b,5);break;case 6:It=0,ss=null,Pc(i,r,b,6);break;case 8:jp(),ln=6;break e;default:throw Error(s(462))}}A2();break}catch(ge){B0(i,ge)}while(!0);return er=Ar=null,ae.H=h,ae.A=y,Tt=l,lt!==null?0:(zt=null,ht=0,ml(),ln)}function A2(){for(;lt!==null&&!Da();)G0(lt)}function G0(i){var r=p0(i.alternate,i,fa);i.memoizedProps=i.pendingProps,r===null?Rd(i):lt=r}function Z0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=c0(l,r,r.pendingProps,r.type,void 0,ht);break;case 11:r=c0(l,r,r.pendingProps,r.type.render,r.ref,ht);break;case 5:Jm(r);default:y0(l,r),r=lt=du(r,fa),r=p0(l,r,fa)}i.memoizedProps=i.pendingProps,r===null?Rd(i):lt=r}function Pc(i,r,l,h){er=Ar=null,Jm(r),bc=null,vu=0;var y=r.return;try{if(m2(i,y,r,l,ht)){ln=1,gd(i,u(l,i.current)),lt=null;return}}catch(b){if(y!==null)throw lt=y,b;ln=1,gd(i,u(l,i.current)),lt=null;return}r.flags&32768?(ot||h===1?i=!0:Cc||(ht&536870912)!==0?i=!1:(co=i=!0,(h===2||h===9||h===3||h===6)&&(h=ns.current,h!==null&&h.tag===13&&(h.flags|=16384))),$0(r,i)):Rd(r)}function Rd(i){var r=i;do{if((r.flags&32768)!==0){$0(r,co);return}i=r.return;var l=y2(r.alternate,r,fa);if(l!==null){lt=l;return}if(r=r.sibling,r!==null){lt=r;return}lt=r=i}while(r!==null);ln===0&&(ln=5)}function $0(i,r){do{var l=_2(i.alternate,i);if(l!==null){l.flags&=32767,lt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){lt=i;return}lt=i=l}while(i!==null);ln=6,lt=null}function Y0(i,r,l,h,y,b,A,M,W){i.cancelPendingCommit=null;do Id();while(Rn!==0);if((Tt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(b=r.lanes|r.childLanes,b|=dc,uu(i,l,b,A,M,W),i===zt&&(lt=zt=null,ht=0),Rc=r,fo=i,ma=l,Op=b,kp=y,j0=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,I2(qi,function(){return J0(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null,y=Se.p,Se.p=2,A=Tt,Tt|=4;try{v2(i,r,l)}finally{Tt=A,Se.p=y,ae.T=h}}Rn=1,K0(),W0(),Q0()}}function K0(){if(Rn===1){Rn=0;var i=fo,r=Rc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=ae.T,ae.T=null;var h=Se.p;Se.p=2;var y=Tt;Tt|=4;try{R0(r,i);var b=Wp,A=cl(i.containerInfo),M=b.focusedElem,W=b.selectionRange;if(A!==M&&M&&M.ownerDocument&&lc(M.ownerDocument.documentElement,M)){if(W!==null&&vr(M)){var le=W.start,ge=W.end;if(ge===void 0&&(ge=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(ge,M.value.length);else{var Ee=M.ownerDocument||document,ue=Ee&&Ee.defaultView||window;if(ue.getSelection){var me=ue.getSelection(),De=M.textContent.length,Ge=Math.min(W.start,De),Ot=W.end===void 0?Ge:Math.min(W.end,De);!me.extend&&Ge>Ot&&(A=Ot,Ot=Ge,Ge=A);var ie=ll(M,Ge),X=ll(M,Ot);if(ie&&X&&(me.rangeCount!==1||me.anchorNode!==ie.node||me.anchorOffset!==ie.offset||me.focusNode!==X.node||me.focusOffset!==X.offset)){var oe=Ee.createRange();oe.setStart(ie.node,ie.offset),me.removeAllRanges(),Ge>Ot?(me.addRange(oe),me.extend(X.node,X.offset)):(oe.setEnd(X.node,X.offset),me.addRange(oe))}}}}for(Ee=[],me=M;me=me.parentNode;)me.nodeType===1&&Ee.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ee.length;M++){var ve=Ee[M];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Hd=!!Kp,Wp=Kp=null}finally{Tt=y,Se.p=h,ae.T=l}}i.current=r,Rn=2}}function W0(){if(Rn===2){Rn=0;var i=fo,r=Rc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=ae.T,ae.T=null;var h=Se.p;Se.p=2;var y=Tt;Tt|=4;try{T0(i,r.alternate,r)}finally{Tt=y,Se.p=h,ae.T=l}}Rn=3}}function Q0(){if(Rn===4||Rn===3){Rn=0,qr();var i=fo,r=Rc,l=ma,h=j0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Rn=5:(Rn=0,Rc=fo=null,X0(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(ho=null),ke(l),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Qn,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=ae.T,y=Se.p,Se.p=2,ae.T=null;try{for(var b=i.onRecoverableError,A=0;A<h.length;A++){var M=h[A];b(M.value,{componentStack:M.stack})}}finally{ae.T=r,Se.p=y}}(ma&3)!==0&&Id(),Nr(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===Dp?Du++:(Du=0,Dp=i):Du=0,ju(0)}}function X0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,yu(r)))}function Id(){return K0(),W0(),Q0(),J0()}function J0(){if(Rn!==5)return!1;var i=fo,r=Op;Op=0;var l=ke(ma),h=ae.T,y=Se.p;try{Se.p=32>l?32:l,ae.T=null,l=kp,kp=null;var b=fo,A=ma;if(Rn=0,Rc=fo=null,ma=0,(Tt&6)!==0)throw Error(s(331));var M=Tt;if(Tt|=4,O0(b.current),P0(b,b.current,A,l),Tt=M,ju(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Qn,b)}catch{}return!0}finally{Se.p=y,ae.T=h,X0(i,r)}}function eb(i,r,l){r=u(l,r),r=mp(i.stateNode,r,2),i=ro(i,r,2),i!==null&&(Hs(i,2),Nr(i))}function Pt(i,r,l){if(i.tag===3)eb(i,i,l);else for(;r!==null;){if(r.tag===3){eb(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ho===null||!ho.has(h))){i=u(l,i),l=t0(2),h=ro(r,l,2),h!==null&&(n0(l,h,r,i),Hs(h,2),Nr(h));break}}r=r.return}}function zp(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new w2;var y=new Set;h.set(r,y)}else y=h.get(r),y===void 0&&(y=new Set,h.set(r,y));y.has(l)||(Pp=!0,y.add(l),i=C2.bind(null,i,r,l),r.then(i,i))}function C2(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,zt===i&&(ht&l)===l&&(ln===4||ln===3&&(ht&62914560)===ht&&300>Cn()-Td?(Tt&2)===0&&Ic(i,0):Mp|=l,Nc===ht&&(Nc=0)),Nr(i)}function tb(i,r){r===0&&(r=Jl()),i=Ps(i,r),i!==null&&(Hs(i,r),Nr(i))}function N2(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),tb(i,l)}function R2(i,r){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),tb(i,l)}function I2(i,r){return $t(i,r)}var Pd=null,Mc=null,Up=!1,Md=!1,Bp=!1,po=0;function Nr(i){i!==Mc&&i.next===null&&(Mc===null?Pd=Mc=i:Mc=Mc.next=i),Md=!0,Up||(Up=!0,M2())}function ju(i,r){if(!Bp&&Md){Bp=!0;do for(var l=!1,h=Pd;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var A=h.suspendedLanes,M=h.pingedLanes;b=(1<<31-Pe(42|i)+1)-1,b&=y&~(A&~M),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,rb(h,b))}else b=ht,b=_s(h,h===zt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Fi(h,b)||(l=!0,rb(h,b));h=h.next}while(l);Bp=!1}}function P2(){nb()}function nb(){Md=Up=!1;var i=0;po!==0&&H2()&&(i=po);for(var r=Cn(),l=null,h=Pd;h!==null;){var y=h.next,b=ib(h,r);b===0?(h.next=null,l===null?Pd=y:l.next=y,y===null&&(Mc=l)):(l=h,(i!==0||(b&3)!==0)&&(Md=!0)),h=y}Rn!==0&&Rn!==5||ju(i),po!==0&&(po=0)}function ib(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-Pe(b),M=1<<A,W=y[A];W===-1?((M&l)===0||(M&h)!==0)&&(y[A]=cu(M,r)):W<=r&&(i.expiredLanes|=M),b&=~M}if(r=zt,l=ht,l=_s(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(It===2||It===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Ti(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Fi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&Ti(h),ke(l)){case 2:case 8:l=hr;break;case 32:l=qi;break;case 268435456:l=Fr;break;default:l=qi}return h=sb.bind(null,i),l=$t(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&Ti(h),i.callbackPriority=2,i.callbackNode=null,2}function sb(i,r){if(Rn!==0&&Rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Id()&&i.callbackNode!==l)return null;var h=ht;return h=_s(i,i===zt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(z0(i,h,r),ib(i,Cn()),i.callbackNode!=null&&i.callbackNode===l?sb.bind(null,i):null)}function rb(i,r){if(Id())return null;z0(i,r,!0)}function M2(){F2(function(){(Tt&6)!==0?$t(Bs,P2):nb()})}function Hp(){if(po===0){var i=yc;i===0&&(i=Dt,Dt<<=1,(Dt&261888)===0&&(Dt=256)),po=i}return po}function ab(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:mr(""+i)}function ob(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function L2(i,r,l,h,y){if(r==="submit"&&l&&l.stateNode===y){var b=ab((y[sn]||null).action),A=h.submitter;A&&(r=(r=A[sn]||null)?ab(r.formAction):A.getAttribute("formAction"),r!==null&&(b=r,A=null));var M=new Cs("action","action",null,h,y);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(po!==0){var W=A?ob(y,A):new FormData(y);lp(l,{pending:!0,data:W,method:y.method,action:b},null,W)}}else typeof b=="function"&&(M.preventDefault(),W=A?ob(y,A):new FormData(y),lp(l,{pending:!0,data:W,method:y.method,action:b},b,W))},currentTarget:y}]})}}for(var qp=0;qp<wr.length;qp++){var Fp=wr[qp],O2=Fp.toLowerCase(),k2=Fp[0].toUpperCase()+Fp.slice(1);Oi(O2,"on"+k2)}Oi(hl,"onAnimationEnd"),Oi(Wh,"onAnimationIteration"),Oi(dl,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Lm,"onTransitionRun"),Oi(Qh,"onTransitionStart"),Oi(Om,"onTransitionCancel"),Oi(eo,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function lb(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var b=void 0;if(r)for(var A=h.length-1;0<=A;A--){var M=h[A],W=M.instance,le=M.currentTarget;if(M=M.listener,W!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=le;try{b(y)}catch(ge){fl(ge)}y.currentTarget=null,b=W}else for(A=0;A<h.length;A++){if(M=h[A],W=M.instance,le=M.currentTarget,M=M.listener,W!==b&&y.isPropagationStopped())break e;b=M,y.currentTarget=le;try{b(y)}catch(ge){fl(ge)}y.currentTarget=null,b=W}}}}function ct(i,r){var l=r[Zi];l===void 0&&(l=r[Zi]=new Set);var h=i+"__bubble";l.has(h)||(cb(r,i,2,!1),l.add(h))}function Gp(i,r,l){var h=0;r&&(h|=4),cb(l,i,h,r)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function Zp(i){if(!i[Ld]){i[Ld]=!0,Wo.forEach(function(l){l!=="selectionchange"&&(D2.has(l)||Gp(l,!1,i),Gp(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ld]||(r[Ld]=!0,Gp("selectionchange",!1,r))}}function cb(i,r,l,h){switch(Vb(r)){case 2:var y=uA;break;case 8:y=hA;break;default:y=og}l=y.bind(null,r,l,i),y=void 0,!Zs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(r,l,{capture:!0,passive:y}):i.addEventListener(r,l,!0):y!==void 0?i.addEventListener(r,l,{passive:y}):i.addEventListener(r,l,!1)}function $p(i,r,l,h,y){var b=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===y)break;if(A===4)for(A=h.return;A!==null;){var W=A.tag;if((W===3||W===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;M!==null;){if(A=$i(M),A===null)return;if(W=A.tag,W===5||W===6||W===26||W===27){h=b=A;continue e}M=M.parentNode}}h=h.return}Gs(function(){var le=b,ge=Jn(l),Ee=[];e:{var ue=Xh.get(i);if(ue!==void 0){var me=Cs,De=i;switch(i){case"keypress":if(gr(l)===0)break e;case"keydown":case"keyup":me=il;break;case"focusin":De="focus",me=Xr;break;case"focusout":De="blur",me=Xr;break;case"beforeblur":case"afterblur":me=Xr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=T;break;case hl:case Wh:case dl:me=Fa;break;case eo:me=z;break;case"scroll":case"scrollend":me=st;break;case"wheel":me=he;break;case"copy":case"cut":case"paste":me=fi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Ws;break;case"toggle":case"beforetoggle":me=Ye}var Ge=(r&4)!==0,Ot=!Ge&&(i==="scroll"||i==="scrollend"),ie=Ge?ue!==null?ue+"Capture":null:ue;Ge=[];for(var X=le,oe;X!==null;){var ve=X;if(oe=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||oe===null||ie===null||(ve=di(X,ie),ve!=null&&Ge.push(zu(X,ve,oe))),Ot)break;X=X.return}0<Ge.length&&(ue=new me(ue,De,null,l,ge),Ee.push({event:ue,listeners:Ge}))}}if((r&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",ue&&l!==qa&&(De=l.relatedTarget||l.fromElement)&&($i(De)||De[Gi]))break e;if((me||ue)&&(ue=ge.window===ge?ge:(ue=ge.ownerDocument)?ue.defaultView||ue.parentWindow:window,me?(De=l.relatedTarget||l.toElement,me=le,De=De?$i(De):null,De!==null&&(Ot=c(De),Ge=De.tag,De!==Ot||Ge!==5&&Ge!==27&&Ge!==6)&&(De=null)):(me=null,De=le),me!==De)){if(Ge=Xo,ve="onMouseLeave",ie="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(Ge=Ws,ve="onPointerLeave",ie="onPointerEnter",X="pointer"),Ot=me==null?ue:Ln(me),oe=De==null?ue:Ln(De),ue=new Ge(ve,X+"leave",me,l,ge),ue.target=Ot,ue.relatedTarget=oe,ve=null,$i(ge)===le&&(Ge=new Ge(ie,X+"enter",De,l,ge),Ge.target=oe,Ge.relatedTarget=Ot,ve=Ge),Ot=ve,me&&De)t:{for(Ge=j2,ie=me,X=De,oe=0,ve=ie;ve;ve=Ge(ve))oe++;ve=0;for(var Ue=X;Ue;Ue=Ge(Ue))ve++;for(;0<oe-ve;)ie=Ge(ie),oe--;for(;0<ve-oe;)X=Ge(X),ve--;for(;oe--;){if(ie===X||X!==null&&ie===X.alternate){Ge=ie;break t}ie=Ge(ie),X=Ge(X)}Ge=null}else Ge=null;me!==null&&ub(Ee,ue,me,Ge,!1),De!==null&&Ot!==null&&ub(Ee,Ot,De,Ge,!0)}}e:{if(ue=le?Ln(le):window,me=ue.nodeName&&ue.nodeName.toLowerCase(),me==="select"||me==="input"&&ue.type==="file")var wt=ol;else if(Ns(ue))if(Gh)wt=Mm;else{wt=Pm;var je=Qs}else me=ue.nodeName,!me||me.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&fr(le.elementType)&&(wt=ol):wt=Wa;if(wt&&(wt=wt(i,le))){Fh(Ee,wt,l,ge);break e}je&&je(i,ue,le),i==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&Yi(ue,"number",ue.value)}switch(je=le?Ln(le):window,i){case"focusin":(Ns(je)||je.contentEditable==="true")&&(br=je,uc=le,ul=null);break;case"focusout":ul=uc=br=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,Yh(Ee,l,ge);break;case"selectionchange":if(cc)break;case"keydown":case"keyup":Yh(Ee,l,ge)}var it;if(yt)e:{switch(i){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else $a?Jr(i,l)&&(dt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(dt="onCompositionStart");dt&&(Li&&l.locale!=="ko"&&($a||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&$a&&(it=Ki()):(Pi=ge,$s="value"in Pi?Pi.value:Pi.textContent,$a=!0)),je=Od(le,dt),0<je.length&&(dt=new Xi(dt,i,null,l,ge),Ee.push({event:dt,listeners:je}),it?dt.data=it:(it=ea(l),it!==null&&(dt.data=it)))),(it=Mi?ts(i,l):Ya(i,l))&&(dt=Od(le,"onBeforeInput"),0<dt.length&&(je=new Xi("onBeforeInput","beforeinput",null,l,ge),Ee.push({event:je,listeners:dt}),je.data=it)),L2(Ee,i,le,l,ge)}lb(Ee,r)})}function zu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Od(i,r){for(var l=r+"Capture",h=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=di(i,l),y!=null&&h.unshift(zu(i,y,b)),y=di(i,r),y!=null&&h.push(zu(i,y,b))),i.tag===3)return h;i=i.return}return[]}function j2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ub(i,r,l,h,y){for(var b=r._reactName,A=[];l!==null&&l!==h;){var M=l,W=M.alternate,le=M.stateNode;if(M=M.tag,W!==null&&W===h)break;M!==5&&M!==26&&M!==27||le===null||(W=le,y?(le=di(l,b),le!=null&&A.unshift(zu(l,le,W))):y||(le=di(l,b),le!=null&&A.push(zu(l,le,W)))),l=l.return}A.length!==0&&i.push({event:r,listeners:A})}var V2=/\r\n?/g,z2=/\u0000|\uFFFD/g;function hb(i){return(typeof i=="string"?i:""+i).replace(V2,`
`).replace(z2,"")}function db(i,r){return r=hb(r),hb(i)===r}function Lt(i,r,l,h,y,b){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||_n(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&_n(i,""+h);break;case"className":at(i,"class",h);break;case"tabIndex":at(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":at(i,l,h);break;case"style":Kr(i,h,b);break;case"data":if(r!=="object"){at(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=mr(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Lt(i,r,"name",y.name,y,null),Lt(i,r,"formEncType",y.formEncType,y,null),Lt(i,r,"formMethod",y.formMethod,y,null),Lt(i,r,"formTarget",y.formTarget,y,null)):(Lt(i,r,"encType",y.encType,y,null),Lt(i,r,"method",y.method,y,null),Lt(i,r,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=mr(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Xn);break;case"onScroll":h!=null&&ct("scroll",i);break;case"onScrollEnd":h!=null&&ct("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=mr(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ct("beforetoggle",i),ct("toggle",i),rt(i,"popover",h);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":rt(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wr.get(l)||l,rt(i,l,h))}}function Yp(i,r,l,h,y,b){switch(l){case"style":Kr(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?_n(i,h):(typeof h=="number"||typeof h=="bigint")&&_n(i,""+h);break;case"onScroll":h!=null&&ct("scroll",i);break;case"onScrollEnd":h!=null&&ct("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),b=i[sn]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(r,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):rt(i,l,h)}}}function Gn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",i),ct("load",i);var h=!1,y=!1,b;for(b in l)if(l.hasOwnProperty(b)){var A=l[b];if(A!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Lt(i,r,b,A,l,null)}}y&&Lt(i,r,"srcSet",l.srcSet,l,null),h&&Lt(i,r,"src",l.src,l,null);return;case"input":ct("invalid",i);var M=b=A=y=null,W=null,le=null;for(h in l)if(l.hasOwnProperty(h)){var ge=l[h];if(ge!=null)switch(h){case"name":y=ge;break;case"type":A=ge;break;case"checked":W=ge;break;case"defaultChecked":le=ge;break;case"value":b=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,r));break;default:Lt(i,r,h,ge,l,null)}}Yr(i,b,M,W,le,A,y,!1);return;case"select":ct("invalid",i),h=A=b=null;for(y in l)if(l.hasOwnProperty(y)&&(M=l[y],M!=null))switch(y){case"value":b=M;break;case"defaultValue":A=M;break;case"multiple":h=M;default:Lt(i,r,y,M,l,null)}r=b,l=A,i.multiple=!!h,r!=null?Rt(i,!!h,r,!1):l!=null&&Rt(i,!!h,l,!0);return;case"textarea":ct("invalid",i),b=y=h=null;for(A in l)if(l.hasOwnProperty(A)&&(M=l[A],M!=null))switch(A){case"value":h=M;break;case"defaultValue":y=M;break;case"children":b=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Lt(i,r,A,M,l,null)}Ii(i,h,y,b);return;case"option":for(W in l)l.hasOwnProperty(W)&&(h=l[W],h!=null)&&(W==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":Lt(i,r,W,h,l,null));return;case"dialog":ct("beforetoggle",i),ct("toggle",i),ct("cancel",i),ct("close",i);break;case"iframe":case"object":ct("load",i);break;case"video":case"audio":for(h=0;h<Vu.length;h++)ct(Vu[h],i);break;case"image":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"embed":case"source":case"link":ct("error",i),ct("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in l)if(l.hasOwnProperty(le)&&(h=l[le],h!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Lt(i,r,le,h,l,null)}return;default:if(fr(r)){for(ge in l)l.hasOwnProperty(ge)&&(h=l[ge],h!==void 0&&Yp(i,r,ge,h,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(h=l[M],h!=null&&Lt(i,r,M,h,l,null))}function U2(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,M=null,W=null,le=null,ge=null;for(me in l){var Ee=l[me];if(l.hasOwnProperty(me)&&Ee!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":W=Ee;default:h.hasOwnProperty(me)||Lt(i,r,me,null,h,Ee)}}for(var ue in h){var me=h[ue];if(Ee=l[ue],h.hasOwnProperty(ue)&&(me!=null||Ee!=null))switch(ue){case"type":b=me;break;case"name":y=me;break;case"checked":le=me;break;case"defaultChecked":ge=me;break;case"value":A=me;break;case"defaultValue":M=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,r));break;default:me!==Ee&&Lt(i,r,ue,me,h,Ee)}}Ba(i,A,M,W,le,ge,b,y);return;case"select":me=A=M=ue=null;for(b in l)if(W=l[b],l.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":me=W;default:h.hasOwnProperty(b)||Lt(i,r,b,null,h,W)}for(y in h)if(b=h[y],W=l[y],h.hasOwnProperty(y)&&(b!=null||W!=null))switch(y){case"value":ue=b;break;case"defaultValue":M=b;break;case"multiple":A=b;default:b!==W&&Lt(i,r,y,b,h,W)}r=M,l=A,h=me,ue!=null?Rt(i,!!l,ue,!1):!!h!=!!l&&(r!=null?Rt(i,!!l,r,!0):Rt(i,!!l,l?[]:"",!1));return;case"textarea":me=ue=null;for(M in l)if(y=l[M],l.hasOwnProperty(M)&&y!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Lt(i,r,M,null,h,y)}for(A in h)if(y=h[A],b=l[A],h.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":ue=y;break;case"defaultValue":me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==b&&Lt(i,r,A,y,h,b)}Ts(i,ue,me);return;case"option":for(var De in l)ue=l[De],l.hasOwnProperty(De)&&ue!=null&&!h.hasOwnProperty(De)&&(De==="selected"?i.selected=!1:Lt(i,r,De,null,h,ue));for(W in h)ue=h[W],me=l[W],h.hasOwnProperty(W)&&ue!==me&&(ue!=null||me!=null)&&(W==="selected"?i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol":Lt(i,r,W,ue,h,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in l)ue=l[Ge],l.hasOwnProperty(Ge)&&ue!=null&&!h.hasOwnProperty(Ge)&&Lt(i,r,Ge,null,h,ue);for(le in h)if(ue=h[le],me=l[le],h.hasOwnProperty(le)&&ue!==me&&(ue!=null||me!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:Lt(i,r,le,ue,h,me)}return;default:if(fr(r)){for(var Ot in l)ue=l[Ot],l.hasOwnProperty(Ot)&&ue!==void 0&&!h.hasOwnProperty(Ot)&&Yp(i,r,Ot,void 0,h,ue);for(ge in h)ue=h[ge],me=l[ge],!h.hasOwnProperty(ge)||ue===me||ue===void 0&&me===void 0||Yp(i,r,ge,ue,h,me);return}}for(var ie in l)ue=l[ie],l.hasOwnProperty(ie)&&ue!=null&&!h.hasOwnProperty(ie)&&Lt(i,r,ie,null,h,ue);for(Ee in h)ue=h[Ee],me=l[Ee],!h.hasOwnProperty(Ee)||ue===me||ue==null&&me==null||Lt(i,r,Ee,ue,h,me)}function fb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],b=y.transferSize,A=y.initiatorType,M=y.duration;if(b&&M&&fb(A)){for(A=0,M=y.responseEnd,h+=1;h<l.length;h++){var W=l[h],le=W.startTime;if(le>M)break;var ge=W.transferSize,Ee=W.initiatorType;ge&&fb(Ee)&&(W=W.responseEnd,A+=ge*(W<M?1:(M-le)/(W-le)))}if(--h,r+=8*(b+A)/(y.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Kp=null,Wp=null;function kd(i){return i.nodeType===9?i:i.ownerDocument}function mb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Qp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xp=null;function H2(){var i=window.event;return i&&i.type==="popstate"?i===Xp?!1:(Xp=i,!0):(Xp=null,!1)}var gb=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,yb=typeof Promise=="function"?Promise:void 0,F2=typeof queueMicrotask=="function"?queueMicrotask:typeof yb<"u"?function(i){return yb.resolve(null).then(i).catch(G2)}:gb;function G2(i){setTimeout(function(){throw i})}function go(i){return i==="head"}function _b(i,r){var l=r,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),Dc(r);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Uu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Uu(l);for(var b=l.firstChild;b;){var A=b.nextSibling,M=b.nodeName;b[bs]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=A}}else l==="body"&&Uu(i.ownerDocument.body);l=y}while(l);Dc(r)}function vb(i,r){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Jp(l),Va(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Z2(i,r,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[bs])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Os(i.nextSibling),i===null)break}return null}function $2(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Os(i.nextSibling),i===null))return null;return i}function bb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Os(i.nextSibling),i===null))return null;return i}function eg(i){return i.data==="$?"||i.data==="$~"}function tg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Y2(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Os(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ng=null;function xb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Os(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function wb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function Eb(i,r,l){switch(r=kd(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Uu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Va(i)}var ks=new Map,Tb=new Set;function Dd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var pa=Se.d;Se.d={f:K2,r:W2,D:Q2,C:X2,L:J2,m:eA,X:nA,S:tA,M:iA};function K2(){var i=pa.f(),r=Cd();return i||r}function W2(i){var r=Ci(i);r!==null&&r.tag===5&&r.type==="form"?Bv(r):pa.r(i)}var Lc=typeof document>"u"?null:document;function Sb(i,r,l){var h=Lc;if(h&&typeof r=="string"&&r){var y=jt(r);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Tb.has(y)||(Tb.add(y),i={rel:i,crossOrigin:l,href:r},h.querySelector(y)===null&&(r=h.createElement("link"),Gn(r,"link",i),rn(r),h.head.appendChild(r)))}}function Q2(i){pa.D(i),Sb("dns-prefetch",i,null)}function X2(i,r){pa.C(i,r),Sb("preconnect",i,r)}function J2(i,r,l){pa.L(i,r,l);var h=Lc;if(h&&i&&r){var y='link[rel="preload"][as="'+jt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+jt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+jt(l.imageSizes)+'"]')):y+='[href="'+jt(i)+'"]';var b=y;switch(r){case"style":b=Oc(i);break;case"script":b=kc(i)}ks.has(b)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),ks.set(b,i),h.querySelector(y)!==null||r==="style"&&h.querySelector(Bu(b))||r==="script"&&h.querySelector(Hu(b))||(r=h.createElement("link"),Gn(r,"link",i),rn(r),h.head.appendChild(r)))}}function eA(i,r){pa.m(i,r);var l=Lc;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+jt(h)+'"][href="'+jt(i)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=kc(i)}if(!ks.has(b)&&(i=E({rel:"modulepreload",href:i},r),ks.set(b,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Hu(b)))return}h=l.createElement("link"),Gn(h,"link",i),rn(h),l.head.appendChild(h)}}}function tA(i,r,l){pa.S(i,r,l);var h=Lc;if(h&&i){var y=xs(h).hoistableStyles,b=Oc(i);r=r||"default";var A=y.get(b);if(!A){var M={loading:0,preload:null};if(A=h.querySelector(Bu(b)))M.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=ks.get(b))&&ig(i,l);var W=A=h.createElement("link");rn(W),Gn(W,"link",i),W._p=new Promise(function(le,ge){W.onload=le,W.onerror=ge}),W.addEventListener("load",function(){M.loading|=1}),W.addEventListener("error",function(){M.loading|=2}),M.loading|=4,jd(A,r,h)}A={type:"stylesheet",instance:A,count:1,state:M},y.set(b,A)}}}function nA(i,r){pa.X(i,r);var l=Lc;if(l&&i){var h=xs(l).hoistableScripts,y=kc(i),b=h.get(y);b||(b=l.querySelector(Hu(y)),b||(i=E({src:i,async:!0},r),(r=ks.get(y))&&sg(i,r),b=l.createElement("script"),rn(b),Gn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function iA(i,r){pa.M(i,r);var l=Lc;if(l&&i){var h=xs(l).hoistableScripts,y=kc(i),b=h.get(y);b||(b=l.querySelector(Hu(y)),b||(i=E({src:i,async:!0,type:"module"},r),(r=ks.get(y))&&sg(i,r),b=l.createElement("script"),rn(b),Gn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function Ab(i,r,l,h){var y=(y=Ce.current)?Dd(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Oc(l.href),l=xs(y).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Oc(l.href);var b=xs(y).hoistableStyles,A=b.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=y.querySelector(Bu(i)))&&!b._p&&(A.instance=b,A.state.loading=5),ks.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ks.set(i,l),b||sA(y,i,l,A.state))),r&&h===null)throw Error(s(528,""));return A}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=kc(l),l=xs(y).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Oc(i){return'href="'+jt(i)+'"'}function Bu(i){return'link[rel="stylesheet"]['+i+"]"}function Cb(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function sA(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Gn(r,"link",l),rn(r),i.head.appendChild(r))}function kc(i){return'[src="'+jt(i)+'"]'}function Hu(i){return"script[async]"+i}function Nb(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+jt(l.href)+'"]');if(h)return r.instance=h,rn(h),h;var y=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),rn(h),Gn(h,"style",y),jd(h,l.precedence,i),r.instance=h;case"stylesheet":y=Oc(l.href);var b=i.querySelector(Bu(y));if(b)return r.state.loading|=4,r.instance=b,rn(b),b;h=Cb(l),(y=ks.get(y))&&ig(h,y),b=(i.ownerDocument||i).createElement("link"),rn(b);var A=b;return A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),Gn(b,"link",h),r.state.loading|=4,jd(b,l.precedence,i),r.instance=b;case"script":return b=kc(l.src),(y=i.querySelector(Hu(b)))?(r.instance=y,rn(y),y):(h=l,(y=ks.get(b))&&(h=E({},l),sg(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),rn(y),Gn(y,"link",h),i.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,jd(h,l.precedence,i));return r.instance}function jd(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,A=0;A<h.length;A++){var M=h[A];if(M.dataset.precedence===r)b=M;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function ig(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function sg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Vd=null;function Rb(i,r,l){if(Vd===null){var h=new Map,y=Vd=new Map;y.set(l,h)}else y=Vd,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var b=l[y];if(!(b[bs]||b[Xt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(r)||"";A=i+A;var M=h.get(A);M?M.push(b):h.set(A,[b])}}return h}function Ib(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function rA(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Pb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function aA(i,r,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Oc(h.href),b=r.querySelector(Bu(y));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=zd.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=b,rn(b);return}b=r.ownerDocument||r,h=Cb(h),(y=ks.get(y))&&ig(h,y),b=b.createElement("link"),rn(b);var A=b;A._p=new Promise(function(M,W){A.onload=M,A.onerror=W}),Gn(b,"link",h),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=zd.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var rg=0;function oA(i,r){return i.stylesheets&&i.count===0&&Bd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+r);0<i.imgBytes&&rg===0&&(rg=62500*B2());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>rg?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ud=null;function Bd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ud=new Map,r.forEach(lA,i),Ud=null,zd.call(i))}function lA(i,r){if(!(r.state.loading&4)){var l=Ud.get(i);if(l)var h=l.get(null);else{l=new Map,Ud.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),h=A)}h&&l.set(null,h)}y=r.instance,A=y.getAttribute("data-precedence"),b=l.get(A)||h,b===h&&l.set(null,y),l.set(A,y),this.count++,h=zd.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),r.state.loading|=4}}var qu={$$typeof:$,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function cA(i,r,l,h,y,b,A,M,W){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.hiddenUpdates=vs(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Mb(i,r,l,h,y,b,A,M,W,le,ge,Ee){return i=new cA(i,r,l,A,W,le,ge,Ee,M),r=1,b===!0&&(r|=24),b=ii(3,null,null,r),i.current=b,b.stateNode=i,r=Vm(),r.refCount++,i.pooledCache=r,r.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:r},Hm(b),i}function Lb(i){return i?(i=ta,i):ta}function Ob(i,r,l,h,y,b){y=Lb(y),h.context===null?h.context=y:h.pendingContext=y,h=so(r),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=ro(i,h,r),l!==null&&(Bi(l,i,r),xu(l,i,r))}function kb(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function ag(i,r){kb(i,r),(i=i.alternate)&&kb(i,r)}function Db(i){if(i.tag===13||i.tag===31){var r=Ps(i,67108864);r!==null&&Bi(r,i,67108864),ag(i,67108864)}}function jb(i){if(i.tag===13||i.tag===31){var r=as();r=Mn(r);var l=Ps(i,r);l!==null&&Bi(l,i,r),ag(i,r)}}var Hd=!0;function uA(i,r,l,h){var y=ae.T;ae.T=null;var b=Se.p;try{Se.p=2,og(i,r,l,h)}finally{Se.p=b,ae.T=y}}function hA(i,r,l,h){var y=ae.T;ae.T=null;var b=Se.p;try{Se.p=8,og(i,r,l,h)}finally{Se.p=b,ae.T=y}}function og(i,r,l,h){if(Hd){var y=lg(h);if(y===null)$p(i,r,h,qd,l),zb(i,h);else if(fA(y,i,r,l,h))h.stopPropagation();else if(zb(i,h),r&4&&-1<dA.indexOf(i)){for(;y!==null;){var b=Ci(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=ys(b.pendingLanes);if(A!==0){var M=b;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var W=1<<31-Pe(A);M.entanglements[1]|=W,A&=~W}Nr(b),(Tt&6)===0&&(Sd=Cn()+500,ju(0))}}break;case 31:case 13:M=Ps(b,2),M!==null&&Bi(M,b,2),Cd(),ag(b,2)}if(b=lg(h),b===null&&$p(i,r,h,qd,l),b===y)break;y=b}y!==null&&h.stopPropagation()}else $p(i,r,h,null,l)}}function lg(i){return i=Jn(i),cg(i)}var qd=null;function cg(i){if(qd=null,i=$i(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=d(r),i!==null)return i;i=null}else if(l===31){if(i=_(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return qd=i,null}function Vb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Us()){case Bs:return 2;case hr:return 8;case qi:case Zo:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var ug=!1,yo=null,_o=null,vo=null,Fu=new Map,Gu=new Map,bo=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zb(i,r){switch(i){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Fu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(r.pointerId)}}function Zu(i,r,l,h,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},r!==null&&(r=Ci(r),r!==null&&Db(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function fA(i,r,l,h,y){switch(r){case"focusin":return yo=Zu(yo,i,r,l,h,y),!0;case"dragenter":return _o=Zu(_o,i,r,l,h,y),!0;case"mouseover":return vo=Zu(vo,i,r,l,h,y),!0;case"pointerover":var b=y.pointerId;return Fu.set(b,Zu(Fu.get(b)||null,i,r,l,h,y)),!0;case"gotpointercapture":return b=y.pointerId,Gu.set(b,Zu(Gu.get(b)||null,i,r,l,h,y)),!0}return!1}function Ub(i){var r=$i(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=d(l),r!==null){i.blockedOn=r,Si(i.priority,function(){jb(l)});return}}else if(r===31){if(r=_(l),r!==null){i.blockedOn=r,Si(i.priority,function(){jb(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=lg(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);qa=h,l.target.dispatchEvent(h),qa=null}else return r=Ci(l),r!==null&&Db(r),i.blockedOn=l,!1;r.shift()}return!0}function Bb(i,r,l){Fd(i)&&l.delete(r)}function mA(){ug=!1,yo!==null&&Fd(yo)&&(yo=null),_o!==null&&Fd(_o)&&(_o=null),vo!==null&&Fd(vo)&&(vo=null),Fu.forEach(Bb),Gu.forEach(Bb)}function Gd(i,r){i.blockedOn===r&&(i.blockedOn=null,ug||(ug=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mA)))}var Zd=null;function Hb(i){Zd!==i&&(Zd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zd===i&&(Zd=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],y=i[r+2];if(typeof h!="function"){if(cg(h||l)===null)continue;break}var b=Ci(l);b!==null&&(i.splice(r,3),r-=3,lp(b,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Dc(i){function r(W){return Gd(W,i)}yo!==null&&Gd(yo,i),_o!==null&&Gd(_o,i),vo!==null&&Gd(vo,i),Fu.forEach(r),Gu.forEach(r);for(var l=0;l<bo.length;l++){var h=bo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<bo.length&&(l=bo[0],l.blockedOn===null);)Ub(l),l.blockedOn===null&&bo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],b=l[h+1],A=y[sn]||null;if(typeof b=="function")A||Hb(l);else if(A){var M=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[sn]||null)M=A.formAction;else if(cg(y)!==null)continue}else M=A.action;typeof M=="function"?l[h+1]=M:(l.splice(h,3),h-=3),Hb(l)}}}function qb(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function hg(i){this._internalRoot=i}$d.prototype.render=hg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=as();Ob(l,h,i,r,null,null)},$d.prototype.unmount=hg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Ob(i.current,2,null,i,null,null),Cd(),r[Gi]=null}};function $d(i){this._internalRoot=i}$d.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ko();i={blockedOn:null,target:i,priority:r};for(var l=0;l<bo.length&&r!==0&&r<bo[l].priority;l++);bo.splice(l,0,i),l===0&&Ub(i)}};var Fb=e.version;if(Fb!=="19.2.4")throw Error(s(527,Fb,"19.2.4"));Se.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var pA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{Qn=Yd.inject(pA),Wt=Yd}catch{}}return Yu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",y=Qv,b=Xv,A=Jv;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=Mb(i,1,!1,null,null,l,h,null,y,b,A,qb),i[Gi]=r.current,Zp(i),new hg(r)},Yu.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,y="",b=Qv,A=Xv,M=Jv,W=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(W=l.formState)),r=Mb(i,1,!0,r,l??null,h,y,W,b,A,M,qb),r.context=Lb(null),l=r.current,h=as(),h=Mn(h),y=so(h),y.callback=null,ro(l,y,h),l=h,r.current.lanes=l,Hs(r,l),Nr(r),i[Gi]=r.current,Zp(i),new $d(r)},Yu.version="19.2.4",Yu}var ex;function TA(){if(ex)return mg.exports;ex=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mg.exports=EA(),mg.exports}var SA=TA();var tx="popstate";function AA(n={}){function e(o,c){let{pathname:d="/",search:_="",hash:p=""}=$l(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),$g("",{pathname:d,search:_,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let d=o.document.querySelector("base"),_="";if(d&&d.getAttribute("href")){let p=o.location.href,v=p.indexOf("#");_=v===-1?p:p.slice(0,v)}return _+"#"+(typeof c=="string"?c:ph(c))}function s(o,c){hs(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return NA(e,t,s,n)}function Kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CA(){return Math.random().toString(36).substring(2,10)}function nx(n,e){return{usr:n.state,key:n.key,idx:e}}function $g(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$l(e):e,state:t,key:e&&e.key||s||CA()}}function ph({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $l(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function NA(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,_="POP",p=null,v=w();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function w(){return(d.state||{idx:null}).idx}function E(){_="POP";let k=w(),O=k==null?null:k-v;v=k,p&&p({action:_,location:U.location,delta:O})}function N(k,O){_="PUSH";let B=$g(U.location,k,O);t&&t(B,k),v=w()+1;let $=nx(B,v),te=U.createHref(B);try{d.pushState($,"",te)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(te)}c&&p&&p({action:_,location:U.location,delta:1})}function R(k,O){_="REPLACE";let B=$g(U.location,k,O);t&&t(B,k),v=w();let $=nx(B,v),te=U.createHref(B);d.replaceState($,"",te),c&&p&&p({action:_,location:U.location,delta:0})}function j(k){return RA(k)}let U={get action(){return _},get location(){return n(o,d)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(tx,E),p=k,()=>{o.removeEventListener(tx,E),p=null}},createHref(k){return e(o,k)},createURL:j,encodeLocation(k){let O=j(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:N,replace:R,go(k){return d.go(k)}};return U}function RA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ph(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function c1(n,e,t="/"){return IA(n,e,t,!1)}function IA(n,e,t,s){let o=typeof e=="string"?$l(e):e,c=Sa(o.pathname||"/",t);if(c==null)return null;let d=u1(n);PA(d);let _=null;for(let p=0;_==null&&p<d.length;++p){let v=HA(c);_=UA(d[p],v,s)}return _}function u1(n,e=[],t=[],s="",o=!1){let c=(d,_,p=o,v)=>{let w={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:_,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&p)return;Kt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let E=Ta([s,w.relativePath]),N=t.concat(w);d.children&&d.children.length>0&&(Kt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),u1(d.children,e,N,E,p)),!(d.path==null&&!d.index)&&e.push({path:E,score:VA(E,d.index),routesMeta:N})};return n.forEach((d,_)=>{if(d.path===""||!d.path?.includes("?"))c(d,_);else for(let p of h1(d.path))c(d,_,!0,p)}),e}function h1(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=h1(s.join("/")),_=[];return _.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&_.push(...d),_.map(p=>n.startsWith("/")&&p===""?"/":p)}function PA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var MA=/^:[\w-]+$/,LA=3,OA=2,kA=1,DA=10,jA=-2,ix=n=>n==="*";function VA(n,e){let t=n.split("/"),s=t.length;return t.some(ix)&&(s+=jA),e&&(s+=OA),t.filter(o=>!ix(o)).reduce((o,c)=>o+(MA.test(c)?LA:c===""?kA:DA),s)}function zA(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function UA(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",d=[];for(let _=0;_<s.length;++_){let p=s[_],v=_===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",E=xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},w),N=p.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:Ta([c,E.pathname]),pathnameBase:ZA(Ta([c,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(c=Ta([c,E.pathnameBase]))}return d}function xf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=BA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),_=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:E},N)=>{if(w==="*"){let j=_[N]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const R=_[N];return E&&!R?v[w]=void 0:v[w]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:d,pattern:n}}function BA(n,e=!1,t=!0){hs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,_,p)=>(s.push({paramName:_,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Sa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var qA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function FA(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?$l(n):n,c;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?c=sx(t.substring(1),"/"):c=sx(t,e)):c=e,{pathname:c,search:$A(s),hash:YA(o)}}function sx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function _g(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function My(n){let e=GA(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Ly(n,e,t,s=!1){let o;typeof n=="string"?o=$l(n):(o={...n},Kt(!o.pathname||!o.pathname.includes("?"),_g("?","pathname","search",o)),Kt(!o.pathname||!o.pathname.includes("#"),_g("#","pathname","hash",o)),Kt(!o.search||!o.search.includes("#"),_g("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,_;if(d==null)_=t;else{let E=e.length-1;if(!s&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),E-=1;o.pathname=N.join("/")}_=E>=0?e[E]:"/"}let p=FA(o,_),v=d&&d!=="/"&&d.endsWith("/"),w=(c||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||w)&&(p.pathname+="/"),p}var Ta=n=>n.join("/").replace(/\/\/+/g,"/"),ZA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,YA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,KA=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function WA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function QA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var d1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function f1(n,e){let t=n;if(typeof t!="string"||!qA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(d1)try{let c=new URL(window.location.href),d=t.startsWith("//")?new URL(c.protocol+t):new URL(t),_=Sa(d.pathname,e);d.origin===c.origin&&_!=null?t=_+d.search+d.hash:o=!0}catch{hs(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var m1=["POST","PUT","PATCH","DELETE"];new Set(m1);var XA=["GET",...m1];new Set(XA);var Jc=V.createContext(null);Jc.displayName="DataRouter";var em=V.createContext(null);em.displayName="DataRouterState";var JA=V.createContext(!1),p1=V.createContext({isTransitioning:!1});p1.displayName="ViewTransition";var eC=V.createContext(new Map);eC.displayName="Fetchers";var tC=V.createContext(null);tC.displayName="Await";var ds=V.createContext(null);ds.displayName="Navigation";var Nh=V.createContext(null);Nh.displayName="Location";var cr=V.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var Oy=V.createContext(null);Oy.displayName="RouteError";var g1="REACT_ROUTER_ERROR",nC="REDIRECT",iC="ROUTE_ERROR_RESPONSE";function sC(n){if(n.startsWith(`${g1}:${nC}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rC(n){if(n.startsWith(`${g1}:${iC}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new KA(e.status,e.statusText,e.data)}catch{}}function aC(n,{relative:e}={}){Kt(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=V.useContext(ds),{hash:o,pathname:c,search:d}=Rh(n,{relative:e}),_=c;return t!=="/"&&(_=c==="/"?t:Ta([t,c])),s.createHref({pathname:_,search:d,hash:o})}function eu(){return V.useContext(Nh)!=null}function zs(){return Kt(eu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Nh).location}var y1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _1(n){V.useContext(ds).static||V.useLayoutEffect(n)}function Yl(){let{isDataRoute:n}=V.useContext(cr);return n?bC():oC()}function oC(){Kt(eu(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(Jc),{basename:e,navigator:t}=V.useContext(ds),{matches:s}=V.useContext(cr),{pathname:o}=zs(),c=JSON.stringify(My(s)),d=V.useRef(!1);return _1(()=>{d.current=!0}),V.useCallback((p,v={})=>{if(hs(d.current,y1),!d.current)return;if(typeof p=="number"){t.go(p);return}let w=Ly(p,JSON.parse(c),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ta([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,c,o,n])}V.createContext(null);function lC(){let{matches:n}=V.useContext(cr),e=n[n.length-1];return e?e.params:{}}function Rh(n,{relative:e}={}){let{matches:t}=V.useContext(cr),{pathname:s}=zs(),o=JSON.stringify(My(t));return V.useMemo(()=>Ly(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function cC(n,e){return v1(n,e)}function v1(n,e,t,s,o){Kt(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(ds),{matches:d}=V.useContext(cr),_=d[d.length-1],p=_?_.params:{},v=_?_.pathname:"/",w=_?_.pathnameBase:"/",E=_&&_.route;{let B=E&&E.path||"";x1(v,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let N=zs(),R;if(e){let B=typeof e=="string"?$l(e):e;Kt(w==="/"||B.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=N;let j=R.pathname||"/",U=j;if(w!=="/"){let B=w.replace(/^\//,"").split("/");U="/"+j.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=c1(n,{pathname:U});hs(E||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),hs(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=mC(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Ta([w,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?w:Ta([w,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),d,t,s,o);return e&&O?V.createElement(Nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},O):O}function uC(){let n=vC(),e=WA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,d)}var hC=V.createElement(uC,null),b1=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=rC(n.digest);t&&(n=t)}let e=n!==void 0?V.createElement(cr.Provider,{value:this.props.routeContext},V.createElement(Oy.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?V.createElement(dC,{error:n},e):e}};b1.contextType=JA;var vg=new WeakMap;function dC({children:n,error:e}){let{basename:t}=V.useContext(ds);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=sC(e.digest);if(s){let o=vg.get(e);if(o)throw o;let c=f1(s.location,t);if(d1&&!vg.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw vg.set(e,d),d}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function fC({routeContext:n,match:e,children:t}){let s=V.useContext(Jc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(cr.Provider,{value:n},t)}function mC(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=t?.errors;if(d!=null){let w=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);Kt(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let _=!1,p=-1;if(t)for(let w=0;w<c.length;w++){let E=c[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=w),E.route.id){let{loaderData:N,errors:R}=t,j=E.route.loader&&!N.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||j){_=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let v=t&&s?(w,E)=>{s(w,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:QA(t.matches),errorInfo:E})}:void 0;return c.reduceRight((w,E,N)=>{let R,j=!1,U=null,k=null;t&&(R=d&&E.route.id?d[E.route.id]:void 0,U=E.route.errorElement||hC,_&&(p<0&&N===0?(x1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):p===N&&(j=!0,k=E.route.hydrateFallbackElement||null)));let O=e.concat(c.slice(0,N+1)),B=()=>{let $;return R?$=U:j?$=k:E.route.Component?$=V.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=w,V.createElement(fC,{match:E,routeContext:{outlet:w,matches:O,isDataRoute:t!=null},children:$})};return t&&(E.route.ErrorBoundary||E.route.errorElement||N===0)?V.createElement(b1,{location:t.location,revalidation:t.revalidation,component:U,error:R,children:B(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:v}):B()},null)}function ky(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pC(n){let e=V.useContext(Jc);return Kt(e,ky(n)),e}function gC(n){let e=V.useContext(em);return Kt(e,ky(n)),e}function yC(n){let e=V.useContext(cr);return Kt(e,ky(n)),e}function Dy(n){let e=yC(n),t=e.matches[e.matches.length-1];return Kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _C(){return Dy("useRouteId")}function vC(){let n=V.useContext(Oy),e=gC("useRouteError"),t=Dy("useRouteError");return n!==void 0?n:e.errors?.[t]}function bC(){let{router:n}=pC("useNavigate"),e=Dy("useNavigate"),t=V.useRef(!1);return _1(()=>{t.current=!0}),V.useCallback(async(o,c={})=>{hs(t.current,y1),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var rx={};function x1(n,e,t){!e&&!rx[n]&&(rx[n]=!0,hs(!1,t))}V.memo(xC);function xC({routes:n,future:e,state:t,onError:s}){return v1(n,void 0,t,s,e)}function bg({to:n,replace:e,state:t,relative:s}){Kt(eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(ds);hs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext(cr),{pathname:d}=zs(),_=Yl(),p=Ly(n,My(c),d,s==="path"),v=JSON.stringify(p);return V.useEffect(()=>{_(JSON.parse(v),{replace:e,state:t,relative:s})},[_,v,s,e,t]),null}function os(n){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wC({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){Kt(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=n.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:_,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[_,o,c,d]);typeof t=="string"&&(t=$l(t));let{pathname:v="/",search:w="",hash:E="",state:N=null,key:R="default"}=t,j=V.useMemo(()=>{let U=Sa(v,_);return U==null?null:{location:{pathname:U,search:w,hash:E,state:N,key:R},navigationType:s}},[_,v,w,E,N,R,s]);return hs(j!=null,`<Router basename="${_}"> is not able to match the URL "${v}${w}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:V.createElement(ds.Provider,{value:p},V.createElement(Nh.Provider,{children:e,value:j}))}function EC({children:n,location:e}){return cC(Yg(n),e)}function Yg(n,e=[]){let t=[];return V.Children.forEach(n,(s,o)=>{if(!V.isValidElement(s))return;let c=[...e,o];if(s.type===V.Fragment){t.push.apply(t,Yg(s.props.children,c));return}Kt(s.type===os,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Yg(s.props.children,c)),t.push(d)}),t}var of="get",lf="application/x-www-form-urlencoded";function tm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function TC(n){return tm(n)&&n.tagName.toLowerCase()==="button"}function SC(n){return tm(n)&&n.tagName.toLowerCase()==="form"}function AC(n){return tm(n)&&n.tagName.toLowerCase()==="input"}function CC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function NC(n,e){return n.button===0&&(!e||e==="_self")&&!CC(n)}function Kg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function RC(n,e){let t=Kg(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var Kd=null;function IC(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var PC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xg(n){return n!=null&&!PC.has(n)?(hs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):n}function MC(n,e){let t,s,o,c,d;if(SC(n)){let _=n.getAttribute("action");s=_?Sa(_,e):null,t=n.getAttribute("method")||of,o=xg(n.getAttribute("enctype"))||lf,c=new FormData(n)}else if(TC(n)||AC(n)&&(n.type==="submit"||n.type==="image")){let _=n.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||_.getAttribute("action");if(s=p?Sa(p,e):null,t=n.getAttribute("formmethod")||_.getAttribute("method")||of,o=xg(n.getAttribute("formenctype"))||xg(_.getAttribute("enctype"))||lf,c=new FormData(_,n),!IC()){let{name:v,type:w,value:E}=n;if(w==="image"){let N=v?`${v}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else v&&c.append(v,E)}}else{if(tm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=of,s=null,o=lf,d=n}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function LC(n,e,t,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Sa(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function OC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function DC(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await OC(c,t);return d.links?d.links():[]}return[]}));return UC(s.flat(1).filter(kC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ax(n,e,t,s,o,c){let d=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,_=(p,v)=>t[v].pathname!==p.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,v)=>d(p,v)||_(p,v)):c==="data"?e.filter((p,v)=>{let w=s.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(d(p,v)||_(p,v))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function jC(n,e,{includeHydrateFallback:t}={}){return VC(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function VC(n){return[...new Set(n)]}function zC(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function UC(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(zC(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function w1(){let n=V.useContext(Jc);return jy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function BC(){let n=V.useContext(em);return jy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vy=V.createContext(void 0);Vy.displayName="FrameworkContext";function E1(){let n=V.useContext(Vy);return jy(n,"You must render this element inside a <HydratedRouter> element"),n}function HC(n,e){let t=V.useContext(Vy),[s,o]=V.useState(!1),[c,d]=V.useState(!1),{onFocus:_,onBlur:p,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,N=V.useRef(null);V.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let U=O=>{O.forEach(B=>{d(B.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return N.current&&k.observe(N.current),()=>{k.disconnect()}}},[n]),V.useEffect(()=>{if(s){let U=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(U)}}},[s]);let R=()=>{o(!0)},j=()=>{o(!1),d(!1)};return t?n!=="intent"?[c,N,{}]:[c,N,{onFocus:Ku(_,R),onBlur:Ku(p,j),onMouseEnter:Ku(v,R),onMouseLeave:Ku(w,j),onTouchStart:Ku(E,R)}]:[!1,N,{}]}function Ku(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function qC({page:n,...e}){let{router:t}=w1(),s=V.useMemo(()=>c1(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?V.createElement(GC,{page:n,matches:s,...e}):null}function FC(n){let{manifest:e,routeModules:t}=E1(),[s,o]=V.useState([]);return V.useEffect(()=>{let c=!1;return DC(n,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[n,e,t]),s}function GC({page:n,matches:e,...t}){let s=zs(),{future:o,manifest:c,routeModules:d}=E1(),{basename:_}=w1(),{loaderData:p,matches:v}=BC(),w=V.useMemo(()=>ax(n,e,v,c,s,"data"),[n,e,v,c,s]),E=V.useMemo(()=>ax(n,e,v,c,s,"assets"),[n,e,v,c,s]),N=V.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let U=new Set,k=!1;if(e.forEach(B=>{let $=c.routes[B.route.id];!$||!$.hasLoader||(!w.some(te=>te.route.id===B.route.id)&&B.route.id in p&&d[B.route.id]?.shouldRevalidate||$.hasClientLoader?k=!0:U.add(B.route.id))}),U.size===0)return[];let O=LC(n,_,o.unstable_trailingSlashAwareDataRequests,"data");return k&&U.size>0&&O.searchParams.set("_routes",e.filter(B=>U.has(B.route.id)).map(B=>B.route.id).join(",")),[O.pathname+O.search]},[_,o.unstable_trailingSlashAwareDataRequests,p,s,c,w,e,n,d]),R=V.useMemo(()=>jC(E,c),[E,c]),j=FC(E);return V.createElement(V.Fragment,null,N.map(U=>V.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),R.map(U=>V.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),j.map(({key:U,link:k})=>V.createElement("link",{key:U,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function ZC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$C&&(window.__reactRouterVersion="7.13.0")}catch{}function YC({basename:n,children:e,unstable_useTransitions:t,window:s}){let o=V.useRef();o.current==null&&(o.current=AA({window:s,v5Compat:!0}));let c=o.current,[d,_]=V.useState({action:c.action,location:c.location}),p=V.useCallback(v=>{t===!1?_(v):V.startTransition(()=>_(v))},[t]);return V.useLayoutEffect(()=>c.listen(p),[c,p]),V.createElement(wC,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:t})}var T1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=V.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:_,target:p,to:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:N,...R},j){let{basename:U,unstable_useTransitions:k}=V.useContext(ds),O=typeof v=="string"&&T1.test(v),B=f1(v,U);v=B.to;let $=aC(v,{relative:o}),[te,ne,ye]=HC(s,R),q=XC(v,{replace:d,state:_,target:p,preventScrollReset:w,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:N,unstable_useTransitions:k});function I(G){e&&e(G),G.defaultPrevented||q(G)}let Z=V.createElement("a",{...R,...ye,href:B.absoluteURL||$,onClick:B.isExternal||c?e:I,ref:ZC(j,ne),target:p,"data-discover":!O&&t==="render"?"true":void 0});return te&&!O?V.createElement(V.Fragment,null,Z,V.createElement(qC,{page:$})):Z});un.displayName="Link";var KC=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:_,children:p,...v},w){let E=Rh(d,{relative:v.relative}),N=zs(),R=V.useContext(em),{navigator:j,basename:U}=V.useContext(ds),k=R!=null&&sN(E)&&_===!0,O=j.encodeLocation?j.encodeLocation(E).pathname:E.pathname,B=N.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(B=B.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&U&&($=Sa($,U)||$);const te=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ne=B===O||!o&&B.startsWith(O)&&B.charAt(te)==="/",ye=$!=null&&($===O||!o&&$.startsWith(O)&&$.charAt(O.length)==="/"),q={isActive:ne,isPending:ye,isTransitioning:k},I=ne?e:void 0,Z;typeof s=="function"?Z=s(q):Z=[s,ne?"active":null,ye?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let G=typeof c=="function"?c(q):c;return V.createElement(un,{...v,"aria-current":I,className:Z,ref:w,style:G,to:d,viewTransition:_},typeof p=="function"?p(q):p)});KC.displayName="NavLink";var WC=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:d=of,action:_,onSubmit:p,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:N,...R},j)=>{let{unstable_useTransitions:U}=V.useContext(ds),k=nN(),O=iN(_,{relative:v}),B=d.toLowerCase()==="get"?"get":"post",$=typeof _=="string"&&T1.test(_),te=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let ye=ne.nativeEvent.submitter,q=ye?.getAttribute("formmethod")||d,I=()=>k(ye||ne.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:o,state:c,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:N});U&&t!==!1?V.startTransition(()=>I()):I()};return V.createElement("form",{ref:j,method:B,action:O,onSubmit:s?p:te,...R,"data-discover":!$&&n==="render"?"true":void 0})});WC.displayName="Form";function QC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S1(n){let e=V.useContext(Jc);return Kt(e,QC(n)),e}function XC(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:_,unstable_useTransitions:p}={}){let v=Yl(),w=zs(),E=Rh(n,{relative:c});return V.useCallback(N=>{if(NC(N,e)){N.preventDefault();let R=t!==void 0?t:ph(w)===ph(E),j=()=>v(n,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:_});p?V.startTransition(()=>j()):j()}},[w,v,E,t,s,e,n,o,c,d,_,p])}function JC(n){hs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(Kg(n)),t=V.useRef(!1),s=zs(),o=V.useMemo(()=>RC(s.search,t.current?null:e.current),[s.search]),c=Yl(),d=V.useCallback((_,p)=>{const v=Kg(typeof _=="function"?_(new URLSearchParams(o)):_);t.current=!0,c("?"+v,p)},[c,o]);return[o,d]}var eN=0,tN=()=>`__${String(++eN)}__`;function nN(){let{router:n}=S1("useSubmit"),{basename:e}=V.useContext(ds),t=_C(),s=n.fetch,o=n.navigate;return V.useCallback(async(c,d={})=>{let{action:_,method:p,encType:v,formData:w,body:E}=MC(c,e);if(d.navigate===!1){let N=d.fetcherKey||tN();await s(N,t,d.action||_,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:E,formMethod:d.method||p,formEncType:d.encType||v,flushSync:d.flushSync})}else await o(d.action||_,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:w,body:E,formMethod:d.method||p,formEncType:d.encType||v,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,o,e,t])}function iN(n,{relative:e}={}){let{basename:t}=V.useContext(ds),s=V.useContext(cr);Kt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Rh(n||".",{relative:e})},d=zs();if(n==null){c.search=d.search;let _=new URLSearchParams(c.search),p=_.getAll("index");if(p.some(w=>w==="")){_.delete("index"),p.filter(E=>E).forEach(E=>_.append("index",E));let w=_.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Ta([t,c.pathname])),ph(c)}function sN(n,{relative:e}={}){let t=V.useContext(p1);Kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=S1("useViewTransitionState"),o=Rh(n,{relative:e});if(!t.isTransitioning)return!1;let c=Sa(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=Sa(t.nextLocation.pathname,s)||t.nextLocation.pathname;return xf(o.pathname,d)!=null||xf(o.pathname,c)!=null}l1();const rN=()=>{};var ox={};const A1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aN=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],d=n[t++],_=n[t++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|_&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=n[t++],d=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],d=o+1<n.length,_=d?n[o+1]:0,p=o+2<n.length,v=p?n[o+2]:0,w=c>>2,E=(c&3)<<4|_>>4;let N=(_&15)<<2|v>>6,R=v&63;p||(R=64,d||(N=64)),s.push(t[w],t[E],t[N],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(A1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],_=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||_==null||v==null||E==null)throw new oN;const N=c<<2|_>>4;if(s.push(N),v!==64){const R=_<<4&240|v>>2;if(s.push(R),E!==64){const j=v<<6&192|E;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lN=function(n){const e=A1(n);return C1.encodeByteArray(e,!0)},wf=function(n){return lN(n).replace(/\./g,"")},N1=function(n){try{return C1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uN=()=>cN().__FIREBASE_DEFAULTS__,hN=()=>{if(typeof process>"u"||typeof ox>"u")return;const n=ox.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&N1(n[1]);return e&&JSON.parse(e)},nm=()=>{try{return rN()||uN()||hN()||dN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},R1=n=>nm()?.emulatorHosts?.[n],I1=n=>{const e=R1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},P1=()=>nm()?.config,M1=n=>nm()?.[`_${n}`];class fN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Ho(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zy(n){return(await fetch(n,{credentials:"include"})).ok}function L1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wf(JSON.stringify(t)),wf(JSON.stringify(d)),""].join(".")}const ah={};function mN(){const n={prod:[],emulator:[]};for(const e of Object.keys(ah))ah[e]?n.emulator.push(e):n.prod.push(e);return n}function pN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let lx=!1;function Uy(n,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||ah[n]===e||ah[n]||lx)return;ah[n]=e;function t(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=mN().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function _(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,R){N.setAttribute("width","24"),N.setAttribute("id",R),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{lx=!0,d()},N}function w(N,R){N.setAttribute("id",R),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function E(){const N=pN(s),R=t("text"),j=document.getElementById(R)||document.createElement("span"),U=t("learnmore"),k=document.getElementById(U)||document.createElement("a"),O=t("preprendIcon"),B=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const $=N.element;_($),w(k,U);const te=v();p(B,O),$.append(B,j,k,te),document.body.appendChild($)}c?(j.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function ci(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ci())}function yN(){const n=nm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xN(){const n=ci();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wN(){return!yN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EN(){try{return typeof indexedDB=="object"}catch{return!1}}function TN(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const SN="FirebaseError";class Hr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=SN,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?AN(c,s):"Error",_=`${this.serviceName}: ${d} (${o}).`;return new Hr(o,_,s)}}function AN(n,e){return n.replace(CN,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CN=/\{\$([^}]+)}/g;function NN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jl(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],d=e[o];if(cx(c)&&cx(d)){if(!jl(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function cx(n){return n!==null&&typeof n=="object"}function Ph(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function eh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RN(n,e){const t=new IN(n,e);return t.subscribe.bind(t)}class IN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");PN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=wg),o.error===void 0&&(o.error=wg),o.complete===void 0&&(o.complete=wg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wg(){}function kt(n){return n&&n._delegate?n._delegate:n}class ko{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rl="[DEFAULT]";class MN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new fN;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ON(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LN(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LN(n){return n===Rl?void 0:n}function ON(n){return n.instantiationMode==="EAGER"}class kN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const DN={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},jN=ft.INFO,VN={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},zN=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=VN[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=jN,this._logHandler=zN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const UN=(n,e)=>e.some(t=>n instanceof t);let ux,hx;function BN(){return ux||(ux=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HN(){return hx||(hx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O1=new WeakMap,Wg=new WeakMap,k1=new WeakMap,Eg=new WeakMap,Hy=new WeakMap;function qN(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{t(Po(n.result)),o()},d=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&O1.set(t,n)}).catch(()=>{}),Hy.set(e,n),e}function FN(n){if(Wg.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});Wg.set(n,e)}let Qg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||k1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function GN(n){Qg=n(Qg)}function ZN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Tg(this),e,...t);return k1.set(s,e.sort?e.sort():[e]),Po(s)}:HN().includes(n)?function(...e){return n.apply(Tg(this),e),Po(O1.get(this))}:function(...e){return Po(n.apply(Tg(this),e))}}function $N(n){return typeof n=="function"?ZN(n):(n instanceof IDBTransaction&&FN(n),UN(n,BN())?new Proxy(n,Qg):n)}function Po(n){if(n instanceof IDBRequest)return qN(n);if(Eg.has(n))return Eg.get(n);const e=$N(n);return e!==n&&(Eg.set(n,e),Hy.set(e,n)),e}const Tg=n=>Hy.get(n);function YN(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(n,e),_=Po(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Po(d.result),p.oldVersion,p.newVersion,Po(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),_.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const KN=["get","getKey","getAll","getAllKeys","count"],WN=["put","add","delete","clear"],Sg=new Map;function dx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sg.get(e))return Sg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=WN.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KN.includes(t)))return;const c=async function(d,..._){const p=this.transaction(d,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(_.shift())),(await Promise.all([v[t](..._),o&&p.done]))[0]};return Sg.set(e,c),c}GN(n=>({...n,get:(e,t,s)=>dx(e,t)||n.get(e,t,s),has:(e,t)=>!!dx(e,t)||n.has(e,t)}));class QN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XN(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function XN(n){return n.getComponent()?.type==="VERSION"}const Xg="@firebase/app",fx="0.14.8";const Aa=new By("@firebase/app"),JN="@firebase/app-compat",eR="@firebase/analytics-compat",tR="@firebase/analytics",nR="@firebase/app-check-compat",iR="@firebase/app-check",sR="@firebase/auth",rR="@firebase/auth-compat",aR="@firebase/database",oR="@firebase/data-connect",lR="@firebase/database-compat",cR="@firebase/functions",uR="@firebase/functions-compat",hR="@firebase/installations",dR="@firebase/installations-compat",fR="@firebase/messaging",mR="@firebase/messaging-compat",pR="@firebase/performance",gR="@firebase/performance-compat",yR="@firebase/remote-config",_R="@firebase/remote-config-compat",vR="@firebase/storage",bR="@firebase/storage-compat",xR="@firebase/firestore",wR="@firebase/ai",ER="@firebase/firestore-compat",TR="firebase",SR="12.9.0";const Jg="[DEFAULT]",AR={[Xg]:"fire-core",[JN]:"fire-core-compat",[tR]:"fire-analytics",[eR]:"fire-analytics-compat",[iR]:"fire-app-check",[nR]:"fire-app-check-compat",[sR]:"fire-auth",[rR]:"fire-auth-compat",[aR]:"fire-rtdb",[oR]:"fire-data-connect",[lR]:"fire-rtdb-compat",[cR]:"fire-fn",[uR]:"fire-fn-compat",[hR]:"fire-iid",[dR]:"fire-iid-compat",[fR]:"fire-fcm",[mR]:"fire-fcm-compat",[pR]:"fire-perf",[gR]:"fire-perf-compat",[yR]:"fire-rc",[_R]:"fire-rc-compat",[vR]:"fire-gcs",[bR]:"fire-gcs-compat",[xR]:"fire-fst",[ER]:"fire-fst-compat",[wR]:"fire-vertex","fire-js":"fire-js",[TR]:"fire-js-all"};const Ef=new Map,CR=new Map,ey=new Map;function mx(n,e){try{n.container.addComponent(e)}catch(t){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vl(n){const e=n.name;if(ey.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,n);for(const t of Ef.values())mx(t,n);for(const t of CR.values())mx(t,n);return!0}function im(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _i(n){return n==null?!1:n.settings!==void 0}const NR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mo=new Ih("app","Firebase",NR);class RR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}const Kl=SR;function D1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Jg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Mo.create("bad-app-name",{appName:String(o)});if(t||(t=P1()),!t)throw Mo.create("no-options");const c=Ef.get(o);if(c){if(jl(t,c.options)&&jl(s,c.config))return c;throw Mo.create("duplicate-app",{appName:o})}const d=new kN(o);for(const p of ey.values())d.addComponent(p);const _=new RR(t,s,d);return Ef.set(o,_),_}function qy(n=Jg){const e=Ef.get(n);if(!e&&n===Jg&&P1())return D1();if(!e)throw Mo.create("no-app",{appName:n});return e}function Lr(n,e,t){let s=AR[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(d.join(" "));return}Vl(new ko(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const IR="firebase-heartbeat-database",PR=1,gh="firebase-heartbeat-store";let Ag=null;function j1(){return Ag||(Ag=YN(IR,PR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mo.create("idb-open",{originalErrorMessage:n.message})})),Ag}async function MR(n){try{const t=(await j1()).transaction(gh),s=await t.objectStore(gh).get(V1(n));return await t.done,s}catch(e){if(e instanceof Hr)Aa.warn(e.message);else{const t=Mo.create("idb-get",{originalErrorMessage:e?.message});Aa.warn(t.message)}}}async function px(n,e){try{const s=(await j1()).transaction(gh,"readwrite");await s.objectStore(gh).put(e,V1(n)),await s.done}catch(t){if(t instanceof Hr)Aa.warn(t.message);else{const s=Mo.create("idb-set",{originalErrorMessage:t?.message});Aa.warn(s.message)}}}function V1(n){return`${n.name}!${n.options.appId}`}const LR=1024,OR=30;class kR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>OR){const o=VR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Aa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gx(),{heartbeatsToSend:t,unsentEntries:s}=DR(this._heartbeatsCache.heartbeats),o=wf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Aa.warn(e),""}}}function gx(){return new Date().toISOString().substring(0,10)}function DR(n,e=LR){const t=[];let s=n.slice();for(const o of n){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),yx(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),yx(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class jR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EN()?TN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return px(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return px(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yx(n){return wf(JSON.stringify({version:2,heartbeats:n})).length}function VR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function zR(n){Vl(new ko("platform-logger",e=>new QN(e),"PRIVATE")),Vl(new ko("heartbeat",e=>new kR(e),"PRIVATE")),Lr(Xg,fx,n),Lr(Xg,fx,"esm2020"),Lr("fire-js","")}zR("");var UR="firebase",BR="12.9.0";Lr(UR,BR,"app");function z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HR=z1,U1=new Ih("auth","Firebase",z1());const Tf=new By("@firebase/auth");function qR(n,...e){Tf.logLevel<=ft.WARN&&Tf.warn(`Auth (${Kl}): ${n}`,...e)}function cf(n,...e){Tf.logLevel<=ft.ERROR&&Tf.error(`Auth (${Kl}): ${n}`,...e)}function Vs(n,...e){throw Gy(n,...e)}function rr(n,...e){return Gy(n,...e)}function Fy(n,e,t){const s={...HR(),[e]:t};return new Ih("auth","Firebase",s).create(e,{appName:n.name})}function Or(n){return Fy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FR(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Vs(n,"argument-error"),Fy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gy(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return U1.create(n,...e)}function Ze(n,e,...t){if(!n)throw Gy(e,...t)}function xa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cf(e),new Error(e)}function Ca(n,e){n||xa(e)}function ty(){return typeof self<"u"&&self.location?.href||""}function GR(){return _x()==="http:"||_x()==="https:"}function _x(){return typeof self<"u"&&self.location?.protocol||null}function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GR()||vN()||"connection"in navigator)?navigator.onLine:!0}function $R(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Mh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ca(t>e,"Short delay should be less than long delay!"),this.isMobile=gN()||bN()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zy(n,e){Ca(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class B1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WR=new Mh(3e4,6e4);function Ma(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ur(n,e,t,s,o={}){return H1(n,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const _=Ph({key:n.config.apiKey,...d}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:p,...c};return _N()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Ho(n.emulatorConfig.host)&&(v.credentials="include"),B1.fetch()(await q1(n,n.config.apiHost,t,_),v)})}async function H1(n,e,t){n._canInitEmulator=!1;const s={...YR,...e};try{const o=new XR(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Wd(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const _=c.ok?d.errorMessage:d.error.message,[p,v]=_.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Wd(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw Wd(n,"user-disabled",d);const w=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Fy(n,w,v);Vs(n,w)}}catch(o){if(o instanceof Hr)throw o;Vs(n,"network-request-failed",{message:String(o)})}}async function Lh(n,e,t,s,o={}){const c=await ur(n,e,t,s,o);return"mfaPendingCredential"in c&&Vs(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function q1(n,e,t,s){const o=`${e}${t}?${s}`,c=n,d=c.config.emulator?Zy(n.config,o):`${n.config.apiScheme}://${o}`;return KR.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function QR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(rr(this.auth,"network-request-failed")),WR.get())})}}function Wd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=rr(n,e,s);return o.customData._tokenResponse=t,o}function vx(n){return n!==void 0&&n.enterprise!==void 0}class JR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eI(n,e){return ur(n,"GET","/v2/recaptchaConfig",Ma(n,e))}async function tI(n,e){return ur(n,"POST","/v1/accounts:delete",e)}async function Sf(n,e){return ur(n,"POST","/v1/accounts:lookup",e)}function oh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nI(n,e=!1){const t=kt(n),s=await t.getIdToken(e),o=$y(s);Ze(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:oh(Cg(o.auth_time)),issuedAtTime:oh(Cg(o.iat)),expirationTime:oh(Cg(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Cg(n){return Number(n)*1e3}function $y(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const o=N1(t);return o?JSON.parse(o):(cf("Failed to decode base64 JWT payload"),null)}catch(o){return cf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bx(n){const e=$y(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Hr&&iI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function iI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class sI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ny{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=oh(this.lastLoginAt),this.creationTime=oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Af(n){const e=n.auth,t=await n.getIdToken(),s=await zl(n,Sf(e,{idToken:t}));Ze(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?F1(o.providerUserInfo):[],d=aI(n.providerData,c),_=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!d?.length,v=_?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ny(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function rI(n){const e=kt(n);await Af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aI(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function F1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function oI(n,e){const t=await H1(n,{},async()=>{const s=Ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,d=await q1(n,o,"/v1/token",`key=${c}`),_=await n._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:_,body:s};return n.emulatorConfig&&Ho(n.emulatorConfig.host)&&(p.credentials="include"),B1.fetch()(d,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lI(n,e){return ur(n,"POST","/v2/accounts:revokeToken",Ma(n,e))}class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=bx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await oI(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,d=new Bc;return s&&(Ze(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ze(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ze(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return xa("not implemented")}}function wo(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new sI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ny(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nI(this,e)}reload(){return rI(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Af(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await zl(this,tI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,_=t.tenantId??void 0,p=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:N,isAnonymous:R,providerData:j,stsTokenManager:U}=t;Ze(E&&U,e,"internal-error");const k=Bc.fromJSON(this.name,U);Ze(typeof E=="string",e,"internal-error"),wo(s,e.name),wo(o,e.name),Ze(typeof N=="boolean",e,"internal-error"),Ze(typeof R=="boolean",e,"internal-error"),wo(c,e.name),wo(d,e.name),wo(_,e.name),wo(p,e.name),wo(v,e.name),wo(w,e.name);const O=new sr({uid:E,auth:e,email:o,emailVerified:N,displayName:s,isAnonymous:R,photoURL:d,phoneNumber:c,tenantId:_,stsTokenManager:k,createdAt:v,lastLoginAt:w});return j&&Array.isArray(j)&&(O.providerData=j.map(B=>({...B}))),p&&(O._redirectEventId=p),O}static async _fromIdTokenResponse(e,t,s=!1){const o=new Bc;o.updateFromServerResponse(t);const c=new sr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Af(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ze(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?F1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,_=new Bc;_.updateFromIdToken(s);const p=new sr({uid:o.localId,auth:e,stsTokenManager:_,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ny(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,v),p}}const xx=new Map;function wa(n){Ca(n instanceof Function,"Expected a class definition");let e=xx.get(n);return e?(Ca(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xx.set(n,e),e)}class G1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}G1.type="NONE";const wx=G1;function uf(n,e,t){return`firebase:${n}:${e}:${t}`}class Hc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=uf(this.userKey,o.apiKey,c),this.fullPersistenceKey=uf("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sf(this.auth,{idToken:e}).catch(()=>{});return t?sr._fromGetAccountInfoResponse(this.auth,t,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Hc(wa(wx),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||wa(wx);const d=uf(s,e.config.apiKey,e.name);let _=null;for(const v of t)try{const w=await v._get(d);if(w){let E;if(typeof w=="string"){const N=await Sf(e,{idToken:w}).catch(()=>{});if(!N)break;E=await sr._fromGetAccountInfoResponse(e,N,w)}else E=sr._fromJSON(e,w);v!==c&&(_=E),c=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Hc(c,e,s):(c=p[0],_&&await c._set(d,_.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Hc(c,e,s))}}function Ex(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q1(e))return"Blackberry";if(X1(e))return"Webos";if($1(e))return"Safari";if((e.includes("chrome/")||Y1(e))&&!e.includes("edge/"))return"Chrome";if(W1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function Z1(n=ci()){return/firefox\//i.test(n)}function $1(n=ci()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y1(n=ci()){return/crios\//i.test(n)}function K1(n=ci()){return/iemobile/i.test(n)}function W1(n=ci()){return/android/i.test(n)}function Q1(n=ci()){return/blackberry/i.test(n)}function X1(n=ci()){return/webos/i.test(n)}function Yy(n=ci()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cI(n=ci()){return Yy(n)&&!!window.navigator?.standalone}function uI(){return xN()&&document.documentMode===10}function J1(n=ci()){return Yy(n)||W1(n)||X1(n)||Q1(n)||/windows phone/i.test(n)||K1(n)}function eE(n,e=[]){let t;switch(n){case"Browser":t=Ex(ci());break;case"Worker":t=`${Ex(ci())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Kl}/${s}`}class hI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,_)=>{try{const p=e(c);d(p)}catch(p){_(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function dI(n,e={}){return ur(n,"GET","/v2/passwordPolicy",Ma(n,e))}const fI=6;class mI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class pI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tx(this),this.idTokenSubscription=new Tx(this),this.beforeStateQueue=new hI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sf(this,{idToken:e}),s=await sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_i(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,_=await this.tryRedirectSignIn(e);(!c||c===d)&&_?.user&&(s=_.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Af(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(Or(this));const t=e?kt(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dI(this),t=new mI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ih("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await lI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wa(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await Hc.create(this,[wa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(_,this,"internal-error"),_.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function La(n){return kt(n)}class Tx{constructor(e){this.auth=e,this.observer=null,this.addObserver=RN(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gI(n){sm=n}function tE(n){return sm.loadJS(n)}function yI(){return sm.recaptchaEnterpriseScript}function _I(){return sm.gapiScript}function vI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bI{constructor(){this.enterprise=new xI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wI="recaptcha-enterprise",nE="NO_RECAPTCHA";class EI{constructor(e){this.type=wI,this.auth=La(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,_)=>{eI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const v=new JR(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(p=>{_(p)})})}function o(c,d,_){const p=window.grecaptcha;vx(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(nE)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(_=>{if(!t&&vx(window.grecaptcha))o(_,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=yI();p.length!==0&&(p+=_),tE(p).then(()=>{o(_,c,d)}).catch(v=>{d(v)})}}).catch(_=>{d(_)})})}}async function Sx(n,e,t,s=!1,o=!1){const c=new EI(n);let d;if(o)d=nE;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const _={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const p=_.phoneEnrollmentInfo.phoneNumber,v=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const p=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return s?Object.assign(_,{captchaResp:d}):Object.assign(_,{captchaResponse:d}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function Cf(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Sx(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Sx(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}function TI(n,e){const t=im(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(jl(c,e??{}))return o;Vs(o,"already-initialized")}return t.initialize({options:e})}function SI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(wa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function AI(n,e,t){const s=La(n);Ze(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=iE(e),{host:d,port:_}=CI(e),p=_===null?"":`:${_}`,v={url:`${c}//${d}${p}/`},w=Object.freeze({host:d,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ze(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ze(jl(v,s.config.emulator)&&jl(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Ho(d)?(zy(`${c}//${d}${p}`),Uy("Auth",!0)):NI()}function iE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CI(n){const e=iE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Ax(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Ax(d)}}}function Ax(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Ky{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xa("not implemented")}_getIdTokenResponse(e){return xa("not implemented")}_linkToIdToken(e,t){return xa("not implemented")}_getReauthenticationResolver(e){return xa("not implemented")}}async function RI(n,e){return ur(n,"POST","/v1/accounts:update",e)}async function II(n,e){return ur(n,"POST","/v1/accounts:signUp",e)}async function PI(n,e){return Lh(n,"POST","/v1/accounts:signInWithPassword",Ma(n,e))}async function MI(n,e){return ur(n,"POST","/v1/accounts:sendOobCode",Ma(n,e))}async function LI(n,e){return MI(n,e)}async function OI(n,e){return Lh(n,"POST","/v1/accounts:signInWithEmailLink",Ma(n,e))}async function kI(n,e){return Lh(n,"POST","/v1/accounts:signInWithEmailLink",Ma(n,e))}class yh extends Ky{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new yh(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new yh(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,t,"signInWithPassword",PI);case"emailLink":return OI(e,{email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,s,"signUpPassword",II);case"emailLink":return kI(e,{idToken:t,email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qc(n,e){return Lh(n,"POST","/v1/accounts:signInWithIdp",Ma(n,e))}const DI="http://localhost";class Na extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const d=new Na(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return qc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,qc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qc(e,t)}buildRequest(){const e={requestUri:DI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ph(t)}return e}}function jI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VI(n){const e=Ju(eh(n)).link,t=e?Ju(eh(e)).deep_link_id:null,s=Ju(eh(n)).deep_link_id;return(s?Ju(eh(s)).link:null)||s||t||e||n}class Wy{constructor(e){const t=Ju(eh(e)),s=t.apiKey??null,o=t.oobCode??null,c=jI(t.mode??null);Ze(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=VI(e);try{return new Wy(t)}catch{return null}}}class tu{constructor(){this.providerId=tu.PROVIDER_ID}static credential(e,t){return yh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Wy.parseLink(t);return Ze(s,"argument-error"),yh._fromEmailAndCode(e,s.code,s.tenantId)}}tu.PROVIDER_ID="password";tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends Qy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lh extends nu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Ze("providerId"in t&&"signInMethod"in t,"argument-error"),Na._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Ze(e.idToken||e.accessToken,"argument-error"),Na._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return lh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return lh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:d,providerId:_}=e;if(!s&&!o&&!t&&!c||!_)return null;try{return new lh(_)._credential({idToken:t,accessToken:s,nonce:d,pendingToken:c})}catch{return null}}}class Eo extends nu{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eo.PROVIDER_ID="facebook.com";class ba extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ba.credential(t,s)}catch{return null}}}ba.GOOGLE_SIGN_IN_METHOD="google.com";ba.PROVIDER_ID="google.com";class To extends nu{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.GITHUB_SIGN_IN_METHOD="github.com";To.PROVIDER_ID="github.com";class So extends nu{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return So.credential(t,s)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";async function zI(n,e){return Lh(n,"POST","/v1/accounts:signUp",Ma(n,e))}class Ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await sr._fromIdTokenResponse(e,s,o),d=Cx(s);return new Ul({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Cx(s);return new Ul({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Cx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Nf extends Hr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Nf(e,t,s,o)}}function sE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(n,c,e,s):c})}async function UI(n,e,t=!1){const s=await zl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ul._forOperation(n,"link",s)}async function BI(n,e,t=!1){const{auth:s}=n;if(_i(s.app))return Promise.reject(Or(s));const o="reauthenticate";try{const c=await zl(n,sE(s,o,e,n),t);Ze(c.idToken,s,"internal-error");const d=$y(c.idToken);Ze(d,s,"internal-error");const{sub:_}=d;return Ze(n.uid===_,s,"user-mismatch"),Ul._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Vs(s,"user-mismatch"),c}}async function rE(n,e,t=!1){if(_i(n.app))return Promise.reject(Or(n));const s="signIn",o=await sE(n,s,e),c=await Ul._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function HI(n,e){return rE(La(n),e)}async function aE(n){const e=La(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qI(n,e,t){const s=La(n);await Cf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",LI)}async function FI(n,e,t){if(_i(n.app))return Promise.reject(Or(n));const s=La(n),d=await Cf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&aE(n),p}),_=await Ul._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(_.user),_}function GI(n,e,t){return _i(n.app)?Promise.reject(Or(n)):HI(kt(n),tu.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&aE(n),s})}async function ZI(n,e){return ur(n,"POST","/v1/accounts:update",e)}async function iy(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=kt(n),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await zl(s,ZI(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const _=s.providerData.find(({providerId:p})=>p==="password");_&&(_.displayName=s.displayName,_.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function $I(n,e){const t=kt(n);return _i(t.auth.app)?Promise.reject(Or(t.auth)):oE(t,e,null)}function YI(n,e){return oE(kt(n),null,e)}async function oE(n,e,t){const{auth:s}=n,c={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(c.email=e),t&&(c.password=t);const d=await zl(n,RI(s,c));await n._updateTokensIfNecessary(d,!0)}function KI(n,e,t,s){return kt(n).onIdTokenChanged(e,t,s)}function WI(n,e,t){return kt(n).beforeAuthStateChanged(e,t)}function QI(n,e,t,s){return kt(n).onAuthStateChanged(e,t,s)}function XI(n){return kt(n).signOut()}const Rf="__sak";class lE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JI=1e3,eP=10;class cE extends lE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,_,p)=>{this.notifyListeners(d,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);uI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eP):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cE.type="LOCAL";const tP=cE;class uE extends lE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uE.type="SESSION";const hE=uE;function nP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class rm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new rm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const _=Array.from(d).map(async v=>v(t.origin,c)),p=await nP(_);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rm.receivers=[];function Xy(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class iP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((_,p)=>{const v=Xy("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(E){const N=E;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(N.data.response);break;default:clearTimeout(w),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function kr(){return window}function sP(n){kr().location.href=n}function dE(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function rP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aP(){return navigator?.serviceWorker?.controller||null}function oP(){return dE()?self:null}const fE="firebaseLocalStorageDb",lP=1,If="firebaseLocalStorage",mE="fbase_key";class Oh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function am(n,e){return n.transaction([If],e?"readwrite":"readonly").objectStore(If)}function cP(){const n=indexedDB.deleteDatabase(fE);return new Oh(n).toPromise()}function sy(){const n=indexedDB.open(fE,lP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(If,{keyPath:mE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(If)?e(s):(s.close(),await cP(),e(await sy()))})})}async function Nx(n,e,t){const s=am(n,!0).put({[mE]:e,value:t});return new Oh(s).toPromise()}async function uP(n,e){const t=am(n,!1).get(e),s=await new Oh(t).toPromise();return s===void 0?null:s.value}function Rx(n,e){const t=am(n,!0).delete(e);return new Oh(t).toPromise()}const hP=800,dP=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>dP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rm._getInstance(oP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rP(),!this.activeServiceWorker)return;this.sender=new iP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await Nx(e,Rf,"1"),await Rx(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Nx(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>uP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=am(o,!1).getAll();return new Oh(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const fP=pE;new Mh(3e4,6e4);function gE(n,e){return e?wa(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Jy extends Ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mP(n){return rE(n.auth,new Jy(n),n.bypassAuthState)}function pP(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),BI(t,new Jy(n),n.bypassAuthState)}async function gP(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),UI(t,new Jy(n),n.bypassAuthState)}class yE{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:d,type:_}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mP;case"linkViaPopup":case"linkViaRedirect":return gP;case"reauthViaPopup":case"reauthViaRedirect":return pP;default:Vs(this.auth,"internal-error")}}resolve(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yP=new Mh(2e3,1e4);async function Ix(n,e,t){if(_i(n.app))return Promise.reject(rr(n,"operation-not-supported-in-this-environment"));const s=La(n);FR(n,e,Qy);const o=gE(s,t);return new Il(s,"signInViaPopup",e,o).executeNotNull()}class Il extends yE{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Il.currentPopupAction&&Il.currentPopupAction.cancel(),Il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ca(this.filter.length===1,"Popup operations only handle one event");const e=Xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yP.get())};e()}}Il.currentPopupAction=null;const _P="pendingRedirect",hf=new Map;class vP extends yE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const s=await bP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bP(n,e){const t=EP(e),s=wP(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function xP(n,e){hf.set(n._key(),e)}function wP(n){return wa(n._redirectPersistence)}function EP(n){return uf(_P,n.config.apiKey,n.name)}async function TP(n,e,t=!1){if(_i(n.app))return Promise.reject(Or(n));const s=La(n),o=gE(s,e),d=await new vP(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const SP=600*1e3;class AP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_E(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(rr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Px(e))}saveEventToCache(e){this.cachedEventUids.add(Px(e)),this.lastProcessedEventTime=Date.now()}}function Px(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _E({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function CP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(n);default:return!1}}async function NP(n,e={}){return ur(n,"GET","/v1/projects",e)}const RP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IP=/^https?/;async function PP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await NP(n);for(const t of e)try{if(MP(t))return}catch{}Vs(n,"unauthorized-domain")}function MP(n){const e=ty(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!IP.test(t))return!1;if(RP.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const LP=new Mh(3e4,6e4);function Mx(){const n=kr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OP(n){return new Promise((e,t)=>{function s(){Mx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mx(),t(rr(n,"network-request-failed"))},timeout:LP.get()})}if(kr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(kr().gapi?.load)s();else{const o=vI("iframefcb");return kr()[o]=()=>{gapi.load?s():t(rr(n,"network-request-failed"))},tE(`${_I()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw df=null,e})}let df=null;function kP(n){return df=df||OP(n),df}const DP=new Mh(5e3,15e3),jP="__/auth/iframe",VP="emulator/auth/iframe",zP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BP(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Zy(e,VP):`https://${n.config.authDomain}/${jP}`,s={apiKey:e.apiKey,appName:n.name,v:Kl},o=UP.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Ph(s).slice(1)}`}async function HP(n){const e=await kP(n),t=kr().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:BP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zP,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=rr(n,"network-request-failed"),_=kr().setTimeout(()=>{c(d)},DP.get());function p(){kr().clearTimeout(_),o(s)}s.ping(p).then(p,()=>{c(d)})}))}const qP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FP=500,GP=600,ZP="_blank",$P="http://localhost";class Lx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YP(n,e,t,s=FP,o=GP){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const p={...qP,width:s.toString(),height:o.toString(),top:c,left:d},v=ci().toLowerCase();t&&(_=Y1(v)?ZP:t),Z1(v)&&(e=e||$P,p.scrollbars="yes");const w=Object.entries(p).reduce((N,[R,j])=>`${N}${R}=${j},`,"");if(cI(v)&&_!=="_self")return KP(e||"",_),new Lx(null);const E=window.open(e||"",_,w);Ze(E,n,"popup-blocked");try{E.focus()}catch{}return new Lx(E)}function KP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const WP="__/auth/handler",QP="emulator/auth/handler",XP=encodeURIComponent("fac");async function Ox(n,e,t,s,o,c){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Kl,eventId:o};if(e instanceof Qy){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",NN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))d[w]=E}if(e instanceof nu){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const _=d;for(const w of Object.keys(_))_[w]===void 0&&delete _[w];const p=await n._getAppCheckToken(),v=p?`#${XP}=${encodeURIComponent(p)}`:"";return`${JP(n)}?${Ph(_).slice(1)}${v}`}function JP({config:n}){return n.emulator?Zy(n,QP):`https://${n.authDomain}/${WP}`}const Ng="webStorageSupport";class eM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hE,this._completeRedirectFn=TP,this._overrideRedirectResult=xP}async _openPopup(e,t,s,o){Ca(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ox(e,t,s,ty(),o);return YP(e,c,Xy())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Ox(e,t,s,ty(),o);return sP(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Ca(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await HP(e),s=new AP(e);return t.register("authEvent",o=>(Ze(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ng,{type:Ng},o=>{const c=o?.[0]?.[Ng];c!==void 0&&t(!!c),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return J1()||$1()||Yy()}}const tM=eM;var kx="@firebase/auth",Dx="1.12.0";class nM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sM(n){Vl(new ko("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=s.options;Ze(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:_,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(n)},v=new pI(s,o,c,p);return SI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Vl(new ko("auth-internal",e=>{const t=La(e.getProvider("auth").getImmediate());return(s=>new nM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(kx,Dx,iM(n)),Lr(kx,Dx,"esm2020")}const rM=300,aM=M1("authIdTokenMaxAge")||rM;let jx=null;const oM=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>aM)return;const o=t?.token;jx!==o&&(jx=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lM(n=qy()){const e=im(n,"auth");if(e.isInitialized())return e.getImmediate();const t=TI(n,{popupRedirectResolver:tM,persistence:[fP,tP,hE]}),s=M1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=oM(c.toString());WI(t,d,()=>d(t.currentUser)),KI(t,_=>d(_))}}const o=R1("auth");return o&&AI(t,`http://${o}`),t}function cM(){return document.getElementsByTagName("head")?.[0]??document}gI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=rr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",cM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sM("Browser");var Vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lo,vE;(function(){var n;function e(q,I){function Z(){}Z.prototype=I.prototype,q.F=I.prototype,q.prototype=new Z,q.prototype.constructor=q,q.D=function(G,H,Y){for(var F=Array(arguments.length-2),de=2;de<arguments.length;de++)F[de-2]=arguments[de];return I.prototype[H].apply(G,F)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(q,I,Z){Z||(Z=0);const G=Array(16);if(typeof I=="string")for(var H=0;H<16;++H)G[H]=I.charCodeAt(Z++)|I.charCodeAt(Z++)<<8|I.charCodeAt(Z++)<<16|I.charCodeAt(Z++)<<24;else for(H=0;H<16;++H)G[H]=I[Z++]|I[Z++]<<8|I[Z++]<<16|I[Z++]<<24;I=q.g[0],Z=q.g[1],H=q.g[2];let Y=q.g[3],F;F=I+(Y^Z&(H^Y))+G[0]+3614090360&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=Y+(H^I&(Z^H))+G[1]+3905402710&4294967295,Y=I+(F<<12&4294967295|F>>>20),F=H+(Z^Y&(I^Z))+G[2]+606105819&4294967295,H=Y+(F<<17&4294967295|F>>>15),F=Z+(I^H&(Y^I))+G[3]+3250441966&4294967295,Z=H+(F<<22&4294967295|F>>>10),F=I+(Y^Z&(H^Y))+G[4]+4118548399&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=Y+(H^I&(Z^H))+G[5]+1200080426&4294967295,Y=I+(F<<12&4294967295|F>>>20),F=H+(Z^Y&(I^Z))+G[6]+2821735955&4294967295,H=Y+(F<<17&4294967295|F>>>15),F=Z+(I^H&(Y^I))+G[7]+4249261313&4294967295,Z=H+(F<<22&4294967295|F>>>10),F=I+(Y^Z&(H^Y))+G[8]+1770035416&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=Y+(H^I&(Z^H))+G[9]+2336552879&4294967295,Y=I+(F<<12&4294967295|F>>>20),F=H+(Z^Y&(I^Z))+G[10]+4294925233&4294967295,H=Y+(F<<17&4294967295|F>>>15),F=Z+(I^H&(Y^I))+G[11]+2304563134&4294967295,Z=H+(F<<22&4294967295|F>>>10),F=I+(Y^Z&(H^Y))+G[12]+1804603682&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=Y+(H^I&(Z^H))+G[13]+4254626195&4294967295,Y=I+(F<<12&4294967295|F>>>20),F=H+(Z^Y&(I^Z))+G[14]+2792965006&4294967295,H=Y+(F<<17&4294967295|F>>>15),F=Z+(I^H&(Y^I))+G[15]+1236535329&4294967295,Z=H+(F<<22&4294967295|F>>>10),F=I+(H^Y&(Z^H))+G[1]+4129170786&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=Y+(Z^H&(I^Z))+G[6]+3225465664&4294967295,Y=I+(F<<9&4294967295|F>>>23),F=H+(I^Z&(Y^I))+G[11]+643717713&4294967295,H=Y+(F<<14&4294967295|F>>>18),F=Z+(Y^I&(H^Y))+G[0]+3921069994&4294967295,Z=H+(F<<20&4294967295|F>>>12),F=I+(H^Y&(Z^H))+G[5]+3593408605&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=Y+(Z^H&(I^Z))+G[10]+38016083&4294967295,Y=I+(F<<9&4294967295|F>>>23),F=H+(I^Z&(Y^I))+G[15]+3634488961&4294967295,H=Y+(F<<14&4294967295|F>>>18),F=Z+(Y^I&(H^Y))+G[4]+3889429448&4294967295,Z=H+(F<<20&4294967295|F>>>12),F=I+(H^Y&(Z^H))+G[9]+568446438&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=Y+(Z^H&(I^Z))+G[14]+3275163606&4294967295,Y=I+(F<<9&4294967295|F>>>23),F=H+(I^Z&(Y^I))+G[3]+4107603335&4294967295,H=Y+(F<<14&4294967295|F>>>18),F=Z+(Y^I&(H^Y))+G[8]+1163531501&4294967295,Z=H+(F<<20&4294967295|F>>>12),F=I+(H^Y&(Z^H))+G[13]+2850285829&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=Y+(Z^H&(I^Z))+G[2]+4243563512&4294967295,Y=I+(F<<9&4294967295|F>>>23),F=H+(I^Z&(Y^I))+G[7]+1735328473&4294967295,H=Y+(F<<14&4294967295|F>>>18),F=Z+(Y^I&(H^Y))+G[12]+2368359562&4294967295,Z=H+(F<<20&4294967295|F>>>12),F=I+(Z^H^Y)+G[5]+4294588738&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=Y+(I^Z^H)+G[8]+2272392833&4294967295,Y=I+(F<<11&4294967295|F>>>21),F=H+(Y^I^Z)+G[11]+1839030562&4294967295,H=Y+(F<<16&4294967295|F>>>16),F=Z+(H^Y^I)+G[14]+4259657740&4294967295,Z=H+(F<<23&4294967295|F>>>9),F=I+(Z^H^Y)+G[1]+2763975236&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=Y+(I^Z^H)+G[4]+1272893353&4294967295,Y=I+(F<<11&4294967295|F>>>21),F=H+(Y^I^Z)+G[7]+4139469664&4294967295,H=Y+(F<<16&4294967295|F>>>16),F=Z+(H^Y^I)+G[10]+3200236656&4294967295,Z=H+(F<<23&4294967295|F>>>9),F=I+(Z^H^Y)+G[13]+681279174&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=Y+(I^Z^H)+G[0]+3936430074&4294967295,Y=I+(F<<11&4294967295|F>>>21),F=H+(Y^I^Z)+G[3]+3572445317&4294967295,H=Y+(F<<16&4294967295|F>>>16),F=Z+(H^Y^I)+G[6]+76029189&4294967295,Z=H+(F<<23&4294967295|F>>>9),F=I+(Z^H^Y)+G[9]+3654602809&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=Y+(I^Z^H)+G[12]+3873151461&4294967295,Y=I+(F<<11&4294967295|F>>>21),F=H+(Y^I^Z)+G[15]+530742520&4294967295,H=Y+(F<<16&4294967295|F>>>16),F=Z+(H^Y^I)+G[2]+3299628645&4294967295,Z=H+(F<<23&4294967295|F>>>9),F=I+(H^(Z|~Y))+G[0]+4096336452&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=Y+(Z^(I|~H))+G[7]+1126891415&4294967295,Y=I+(F<<10&4294967295|F>>>22),F=H+(I^(Y|~Z))+G[14]+2878612391&4294967295,H=Y+(F<<15&4294967295|F>>>17),F=Z+(Y^(H|~I))+G[5]+4237533241&4294967295,Z=H+(F<<21&4294967295|F>>>11),F=I+(H^(Z|~Y))+G[12]+1700485571&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=Y+(Z^(I|~H))+G[3]+2399980690&4294967295,Y=I+(F<<10&4294967295|F>>>22),F=H+(I^(Y|~Z))+G[10]+4293915773&4294967295,H=Y+(F<<15&4294967295|F>>>17),F=Z+(Y^(H|~I))+G[1]+2240044497&4294967295,Z=H+(F<<21&4294967295|F>>>11),F=I+(H^(Z|~Y))+G[8]+1873313359&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=Y+(Z^(I|~H))+G[15]+4264355552&4294967295,Y=I+(F<<10&4294967295|F>>>22),F=H+(I^(Y|~Z))+G[6]+2734768916&4294967295,H=Y+(F<<15&4294967295|F>>>17),F=Z+(Y^(H|~I))+G[13]+1309151649&4294967295,Z=H+(F<<21&4294967295|F>>>11),F=I+(H^(Z|~Y))+G[4]+4149444226&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=Y+(Z^(I|~H))+G[11]+3174756917&4294967295,Y=I+(F<<10&4294967295|F>>>22),F=H+(I^(Y|~Z))+G[2]+718787259&4294967295,H=Y+(F<<15&4294967295|F>>>17),F=Z+(Y^(H|~I))+G[9]+3951481745&4294967295,q.g[0]=q.g[0]+I&4294967295,q.g[1]=q.g[1]+(H+(F<<21&4294967295|F>>>11))&4294967295,q.g[2]=q.g[2]+H&4294967295,q.g[3]=q.g[3]+Y&4294967295}s.prototype.v=function(q,I){I===void 0&&(I=q.length);const Z=I-this.blockSize,G=this.C;let H=this.h,Y=0;for(;Y<I;){if(H==0)for(;Y<=Z;)o(this,q,Y),Y+=this.blockSize;if(typeof q=="string"){for(;Y<I;)if(G[H++]=q.charCodeAt(Y++),H==this.blockSize){o(this,G),H=0;break}}else for(;Y<I;)if(G[H++]=q[Y++],H==this.blockSize){o(this,G),H=0;break}}this.h=H,this.o+=I},s.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var I=1;I<q.length-8;++I)q[I]=0;I=this.o*8;for(var Z=q.length-8;Z<q.length;++Z)q[Z]=I&255,I/=256;for(this.v(q),q=Array(16),I=0,Z=0;Z<4;++Z)for(let G=0;G<32;G+=8)q[I++]=this.g[Z]>>>G&255;return q};function c(q,I){var Z=_;return Object.prototype.hasOwnProperty.call(Z,q)?Z[q]:Z[q]=I(q)}function d(q,I){this.h=I;const Z=[];let G=!0;for(let H=q.length-1;H>=0;H--){const Y=q[H]|0;G&&Y==I||(Z[H]=Y,G=!1)}this.g=Z}var _={};function p(q){return-128<=q&&q<128?c(q,function(I){return new d([I|0],I<0?-1:0)}):new d([q|0],q<0?-1:0)}function v(q){if(isNaN(q)||!isFinite(q))return E;if(q<0)return k(v(-q));const I=[];let Z=1;for(let G=0;q>=Z;G++)I[G]=q/Z|0,Z*=4294967296;return new d(I,0)}function w(q,I){if(q.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(q.charAt(0)=="-")return k(w(q.substring(1),I));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const Z=v(Math.pow(I,8));let G=E;for(let Y=0;Y<q.length;Y+=8){var H=Math.min(8,q.length-Y);const F=parseInt(q.substring(Y,Y+H),I);H<8?(H=v(Math.pow(I,H)),G=G.j(H).add(v(F))):(G=G.j(Z),G=G.add(v(F)))}return G}var E=p(0),N=p(1),R=p(16777216);n=d.prototype,n.m=function(){if(U(this))return-k(this).m();let q=0,I=1;for(let Z=0;Z<this.g.length;Z++){const G=this.i(Z);q+=(G>=0?G:4294967296+G)*I,I*=4294967296}return q},n.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(j(this))return"0";if(U(this))return"-"+k(this).toString(q);const I=v(Math.pow(q,6));var Z=this;let G="";for(;;){const H=te(Z,I).g;Z=O(Z,H.j(I));let Y=((Z.g.length>0?Z.g[0]:Z.h)>>>0).toString(q);if(Z=H,j(Z))return Y+G;for(;Y.length<6;)Y="0"+Y;G=Y+G}},n.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function j(q){if(q.h!=0)return!1;for(let I=0;I<q.g.length;I++)if(q.g[I]!=0)return!1;return!0}function U(q){return q.h==-1}n.l=function(q){return q=O(this,q),U(q)?-1:j(q)?0:1};function k(q){const I=q.g.length,Z=[];for(let G=0;G<I;G++)Z[G]=~q.g[G];return new d(Z,~q.h).add(N)}n.abs=function(){return U(this)?k(this):this},n.add=function(q){const I=Math.max(this.g.length,q.g.length),Z=[];let G=0;for(let H=0;H<=I;H++){let Y=G+(this.i(H)&65535)+(q.i(H)&65535),F=(Y>>>16)+(this.i(H)>>>16)+(q.i(H)>>>16);G=F>>>16,Y&=65535,F&=65535,Z[H]=F<<16|Y}return new d(Z,Z[Z.length-1]&-2147483648?-1:0)};function O(q,I){return q.add(k(I))}n.j=function(q){if(j(this)||j(q))return E;if(U(this))return U(q)?k(this).j(k(q)):k(k(this).j(q));if(U(q))return k(this.j(k(q)));if(this.l(R)<0&&q.l(R)<0)return v(this.m()*q.m());const I=this.g.length+q.g.length,Z=[];for(var G=0;G<2*I;G++)Z[G]=0;for(G=0;G<this.g.length;G++)for(let H=0;H<q.g.length;H++){const Y=this.i(G)>>>16,F=this.i(G)&65535,de=q.i(H)>>>16,Re=q.i(H)&65535;Z[2*G+2*H]+=F*Re,B(Z,2*G+2*H),Z[2*G+2*H+1]+=Y*Re,B(Z,2*G+2*H+1),Z[2*G+2*H+1]+=F*de,B(Z,2*G+2*H+1),Z[2*G+2*H+2]+=Y*de,B(Z,2*G+2*H+2)}for(q=0;q<I;q++)Z[q]=Z[2*q+1]<<16|Z[2*q];for(q=I;q<2*I;q++)Z[q]=0;return new d(Z,0)};function B(q,I){for(;(q[I]&65535)!=q[I];)q[I+1]+=q[I]>>>16,q[I]&=65535,I++}function $(q,I){this.g=q,this.h=I}function te(q,I){if(j(I))throw Error("division by zero");if(j(q))return new $(E,E);if(U(q))return I=te(k(q),I),new $(k(I.g),k(I.h));if(U(I))return I=te(q,k(I)),new $(k(I.g),I.h);if(q.g.length>30){if(U(q)||U(I))throw Error("slowDivide_ only works with positive integers.");for(var Z=N,G=I;G.l(q)<=0;)Z=ne(Z),G=ne(G);var H=ye(Z,1),Y=ye(G,1);for(G=ye(G,2),Z=ye(Z,2);!j(G);){var F=Y.add(G);F.l(q)<=0&&(H=H.add(Z),Y=F),G=ye(G,1),Z=ye(Z,1)}return I=O(q,H.j(I)),new $(H,I)}for(H=E;q.l(I)>=0;){for(Z=Math.max(1,Math.floor(q.m()/I.m())),G=Math.ceil(Math.log(Z)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),Y=v(Z),F=Y.j(I);U(F)||F.l(q)>0;)Z-=G,Y=v(Z),F=Y.j(I);j(Y)&&(Y=N),H=H.add(Y),q=O(q,F)}return new $(H,q)}n.B=function(q){return te(this,q).h},n.and=function(q){const I=Math.max(this.g.length,q.g.length),Z=[];for(let G=0;G<I;G++)Z[G]=this.i(G)&q.i(G);return new d(Z,this.h&q.h)},n.or=function(q){const I=Math.max(this.g.length,q.g.length),Z=[];for(let G=0;G<I;G++)Z[G]=this.i(G)|q.i(G);return new d(Z,this.h|q.h)},n.xor=function(q){const I=Math.max(this.g.length,q.g.length),Z=[];for(let G=0;G<I;G++)Z[G]=this.i(G)^q.i(G);return new d(Z,this.h^q.h)};function ne(q){const I=q.g.length+1,Z=[];for(let G=0;G<I;G++)Z[G]=q.i(G)<<1|q.i(G-1)>>>31;return new d(Z,q.h)}function ye(q,I){const Z=I>>5;I%=32;const G=q.g.length-Z,H=[];for(let Y=0;Y<G;Y++)H[Y]=I>0?q.i(Y+Z)>>>I|q.i(Y+Z+1)<<32-I:q.i(Y+Z);return new d(H,q.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,vE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,Lo=d}).apply(typeof Vx<"u"?Vx:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bE,th,xE,ff,ry,wE,EE,TE;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var T=0;T<m.length;++T){var C=m[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=t(this);function o(m,T){if(T)e:{var C=s;m=m.split(".");for(var z=0;z<m.length-1;z++){var re=m[z];if(!(re in C))break e;C=C[re]}m=m[m.length-1],z=C[m],T=T(z),T!=z&&T!=null&&e(C,m,{configurable:!0,writable:!0,value:T})}}o("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(m){return m||function(T){var C=[],z;for(z in T)Object.prototype.hasOwnProperty.call(T,z)&&C.push([z,T[z]]);return C}});var c=c||{},d=this||self;function _(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function p(m,T,C){return m.call.apply(m.bind,arguments)}function v(m,T,C){return v=p,v.apply(null,arguments)}function w(m,T){var C=Array.prototype.slice.call(arguments,1);return function(){var z=C.slice();return z.push.apply(z,arguments),m.apply(this,z)}}function E(m,T){function C(){}C.prototype=T.prototype,m.Z=T.prototype,m.prototype=new C,m.prototype.constructor=m,m.Ob=function(z,re,he){for(var Ne=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Ne[Ye-2]=arguments[Ye];return T.prototype[re].apply(z,Ne)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function R(m){const T=m.length;if(T>0){const C=Array(T);for(let z=0;z<T;z++)C[z]=m[z];return C}return[]}function j(m,T){for(let z=1;z<arguments.length;z++){const re=arguments[z];var C=typeof re;if(C=C!="object"?C:re?Array.isArray(re)?"array":C:"null",C=="array"||C=="object"&&typeof re.length=="number"){C=m.length||0;const he=re.length||0;m.length=C+he;for(let Ne=0;Ne<he;Ne++)m[C+Ne]=re[Ne]}else m.push(re)}}class U{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function k(m){d.setTimeout(()=>{throw m},0)}function O(){var m=q;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class B{constructor(){this.h=this.g=null}add(T,C){const z=$.get();z.set(T,C),this.h?this.h.next=z:this.g=z,this.h=z}}var $=new U(()=>new te,m=>m.reset());class te{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ye=!1,q=new B,I=()=>{const m=Promise.resolve(void 0);ne=()=>{m.then(Z)}};function Z(){for(var m;m=O();){try{m.h.call(m.g)}catch(C){k(C)}var T=$;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}ye=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};d.addEventListener("test",C,T),d.removeEventListener("test",C,T)}catch{}return m})();function F(m){return/^[\s\xa0]*$/.test(m)}function de(m,T){H.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}E(de,H),de.prototype.init=function(m,T){const C=this.type=m.type,z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(C=="mouseover"?T=m.fromElement:C=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),ae=0;function Se(m,T,C,z,re){this.listener=m,this.proxy=null,this.src=T,this.type=C,this.capture=!!z,this.ha=re,this.key=++ae,this.da=this.fa=!1}function ee(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function fe(m,T,C){for(const z in m)T.call(C,m[z],z,m)}function _e(m,T){for(const C in m)T.call(void 0,m[C],C,m)}function D(m){const T={};for(const C in m)T[C]=m[C];return T}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(m,T){let C,z;for(let re=1;re<arguments.length;re++){z=arguments[re];for(C in z)m[C]=z[C];for(let he=0;he<J.length;he++)C=J[he],Object.prototype.hasOwnProperty.call(z,C)&&(m[C]=z[C])}}function xe(m){this.src=m,this.g={},this.h=0}xe.prototype.add=function(m,T,C,z,re){const he=m.toString();m=this.g[he],m||(m=this.g[he]=[],this.h++);const Ne=Ce(m,T,z,re);return Ne>-1?(T=m[Ne],C||(T.fa=!1)):(T=new Se(T,this.src,he,!!z,re),T.fa=C,m.push(T)),T};function Ae(m,T){const C=T.type;if(C in m.g){var z=m.g[C],re=Array.prototype.indexOf.call(z,T,void 0),he;(he=re>=0)&&Array.prototype.splice.call(z,re,1),he&&(ee(T),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Ce(m,T,C,z){for(let re=0;re<m.length;++re){const he=m[re];if(!he.da&&he.listener==T&&he.capture==!!C&&he.ha==z)return re}return-1}var He="closure_lm_"+(Math.random()*1e6|0),At={};function Ct(m,T,C,z,re){if(Array.isArray(T)){for(let he=0;he<T.length;he++)Ct(m,T[he],C,z,re);return null}return C=ps(C),m&&m[Re]?m.J(T,C,_(z)?!!z.capture:!1,re):Hn(m,T,C,!1,z,re)}function Hn(m,T,C,z,re,he){if(!T)throw Error("Invalid event type");const Ne=_(re)?!!re.capture:!!re;let Ye=ui(m);if(Ye||(m[He]=Ye=new xe(m)),C=Ye.add(T,C,z,Ne,he),C.proxy)return C;if(z=wi(),C.proxy=z,z.src=m,z.listener=C,m.addEventListener)Y||(re=Ne),re===void 0&&(re=!1),m.addEventListener(T.toString(),z,re);else if(m.attachEvent)m.attachEvent(Wn(T.toString()),z);else if(m.addListener&&m.removeListener)m.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return C}function wi(){function m(C){return T.call(m.src,m.listener,C)}const T=fs;return m}function Kn(m,T,C,z,re){if(Array.isArray(T))for(var he=0;he<T.length;he++)Kn(m,T[he],C,z,re);else z=_(z)?!!z.capture:!!z,C=ps(C),m&&m[Re]?(m=m.i,he=String(T).toString(),he in m.g&&(T=m.g[he],C=Ce(T,C,z,re),C>-1&&(ee(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete m.g[he],m.h--)))):m&&(m=ui(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Ce(T,C,z,re)),(C=m>-1?T[m]:null)&&Ei(C))}function Ei(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[Re])Ae(T.i,m);else{var C=m.type,z=m.proxy;T.removeEventListener?T.removeEventListener(C,z,m.capture):T.detachEvent?T.detachEvent(Wn(C),z):T.addListener&&T.removeListener&&T.removeListener(z),(C=ui(T))?(Ae(C,m),C.h==0&&(C.src=null,T[He]=null)):ee(m)}}}function Wn(m){return m in At?At[m]:At[m]="on"+m}function fs(m,T){if(m.da)m=!0;else{T=new de(T,this);const C=m.listener,z=m.ha||m.src;m.fa&&Ei(m),m=C.call(z,T)}return m}function ui(m){return m=m[He],m instanceof xe?m:null}var ms="__closure_events_fn_"+(Math.random()*1e9>>>0);function ps(m){return typeof m=="function"?m:(m[ms]||(m[ms]=function(T){return m.handleEvent(T)}),m[ms])}function Zt(){G.call(this),this.i=new xe(this),this.M=this,this.G=null}E(Zt,G),Zt.prototype[Re]=!0,Zt.prototype.removeEventListener=function(m,T,C,z){Kn(this,m,T,C,z)};function $t(m,T){var C,z=m.G;if(z)for(C=[];z;z=z.G)C.push(z);if(m=m.M,z=T.type||T,typeof T=="string")T=new H(T,m);else if(T instanceof H)T.target=T.target||m;else{var re=T;T=new H(z,m),pe(T,re)}re=!0;let he,Ne;if(C)for(Ne=C.length-1;Ne>=0;Ne--)he=T.g=C[Ne],re=Ti(he,z,!0,T)&&re;if(he=T.g=m,re=Ti(he,z,!0,T)&&re,re=Ti(he,z,!1,T)&&re,C)for(Ne=0;Ne<C.length;Ne++)he=T.g=C[Ne],re=Ti(he,z,!1,T)&&re}Zt.prototype.N=function(){if(Zt.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const C=m.g[T];for(let z=0;z<C.length;z++)ee(C[z]);delete m.g[T],m.h--}}this.G=null},Zt.prototype.J=function(m,T,C,z){return this.i.add(String(m),T,!1,C,z)},Zt.prototype.K=function(m,T,C,z){return this.i.add(String(m),T,!0,C,z)};function Ti(m,T,C,z){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let re=!0;for(let he=0;he<T.length;++he){const Ne=T[he];if(Ne&&!Ne.da&&Ne.capture==C){const Ye=Ne.listener,gt=Ne.ha||Ne.src;Ne.fa&&Ae(m.i,Ne),re=Ye.call(gt,z)!==!1&&re}}return re&&!z.defaultPrevented}function Da(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:d.setTimeout(m,T||0)}function qr(m){m.g=Da(()=>{m.g=null,m.i&&(m.i=!1,qr(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Cn extends G{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:qr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(m){G.call(this),this.h=m,this.g={}}E(Us,G);var Bs=[];function hr(m){fe(m.g,function(T,C){this.g.hasOwnProperty(C)&&Ei(T)},m),m.g={}}Us.prototype.N=function(){Us.Z.N.call(this),hr(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qi=d.JSON.stringify,Zo=d.JSON.parse,Fr=class{stringify(m){return d.JSON.stringify(m,void 0)}parse(m){return d.JSON.parse(m,void 0)}};function Gr(){}function ja(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){H.call(this,"d")}E(Wt,H);function Q(){H.call(this,"c")}E(Q,H);var Pe={},Je=null;function tt(){return Je=Je||new Zt}Pe.Ia="serverreachability";function nn(m){H.call(this,Pe.Ia,m)}E(nn,H);function Dt(m){const T=tt();$t(T,new nn(T))}Pe.STAT_EVENT="statevent";function gs(m,T){H.call(this,Pe.STAT_EVENT,m),this.stat=T}E(gs,H);function Qt(m){const T=tt();$t(T,new gs(T,m))}Pe.Ja="timingevent";function ys(m,T){H.call(this,Pe.Ja,m),this.size=T}E(ys,H);function _s(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){m()},T)}function Fi(){this.g=!0}Fi.prototype.ua=function(){this.g=!1};function cu(m,T,C,z,re,he){m.info(function(){if(m.g)if(he){var Ne="",Ye=he.split("&");for(let yt=0;yt<Ye.length;yt++){var gt=Ye[yt].split("=");if(gt.length>1){const Vt=gt[0];gt=gt[1];const Mi=Vt.split("_");Ne=Mi.length>=2&&Mi[1]=="type"?Ne+(Vt+"="+gt+"&"):Ne+(Vt+"=redacted&")}}}else Ne=null;else Ne=he;return"XMLHTTP REQ ("+z+") [attempt "+re+"]: "+T+`
`+C+`
`+Ne})}function Jl(m,T,C,z,re,he,Ne){m.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+re+"]: "+T+`
`+C+`
`+he+" "+Ne})}function vs(m,T,C,z){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+uu(m,C)+(z?" "+z:"")})}function Hs(m,T){m.info(function(){return"TIMEOUT: "+T})}Fi.prototype.info=function(){};function uu(m,T){if(!m.g)return T;if(!T)return null;try{const he=JSON.parse(T);if(he){for(m=0;m<he.length;m++)if(Array.isArray(he[m])){var C=he[m];if(!(C.length<2)){var z=C[1];if(Array.isArray(z)&&!(z.length<1)){var re=z[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Ne=1;Ne<z.length;Ne++)z[Ne]=""}}}}return qi(he)}catch{return T}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yo;function Mn(){}E(Mn,Gr),Mn.prototype.g=function(){return new XMLHttpRequest},Yo=new Mn;function ke(m){return encodeURIComponent(String(m))}function Ko(m){var T=1;m=m.split(":");const C=[];for(;T>0&&m.length;)C.push(m.shift()),T--;return m.length&&C.push(m.join(":")),C}function Si(m,T,C,z){this.j=m,this.i=T,this.l=C,this.S=z||1,this.V=new Us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}var Xt={},sn={};function Gi(m,T,C){m.M=1,m.A=Nt(Bt(T)),m.u=C,m.R=!0,Zi(m,null)}function Zi(m,T){m.F=Date.now(),bs(m),m.B=Bt(m.A);var C=m.B,z=m.S;Array.isArray(z)||(z=[String(z)]),fr(C.i,"t",z),m.C=0,C=m.j.L,m.h=new Ai,m.g=nl(m.j,C?T:null,!m.u),m.P>0&&(m.O=new Cn(v(m.Y,m,m.g),m.P)),T=m.V,C=m.g,z=m.ba;var re="readystatechange";Array.isArray(re)||(re&&(Bs[0]=re.toString()),re=Bs);for(let he=0;he<re.length;he++){const Ne=Ct(C,re[he],z||T.handleEvent,!1,T.h||T);if(!Ne)break;T.g[Ne.key]=Ne}T=m.J?D(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Dt(),cu(m.i,m.v,m.B,m.l,m.S,m.u)}Si.prototype.ba=function(m){m=m.target;const T=this.O;T&&Wi(m)==3?T.j():this.Y(m)},Si.prototype.Y=function(m){try{if(m==this.g)e:{const Ye=Wi(this.g),gt=this.g.ya(),yt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Ye!=4||gt==7||(gt==8||yt<=0?Dt(3):Dt(2)),$i(this);var T=this.g.ca();this.X=T;var C=ec(this);if(this.o=T==200,Jl(this.i,this.v,this.B,this.l,this.S,Ye,T),this.o){if(this.U&&!this.L){t:{if(this.g){var z,re=this.g;if((z=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(z)){var he=z;break t}}he=null}if(m=he)vs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xs(this,m);else{this.o=!1,this.m=3,Qt(12),Ln(this),Ci(this);break e}}if(this.R){m=!0;let Vt;for(;!this.K&&this.C<C.length;)if(Vt=nc(this,C),Vt==sn){Ye==4&&(this.m=4,Qt(14),m=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==Xt){this.m=4,Qt(15),vs(this.i,this.l,C,"[Invalid Chunk]"),m=!1;break}else vs(this.i,this.l,Vt,null),xs(this,Vt);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||C.length!=0||this.h.h||(this.m=1,Qt(16),m=!1),this.o=this.o&&m,!m)vs(this.i,this.l,C,"[Invalid Chunked Response]"),Ln(this),Ci(this);else if(C.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),el(Ne),Ne.P=!0,Qt(11))}}else vs(this.i,this.l,C,null),xs(this,C);Ye==4&&Ln(this),this.o&&!this.K&&(Ye==4?fi(this.j,this):(this.o=!1,bs(this)))}else Qi(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),Ln(this),Ci(this)}}}catch{}};function ec(m){if(!tc(m))return m.g.la();const T=vn(m.g);if(T==="")return"";let C="";const z=T.length,re=Wi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Ln(m),Ci(m),"";m.h.i=new d.TextDecoder}for(let he=0;he<z;he++)m.h.h=!0,C+=m.h.i.decode(T[he],{stream:!(re&&he==z-1)});return T.length=0,m.h.g+=C,m.C=0,m.h.g}function tc(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function nc(m,T){var C=m.C,z=T.indexOf(`
`,C);return z==-1?sn:(C=Number(T.substring(C,z)),isNaN(C)?Xt:(z+=1,z+C>T.length?sn:(T=T.slice(z,z+C),m.C=z+C,T)))}Si.prototype.cancel=function(){this.K=!0,Ln(this)};function bs(m){m.T=Date.now()+m.H,Va(m,m.H)}function Va(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=_s(v(m.aa,m),T)}function $i(m){m.D&&(d.clearTimeout(m.D),m.D=null)}Si.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Hs(this.i,this.B),this.M!=2&&(Dt(),Qt(17)),Ln(this),this.m=2,Ci(this)):Va(this,this.T-m)};function Ci(m){m.j.I==0||m.K||fi(m.j,m)}function Ln(m){$i(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,hr(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function xs(m,T){try{var C=m.j;if(C.I!=0&&(C.g==m||Ni(C.h,m))){if(!m.L&&Ni(C.h,m)&&C.I==3){try{var z=C.Ba.g.parse(T)}catch{z=null}if(Array.isArray(z)&&z.length==3){var re=z;if(re[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<m.F)Ga(C),yr(C);else break e;Xr(C),Qt(18)}}else C.xa=re[1],0<C.xa-C.K&&re[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=_s(v(C.Va,C),6e3));ws(C.h)<=1&&C.ta&&(C.ta=void 0)}else Xi(C,11)}else if((m.L||C.g==m)&&Ga(C),!F(T))for(re=C.Ba.g.parse(T),T=0;T<re.length;T++){let yt=re[T];const Vt=yt[0];if(!(Vt<=C.K))if(C.K=Vt,yt=yt[1],C.I==2)if(yt[0]=="c"){C.M=yt[1],C.ba=yt[2];const Mi=yt[3];Mi!=null&&(C.ka=Mi,C.j.info("VER="+C.ka));const Li=yt[4];Li!=null&&(C.za=Li,C.j.info("SVER="+C.za));const mi=yt[5];mi!=null&&typeof mi=="number"&&mi>0&&(z=1.5*mi,C.O=z,C.j.info("backChannelRequestTimeoutMs_="+z)),z=C;const es=m.g;if(es){const Jr=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jr){var he=z.h;he.g||Jr.indexOf("spdy")==-1&&Jr.indexOf("quic")==-1&&Jr.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(qs(he,he.h),he.h=null))}if(z.G){const ea=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;ea&&(z.wa=ea,Le(z.J,z.G,ea))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-m.F,C.j.info("Handshake RTT: "+C.T+"ms")),z=C;var Ne=m;if(z.na=tl(z,z.L?z.ba:null,z.W),Ne.L){za(z.h,Ne);var Ye=Ne,gt=z.O;gt&&(Ye.H=gt),Ye.D&&($i(Ye),bs(Ye)),z.g=Ne}else Jo(z);C.i.length>0&&ti(C)}else yt[0]!="stop"&&yt[0]!="close"||Xi(C,7);else C.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Xi(C,7):st(C):yt[0]!="noop"&&C.l&&C.l.qa(yt),C.A=0)}}Dt(4)}catch{}}var rn=class{constructor(m,T){this.g=m,this.map=T}};function Wo(m){this.l=m||10,d.PerformanceNavigationTiming?(m=d.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ws(m){return m.h?1:m.g?m.g.size:0}function Ni(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function qs(m,T){m.g?m.g.add(T):m.h=T}function za(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Wo.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ua(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const C of m.g.values())T=T.concat(C.G);return T}return R(m.i)}var dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(m,T){if(m){m=m.split("&");for(let C=0;C<m.length;C++){const z=m[C].indexOf("=");let re,he=null;z>=0?(re=m[C].substring(0,z),he=m[C].substring(z+1)):re=m[C],T(re,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function at(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof at?(this.l=m.l,Ht(this,m.j),this.o=m.o,this.g=m.g,hi(this,m.u),this.h=m.h,$r(this,Wr(m.i)),this.m=m.m):m&&(T=String(m).match(dr))?(this.l=!1,Ht(this,T[1]||"",!0),this.o=Ri(T[2]||""),this.g=Ri(T[3]||"",!0),hi(this,T[4]),this.h=Ri(T[5]||"",!0),$r(this,T[6]||"",!0),this.m=Ri(T[7]||"")):(this.l=!1,this.i=new Ii(null,this.l))}at.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Es(T,Ba,!0),":");var C=this.g;return(C||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Es(T,Ba,!0),"@"),m.push(ke(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&m.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(Es(C,C.charAt(0)=="/"?Yi:Yr,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",Es(C,Ts)),m.join("")},at.prototype.resolve=function(m){const T=Bt(this);let C=!!m.j;C?Ht(T,m.j):C=!!m.o,C?T.o=m.o:C=!!m.g,C?T.g=m.g:C=m.u!=null;var z=m.h;if(C)hi(T,m.u);else if(C=!!m.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var re=T.h.lastIndexOf("/");re!=-1&&(z=T.h.slice(0,re+1)+z)}if(re=z,re==".."||re==".")z="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){z=re.lastIndexOf("/",0)==0,re=re.split("/");const he=[];for(let Ne=0;Ne<re.length;){const Ye=re[Ne++];Ye=="."?z&&Ne==re.length&&he.push(""):Ye==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),z&&Ne==re.length&&he.push("")):(he.push(Ye),z=!0)}z=he.join("/")}else z=re}return C?T.h=z:C=m.i.toString()!=="",C?$r(T,Wr(m.i)):C=!!m.m,C&&(T.m=m.m),T};function Bt(m){return new at(m)}function Ht(m,T,C){m.j=C?Ri(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function hi(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function $r(m,T,C){T instanceof Ii?(m.i=T,mr(m.i,m.l)):(C||(T=Es(T,Rt)),m.i=new Ii(T,m.l))}function Le(m,T,C){m.i.set(T,C)}function Nt(m){return Le(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ri(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Es(m,T,C){return typeof m=="string"?(m=encodeURI(m).replace(T,jt),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function jt(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ba=/[#\/\?@]/g,Yr=/[#\?:]/g,Yi=/[#\?]/g,Rt=/[#\?@]/g,Ts=/#/g;function Ii(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function _n(m){m.g||(m.g=new Map,m.h=0,m.i&&rt(m.i,function(T,C){m.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}n=Ii.prototype,n.add=function(m,T){_n(this),this.i=null,m=Ss(this,m);let C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(T),this.h+=1,this};function Ha(m,T){_n(m),T=Ss(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function Fs(m,T){return _n(m),T=Ss(m,T),m.g.has(T)}n.forEach=function(m,T){_n(this),this.g.forEach(function(C,z){C.forEach(function(re){m.call(T,re,z,this)},this)},this)};function Kr(m,T){_n(m);let C=[];if(typeof T=="string")Fs(m,T)&&(C=C.concat(m.g.get(Ss(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)C=C.concat(m[T]);return C}n.set=function(m,T){return _n(this),this.i=null,m=Ss(this,m),Fs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},n.get=function(m,T){return m?(m=Kr(this,m),m.length>0?String(m[0]):T):T};function fr(m,T,C){Ha(m,T),C.length>0&&(m.i=null,m.g.set(Ss(m,T),R(C)),m.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let z=0;z<T.length;z++){var C=T[z];const re=ke(C);C=Kr(this,C);for(let he=0;he<C.length;he++){let Ne=re;C[he]!==""&&(Ne+="="+ke(C[he])),m.push(Ne)}}return this.i=m.join("&")};function Wr(m){const T=new Ii;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function Ss(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function mr(m,T){T&&!m.j&&(_n(m),m.i=null,m.g.forEach(function(C,z){const re=z.toLowerCase();z!=re&&(Ha(this,z),fr(this,re,C))},m)),m.j=T}function Xn(m,T){const C=new Fi;if(d.Image){const z=new Image;z.onload=w(Jn,C,"TestLoadImage: loaded",!0,T,z),z.onerror=w(Jn,C,"TestLoadImage: error",!1,T,z),z.onabort=w(Jn,C,"TestLoadImage: abort",!1,T,z),z.ontimeout=w(Jn,C,"TestLoadImage: timeout",!1,T,z),d.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=m}else T(!1)}function qa(m,T){const C=new Fi,z=new AbortController,re=setTimeout(()=>{z.abort(),Jn(C,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:z.signal}).then(he=>{clearTimeout(re),he.ok?Jn(C,"TestPingServer: ok",!0,T):Jn(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(re),Jn(C,"TestPingServer: error",!1,T)})}function Jn(m,T,C,z,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),z(C)}catch{}}function pr(){this.g=new Fr}function qe(m){this.i=m.Sb||null,this.h=m.ab||!1}E(qe,Gr),qe.prototype.g=function(){return new On(this.i,this.h)};function On(m,T){Zt.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(On,Zt),n=On.prototype,n.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,di(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||d).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vt(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function vt(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Gs(this):di(this),this.readyState==3&&vt(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Gs(this))},n.Na=function(m){this.g&&(this.response=m,Gs(this))},n.ga=function(){this.g&&Gs(this)};function Gs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,di(m)}n.setRequestHeader=function(m,T){this.A.append(m,T)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=T.next();return m.join(`\r
`)};function di(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(On.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ei(m){let T="";return fe(m,function(C,z){T+=z,T+=":",T+=C,T+=`\r
`}),T}function Zs(m,T,C){e:{for(z in C){var z=!1;break e}z=!0}z||(C=ei(C),typeof m=="string"?C!=null&&ke(C):Le(m,T,C))}function ut(m){Zt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ut,Zt);var Pi=/^https?$/i,$s=["POST","PUT"];n=ut.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,T,C,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yo.g(),this.g.onreadystatechange=N(v(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(he){qt(this,he);return}if(m=C||"",C=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var re in z)C.set(re,z[re]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const he of z.keys())C.set(he,z.get(he));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(C.keys()).find(he=>he.toLowerCase()=="content-type"),re=d.FormData&&m instanceof d.FormData,!(Array.prototype.indexOf.call($s,T,void 0)>=0)||z||re||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ne]of C)this.g.setRequestHeader(he,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(he){qt(this,he)}};function qt(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,Ki(m),As(m)}function Ki(m){m.A||(m.A=!0,$t(m,"complete"),$t(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,$t(this,"complete"),$t(this,"abort"),As(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),ut.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},n.Xa=function(){gr(this)};function gr(m){if(m.h&&typeof c<"u"){if(m.v&&Wi(m)==4)setTimeout(m.Ca.bind(m),0);else if($t(m,"readystatechange"),Wi(m)==4){m.h=!1;try{const he=m.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var z;if(z=he===0){let Ne=String(m.D).match(dr)[1]||null;!Ne&&d.self&&d.self.location&&(Ne=d.self.location.protocol.slice(0,-1)),z=!Pi.test(Ne?Ne.toLowerCase():"")}C=z}if(C)$t(m,"complete"),$t(m,"success");else{m.o=6;try{var re=Wi(m)>2?m.g.statusText:""}catch{re=""}m.l=re+" ["+m.ca()+"]",Ki(m)}}finally{As(m)}}}}function As(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const C=m.g;m.g=null,T||$t(m,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wi(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Zo(T)}};function vn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(m){const T={};m=(m.g&&Wi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<m.length;z++){if(F(m[z]))continue;var C=Ko(m[z]);const re=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const he=T[re]||[];T[re]=he,he.push(C)}_e(T,function(z){return z.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(m,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||T}function Ys(m){this.za=0,this.i=[],this.j=new Fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cs("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cs("baseRetryDelayMs",5e3,m),this.Za=Cs("retryDelaySeedMs",1e4,m),this.Ta=Cs("forwardChannelMaxRetries",2,m),this.va=Cs("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(m&&m.concurrentRequestLimit),this.Ba=new pr,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ys.prototype,n.ka=8,n.I=1,n.connect=function(m,T,C,z){Qt(0),this.W=m,this.H=T||{},C&&z!==void 0&&(this.H.OSID=C,this.H.OAID=z),this.F=this.X,this.J=tl(this,null,this.W),ti(this)};function st(m){if(kn(m),m.I==3){var T=m.V++,C=Bt(m.J);if(Le(C,"SID",m.M),Le(C,"RID",T),Le(C,"TYPE","terminate"),Ks(m,C),T=new Si(m,m.j,T),T.M=2,T.A=Nt(Bt(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&d.Image&&(new Image().src=T.A,C=!0),C||(T.g=nl(T.j,null),T.g.ea(T.A)),T.F=Date.now(),bs(T)}Ji(m)}function yr(m){m.g&&(el(m),m.g.cancel(),m.g=null)}function kn(m){yr(m),m.v&&(d.clearTimeout(m.v),m.v=null),Ga(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&d.clearTimeout(m.m),m.m=null)}function ti(m){if(!Qo(m.h)&&!m.m){m.m=!0;var T=m.Ea;ne||I(),ye||(ne(),ye=!0),q.add(T,m),m.D=0}}function Qr(m,T){return ws(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=_s(v(m.Ea,m,T),sc(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const re=new Si(this,this.j,m);let he=this.o;if(this.U&&(he?(he=D(he),pe(he,this.U)):he=this.U),this.u!==null||this.R||(re.J=he,he=null),this.S)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var z=this.i[C];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(T+=z,T>4096){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=ic(this,re,T),C=Bt(this.J),Le(C,"RID",m),Le(C,"CVER",22),this.G&&Le(C,"X-HTTP-Session-Id",this.G),Ks(this,C),he&&(this.R?T="headers="+ke(ei(he))+"&"+T:this.u&&Zs(C,this.u,he)),qs(this.h,re),this.Ra&&Le(C,"TYPE","init"),this.S?(Le(C,"$req",T),Le(C,"SID","null"),re.U=!0,Gi(re,C,null)):Gi(re,C,T),this.I=2}}else this.I==3&&(m?Xo(this,m):this.i.length==0||Qo(this.h)||Xo(this))};function Xo(m,T){var C;T?C=T.l:C=m.V++;const z=Bt(m.J);Le(z,"SID",m.M),Le(z,"RID",C),Le(z,"AID",m.K),Ks(m,z),m.u&&m.o&&Zs(z,m.u,m.o),C=new Si(m,m.j,C,m.D+1),m.u===null&&(C.J=m.o),T&&(m.i=T.G.concat(m.i)),T=ic(m,C,1e3),C.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),qs(m.h,C),Gi(C,z,T)}function Ks(m,T){m.H&&fe(m.H,function(C,z){Le(T,z,C)}),m.l&&fe({},function(C,z){Le(T,z,C)})}function ic(m,T,C){C=Math.min(m.i.length,C);const z=m.l?v(m.l.Ka,m.l,m):null;e:{var re=m.i;let Ye=-1;for(;;){const gt=["count="+C];Ye==-1?C>0?(Ye=re[0].g,gt.push("ofs="+Ye)):Ye=0:gt.push("ofs="+Ye);let yt=!0;for(let Vt=0;Vt<C;Vt++){var he=re[Vt].g;const Mi=re[Vt].map;if(he-=Ye,he<0)Ye=Math.max(0,re[Vt].g-100),yt=!1;else try{he="req"+he+"_"||"";try{var Ne=Mi instanceof Map?Mi:Object.entries(Mi);for(const[Li,mi]of Ne){let es=mi;_(mi)&&(es=qi(mi)),gt.push(he+Li+"="+encodeURIComponent(es))}}catch(Li){throw gt.push(he+"type="+encodeURIComponent("_badmap")),Li}}catch{z&&z(Mi)}}if(yt){Ne=gt.join("&");break e}}Ne=void 0}return m=m.i.splice(0,C),T.G=m,Ne}function Jo(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;ne||I(),ye||(ne(),ye=!0),q.add(T,m),m.A=0}}function Xr(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=_s(v(m.Da,m),sc(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Fa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=_s(v(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),yr(this),Fa(this))};function el(m){m.B!=null&&(d.clearTimeout(m.B),m.B=null)}function Fa(m){m.g=new Si(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Bt(m.na);Le(T,"RID","rpc"),Le(T,"SID",m.M),Le(T,"AID",m.K),Le(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&Le(T,"TO",m.ia),Le(T,"TYPE","xmlhttp"),Ks(m,T),m.u&&m.o&&Zs(T,m.u,m.o),m.O&&(m.g.H=m.O);var C=m.g;m=m.ba,C.M=1,C.A=Nt(Bt(T)),C.u=null,C.R=!0,Zi(C,m)}n.Va=function(){this.C!=null&&(this.C=null,yr(this),Xr(this),Qt(19))};function Ga(m){m.C!=null&&(d.clearTimeout(m.C),m.C=null)}function fi(m,T){var C=null;if(m.g==T){Ga(m),el(m),m.g=null;var z=2}else if(Ni(m.h,T))C=T.G,za(m.h,T),z=1;else return;if(m.I!=0){if(T.o)if(z==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var re=m.D;z=tt(),$t(z,new ys(z,C)),ti(m)}else Jo(m);else if(re=T.m,re==3||re==0&&T.X>0||!(z==1&&Qr(m,T)||z==2&&Xr(m)))switch(C&&C.length>0&&(T=m.h,T.i=T.i.concat(C)),re){case 1:Xi(m,5);break;case 4:Xi(m,10);break;case 3:Xi(m,6);break;default:Xi(m,2)}}}function sc(m,T){let C=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(C*=2),C*T}function Xi(m,T){if(m.j.info("Error code "+T),T==2){var C=v(m.bb,m),z=m.Ua;const re=!z;z=new at(z||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(z,"https"),Nt(z),re?Xn(z.toString(),C):qa(z.toString(),C)}else Qt(2);m.I=0,m.l&&m.l.pa(T),Ji(m),kn(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Ji(m){if(m.I=0,m.ja=[],m.l){const T=Ua(m.h);(T.length!=0||m.i.length!=0)&&(j(m.ja,T),j(m.ja,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.oa()}}function tl(m,T,C){var z=C instanceof at?Bt(C):new at(C);if(z.g!="")T&&(z.g=T+"."+z.g),hi(z,z.u);else{var re=d.location;z=re.protocol,T=T?T+"."+re.hostname:re.hostname,re=+re.port;const he=new at(null);z&&Ht(he,z),T&&(he.g=T),re&&hi(he,re),C&&(he.h=C),z=he}return C=m.G,T=m.wa,C&&T&&Le(z,C,T),Le(z,"VER",m.ka),Ks(m,z),z}function nl(m,T,C){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new ut(new qe({ab:C})):new ut(m.ma),T.Fa(m.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Za(){}n=Za.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function _r(){}_r.prototype.g=function(m,T){return new Dn(m,T)};function Dn(m,T){Zt.call(this),this.g=new Ys(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!F(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!F(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Ws(this)}E(Dn,Zt),Dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){st(this.g)},Dn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.v&&(C={},C.__data__=qi(m),m=C);T.i.push(new rn(T.Ya++,m)),T.I==3&&ti(T)},Dn.prototype.N=function(){this.g.l=null,delete this.j,st(this.g),delete this.g,Dn.Z.N.call(this)};function il(m){Wt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const C in T){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}E(il,Wt);function rc(){Q.call(this),this.status=1}E(rc,Q);function Ws(m){this.g=m}E(Ws,Za),Ws.prototype.ra=function(){$t(this.g,"a")},Ws.prototype.qa=function(m){$t(this.g,new il(m))},Ws.prototype.pa=function(m){$t(this.g,new rc)},Ws.prototype.oa=function(){$t(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,TE=function(){return new _r},EE=function(){return tt()},wE=Pe,ry={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,ff=Zr,$o.COMPLETE="complete",xE=$o,ja.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Zt.prototype.listen=Zt.prototype.J,th=ja,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,bE=ut}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});let ai=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let iu="12.9.0";function uM(n){iu=n}const Bl=new By("@firebase/firestore");function Vc(){return Bl.logLevel}function Oe(n,...e){if(Bl.logLevel<=ft.DEBUG){const t=e.map(e_);Bl.debug(`Firestore (${iu}): ${n}`,...t)}}function Ra(n,...e){if(Bl.logLevel<=ft.ERROR){const t=e.map(e_);Bl.error(`Firestore (${iu}): ${n}`,...t)}}function Hl(n,...e){if(Bl.logLevel<=ft.WARN){const t=e.map(e_);Bl.warn(`Firestore (${iu}): ${n}`,...t)}}function e_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function $e(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,SE(n,s,t)}function SE(n,e,t){let s=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ra(s),new Error(s)}function St(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||SE(e,o,s)}function Ke(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class AE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ai.UNAUTHENTICATED)))}shutdown(){}}class dM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class fM{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){St(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},_=p=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>_(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?_(p):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(St(typeof s.accessToken=="string",31837,{l:s}),new AE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new ai(e)}}class mM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new mM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ai.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){St(this.o===void 0,3512);const s=c=>{c.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(St(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class t_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yM(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function mt(n,e){return n<e?-1:n>e?1:0}function ay(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Rg(o)===Rg(c)?mt(o,c):Rg(o)?1:-1}return mt(n.length,e.length)}const _M=55296,vM=57343;function Rg(n){const e=n.charCodeAt(0);return e>=_M&&e<=vM}function $c(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const Ux="__name__";class Rr{constructor(e,t,s){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&$e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Rr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return mt(e.length,t.length)}static compareSegments(e,t){const s=Rr.isNumericId(e),o=Rr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):ay(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lo.fromString(e.substring(4,e.length-2))}}class Ut extends Rr{construct(e,t,s){return new Ut(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Me(be.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ut(t)}static emptyPath(){return new Ut([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Rr{construct(e,t,s){return new $n(e,t,s)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ux}static keyField(){return new $n([Ux])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Me(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new Me(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Me(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else _==="`"?(d=!d,o++):_!=="."||d?(s+=_,o++):(c(),o++)}if(c(),d)throw new Me(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(t)}static emptyPath(){return new $n([])}}class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Ut.fromString(e))}static fromName(e){return new Be(Ut.fromString(e).popFirst(5))}static empty(){return new Be(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Ut(e.slice()))}}function CE(n,e,t){if(!t)throw new Me(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xM(n,e,t,s){if(e===!0&&s===!0)throw new Me(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bx(n){if(!Be.isDocumentKey(n))throw new Me(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hx(n){if(Be.isDocumentKey(n))throw new Me(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function om(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=om(n);throw new Me(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function An(n,e){const t={typeString:n};return e&&(t.value=e),t}function kh(n,e){if(!NE(n))throw new Me(be.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const d=n[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Me(be.INVALID_ARGUMENT,t);return!0}const qx=-62135596800,Fx=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Fx);return new Gt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qx)throw new Me(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fx}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kh(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:An("string",Gt._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Gt(0,0))}static max(){return new We(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _h=-1;function wM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=We.fromTimestamp(s===1e9?new Gt(t+1,0):new Gt(t,s));return new Do(o,Be.empty(),e)}function EM(n){return new Do(n.readTime,n.key,_h)}class Do{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Do(We.min(),Be.empty(),_h)}static max(){return new Do(We.max(),Be.empty(),_h)}}function TM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:mt(n.largestBatchId,e.largestBatchId))}const SM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function su(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==SM)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,s)=>{t(e)}))}static reject(e){return new Te(((t,s)=>{s(e)}))}static waitFor(e){return new Te(((t,s)=>{let o=0,c=0,d=!1;e.forEach((_=>{++o,_.next((()=>{++c,d&&c===o&&t()}),(p=>s(p)))})),d=!0,c===o&&t()}))}static or(e){let t=Te.resolve(!1);for(const s of e)t=t.next((o=>o?Te.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new Te(((s,o)=>{const c=e.length,d=new Array(c);let _=0;for(let p=0;p<c;p++){const v=p;t(e[v]).next((w=>{d[v]=w,++_,_===c&&s(d)}),(w=>o(w)))}}))}static doWhile(e,t){return new Te(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function CM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ru(n){return n.name==="IndexedDbTransactionError"}class lm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lm.ce=-1;const n_=-1;function cm(n){return n==null}function Pf(n){return n===0&&1/n==-1/0}function NM(n){return typeof n=="number"&&Number.isInteger(n)&&!Pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const RE="";function RM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Gx(e)),e=IM(n.get(t),e);return Gx(e)}function IM(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case RE:t+="";break;default:t+=c}}return t}function Gx(n){return n+RE+""}function Zx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PM(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function IE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tn{constructor(e,t){this.comparator=e,this.root=t||Zn.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??Zn.RED,this.left=o??Zn.EMPTY,this.right=c??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new Zn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new Zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $x(this.data.getIterator())}getIteratorFrom(e){return new $x(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pn(this.comparator);return t.data=e,t}}class $x{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class cs{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new cs([])}unionWith(e){let t=new Pn($n.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $c(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class PE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new PE("Invalid base64 string: "+c):c}})(e);return new Yn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const MM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(n){if(St(!!n,39018),typeof n=="string"){let e=0;const t=MM.exec(n);if(St(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yn(n.seconds),nanos:yn(n.nanos)}}function yn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vo(n){return typeof n=="string"?Yn.fromBase64String(n):Yn.fromUint8Array(n)}const ME="server_timestamp",LE="__type__",OE="__previous_value__",kE="__local_write_time__";function i_(n){return(n?.mapValue?.fields||{})[LE]?.stringValue===ME}function um(n){const e=n.mapValue.fields[OE];return i_(e)?um(e):e}function vh(n){const e=jo(n.mapValue.fields[kE].timestampValue);return new Gt(e.seconds,e.nanos)}class LM{constructor(e,t,s,o,c,d,_,p,v,w,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=E}}const Mf="(default)";class bh{constructor(e,t){this.projectId=e,this.database=t||Mf}static empty(){return new bh("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}function OM(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Me(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(n.options.projectId,e)}const DE="__type__",kM="__max__",Jd={mapValue:{}},jE="__vector__",Lf="value";function zo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?i_(n)?4:jM(n)?9007199254740991:DM(n)?10:11:$e(28295,{value:n})}function Br(n,e){if(n===e)return!0;const t=zo(n);if(t!==zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vh(n).isEqual(vh(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=jo(o.timestampValue),_=jo(c.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return Vo(o.bytesValue).isEqual(Vo(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return yn(o.geoPointValue.latitude)===yn(c.geoPointValue.latitude)&&yn(o.geoPointValue.longitude)===yn(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return yn(o.integerValue)===yn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=yn(o.doubleValue),_=yn(c.doubleValue);return d===_?Pf(d)===Pf(_):isNaN(d)&&isNaN(_)}return!1})(n,e);case 9:return $c(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},_=c.mapValue.fields||{};if(Zx(d)!==Zx(_))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(_[p]===void 0||!Br(d[p],_[p])))return!1;return!0})(n,e);default:return $e(52216,{left:n})}}function xh(n,e){return(n.values||[]).find((t=>Br(t,e)))!==void 0}function Yc(n,e){if(n===e)return 0;const t=zo(n),s=zo(e);if(t!==s)return mt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return mt(n.booleanValue,e.booleanValue);case 2:return(function(c,d){const _=yn(c.integerValue||c.doubleValue),p=yn(d.integerValue||d.doubleValue);return _<p?-1:_>p?1:_===p?0:isNaN(_)?isNaN(p)?0:-1:1})(n,e);case 3:return Yx(n.timestampValue,e.timestampValue);case 4:return Yx(vh(n),vh(e));case 5:return ay(n.stringValue,e.stringValue);case 6:return(function(c,d){const _=Vo(c),p=Vo(d);return _.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(c,d){const _=c.split("/"),p=d.split("/");for(let v=0;v<_.length&&v<p.length;v++){const w=mt(_[v],p[v]);if(w!==0)return w}return mt(_.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,d){const _=mt(yn(c.latitude),yn(d.latitude));return _!==0?_:mt(yn(c.longitude),yn(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Kx(n.arrayValue,e.arrayValue);case 10:return(function(c,d){const _=c.fields||{},p=d.fields||{},v=_[Lf]?.arrayValue,w=p[Lf]?.arrayValue,E=mt(v?.values?.length||0,w?.values?.length||0);return E!==0?E:Kx(v,w)})(n.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Jd.mapValue&&d===Jd.mapValue)return 0;if(c===Jd.mapValue)return 1;if(d===Jd.mapValue)return-1;const _=c.fields||{},p=Object.keys(_),v=d.fields||{},w=Object.keys(v);p.sort(),w.sort();for(let E=0;E<p.length&&E<w.length;++E){const N=ay(p[E],w[E]);if(N!==0)return N;const R=Yc(_[p[E]],v[w[E]]);if(R!==0)return R}return mt(p.length,w.length)})(n.mapValue,e.mapValue);default:throw $e(23264,{he:t})}}function Yx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return mt(n,e);const t=jo(n),s=jo(e),o=mt(t.seconds,s.seconds);return o!==0?o:mt(t.nanos,s.nanos)}function Kx(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Yc(t[o],s[o]);if(c)return c}return mt(t.length,s.length)}function Kc(n){return oy(n)}function oy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=jo(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Vo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=oy(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${oy(t.fields[d])}`;return o+"}"})(n.mapValue):$e(61005,{value:n})}function mf(n){switch(zo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(n);return e?16+mf(e):16;case 5:return 2*n.stringValue.length;case 6:return Vo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+mf(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return qo(s.fields,((c,d)=>{o+=c.length+mf(d)})),o})(n.mapValue);default:throw $e(13486,{value:n})}}function Wx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ly(n){return!!n&&"integerValue"in n}function s_(n){return!!n&&"arrayValue"in n}function Qx(n){return!!n&&"nullValue"in n}function Xx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pf(n){return!!n&&"mapValue"in n}function DM(n){return(n?.mapValue?.fields||{})[DE]?.stringValue===jE}function ch(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return qo(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ch(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ch(n.arrayValue.values[t]);return e}return{...n}}function jM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kM}class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ch(t)}setAll(e){let t=$n.emptyPath(),s={},o=[];e.forEach(((d,_)=>{if(!t.isImmediateParentOf(_)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=_.popLast()}d?s[_.lastSegment()]=ch(d):o.push(_.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){qo(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new vi(ch(this.value))}}function VE(n){const e=[];return qo(n.fields,((t,s)=>{const o=new $n([t]);if(pf(s)){const c=VE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new cs(e)}class oi{constructor(e,t,s,o,c,d,_){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(e){return new oi(e,0,We.min(),We.min(),We.min(),vi.empty(),0)}static newFoundDocument(e,t,s,o){return new oi(e,1,t,We.min(),s,o,0)}static newNoDocument(e,t){return new oi(e,2,t,We.min(),We.min(),vi.empty(),0)}static newUnknownDocument(e,t){return new oi(e,3,t,We.min(),We.min(),vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(e,t){this.position=e,this.inclusive=t}}function Jx(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(c.field.isKeyField()?s=Be.comparator(Be.fromName(d.referenceValue),t.key):s=Yc(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function ew(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function VM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class zE{}class Sn extends zE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new UM(e,t,s):t==="array-contains"?new qM(e,s):t==="in"?new FM(e,s):t==="not-in"?new GM(e,s):t==="array-contains-any"?new ZM(e,s):new Sn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new BM(e,s):new HM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Yc(t,this.value)):t!==null&&zo(this.value)===zo(t)&&this.matchesComparison(Yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends zE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new or(e,t)}matches(e){return UE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UE(n){return n.op==="and"}function BE(n){return zM(n)&&UE(n)}function zM(n){for(const e of n.filters)if(e instanceof or)return!1;return!0}function cy(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+Kc(n.value);if(BE(n))return n.filters.map((e=>cy(e))).join(",");{const e=n.filters.map((t=>cy(t))).join(",");return`${n.op}(${e})`}}function HE(n,e){return n instanceof Sn?(function(s,o){return o instanceof Sn&&s.op===o.op&&s.field.isEqual(o.field)&&Br(s.value,o.value)})(n,e):n instanceof or?(function(s,o){return o instanceof or&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,_)=>c&&HE(d,o.filters[_])),!0):!1})(n,e):void $e(19439)}function qE(n){return n instanceof Sn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Kc(t.value)}`})(n):n instanceof or?(function(t){return t.op.toString()+" {"+t.getFilters().map(qE).join(" ,")+"}"})(n):"Filter"}class UM extends Sn{constructor(e,t,s){super(e,t,s),this.key=Be.fromName(s.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class BM extends Sn{constructor(e,t){super(e,"in",t),this.keys=FE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class HM extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=FE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function FE(n,e){return(e.arrayValue?.values||[]).map((t=>Be.fromName(t.referenceValue)))}class qM extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return s_(t)&&xh(t.arrayValue,this.value)}}class FM extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xh(this.value.arrayValue,t)}}class GM extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xh(this.value.arrayValue,t)}}class ZM extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!s_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>xh(this.value.arrayValue,s)))}}class $M{constructor(e,t=null,s=[],o=[],c=null,d=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=_,this.Te=null}}function tw(n,e=null,t=[],s=[],o=null,c=null,d=null){return new $M(n,e,t,s,o,c,d)}function r_(n){const e=Ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>cy(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),cm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Kc(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Kc(s))).join(",")),e.Te=t}return e.Te}function a_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ew(n.startAt,e.startAt)&&ew(n.endAt,e.endAt)}function uy(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class au{constructor(e,t=null,s=[],o=[],c=null,d="F",_=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function YM(n,e,t,s,o,c,d,_){return new au(n,e,t,s,o,c,d,_)}function hm(n){return new au(n)}function nw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KM(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function GE(n){return n.collectionGroup!==null}function uh(n){const e=Ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new Pn($n.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new wh(c,s))})),t.has($n.keyField().canonicalString())||e.Ie.push(new wh($n.keyField(),s))}return e.Ie}function jr(n){const e=Ke(n);return e.Ee||(e.Ee=ZE(e,uh(n))),e.Ee}function WM(n){const e=Ke(n);return e.Re||(e.Re=ZE(e,n.explicitOrderBy)),e.Re}function ZE(n,e){if(n.limitType==="F")return tw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new wh(o.field,c)}));const t=n.endAt?new Of(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Of(n.startAt.position,n.startAt.inclusive):null;return tw(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function hy(n,e){const t=n.filters.concat([e]);return new au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function QM(n,e){const t=n.explicitOrderBy.concat([e]);return new au(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function kf(n,e,t){return new au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dm(n,e){return a_(jr(n),jr(e))&&n.limitType===e.limitType}function $E(n){return`${r_(jr(n))}|lt:${n.limitType}`}function zc(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>qE(o))).join(", ")}]`),cm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Kc(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Kc(o))).join(",")),`Target(${s})`})(jr(n))}; limitType=${n.limitType})`}function fm(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Be.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of uh(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(d,_,p){const v=Jx(d,_,p);return d.inclusive?v<=0:v<0})(s.startAt,uh(s),o)||s.endAt&&!(function(d,_,p){const v=Jx(d,_,p);return d.inclusive?v>=0:v>0})(s.endAt,uh(s),o))})(n,e)}function XM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YE(n){return(e,t)=>{let s=!1;for(const o of uh(n)){const c=JM(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function JM(n,e,t){const s=n.field.isKeyField()?Be.comparator(e.key,t.key):(function(c,d,_){const p=d.data.field(c),v=_.data.field(c);return p!==null&&v!==null?Yc(p,v):$e(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return $e(19790,{direction:n.dir})}}class Wl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const eL=new tn(Be.comparator);function Ia(){return eL}const KE=new tn(Be.comparator);function nh(...n){let e=KE;for(const t of n)e=e.insert(t.key,t);return e}function WE(n){let e=KE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Pl(){return hh()}function QE(){return hh()}function hh(){return new Wl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const tL=new tn(Be.comparator),nL=new Pn(Be.comparator);function pt(...n){let e=nL;for(const t of n)e=e.add(t);return e}const iL=new Pn(mt);function sL(){return iL}function o_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function XE(n){return{integerValue:""+n}}function JE(n,e){return NM(e)?XE(e):o_(n,e)}class mm{constructor(){this._=void 0}}function rL(n,e,t){return n instanceof Df?(function(o,c){const d={fields:{[LE]:{stringValue:ME},[kE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&i_(c)&&(c=um(c)),c&&(d.fields[OE]=c),{mapValue:d}})(t,e):n instanceof Eh?tT(n,e):n instanceof Th?nT(n,e):(function(o,c){const d=eT(o,c),_=iw(d)+iw(o.Ae);return ly(d)&&ly(o.Ae)?XE(_):o_(o.serializer,_)})(n,e)}function aL(n,e,t){return n instanceof Eh?tT(n,e):n instanceof Th?nT(n,e):t}function eT(n,e){return n instanceof Sh?(function(s){return ly(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Df extends mm{}class Eh extends mm{constructor(e){super(),this.elements=e}}function tT(n,e){const t=iT(e);for(const s of n.elements)t.some((o=>Br(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Th extends mm{constructor(e){super(),this.elements=e}}function nT(n,e){let t=iT(e);for(const s of n.elements)t=t.filter((o=>!Br(o,s)));return{arrayValue:{values:t}}}class Sh extends mm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function iw(n){return yn(n.integerValue||n.doubleValue)}function iT(n){return s_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class oL{constructor(e,t){this.field=e,this.transform=t}}function lL(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Eh&&o instanceof Eh||s instanceof Th&&o instanceof Th?$c(s.elements,o.elements,Br):s instanceof Sh&&o instanceof Sh?Br(s.Ae,o.Ae):s instanceof Df&&o instanceof Df})(n.transform,e.transform)}class cL{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class pm{}function sT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gm(n.key,bi.none()):new Dh(n.key,n.data,bi.none());{const t=n.data,s=vi.empty();let o=new Pn($n.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Fo(n.key,s,new cs(o.toArray()),bi.none())}}function uL(n,e,t){n instanceof Dh?(function(o,c,d){const _=o.value.clone(),p=rw(o.fieldTransforms,c,d.transformResults);_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(n,e,t):n instanceof Fo?(function(o,c,d){if(!gf(o.precondition,c))return void c.convertToUnknownDocument(d.version);const _=rw(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(rT(o)),p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(n,e,t):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function dh(n,e,t,s){return n instanceof Dh?(function(c,d,_,p){if(!gf(c.precondition,d))return _;const v=c.value.clone(),w=aw(c.fieldTransforms,p,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Fo?(function(c,d,_,p){if(!gf(c.precondition,d))return _;const v=aw(c.fieldTransforms,p,d),w=d.data;return w.setAll(rT(c)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(c,d,_){return gf(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_})(n,e,t)}function hL(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=eT(s.transform,o||null);c!=null&&(t===null&&(t=vi.empty()),t.set(s.field,c))}return t||null}function sw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&$c(s,o,((c,d)=>lL(c,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dh extends pm{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fo extends pm{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function rw(n,e,t){const s=new Map;St(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,_=e.data.field(c.field);s.set(c.field,aL(d,_,t[o]))}return s}function aw(n,e,t){const s=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);s.set(o.field,rL(c,d,e))}return s}class gm extends pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dL extends pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fL{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&uL(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dh(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dh(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=QE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=t.has(o.key)?null:_;const p=sT(d,_);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(We.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),pt())}isEqual(e){return this.batchId===e.batchId&&$c(this.mutations,e.mutations,((t,s)=>sw(t,s)))&&$c(this.baseMutations,e.baseMutations,((t,s)=>sw(t,s)))}}class l_{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){St(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return tL})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new l_(e,t,s,o)}}class mL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class pL{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}class gL{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tn,_t;function yL(n){switch(n){case be.OK:return $e(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function aT(n){if(n===void 0)return Ra("GRPC error has no .code"),be.UNKNOWN;switch(n){case Tn.OK:return be.OK;case Tn.CANCELLED:return be.CANCELLED;case Tn.UNKNOWN:return be.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return be.INTERNAL;case Tn.UNAVAILABLE:return be.UNAVAILABLE;case Tn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Tn.NOT_FOUND:return be.NOT_FOUND;case Tn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Tn.ABORTED:return be.ABORTED;case Tn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Tn.DATA_LOSS:return be.DATA_LOSS;default:return $e(39323,{code:n})}}(_t=Tn||(Tn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";function _L(){return new TextEncoder}const vL=new Lo([4294967295,4294967295],0);function ow(n){const e=_L().encode(n),t=new vE;return t.update(e),new Uint8Array(t.digest())}function lw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Lo([t,s],0),new Lo([o,c],0)]}class c_{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ih(`Invalid padding: ${t}`);if(s<0)throw new ih(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ih(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ih(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Lo.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Lo.fromNumber(s)));return o.compare(vL)===1&&(o=new Lo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ow(e),[s,o]=lw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new c_(c,o,t);return s.forEach((_=>d.insert(_))),d}insert(e){if(this.ge===0)return;const t=ow(e),[s,o]=lw(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.be(d)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ym{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,jh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ym(We.min(),o,new tn(mt),Ia(),pt())}}class jh{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new jh(s,t,pt(),pt(),pt())}}class yf{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class oT{constructor(e,t){this.targetId=e,this.Ce=t}}class lT{constructor(e,t,s=Yn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class cw{constructor(){this.ve=0,this.Fe=uw(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),t=pt(),s=pt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:$e(38017,{changeType:c})}})),new jh(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=uw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ia(),this.He=ef(),this.Je=ef(),this.Ze=new tn(mt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(uy(c))if(s===0){const d=new Be(c.path);this.et(t,d,oi.newNoDocument(d,We.min()))}else St(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const _=this.ut(e),p=_?this.ct(_,e,d):1;if(p!==0){this.it(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let d,_;try{d=Vo(s).toUint8Array()}catch(p){if(p instanceof PE)return Hl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{_=new c_(d,o,c)}catch(p){return Hl(p instanceof ih?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return _.ge===0?null:_}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,d)=>{const _=this.ot(d);if(_){if(c.current&&uy(_.target)){const p=new Be(_.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,oi.newNoDocument(p,e))}c.Be&&(t.set(d,c.ke()),c.Ke())}}));let s=pt();this.Je.forEach(((c,d)=>{let _=!0;d.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new ym(e,t,this.Ze,this.je,s);return this.je=Ia(),this.He=ef(),this.Je=ef(),this.Ze=new tn(mt),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new cw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Pn(mt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Pn(mt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ef(){return new tn(Be.comparator)}function uw(){return new tn(Be.comparator)}const xL={asc:"ASCENDING",desc:"DESCENDING"},wL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EL={and:"AND",or:"OR"};class TL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dy(n,e){return n.useProto3Json||cm(e)?e:{value:e}}function jf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SL(n,e){return jf(n,e.toTimestamp())}function Vr(n){return St(!!n,49232),We.fromTimestamp((function(t){const s=jo(t);return new Gt(s.seconds,s.nanos)})(n))}function u_(n,e){return fy(n,e).canonicalString()}function fy(n,e){const t=(function(o){return new Ut(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function uT(n){const e=Ut.fromString(n);return St(gT(e),10190,{key:e.toString()}),e}function my(n,e){return u_(n.databaseId,e.path)}function Ig(n,e){const t=uT(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(dT(t))}function hT(n,e){return u_(n.databaseId,e)}function AL(n){const e=uT(n);return e.length===4?Ut.emptyPath():dT(e)}function py(n){return new Ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dT(n){return St(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hw(n,e,t){return{name:my(n,e),fields:t.value.mapValue.fields}}function CL(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:$e(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(St(w===void 0||typeof w=="string",58123),Yn.fromBase64String(w||"")):(St(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Yn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&(function(v){const w=v.code===void 0?be.UNKNOWN:aT(v.code);return new Me(w,v.message||"")})(d);t=new lT(s,o,c,_||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ig(n,s.document.name),c=Vr(s.document.updateTime),d=s.document.createTime?Vr(s.document.createTime):We.min(),_=new vi({mapValue:{fields:s.document.fields}}),p=oi.newFoundDocument(o,c,d,_),v=s.targetIds||[],w=s.removedTargetIds||[];t=new yf(v,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ig(n,s.document),c=s.readTime?Vr(s.readTime):We.min(),d=oi.newNoDocument(o,c),_=s.removedTargetIds||[];t=new yf([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ig(n,s.document),c=s.removedTargetIds||[];t=new yf([],c,o,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new gL(o,c),_=s.targetId;t=new oT(_,d)}}return t}function NL(n,e){let t;if(e instanceof Dh)t={update:hw(n,e.key,e.value)};else if(e instanceof gm)t={delete:my(n,e.key)};else if(e instanceof Fo)t={update:hw(n,e.key,e.data),updateMask:jL(e.fieldMask)};else{if(!(e instanceof dL))return $e(16599,{dt:e.type});t={verify:my(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const _=d.transform;if(_ instanceof Df)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Eh)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Th)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Sh)return{fieldPath:d.field.canonicalString(),increment:_.Ae};throw $e(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:SL(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:$e(27497)})(n,e.precondition)),t}function RL(n,e){return n&&n.length>0?(St(e!==void 0,14353),n.map((t=>(function(o,c){let d=o.updateTime?Vr(o.updateTime):Vr(c);return d.isEqual(We.min())&&(d=Vr(c)),new cL(d,o.transformResults||[])})(t,e)))):[]}function IL(n,e){return{documents:[hT(n,e.path)]}}function fT(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=hT(n,o);const c=(function(v){if(v.length!==0)return pT(or.create(v,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((w=>(function(N){return{field:Ao(N.field),direction:OL(N.dir)}})(w)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=dy(n,e.limit);return _!==null&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function PL(n,e,t,s){const{ft:o,parent:c}=fT(n,e),d={},_=[];let p=0;return t.forEach((v=>{const w="aggregate_"+p++;d[w]=v.alias,v.aggregateType==="count"?_.push({alias:w,count:{}}):v.aggregateType==="avg"?_.push({alias:w,avg:{field:Ao(v.fieldPath)}}):v.aggregateType==="sum"&&_.push({alias:w,sum:{field:Ao(v.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:_,structuredQuery:o.structuredQuery},parent:o.parent},gt:d,parent:c}}function ML(n){let e=AL(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){St(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(E){const N=mT(E);return N instanceof or&&BE(N)?N.getFilters():[N]})(t.where));let d=[];t.orderBy&&(d=(function(E){return E.map((N=>(function(j){return new wh(Uc(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(N)))})(t.orderBy));let _=null;t.limit&&(_=(function(E){let N;return N=typeof E=="object"?E.value:E,cm(N)?null:N})(t.limit));let p=null;t.startAt&&(p=(function(E){const N=!!E.before,R=E.values||[];return new Of(R,N)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const N=!E.before,R=E.values||[];return new Of(R,N)})(t.endAt)),YM(e,o,d,c,_,"F",p,v)}function LL(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Uc(t.unaryFilter.field);return Sn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Uc(t.unaryFilter.field);return Sn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Uc(t.unaryFilter.field);return Sn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Uc(t.unaryFilter.field);return Sn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Sn.create(Uc(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return or.create(t.compositeFilter.filters.map((s=>mT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(t.compositeFilter.op))})(n):$e(30097,{filter:n})}function OL(n){return xL[n]}function kL(n){return wL[n]}function DL(n){return EL[n]}function Ao(n){return{fieldPath:n.canonicalString()}}function Uc(n){return $n.fromServerFormat(n.fieldPath)}function pT(n){return n instanceof Sn?(function(t){if(t.op==="=="){if(Xx(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NAN"}};if(Qx(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xx(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NAN"}};if(Qx(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(t.field),op:kL(t.op),value:t.value}}})(n):n instanceof or?(function(t){const s=t.getFilters().map((o=>pT(o)));return s.length===1?s[0]:{compositeFilter:{op:DL(t.op),filters:s}}})(n):$e(54877,{filter:n})}function jL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function gT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function yT(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Ro{constructor(e,t,s,o,c=We.min(),d=We.min(),_=Yn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=p}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VL{constructor(e){this.yt=e}}function zL(n){const e=ML({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?kf(e,e.limit,"L"):e}class UL{constructor(){this.Sn=new BL}addToCollectionParentIndex(e,t){return this.Sn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(Do.min())}updateCollectionGroup(e,t,s){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class BL{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pn(Ut.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pn(Ut.comparator)).toArray()}}const dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class Hi{static withCacheSize(e){return new Hi(e,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(_T,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);class Wc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Wc(0)}static ar(){return new Wc(-1)}}const fw="LruGarbageCollector",HL=1048576;function mw([n,e],[t,s]){const o=mt(n,t);return o===0?mt(e,s):o}class qL{constructor(e){this.Pr=e,this.buffer=new Pn(mw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();mw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FL{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Oe(fw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ru(t)?Oe(fw,"Ignoring IndexedDB error during garbage collection: ",t):await su(t)}await this.Ar(3e5)}))}}class GL{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(lm.ce);const s=new qL(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(dw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,c,d,_,p,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,_=Date.now(),this.removeTargets(e,s,t)))).next((E=>(c=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),Vc()<=ft.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(_-d)+`ms
	Removed ${c} targets in `+(p-_)+`ms
	Removed ${E} documents in `+(v-p)+`ms
Total Duration: ${v-w}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function ZL(n,e){return new GL(n,e)}class $L{constructor(){this.changes=new Wl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class KL{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&dh(s.mutation,o,cs.empty(),Gt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,pt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=pt()){const o=Pl();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let d=nh();return c.forEach(((_,p)=>{d=d.insert(_,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=Pl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,pt())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,_)=>{t.set(d,_)}))}))}computeViews(e,t,s,o){let c=Ia();const d=hh(),_=(function(){return hh()})();return t.forEach(((p,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Fo)?c=c.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),dh(w.mutation,v,w.mutation.getFieldMask(),Gt.now())):d.set(v.key,cs.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((v,w)=>d.set(v,w))),t.forEach(((v,w)=>_.set(v,new YL(w,d.get(v)??null)))),_)))}recalculateAndSaveOverlays(e,t){const s=hh();let o=new tn(((d,_)=>d-_)),c=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const _ of d)_.keys().forEach((p=>{const v=t.get(p);if(v===null)return;let w=s.get(p)||cs.empty();w=_.applyToLocalView(v,w),s.set(p,w);const E=(o.get(_.batchId)||pt()).add(p);o=o.insert(_.batchId,E)}))})).next((()=>{const d=[],_=o.getReverseIterator();for(;_.hasNext();){const p=_.getNext(),v=p.key,w=p.value,E=QE();w.forEach((N=>{if(!c.has(N)){const R=sT(t.get(N),s.get(N));R!==null&&E.set(N,R),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,E))}return Te.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return KM(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):Te.resolve(Pl());let _=_h,p=c;return d.next((v=>Te.forEach(v,((w,E)=>(_<E.largestBatchId&&(_=E.largestBatchId),c.get(w)?Te.resolve():this.remoteDocumentCache.getEntry(e,w).next((N=>{p=p.insert(w,N)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,p,v,pt()))).next((w=>({batchId:_,changes:WE(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next((s=>{let o=nh();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let d=nh();return this.indexManager.getCollectionParents(e,c).next((_=>Te.forEach(_,(p=>{const v=(function(E,N){return new au(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((E,N)=>{d=d.insert(E,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((d=>{c.forEach(((p,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,oi.newInvalidDocument(w)))}));let _=nh();return d.forEach(((p,v)=>{const w=c.get(p);w!==void 0&&dh(w.mutation,v,cs.empty(),Gt.now()),fm(t,v)&&(_=_.insert(p,v))})),_}))}}class WL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Te.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Vr(o.createTime)}})(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:zL(o.bundledQuery),readTime:Vr(o.readTime)}})(t)),Te.resolve()}}class QL{constructor(){this.overlays=new tn(Be.comparator),this.Lr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Pl();return Te.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.bt(e,t,c)})),Te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Te.resolve()}getOverlaysForCollection(e,t,s){const o=Pl(),c=t.length+1,d=new Be(t.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const p=_.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new tn(((v,w)=>v-w));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Pl(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const _=Pl(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,w)=>_.set(v,w))),!(_.size()>=o)););return Te.resolve(_)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new mL(t,s));let c=this.Lr.get(t);c===void 0&&(c=pt(),this.Lr.set(t,c)),this.Lr.set(t,c.add(s.key))}}class XL{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class h_{constructor(){this.kr=new Pn(Un.Kr),this.qr=new Pn(Un.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Un(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Un(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new Be(new Ut([])),s=new Un(t,e),o=new Un(t,e+1),c=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Be(new Ut([])),s=new Un(t,e),o=new Un(t,e+1);let c=pt();return this.qr.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const t=new Un(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Un{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Be.comparator(e.key,t.key)||mt(e.Hr,t.Hr)}static Ur(e,t){return mt(e.Hr,t.Hr)||Be.comparator(e.key,t.key)}}class JL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Pn(Un.Kr)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fL(c,t,s,o);this.mutationQueue.push(d);for(const _ of o)this.Jr=this.Jr.add(new Un(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Te.resolve(d)}lookupMutationBatch(e,t){return Te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),c=o<0?0:o;return Te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?n_:this.Yn-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Un(t,0),o=new Un(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(d=>{const _=this.Zr(d.Hr);c.push(_)})),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pn(mt);return t.forEach((o=>{const c=new Un(o,0),d=new Un(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(_=>{s=s.add(_.Hr)}))})),Te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Be.isDocumentKey(c)||(c=c.child(""));const d=new Un(new Be(c),0);let _=new Pn(mt);return this.Jr.forEachWhile((p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(_=_.add(p.Hr)),!0)}),d),Te.resolve(this.Yr(_))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){St(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Te.forEach(t.mutations,(o=>{const c=new Un(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Un(t,0),o=this.Jr.firstAfterOrEqual(s);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class eO{constructor(e){this.ti=e,this.docs=(function(){return new tn(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,d=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Te.resolve(s?s.document.mutableCopy():oi.newInvalidDocument(t))}getEntries(e,t){let s=Ia();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():oi.newInvalidDocument(o))})),Te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Ia();const d=t.path,_=new Be(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(_);for(;p.hasNext();){const{key:v,value:{document:w}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||TM(EM(w),s)<=0||(o.has(w.key)||fm(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return Te.resolve(c)}getAllFromCollectionGroup(e,t,s,o){$e(9500)}ni(e,t){return Te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new tO(this)}getSize(e){return Te.resolve(this.size)}}class tO extends $L{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Te.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class nO{constructor(e){this.persistence=e,this.ri=new Wl((t=>r_(t)),a_),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ii=0,this.si=new h_,this.targetCount=0,this.oi=Wc._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),Te.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Wc(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.lr(t),Te.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.ri.forEach(((d,_)=>{_.sequenceNumber<=t&&s.get(_.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),Te.waitFor(c).next((()=>o))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return Te.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),Te.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Te.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return Te.resolve(s)}containsKey(e,t){return Te.resolve(this.si.containsKey(t))}}class vT{constructor(e,t){this._i={},this.overlays={},this.ai=new lm(0),this.ui=!1,this.ui=!0,this.ci=new XL,this.referenceDelegate=e(this),this.li=new nO(this),this.indexManager=new UL,this.remoteDocumentCache=(function(o){return new eO(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new VL(t),this.Pi=new WL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new JL(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){Oe("MemoryPersistence","Starting transaction:",e);const o=new iO(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,t){return Te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class iO extends AM{constructor(e){super(),this.currentSequenceNumber=e}}class d_{constructor(e){this.persistence=e,this.Ri=new h_,this.Ai=null}static Vi(e){return new d_(e)}get di(){if(this.Ai)return this.Ai;throw $e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),Te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.di,(s=>{const o=Be.fromPath(s);return this.mi(e,o).next((c=>{c||t.removeEntry(o,We.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Vf{constructor(e,t){this.persistence=e,this.fi=new Wl((s=>RM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ZL(this,t)}static Vi(e,t){return new Vf(e,t)}Ti(){}Ii(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return Te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?Te.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,t).next((_=>{_||(s++,c.removeEntry(d,We.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mf(e.data.value)),t}wr(e,t,s){return Te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return Te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class f_{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=pt(),o=pt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new f_(e,t.fromCache,s,o)}}class sO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wN()?8:CM(ci())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.gs(e,t).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,t,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new sO;return this.ys(e,t,d).next((_=>{if(c.result=_,this.As)return this.ws(e,t,d,_.size)}))})).next((()=>c.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(Vc()<=ft.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",zc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Te.resolve()):(Vc()<=ft.DEBUG&&Oe("QueryEngine","Query:",zc(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Vc()<=ft.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",zc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):Te.resolve())}gs(e,t){if(nw(t))return Te.resolve(null);let s=jr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=kf(t,null,"F"),s=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=pt(...c);return this.fs.getDocuments(e,d).next((_=>this.indexManager.getMinOffset(e,s).next((p=>{const v=this.bs(t,_);return this.Ss(t,v,d,p.readTime)?this.gs(e,kf(t,null,"F")):this.Ds(e,v,t,p)}))))})))))}ps(e,t,s,o){return nw(t)||o.isEqual(We.min())?Te.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(t,c);return this.Ss(t,d,s,o)?Te.resolve(null):(Vc()<=ft.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zc(t)),this.Ds(e,d,t,wM(o,_h)).next((_=>_)))}))}bs(e,t){let s=new Pn(YE(e));return t.forEach(((o,c)=>{fm(e,c)&&(s=s.add(c))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,t,s){return Vc()<=ft.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",zc(t)),this.fs.getDocumentsMatchingQuery(e,t,Do.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const m_="LocalStore",aO=3e8;class oO{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new tn(mt),this.Fs=new Wl((c=>r_(c)),a_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function lO(n,e,t,s){return new oO(n,e,t,s)}async function bT(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],_=[];let p=pt();for(const v of o){d.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}for(const v of c){_.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(s,p).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:_})))}))}))}function cO(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(_,p,v,w){const E=v.batch,N=E.keys();let R=Te.resolve();return N.forEach((j=>{R=R.next((()=>w.getEntry(p,j))).next((U=>{const k=v.docVersions.get(j);St(k!==null,48541),U.version.compareTo(k)<0&&(E.applyToRemoteDocument(U,v),U.isValidDocument()&&(U.setReadTime(v.commitVersion),w.addEntry(U)))}))})),R.next((()=>_.mutationQueue.removeMutationBatch(p,E)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(_){let p=pt();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(p=p.add(_.batch.mutations[v].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function xT(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function uO(n,e){const t=Ke(n),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const _=[];e.targetChanges.forEach(((w,E)=>{const N=o.get(E);if(!N)return;_.push(t.li.removeMatchingKeys(c,w.removedDocuments,E).next((()=>t.li.addMatchingKeys(c,w.addedDocuments,E))));let R=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Yn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,s)),o=o.insert(E,R),(function(U,k,O){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=aO?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(N,R,w)&&_.push(t.li.updateTargetData(c,R))}));let p=Ia(),v=pt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),_.push(hO(c,d,e.documentUpdates).next((w=>{p=w.Bs,v=w.Ls}))),!s.isEqual(We.min())){const w=t.li.getLastRemoteSnapshotVersion(c).next((E=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));_.push(w)}return Te.waitFor(_).next((()=>d.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(t.vs=o,c)))}function hO(n,e,t){let s=pt(),o=pt();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let d=Ia();return t.forEach(((_,p)=>{const v=c.get(_);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(_)),p.isNoDocument()&&p.version.isEqual(We.min())?(e.removeEntry(_,p.readTime),d=d.insert(_,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),d=d.insert(_,p)):Oe(m_,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",p.version)})),{Bs:d,Ls:o}}))}function dO(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=n_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function fO(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((c=>c?(o=c,Te.resolve(o)):t.li.allocateTargetId(s).next((d=>(o=new Ro(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function gy(n,e,t){const s=Ke(n),o=s.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ru(d))throw d;Oe(m_,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function pw(n,e,t){const s=Ke(n);let o=We.min(),c=pt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,v,w){const E=Ke(p),N=E.Fs.get(w);return N!==void 0?Te.resolve(E.vs.get(N)):E.li.getTargetData(v,w)})(s,d,jr(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,_.targetId).next((p=>{c=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,t?o:We.min(),t?c:pt()))).next((_=>(mO(s,XM(e),_),{documents:_,ks:c})))))}function mO(n,e,t){let s=n.Ms.get(e)||We.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Ms.set(e,s)}class gw{constructor(){this.activeTargetIds=sL()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pO{constructor(){this.vo=new gw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new gw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gO{Mo(e){}shutdown(){}}const yw="ConnectivityMonitor";class _w{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Oe(yw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Oe(yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tf=null;function yy(){return tf===null?tf=(function(){return 268435456+Math.round(2147483648*Math.random())})():tf++,"0x"+tf.toString(16)}const Pg="RestConnection",yO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class _O{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Mf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,c){const d=yy(),_=this.Qo(e,t.toUriEncodedString());Oe(Pg,`Sending RPC '${e}' ${d}:`,_,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:v}=new URL(_),w=Ho(v);return this.zo(e,_,p,s,w).then((E=>(Oe(Pg,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw Hl(Pg,`RPC '${e}' ${d} failed with error: `,E,"url: ",_,"request:",s),E}))}jo(e,t,s,o,c,d){return this.Wo(e,t,s,o,c)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+iu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,t){const s=yO[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class vO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ri="WebChannelConnection",Wu=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Fc extends _O{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Fc.c_){const e=EE();Wu(e,wE.STAT_EVENT,(t=>{t.stat===ry.PROXY?Oe(ri,"STAT_EVENT: detected buffering proxy"):t.stat===ry.NOPROXY&&Oe(ri,"STAT_EVENT: detected no buffering proxy")})),Fc.c_=!0}}zo(e,t,s,o,c){const d=yy();return new Promise(((_,p)=>{const v=new bE;v.setWithCredentials(!0),v.listenOnce(xE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ff.NO_ERROR:const E=v.getResponseJson();Oe(ri,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),_(E);break;case ff.TIMEOUT:Oe(ri,`RPC '${e}' ${d} timed out`),p(new Me(be.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const N=v.getStatus();if(Oe(ri,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const j=R?.error;if(j&&j.status&&j.message){const U=(function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(B)>=0?B:be.UNKNOWN})(j.status);p(new Me(U,j.message))}else p(new Me(be.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Me(be.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Oe(ri,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);Oe(ri,`RPC '${e}' ${d} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=yy(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,t,s),_.encodeInitMessageHeaders=!0;const v=c.join("");Oe(ri,`Creating RPC '${e}' stream ${o}: ${v}`,_);const w=d.createWebChannel(v,_);this.I_(w);let E=!1,N=!1;const R=new vO({Ho:j=>{N?Oe(ri,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(E||(Oe(ri,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),Oe(ri,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Jo:()=>w.close()});return Wu(w,th.EventType.OPEN,(()=>{N||(Oe(ri,`RPC '${e}' stream ${o} transport opened.`),R.i_())})),Wu(w,th.EventType.CLOSE,(()=>{N||(N=!0,Oe(ri,`RPC '${e}' stream ${o} transport closed`),R.o_(),this.E_(w))})),Wu(w,th.EventType.ERROR,(j=>{N||(N=!0,Hl(ri,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),R.o_(new Me(be.UNAVAILABLE,"The operation could not be completed")))})),Wu(w,th.EventType.MESSAGE,(j=>{if(!N){const U=j.data[0];St(!!U,16349);const k=U,O=k?.error||k[0]?.error;if(O){Oe(ri,`RPC '${e}' stream ${o} received error:`,O);const B=O.status;let $=(function(ye){const q=Tn[ye];if(q!==void 0)return aT(q)})(B),te=O.message;B==="NOT_FOUND"&&te.includes("database")&&te.includes("does not exist")&&te.includes(this.databaseId.database)&&Hl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=be.INTERNAL,te="Unknown error status: "+B+" with message "+O.message),N=!0,R.o_(new Me($,te)),w.close()}else Oe(ri,`RPC '${e}' stream ${o} received:`,U),R.__(U)}})),Fc.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return TE()}}function bO(n){return new Fc(n)}function Mg(){return typeof document<"u"?document:null}function _m(n){return new TL(n,!0)}Fc.c_=!1;class wT{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const vw="PersistentStream";class ET{constructor(e,t,s,o,c,d,_,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(Ra(t.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Me(be.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Oe(vw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Oe(vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xO extends ET{constructor(e,t,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=CL(this.serializer,e),s=(function(c){if(!("targetChange"in c))return We.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?We.min():d.readTime?Vr(d.readTime):We.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=py(this.serializer),t.addTarget=(function(c,d){let _;const p=d.target;if(_=uy(p)?{documents:IL(c,p)}:{query:fT(c,p).ft},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=cT(c,d.resumeToken);const v=dy(c,d.expectedCount);v!==null&&(_.expectedCount=v)}else if(d.snapshotVersion.compareTo(We.min())>0){_.readTime=jf(c,d.snapshotVersion.toTimestamp());const v=dy(c,d.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,e);const s=LL(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=py(this.serializer),t.removeTarget=e,this.K_(t)}}class wO extends ET{constructor(e,t,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=RL(e.writeResults,e.commitTime),s=Vr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=py(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>NL(this.serializer,s)))};this.K_(t)}}class EO{}class TO extends EO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Me(be.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,fy(t,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Me(be.UNKNOWN,c.toString())}))}jo(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,_])=>this.connection.jo(e,fy(t,s),o,d,_,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Me(be.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function SO(n,e,t,s){return new TO(n,e,t,s)}class AO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ra(t),this.aa=!1):Oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ql="RemoteStore";class CO{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Ql(this)&&(Oe(ql,"Restarting streams for network reachability change."),await(async function(p){const v=Ke(p);v.Ea.add(4),await Vh(v),v.Va.set("Unknown"),v.Ea.delete(4),await vm(v)})(this))}))})),this.Va=new AO(s,o)}}async function vm(n){if(Ql(n))for(const e of n.Ra)await e(!0)}async function Vh(n){for(const e of n.Ra)await e(!1)}function TT(n,e){const t=Ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),__(t)?y_(t):ou(t).O_()&&g_(t,e))}function p_(n,e){const t=Ke(n),s=ou(t);t.Ia.delete(e),s.O_()&&ST(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ql(t)&&t.Va.set("Unknown"))}function g_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ou(n).Z_(e)}function ST(n,e){n.da.$e(e),ou(n).X_(e)}function y_(n){n.da=new bL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ou(n).start(),n.Va.ua()}function __(n){return Ql(n)&&!ou(n).x_()&&n.Ia.size>0}function Ql(n){return Ke(n).Ea.size===0}function AT(n){n.da=void 0}async function NO(n){n.Va.set("Online")}async function RO(n){n.Ia.forEach(((e,t)=>{g_(n,e)}))}async function IO(n,e){AT(n),__(n)?(n.Va.ha(e),y_(n)):n.Va.set("Unknown")}async function PO(n,e,t){if(n.Va.set("Online"),e instanceof lT&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const _ of c.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,d),o.Ia.delete(_),o.da.removeTarget(_))})(n,e)}catch(s){Oe(ql,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zf(n,s)}else if(e instanceof yf?n.da.Xe(e):e instanceof oT?n.da.st(e):n.da.tt(e),!t.isEqual(We.min()))try{const s=await xT(n.localStore);t.compareTo(s)>=0&&await(function(c,d){const _=c.da.Tt(d);return _.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(p.resumeToken,d))}})),_.targetMismatches.forEach(((p,v)=>{const w=c.Ia.get(p);if(!w)return;c.Ia.set(p,w.withResumeToken(Yn.EMPTY_BYTE_STRING,w.snapshotVersion)),ST(c,p);const E=new Ro(w.target,p,v,w.sequenceNumber);g_(c,E)})),c.remoteSyncer.applyRemoteEvent(_)})(n,t)}catch(s){Oe(ql,"Failed to raise snapshot:",s),await zf(n,s)}}async function zf(n,e,t){if(!ru(e))throw e;n.Ea.add(1),await Vh(n),n.Va.set("Offline"),t||(t=()=>xT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Oe(ql,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await vm(n)}))}function CT(n,e){return e().catch((t=>zf(n,t,e)))}async function bm(n){const e=Ke(n),t=Uo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:n_;for(;MO(e);)try{const o=await dO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,LO(e,o)}catch(o){await zf(e,o)}NT(e)&&RT(e)}function MO(n){return Ql(n)&&n.Ta.length<10}function LO(n,e){n.Ta.push(e);const t=Uo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function NT(n){return Ql(n)&&!Uo(n).x_()&&n.Ta.length>0}function RT(n){Uo(n).start()}async function OO(n){Uo(n).ra()}async function kO(n){const e=Uo(n);for(const t of n.Ta)e.ea(t.mutations)}async function DO(n,e,t){const s=n.Ta.shift(),o=l_.from(s,e,t);await CT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await bm(n)}async function jO(n,e){e&&Uo(n).Y_&&await(async function(s,o){if((function(d){return yL(d)&&d!==be.ABORTED})(o.code)){const c=s.Ta.shift();Uo(s).B_(),await CT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await bm(s)}})(n,e),NT(n)&&RT(n)}async function bw(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Oe(ql,"RemoteStore received new credentials");const s=Ql(t);t.Ea.add(3),await Vh(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vm(t)}async function VO(n,e){const t=Ke(n);e?(t.Ea.delete(2),await vm(t)):e||(t.Ea.add(2),await Vh(t),t.Va.set("Unknown"))}function ou(n){return n.ma||(n.ma=(function(t,s,o){const c=Ke(t);return c.sa(),new xO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:NO.bind(null,n),Yo:RO.bind(null,n),t_:IO.bind(null,n),J_:PO.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),__(n)?y_(n):n.Va.set("Unknown")):(await n.ma.stop(),AT(n))}))),n.ma}function Uo(n){return n.fa||(n.fa=(function(t,s,o){const c=Ke(t);return c.sa(),new wO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:OO.bind(null,n),t_:jO.bind(null,n),ta:kO.bind(null,n),na:DO.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await bm(n)):(await n.fa.stop(),n.Ta.length>0&&(Oe(ql,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class v_{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const d=Date.now()+s,_=new v_(e,t,d,o,c);return _.start(s),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b_(n,e){if(Ra("AsyncQueue",`${e}: ${n}`),ru(n))return new Me(be.UNAVAILABLE,`${e}: ${n}`);throw n}class Gc{static emptySet(e){return new Gc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Be.comparator(t.key,s.key):(t,s)=>Be.comparator(t.key,s.key),this.keyedMap=nh(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Gc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class xw{constructor(){this.ga=new tn(Be.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Qc{constructor(e,t,s,o,c,d,_,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,c){const d=[];return t.forEach((_=>{d.push({type:0,doc:_})})),new Qc(e,t,Gc.emptySet(t),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class zO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class UO{constructor(){this.queries=ww(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ke(t),c=o.queries;o.queries=ww(),c.forEach(((d,_)=>{for(const p of _.ba)p.onError(s)}))})(this,new Me(be.ABORTED,"Firestore shutting down"))}}function ww(){return new Wl((n=>$E(n)),dm)}async function x_(n,e){const t=Ke(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new zO,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const _=b_(d,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(_)}t.queries.set(o,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&E_(t)}async function w_(n,e){const t=Ke(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function BO(n,e){const t=Ke(n);let s=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const _ of d.ba)_.Fa(o)&&(s=!0);d.wa=o}}s&&E_(t)}function HO(n,e,t){const s=Ke(n),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(t);s.queries.delete(e)}function E_(n){n.Ca.forEach((e=>{e.next()}))}var _y,Ew;(Ew=_y||(_y={})).Ma="default",Ew.Cache="cache";class T_{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Qc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_y.Cache}}class IT{constructor(e){this.key=e}}class PT{constructor(e){this.key=e}}class qO{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pt(),this.mutatedKeys=pt(),this.eu=YE(e),this.tu=new Gc(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new xw,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,_=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const N=o.get(w),R=fm(this.query,E)?E:null,j=!!N&&this.mutatedKeys.has(N.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;N&&R?N.data.isEqual(R.data)?j!==U&&(s.track({type:3,doc:R}),k=!0):this.su(N,R)||(s.track({type:2,doc:R}),k=!0,(p&&this.eu(R,p)>0||v&&this.eu(R,v)<0)&&(_=!0)):!N&&R?(s.track({type:0,doc:R}),k=!0):N&&!R&&(s.track({type:1,doc:N}),k=!0,(p||v)&&(_=!0)),k&&(R?(d=d.add(R),c=U?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Ss:_,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,E)=>(function(R,j){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:k})}};return U(R)-U(j)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),o=o??!1;const _=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,v=p!==this.Xa;return this.Xa=p,d.length!==0||v?{snapshot:new Qc(this.query,e.tu,c,d,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new PT(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new IT(s))})),t}cu(e){this.Za=e.ks,this.Ya=pt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Qc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const S_="SyncEngine";class FO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class GO{constructor(e){this.key=e,this.hu=!1}}class ZO{constructor(e,t,s,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wl((_=>$E(_)),dm),this.Iu=new Map,this.Eu=new Set,this.Ru=new tn(Be.comparator),this.Au=new Map,this.Vu=new h_,this.du={},this.mu=new Map,this.fu=Wc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $O(n,e,t=!0){const s=jT(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await MT(s,e,t,!0),o}async function YO(n,e){const t=jT(n);await MT(t,e,!0,!1)}async function MT(n,e,t,s){const o=await fO(n.localStore,jr(e)),c=o.targetId,d=n.sharedClientState.addLocalQueryTarget(c,t);let _;return s&&(_=await KO(n,e,c,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&TT(n.remoteStore,o),_}async function KO(n,e,t,s,o){n.pu=(E,N,R)=>(async function(U,k,O,B){let $=k.view.ru(O);$.Ss&&($=await pw(U.localStore,k.query,!1).then((({documents:q})=>k.view.ru(q,$))));const te=B&&B.targetChanges.get(k.targetId),ne=B&&B.targetMismatches.get(k.targetId)!=null,ye=k.view.applyChanges($,U.isPrimaryClient,te,ne);return Sw(U,k.targetId,ye.au),ye.snapshot})(n,E,N,R);const c=await pw(n.localStore,e,!0),d=new qO(e,c.ks),_=d.ru(c.documents),p=jh.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=d.applyChanges(_,n.isPrimaryClient,p);Sw(n,t,v.au);const w=new FO(e,t,d);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function WO(n,e,t){const s=Ke(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!dm(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gy(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&p_(s.remoteStore,o.targetId),vy(s,o.targetId)})).catch(su)):(vy(s,o.targetId),await gy(s.localStore,o.targetId,!0))}async function QO(n,e){const t=Ke(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),p_(t.remoteStore,s.targetId))}async function XO(n,e,t){const s=rk(n);try{const o=await(function(d,_){const p=Ke(d),v=Gt.now(),w=_.reduce(((R,j)=>R.add(j.key)),pt());let E,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let j=Ia(),U=pt();return p.xs.getEntries(R,w).next((k=>{j=k,j.forEach(((O,B)=>{B.isValidDocument()||(U=U.add(O))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,j))).next((k=>{E=k;const O=[];for(const B of _){const $=hL(B,E.get(B.key).overlayedDocument);$!=null&&O.push(new Fo(B.key,$,VE($.value.mapValue),bi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,v,O,_)})).next((k=>{N=k;const O=k.applyToLocalDocumentSet(E,U);return p.documentOverlayCache.saveOverlays(R,k.batchId,O)}))})).then((()=>({batchId:N.batchId,changes:WE(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,_,p){let v=d.du[d.currentUser.toKey()];v||(v=new tn(mt)),v=v.insert(_,p),d.du[d.currentUser.toKey()]=v})(s,o.batchId,t),await zh(s,o.changes),await bm(s.remoteStore)}catch(o){const c=b_(o,"Failed to persist write");t.reject(c)}}async function LT(n,e){const t=Ke(n);try{const s=await uO(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=t.Au.get(c);d&&(St(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?St(d.hu,14607):o.removedDocuments.size>0&&(St(d.hu,42227),d.hu=!1))})),await zh(t,s,e)}catch(s){await su(s)}}function Tw(n,e,t){const s=Ke(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,d)=>{const _=d.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(d,_){const p=Ke(d);p.onlineState=_;let v=!1;p.queries.forEach(((w,E)=>{for(const N of E.ba)N.va(_)&&(v=!0)})),v&&E_(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JO(n,e,t){const s=Ke(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new tn(Be.comparator);d=d.insert(c,oi.newNoDocument(c,We.min()));const _=pt().add(c),p=new ym(We.min(),new Map,new tn(mt),d,_);await LT(s,p),s.Ru=s.Ru.remove(c),s.Au.delete(e),A_(s)}else await gy(s.localStore,e,!1).then((()=>vy(s,e,t))).catch(su)}async function ek(n,e){const t=Ke(n),s=e.batch.batchId;try{const o=await cO(t.localStore,e);kT(t,s,null),OT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await zh(t,o)}catch(o){await su(o)}}async function tk(n,e,t){const s=Ke(n);try{const o=await(function(d,_){const p=Ke(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return p.mutationQueue.lookupMutationBatch(v,_).next((E=>(St(E!==null,37113),w=E.keys(),p.mutationQueue.removeMutationBatch(v,E)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,w,_))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>p.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);kT(s,e,t),OT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await zh(s,o)}catch(o){await su(o)}}function OT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function kT(n,e,t){const s=Ke(n);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function vy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||DT(n,s)}))}function DT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(p_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),A_(n))}function Sw(n,e,t){for(const s of t)s instanceof IT?(n.Vu.addReference(s.key,e),nk(n,s)):s instanceof PT?(Oe(S_,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||DT(n,s.key)):$e(19791,{wu:s})}function nk(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(Oe(S_,"New document in limbo: "+t),n.Eu.add(s),A_(n))}function A_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Be(Ut.fromString(e)),s=n.fu.next();n.Au.set(s,new GO(t)),n.Ru=n.Ru.insert(t,s),TT(n.remoteStore,new Ro(jr(hm(t.path)),s,"TargetPurposeLimboResolution",lm.ce))}}async function zh(n,e,t){const s=Ke(n),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((_,p)=>{d.push(s.pu(p,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(v){o.push(v);const w=f_.Es(p.targetId,v);c.push(w)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(p,v){const w=Ke(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Te.forEach(v,(N=>Te.forEach(N.Ts,(R=>w.persistence.referenceDelegate.addReference(E,N.targetId,R))).next((()=>Te.forEach(N.Is,(R=>w.persistence.referenceDelegate.removeReference(E,N.targetId,R)))))))))}catch(E){if(!ru(E))throw E;Oe(m_,"Failed to update sequence numbers: "+E)}for(const E of v){const N=E.targetId;if(!E.fromCache){const R=w.vs.get(N),j=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(j);w.vs=w.vs.insert(N,U)}}})(s.localStore,c))}async function ik(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Oe(S_,"User change. New user:",e.toKey());const s=await bT(t.localStore,e);t.currentUser=e,(function(c,d){c.mu.forEach((_=>{_.forEach((p=>{p.reject(new Me(be.CANCELLED,d))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zh(t,s.Ns)}}function sk(n,e){const t=Ke(n),s=t.Au.get(e);if(s&&s.hu)return pt().add(s.key);{let o=pt();const c=t.Iu.get(e);if(!c)return o;for(const d of c){const _=t.Tu.get(d);o=o.unionWith(_.view.nu)}return o}}function jT(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JO.bind(null,e),e.Pu.J_=BO.bind(null,e.eventManager),e.Pu.yu=HO.bind(null,e.eventManager),e}function rk(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,e),e}class Uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_m(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return lO(this.persistence,new rO,e.initialUser,this.serializer)}Cu(e){return new vT(d_.Vi,this.serializer)}Du(e){return new pO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uf.provider={build:()=>new Uf};class ak extends Uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){St(this.persistence.referenceDelegate instanceof Vf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new FL(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Hi.withCacheSize(this.cacheSizeBytes):Hi.DEFAULT;return new vT((s=>Vf.Vi(s,t)),this.serializer)}}class by{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),await VO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UO})()}createDatastore(e){const t=_m(e.databaseInfo.databaseId),s=bO(e.databaseInfo);return SO(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,d,_){return new CO(s,o,c,d,_)})(this.localStore,this.datastore,e.asyncQueue,(t=>Tw(this.syncEngine,t,0)),(function(){return _w.v()?new _w:new gO})())}createSyncEngine(e,t){return(function(o,c,d,_,p,v,w){const E=new ZO(o,c,d,_,p,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ke(t);Oe(ql,"RemoteStore shutting down."),s.Ea.add(5),await Vh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}by.provider={build:()=>new by};class C_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ra("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Bo="FirestoreClient";class ok{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=ai.UNAUTHENTICATED,this.clientId=t_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{Oe(Bo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Oe(Bo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=b_(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lg(n,e){n.asyncQueue.verifyOperationInProgress(),Oe(Bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await bT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Aw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lk(n);Oe(Bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>bw(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>bw(e.remoteStore,o))),n._onlineComponents=e}async function lk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe(Bo,"Using user provided OfflineComponentProvider");try{await Lg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===be.FAILED_PRECONDITION||o.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Hl("Error using user provided cache. Falling back to memory cache: "+t),await Lg(n,new Uf)}}else Oe(Bo,"Using default OfflineComponentProvider"),await Lg(n,new ak(void 0));return n._offlineComponents}async function N_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe(Bo,"Using user provided OnlineComponentProvider"),await Aw(n,n._uninitializedComponentsProvider._online)):(Oe(Bo,"Using default OnlineComponentProvider"),await Aw(n,new by))),n._onlineComponents}function ck(n){return N_(n).then((e=>e.syncEngine))}function uk(n){return N_(n).then((e=>e.datastore))}async function Bf(n){const e=await N_(n),t=e.eventManager;return t.onListen=$O.bind(null,e.syncEngine),t.onUnlisten=WO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=YO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QO.bind(null,e.syncEngine),t}function hk(n,e,t,s){const o=new C_(s),c=new T_(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>x_(await Bf(n),c))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>w_(await Bf(n),c)))}}function dk(n,e,t={}){const s=new Dr;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,p,v){const w=new C_({next:N=>{w.Nu(),d.enqueueAndForget((()=>w_(c,E)));const R=N.docs.has(_);!R&&N.fromCache?v.reject(new Me(be.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&N.fromCache&&p&&p.source==="server"?v.reject(new Me(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),E=new T_(hm(_.path),w,{includeMetadataChanges:!0,Ka:!0});return x_(c,E)})(await Bf(n),n.asyncQueue,e,t,s))),s.promise}function fk(n,e,t={}){const s=new Dr;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,_,p,v){const w=new C_({next:N=>{w.Nu(),d.enqueueAndForget((()=>w_(c,E))),N.fromCache&&p.source==="server"?v.reject(new Me(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),E=new T_(_,w,{includeMetadataChanges:!0,Ka:!0});return x_(c,E)})(await Bf(n),n.asyncQueue,e,t,s))),s.promise}function mk(n,e,t){const s=new Dr;return n.asyncQueue.enqueueAndForget((async()=>{try{const o=await uk(n);s.resolve((async function(d,_,p){const v=Ke(d),{request:w,gt:E,parent:N}=PL(v.serializer,WM(_),p);v.connection.Ko||delete w.parent;const R=(await v.jo("RunAggregationQuery",v.serializer.databaseId,N,w,1)).filter((U=>!!U.result));St(R.length===1,64727);const j=R[0].result?.aggregateFields;return Object.keys(j).reduce(((U,k)=>(U[E[k]]=j[k],U)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}function pk(n,e){const t=new Dr;return n.asyncQueue.enqueueAndForget((async()=>XO(await ck(n),e,t))),t.promise}function VT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const gk="ComponentProvider",Cw=new Map;function yk(n,e,t,s,o){return new LM(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,VT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const zT="firestore.googleapis.com",Nw=!0;class Rw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Me(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zT,this.ssl=Nw}else this.host=e.host,this.ssl=e.ssl??Nw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HL)throw new Me(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Me(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Me(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Me(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hM;switch(s.type){case"firstParty":return new pM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Me(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Cw.get(t);s&&(Oe(gk,"Removing Datastore"),Cw.delete(t),s.terminate())})(this),Promise.resolve()}}function _k(n,e,t,s={}){n=li(n,xm);const o=Ho(e),c=n._getSettings(),d={...c,emulatorOptions:n._getEmulatorOptions()},_=`${e}:${t}`;o&&(zy(`https://${_}`),Uy("Firestore",!0)),c.host!==zT&&c.host!==_&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:_,ssl:o,emulatorOptions:s};if(!jl(p,d)&&(n._setSettings(p),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=ai.MOCK_USER;else{v=L1(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new Me(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new ai(E)}n._authCredentials=new dM(new AE(v,w))}}class Oa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class hn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(kh(t,hn._jsonSchema))return new hn(e,s||null,new Be(Ut.fromString(t.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:An("string",hn._jsonSchemaVersion),referencePath:An("string")};class Oo extends Oa{constructor(e,t,s){super(e,t,hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Be(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function gn(n,e,...t){if(n=kt(n),CE("collection","path",e),n instanceof xm){const s=Ut.fromString(e,...t);return Hx(s),new Oo(n,null,s)}{if(!(n instanceof hn||n instanceof Oo))throw new Me(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ut.fromString(e,...t));return Hx(s),new Oo(n.firestore,null,s)}}function en(n,e,...t){if(n=kt(n),arguments.length===1&&(e=t_.newId()),CE("doc","path",e),n instanceof xm){const s=Ut.fromString(e,...t);return Bx(s),new hn(n,null,new Be(s))}{if(!(n instanceof hn||n instanceof Oo))throw new Me(be.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ut.fromString(e,...t));return Bx(s),new hn(n.firestore,n instanceof Oo?n.converter:null,new Be(s))}}const Iw="AsyncQueue";class Pw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wT(this,"async_queue_retry"),this._c=()=>{const s=Mg();s&&Oe(Iw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Mg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ru(e))throw e;Oe(Iw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ra("INTERNAL UNHANDLED ERROR: ",Mw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=v_.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&$e(47125,{Pc:Mw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Mw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class lr extends xm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Pw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pw(e),this._firestoreClient=void 0,await e}}}function vk(n,e){const t=typeof n=="object"?n:qy(),s=typeof n=="string"?n:Mf,o=im(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=I1("firestore");c&&_k(o,...c)}return o}function lu(n){if(n._terminated)throw new Me(be.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bk(n),n._firestoreClient}function bk(n){const e=n._freezeSettings(),t=yk(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new ok(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(Yn.fromBase64String(e))}catch(t){throw new Me(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new js(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:js._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kh(e,js._jsonSchema))return js.fromBase64String(e.bytes)}}js._jsonSchemaVersion="firestore/bytes/1.0",js._jsonSchema={type:An("string",js._jsonSchemaVersion),bytes:An("string")};class wm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Me(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Em{constructor(e){this._methodName=e}}class zr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zr._jsonSchemaVersion}}static fromJSON(e){if(kh(e,zr._jsonSchema))return new zr(e.latitude,e.longitude)}}zr._jsonSchemaVersion="firestore/geoPoint/1.0",zr._jsonSchema={type:An("string",zr._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};class ar{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kh(e,ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ar(e.vectorValues);throw new Me(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:An("string",ar._jsonSchemaVersion),vectorValues:An("object")};const xk=/^__.*__$/;class wk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dh(e,this.data,t,this.fieldTransforms)}}class UT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Fo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{dataSource:n})}}class R_{constructor(e,t,s,o,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new R_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Hf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(BT(this.dataSource)&&xk.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Ek{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||_m(e)}createContext(e,t,s,o=!1){return new R_({dataSource:e,methodName:t,targetDoc:s,path:$n.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(n){const e=n._freezeSettings(),t=_m(n._databaseId);return new Ek(n._databaseId,!!e.ignoreUndefinedProperties,t)}function I_(n,e,t,s,o,c={}){const d=n.createContext(c.merge||c.mergeFields?2:0,e,t,o);M_("Data must be an object, but it was:",d,s);const _=FT(s,d);let p,v;if(c.merge)p=new cs(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const E of c.mergeFields){const N=Fl(e,E,t);if(!d.contains(N))throw new Me(be.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);$T(w,N)||w.push(N)}p=new cs(w),v=d.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,v=d.fieldTransforms;return new wk(new vi(_),p,v)}class Tm extends Em{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tm}}class P_ extends Em{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Sh(e.serializer,JE(e.serializer,this.Vc));return new oL(e.path,t)}isEqual(e){return e instanceof P_&&this.Vc===e.Vc}}function HT(n,e,t,s){const o=n.createContext(1,e,t);M_("Data must be an object, but it was:",o,s);const c=[],d=vi.empty();qo(s,((p,v)=>{const w=ZT(e,p,t);v=kt(v);const E=o.childContextForFieldPath(w);if(v instanceof Tm)c.push(w);else{const N=Bh(v,E);N!=null&&(c.push(w),d.set(w,N))}}));const _=new cs(c);return new UT(d,_,o.fieldTransforms)}function qT(n,e,t,s,o,c){const d=n.createContext(1,e,t),_=[Fl(e,s,t)],p=[o];if(c.length%2!=0)throw new Me(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)_.push(Fl(e,c[N])),p.push(c[N+1]);const v=[],w=vi.empty();for(let N=_.length-1;N>=0;--N)if(!$T(v,_[N])){const R=_[N];let j=p[N];j=kt(j);const U=d.childContextForFieldPath(R);if(j instanceof Tm)v.push(R);else{const k=Bh(j,U);k!=null&&(v.push(R),w.set(R,k))}}const E=new cs(v);return new UT(w,E,d.fieldTransforms)}function Tk(n,e,t,s=!1){return Bh(t,n.createContext(s?4:3,e))}function Bh(n,e){if(GT(n=kt(n)))return M_("Unsupported field value:",e,n),FT(n,e);if(n instanceof Em)return(function(s,o){if(!BT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const _ of s){let p=Bh(_,o.childContextForArray(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JE(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Gt.fromDate(s);return{timestampValue:jf(o.serializer,c)}}if(s instanceof Gt){const c=new Gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jf(o.serializer,c)}}if(s instanceof zr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof js)return{bytesValue:cT(o.serializer,s._byteString)};if(s instanceof hn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:u_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ar)return(function(d,_){const p=d instanceof ar?d.toArray():d;return{mapValue:{fields:{[DE]:{stringValue:jE},[Lf]:{arrayValue:{values:p.map((w=>{if(typeof w!="number")throw _.createError("VectorValues must only contain numeric values.");return o_(_.serializer,w)}))}}}}}})(s,o);if(yT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${om(s)}`)})(n,e)}function FT(n,e){const t={};return IE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(n,((s,o)=>{const c=Bh(o,e.childContextForField(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function GT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Gt||n instanceof zr||n instanceof js||n instanceof hn||n instanceof Em||n instanceof ar||yT(n))}function M_(n,e,t){if(!GT(t)||!NE(t)){const s=om(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Fl(n,e,t){if((e=kt(e))instanceof wm)return e._internalPath;if(typeof e=="string")return ZT(n,e);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,t)}const Sk=new RegExp("[~\\*/\\[\\]]");function ZT(n,e,t){if(e.search(Sk)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wm(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hf(n,e,t,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new Me(be.INVALID_ARGUMENT,_+n+p)}function $T(n,e){return n.some((t=>t.isEqual(e)))}class Ak{convertValue(e,t="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return qo(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Lf].arrayValue?.values?.map((s=>yn(s.doubleValue)));return new ar(t)}convertGeoPoint(e){return new zr(yn(e.latitude),yn(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=um(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const t=jo(e);return new Gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ut.fromString(e);St(gT(s),9688,{name:e});const o=new bh(s.get(1),s.get(3)),c=new Be(s.popFirst(5));return o.isEqual(t)||Ra(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Sm extends Ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function Ck(n){return new P_("increment",n)}const Lw="@firebase/firestore",Ow="4.11.0";function kw(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class Nk{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Rk{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new vi({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class YT{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ik(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Fl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ik extends YT{data(){return super.data()}}function KT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Me(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L_{}class O_ extends L_{}function Ds(n,e,...t){let s=[];e instanceof L_&&s.push(e),s=s.concat(t),(function(c){const d=c.filter((p=>p instanceof k_)).length,_=c.filter((p=>p instanceof Am)).length;if(d>1||d>0&&_>0)throw new Me(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Am extends O_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Am(e,t,s)}_apply(e){const t=this._parse(e);return QT(e._query,t),new Oa(e.firestore,e.converter,hy(e._query,t))}_parse(e){const t=Uh(e.firestore);return(function(c,d,_,p,v,w,E){let N;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Me(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){jw(E,w);const j=[];for(const U of E)j.push(Dw(p,c,U));N={arrayValue:{values:j}}}else N=Dw(p,c,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||jw(E,w),N=Tk(_,d,E,w==="in"||w==="not-in");return Sn.create(v,w,N)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _a(n,e,t){const s=e,o=Fl("where",n);return Am._create(o,s,t)}class k_ extends L_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new k_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let d=o;const _=c.getFlattenedFilters();for(const p of _)QT(d,p),d=hy(d,p)})(e._query,t),new Oa(e.firestore,e.converter,hy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends O_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new D_(e,t)}_apply(e){const t=(function(o,c,d){if(o.startAt!==null)throw new Me(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Me(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wh(c,d)})(e._query,this._field,this._direction);return new Oa(e.firestore,e.converter,QM(e._query,t))}}function WT(n,e="asc"){const t=e,s=Fl("orderBy",n);return D_._create(s,t)}class j_ extends O_{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new j_(e,t,s)}_apply(e){return new Oa(e.firestore,e.converter,kf(e._query,this._limit,this._limitType))}}function Pk(n){return j_._create("limit",n,"F")}function Dw(n,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new Me(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(e)&&t.indexOf("/")!==-1)throw new Me(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ut.fromString(t));if(!Be.isDocumentKey(s))throw new Me(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wx(n,new Be(s))}if(t instanceof hn)return Wx(n,t._key);throw new Me(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${om(t)}.`)}function jw(n,e){if(!Array.isArray(n)||n.length===0)throw new Me(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QT(n,e){const t=(function(o,c){for(const d of o)for(const _ of d.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Me(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function V_(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}function Mk(){return new Nk("count")}function Vw(n){return Lk(n,{count:Mk()})}function Lk(n,e){const t=li(n.firestore,lr),s=lu(t),o=PM(e,((c,d)=>new pL(d,c.aggregateType,c._internalFieldPath)));return mk(s,n._query,o).then((c=>(function(_,p,v){const w=new Sm(_);return new Rk(p,w,v)})(t,n,c)))}class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ml extends YT{constructor(e,t,s,o,c,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Fl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ml._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ml._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ml._jsonSchema={type:An("string",Ml._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class _f extends Ml{data(e={}){return super.data(e)}}class Ll{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new sh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new _f(this._firestore,this._userDataWriter,s.key,s,new sh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((_=>{const p=new _f(o._firestore,o._userDataWriter,_.doc.key,_.doc,new sh(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const p=new _f(o._firestore,o._userDataWriter,_.doc.key,_.doc,new sh(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return _.type!==0&&(v=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),w=d.indexOf(_.doc.key)),{type:Ok(_.type),doc:p,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=t_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ok(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}Ll._jsonSchemaVersion="firestore/querySnapshot/1.0",Ll._jsonSchema={type:An("string",Ll._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};class kk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Uh(e)}set(e,t,s){this._verifyNotCommitted();const o=Og(e,this._firestore),c=V_(o.converter,t,s),d=I_(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,bi.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const c=Og(e,this._firestore);let d;return d=typeof(t=kt(t))=="string"||t instanceof wm?qT(this._dataReader,"WriteBatch.update",c._key,t,s,o):HT(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Og(e,this._firestore);return this._mutations=this._mutations.concat(new gm(t._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Og(n,e){if((n=kt(n)).firestore!==e)throw new Me(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Ol(n){n=li(n,hn);const e=li(n.firestore,lr),t=lu(e);return dk(t,n._key).then((s=>XT(e,n,s)))}function ir(n){n=li(n,Oa);const e=li(n.firestore,lr),t=lu(e),s=new Sm(e);return KT(n._query),fk(t,n._query).then((o=>new Ll(e,s,n,o)))}function kg(n,e,t){n=li(n,hn);const s=li(n.firestore,lr),o=V_(n.converter,e,t),c=Uh(s);return Hh(s,[I_(c,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,bi.none())])}function va(n,e,t,...s){n=li(n,hn);const o=li(n.firestore,lr),c=Uh(o);let d;return d=typeof(e=kt(e))=="string"||e instanceof wm?qT(c,"updateDoc",n._key,e,t,s):HT(c,"updateDoc",n._key,e),Hh(o,[d.toMutation(n._key,bi.exists(!0))])}function qf(n){return Hh(li(n.firestore,lr),[new gm(n._key,bi.none())])}function kl(n,e){const t=li(n.firestore,lr),s=en(n),o=V_(n.converter,e),c=Uh(n.firestore);return Hh(t,[I_(c,"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,bi.exists(!1))]).then((()=>s))}function Dk(n,...e){n=kt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kw(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(kw(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let c,d,_;if(n instanceof hn)d=li(n.firestore,lr),_=hm(n._key.path),c={next:v=>{e[s]&&e[s](XT(d,n,v))},error:e[s+1],complete:e[s+2]};else{const v=li(n,Oa);d=li(v.firestore,lr),_=v._query;const w=new Sm(d);c={next:E=>{e[s]&&e[s](new Ll(d,w,v,E))},error:e[s+1],complete:e[s+2]},KT(n._query)}const p=lu(d);return hk(p,_,o,c)}function Hh(n,e){const t=lu(n);return pk(t,e)}function XT(n,e,t){const s=t.docs.get(e._key),o=new Sm(n);return new Ml(n,o,e._key,s,new sh(t.hasPendingWrites,t.fromCache),e.converter)}function jk(n){return n=li(n,lr),lu(n),new kk(n,(e=>Hh(n,e)))}(function(e,t=!0){uM(Kl),Vl(new ko("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),_=new lr(new fM(s.getProvider("auth-internal")),new gM(d,s.getProvider("app-check-internal")),OM(d,o),d);return c={useFetchStreams:t,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),Lr(Lw,Ow,e),Lr(Lw,Ow,"esm2020")})();const JT="firebasestorage.googleapis.com",eS="storageBucket",Vk=120*1e3,zk=600*1e3;class fn extends Hr{constructor(e,t,s=0){super(Dg(e),`Firebase Storage: ${t} (${Dg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dn||(dn={}));function Dg(n){return"storage/"+n}function z_(){const n="An unknown error occurred, please check the error payload for server response.";return new fn(dn.UNKNOWN,n)}function Uk(n){return new fn(dn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Bk(n){return new fn(dn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Hk(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fn(dn.UNAUTHENTICATED,n)}function qk(){return new fn(dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Fk(n){return new fn(dn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Gk(){return new fn(dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zk(){return new fn(dn.CANCELED,"User canceled the upload/download.")}function $k(n){return new fn(dn.INVALID_URL,"Invalid URL '"+n+"'.")}function Yk(n){return new fn(dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Kk(){return new fn(dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eS+"' property when initializing the app?")}function Wk(){return new fn(dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qk(){return new fn(dn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Xk(n){return new fn(dn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xy(n){return new fn(dn.INVALID_ARGUMENT,n)}function tS(){return new fn(dn.APP_DELETED,"The Firebase app was deleted.")}function Jk(n){return new fn(dn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fh(n,e){return new fn(dn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Qu(n){throw new fn(dn.INTERNAL_ERROR,"Internal error: "+n)}class us{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=us.makeFromUrl(e,t)}catch{return new us(e,"")}if(s.path==="")return s;throw Yk(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const d="(/(.*))?$",_=new RegExp("^gs://"+o+d,"i"),p={bucket:1,path:3};function v(te){te.path_=decodeURIComponent(te.path)}const w="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${w}/b/${o}/o${N}`,"i"),j={bucket:1,path:3},U=t===JT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",O=new RegExp(`^https?://${U}/${o}/${k}`,"i"),$=[{regex:_,indices:p,postModify:c},{regex:R,indices:j,postModify:v},{regex:O,indices:{bucket:1,path:2},postModify:v}];for(let te=0;te<$.length;te++){const ne=$[te],ye=ne.regex.exec(e);if(ye){const q=ye[ne.indices.bucket];let I=ye[ne.indices.path];I||(I=""),s=new us(q,I),ne.postModify(s);break}}if(s==null)throw $k(e);return s}}class eD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tD(n,e,t){let s=1,o=null,c=null,d=!1,_=0;function p(){return _===2}let v=!1;function w(...k){v||(v=!0,e.apply(null,k))}function E(k){o=setTimeout(()=>{o=null,n(R,p())},k)}function N(){c&&clearTimeout(c)}function R(k,...O){if(v){N();return}if(k){N(),w.call(null,k,...O);return}if(p()||d){N(),w.call(null,k,...O);return}s<64&&(s*=2);let $;_===1?(_=2,$=0):$=(s+Math.random())*1e3,E($)}let j=!1;function U(k){j||(j=!0,N(),!v&&(o!==null?(k||(_=2),clearTimeout(o),E(0)):k||(_=1)))}return E(0),c=setTimeout(()=>{d=!0,U(!0)},t),U}function nD(n){n(!1)}function iD(n){return n!==void 0}function sD(n){return typeof n=="object"&&!Array.isArray(n)}function U_(n){return typeof n=="string"||n instanceof String}function zw(n){return B_()&&n instanceof Blob}function B_(){return typeof Blob<"u"}function Uw(n,e,t,s){if(s<e)throw xy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw xy(`Invalid value for '${n}'. Expected ${t} or less.`)}function H_(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function nS(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Dl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Dl||(Dl={}));function rD(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}class aD{constructor(e,t,s,o,c,d,_,p,v,w,E,N=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=_,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=E,this.retry=N,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,U)=>{this.resolve_=j,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nf(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=_=>{const p=_.loaded,v=_.lengthComputable?_.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const _=c.getErrorCode()===Dl.NO_ERROR,p=c.getStatus();if(!_||rD(p,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Dl.ABORT;s(!1,new nf(!1,null,w));return}const v=this.successCodes_.indexOf(p)!==-1;s(!0,new nf(v,c))})},t=(s,o)=>{const c=this.resolve_,d=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(_,_.getResponse());iD(p)?c(p):c()}catch(p){d(p)}else if(_!==null){const p=z_();p.serverResponse=_.getErrorText(),this.errorCallback_?d(this.errorCallback_(_,p)):d(p)}else if(o.canceled){const p=this.appDelete_?tS():Zk();d(p)}else{const p=Gk();d(p)}};this.canceled_?t(!1,new nf(!1,null,!0)):this.backoffId_=tD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nf{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function oD(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function lD(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cD(n,e){e&&(n["X-Firebase-GMPID"]=e)}function uD(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function hD(n,e,t,s,o,c,d=!0,_=!1){const p=nS(n.urlParams),v=n.url+p,w=Object.assign({},n.headers);return cD(w,e),oD(w,t),lD(w,c),uD(w,s),new aD(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,d,_)}function dD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fD(...n){const e=dD();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(B_())return new Blob(n);throw new fn(dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function pD(n){if(typeof atob>"u")throw Xk("base-64");return atob(n)}const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jg{constructor(e,t){this.data=e,this.contentType=t||null}}function gD(n,e){switch(n){case Ir.RAW:return new jg(iS(e));case Ir.BASE64:case Ir.BASE64URL:return new jg(sS(n,e));case Ir.DATA_URL:return new jg(_D(e),vD(e))}throw z_()}function iS(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=s,d=n.charCodeAt(++t);s=65536|(c&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function yD(n){let e;try{e=decodeURIComponent(n)}catch{throw fh(Ir.DATA_URL,"Malformed data URL.")}return iS(e)}function sS(n,e){switch(n){case Ir.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw fh(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw fh(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=pD(e)}catch(o){throw o.message.includes("polyfill")?o:fh(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class rS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw fh(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=bD(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function _D(n){const e=new rS(n);return e.base64?sS(Ir.BASE64,e.rest):yD(e.rest)}function vD(n){return new rS(n).contentType}function bD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Co{constructor(e,t){let s=0,o="";zw(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(zw(this.data_)){const s=this.data_,o=mD(s,e,t);return o===null?null:new Co(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Co(s,!0)}}static getBlob(...e){if(B_()){const t=e.map(s=>s instanceof Co?s.data_:s);return new Co(fD.apply(null,t))}else{const t=e.map(d=>U_(d)?gD(Ir.RAW,d).data:d.data_);let s=0;t.forEach(d=>{s+=d.byteLength});const o=new Uint8Array(s);let c=0;return t.forEach(d=>{for(let _=0;_<d.length;_++)o[c++]=d[_]}),new Co(o,!0)}}uploadData(){return this.data_}}function aS(n){let e;try{e=JSON.parse(n)}catch{return null}return sD(e)?e:null}function xD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function wD(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function oS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function ED(n,e){return e}class yi{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||ED}}let sf=null;function TD(n){return!U_(n)||n.length<2?n:oS(n)}function lS(){if(sf)return sf;const n=[];n.push(new yi("bucket")),n.push(new yi("generation")),n.push(new yi("metageneration")),n.push(new yi("name","fullPath",!0));function e(c,d){return TD(d)}const t=new yi("name");t.xform=e,n.push(t);function s(c,d){return d!==void 0?Number(d):d}const o=new yi("size");return o.xform=s,n.push(o),n.push(new yi("timeCreated")),n.push(new yi("updated")),n.push(new yi("md5Hash",null,!0)),n.push(new yi("cacheControl",null,!0)),n.push(new yi("contentDisposition",null,!0)),n.push(new yi("contentEncoding",null,!0)),n.push(new yi("contentLanguage",null,!0)),n.push(new yi("contentType",null,!0)),n.push(new yi("metadata","customMetadata",!0)),sf=n,sf}function SD(n,e){function t(){const s=n.bucket,o=n.fullPath,c=new us(s,o);return e._makeStorageReference(c)}Object.defineProperty(n,"ref",{get:t})}function AD(n,e,t){const s={};s.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];s[d.local]=d.xform(s,e[d.server])}return SD(s,n),s}function cS(n,e,t){const s=aS(e);return s===null?null:AD(n,s,t)}function CD(n,e,t,s){const o=aS(e);if(o===null||!U_(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(v=>{const w=n.bucket,E=n.fullPath,N="/b/"+d(w)+"/o/"+d(E),R=H_(N,t,s),j=nS({alt:"media",token:v});return R+j})[0]}function ND(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}class uS{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hS(n){if(!n)throw z_()}function RD(n,e){function t(s,o){const c=cS(n,o,e);return hS(c!==null),c}return t}function ID(n,e){function t(s,o){const c=cS(n,o,e);return hS(c!==null),CD(c,o,n.host,n._protocol)}return t}function dS(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=qk():o=Hk():t.getStatus()===402?o=Bk(n.bucket):t.getStatus()===403?o=Fk(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function PD(n){const e=dS(n);function t(s,o){let c=e(s,o);return s.getStatus()===404&&(c=Uk(n.path)),c.serverResponse=o.serverResponse,c}return t}function MD(n,e,t){const s=e.fullServerUrl(),o=H_(s,n.host,n._protocol),c="GET",d=n.maxOperationRetryTime,_=new uS(o,c,ID(n,t),d);return _.errorHandler=PD(e),_}function LD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function OD(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=LD(null,e)),s}function kD(n,e,t,s,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function _(){let $="";for(let te=0;te<2;te++)$=$+Math.random().toString().slice(2);return $}const p=_();d["Content-Type"]="multipart/related; boundary="+p;const v=OD(e,s,o),w=ND(v,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+v.contentType+`\r
\r
`,N=`\r
--`+p+"--",R=Co.getBlob(E,s,N);if(R===null)throw Wk();const j={name:v.fullPath},U=H_(c,n.host,n._protocol),k="POST",O=n.maxUploadRetryTime,B=new uS(U,k,RD(n,t),O);return B.urlParams=j,B.headers=d,B.body=R.uploadData(),B.errorHandler=dS(e),B}class DD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,c){if(this.sent_)throw Qu("cannot .send() more than once");if(Ho(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jD extends DD{initXhr(){this.xhr_.responseType="text"}}function fS(){return new jD}class Gl{constructor(e,t){this._service=e,t instanceof us?this._location=t:this._location=us.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gl(e,t)}get root(){const e=new us(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oS(this._location.path)}get storage(){return this._service}get parent(){const e=xD(this._location.path);if(e===null)return null;const t=new us(this._location.bucket,e);return new Gl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Jk(e)}}function VD(n,e,t){n._throwIfRoot("uploadBytes");const s=kD(n.storage,n._location,lS(),new Co(e,!0),t);return n.storage.makeRequestWithTokens(s,fS).then(o=>({metadata:o,ref:n}))}function zD(n){n._throwIfRoot("getDownloadURL");const e=MD(n.storage,n._location,lS());return n.storage.makeRequestWithTokens(e,fS).then(t=>{if(t===null)throw Qk();return t})}function UD(n,e){const t=wD(n._location.path,e),s=new us(n._location.bucket,t);return new Gl(n.storage,s)}function BD(n){return/^[A-Za-z]+:\/\//.test(n)}function HD(n,e){return new Gl(n,e)}function mS(n,e){if(n instanceof q_){const t=n;if(t._bucket==null)throw Kk();const s=new Gl(t,t._bucket);return e!=null?mS(s,e):s}else return e!==void 0?UD(n,e):n}function qD(n,e){if(e&&BD(e)){if(n instanceof q_)return HD(n,e);throw xy("To use ref(service, url), the first argument must be a Storage instance.")}else return mS(n,e)}function Bw(n,e){const t=e?.[eS];return t==null?null:us.makeFromBucketSpec(t,n)}function FD(n,e,t,s={}){n.host=`${e}:${t}`;const o=Ho(e);o&&(zy(`https://${n.host}/b`),Uy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:L1(c,n.app.options.projectId))}class q_{constructor(e,t,s,o,c,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=JT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vk,this._maxUploadRetryTime=zk,this._requests=new Set,o!=null?this._bucket=us.makeFromBucketSpec(o,this._host):this._bucket=Bw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=us.makeFromBucketSpec(this._url,e):this._bucket=Bw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Uw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Uw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gl(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new eD(tS());{const d=hD(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Hw="@firebase/storage",qw="0.14.0";const pS="storage";function Fw(n,e,t){return n=kt(n),VD(n,e,t)}function Gw(n){return n=kt(n),zD(n)}function Zw(n,e){return n=kt(n),qD(n,e)}function GD(n=qy(),e){n=kt(n);const s=im(n,pS).getImmediate({identifier:e}),o=I1("storage");return o&&ZD(s,...o),s}function ZD(n,e,t,s={}){FD(n,e,t,s)}function $D(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new q_(t,s,o,e,Kl)}function YD(){Vl(new ko(pS,$D,"PUBLIC").setMultipleInstances(!0)),Lr(Hw,qw,""),Lr(Hw,qw,"esm2020")}YD();const KD={apiKey:"AIzaSyDhATfuTR03Z0MDHK6LdVtePzvnOlw2RYs",authDomain:"inmobiliaria-89dca.firebaseapp.com",projectId:"inmobiliaria-89dca",storageBucket:"inmobiliaria-89dca.firebasestorage.app",messagingSenderId:"264339137867",appId:"1:264339137867:web:721f347d175208451c34ce",measurementId:"G-71P9DV29GB"},F_=D1(KD),Nl=lM(F_),Xe=vk(F_),$w=GD(F_),WD=new ba,QD=new lh("apple.com");let XD={data:""},JD=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||XD},e5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,t5=/\/\*[^]*?\*\/|  +/g,Yw=/\n+/g,No=(n,e)=>{let t="",s="",o="";for(let c in n){let d=n[c];c[0]=="@"?c[1]=="i"?t=c+" "+d+";":s+=c[1]=="f"?No(d,c):c+"{"+No(d,c[1]=="k"?"":e)+"}":typeof d=="object"?s+=No(d,e?e.replace(/([^,])+/g,_=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,_):_?_+" "+p:p)):c):d!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=No.p?No.p(c,d):c+":"+d+";")}return t+(e&&o?e+"{"+o+"}":o)+s},ga={},gS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+gS(n[t]);return e}return n},n5=(n,e,t,s,o)=>{let c=gS(n),d=ga[c]||(ga[c]=(p=>{let v=0,w=11;for(;v<p.length;)w=101*w+p.charCodeAt(v++)>>>0;return"go"+w})(c));if(!ga[d]){let p=c!==n?n:(v=>{let w,E,N=[{}];for(;w=e5.exec(v.replace(t5,""));)w[4]?N.shift():w[3]?(E=w[3].replace(Yw," ").trim(),N.unshift(N[0][E]=N[0][E]||{})):N[0][w[1]]=w[2].replace(Yw," ").trim();return N[0]})(n);ga[d]=No(o?{["@keyframes "+d]:p}:p,t?"":"."+d)}let _=t&&ga.g?ga.g:null;return t&&(ga.g=ga[d]),((p,v,w,E)=>{E?v.data=v.data.replace(E,p):v.data.indexOf(p)===-1&&(v.data=w?p+v.data:v.data+p)})(ga[d],e,s,_),d},i5=(n,e,t)=>n.reduce((s,o,c)=>{let d=e[c];if(d&&d.call){let _=d(t),p=_&&_.props&&_.props.className||/^go/.test(_)&&_;d=p?"."+p:_&&typeof _=="object"?_.props?"":No(_,""):_===!1?"":_}return s+o+(d??"")},"");function Cm(n){let e=this||{},t=n.call?n(e.p):n;return n5(t.unshift?t.raw?i5(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,JD(e.target),e.g,e.o,e.k)}let yS,wy,Ey;Cm.bind({g:1});let Pa=Cm.bind({k:1});function s5(n,e,t,s){No.p=e,yS=n,wy=t,Ey=s}function Go(n,e){let t=this||{};return function(){let s=arguments;function o(c,d){let _=Object.assign({},c),p=_.className||o.className;t.p=Object.assign({theme:wy&&wy()},_),t.o=/ *go\d+/.test(p),_.className=Cm.apply(t,s)+(p?" "+p:"");let v=n;return n[0]&&(v=_.as||n,delete _.as),Ey&&v[0]&&Ey(_),yS(v,_)}return o}}var r5=n=>typeof n=="function",Ff=(n,e)=>r5(n)?n(e):n,a5=(()=>{let n=0;return()=>(++n).toString()})(),_S=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),o5=20,G_="default",vS=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(d=>d.id===e.toast.id?{...d,...e.toast}:d)};case 2:let{toast:s}=e;return vS(n,{type:n.toasts.find(d=>d.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(d=>d.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let c=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+c}))}}},vf=[],bS={toasts:[],pausedAt:void 0,settings:{toastLimit:o5}},Pr={},xS=(n,e=G_)=>{Pr[e]=vS(Pr[e]||bS,n),vf.forEach(([t,s])=>{t===e&&s(Pr[e])})},wS=n=>Object.keys(Pr).forEach(e=>xS(n,e)),l5=n=>Object.keys(Pr).find(e=>Pr[e].toasts.some(t=>t.id===n)),Nm=(n=G_)=>e=>{xS(e,n)},c5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},u5=(n={},e=G_)=>{let[t,s]=V.useState(Pr[e]||bS),o=V.useRef(Pr[e]);V.useEffect(()=>(o.current!==Pr[e]&&s(Pr[e]),vf.push([e,s]),()=>{let d=vf.findIndex(([_])=>_===e);d>-1&&vf.splice(d,1)}),[e]);let c=t.toasts.map(d=>{var _,p,v;return{...n,...n[d.type],...d,removeDelay:d.removeDelay||((_=n[d.type])==null?void 0:_.removeDelay)||n?.removeDelay,duration:d.duration||((p=n[d.type])==null?void 0:p.duration)||n?.duration||c5[d.type],style:{...n.style,...(v=n[d.type])==null?void 0:v.style,...d.style}}});return{...t,toasts:c}},h5=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||a5()}),qh=n=>(e,t)=>{let s=h5(e,n,t);return Nm(s.toasterId||l5(s.id))({type:2,toast:s}),s.id},In=(n,e)=>qh("blank")(n,e);In.error=qh("error");In.success=qh("success");In.loading=qh("loading");In.custom=qh("custom");In.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Nm(e)(t):wS(t)};In.dismissAll=n=>In.dismiss(void 0,n);In.remove=(n,e)=>{let t={type:4,toastId:n};e?Nm(e)(t):wS(t)};In.removeAll=n=>In.remove(void 0,n);In.promise=(n,e,t)=>{let s=In.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?Ff(e.success,o):void 0;return c?In.success(c,{id:s,...t,...t?.success}):In.dismiss(s),o}).catch(o=>{let c=e.error?Ff(e.error,o):void 0;c?In.error(c,{id:s,...t,...t?.error}):In.dismiss(s)}),n};var d5=1e3,f5=(n,e="default")=>{let{toasts:t,pausedAt:s}=u5(n,e),o=V.useRef(new Map).current,c=V.useCallback((E,N=d5)=>{if(o.has(E))return;let R=setTimeout(()=>{o.delete(E),d({type:4,toastId:E})},N);o.set(E,R)},[]);V.useEffect(()=>{if(s)return;let E=Date.now(),N=t.map(R=>{if(R.duration===1/0)return;let j=(R.duration||0)+R.pauseDuration-(E-R.createdAt);if(j<0){R.visible&&In.dismiss(R.id);return}return setTimeout(()=>In.dismiss(R.id,e),j)});return()=>{N.forEach(R=>R&&clearTimeout(R))}},[t,s,e]);let d=V.useCallback(Nm(e),[e]),_=V.useCallback(()=>{d({type:5,time:Date.now()})},[d]),p=V.useCallback((E,N)=>{d({type:1,toast:{id:E,height:N}})},[d]),v=V.useCallback(()=>{s&&d({type:6,time:Date.now()})},[s,d]),w=V.useCallback((E,N)=>{let{reverseOrder:R=!1,gutter:j=8,defaultPosition:U}=N||{},k=t.filter($=>($.position||U)===(E.position||U)&&$.height),O=k.findIndex($=>$.id===E.id),B=k.filter(($,te)=>te<O&&$.visible).length;return k.filter($=>$.visible).slice(...R?[B+1]:[0,B]).reduce(($,te)=>$+(te.height||0)+j,0)},[t]);return V.useEffect(()=>{t.forEach(E=>{if(E.dismissed)c(E.id,E.removeDelay);else{let N=o.get(E.id);N&&(clearTimeout(N),o.delete(E.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:p,startPause:_,endPause:v,calculateOffset:w}}},m5=Pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,p5=Pa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,g5=Pa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,y5=Go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${m5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${p5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${g5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_5=Pa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,v5=Go("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${_5} 1s linear infinite;
`,b5=Pa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,x5=Pa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,w5=Go("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${b5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${x5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,E5=Go("div")`
  position: absolute;
`,T5=Go("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,S5=Pa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A5=Go("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${S5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,C5=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?V.createElement(A5,null,e):e:t==="blank"?null:V.createElement(T5,null,V.createElement(v5,{...s}),t!=="loading"&&V.createElement(E5,null,t==="error"?V.createElement(y5,{...s}):V.createElement(w5,{...s})))},N5=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,R5=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,I5="0%{opacity:0;} 100%{opacity:1;}",P5="0%{opacity:1;} 100%{opacity:0;}",M5=Go("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,L5=Go("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,O5=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=_S()?[I5,P5]:[N5(t),R5(t)];return{animation:e?`${Pa(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pa(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},k5=V.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?O5(n.position||e||"top-center",n.visible):{opacity:0},c=V.createElement(C5,{toast:n}),d=V.createElement(L5,{...n.ariaProps},Ff(n.message,n));return V.createElement(M5,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:c,message:d}):V.createElement(V.Fragment,null,c,d))});s5(V.createElement);var D5=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=V.useCallback(d=>{if(d){let _=()=>{let p=d.getBoundingClientRect().height;s(n,p)};_(),new MutationObserver(_).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return V.createElement("div",{ref:c,className:e,style:t},o)},j5=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_S()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},V5=Cm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,rf=16,z5=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:d,containerClassName:_})=>{let{toasts:p,handlers:v}=f5(t,c);return V.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:rf,left:rf,right:rf,bottom:rf,pointerEvents:"none",...d},className:_,onMouseEnter:v.startPause,onMouseLeave:v.endPause},p.map(w=>{let E=w.position||e,N=v.calculateOffset(w,{reverseOrder:n,gutter:s,defaultPosition:e}),R=j5(E,N);return V.createElement(D5,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?V5:"",style:R},w.type==="custom"?Ff(w.message,w):o?o(w):V.createElement(k5,{toast:w,position:E}))}))},Ve=In;const ES=V.createContext();function ka(){return V.useContext(ES)}function U5({children:n}){const[e,t]=V.useState(null),[s,o]=V.useState(null),[c,d]=V.useState(!0),_=async(U,k,O="cliente",B="",$="")=>{try{const te=await FI(Nl,U,k);return await iy(te.user,{displayName:B}),await kg(en(Xe,"users",te.user.uid),{email:U,role:O,displayName:B,phoneNumber:$,createdAt:new Date}),te}catch(te){throw console.error("Signup error",te),R(te)}},p=(U,k)=>GI(Nl,U,k).catch(O=>{throw R(O)}),v=async(U="cliente")=>{try{const k=await Ix(Nl,WD);return(await Ol(en(Xe,"users",k.user.uid))).exists()||await kg(en(Xe,"users",k.user.uid),{email:k.user.email,displayName:k.user.displayName,phoneNumber:k.user.phoneNumber||"",role:U,createdAt:new Date}),k}catch(k){throw R(k)}},w=async(U="cliente")=>{try{const k=await Ix(Nl,QD);return(await Ol(en(Xe,"users",k.user.uid))).exists()||await kg(en(Xe,"users",k.user.uid),{email:k.user.email,displayName:k.user.displayName,phoneNumber:k.user.phoneNumber||"",role:U,createdAt:new Date}),k}catch(k){throw R(k)}},E=()=>XI(Nl),N=U=>qI(Nl,U).catch(k=>{throw R(k)}),R=U=>{let k="Ocurri un error inesperado. Por favor intenta de nuevo.";return U.code==="auth/email-already-in-use"&&(k="Este correo ya est registrado."),U.code==="auth/invalid-email"&&(k="El correo no es vlido."),U.code==="auth/user-not-found"&&(k="No encontramos una cuenta con este correo."),U.code==="auth/wrong-password"&&(k="La contrasea es incorrecta."),U.code==="auth/weak-password"&&(k="La contrasea debe tener al menos 6 caracteres."),new Error(k)};V.useEffect(()=>QI(Nl,async k=>{if(t(k),k){const O=await Ol(en(Xe,"users",k.uid));O.exists()&&o(O.data())}else o(null);d(!1)}),[]);const j={user:e,userData:s,signup:_,login:p,loginWithGoogle:v,loginWithApple:w,logout:E,resetPassword:N};return f.jsxs(ES.Provider,{value:j,children:[!c&&n,f.jsx(z5,{position:"top-center"})]})}const Vg=({children:n,allowedRoles:e})=>{const{user:t,userData:s,loading:o}=ka();return o?f.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?e&&s&&!e.includes(s.role)?s.role==="agente"?f.jsx(bg,{to:"/agent-dashboard"}):f.jsx(bg,{to:"/client-dashboard"}):n:f.jsx(bg,{to:"/login"})};const TS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const B5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const H5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const Kw=n=>{const e=H5(n);return e.charAt(0).toUpperCase()+e.slice(1)};var q5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const F5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const G5=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,..._},p)=>V.createElement("svg",{ref:p,...q5,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:TS("lucide",o),...!c&&!F5(_)&&{"aria-hidden":"true"},..._},[...d.map(([v,w])=>V.createElement(v,w)),...Array.isArray(c)?c:[c]]));const Fe=(n,e)=>{const t=V.forwardRef(({className:s,...o},c)=>V.createElement(G5,{ref:c,iconNode:e,className:TS(`lucide-${B5(Kw(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Kw(n),t};const Z5=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],$5=Fe("armchair",Z5);const Y5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],K5=Fe("arrow-left",Y5);const W5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Q5=Fe("arrow-right",W5);const X5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],J5=Fe("arrow-up-down",X5);const e4=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],t4=Fe("arrow-up-from-line",e4);const n4=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],i4=Fe("bath",n4);const s4=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],r4=Fe("bed-double",s4);const a4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],o4=Fe("briefcase",a4);const l4=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],c4=Fe("building-2",l4);const u4=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],h4=Fe("building",u4);const d4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gf=Fe("calendar",d4);const f4=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],m4=Fe("car",f4);const p4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],g4=Fe("circle-check-big",p4);const y4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],_4=Fe("circle-user",y4);const v4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ty=Fe("clock",v4);const b4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],x4=Fe("copy",b4);const w4=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],E4=Fe("dumbbell",w4);const T4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zf=Fe("eye",T4);const S4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],A4=Fe("facebook",S4);const C4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],N4=Fe("file-text",C4);const R4=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],I4=Fe("heart-handshake",R4);const P4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$f=Fe("heart",P4);const M4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],SS=Fe("house",M4);const L4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],O4=Fe("instagram",L4);const k4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Yf=Fe("key",k4);const D4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],j4=Fe("layers",D4);const V4=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],z4=Fe("lightbulb",V4);const U4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],B4=Fe("linkedin",U4);const H4=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],q4=Fe("list-filter",H4);const F4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ah=Fe("loader-circle",F4);const G4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z4=Fe("lock",G4);const $4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AS=Fe("mail",$4);const Y4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ur=Fe("map-pin",Y4);const K4=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],W4=Fe("maximize",K4);const Q4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],X4=Fe("message-circle",Q4);const J4=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],ej=Fe("mountain",J4);const tj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Z_=Fe("phone",tj);const nj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ij=Fe("plus",nj);const sj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zg=Fe("refresh-cw",sj);const rj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xc=Fe("search",rj);const aj=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],Ww=Fe("share",aj);const oj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CS=Fe("shield-check",oj);const lj=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],cj=Fe("sliders-horizontal",lj);const uj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hj=Fe("star",uj);const dj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],fj=Fe("target",dj);const mj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sy=Fe("trash-2",mj);const pj=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],gj=Fe("tree-palm",pj);const yj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qw=Fe("upload",yj);const _j=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ay=Fe("user",_j);const vj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NS=Fe("users",vj);const bj=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],xj=Fe("warehouse",bj);const wj=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],RS=Fe("waves",wj);const Ej=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ea=Fe("x",Ej),IS=({property:n})=>{const[t,s]=V.useState(0),[o,c]=V.useState(!1),d=n.currency||"USD",_=typeof n.price=="number"?n.price:parseFloat(n.price);let p,v;d==="USD"?(p=_,v=_*3.75):(v=_,p=_/3.75);const w=(N,R)=>N?N.toLocaleString("en-US",{style:"currency",currency:R,maximumFractionDigits:0}):"0";V.useEffect(()=>{let N;return o&&n.images&&n.images.length>1?N=setInterval(()=>{s(R=>(R+1)%n.images.length)},1e3):s(0),()=>clearInterval(N)},[o,n.images]);const E=n.images?.[t]||n.images?.[0]||"https://placehold.co/400x300/e2e8f0/94a3b8?text=Sin+Imagen";return f.jsxs(un,{to:`/properties/${n.id}`,className:"group block relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[f.jsxs("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[f.jsx("img",{src:E,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),n.isPromoted&&f.jsx("div",{className:"absolute top-3 left-3 bg-[#fc7f51] text-white px-2 py-1 rounded-md text-xs font-bold shadow-md z-10",children:"DESTACADO"}),f.jsx("button",{className:"absolute top-3 right-3 text-white/70 hover:scale-110 transition z-10",children:f.jsx($f,{className:"w-6 h-6 fill-black/50 text-white stroke-[2px]"})}),f.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 backdrop-blur-md px-3 py-1 rounded-lg text-white text-xs font-bold uppercase",children:n.type})]}),f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("h3",{className:"font-semibold text-gray-500 truncate pr-2 text-xs uppercase tracking-wide",children:n.location||n.address}),f.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",title:"Vistas",children:[f.jsx(Zf,{className:"w-3 h-3 text-[#fc7f51]"}),f.jsx("span",{className:"text-xs font-bold text-gray-700",children:n.views||0})]})]}),f.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Agente: ",n.agentName||"Inmuvete"]}),f.jsx("p",{className:"text-gray-800 text-sm font-semibold mb-1 line-clamp-1",children:n.title}),f.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[f.jsx("span",{className:"font-bold text-[#fc7f51] text-lg",children:w(p,"USD")}),f.jsx("span",{className:"text-xs text-gray-400 font-medium",children:w(v,"PEN")})]})]})},Tj=[{icon:h4,label:"Departamentos"},{icon:xj,label:"Casas"},{icon:gj,label:"Terrenos"},{icon:ej,label:"Campestres"},{icon:RS,label:"Playa"}],Sj=()=>{const n=Yl(),[e,t]=V.useState("venta"),[s,o]=V.useState(""),[c,d]=V.useState("departamento"),[_,p]=V.useState("USD"),[v,w]=V.useState(""),[E,N]=V.useState(""),[R,j]=V.useState(!1),[U,k]=V.useState(!1),[O,B]=V.useState({location:"",footage:"",price:""}),$=()=>{const fe=`Hola, quiero vender mi propiedad.

 Ubicacin: ${O.location}
 Metraje: ${O.footage} m
 Precio Estimado: $${O.price}

Solicito ms informacin.`,_e=`https://wa.me/51999999999?text=${encodeURIComponent(fe)}`;window.open(_e,"_blank"),k(!1),B({location:"",footage:"",price:""})},te=["Lima","Arequipa","Cusco","Trujillo","Piura","Ica","Tacna"],[ne,ye]=V.useState([]),[q,I]=V.useState(!1),Z=fe=>{const _e=fe.target.value;if(o(_e),_e.length>0){const D=te.filter(J=>J.toLowerCase().includes(_e.toLowerCase()));ye(D),I(!0)}else I(!1)},G=fe=>{o(fe),I(!1)},[H,Y]=V.useState([]),[F,de]=V.useState(!0);V.useEffect(()=>{de(!0);const fe=Ds(gn(Xe,"properties")),_e=Dk(fe,D=>{const J=D.docs.map(pe=>({id:pe.id,...pe.data()}));J.sort((pe,xe)=>{if(pe.isPromoted&&!xe.isPromoted)return-1;if(!pe.isPromoted&&xe.isPromoted)return 1;const Ae=pe.createdAt?.seconds||0;return(xe.createdAt?.seconds||0)-Ae}),Y(J),de(!1)},D=>{console.error("Error fetching properties:",D),de(!1)});return()=>_e()},[]);const[Re,ae]=V.useState([]),[Se,ee]=V.useState(!0);return V.useEffect(()=>{(async()=>{try{const _e=Ds(gn(Xe,"tips"),Pk(3)),J=(await ir(_e)).docs.map(pe=>({id:pe.id,...pe.data()}));J.sort((pe,xe)=>(xe.createdAt?.seconds||0)-(pe.createdAt?.seconds||0)),ae(J)}catch(_e){console.error("Error fetching tips:",_e)}finally{ee(!1)}})()},[]),f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("div",{className:"relative h-[85vh] min-h-[700px] flex items-center pt-20",children:[f.jsxs("div",{className:"absolute inset-0 z-0",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",alt:"Hero",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/20"})]}),f.jsxs("div",{className:"relative z-10 container mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center",children:[f.jsxs("div",{className:"lg:col-span-5 bg-white rounded-3xl shadow-2xl overflow-hidden animate-fadeIn",children:[f.jsxs("div",{className:"p-8 pb-4 bg-[#262626] text-white",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",style:{color:"#ffffff"},children:"Encuentra tu prximo hogar"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Explora propiedades nicas para vivir o invertir."})]}),f.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[f.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["venta","alquiler","anticresis"].map(fe=>f.jsx("button",{onClick:()=>t(fe),className:`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${e===fe?"bg-white text-[#fc7f51] shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700"}`,children:fe},fe))}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"En dnde buscas?"}),f.jsxs("div",{className:"relative",children:[f.jsx(Ur,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",value:s,onChange:Z,onFocus:()=>s&&I(!0),placeholder:"Ciudad, distrito o zona...",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"}),q&&ne.length>0&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:ne.map(fe=>f.jsxs("div",{onClick:()=>G(fe),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-2 text-gray-700 font-medium",children:[f.jsx(Ur,{className:"w-4 h-4 text-[#fc7f51]"}),fe]},fe))})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo de Inmueble"}),f.jsxs("div",{className:"relative",children:[f.jsx(SS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsxs("select",{value:c,onChange:fe=>d(fe.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none appearance-none font-medium cursor-pointer",children:[f.jsx("option",{value:"departamento",children:"Departamento"}),f.jsx("option",{value:"casa",children:"Casa"}),f.jsx("option",{value:"terreno",children:"Terreno"}),f.jsx("option",{value:"oficina",children:"Oficina"}),f.jsx("option",{value:"local",children:"Local Comercial"}),f.jsx("option",{value:"otro",children:"Otro"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),f.jsx("div",{className:"relative",children:f.jsxs("div",{className:"flex bg-gray-50 rounded-xl border border-gray-200 p-1 h-[58px] items-center",children:[f.jsx("button",{onClick:()=>p("USD"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="USD"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"$ USD"}),f.jsx("button",{onClick:()=>p("PEN"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="PEN"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"S/ PEN"})]})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Rango de Precio"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("input",{type:"number",placeholder:"Mnimo",value:v,onChange:fe=>w(fe.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"}),f.jsx("input",{type:"number",placeholder:"Mximo",value:E,onChange:fe=>N(fe.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"})]})]}),f.jsxs("button",{onClick:()=>j(!R),className:"flex items-center gap-2 text-[#fc7f51] font-bold text-sm hover:underline",children:[f.jsx(q4,{className:"w-4 h-4"}),R?"Menos filtros":"Ms filtros (Habitaciones, Baos, rea...)"]}),R&&f.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fadeIn",children:[f.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),f.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"}),f.jsx("option",{value:"4",children:"4+"})]})]}),f.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),f.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"})]})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"rea Mnima (m)"}),f.jsx("input",{type:"number",placeholder:"Ej: 80",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none"})]})]}),f.jsxs("button",{onClick:()=>{const fe=new URLSearchParams;e&&fe.set("operation",e),s&&fe.set("location",s),c&&fe.set("propertyType",c),_&&fe.set("currency",_),v&&fe.set("priceMin",v),E&&fe.set("priceMax",E),n(`/search?${fe.toString()}`)},className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2",children:[f.jsx(Xc,{className:"w-6 h-6"}),"BUSCAR PROPIEDADES"]})]})]}),f.jsx("div",{className:"hidden lg:block lg:col-span-7",children:f.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[f.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-[#fc7f51] transform hover:-translate-x-2 transition cursor-pointer",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:f.jsx(o4,{className:"w-6 h-6 text-[#fc7f51]"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Eres Propietario?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros y vndela ms rpido."})]})]}),f.jsx(un,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),f.jsx("button",{onClick:()=>k(!0),className:"block w-full text-left bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-blue-500 transform hover:-translate-x-2 transition cursor-pointer delay-100",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:f.jsx(Yf,{className:"w-6 h-6 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Vendes tu Propiedad?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos para vender rpido y seguro al mejor precio."})]})]})})]})})]})]}),U&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden animate-fadeIn",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Vende con nosotros"}),f.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(Ea,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ingresa los datos de tu propiedad para enviarlos a un agente."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin / Distrito"}),f.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: Miraflores, Lima",value:O.location,onChange:fe=>B({...O,location:fe.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metraje Aprox. (m)"}),f.jsx("input",{type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 120",value:O.footage,onChange:fe=>B({...O,footage:fe.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto Estimado de Venta"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),f.jsx("input",{type:"number",className:"w-full pl-8 pr-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 150000",value:O.price,onChange:fe=>B({...O,price:fe.target.value})})]})]}),f.jsxs("button",{onClick:$,disabled:!O.location||!O.footage||!O.price,className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3 rounded-lg shadow-lg hover:shadow-green-500/30 transition flex items-center justify-center gap-2 mt-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(Yf,{className:"w-5 h-5"}),"Enviar por WhatsApp"]})]})]})}),f.jsx("div",{className:"bg-gray-50 py-10 border-b border-gray-200",children:f.jsx("div",{className:"container mx-auto px-6",children:f.jsx("div",{className:"flex gap-4 md:gap-12 overflow-x-auto no-scrollbar items-center justify-start md:justify-center py-2",children:Tj.map((fe,_e)=>f.jsxs("div",{onClick:()=>n(`/search?propertyType=${fe.label.toLowerCase()}`),className:"flex flex-col items-center gap-3 min-w-[100px] cursor-pointer group opacity-60 hover:opacity-100 transition-all duration-300 hover:-translate-y-1",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-md border border-gray-100 group-hover:border-[#fc7f51]/30 transition",children:f.jsx(fe.icon,{className:"w-7 h-7 text-[#262626] group-hover:text-[#fc7f51] transition",strokeWidth:1.5})}),f.jsx("span",{className:"text-sm font-semibold text-[#262626] group-hover:text-[#fc7f51] whitespace-nowrap transition",children:fe.label})]},_e))})})}),f.jsxs("main",{id:"properties",className:"container mx-auto px-6 py-20",children:[f.jsxs("div",{className:"flex justify-between items-end mb-12",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Oportunidades"}),f.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Propiedades Destacadas"})]}),f.jsxs(un,{to:"/properties",className:"hidden md:flex items-center gap-2 text-[#262626] font-semibold hover:text-[#fc7f51] transition group",children:["Ver todo ",f.jsx(Q5,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:F?f.jsxs("div",{className:"col-span-full py-20 text-center",children:[f.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"}),f.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando propiedades..."})]}):H.length===0?f.jsx("div",{className:"col-span-full py-20 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:f.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propiedades disponibles en este momento."})}):H.filter(fe=>{if(e&&fe.type!==e)return!1;if(c){if(c==="terreno"){if(fe.category!=="terreno")return!1}else if(c!=="otro"&&fe.category==="terreno")return!1}if(s&&!fe.location?.toLowerCase().includes(s.toLowerCase())&&!fe.address?.toLowerCase().includes(s.toLowerCase()))return!1;const _e=parseFloat(fe.price);return!(v&&_e<parseFloat(v)||E&&_e>parseFloat(E)||_&&fe.currency!==_)}).sort((fe,_e)=>(_e.isExclusive===!0?1:0)-(fe.isExclusive===!0?1:0)).map(fe=>f.jsx(IS,{property:fe},fe.id))}),f.jsx("div",{className:"mt-12 text-center md:hidden",children:f.jsx("button",{className:"bg-white border border-gray-300 text-[#262626] px-8 py-3 rounded-full font-bold shadow-sm hover:bg-gray-50 transition",children:"Ver todas las propiedades"})})]}),f.jsx("section",{className:"bg-gray-50 py-20 border-t border-gray-200",children:f.jsxs("div",{className:"container mx-auto px-6",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Consejos de Expertos"}),f.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Tips Inmobiliarios"})]}),Se?f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})}):Re.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Re.map(fe=>f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group",children:[f.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center mb-6 text-[#fc7f51] group-hover:bg-[#fc7f51] group-hover:text-white transition",children:f.jsx(z4,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-[#fc7f51] transition",children:fe.title}),f.jsx("p",{className:"text-gray-600 leading-relaxed text-sm mb-4 line-clamp-4",children:fe.content}),f.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["Por ",fe.agentName||"Agente","  ",fe.createdAt?.seconds?new Date(fe.createdAt.seconds*1e3).toLocaleDateString():"Reciente"]})]},fe.id))}):f.jsx("div",{className:"text-center text-gray-500",children:"Pronto publicaremos consejos tiles para ti."})]})}),f.jsxs("section",{className:"py-24 bg-[#16151a] text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#fc7f51] rounded-full opacity-10 blur-[100px] translate-x-1/3 -translate-y-1/3"}),f.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Listo para dar el siguiente paso?"}),f.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-2xl mx-auto",children:"Ya sea que busques comprar, vender o invertir, en Inmuvete tenemos el equipo y la experiencia para hacerlo posible."}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[f.jsx(un,{to:"/contact",className:"bg-[#fc7f51] text-white px-8 py-4 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg hover:shadow-orange-500/20",children:"Contctanos Ahora"}),f.jsx(un,{to:"/about",className:"bg-transparent border border-gray-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-[#262626] hover:border-white transition",children:"Conoce Ms"})]})]})]})]})};function Xw(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function $_(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Xw(e[s])&&Xw(n[s])&&Object.keys(e[s]).length>0&&$_(n[s],e[s])})}const PS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Xl(){const n=typeof document<"u"?document:{};return $_(n,PS),n}const Aj={document:PS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function xi(){const n=typeof window<"u"?window:{};return $_(n,Aj),n}function Cj(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function Nj(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function MS(n,e=0){return setTimeout(n,e)}function Kf(){return Date.now()}function Rj(n){const e=xi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Ij(n,e="x"){const t=xi();let s,o,c;const d=Rj(n);return t.WebKitCSSMatrix?(o=d.transform||d.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(_=>_.replace(",",".")).join(", ")),c=new t.WebKitCSSMatrix(o==="none"?"":o)):(c=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=c.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?o=c.m41:s.length===16?o=parseFloat(s[12]):o=parseFloat(s[4])),e==="y"&&(t.WebKitCSSMatrix?o=c.m42:s.length===16?o=parseFloat(s[13]):o=parseFloat(s[5])),o||0}function af(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Pj(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ls(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<n.length;s+=1){const o=n[s];if(o!=null&&!Pj(o)){const c=Object.keys(Object(o)).filter(d=>t.indexOf(d)<0);for(let d=0,_=c.length;d<_;d+=1){const p=c[d],v=Object.getOwnPropertyDescriptor(o,p);v!==void 0&&v.enumerable&&(af(e[p])&&af(o[p])?o[p].__swiper__?e[p]=o[p]:ls(e[p],o[p]):!af(e[p])&&af(o[p])?(e[p]={},o[p].__swiper__?e[p]=o[p]:ls(e[p],o[p])):e[p]=o[p])}}}return e}function jc(n,e,t){n.style.setProperty(e,t)}function LS({swiper:n,targetPosition:e,side:t}){const s=xi(),o=-n.translate;let c=null,d;const _=n.params.speed;n.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(n.cssModeFrameID);const p=e>o?"next":"prev",v=(E,N)=>p==="next"&&E>=N||p==="prev"&&E<=N,w=()=>{d=new Date().getTime(),c===null&&(c=d);const E=Math.max(Math.min((d-c)/_,1),0),N=.5-Math.cos(E*Math.PI)/2;let R=o+N*(e-o);if(v(R,e)&&(R=e),n.wrapperEl.scrollTo({[t]:R}),v(R,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:R})}),s.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=s.requestAnimationFrame(w)};w()}function Mr(n,e=""){const t=xi(),s=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&s.push(...n.assignedElements()),e?s.filter(o=>o.matches(e)):s}function Mj(n,e){const t=[e];for(;t.length>0;){const s=t.shift();if(n===s)return!0;t.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function Lj(n,e){const t=xi();let s=e.contains(n);return!s&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(n),s||(s=Mj(n,e))),s}function Wf(n){try{console.warn(n);return}catch{}}function Qf(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Cj(e)),t}function Oj(n,e){const t=[];for(;n.previousElementSibling;){const s=n.previousElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function kj(n,e){const t=[];for(;n.nextElementSibling;){const s=n.nextElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function Io(n,e){return xi().getComputedStyle(n,null).getPropertyValue(e)}function Xf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function OS(n,e){const t=[];let s=n.parentElement;for(;s;)e?s.matches(e)&&t.push(s):t.push(s),s=s.parentElement;return t}function Cy(n,e,t){const s=xi();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Bn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Ch(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Ug;function Dj(){const n=xi(),e=Xl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function kS(){return Ug||(Ug=Dj()),Ug}let Bg;function jj({userAgent:n}={}){const e=kS(),t=xi(),s=t.navigator.platform,o=n||t.navigator.userAgent,c={ios:!1,android:!1},d=t.screen.width,_=t.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let v=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const w=o.match(/(iPod)(.*OS\s([\d_]+))?/),E=!v&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),N=s==="Win32";let R=s==="MacIntel";const j=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&R&&e.touch&&j.indexOf(`${d}x${_}`)>=0&&(v=o.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),R=!1),p&&!N&&(c.os="android",c.android=!0),(v||E||w)&&(c.os="ios",c.ios=!0),c}function DS(n={}){return Bg||(Bg=jj(n)),Bg}let Hg;function Vj(){const n=xi(),e=DS();let t=!1;function s(){const _=n.navigator.userAgent.toLowerCase();return _.indexOf("safari")>=0&&_.indexOf("chrome")<0&&_.indexOf("android")<0}if(s()){const _=String(n.navigator.userAgent);if(_.includes("Version/")){const[p,v]=_.split("Version/")[1].split(" ")[0].split(".").map(w=>Number(w));t=p<16||p===16&&v<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),c=s(),d=c||o&&e.ios;return{isSafari:t||c,needPerspectiveFix:t,need3dFix:d,isWebView:o}}function jS(){return Hg||(Hg=Vj()),Hg}function zj({swiper:n,on:e,emit:t}){const s=xi();let o=null,c=null;const d=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},_=()=>{!n||n.destroyed||!n.initialized||(o=new ResizeObserver(w=>{c=s.requestAnimationFrame(()=>{const{width:E,height:N}=n;let R=E,j=N;w.forEach(({contentBoxSize:U,contentRect:k,target:O})=>{O&&O!==n.el||(R=k?k.width:(U[0]||U).inlineSize,j=k?k.height:(U[0]||U).blockSize)}),(R!==E||j!==N)&&d()})}),o.observe(n.el))},p=()=>{c&&s.cancelAnimationFrame(c),o&&o.unobserve&&n.el&&(o.unobserve(n.el),o=null)},v=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof s.ResizeObserver<"u"){_();return}s.addEventListener("resize",d),s.addEventListener("orientationchange",v)}),e("destroy",()=>{p(),s.removeEventListener("resize",d),s.removeEventListener("orientationchange",v)})}function Uj({swiper:n,extendParams:e,on:t,emit:s}){const o=[],c=xi(),d=(v,w={})=>{const E=c.MutationObserver||c.WebkitMutationObserver,N=new E(R=>{if(n.__preventObserver__)return;if(R.length===1){s("observerUpdate",R[0]);return}const j=function(){s("observerUpdate",R[0])};c.requestAnimationFrame?c.requestAnimationFrame(j):c.setTimeout(j,0)});N.observe(v,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:n.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),o.push(N)},_=()=>{if(n.params.observer){if(n.params.observeParents){const v=OS(n.hostEl);for(let w=0;w<v.length;w+=1)d(v[w])}d(n.hostEl,{childList:n.params.observeSlideChildren}),d(n.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(v=>{v.disconnect()}),o.splice(0,o.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",_),t("destroy",p)}var Bj={on(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const o=t?"unshift":"push";return n.split(" ").forEach(c=>{s.eventsListeners[c]||(s.eventsListeners[c]=[]),s.eventsListeners[c][o](e)}),s},once(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function o(...c){s.off(n,o),o.__emitterProxy&&delete o.__emitterProxy,e.apply(s,c)}return o.__emitterProxy=e,s.on(n,o,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const s=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[s](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(s=>{typeof e>"u"?t.eventsListeners[s]=[]:t.eventsListeners[s]&&t.eventsListeners[s].forEach((o,c)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&t.eventsListeners[s].splice(c,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,s,o;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],s=n.slice(1,n.length),o=e):(t=n[0].events,s=n[0].data,o=n[0].context||e),s.unshift(o),(Array.isArray(t)?t:t.split(" ")).forEach(d=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(_=>{_.apply(o,[d,...s])}),e.eventsListeners&&e.eventsListeners[d]&&e.eventsListeners[d].forEach(_=>{_.apply(o,s)})}),e}};function Hj(){const n=this;let e,t;const s=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=s.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=s.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Io(s,"padding-left")||0,10)-parseInt(Io(s,"padding-right")||0,10),t=t-parseInt(Io(s,"padding-top")||0,10)-parseInt(Io(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function qj(){const n=this;function e(G,H){return parseFloat(G.getPropertyValue(n.getDirectionLabel(H))||0)}const t=n.params,{wrapperEl:s,slidesEl:o,rtlTranslate:c,wrongRTL:d}=n,_=n.virtual&&t.virtual.enabled,p=_?n.virtual.slides.length:n.slides.length,v=Mr(o,`.${n.params.slideClass}, swiper-slide`),w=_?n.virtual.slides.length:v.length;let E=[];const N=[],R=[];let j=t.slidesOffsetBefore;typeof j=="function"&&(j=t.slidesOffsetBefore.call(n));let U=t.slidesOffsetAfter;typeof U=="function"&&(U=t.slidesOffsetAfter.call(n));const k=n.snapGrid.length,O=n.slidesGrid.length,B=n.size-j-U;let $=t.spaceBetween,te=-j,ne=0,ye=0;if(typeof B>"u")return;typeof $=="string"&&$.indexOf("%")>=0?$=parseFloat($.replace("%",""))/100*B:typeof $=="string"&&($=parseFloat($)),n.virtualSize=-$-j-U,v.forEach(G=>{c?G.style.marginLeft="":G.style.marginRight="",G.style.marginBottom="",G.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(jc(s,"--swiper-centered-offset-before",""),jc(s,"--swiper-centered-offset-after","")),t.cssMode&&(jc(s,"--swiper-slides-offset-before",`${j}px`),jc(s,"--swiper-slides-offset-after",`${U}px`));const q=t.grid&&t.grid.rows>1&&n.grid;q?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let I;const Z=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(G=>typeof t.breakpoints[G].slidesPerView<"u").length>0;for(let G=0;G<w;G+=1){I=0;const H=v[G];if(!(H&&(q&&n.grid.updateSlide(G,H,v),Io(H,"display")==="none"))){if(_&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(I=t.virtual.slidesPerViewAutoSlideSize),I&&H&&(t.roundLengths&&(I=Math.floor(I)),H.style[n.getDirectionLabel("width")]=`${I}px`);else if(t.slidesPerView==="auto"){Z&&(H.style[n.getDirectionLabel("width")]="");const Y=getComputedStyle(H),F=H.style.transform,de=H.style.webkitTransform;if(F&&(H.style.transform="none"),de&&(H.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?Cy(H,"width"):Cy(H,"height");else{const Re=e(Y,"width"),ae=e(Y,"padding-left"),Se=e(Y,"padding-right"),ee=e(Y,"margin-left"),fe=e(Y,"margin-right"),_e=Y.getPropertyValue("box-sizing");if(_e&&_e==="border-box")I=Re+ee+fe;else{const{clientWidth:D,offsetWidth:J}=H;I=Re+ae+Se+ee+fe+(J-D)}}F&&(H.style.transform=F),de&&(H.style.webkitTransform=de),t.roundLengths&&(I=Math.floor(I))}else I=(B-(t.slidesPerView-1)*$)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),H&&(H.style[n.getDirectionLabel("width")]=`${I}px`);H&&(H.swiperSlideSize=I),R.push(I),t.centeredSlides?(te=te+I/2+ne/2+$,ne===0&&G!==0&&(te=te-B/2-$),G===0&&(te=te-B/2-$),Math.abs(te)<1/1e3&&(te=0),t.roundLengths&&(te=Math.floor(te)),ye%t.slidesPerGroup===0&&E.push(te),N.push(te)):(t.roundLengths&&(te=Math.floor(te)),(ye-Math.min(n.params.slidesPerGroupSkip,ye))%n.params.slidesPerGroup===0&&E.push(te),N.push(te),te=te+I+$),n.virtualSize+=I+$,ne=I,ye+=1}}if(n.virtualSize=Math.max(n.virtualSize,B)+U,c&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(s.style.width=`${n.virtualSize+$}px`),t.setWrapperSize&&(s.style[n.getDirectionLabel("width")]=`${n.virtualSize+$}px`),q&&n.grid.updateWrapperSize(I,E),!t.centeredSlides){const G=t.slidesPerView!=="auto"&&t.slidesPerView%1!==0,H=t.snapToSlideEdge&&!t.loop&&(t.slidesPerView==="auto"||G);let Y=E.length;if(H){let de;if(t.slidesPerView==="auto"){de=1;let Re=0;for(let ae=R.length-1;ae>=0&&(Re+=R[ae]+(ae<R.length-1?$:0),Re<=B);ae-=1)de=R.length-ae}else de=Math.floor(t.slidesPerView);Y=Math.max(w-de,0)}const F=[];for(let de=0;de<E.length;de+=1){let Re=E[de];t.roundLengths&&(Re=Math.floor(Re)),H?de<=Y&&F.push(Re):E[de]<=n.virtualSize-B&&F.push(Re)}E=F,Math.floor(n.virtualSize-B)-Math.floor(E[E.length-1])>1&&(H||E.push(n.virtualSize-B))}if(_&&t.loop){const G=R[0]+$;if(t.slidesPerGroup>1){const H=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),Y=G*t.slidesPerGroup;for(let F=0;F<H;F+=1)E.push(E[E.length-1]+Y)}for(let H=0;H<n.virtual.slidesBefore+n.virtual.slidesAfter;H+=1)t.slidesPerGroup===1&&E.push(E[E.length-1]+G),N.push(N[N.length-1]+G),n.virtualSize+=G}if(E.length===0&&(E=[0]),$!==0){const G=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");v.filter((H,Y)=>!t.cssMode||t.loop?!0:Y!==v.length-1).forEach(H=>{H.style[G]=`${$}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let G=0;R.forEach(Y=>{G+=Y+($||0)}),G-=$;const H=G>B?G-B:0;E=E.map(Y=>Y<=0?-j:Y>H?H+U:Y)}if(t.centerInsufficientSlides){let G=0;R.forEach(Y=>{G+=Y+($||0)}),G-=$;const H=(j||0)+(U||0);if(G+H<B){const Y=(B-G-H)/2;E.forEach((F,de)=>{E[de]=F-Y}),N.forEach((F,de)=>{N[de]=F+Y})}}if(Object.assign(n,{slides:v,snapGrid:E,slidesGrid:N,slidesSizesGrid:R}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){jc(s,"--swiper-centered-offset-before",`${-E[0]}px`),jc(s,"--swiper-centered-offset-after",`${n.size/2-R[R.length-1]/2}px`);const G=-n.snapGrid[0],H=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(Y=>Y+G),n.slidesGrid=n.slidesGrid.map(Y=>Y+H)}if(w!==p&&n.emit("slidesLengthChange"),E.length!==k&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),N.length!==O&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!_&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const G=`${t.containerModifierClass}backface-hidden`,H=n.el.classList.contains(G);w<=t.maxBackfaceHiddenSlides?H||n.el.classList.add(G):H&&n.el.classList.remove(G)}}function Fj(n){const e=this,t=[],s=e.virtual&&e.params.virtual.enabled;let o=0,c;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const d=_=>s?e.slides[e.getSlideIndexByData(_)]:e.slides[_];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(_=>{t.push(_)});else for(c=0;c<Math.ceil(e.params.slidesPerView);c+=1){const _=e.activeIndex+c;if(_>e.slides.length&&!s)break;t.push(d(_))}else t.push(d(e.activeIndex));for(c=0;c<t.length;c+=1)if(typeof t[c]<"u"){const _=t[c].offsetHeight;o=_>o?_:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function Gj(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(n.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-t-n.cssOverflowAdjustment()}const Jw=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Zj(n=this&&this.translate||0){const e=this,t=e.params,{slides:s,rtlTranslate:o,snapGrid:c}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let d=-n;o&&(d=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let _=t.spaceBetween;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*e.size:typeof _=="string"&&(_=parseFloat(_));for(let p=0;p<s.length;p+=1){const v=s[p];let w=v.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(w-=s[0].swiperSlideOffset);const E=(d+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),N=(d-c[0]+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),R=-(d-w),j=R+e.slidesSizesGrid[p],U=R>=0&&R<=e.size-e.slidesSizesGrid[p],k=R>=0&&R<e.size-1||j>1&&j<=e.size||R<=0&&j>=e.size;k&&(e.visibleSlides.push(v),e.visibleSlidesIndexes.push(p)),Jw(v,k,t.slideVisibleClass),Jw(v,U,t.slideFullyVisibleClass),v.progress=o?-E:E,v.originalProgress=o?-N:N}}function $j(n){const e=this;if(typeof n>"u"){const w=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*w||0}const t=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:c,isEnd:d,progressLoop:_}=e;const p=c,v=d;if(s===0)o=0,c=!0,d=!0;else{o=(n-e.minTranslate())/s;const w=Math.abs(n-e.minTranslate())<1,E=Math.abs(n-e.maxTranslate())<1;c=w||o<=0,d=E||o>=1,w&&(o=0),E&&(o=1)}if(t.loop){const w=e.getSlideIndexByData(0),E=e.getSlideIndexByData(e.slides.length-1),N=e.slidesGrid[w],R=e.slidesGrid[E],j=e.slidesGrid[e.slidesGrid.length-1],U=Math.abs(n);U>=N?_=(U-N)/j:_=(U+j-R)/j,_>1&&(_-=1)}Object.assign(e,{progress:o,progressLoop:_,isBeginning:c,isEnd:d}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),c&&!p&&e.emit("reachBeginning toEdge"),d&&!v&&e.emit("reachEnd toEdge"),(p&&!c||v&&!d)&&e.emit("fromEdge"),e.emit("progress",o)}const qg=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Yj(){const n=this,{slides:e,params:t,slidesEl:s,activeIndex:o}=n,c=n.virtual&&t.virtual.enabled,d=n.grid&&t.grid&&t.grid.rows>1,_=E=>Mr(s,`.${t.slideClass}${E}, swiper-slide${E}`)[0];let p,v,w;if(c)if(t.loop){let E=o-n.virtual.slidesBefore;E<0&&(E=n.virtual.slides.length+E),E>=n.virtual.slides.length&&(E-=n.virtual.slides.length),p=_(`[data-swiper-slide-index="${E}"]`)}else p=_(`[data-swiper-slide-index="${o}"]`);else d?(p=e.find(E=>E.column===o),w=e.find(E=>E.column===o+1),v=e.find(E=>E.column===o-1)):p=e[o];p&&(d||(w=kj(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!w&&(w=e[0]),v=Oj(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v===0&&(v=e[e.length-1]))),e.forEach(E=>{qg(E,E===p,t.slideActiveClass),qg(E,E===w,t.slideNextClass),qg(E,E===v,t.slidePrevClass)}),n.emitSlidesClasses()}const bf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,s=e.closest(t());if(s){let o=s.querySelector(`.${n.params.lazyPreloaderClass}`);!o&&n.isElement&&(s.shadowRoot?o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),o&&!o.lazyPreloaderManaged&&o.remove())})),o&&!o.lazyPreloaderManaged&&o.remove()}},Fg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Ny=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const s=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),o=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const d=o,_=[d-e];_.push(...Array.from({length:e}).map((p,v)=>d+s+v)),n.slides.forEach((p,v)=>{_.includes(p.column)&&Fg(n,v)});return}const c=o+s-1;if(n.params.rewind||n.params.loop)for(let d=o-e;d<=c+e;d+=1){const _=(d%t+t)%t;(_<o||_>c)&&Fg(n,_)}else for(let d=Math.max(o-e,0);d<=Math.min(c+e,t-1);d+=1)d!==o&&(d>c||d<o)&&Fg(n,d)};function Kj(n){const{slidesGrid:e,params:t}=n,s=n.rtlTranslate?n.translate:-n.translate;let o;for(let c=0;c<e.length;c+=1)typeof e[c+1]<"u"?s>=e[c]&&s<e[c+1]-(e[c+1]-e[c])/2?o=c:s>=e[c]&&s<e[c+1]&&(o=c+1):s>=e[c]&&(o=c);return t.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function Wj(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:o,activeIndex:c,realIndex:d,snapIndex:_}=e;let p=n,v;const w=R=>{let j=R-e.virtual.slidesBefore;return j<0&&(j=e.virtual.slides.length+j),j>=e.virtual.slides.length&&(j-=e.virtual.slides.length),j};if(typeof p>"u"&&(p=Kj(e)),s.indexOf(t)>=0)v=s.indexOf(t);else{const R=Math.min(o.slidesPerGroupSkip,p);v=R+Math.floor((p-R)/o.slidesPerGroup)}if(v>=s.length&&(v=s.length-1),p===c&&!e.params.loop){v!==_&&(e.snapIndex=v,e.emit("snapIndexChange"));return}if(p===c&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=w(p);return}const E=e.grid&&o.grid&&o.grid.rows>1;let N;if(e.virtual&&o.virtual.enabled)o.loop?N=w(p):N=p;else if(E){const R=e.slides.find(U=>U.column===p);let j=parseInt(R.getAttribute("data-swiper-slide-index"),10);Number.isNaN(j)&&(j=Math.max(e.slides.indexOf(R),0)),N=Math.floor(j/o.grid.rows)}else if(e.slides[p]){const R=e.slides[p].getAttribute("data-swiper-slide-index");R?N=parseInt(R,10):N=p}else N=p;Object.assign(e,{previousSnapIndex:_,snapIndex:v,previousRealIndex:d,realIndex:N,previousIndex:c,activeIndex:p}),e.initialized&&Ny(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(d!==N&&e.emit("realIndexChange"),e.emit("slideChange"))}function Qj(n,e){const t=this,s=t.params;let o=n.closest(`.${s.slideClass}, swiper-slide`);!o&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(_=>{!o&&_.matches&&_.matches(`.${s.slideClass}, swiper-slide`)&&(o=_)});let c=!1,d;if(o){for(let _=0;_<t.slides.length;_+=1)if(t.slides[_]===o){c=!0,d=_;break}}if(o&&c)t.clickedSlide=o,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Xj={updateSize:Hj,updateSlides:qj,updateAutoHeight:Fj,updateSlidesOffset:Gj,updateSlidesProgress:Zj,updateProgress:$j,updateSlidesClasses:Yj,updateActiveIndex:Wj,updateClickedSlide:Qj};function Jj(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:s,translate:o,wrapperEl:c}=e;if(t.virtualTranslate)return s?-o:o;if(t.cssMode)return o;let d=Ij(c,n);return d+=e.cssOverflowAdjustment(),s&&(d=-d),d||0}function e3(n,e){const t=this,{rtlTranslate:s,params:o,wrapperEl:c,progress:d}=t;let _=0,p=0;const v=0;t.isHorizontal()?_=s?-n:n:p=n,o.roundLengths&&(_=Math.floor(_),p=Math.floor(p)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?_:p,o.cssMode?c[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-_:-p:o.virtualTranslate||(t.isHorizontal()?_-=t.cssOverflowAdjustment():p-=t.cssOverflowAdjustment(),c.style.transform=`translate3d(${_}px, ${p}px, ${v}px)`);let w;const E=t.maxTranslate()-t.minTranslate();E===0?w=0:w=(n-t.minTranslate())/E,w!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function t3(){return-this.snapGrid[0]}function n3(){return-this.snapGrid[this.snapGrid.length-1]}function i3(n=0,e=this.params.speed,t=!0,s=!0,o){const c=this,{params:d,wrapperEl:_}=c;if(c.animating&&d.preventInteractionOnTransition)return!1;const p=c.minTranslate(),v=c.maxTranslate();let w;if(s&&n>p?w=p:s&&n<v?w=v:w=n,c.updateProgress(w),d.cssMode){const E=c.isHorizontal();if(e===0)_[E?"scrollLeft":"scrollTop"]=-w;else{if(!c.support.smoothScroll)return LS({swiper:c,targetPosition:-w,side:E?"left":"top"}),!0;_.scrollTo({[E?"left":"top"]:-w,behavior:"smooth"})}return!0}return e===0?(c.setTransition(0),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionEnd"))):(c.setTransition(e),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(N){!c||c.destroyed||N.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,c.animating=!1,t&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}var s3={getTranslate:Jj,setTranslate:e3,minTranslate:t3,maxTranslate:n3,translateTo:i3};function r3(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function VS({swiper:n,runCallbacks:e,direction:t,step:s}){const{activeIndex:o,previousIndex:c}=n;let d=t;d||(o>c?d="next":o<c?d="prev":d="reset"),n.emit(`transition${s}`),e&&d==="reset"?n.emit(`slideResetTransition${s}`):e&&o!==c&&(n.emit(`slideChangeTransition${s}`),d==="next"?n.emit(`slideNextTransition${s}`):n.emit(`slidePrevTransition${s}`))}function a3(n=!0,e){const t=this,{params:s}=t;s.cssMode||(s.autoHeight&&t.updateAutoHeight(),VS({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function o3(n=!0,e){const t=this,{params:s}=t;t.animating=!1,!s.cssMode&&(t.setTransition(0),VS({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var l3={setTransition:r3,transitionStart:a3,transitionEnd:o3};function c3(n=0,e,t=!0,s,o){typeof n=="string"&&(n=parseInt(n,10));const c=this;let d=n;d<0&&(d=0);const{params:_,snapGrid:p,slidesGrid:v,previousIndex:w,activeIndex:E,rtlTranslate:N,wrapperEl:R,enabled:j}=c;if(!j&&!s&&!o||c.destroyed||c.animating&&_.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=c.params.speed);const U=Math.min(c.params.slidesPerGroupSkip,d);let k=U+Math.floor((d-U)/c.params.slidesPerGroup);k>=p.length&&(k=p.length-1);const O=-p[k];if(_.normalizeSlideIndex)for(let q=0;q<v.length;q+=1){const I=-Math.floor(O*100),Z=Math.floor(v[q]*100),G=Math.floor(v[q+1]*100);typeof v[q+1]<"u"?I>=Z&&I<G-(G-Z)/2?d=q:I>=Z&&I<G&&(d=q+1):I>=Z&&(d=q)}if(c.initialized&&d!==E&&(!c.allowSlideNext&&(N?O>c.translate&&O>c.minTranslate():O<c.translate&&O<c.minTranslate())||!c.allowSlidePrev&&O>c.translate&&O>c.maxTranslate()&&(E||0)!==d))return!1;d!==(w||0)&&t&&c.emit("beforeSlideChangeStart"),c.updateProgress(O);let B;d>E?B="next":d<E?B="prev":B="reset";const $=c.virtual&&c.params.virtual.enabled;if(!($&&o)&&(N&&-O===c.translate||!N&&O===c.translate))return c.updateActiveIndex(d),_.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),_.effect!=="slide"&&c.setTranslate(O),B!=="reset"&&(c.transitionStart(t,B),c.transitionEnd(t,B)),!1;if(_.cssMode){const q=c.isHorizontal(),I=N?O:-O;if(e===0)$&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),$&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{R[q?"scrollLeft":"scrollTop"]=I})):R[q?"scrollLeft":"scrollTop"]=I,$&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1});else{if(!c.support.smoothScroll)return LS({swiper:c,targetPosition:I,side:q?"left":"top"}),!0;R.scrollTo({[q?"left":"top"]:I,behavior:"smooth"})}return!0}const ye=jS().isSafari;return $&&!o&&ye&&c.isElement&&c.virtual.update(!1,!1,d),c.setTransition(e),c.setTranslate(O),c.updateActiveIndex(d),c.updateSlidesClasses(),c.emit("beforeTransitionStart",e,s),c.transitionStart(t,B),e===0?c.transitionEnd(t,B):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(I){!c||c.destroyed||I.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(t,B))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0}function u3(n=0,e,t=!0,s){typeof n=="string"&&(n=parseInt(n,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const c=o.grid&&o.params.grid&&o.params.grid.rows>1;let d=n;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)d=d+o.virtual.slidesBefore;else{let _;if(c){const U=d*o.params.grid.rows;_=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===U).column}else _=o.getSlideIndexByData(d);const p=c?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:v,slidesOffsetBefore:w,slidesOffsetAfter:E}=o.params,N=v||!!w||!!E;let R=o.params.slidesPerView;R==="auto"?R=o.slidesPerViewDynamic():(R=Math.ceil(parseFloat(o.params.slidesPerView,10)),N&&R%2===0&&(R=R+1));let j=p-_<R;if(N&&(j=j||_<Math.ceil(R/2)),s&&N&&o.params.slidesPerView!=="auto"&&!c&&(j=!1),j){const U=N?_<o.activeIndex?"prev":"next":_-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:U,slideTo:!0,activeSlideIndex:U==="next"?_+1:_-p+1,slideRealIndex:U==="next"?o.realIndex:void 0})}if(c){const U=d*o.params.grid.rows;d=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===U).column}else d=o.getSlideIndexByData(d)}return requestAnimationFrame(()=>{o.slideTo(d,e,t,s)}),o}function h3(n,e=!0,t){const s=this,{enabled:o,params:c,animating:d}=s;if(!o||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);let _=c.slidesPerGroup;c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(_=Math.max(s.slidesPerViewDynamic("current",!0),1));const p=s.activeIndex<c.slidesPerGroupSkip?1:_,v=s.virtual&&c.virtual.enabled;if(c.loop){if(d&&!v&&c.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&c.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+p,n,e,t)}),!0}return c.rewind&&s.isEnd?s.slideTo(0,n,e,t):s.slideTo(s.activeIndex+p,n,e,t)}function d3(n,e=!0,t){const s=this,{params:o,snapGrid:c,slidesGrid:d,rtlTranslate:_,enabled:p,animating:v}=s;if(!p||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);const w=s.virtual&&o.virtual.enabled;if(o.loop){if(v&&!w&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const E=_?s.translate:-s.translate;function N(B){return B<0?-Math.floor(Math.abs(B)):Math.floor(B)}const R=N(E),j=c.map(B=>N(B)),U=o.freeMode&&o.freeMode.enabled;let k=c[j.indexOf(R)-1];if(typeof k>"u"&&(o.cssMode||U)){let B;c.forEach(($,te)=>{R>=$&&(B=te)}),typeof B<"u"&&(k=U?c[B]:c[B>0?B-1:B])}let O=0;if(typeof k<"u"&&(O=d.indexOf(k),O<0&&(O=s.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(O=O-s.slidesPerViewDynamic("previous",!0)+1,O=Math.max(O,0))),o.rewind&&s.isBeginning){const B=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(B,n,e,t)}else if(o.loop&&s.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(O,n,e,t)}),!0;return s.slideTo(O,n,e,t)}function f3(n,e=!0,t){const s=this;if(!s.destroyed)return typeof n>"u"&&(n=s.params.speed),s.slideTo(s.activeIndex,n,e,t)}function m3(n,e=!0,t,s=.5){const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);let c=o.activeIndex;const d=Math.min(o.params.slidesPerGroupSkip,c),_=d+Math.floor((c-d)/o.params.slidesPerGroup),p=o.rtlTranslate?o.translate:-o.translate;if(p>=o.snapGrid[_]){const v=o.snapGrid[_],w=o.snapGrid[_+1];p-v>(w-v)*s&&(c+=o.params.slidesPerGroup)}else{const v=o.snapGrid[_-1],w=o.snapGrid[_];p-v<=(w-v)*s&&(c-=o.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,o.slidesGrid.length-1),o.slideTo(c,n,e,t)}function p3(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,s=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let o=n.getSlideIndexWhenGrid(n.clickedIndex),c;const d=n.isElement?"swiper-slide":`.${e.slideClass}`,_=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;c=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(c):o>(_?(n.slides.length-s)/2-(n.params.grid.rows-1):n.slides.length-s)?(n.loopFix(),o=n.getSlideIndex(Mr(t,`${d}[data-swiper-slide-index="${c}"]`)[0]),MS(()=>{n.slideTo(o)})):n.slideTo(o)}else n.slideTo(o)}var g3={slideTo:c3,slideToLoop:u3,slideNext:h3,slidePrev:d3,slideReset:f3,slideToClosest:m3,slideToClickedSlide:p3};function y3(n,e){const t=this,{params:s,slidesEl:o}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;const c=()=>{Mr(o,`.${s.slideClass}, swiper-slide`).forEach((j,U)=>{j.setAttribute("data-swiper-slide-index",U)})},d=()=>{const R=Mr(o,`.${s.slideBlankClass}`);R.forEach(j=>{j.remove()}),R.length>0&&(t.recalcSlides(),t.updateSlides())},_=t.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||_)&&d();const p=s.slidesPerGroup*(_?s.grid.rows:1),v=t.slides.length%p!==0,w=_&&t.slides.length%s.grid.rows!==0,E=R=>{for(let j=0;j<R;j+=1){const U=t.isElement?Qf("swiper-slide",[s.slideBlankClass]):Qf("div",[s.slideClass,s.slideBlankClass]);t.slidesEl.append(U)}};if(v){if(s.loopAddBlankSlides){const R=p-t.slides.length%p;E(R),t.recalcSlides(),t.updateSlides()}else Wf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else if(w){if(s.loopAddBlankSlides){const R=s.grid.rows-t.slides.length%s.grid.rows;E(R),t.recalcSlides(),t.updateSlides()}else Wf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else c();const N=s.centeredSlides||!!s.slidesOffsetBefore||!!s.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:N?void 0:"next",initial:e})}function _3({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:s,activeSlideIndex:o,initial:c,byController:d,byMousewheel:_}={}){const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:v,allowSlidePrev:w,allowSlideNext:E,slidesEl:N,params:R}=p,{centeredSlides:j,slidesOffsetBefore:U,slidesOffsetAfter:k,initialSlide:O}=R,B=j||!!U||!!k;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&R.virtual.enabled){e&&(!B&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):B&&p.snapIndex<R.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=E,p.emit("loopFix");return}let $=R.slidesPerView;$==="auto"?$=p.slidesPerViewDynamic():($=Math.ceil(parseFloat(R.slidesPerView,10)),B&&$%2===0&&($=$+1));const te=R.slidesPerGroupAuto?$:R.slidesPerGroup;let ne=B?Math.max(te,Math.ceil($/2)):te;ne%te!==0&&(ne+=te-ne%te),ne+=R.loopAdditionalSlides,p.loopedSlides=ne;const ye=p.grid&&R.grid&&R.grid.rows>1;v.length<$+ne||p.params.effect==="cards"&&v.length<$+ne*2?Wf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):ye&&R.grid.fill==="row"&&Wf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const q=[],I=[],Z=ye?Math.ceil(v.length/R.grid.rows):v.length,G=c&&Z-O<$&&!B;let H=G?O:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(v.find(ee=>ee.classList.contains(R.slideActiveClass))):H=o;const Y=t==="next"||!t,F=t==="prev"||!t;let de=0,Re=0;const Se=(ye?v[o].column:o)+(B&&typeof s>"u"?-$/2+.5:0);if(Se<ne){de=Math.max(ne-Se,te);for(let ee=0;ee<ne-Se;ee+=1){const fe=ee-Math.floor(ee/Z)*Z;if(ye){const _e=Z-fe-1;for(let D=v.length-1;D>=0;D-=1)v[D].column===_e&&q.push(D)}else q.push(Z-fe-1)}}else if(Se+$>Z-ne){Re=Math.max(Se-(Z-ne*2),te),G&&(Re=Math.max(Re,$-Z+O+1));for(let ee=0;ee<Re;ee+=1){const fe=ee-Math.floor(ee/Z)*Z;ye?v.forEach((_e,D)=>{_e.column===fe&&I.push(D)}):I.push(fe)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&v.length<$+ne*2&&(I.includes(o)&&I.splice(I.indexOf(o),1),q.includes(o)&&q.splice(q.indexOf(o),1)),F&&q.forEach(ee=>{v[ee].swiperLoopMoveDOM=!0,N.prepend(v[ee]),v[ee].swiperLoopMoveDOM=!1}),Y&&I.forEach(ee=>{v[ee].swiperLoopMoveDOM=!0,N.append(v[ee]),v[ee].swiperLoopMoveDOM=!1}),p.recalcSlides(),R.slidesPerView==="auto"?p.updateSlides():ye&&(q.length>0&&F||I.length>0&&Y)&&p.slides.forEach((ee,fe)=>{p.grid.updateSlide(fe,ee,p.slides)}),R.watchSlidesProgress&&p.updateSlidesOffset(),e){if(q.length>0&&F){if(typeof n>"u"){const ee=p.slidesGrid[H],_e=p.slidesGrid[H+de]-ee;_?p.setTranslate(p.translate-_e):(p.slideTo(H+Math.ceil(de),0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-_e,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-_e))}else if(s){const ee=ye?q.length/R.grid.rows:q.length;p.slideTo(p.activeIndex+ee,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(I.length>0&&Y)if(typeof n>"u"){const ee=p.slidesGrid[H],_e=p.slidesGrid[H-Re]-ee;_?p.setTranslate(p.translate-_e):(p.slideTo(H-Re,0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-_e,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-_e))}else{const ee=ye?I.length/R.grid.rows:I.length;p.slideTo(p.activeIndex-ee,0,!1,!0)}}if(p.allowSlidePrev=w,p.allowSlideNext=E,p.controller&&p.controller.control&&!d){const ee={slideRealIndex:n,direction:t,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(fe=>{!fe.destroyed&&fe.params.loop&&fe.loopFix({...ee,slideTo:fe.params.slidesPerView===R.slidesPerView?e:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...ee,slideTo:p.controller.control.params.slidesPerView===R.slidesPerView?e:!1})}p.emit("loopFix")}function v3(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const s=[];n.slides.forEach(o=>{const c=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;s[c]=o}),n.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),s.forEach(o=>{t.append(o)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var b3={loopCreate:y3,loopFix:_3,loopDestroy:v3};function x3(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function w3(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var E3={setGrabCursor:x3,unsetGrabCursor:w3};function T3(n,e=this){function t(s){if(!s||s===Xl()||s===xi())return null;s.assignedSlot&&(s=s.assignedSlot);const o=s.closest(n);return!o&&!s.getRootNode?null:o||t(s.getRootNode().host)}return t(e)}function e1(n,e,t){const s=xi(),{params:o}=n,c=o.edgeSwipeDetection,d=o.edgeSwipeThreshold;return c&&(t<=d||t>=s.innerWidth-d)?c==="prevent"?(e.preventDefault(),!0):!1:!0}function S3(n){const e=this,t=Xl();let s=n;s.originalEvent&&(s=s.originalEvent);const o=e.touchEventsData;if(s.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(o.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){e1(e,s,s.targetTouches[0].pageX);return}const{params:c,touches:d,enabled:_}=e;if(!_||!c.simulateTouch&&s.pointerType==="mouse"||e.animating&&c.preventInteractionOnTransition)return;!e.animating&&c.cssMode&&c.loop&&e.loopFix();let p=s.target;if(c.touchEventsTarget==="wrapper"&&!Lj(p,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||o.isTouched&&o.isMoved)return;const v=!!c.noSwipingClass&&c.noSwipingClass!=="",w=s.composedPath?s.composedPath():s.path;v&&s.target&&s.target.shadowRoot&&w&&(p=w[0]);const E=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`,N=!!(s.target&&s.target.shadowRoot);if(c.noSwiping&&(N?T3(E,p):p.closest(E))){e.allowClick=!0;return}if(c.swipeHandler&&!p.closest(c.swipeHandler))return;d.currentX=s.pageX,d.currentY=s.pageY;const R=d.currentX,j=d.currentY;if(!e1(e,s,R))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=R,d.startY=j,o.touchStartTime=Kf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,c.threshold>0&&(o.allowThresholdMove=!1);let U=!0;p.matches(o.focusableElements)&&(U=!1,p.nodeName==="SELECT"&&(o.isTouched=!1)),t.activeElement&&t.activeElement.matches(o.focusableElements)&&t.activeElement!==p&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!p.matches(o.focusableElements))&&t.activeElement.blur();const k=U&&e.allowTouchMove&&c.touchStartPreventDefault;(c.touchStartForcePreventDefault||k)&&!p.isContentEditable&&s.preventDefault(),c.freeMode&&c.freeMode.enabled&&e.freeMode&&e.animating&&!c.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function A3(n){const e=Xl(),t=this,s=t.touchEventsData,{params:o,touches:c,rtlTranslate:d,enabled:_}=t;if(!_||!o.simulateTouch&&n.pointerType==="mouse")return;let p=n;if(p.originalEvent&&(p=p.originalEvent),p.type==="pointermove"&&(s.touchId!==null||p.pointerId!==s.pointerId))return;let v;if(p.type==="touchmove"){if(v=[...p.changedTouches].find(ne=>ne.identifier===s.touchId),!v||v.identifier!==s.touchId)return}else v=p;if(!s.isTouched){s.startMoving&&s.isScrolling&&t.emit("touchMoveOpposite",p);return}const w=v.pageX,E=v.pageY;if(p.preventedByNestedSwiper){c.startX=w,c.startY=E;return}if(!t.allowTouchMove){p.target.matches(s.focusableElements)||(t.allowClick=!1),s.isTouched&&(Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E}),s.touchStartTime=Kf());return}if(o.touchReleaseOnEdges&&!o.loop)if(t.isVertical()){if(E<c.startY&&t.translate<=t.maxTranslate()||E>c.startY&&t.translate>=t.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(d&&(w>c.startX&&-t.translate<=t.maxTranslate()||w<c.startX&&-t.translate>=t.minTranslate()))return;if(!d&&(w<c.startX&&t.translate<=t.maxTranslate()||w>c.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==p.target&&p.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&p.target===e.activeElement&&p.target.matches(s.focusableElements)){s.isMoved=!0,t.allowClick=!1;return}s.allowTouchCallbacks&&t.emit("touchMove",p),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=w,c.currentY=E;const N=c.currentX-c.startX,R=c.currentY-c.startY;if(t.params.threshold&&Math.sqrt(N**2+R**2)<t.params.threshold)return;if(typeof s.isScrolling>"u"){let ne;t.isHorizontal()&&c.currentY===c.startY||t.isVertical()&&c.currentX===c.startX?s.isScrolling=!1:N*N+R*R>=25&&(ne=Math.atan2(Math.abs(R),Math.abs(N))*180/Math.PI,s.isScrolling=t.isHorizontal()?ne>o.touchAngle:90-ne>o.touchAngle)}if(s.isScrolling&&t.emit("touchMoveOpposite",p),typeof s.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(s.startMoving=!0),s.isScrolling||p.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;t.allowClick=!1,!o.cssMode&&p.cancelable&&p.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&p.stopPropagation();let j=t.isHorizontal()?N:R,U=t.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;o.oneWayMovement&&(j=Math.abs(j)*(d?1:-1),U=Math.abs(U)*(d?1:-1)),c.diff=j,j*=o.touchRatio,d&&(j=-j,U=-U);const k=t.touchesDirection;t.swipeDirection=j>0?"prev":"next",t.touchesDirection=U>0?"prev":"next";const O=t.params.loop&&!o.cssMode,B=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!s.isMoved){if(O&&B&&t.loopFix({direction:t.swipeDirection}),s.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const ne=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ne)}s.allowMomentumBounce=!1,o.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",p)}if(new Date().getTime(),o._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&k!==t.touchesDirection&&O&&B&&Math.abs(j)>=1){Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}t.emit("sliderMove",p),s.isMoved=!0,s.currentTranslate=j+s.startTranslate;let $=!0,te=o.resistanceRatio;if(o.touchReleaseOnEdges&&(te=0),j>0?(O&&B&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>t.minTranslate()&&($=!1,o.resistance&&(s.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+s.startTranslate+j)**te))):j<0&&(O&&B&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(o.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<t.maxTranslate()&&($=!1,o.resistance&&(s.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-s.startTranslate-j)**te))),$&&(p.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0)if(Math.abs(j)>o.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,s.currentTranslate=s.startTranslate,c.diff=t.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY;return}}else{s.currentTranslate=s.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&t.freeMode||o.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(s.currentTranslate),t.setTranslate(s.currentTranslate))}function C3(n){const e=this,t=e.touchEventsData;let s=n;s.originalEvent&&(s=s.originalEvent);let o;if(s.type==="touchend"||s.type==="touchcancel"){if(o=[...s.changedTouches].find(ne=>ne.identifier===t.touchId),!o||o.identifier!==t.touchId)return}else{if(t.touchId!==null||s.pointerId!==t.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:d,touches:_,rtlTranslate:p,slidesGrid:v,enabled:w}=e;if(!w||!d.simulateTouch&&s.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",s),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&d.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}d.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const E=Kf(),N=E-t.touchStartTime;if(e.allowClick){const ne=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(ne&&ne[0]||s.target,ne),e.emit("tap click",s),N<300&&E-t.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(t.lastClickTime=Kf(),MS(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||_.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let R;if(d.followFinger?R=p?e.translate:-e.translate:R=-t.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:R});return}const j=R>=-e.maxTranslate()&&!e.params.loop;let U=0,k=e.slidesSizesGrid[0];for(let ne=0;ne<v.length;ne+=ne<d.slidesPerGroupSkip?1:d.slidesPerGroup){const ye=ne<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof v[ne+ye]<"u"?(j||R>=v[ne]&&R<v[ne+ye])&&(U=ne,k=v[ne+ye]-v[ne]):(j||R>=v[ne])&&(U=ne,k=v[v.length-1]-v[v.length-2])}let O=null,B=null;d.rewind&&(e.isBeginning?B=d.virtual&&d.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(O=0));const $=(R-v[U])/k,te=U<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(N>d.longSwipesMs){if(!d.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&($>=d.longSwipesRatio?e.slideTo(d.rewind&&e.isEnd?O:U+te):e.slideTo(U)),e.swipeDirection==="prev"&&($>1-d.longSwipesRatio?e.slideTo(U+te):B!==null&&$<0&&Math.abs($)>d.longSwipesRatio?e.slideTo(B):e.slideTo(U))}else{if(!d.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(U+te):e.slideTo(U):(e.swipeDirection==="next"&&e.slideTo(O!==null?O:U+te),e.swipeDirection==="prev"&&e.slideTo(B!==null?B:U))}}function t1(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:c}=n,d=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const _=d&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!_?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!d?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=o,n.allowSlideNext=s,n.params.watchOverflow&&c!==n.snapGrid&&n.checkOverflow()}function N3(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function R3(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:s}=n;if(!s)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let o;const c=n.maxTranslate()-n.minTranslate();c===0?o=0:o=(n.translate-n.minTranslate())/c,o!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function I3(n){const e=this;bf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function P3(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const zS=(n,e)=>{const t=Xl(),{params:s,el:o,wrapperEl:c,device:d}=n,_=!!s.nested,p=e==="on"?"addEventListener":"removeEventListener",v=e;!o||typeof o=="string"||(t[p]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:_}),o[p]("touchstart",n.onTouchStart,{passive:!1}),o[p]("pointerdown",n.onTouchStart,{passive:!1}),t[p]("touchmove",n.onTouchMove,{passive:!1,capture:_}),t[p]("pointermove",n.onTouchMove,{passive:!1,capture:_}),t[p]("touchend",n.onTouchEnd,{passive:!0}),t[p]("pointerup",n.onTouchEnd,{passive:!0}),t[p]("pointercancel",n.onTouchEnd,{passive:!0}),t[p]("touchcancel",n.onTouchEnd,{passive:!0}),t[p]("pointerout",n.onTouchEnd,{passive:!0}),t[p]("pointerleave",n.onTouchEnd,{passive:!0}),t[p]("contextmenu",n.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[p]("click",n.onClick,!0),s.cssMode&&c[p]("scroll",n.onScroll),s.updateOnWindowResize?n[v](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",t1,!0):n[v]("observerUpdate",t1,!0),o[p]("load",n.onLoad,{capture:!0}))};function M3(){const n=this,{params:e}=n;n.onTouchStart=S3.bind(n),n.onTouchMove=A3.bind(n),n.onTouchEnd=C3.bind(n),n.onDocumentTouchStart=P3.bind(n),e.cssMode&&(n.onScroll=R3.bind(n)),n.onClick=N3.bind(n),n.onLoad=I3.bind(n),zS(n,"on")}function L3(){zS(this,"off")}var O3={attachEvents:M3,detachEvents:L3};const n1=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function k3(){const n=this,{realIndex:e,initialized:t,params:s,el:o}=n,c=s.breakpoints;if(!c||c&&Object.keys(c).length===0)return;const d=Xl(),_=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",p=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?n.el:d.querySelector(s.breakpointsBase),v=n.getBreakpoint(c,_,p);if(!v||n.currentBreakpoint===v)return;const E=(v in c?c[v]:void 0)||n.originalParams,N=n1(n,s),R=n1(n,E),j=n.params.grabCursor,U=E.grabCursor,k=s.enabled;N&&!R?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),n.emitContainerClasses()):!N&&R&&(o.classList.add(`${s.containerModifierClass}grid`),(E.grid.fill&&E.grid.fill==="column"||!E.grid.fill&&s.grid.fill==="column")&&o.classList.add(`${s.containerModifierClass}grid-column`),n.emitContainerClasses()),j&&!U?n.unsetGrabCursor():!j&&U&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ye=>{if(typeof E[ye]>"u")return;const q=s[ye]&&s[ye].enabled,I=E[ye]&&E[ye].enabled;q&&!I&&n[ye].disable(),!q&&I&&n[ye].enable()});const O=E.direction&&E.direction!==s.direction,B=s.loop&&(E.slidesPerView!==s.slidesPerView||O),$=s.loop;O&&t&&n.changeDirection(),ls(n.params,E);const te=n.params.enabled,ne=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),k&&!te?n.disable():!k&&te&&n.enable(),n.currentBreakpoint=v,n.emit("_beforeBreakpoint",E),t&&(B?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!$&&ne?(n.loopCreate(e),n.updateSlides()):$&&!ne&&n.loopDestroy()),n.emit("breakpoint",E)}function D3(n,e="window",t){if(!n||e==="container"&&!t)return;let s=!1;const o=xi(),c=e==="window"?o.innerHeight:t.clientHeight,d=Object.keys(n).map(_=>{if(typeof _=="string"&&_.indexOf("@")===0){const p=parseFloat(_.substr(1));return{value:c*p,point:_}}return{value:_,point:_}});d.sort((_,p)=>parseInt(_.value,10)-parseInt(p.value,10));for(let _=0;_<d.length;_+=1){const{point:p,value:v}=d[_];e==="window"?o.matchMedia(`(min-width: ${v}px)`).matches&&(s=p):v<=t.clientWidth&&(s=p)}return s||"max"}var j3={setBreakpoint:k3,getBreakpoint:D3};function V3(n,e){const t=[];return n.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(o=>{s[o]&&t.push(e+o)}):typeof s=="string"&&t.push(e+s)}),t}function z3(){const n=this,{classNames:e,params:t,rtl:s,el:o,device:c}=n,d=V3(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:s},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:c.android},{ios:c.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),o.classList.add(...e),n.emitContainerClasses()}function U3(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var B3={addClasses:z3,removeClasses:U3};function H3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:s}=t;if(s){const o=n.slides.length-1,c=n.slidesGrid[o]+n.slidesSizesGrid[o]+s*2;n.isLocked=n.size>c}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var q3={checkOverflow:H3},Ry={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function F3(n,e){return function(s={}){const o=Object.keys(s)[0],c=s[o];if(typeof c!="object"||c===null){ls(e,s);return}if(n[o]===!0&&(n[o]={enabled:!0}),o==="navigation"&&n[o]&&n[o].enabled&&!n[o].prevEl&&!n[o].nextEl&&(n[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&n[o]&&n[o].enabled&&!n[o].el&&(n[o].auto=!0),!(o in n&&"enabled"in c)){ls(e,s);return}typeof n[o]=="object"&&!("enabled"in n[o])&&(n[o].enabled=!0),n[o]||(n[o]={enabled:!1}),ls(e,s)}}const Gg={eventsEmitter:Bj,update:Xj,translate:s3,transition:l3,slide:g3,loop:b3,grabCursor:E3,events:O3,breakpoints:j3,checkOverflow:q3,classes:B3},Zg={};let Y_=class ya{constructor(...e){let t,s;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?s=e[0]:[t,s]=e,s||(s={}),s=ls({},s),t&&!s.el&&(s.el=t);const o=Xl();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){const p=[];return o.querySelectorAll(s.el).forEach(v=>{const w=ls({},s,{el:v});p.push(new ya(w))}),p}const c=this;c.__swiper__=!0,c.support=kS(),c.device=DS({userAgent:s.userAgent}),c.browser=jS(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],s.modules&&Array.isArray(s.modules)&&c.modules.push(...s.modules);const d={};c.modules.forEach(p=>{p({params:s,swiper:c,extendParams:F3(s,d),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const _=ls({},Ry,d);return c.params=ls({},_,Zg,s),c.originalParams=ls({},c.params),c.passedParams=ls({},s),c.params&&c.params.on&&Object.keys(c.params.on).forEach(p=>{c.on(p,c.params.on[p])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,o=Mr(t,`.${s.slideClass}, swiper-slide`),c=Xf(o[0]);return Xf(e)-c}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:s}=e;e.slides=Mr(t,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const o=s.minTranslate(),d=(s.maxTranslate()-o)*e+o;s.translateTo(d,typeof t>"u"?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const o=e.getSlideClasses(s);t.push({slideEl:s,classNames:o}),e.emit("_slideClass",s,o)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const s=this,{params:o,slides:c,slidesGrid:d,slidesSizesGrid:_,size:p,activeIndex:v}=s;let w=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let E=c[v]?Math.ceil(c[v].swiperSlideSize):0,N;for(let R=v+1;R<c.length;R+=1)c[R]&&!N&&(E+=Math.ceil(c[R].swiperSlideSize),w+=1,E>p&&(N=!0));for(let R=v-1;R>=0;R-=1)c[R]&&!N&&(E+=c[R].swiperSlideSize,w+=1,E>p&&(N=!0))}else if(e==="current")for(let E=v+1;E<c.length;E+=1)(t?d[E]+_[E]-d[v]<p:d[E]-d[v]<p)&&(w+=1);else for(let E=v-1;E>=0;E-=1)d[v]-d[E]<p&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&bf(e,d)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const d=e.rtlTranslate?e.translate*-1:e.translate,_=Math.min(Math.max(d,e.maxTranslate()),e.minTranslate());e.setTranslate(_),e.updateActiveIndex(),e.updateSlidesClasses()}let c;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)o(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const d=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;c=e.slideTo(d.length-1,0,!1,!0)}else c=e.slideTo(e.activeIndex,0,!1,!0);c||o()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,o=s.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${o}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(c=>{e==="vertical"?c.style.width="":c.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const o=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(o()):Mr(s,o())[0];return!d&&t.params.createElements&&(d=Qf("div",t.params.wrapperClass),s.append(d),Mr(s,`.${t.params.slideClass}`).forEach(_=>{d.append(_)})),Object.assign(t,{el:s,wrapperEl:d,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:d,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Io(s,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Io(s,"direction")==="rtl"),wrongRTL:Io(d,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const o=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&o.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(c=>{c.complete?bf(t,c):c.addEventListener("load",d=>{bf(t,d.target)})}),Ny(t),t.initialized=!0,Ny(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const s=this,{params:o,el:c,wrapperEl:d,slides:_}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),t&&(s.removeClasses(),c&&typeof c!="string"&&c.removeAttribute("style"),d&&d.removeAttribute("style"),_&&_.length&&_.forEach(p=>{p.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(p=>{s.off(p)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),Nj(s)),s.destroyed=!0),null}static extendDefaults(e){ls(Zg,e)}static get extendedDefaults(){return Zg}static get defaults(){return Ry}static installModule(e){ya.prototype.__modules__||(ya.prototype.__modules__=[]);const t=ya.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ya.installModule(t)),ya):(ya.installModule(e),ya)}};Object.keys(Gg).forEach(n=>{Object.keys(Gg[n]).forEach(e=>{Y_.prototype[e]=Gg[n][e]})});Y_.use([zj,Uj]);const US=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Zl(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Zc(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Zl(e[s])&&Zl(n[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?n[s]=e[s]:Zc(n[s],e[s]):n[s]=e[s]})}function BS(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function HS(n={}){return n.pagination&&typeof n.pagination.el>"u"}function qS(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function FS(n=""){const e=n.split(" ").map(s=>s.trim()).filter(s=>!!s),t=[];return e.forEach(s=>{t.indexOf(s)<0&&t.push(s)}),t.join(" ")}function G3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function Z3({swiper:n,slides:e,passedParams:t,changedParams:s,nextEl:o,prevEl:c,scrollbarEl:d,paginationEl:_}){const p=s.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:v,pagination:w,navigation:E,scrollbar:N,virtual:R,thumbs:j}=n;let U,k,O,B,$,te,ne,ye;s.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(U=!0),s.includes("controller")&&t.controller&&t.controller.control&&v.controller&&!v.controller.control&&(k=!0),s.includes("pagination")&&t.pagination&&(t.pagination.el||_)&&(v.pagination||v.pagination===!1)&&w&&!w.el&&(O=!0),s.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||d)&&(v.scrollbar||v.scrollbar===!1)&&N&&!N.el&&(B=!0),s.includes("navigation")&&t.navigation&&(t.navigation.prevEl||c)&&(t.navigation.nextEl||o)&&(v.navigation||v.navigation===!1)&&E&&!E.prevEl&&!E.nextEl&&($=!0);const q=I=>{n[I]&&(n[I].destroy(),I==="navigation"?(n.isElement&&(n[I].prevEl.remove(),n[I].nextEl.remove()),v[I].prevEl=void 0,v[I].nextEl=void 0,n[I].prevEl=void 0,n[I].nextEl=void 0):(n.isElement&&n[I].el.remove(),v[I].el=void 0,n[I].el=void 0))};s.includes("loop")&&n.isElement&&(v.loop&&!t.loop?te=!0:!v.loop&&t.loop?ne=!0:ye=!0),p.forEach(I=>{if(Zl(v[I])&&Zl(t[I]))Object.assign(v[I],t[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in t[I]&&!t[I].enabled&&q(I);else{const Z=t[I];(Z===!0||Z===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?Z===!1&&q(I):v[I]=t[I]}}),p.includes("controller")&&!k&&n.controller&&n.controller.control&&v.controller&&v.controller.control&&(n.controller.control=v.controller.control),s.includes("children")&&e&&R&&v.virtual.enabled?(R.slides=e,R.update(!0)):s.includes("virtual")&&R&&v.virtual.enabled&&(e&&(R.slides=e),R.update(!0)),s.includes("children")&&e&&v.loop&&(ye=!0),U&&j.init()&&j.update(!0),k&&(n.controller.control=v.controller.control),O&&(n.isElement&&(!_||typeof _=="string")&&(_=document.createElement("div"),_.classList.add("swiper-pagination"),_.part.add("pagination"),n.el.appendChild(_)),_&&(v.pagination.el=_),w.init(),w.render(),w.update()),B&&(n.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),n.el.appendChild(d)),d&&(v.scrollbar.el=d),N.init(),N.updateSize(),N.setTranslate()),$&&(n.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Ch(o,n.navigation.arrowSvg),o.part.add("button-next"),n.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),Ch(c,n.navigation.arrowSvg),c.part.add("button-prev"),n.el.appendChild(c))),o&&(v.navigation.nextEl=o),c&&(v.navigation.prevEl=c),E.init(),E.update()),s.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),s.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),s.includes("direction")&&n.changeDirection(t.direction,!1),(te||ye)&&n.loopDestroy(),(ne||ye)&&n.loopCreate(),n.update()}function $3(n={},e=!0){const t={on:{}},s={},o={};Zc(t,Ry),t._emitClasses=!0,t.init=!1;const c={},d=US.map(p=>p.replace(/_/,"")),_=Object.assign({},n);return Object.keys(_).forEach(p=>{typeof n[p]>"u"||(d.indexOf(p)>=0?Zl(n[p])?(t[p]={},o[p]={},Zc(t[p],n[p]),Zc(o[p],n[p])):(t[p]=n[p],o[p]=n[p]):p.search(/on[A-Z]/)===0&&typeof n[p]=="function"?e?s[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:t.on[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:c[p]=n[p])}),["navigation","pagination","scrollbar"].forEach(p=>{t[p]===!0&&(t[p]={}),t[p]===!1&&delete t[p]}),{params:t,passedParams:o,rest:c,events:s}}function Y3({el:n,nextEl:e,prevEl:t,paginationEl:s,scrollbarEl:o,swiper:c},d){BS(d)&&e&&t&&(c.params.navigation.nextEl=e,c.originalParams.navigation.nextEl=e,c.params.navigation.prevEl=t,c.originalParams.navigation.prevEl=t),HS(d)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),qS(d)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(n)}function K3(n,e,t,s,o){const c=[];if(!e)return c;const d=p=>{c.indexOf(p)<0&&c.push(p)};if(t&&s){const p=s.map(o),v=t.map(o);p.join("")!==v.join("")&&d("children"),s.length!==t.length&&d("children")}return US.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in n&&p in e)if(Zl(n[p])&&Zl(e[p])){const v=Object.keys(n[p]),w=Object.keys(e[p]);v.length!==w.length?d(p):(v.forEach(E=>{n[p][E]!==e[p][E]&&d(p)}),w.forEach(E=>{n[p][E]!==e[p][E]&&d(p)}))}else n[p]!==e[p]&&d(p)}),c}const W3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Jf(){return Jf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Jf.apply(this,arguments)}function GS(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function ZS(n){const e=[];return cn.Children.toArray(n).forEach(t=>{GS(t)?e.push(t):t.props&&t.props.children&&ZS(t.props.children).forEach(s=>e.push(s))}),e}function Q3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return cn.Children.toArray(n).forEach(s=>{if(GS(s))e.push(s);else if(s.props&&s.props.slot&&t[s.props.slot])t[s.props.slot].push(s);else if(s.props&&s.props.children){const o=ZS(s.props.children);o.length>0?o.forEach(c=>e.push(c)):t["container-end"].push(s)}else t["container-end"].push(s)}),{slides:e,slots:t}}function X3(n,e,t){if(!t)return null;const s=w=>{let E=w;return w<0?E=e.length+w:E>=e.length&&(E=E-e.length),E},o=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:c,to:d}=t,_=n.params.loop?-e.length:0,p=n.params.loop?e.length*2:e.length,v=[];for(let w=_;w<p;w+=1)w>=c&&w<=d&&v.push(e[s(w)]);return v.map((w,E)=>cn.cloneElement(w,{swiper:n,style:o,key:w.props.virtualIndex||w.key||`slide-${E}`}))}function mh(n,e){return typeof window>"u"?V.useEffect(n,e):V.useLayoutEffect(n,e)}const i1=V.createContext(null),J3=V.createContext(null),$S=V.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:s,onSwiper:o,...c}={},d)=>{let _=!1;const[p,v]=V.useState("swiper"),[w,E]=V.useState(null),[N,R]=V.useState(!1),j=V.useRef(!1),U=V.useRef(null),k=V.useRef(null),O=V.useRef(null),B=V.useRef(null),$=V.useRef(null),te=V.useRef(null),ne=V.useRef(null),ye=V.useRef(null),{params:q,passedParams:I,rest:Z,events:G}=$3(c),{slides:H,slots:Y}=Q3(s),F=()=>{R(!N)};Object.assign(q.on,{_containerClasses(ee,fe){v(fe)}});const de=()=>{Object.assign(q.on,G),_=!0;const ee={...q};if(delete ee.wrapperClass,k.current=new Y_(ee),k.current.virtual&&k.current.params.virtual.enabled){k.current.virtual.slides=H;const fe={cache:!1,slides:H,renderExternal:E,renderExternalUpdate:!1};Zc(k.current.params.virtual,fe),Zc(k.current.originalParams.virtual,fe)}};U.current||de(),k.current&&k.current.on("_beforeBreakpoint",F);const Re=()=>{_||!G||!k.current||Object.keys(G).forEach(ee=>{k.current.on(ee,G[ee])})},ae=()=>{!G||!k.current||Object.keys(G).forEach(ee=>{k.current.off(ee,G[ee])})};V.useEffect(()=>()=>{k.current&&k.current.off("_beforeBreakpoint",F)}),V.useEffect(()=>{!j.current&&k.current&&(k.current.emitSlidesClasses(),j.current=!0)}),mh(()=>{if(d&&(d.current=U.current),!!U.current)return k.current.destroyed&&de(),Y3({el:U.current,nextEl:$.current,prevEl:te.current,paginationEl:ne.current,scrollbarEl:ye.current,swiper:k.current},q),o&&!k.current.destroyed&&o(k.current),()=>{k.current&&!k.current.destroyed&&k.current.destroy(!0,!1)}},[]),mh(()=>{Re();const ee=K3(I,O.current,H,B.current,fe=>fe.key);return O.current=I,B.current=H,ee.length&&k.current&&!k.current.destroyed&&Z3({swiper:k.current,slides:H,passedParams:I,changedParams:ee,nextEl:$.current,prevEl:te.current,scrollbarEl:ye.current,paginationEl:ne.current}),()=>{ae()}}),mh(()=>{W3(k.current)},[w]);function Se(){return q.virtual?X3(k.current,H,w):H.map((ee,fe)=>cn.cloneElement(ee,{swiper:k.current,swiperSlideIndex:fe}))}return cn.createElement(e,Jf({ref:U,className:FS(`${p}${n?` ${n}`:""}`)},Z),cn.createElement(J3.Provider,{value:k.current},Y["container-start"],cn.createElement(t,{className:G3(q.wrapperClass)},Y["wrapper-start"],Se(),Y["wrapper-end"]),BS(q)&&cn.createElement(cn.Fragment,null,cn.createElement("div",{ref:te,className:"swiper-button-prev"}),cn.createElement("div",{ref:$,className:"swiper-button-next"})),qS(q)&&cn.createElement("div",{ref:ye,className:"swiper-scrollbar"}),HS(q)&&cn.createElement("div",{ref:ne,className:"swiper-pagination"}),Y["container-end"]))});$S.displayName="Swiper";const Iy=V.forwardRef(({tag:n="div",children:e,className:t="",swiper:s,zoom:o,lazy:c,virtualIndex:d,swiperSlideIndex:_,...p}={},v)=>{const w=V.useRef(null),[E,N]=V.useState("swiper-slide"),[R,j]=V.useState(!1);function U($,te,ne){te===w.current&&N(ne)}mh(()=>{if(typeof _<"u"&&(w.current.swiperSlideIndex=_),v&&(v.current=w.current),!(!w.current||!s)){if(s.destroyed){E!=="swiper-slide"&&N("swiper-slide");return}return s.on("_slideClass",U),()=>{s&&s.off("_slideClass",U)}}}),mh(()=>{s&&w.current&&!s.destroyed&&N(s.getSlideClasses(w.current))},[s]);const k={isActive:E.indexOf("swiper-slide-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0},O=()=>typeof e=="function"?e(k):e,B=()=>{j(!0)};return cn.createElement(n,Jf({ref:w,className:FS(`${E}${t?` ${t}`:""}`),"data-swiper-slide-index":d,onLoad:B},p),o&&cn.createElement(i1.Provider,{value:k},cn.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},O(),c&&!R&&cn.createElement("div",{className:"swiper-lazy-preloader",ref:$=>{$&&($.lazyPreloaderManaged=!0)}}))),!o&&cn.createElement(i1.Provider,{value:k},O(),c&&!R&&cn.createElement("div",{className:"swiper-lazy-preloader",ref:$=>{$&&($.lazyPreloaderManaged=!0)}})))});Iy.displayName="SwiperSlide";function YS(n,e,t,s){return n.params.createElements&&Object.keys(s).forEach(o=>{if(!t[o]&&t.auto===!0){let c=Mr(n.el,`.${s[o]}`)[0];c||(c=Qf("div",s[o]),c.className=s[o],n.el.append(c)),t[o]=c,e[o]=c}}),t}const s1='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function e6({swiper:n,extendParams:e,on:t,emit:s}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null,arrowSvg:s1};function o(R){let j;return R&&typeof R=="string"&&n.isElement&&(j=n.el.querySelector(R)||n.hostEl.querySelector(R),j)?j:(R&&(typeof R=="string"&&(j=[...document.querySelectorAll(R)]),n.params.uniqueNavElements&&typeof R=="string"&&j&&j.length>1&&n.el.querySelectorAll(R).length===1?j=n.el.querySelector(R):j&&j.length===1&&(j=j[0])),R&&!j?R:j)}function c(R,j){const U=n.params.navigation;R=Bn(R),R.forEach(k=>{k&&(k.classList[j?"add":"remove"](...U.disabledClass.split(" ")),k.tagName==="BUTTON"&&(k.disabled=j),n.params.watchOverflow&&n.enabled&&k.classList[n.isLocked?"add":"remove"](U.lockClass))})}function d(){const{nextEl:R,prevEl:j}=n.navigation;if(n.params.loop){c(j,!1),c(R,!1);return}c(j,n.isBeginning&&!n.params.rewind),c(R,n.isEnd&&!n.params.rewind)}function _(R){R.preventDefault(),!(n.isBeginning&&!n.params.loop&&!n.params.rewind)&&(n.slidePrev(),s("navigationPrev"))}function p(R){R.preventDefault(),!(n.isEnd&&!n.params.loop&&!n.params.rewind)&&(n.slideNext(),s("navigationNext"))}function v(){const R=n.params.navigation;if(n.params.navigation=YS(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(R.nextEl||R.prevEl))return;let j=o(R.nextEl),U=o(R.prevEl);Object.assign(n.navigation,{nextEl:j,prevEl:U}),j=Bn(j),U=Bn(U);const k=(O,B)=>{if(O){if(R.addIcons&&O.matches(".swiper-button-next,.swiper-button-prev")&&!O.querySelector("svg")){const $=document.createElement("div");Ch($,s1),O.appendChild($.querySelector("svg")),$.remove()}O.addEventListener("click",B==="next"?p:_)}!n.enabled&&O&&O.classList.add(...R.lockClass.split(" "))};j.forEach(O=>k(O,"next")),U.forEach(O=>k(O,"prev"))}function w(){let{nextEl:R,prevEl:j}=n.navigation;R=Bn(R),j=Bn(j);const U=(k,O)=>{k.removeEventListener("click",O==="next"?p:_),k.classList.remove(...n.params.navigation.disabledClass.split(" "))};R.forEach(k=>U(k,"next")),j.forEach(k=>U(k,"prev"))}t("init",()=>{n.params.navigation.enabled===!1?N():(v(),d())}),t("toEdge fromEdge lock unlock",()=>{d()}),t("destroy",()=>{w()}),t("enable disable",()=>{let{nextEl:R,prevEl:j}=n.navigation;if(R=Bn(R),j=Bn(j),n.enabled){d();return}[...R,...j].filter(U=>!!U).forEach(U=>U.classList.add(n.params.navigation.lockClass))}),t("click",(R,j)=>{let{nextEl:U,prevEl:k}=n.navigation;U=Bn(U),k=Bn(k);const O=j.target;let B=k.includes(O)||U.includes(O);if(n.isElement&&!B){const $=j.path||j.composedPath&&j.composedPath();$&&(B=$.find(te=>U.includes(te)||k.includes(te)))}if(n.params.navigation.hideOnClick&&!B){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===O||n.pagination.el.contains(O)))return;let $;U.length?$=U[0].classList.contains(n.params.navigation.hiddenClass):k.length&&($=k[0].classList.contains(n.params.navigation.hiddenClass)),s($===!0?"navigationShow":"navigationHide"),[...U,...k].filter(te=>!!te).forEach(te=>te.classList.toggle(n.params.navigation.hiddenClass))}});const E=()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),v(),d()},N=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(n.navigation,{enable:E,disable:N,update:d,init:v,destroy:w})}function Xu(n=""){return`.${n.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function t6({swiper:n,extendParams:e,on:t,emit:s}){const o="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:O=>O,formatFractionTotal:O=>O,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),n.pagination={el:null,bullets:[]};let c,d=0;function _(){return!n.params.pagination.el||!n.pagination.el||Array.isArray(n.pagination.el)&&n.pagination.el.length===0}function p(O,B){const{bulletActiveClass:$}=n.params.pagination;O&&(O=O[`${B==="prev"?"previous":"next"}ElementSibling`],O&&(O.classList.add(`${$}-${B}`),O=O[`${B==="prev"?"previous":"next"}ElementSibling`],O&&O.classList.add(`${$}-${B}-${B}`)))}function v(O,B,$){if(O=O%$,B=B%$,B===O+1)return"next";if(B===O-1)return"previous"}function w(O){const B=O.target.closest(Xu(n.params.pagination.bulletClass));if(!B)return;O.preventDefault();const $=Xf(B)*n.params.slidesPerGroup;if(n.params.loop){if(n.realIndex===$)return;const te=v(n.realIndex,$,n.slides.length);te==="next"?n.slideNext():te==="previous"?n.slidePrev():n.slideToLoop($)}else n.slideTo($)}function E(){const O=n.rtl,B=n.params.pagination;if(_())return;let $=n.pagination.el;$=Bn($);let te,ne;const ye=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,q=n.params.loop?Math.ceil(ye/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(ne=n.previousRealIndex||0,te=n.params.slidesPerGroup>1?Math.floor(n.realIndex/n.params.slidesPerGroup):n.realIndex):typeof n.snapIndex<"u"?(te=n.snapIndex,ne=n.previousSnapIndex):(ne=n.previousIndex||0,te=n.activeIndex||0),B.type==="bullets"&&n.pagination.bullets&&n.pagination.bullets.length>0){const I=n.pagination.bullets;let Z,G,H;if(B.dynamicBullets&&(c=Cy(I[0],n.isHorizontal()?"width":"height"),$.forEach(Y=>{Y.style[n.isHorizontal()?"width":"height"]=`${c*(B.dynamicMainBullets+4)}px`}),B.dynamicMainBullets>1&&ne!==void 0&&(d+=te-(ne||0),d>B.dynamicMainBullets-1?d=B.dynamicMainBullets-1:d<0&&(d=0)),Z=Math.max(te-d,0),G=Z+(Math.min(I.length,B.dynamicMainBullets)-1),H=(G+Z)/2),I.forEach(Y=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(de=>`${B.bulletActiveClass}${de}`)].map(de=>typeof de=="string"&&de.includes(" ")?de.split(" "):de).flat();Y.classList.remove(...F)}),$.length>1)I.forEach(Y=>{const F=Xf(Y);F===te?Y.classList.add(...B.bulletActiveClass.split(" ")):n.isElement&&Y.setAttribute("part","bullet"),B.dynamicBullets&&(F>=Z&&F<=G&&Y.classList.add(...`${B.bulletActiveClass}-main`.split(" ")),F===Z&&p(Y,"prev"),F===G&&p(Y,"next"))});else{const Y=I[te];if(Y&&Y.classList.add(...B.bulletActiveClass.split(" ")),n.isElement&&I.forEach((F,de)=>{F.setAttribute("part",de===te?"bullet-active":"bullet")}),B.dynamicBullets){const F=I[Z],de=I[G];for(let Re=Z;Re<=G;Re+=1)I[Re]&&I[Re].classList.add(...`${B.bulletActiveClass}-main`.split(" "));p(F,"prev"),p(de,"next")}}if(B.dynamicBullets){const Y=Math.min(I.length,B.dynamicMainBullets+4),F=(c*Y-c)/2-H*c,de=O?"right":"left";I.forEach(Re=>{Re.style[n.isHorizontal()?de:"top"]=`${F}px`})}}$.forEach((I,Z)=>{if(B.type==="fraction"&&(I.querySelectorAll(Xu(B.currentClass)).forEach(G=>{G.textContent=B.formatFractionCurrent(te+1)}),I.querySelectorAll(Xu(B.totalClass)).forEach(G=>{G.textContent=B.formatFractionTotal(q)})),B.type==="progressbar"){let G;B.progressbarOpposite?G=n.isHorizontal()?"vertical":"horizontal":G=n.isHorizontal()?"horizontal":"vertical";const H=(te+1)/q;let Y=1,F=1;G==="horizontal"?Y=H:F=H,I.querySelectorAll(Xu(B.progressbarFillClass)).forEach(de=>{de.style.transform=`translate3d(0,0,0) scaleX(${Y}) scaleY(${F})`,de.style.transitionDuration=`${n.params.speed}ms`})}B.type==="custom"&&B.renderCustom?(Ch(I,B.renderCustom(n,te+1,q)),Z===0&&s("paginationRender",I)):(Z===0&&s("paginationRender",I),s("paginationUpdate",I)),n.params.watchOverflow&&n.enabled&&I.classList[n.isLocked?"add":"remove"](B.lockClass)})}function N(){const O=n.params.pagination;if(_())return;const B=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.grid&&n.params.grid.rows>1?n.slides.length/Math.ceil(n.params.grid.rows):n.slides.length;let $=n.pagination.el;$=Bn($);let te="";if(O.type==="bullets"){let ne=n.params.loop?Math.ceil(B/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&ne>B&&(ne=B);for(let ye=0;ye<ne;ye+=1)O.renderBullet?te+=O.renderBullet.call(n,ye,O.bulletClass):te+=`<${O.bulletElement} ${n.isElement?'part="bullet"':""} class="${O.bulletClass}"></${O.bulletElement}>`}O.type==="fraction"&&(O.renderFraction?te=O.renderFraction.call(n,O.currentClass,O.totalClass):te=`<span class="${O.currentClass}"></span> / <span class="${O.totalClass}"></span>`),O.type==="progressbar"&&(O.renderProgressbar?te=O.renderProgressbar.call(n,O.progressbarFillClass):te=`<span class="${O.progressbarFillClass}"></span>`),n.pagination.bullets=[],$.forEach(ne=>{O.type!=="custom"&&Ch(ne,te||""),O.type==="bullets"&&n.pagination.bullets.push(...ne.querySelectorAll(Xu(O.bulletClass)))}),O.type!=="custom"&&s("paginationRender",$[0])}function R(){n.params.pagination=YS(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const O=n.params.pagination;if(!O.el)return;let B;typeof O.el=="string"&&n.isElement&&(B=n.el.querySelector(O.el)),!B&&typeof O.el=="string"&&(B=[...document.querySelectorAll(O.el)]),B||(B=O.el),!(!B||B.length===0)&&(n.params.uniqueNavElements&&typeof O.el=="string"&&Array.isArray(B)&&B.length>1&&(B=[...n.el.querySelectorAll(O.el)],B.length>1&&(B=B.find($=>OS($,".swiper")[0]===n.el))),Array.isArray(B)&&B.length===1&&(B=B[0]),Object.assign(n.pagination,{el:B}),B=Bn(B),B.forEach($=>{O.type==="bullets"&&O.clickable&&$.classList.add(...(O.clickableClass||"").split(" ")),$.classList.add(O.modifierClass+O.type),$.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.type==="bullets"&&O.dynamicBullets&&($.classList.add(`${O.modifierClass}${O.type}-dynamic`),d=0,O.dynamicMainBullets<1&&(O.dynamicMainBullets=1)),O.type==="progressbar"&&O.progressbarOpposite&&$.classList.add(O.progressbarOppositeClass),O.clickable&&$.addEventListener("click",w),n.enabled||$.classList.add(O.lockClass)}))}function j(){const O=n.params.pagination;if(_())return;let B=n.pagination.el;B&&(B=Bn(B),B.forEach($=>{$.classList.remove(O.hiddenClass),$.classList.remove(O.modifierClass+O.type),$.classList.remove(n.isHorizontal()?O.horizontalClass:O.verticalClass),O.clickable&&($.classList.remove(...(O.clickableClass||"").split(" ")),$.removeEventListener("click",w))})),n.pagination.bullets&&n.pagination.bullets.forEach($=>$.classList.remove(...O.bulletActiveClass.split(" ")))}t("changeDirection",()=>{if(!n.pagination||!n.pagination.el)return;const O=n.params.pagination;let{el:B}=n.pagination;B=Bn(B),B.forEach($=>{$.classList.remove(O.horizontalClass,O.verticalClass),$.classList.add(n.isHorizontal()?O.horizontalClass:O.verticalClass)})}),t("init",()=>{n.params.pagination.enabled===!1?k():(R(),N(),E())}),t("activeIndexChange",()=>{typeof n.snapIndex>"u"&&E()}),t("snapIndexChange",()=>{E()}),t("snapGridLengthChange",()=>{N(),E()}),t("destroy",()=>{j()}),t("enable disable",()=>{let{el:O}=n.pagination;O&&(O=Bn(O),O.forEach(B=>B.classList[n.enabled?"remove":"add"](n.params.pagination.lockClass)))}),t("lock unlock",()=>{E()}),t("click",(O,B)=>{const $=B.target,te=Bn(n.pagination.el);if(n.params.pagination.el&&n.params.pagination.hideOnClick&&te&&te.length>0&&!$.classList.contains(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&$===n.navigation.nextEl||n.navigation.prevEl&&$===n.navigation.prevEl))return;const ne=te[0].classList.contains(n.params.pagination.hiddenClass);s(ne===!0?"paginationShow":"paginationHide"),te.forEach(ye=>ye.classList.toggle(n.params.pagination.hiddenClass))}});const U=()=>{n.el.classList.remove(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=Bn(O),O.forEach(B=>B.classList.remove(n.params.pagination.paginationDisabledClass))),R(),N(),E()},k=()=>{n.el.classList.add(n.params.pagination.paginationDisabledClass);let{el:O}=n.pagination;O&&(O=Bn(O),O.forEach(B=>B.classList.add(n.params.pagination.paginationDisabledClass))),j()};Object.assign(n.pagination,{enable:U,disable:k,render:N,update:E,init:R,destroy:j})}const n6=()=>{const{id:n}=lC(),e=Yl(),t=zs(),{user:s,userData:o}=ka(),[c,d]=V.useState(null),[_,p]=V.useState(!0),[v,w]=V.useState(!1),[E,N]=V.useState(!1),R=V.useRef(!1),[j,U]=V.useState(!1),[k,O]=V.useState(null),[B,$]=V.useState(!1),[te,ne]=V.useState({name:"",phone:"",message:"Hola, estoy interesado en esta propiedad y me gustara recibir ms informacin."}),ye=async ee=>{ee.preventDefault(),N(!0);try{await kl(gn(Xe,"inquiries"),{propertyId:c.id,propertyTitle:c.title,agentId:c.agentId,clientName:te.name,clientPhone:te.phone,clientMessage:te.message,timestamp:new Date,status:"pending"}),Ve.success("Tu solicitud ha sido enviada! El agente te contactar pronto."),w(!1),ne({name:"",phone:"",message:""})}catch(fe){console.error("Error sending inquiry:",fe),Ve.error("Hubo un error al enviar tu solicitud.")}finally{N(!1)}},q=()=>{if(!s){Ve.error("Debes iniciar sesin para agendar una visita."),e("/login",{state:{from:t.pathname}});return}if((c?.availableVisitSlots||[]).length===0){Ve.error("El agente an no ha definido horarios de visita para esta propiedad.");return}O(null),U(!0)},I=async ee=>{if(ee.preventDefault(),!k){Ve.error("Selecciona un horario.");return}$(!0);try{await kl(gn(Xe,"visits"),{propertyId:c.id,propertyTitle:c.title,agentId:c.agentId,clientId:s.uid,clientName:o?.displayName||s.displayName||"Cliente",clientPhone:o?.phoneNumber||"No especificado",clientEmail:s.email,visitDate:k.date,visitTime:k.time,status:"pending",timestamp:new Date}),Ve.success("Visita agendada con xito! El agente confirmar la fecha."),U(!1),O(null)}catch(fe){console.error("Error scheduling visit:",fe),Ve.error("Error al agendar la visita.")}finally{$(!1)}},Z=async()=>{if(!c)return;let ee="51999999999";try{if(c.agentId){const D=await Ol(en(Xe,"users",c.agentId));if(D.exists()){const J=D.data();J.phoneNumber&&(ee=J.phoneNumber.replace(/[\s\-\+]/g,""),ee.startsWith("51")||(ee="51"+ee))}}}catch(D){console.error("Error fetching agent phone:",D)}const fe=`Hola, estoy interesado en la propiedad: ${c.title}
 ${c.location}`,_e=`https://wa.me/${ee}?text=${encodeURIComponent(fe)}`;window.open(_e,"_blank")},G=async()=>{const ee={title:c?.title||"Propiedad en Inmuvete",text:`Mira esta propiedad: ${c?.title} - ${c?.location}`,url:window.location.href};try{navigator.share?await navigator.share(ee):(await navigator.clipboard.writeText(window.location.href),Ve.success("Enlace copiado al portapapeles!"))}catch(fe){fe.name!=="AbortError"&&(await navigator.clipboard.writeText(window.location.href),Ve.success("Enlace copiado al portapapeles!"))}},H=()=>{Ve.success("Propiedad guardada en favoritos!")};if(V.useEffect(()=>{(async()=>{try{if(!n)return;const fe=en(Xe,"properties",n),_e=await Ol(fe);if(_e.exists()){const D=_e.data();R.current||(R.current=!0,va(fe,{views:Ck(1)}).catch(J=>console.error("Error incrementing views",J)),D.views=(D.views||0)+1),d({id:_e.id,...D})}else console.log("No such document!")}catch(fe){console.error("Error fetching property:",fe)}finally{p(!1)}})()},[n]),_)return f.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-16 h-16 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})});if(!c)return f.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Propiedad no encontrada"}),f.jsx(un,{to:"/",className:"text-[#fc7f51] hover:underline",children:"Volver al inicio"})]});const Y=3.75,F=typeof c.price=="number"?c.price:parseFloat(c.price),de=c.currency||"USD";let Re,ae;de==="USD"?(Re=F,ae=F*Y):(ae=F,Re=F/Y);const Se=c.lat&&c.lng?`https://www.google.com/maps/search/?api=1&query=${c.lat},${c.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(c.location)}`;return f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("main",{className:"container mx-auto px-6 pt-32 pb-12",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:c.title}),f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center text-sm gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium overflow-hidden",children:[f.jsx(Ur,{className:"w-4 h-4 text-[#fc7f51] flex-shrink-0"}),f.jsx("a",{href:Se,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#fc7f51] truncate",children:c.location})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("button",{onClick:G,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[f.jsx(Ww,{className:"w-4 h-4"})," Compartir"]}),f.jsxs("button",{onClick:G,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[f.jsx(Ww,{className:"w-4 h-4"})," Compartir"]}),f.jsxs("button",{onClick:H,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[f.jsx($f,{className:"w-4 h-4"})," Guardar"]}),f.jsxs("button",{onClick:q,className:"flex items-center gap-2 bg-[#fc7f51] text-white hover:bg-[#e56b3e] px-4 py-1.5 rounded-lg font-bold text-sm transition shadow-sm",children:[f.jsx(Gf,{className:"w-4 h-4"})," Agendar Visita"]})]})]})]}),f.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 shadow-2xl relative h-[400px] md:h-[600px] bg-gray-100 group",children:f.jsx($S,{modules:[e6,t6],navigation:!0,pagination:{clickable:!0},className:"h-full w-full",loop:!0,children:c.images&&c.images.length>0?c.images.map((ee,fe)=>f.jsx(Iy,{children:f.jsx("img",{src:ee,alt:`Property ${fe+1}`,className:"w-full h-full object-cover"})},fe)):f.jsx(Iy,{children:f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-400",children:"No hay imgenes disponibles"})})})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["Publicado por ",c.agentName||"Agente Inmuvete"]}),f.jsxs("p",{className:"text-gray-600 mb-0",children:[c.bedrooms||0," Habitaciones  ",c.bathrooms||0," Baos  ",c.footage," m"]})]}),f.jsx("div",{className:"w-14 h-14 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden border-2 border-white shadow-md",children:f.jsx(Ay,{className:"w-8 h-8 text-gray-400"})})]}),f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[f.jsx("h3",{className:"text-lg font-bold mb-4",children:"Caractersticas"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-y-4 gap-x-6",children:[f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(W4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[c.footage," m"]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(r4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[c.bedrooms||0," Habitaciones"]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(i4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[c.bathrooms||0," Baos"]})]}),c.parking&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(m4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Cochera"})]}),c.isDuplex&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(j4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Dplex"})]}),c.floor&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(t4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:["Piso ",c.floor]})]}),c.isInBuilding&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(c4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"En Edificio"})]}),c.elevator&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(J5,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Ascensor"})]}),c.furnished&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx($5,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Amoblado"})]}),c.pool&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(RS,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Piscina"})]}),c.gym&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(E4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Gimnasio"})]}),c.security&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(CS,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Seguridad 24/7"})]}),c.isExclusive&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(hj,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Exclusivo"})]}),c.antiquity&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(Ty,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:c.antiquity==="estreno"?"Estreno":c.antiquity})]})]})]}),f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Descripcin"}),f.jsx("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-line",children:c.description})]}),f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Detalles"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Tipo"}),f.jsx("span",{className:"font-semibold capitalize",children:c.type})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Categora"}),f.jsx("span",{className:"font-semibold capitalize",children:c.category})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"rea"}),f.jsxs("span",{className:"font-semibold",children:[c.footage," m"]})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Estado"}),f.jsx("span",{className:`font-semibold capitalize ${c.status==="disponible"?"text-green-600":"text-red-500"}`,children:c.status})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Antigedad"}),f.jsx("span",{className:"font-semibold capitalize",children:c.antiquity==="estreno"?"A estrenar":c.antiquity==="preventa"?"En Preventa":c.antiquity==="up_to_5"?"Hasta 5 aos":c.antiquity==="5_to_10"?"5 a 10 aos":c.antiquity==="10_to_20"?"10 a 20 aos":c.antiquity==="more_than_20"?"Ms de 20 aos":c.antiquity||"No especificado"})]}),c.floor&&f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Piso"}),f.jsxs("span",{className:"font-semibold",children:[c.floor,""]})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Ascensor"}),f.jsx("span",{className:"font-semibold",children:c.elevator?"S":"No"})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Cochera"}),f.jsx("span",{className:"font-semibold",children:c.parking?"S":"No"})]})]})]}),f.jsxs("div",{className:"pt-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ubicacin"}),f.jsx("p",{className:"text-gray-500 mb-4",children:c.location}),f.jsxs("div",{className:"h-96 w-full rounded-xl overflow-hidden bg-gray-100 shadow-inner relative group",children:[c.lat&&c.lng?f.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${c.lat},${c.lng}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):c.location?f.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${encodeURIComponent(c.location)}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-200",children:[f.jsx(Ur,{className:"w-12 h-12 text-gray-400 mb-2"}),f.jsx("p",{className:"text-gray-500",children:"Mapa no disponible para esta ubicacin."})]}),f.jsxs("a",{href:Se,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-lg text-sm font-bold flex items-center gap-2 hover:bg-[#fc7f51] hover:text-white transition",children:[f.jsx(Ur,{className:"w-4 h-4"}),"Abrir en Google Maps"]})]})]})]}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"sticky top-32 bg-white rounded-xl shadow-card border border-gray-200 p-6",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("span",{className:"block text-3xl font-bold text-[#fc7f51]",children:Re.toLocaleString("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0})}),f.jsx("span",{className:"block text-xl font-bold text-gray-400 mt-1",children:ae.toLocaleString("en-US",{style:"currency",currency:"PEN",maximumFractionDigits:0})}),c.type==="alquiler"&&f.jsx("span",{className:"text-gray-500 text-sm block mt-1",children:"Precio por mes"})]}),f.jsxs("button",{onClick:Z,className:"w-full bg-[#25D366] text-white font-bold text-lg py-3 rounded-lg hover:bg-[#20bd5a] transition mb-4 shadow-lg shadow-green-500/30 flex items-center justify-center gap-2",children:[f.jsx(Z_,{className:"w-5 h-5"}),"Contactar por WhatsApp"]}),f.jsxs("button",{onClick:()=>w(!0),className:"w-full bg-white border-2 border-gray-200 text-gray-700 font-bold py-3 rounded-lg hover:border-[#fc7f51] hover:text-[#fc7f51] transition mb-6 flex items-center justify-center gap-2",children:[f.jsx(AS,{className:"w-5 h-5"}),"Solicitar Informacin"]}),f.jsx("div",{className:"text-center text-xs text-gray-400",children:"* Al contactar aceptas nuestros trminos y condiciones."})]})})]})]}),v&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Solicitar Informacin"}),f.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(Ea,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:ye,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),f.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre completo",value:te.name,onChange:ee=>ne({...te,name:ee.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono / WhatsApp"}),f.jsx("input",{required:!0,type:"tel",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: +51 999 999 999",value:te.phone,onChange:ee=>ne({...te,phone:ee.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),f.jsx("textarea",{required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition h-32 resize-none",value:te.message,onChange:ee=>ne({...te,message:ee.target.value})})]}),f.jsx("button",{type:"submit",disabled:E,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-70",children:E?f.jsx(Ah,{className:"animate-spin"}):"Enviar Solicitud"})]})]})}),j&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative p-8",children:[f.jsx("button",{onClick:()=>U(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition",children:f.jsx(Ea,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Agendar Visita"}),f.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Selecciona uno de los horarios disponibles del agente."}),f.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto mb-6",children:(c?.availableVisitSlots||[]).sort((ee,fe)=>new Date(ee.date+"T"+ee.time)-new Date(fe.date+"T"+fe.time)).map(ee=>f.jsxs("button",{type:"button",onClick:()=>O(ee),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg border-2 transition ${k?.id===ee.id?"border-[#fc7f51] bg-orange-50":"border-gray-100 hover:border-gray-300 bg-gray-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Gf,{className:"w-4 h-4 text-[#fc7f51]"}),f.jsx("span",{className:"font-medium text-gray-700 text-sm",children:new Date(ee.date+"T00:00:00").toLocaleDateString("es-PE",{weekday:"long",day:"numeric",month:"long"})})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ty,{className:"w-3 h-3 text-gray-400"}),f.jsx("span",{className:"text-sm font-bold text-gray-600",children:ee.time}),k?.id===ee.id&&f.jsx(g4,{className:"w-5 h-5 text-[#fc7f51]"})]})]},ee.id))}),f.jsx("button",{onClick:I,disabled:B||!k,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-lg hover:bg-[#e56b3e] transition disabled:opacity-50",children:B?"Agendando...":"Confirmar Visita"})]})})]})},K_="/inmobiliaria/assets/logo-9PyExb9b.png",i6=()=>f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20",alt:"About Hero"})}),f.jsxs("div",{className:"relative z-10 text-center px-6",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:["Ms que una ",f.jsx("span",{className:"text-[#fc7f51]",children:"inmobiliaria"})]}),f.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Inspiramos movimiento. Impulsamos a las personas a dar el paso hacia nuevas etapas de su vida."})]})]}),f.jsxs("div",{className:"container mx-auto px-6 py-20",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center mb-24",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Quines Somos"}),f.jsx("img",{src:K_,alt:"Inmuvete",className:"h-16 mb-6 object-contain"}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 leading-tight",children:"Concepto de Marca"}),f.jsxs("p",{className:"text-[#878787] text-lg leading-relaxed mb-6",children:["Ms que vender inmuebles, inspiramos movimiento. ",f.jsx("strong",{className:"text-[#262626]",children:"Inmuvete"})," es la inmobiliaria que impulsa a las personas a dar el paso hacia nuevas etapas de su vida: un nuevo hogar, una inversin segura o un espacio para crecer."]}),f.jsx("p",{className:"text-[#878787] text-lg leading-relaxed",children:"Nuestro enfoque combina confianza, transparencia y dinamismo, convirtiendo cada transaccin en una experiencia cercana, gil y motivadora."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1600596542815-e3287135f5cf?q=80&w=2072&auto=format&fit=crop",className:"rounded-tl-[40px] rounded-br-[40px] w-full h-64 object-cover shadow-card",alt:"Concept 1"}),f.jsx("img",{src:"https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2053&auto=format&fit=crop",className:"rounded-tr-[40px] rounded-bl-[40px] w-full h-64 object-cover shadow-card mt-8",alt:"Concept 2"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-24",children:[f.jsxs("div",{className:"bg-[#f9f9f9] p-10 rounded-2xl hover:shadow-lg transition border-l-4 border-[#fc7f51] group",children:[f.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] group-hover:text-white transition",children:f.jsx(fj,{className:"w-7 h-7"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Misin"}),f.jsx("p",{className:"text-[#878787] leading-relaxed",children:'"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles, ofreciendo un servicio cercano que transforma cada proceso en una experiencia sencilla y segura."'})]}),f.jsxs("div",{className:"bg-[#262626] p-10 rounded-2xl text-white shadow-xl relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#fc7f51] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"}),f.jsx("div",{className:"w-14 h-14 bg-[#333] rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] transition",children:f.jsx(Zf,{className:"w-7 h-7"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visin"}),f.jsx("p",{className:"text-gray-300 leading-relaxed",children:'"Ser la inmobiliaria de referencia en la regin, reconocida por la confianza, innovacin y cercana con nuestros clientes, ofreciendo experiencias inmobiliarias que impulsen el desarrollo personal, familiar y empresarial."'})]})]}),f.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[f.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Nuestra Esencia"}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Nuestros Valores"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:f.jsx(CS,{className:"w-10 h-10"})}),f.jsx("h4",{className:"text-xl font-bold mb-3",children:"Integridad"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"Actuamos con honestidad y transparencia en cada paso."})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:f.jsx(I4,{className:"w-10 h-10"})}),f.jsx("h4",{className:"text-xl font-bold mb-3",children:"Compromiso"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"Nos dedicamos a cumplir y superar las expectativas."})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:f.jsx(NS,{className:"w-10 h-10"})}),f.jsx("h4",{className:"text-xl font-bold mb-3",children:"Confianza"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"Construimos relaciones duraderas basadas en la seguridad."})]})]})]})]})]}),s6=()=>{const{user:n,userData:e,logout:t}=ka(),o=zs().pathname==="/about";return f.jsx("nav",{className:"fixed w-full z-50 bg-[#16151a] border-b border-gray-800 shadow-lg",children:f.jsxs("div",{className:"container mx-auto px-6 h-24 flex justify-between items-center",children:[f.jsxs(un,{to:"/",className:"flex items-center gap-3 group",children:[f.jsx("img",{src:K_,alt:"Inmuvete",className:`${o?"block":"hidden md:block"} h-12 w-auto object-contain`}),!o&&f.jsx("img",{src:"/favicon.png",alt:"Inmuvete",className:"block md:hidden h-10 w-auto object-contain"})]}),f.jsxs("div",{className:"hidden lg:flex items-center bg-white rounded-full py-2 pl-6 pr-2 shadow-xl hover:shadow-orange-500/5 transition cursor-pointer gap-4 min-w-[420px]",children:[f.jsx("input",{type:"text",placeholder:"Buscar por zona, ciudad o tipo...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm"}),f.jsx("div",{className:"bg-[#fc7f51] p-2.5 rounded-full text-white hover:bg-[#e56b3e] transition shadow-md",children:f.jsx(Xc,{className:"w-5 h-5",strokeWidth:2.5})})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[f.jsx(un,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),e?.role!=="agente"&&f.jsxs(f.Fragment,{children:[f.jsx(un,{to:"/about",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Nosotros"}),f.jsx(un,{to:"/contact",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Contacto"})]})]}),n?f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs(un,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",className:"text-white hover:text-[#fc7f51] transition font-medium mr-2",children:["Hola, ",n.displayName?n.displayName.split(" ")[0]:e?.role==="agente"?"Agente":"Usuario"]}),f.jsx("button",{onClick:t,className:"bg-[#262626] border border-gray-600 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition",children:"Salir"}),f.jsx(un,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",children:f.jsx("div",{className:"bg-gray-600 rounded-full p-0.5 cursor-pointer",children:f.jsx(_4,{className:"w-8 h-8 text-white fill-gray-600"})})})]}):f.jsx(un,{to:"/login",className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-full font-bold transition shadow-lg shadow-orange-500/20",children:"Ingresar"})]})]})})},r6=()=>f.jsxs("footer",{className:"bg-[#16151a] text-white py-16",children:[f.jsxs("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("img",{src:K_,alt:"Inmuvete",className:"h-12"}),f.jsxs("span",{className:"text-2xl font-bold font-[Montserrat] text-white",children:["Inmu",f.jsx("span",{className:"text-[#fc7f51]",children:"vete"})]})]}),f.jsx("p",{className:"text-[#878787] text-sm leading-relaxed mb-6",children:"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles."}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"in"}),f.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"ig"}),f.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"fb"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Nuestros Valores"}),f.jsxs("ul",{className:"space-y-4 text-sm text-[#878787]",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Integridad"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Compromiso"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Confianza"]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Contacto"}),f.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"Oficina Central, Ciudad"}),f.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"contacto@inmuevete.com"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"+51 123 456 789"})]})]}),f.jsx("div",{className:"border-t border-[#262626] mt-12 pt-8 text-center text-[#878787] text-xs",children:" 2024 Inmuvete. Todos los derechos reservados."})]}),a6=()=>{const[n,e]=V.useState({name:"",phone:"+51 ",email:"",subject:"Informacin general",message:""}),t=d=>{e({...n,[d.target.name]:d.target.value})},s=d=>{let _=d.target.value;_.startsWith("+51 ")||(_="+51 "+_.replace(/^\+51\s*/,"")),e({...n,phone:_})},o=()=>{const d="+51965355700";let _=n.message.trim();return _||(_=`Hola, me gustara ${n.subject==="Comprar una propiedad"?"Comprar":n.subject==="Vender una propiedad"?"Vender":n.subject==="Alquileres"?"Alquilar":"obtener Informacin general sobre"} un inmueble.`),_+=`

- Nombre: ${n.name}
- Telfono: ${n.phone}
- Email: ${n.email}
- Asunto: ${n.subject}`,`https://wa.me/${d}?text=${encodeURIComponent(_)}`},c=d=>{if(d.preventDefault(),!n.name||!n.email){Ve.error("Por favor completa nombre y email.");return}const _=o();Ve.success("Redirigiendo a WhatsApp..."),setTimeout(()=>{window.open(_,"_blank")},1e3)};return f.jsx("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:f.jsxs("div",{className:"pt-24 pb-20 container mx-auto px-6",children:[f.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[f.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Hablamos?"}),f.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#262626]",children:"Contctanos"}),f.jsx("p",{className:"text-[#878787] text-lg",children:"Estamos aqu para ayudarte a encontrar tu espacio ideal. Escrbenos y un asesor se pondr en contacto contigo a la brevedad."})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[f.jsxs("div",{className:"bg-[#16151a] text-white p-10 rounded-3xl shadow-xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-20 blur-3xl"}),f.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-10 blur-3xl"}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Informacin de Contacto"}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:f.jsx(Z_,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg mb-1",children:"Telfono"}),f.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"+51 965355700"})]})]}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:f.jsx(AS,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg mb-1",children:"Email"}),f.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"contacto@inmuevete.com"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"ventas@inmuevete.com"})]})]}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:f.jsx(Ur,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg mb-1",children:"Oficina Central"}),f.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Av. Principal 123, Oficina 404",f.jsx("br",{}),"Centro Empresarial, Ciudad",f.jsx("br",{}),"Per"]})]})]})]}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h4",{className:"font-bold text-lg mb-4",children:"Sguenos"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:f.jsx(O4,{className:"w-5 h-5"})}),f.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:f.jsx(A4,{className:"w-5 h-5"})}),f.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:f.jsx(B4,{className:"w-5 h-5"})})]})]})]})]}),f.jsx("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-card border border-gray-100",children:f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Nombre"}),f.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,placeholder:"Tu nombre completo",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Telfono"}),f.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:s,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:n.email,onChange:t,placeholder:"ejemplo@correo.com",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Asunto"}),f.jsxs("select",{name:"subject",value:n.subject,onChange:t,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition text-gray-600 bg-white",children:[f.jsx("option",{value:"Informacin general",children:"Informacin general"}),f.jsx("option",{value:"Comprar una propiedad",children:"Comprar una propiedad"}),f.jsx("option",{value:"Vender una propiedad",children:"Vender una propiedad"}),f.jsx("option",{value:"Alquileres",children:"Alquileres"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Mensaje"}),f.jsx("textarea",{name:"message",value:n.message,onChange:t,rows:"4",placeholder:"Cmo podemos ayudarte?",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),f.jsxs("button",{type:"submit",className:"w-full bg-[#128C7E] hover:bg-[#075E54] text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2 group",children:["Contactar por WhatsApp",f.jsx(X4,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})]})]})})},r1=3.75,o6=()=>{const[n,e]=JC(),[t,s]=V.useState(n.get("operation")||"venta"),[o,c]=V.useState(n.get("location")||""),[d,_]=V.useState(n.get("propertyType")||""),[p,v]=V.useState(n.get("currency")||"USD"),[w,E]=V.useState(n.get("priceMin")||""),[N,R]=V.useState(n.get("priceMax")||""),[j,U]=V.useState(n.get("bedrooms")||""),[k,O]=V.useState(n.get("bathrooms")||""),[B,$]=V.useState(n.get("floor")||""),[te,ne]=V.useState(n.get("parking")==="true"),[ye,q]=V.useState(n.get("isDuplex")==="true"),[I,Z]=V.useState([]),[G,H]=V.useState([]),[Y,F]=V.useState(!0),[de,Re]=V.useState(!1),[ae,Se]=V.useState("newest");V.useEffect(()=>{(async()=>{F(!0);try{const pe=(await ir(gn(Xe,"properties"))).docs.map(xe=>({id:xe.id,...xe.data()}));Z(pe)}catch(J){console.error("Error fetching properties:",J)}finally{F(!1)}})()},[]),V.useEffect(()=>{let D=[...I];if(t&&(D=D.filter(J=>J.type?.toLowerCase()===t.toLowerCase())),o){const J=o.toLowerCase();D=D.filter(pe=>pe.location?.toLowerCase().includes(J)||pe.address?.toLowerCase().includes(J)||pe.title?.toLowerCase().includes(J))}if(d){const J=d.toLowerCase();D=D.filter(pe=>{const xe=pe.title?.toLowerCase()||"",Ae=pe.category?.toLowerCase()||"",Ce=pe.location?.toLowerCase()||"";return J==="departamento"||J==="departamentos"?xe.includes("departamento")||xe.includes("depa"):J==="casa"||J==="casas"?xe.includes("casa"):J==="terreno"||J==="terrenos"?Ae==="terreno"||xe.includes("terreno")||xe.includes("lote"):J==="oficina"||J==="oficinas"?xe.includes("oficina"):J==="local"||J==="locales"?xe.includes("local"):J==="campestre"||J==="campestres"?xe.includes("campestre")||xe.includes("campo")||Ce.includes("campo"):J==="playa"?xe.includes("playa")||Ce.includes("playa"):!0})}if(w||N){const J=w?parseFloat(w):0,pe=N?parseFloat(N):1/0;D=D.filter(xe=>{const Ae=typeof xe.price=="number"?xe.price:parseFloat(xe.price)||0,Ce=xe.currency||"USD";let He;return Ce===p?He=Ae:p==="USD"&&Ce==="PEN"?He=Ae/r1:p==="PEN"&&Ce==="USD"?He=Ae*r1:He=Ae,He>=J&&He<=pe})}if(j){const J=parseInt(j);D=D.filter(pe=>(parseInt(pe.bedrooms)||0)>=J)}if(k){const J=parseInt(k);D=D.filter(pe=>(parseInt(pe.bathrooms)||0)>=J)}te&&(D=D.filter(J=>J.parking===!0)),ye&&(D=D.filter(J=>J.isDuplex===!0)),B&&(D=D.filter(J=>J.floor?.toString().toLowerCase()===B.toLowerCase())),D=D.filter(J=>J.status==="disponible"),ae==="newest"?D.sort((J,pe)=>(pe.createdAt?.seconds||0)-(J.createdAt?.seconds||0)):ae==="price_asc"?D.sort((J,pe)=>(parseFloat(J.price)||0)-(parseFloat(pe.price)||0)):ae==="price_desc"&&D.sort((J,pe)=>(parseFloat(pe.price)||0)-(parseFloat(J.price)||0)),D.sort((J,pe)=>J.isPromoted&&!pe.isPromoted?-1:!J.isPromoted&&pe.isPromoted?1:0),H(D)},[I,t,o,d,p,w,N,j,k,te,ye,B,ae]);const ee=()=>{const D={};t&&(D.operation=t),o&&(D.location=o),d&&(D.propertyType=d),p&&(D.currency=p),w&&(D.priceMin=w),N&&(D.priceMax=N),j&&(D.bedrooms=j),k&&(D.bathrooms=k),B&&(D.floor=B),te&&(D.parking="true"),ye&&(D.isDuplex="true"),e(D)},fe=()=>{s("venta"),c(""),_(""),v("USD"),E(""),R(""),U(""),O(""),$(""),ne(!1),q(!1),e({})},_e=[t,o,d,w,N,j,k,B,te,ye].filter(Boolean).length;return f.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-[#262626]",children:[f.jsx("div",{className:"bg-white border-b border-gray-200 pt-24 pb-6 sticky top-0 z-30",children:f.jsxs("div",{className:"container mx-auto px-6",children:[f.jsxs(un,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-[#fc7f51] transition mb-4",children:[f.jsx(K5,{className:"w-4 h-4"}),"Volver al inicio"]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[f.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl flex-shrink-0",children:["venta","alquiler","anticresis"].map(D=>f.jsx("button",{onClick:()=>s(D),className:`px-4 py-2 text-sm font-bold capitalize rounded-lg transition-all ${t===D?"bg-white text-[#fc7f51] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:D},D))}),f.jsxs("div",{className:"relative flex-grow",children:[f.jsx(Ur,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",value:o,onChange:D=>c(D.target.value),onKeyDown:D=>D.key==="Enter"&&ee(),placeholder:"Buscar por ubicacin, zona o nombre...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"})]}),f.jsxs("button",{onClick:()=>Re(!de),className:`flex items-center gap-2 px-4 py-3 rounded-xl border font-bold text-sm transition flex-shrink-0 ${de?"bg-[#fc7f51] text-white border-[#fc7f51]":"bg-white text-gray-700 border-gray-200 hover:border-[#fc7f51]"}`,children:[f.jsx(cj,{className:"w-4 h-4"}),"Filtros",_e>1&&f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${de?"bg-white/20 text-white":"bg-[#fc7f51] text-white"}`,children:_e})]}),f.jsxs("button",{onClick:ee,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-8 py-3 rounded-xl font-bold text-sm shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2 flex-shrink-0",children:[f.jsx(Xc,{className:"w-4 h-4"}),"Buscar"]})]}),de&&f.jsxs("div",{className:"mt-4 p-6 bg-gray-50 rounded-2xl border border-gray-200 animate-fadeIn",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo Inmueble"}),f.jsxs("select",{value:d,onChange:D=>_(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"departamento",children:"Departamento"}),f.jsx("option",{value:"casa",children:"Casa"}),f.jsx("option",{value:"terreno",children:"Terreno"}),f.jsx("option",{value:"oficina",children:"Oficina"}),f.jsx("option",{value:"local",children:"Local Comercial"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),f.jsxs("div",{className:"flex bg-white rounded-lg border border-gray-200 p-0.5 h-[42px]",children:[f.jsx("button",{onClick:()=>v("USD"),className:`flex-1 rounded-md text-xs font-bold transition ${p==="USD"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"$ USD"}),f.jsx("button",{onClick:()=>v("PEN"),className:`flex-1 rounded-md text-xs font-bold transition ${p==="PEN"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"S/ PEN"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mn."}),f.jsx("input",{type:"number",placeholder:"0",value:w,onChange:D=>E(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mx."}),f.jsx("input",{type:"number",placeholder:"Sin lmite",value:N,onChange:D=>R(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),f.jsxs("select",{value:j,onChange:D=>U(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"}),f.jsx("option",{value:"4",children:"4+"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),f.jsxs("select",{value:k,onChange:D=>O(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"})]})]})]}),f.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 border-t border-gray-100 pt-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Piso"}),f.jsx("input",{type:"text",placeholder:"Ej. 1",value:B,onChange:D=>$(D.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),f.jsxs("div",{className:"flex flex-col gap-2 justify-center h-full pt-1",children:[f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:te,onChange:D=>ne(D.target.checked)}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Con Cochera"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:ye,onChange:D=>q(D.target.checked)}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Dplex"})]})]})]}),f.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[f.jsxs("button",{onClick:fe,className:"text-sm text-gray-500 hover:text-red-500 font-medium flex items-center gap-1 transition",children:[f.jsx(Ea,{className:"w-4 h-4"}),"Limpiar filtros"]}),f.jsx("button",{onClick:()=>{ee(),Re(!1)},className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-lg font-bold text-sm transition",children:"Aplicar Filtros"})]})]})]})}),f.jsxs("div",{className:"container mx-auto px-6 py-8",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:Y?"Buscando...":`${G.length} propiedad${G.length!==1?"es":""} encontrada${G.length!==1?"s":""}`}),(o||d)&&f.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[t&&f.jsx("span",{className:"capitalize",children:t}),d&&f.jsxs("span",{children:["  ",d]}),o&&f.jsxs("span",{children:[" en ",f.jsx("strong",{children:o})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-sm text-gray-500 font-medium",children:"Ordenar por:"}),f.jsxs("select",{value:ae,onChange:D=>Se(D.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium focus:border-[#fc7f51] outline-none cursor-pointer",children:[f.jsx("option",{value:"newest",children:"Ms recientes"}),f.jsx("option",{value:"price_asc",children:"Precio: menor a mayor"}),f.jsx("option",{value:"price_desc",children:"Precio: mayor a menor"})]})]})]}),Y?f.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[f.jsx(Ah,{className:"w-12 h-12 animate-spin text-[#fc7f51] mb-4"}),f.jsx("p",{className:"text-gray-500 font-medium",children:"Buscando propiedades..."})]}):G.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:f.jsx(Xc,{className:"w-12 h-12 text-[#fc7f51]/50"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No encontramos propiedades"}),f.jsx("p",{className:"text-gray-500 max-w-md mb-6",children:"No hay propiedades que coincidan con tus criterios de bsqueda. Intenta ajustar los filtros o buscar en otra ubicacin."}),f.jsx("button",{onClick:fe,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold transition",children:"Limpiar Filtros"})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:G.map(D=>f.jsx(IS,{property:D},D.id))})]})]})},l6=()=>{const[n,e]=V.useState(""),[t,s]=V.useState(""),{login:o,loginWithGoogle:c,loginWithApple:d}=ka(),_=Yl(),p=async N=>{try{const R=await Ol(en(Xe,"users",N));if(R.exists()){const j=R.data();j.role==="agente"?_("/agent-dashboard"):j.role==="superadmin"?_("/superadmin"):_("/client-dashboard")}else _("/")}catch(R){console.error("Error redirecting:",R)}},v=async N=>{N.preventDefault();try{const R=await o(n,t);Ve.success("Bienvenido de nuevo!"),p(R.user.uid)}catch(R){Ve.error(R.message)}},w=async()=>{try{const N=await c();Ve.success("Bienvenido!"),p(N.user.uid)}catch(N){Ve.error(N.message)}},E=async()=>{try{const N=await d();Ve.success("Bienvenido!"),p(N.user.uid)}catch(N){Ve.error(N.message)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Iniciar Sesin"}),f.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Accede a tu cuenta de Inmuvete"}),f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",value:n,onChange:N=>e(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),f.jsx("input",{type:"password",value:t,onChange:N=>s(N.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"",required:!0})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsxs("label",{className:"flex items-center text-gray-600",children:[f.jsx("input",{type:"checkbox",className:"mr-2 text-[#fc7f51] focus:ring-[#fc7f51] rounded border-gray-300"}),"Recordarme"]}),f.jsx(un,{to:"/forgot-password",className:"text-[#fc7f51] hover:underline font-medium",children:"Olvidaste tu contrasea?"})]}),f.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Ingresar"})]}),f.jsxs("div",{className:"my-6 flex items-center",children:[f.jsx("div",{className:"flex-grow border-t border-gray-200"}),f.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O contina con"}),f.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[f.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),f.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["No tienes una cuenta?"," ",f.jsx(un,{to:"/register",className:"text-[#fc7f51] font-bold hover:underline",children:"Regstrate aqu"})]})]})})},c6=()=>{const[n,e]=V.useState(""),[t,s]=V.useState(""),[o,c]=V.useState(""),[d,_]=V.useState(""),[p,v]=V.useState("cliente"),{signup:w,loginWithGoogle:E,loginWithApple:N}=ka(),R=Yl(),j=async O=>{O.preventDefault();try{await w(n,t,p,o,d),Ve.success("Cuenta creada exitosamente!"),R(p==="agente"?"/agent-dashboard":"/client-dashboard")}catch(B){Ve.error(B.message)}},U=async()=>{try{await E(p),Ve.success("Cuenta creada exitosamente!"),R(p==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Ve.error(O.message)}},k=async()=>{try{await N(p),Ve.success("Cuenta creada exitosamente!"),R(p==="agente"?"/agent-dashboard":"/client-dashboard")}catch(O){Ve.error(O.message)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Crear una Cuenta"}),f.jsx("p",{className:"text-center text-gray-500 mb-8",children:"nete y encuentra tu prximo hogar"}),f.jsxs("form",{onSubmit:j,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),f.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),f.jsx("input",{type:"tel",value:d,onChange:O=>_(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"+51 999 999 999",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",value:n,onChange:O=>e(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),f.jsx("input",{type:"password",value:t,onChange:O=>s(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Crea una contrasea segura",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Qu buscas hacer?"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("button",{type:"button",onClick:()=>v("cliente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${p==="cliente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[f.jsx("span",{className:"font-bold",children:"Buscar Propiedades"}),f.jsx("span",{className:"text-xs mt-1",children:"Soy Cliente"})]}),f.jsxs("button",{type:"button",onClick:()=>v("agente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${p==="agente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[f.jsx("span",{className:"font-bold",children:"Publicar Inmuebles"}),f.jsx("span",{className:"text-xs mt-1",children:"Soy Agente"})]})]})]}),f.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Registrarme"})]}),f.jsxs("div",{className:"my-6 flex items-center",children:[f.jsx("div",{className:"flex-grow border-t border-gray-200"}),f.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O regstrate con"}),f.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[f.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),f.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Ya tienes cuenta?"," ",f.jsx(un,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Inicia Sesin"})]})]})})},u6=()=>{const[n,e]=V.useState(""),{resetPassword:t}=ka(),[s,o]=V.useState(!1),c=async d=>{d.preventDefault(),o(!0);try{await t(n),Ve.success("Te hemos enviado un correo para restablecer tu contrasea.")}catch(_){Ve.error(_.message)}finally{o(!1)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Recuperar Contrasea"}),f.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Ingresa tu correo y te enviaremos las instrucciones"}),f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",value:n,onChange:d=>e(d.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),f.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:s?"Enviando...":"Enviar Instrucciones"})]}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Te acordaste?"," ",f.jsx(un,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Volver a Iniciar Sesin"})]})]})})};function h6(n,e){const t=V.useRef(e);V.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const d6=1;function f6(n){return Object.freeze({__version:d6,map:n})}function m6(n,e){return Object.freeze({...n,...e})}const W_=V.createContext(null);function KS(){const n=V.use(W_);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function p6(n){function e(t,s){const{instance:o,context:c}=n(t).current;V.useImperativeHandle(s,()=>o);const{children:d}=t;return d==null?null:cn.createElement(W_,{value:c},d)}return V.forwardRef(e)}function g6(n){function e(t,s){const{instance:o}=n(t).current;return V.useImperativeHandle(s,()=>o),null}return V.forwardRef(e)}function y6(n,e){const t=V.useRef(void 0);V.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function WS(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}var rh={exports:{}};var _6=rh.exports,a1;function v6(){return a1||(a1=1,(function(n,e){(function(t,s){s(e)})(_6,(function(t){var s="1.9.4";function o(a){var u,g,x,S;for(g=1,x=arguments.length;g<x;g++){S=arguments[g];for(u in S)a[u]=S[u]}return a}var c=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function d(a,u){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var x=g.call(arguments,2);return function(){return a.apply(u,x.length?x.concat(g.call(arguments)):arguments)}}var _=0;function p(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function v(a,u,g){var x,S,P,K;return K=function(){x=!1,S&&(P.apply(g,S),S=!1)},P=function(){x?S=arguments:(a.apply(g,arguments),setTimeout(K,u),x=!0)},P}function w(a,u,g){var x=u[1],S=u[0],P=x-S;return a===x&&g?a:((a-S)%P+P)%P+S}function E(){return!1}function N(a,u){if(u===!1)return a;var g=Math.pow(10,u===void 0?6:u);return Math.round(a*g)/g}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function j(a){return R(a).split(/\s+/)}function U(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var g in u)a.options[g]=u[g];return a.options}function k(a,u,g){var x=[];for(var S in a)x.push(encodeURIComponent(g?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function B(a,u){return a.replace(O,function(g,x){var S=u[x];if(S===void 0)throw new Error("No value provided for variable "+g);return typeof S=="function"&&(S=S(u)),S})}var $=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function te(a,u){for(var g=0;g<a.length;g++)if(a[g]===u)return g;return-1}var ne="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ye(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var q=0;function I(a){var u=+new Date,g=Math.max(0,16-(u-q));return q=u+g,window.setTimeout(a,g)}var Z=window.requestAnimationFrame||ye("RequestAnimationFrame")||I,G=window.cancelAnimationFrame||ye("CancelAnimationFrame")||ye("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function H(a,u,g){if(g&&Z===I)a.call(u);else return Z.call(window,d(a,u))}function Y(a){a&&G.call(window,a)}var F={__proto__:null,extend:o,create:c,bind:d,get lastId(){return _},stamp:p,throttle:v,wrapNum:w,falseFn:E,formatNum:N,trim:R,splitWords:j,setOptions:U,getParamString:k,template:B,isArray:$,indexOf:te,emptyImageUrl:ne,requestFn:Z,cancelFn:G,requestAnimFrame:H,cancelAnimFrame:Y};function de(){}de.extend=function(a){var u=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=u.__super__=this.prototype,x=c(g);x.constructor=u,u.prototype=x;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&o(u,a.statics),a.includes&&(Re(a.includes),o.apply(null,[x].concat(a.includes))),o(x,a),delete x.statics,delete x.includes,x.options&&(x.options=g.options?c(g.options):{},o(x.options,a.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,K=x._initHooks.length;P<K;P++)x._initHooks[P].call(this)}},u},de.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},de.mergeOptions=function(a){return o(this.prototype.options,a),this},de.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function Re(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=$(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(a,u,g){if(typeof a=="object")for(var x in a)this._on(x,a[x],u);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g)}return this},off:function(a,u,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var x in a)this._off(x,a[x],u);else{a=j(a);for(var S=arguments.length===1,P=0,K=a.length;P<K;P++)S?this._off(a[P]):this._off(a[P],u,g)}return this},_on:function(a,u,g,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,g)===!1){g===this&&(g=void 0);var S={fn:u,ctx:g};x&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,g){var x,S,P;if(this._events&&(x=this._events[a],!!x)){if(arguments.length===1){if(this._firingCount)for(S=0,P=x.length;S<P;S++)x[S].fn=E;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var K=this._listens(a,u,g);if(K!==!1){var se=x[K];this._firingCount&&(se.fn=E,this._events[a]=x=x.slice()),x.splice(K,1)}}},fire:function(a,u,g){if(!this.listens(a,g))return this;var x=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,K=S.length;P<K;P++){var se=S[P],ce=se.fn;se.once&&this.off(a,ce,se.ctx),ce.call(se.ctx||this,x)}this._firingCount--}}return g&&this._propagateEvent(x),this},listens:function(a,u,g,x){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(x=!!u,S=void 0,g=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,g)!==!1)return!0;if(x){for(var K in this._eventParents)if(this._eventParents[K].listens(a,u,g,x))return!0}return!1},_listens:function(a,u,g){if(!this._events)return!1;var x=this._events[a]||[];if(!u)return!!x.length;g===this&&(g=void 0);for(var S=0,P=x.length;S<P;S++)if(x[S].fn===u&&x[S].ctx===g)return S;return!1},once:function(a,u,g){if(typeof a=="object")for(var x in a)this._on(x,a[x],u,!0);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[p(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[p(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var Se=de.extend(ae);function ee(a,u,g){this.x=g?Math.round(a):a,this.y=g?Math.round(u):u}var fe=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(a){return this.clone()._add(_e(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(_e(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ee(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ee(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(a){a=_e(a);var u=a.x-this.x,g=a.y-this.y;return Math.sqrt(u*u+g*g)},equals:function(a){return a=_e(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=_e(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function _e(a,u,g){return a instanceof ee?a:$(a)?new ee(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ee(a.x,a.y):new ee(a,u,g)}function D(a,u){if(a)for(var g=u?[a,u]:a,x=0,S=g.length;x<S;x++)this.extend(g[x])}D.prototype={extend:function(a){var u,g;if(!a)return this;if(a instanceof ee||typeof a[0]=="number"||"x"in a)u=g=_e(a);else if(a=J(a),u=a.min,g=a.max,!u||!g)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=g.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return _e((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return _e(this.min.x,this.max.y)},getTopRight:function(){return _e(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,g;return typeof a[0]=="number"||a instanceof ee?a=_e(a):a=J(a),a instanceof D?(u=a.min,g=a.max):u=g=a,u.x>=this.min.x&&g.x<=this.max.x&&u.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=J(a);var u=this.min,g=this.max,x=a.min,S=a.max,P=S.x>=u.x&&x.x<=g.x,K=S.y>=u.y&&x.y<=g.y;return P&&K},overlaps:function(a){a=J(a);var u=this.min,g=this.max,x=a.min,S=a.max,P=S.x>u.x&&x.x<g.x,K=S.y>u.y&&x.y<g.y;return P&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,g=this.max,x=Math.abs(u.x-g.x)*a,S=Math.abs(u.y-g.y)*a;return J(_e(u.x-x,u.y-S),_e(g.x+x,g.y+S))},equals:function(a){return a?(a=J(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function J(a,u){return!a||a instanceof D?a:new D(a,u)}function pe(a,u){if(a)for(var g=u?[a,u]:a,x=0,S=g.length;x<S;x++)this.extend(g[x])}pe.prototype={extend:function(a){var u=this._southWest,g=this._northEast,x,S;if(a instanceof Ae)x=a,S=a;else if(a instanceof pe){if(x=a._southWest,S=a._northEast,!x||!S)return this}else return a?this.extend(Ce(a)||xe(a)):this;return!u&&!g?(this._southWest=new Ae(x.lat,x.lng),this._northEast=new Ae(S.lat,S.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),g.lat=Math.max(S.lat,g.lat),g.lng=Math.max(S.lng,g.lng)),this},pad:function(a){var u=this._southWest,g=this._northEast,x=Math.abs(u.lat-g.lat)*a,S=Math.abs(u.lng-g.lng)*a;return new pe(new Ae(u.lat-x,u.lng-S),new Ae(g.lat+x,g.lng+S))},getCenter:function(){return new Ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ae||"lat"in a?a=Ce(a):a=xe(a);var u=this._southWest,g=this._northEast,x,S;return a instanceof pe?(x=a.getSouthWest(),S=a.getNorthEast()):x=S=a,x.lat>=u.lat&&S.lat<=g.lat&&x.lng>=u.lng&&S.lng<=g.lng},intersects:function(a){a=xe(a);var u=this._southWest,g=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=u.lat&&x.lat<=g.lat,K=S.lng>=u.lng&&x.lng<=g.lng;return P&&K},overlaps:function(a){a=xe(a);var u=this._southWest,g=this._northEast,x=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>u.lat&&x.lat<g.lat,K=S.lng>u.lng&&x.lng<g.lng;return P&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=xe(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xe(a,u){return a instanceof pe?a:new pe(a,u)}function Ae(a,u,g){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,g!==void 0&&(this.alt=+g)}Ae.prototype={equals:function(a,u){if(!a)return!1;a=Ce(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return At.distance(this,Ce(a))},wrap:function(){return At.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,g=u/Math.cos(Math.PI/180*this.lat);return xe([this.lat-u,this.lng-g],[this.lat+u,this.lng+g])},clone:function(){return new Ae(this.lat,this.lng,this.alt)}};function Ce(a,u,g){return a instanceof Ae?a:$(a)&&typeof a[0]!="object"?a.length===3?new Ae(a[0],a[1],a[2]):a.length===2?new Ae(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ae(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Ae(a,u,g)}var He={latLngToPoint:function(a,u){var g=this.projection.project(a),x=this.scale(u);return this.transformation._transform(g,x)},pointToLatLng:function(a,u){var g=this.scale(u),x=this.transformation.untransform(a,g);return this.projection.unproject(x)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,g=this.scale(a),x=this.transformation.transform(u.min,g),S=this.transformation.transform(u.max,g);return new D(x,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,x=a.alt;return new Ae(g,u,x)},wrapLatLngBounds:function(a){var u=a.getCenter(),g=this.wrapLatLng(u),x=u.lat-g.lat,S=u.lng-g.lng;if(x===0&&S===0)return a;var P=a.getSouthWest(),K=a.getNorthEast(),se=new Ae(P.lat-x,P.lng-S),ce=new Ae(K.lat-x,K.lng-S);return new pe(se,ce)}},At=o({},He,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var g=Math.PI/180,x=a.lat*g,S=u.lat*g,P=Math.sin((u.lat-a.lat)*g/2),K=Math.sin((u.lng-a.lng)*g/2),se=P*P+Math.cos(x)*Math.cos(S)*K*K,ce=2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se));return this.R*ce}}),Ct=6378137,Hn={R:Ct,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,g=this.MAX_LATITUDE,x=Math.max(Math.min(g,a.lat),-g),S=Math.sin(x*u);return new ee(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new Ae((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Ct*Math.PI;return new D([-a,-a],[a,a])})()};function wi(a,u,g,x){if($(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=g,this._d=x}wi.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new ee((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Kn(a,u,g,x){return new wi(a,u,g,x)}var Ei=o({},At,{code:"EPSG:3857",projection:Hn,transformation:(function(){var a=.5/(Math.PI*Hn.R);return Kn(a,.5,-a,.5)})()}),Wn=o({},Ei,{code:"EPSG:900913"});function fs(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ui(a,u){var g="",x,S,P,K,se,ce;for(x=0,P=a.length;x<P;x++){for(se=a[x],S=0,K=se.length;S<K;S++)ce=se[S],g+=(S?"L":"M")+ce.x+" "+ce.y;g+=u?ke.svg?"z":"x":""}return g||"M0 0"}var ms=document.documentElement.style,ps="ActiveXObject"in window,Zt=ps&&!document.addEventListener,$t="msLaunchUri"in navigator&&!("documentMode"in document),Ti=Mn("webkit"),Da=Mn("android"),qr=Mn("android 2")||Mn("android 3"),Cn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Us=Da&&Mn("Google")&&Cn<537&&!("AudioNode"in window),Bs=!!window.opera,hr=!$t&&Mn("chrome"),qi=Mn("gecko")&&!Ti&&!Bs&&!ps,Zo=!hr&&Mn("safari"),Fr=Mn("phantom"),Gr="OTransition"in ms,ja=navigator.platform.indexOf("Win")===0,Qn=ps&&"transition"in ms,Wt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qr,Q="MozPerspective"in ms,Pe=!window.L_DISABLE_3D&&(Qn||Wt||Q)&&!Gr&&!Fr,Je=typeof orientation<"u"||Mn("mobile"),tt=Je&&Ti,nn=Je&&Wt,Dt=!window.PointerEvent&&window.MSPointerEvent,gs=!!(window.PointerEvent||Dt),Qt="ontouchstart"in window||!!window.TouchEvent,ys=!window.L_NO_TOUCH&&(Qt||gs),_s=Je&&Bs,Fi=Je&&qi,cu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jl=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",E,u),window.removeEventListener("testPassiveEventSupport",E,u)}catch{}return a})(),vs=(function(){return!!document.createElement("canvas").getContext})(),Hs=!!(document.createElementNS&&fs("svg").createSVGRect),uu=!!Hs&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Zr=!Hs&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),$o=navigator.platform.indexOf("Mac")===0,Yo=navigator.platform.indexOf("Linux")===0;function Mn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var ke={ie:ps,ielt9:Zt,edge:$t,webkit:Ti,android:Da,android23:qr,androidStock:Us,opera:Bs,chrome:hr,gecko:qi,safari:Zo,phantom:Fr,opera12:Gr,win:ja,ie3d:Qn,webkit3d:Wt,gecko3d:Q,any3d:Pe,mobile:Je,mobileWebkit:tt,mobileWebkit3d:nn,msPointer:Dt,pointer:gs,touch:ys,touchNative:Qt,mobileOpera:_s,mobileGecko:Fi,retina:cu,passiveEvents:Jl,canvas:vs,svg:Hs,vml:Zr,inlineSvg:uu,mac:$o,linux:Yo},Ko=ke.msPointer?"MSPointerDown":"pointerdown",Si=ke.msPointer?"MSPointerMove":"pointermove",Ai=ke.msPointer?"MSPointerUp":"pointerup",Xt=ke.msPointer?"MSPointerCancel":"pointercancel",sn={touchstart:Ko,touchmove:Si,touchend:Ai,touchcancel:Xt},Gi={touchstart:xs,touchmove:Ln,touchend:Ln,touchcancel:Ln},Zi={},ec=!1;function tc(a,u,g){return u==="touchstart"&&Ci(),Gi[u]?(g=Gi[u].bind(this,g),a.addEventListener(sn[u],g,!1),g):(console.warn("wrong event specified:",u),E)}function nc(a,u,g){if(!sn[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(sn[u],g,!1)}function bs(a){Zi[a.pointerId]=a}function Va(a){Zi[a.pointerId]&&(Zi[a.pointerId]=a)}function $i(a){delete Zi[a.pointerId]}function Ci(){ec||(document.addEventListener(Ko,bs,!0),document.addEventListener(Si,Va,!0),document.addEventListener(Ai,$i,!0),document.addEventListener(Xt,$i,!0),ec=!0)}function Ln(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var g in Zi)u.touches.push(Zi[g]);u.changedTouches=[u],a(u)}}function xs(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&qt(u),Ln(a,u)}function rn(a){var u={},g,x;for(x in a)g=a[x],u[x]=g&&g.bind?g.bind(a):g;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Wo=200;function Qo(a,u){a.addEventListener("dblclick",u);var g=0,x;function S(P){if(P.detail!==1){x=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var K=gr(P);if(!(K.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!K.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var se=Date.now();se-g<=Wo?(x++,x===2&&u(rn(P))):x=1,g=se}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function ws(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var Ni=Yr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qs=Yr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),za=qs==="webkitTransition"||qs==="OTransition"?qs+"End":"transitionend";function Ua(a){return typeof a=="string"?document.getElementById(a):a}function dr(a,u){var g=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!g||g==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(a,null);g=x?x[u]:null}return g==="auto"?null:g}function rt(a,u,g){var x=document.createElement(a);return x.className=u||"",g&&g.appendChild(x),x}function at(a){var u=a.parentNode;u&&u.removeChild(a)}function Bt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ht(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function hi(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function $r(a,u){if(a.classList!==void 0)return a.classList.contains(u);var g=Es(a);return g.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(g)}function Le(a,u){if(a.classList!==void 0)for(var g=j(u),x=0,S=g.length;x<S;x++)a.classList.add(g[x]);else if(!$r(a,u)){var P=Es(a);Ri(a,(P?P+" ":"")+u)}}function Nt(a,u){a.classList!==void 0?a.classList.remove(u):Ri(a,R((" "+Es(a)+" ").replace(" "+u+" "," ")))}function Ri(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Es(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function jt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Ba(a,u)}function Ba(a,u){var g=!1,x="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),g?(g.Enabled=u!==100,g.Opacity=u):a.style.filter+=" progid:"+x+"(opacity="+u+")"}function Yr(a){for(var u=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in u)return a[g];return!1}function Yi(a,u,g){var x=u||new ee(0,0);a.style[Ni]=(ke.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(g?" scale("+g+")":"")}function Rt(a,u){a._leaflet_pos=u,ke.any3d?Yi(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Ts(a){return a._leaflet_pos||new ee(0,0)}var Ii,_n,Ha;if("onselectstart"in document)Ii=function(){qe(window,"selectstart",qt)},_n=function(){vt(window,"selectstart",qt)};else{var Fs=Yr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ii=function(){if(Fs){var a=document.documentElement.style;Ha=a[Fs],a[Fs]="none"}},_n=function(){Fs&&(document.documentElement.style[Fs]=Ha,Ha=void 0)}}function Kr(){qe(window,"dragstart",qt)}function fr(){vt(window,"dragstart",qt)}var Wr,Ss;function mr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Xn(),Wr=a,Ss=a.style.outlineStyle,a.style.outlineStyle="none",qe(window,"keydown",Xn))}function Xn(){Wr&&(Wr.style.outlineStyle=Ss,Wr=void 0,Ss=void 0,vt(window,"keydown",Xn))}function qa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Jn(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var pr={__proto__:null,TRANSFORM:Ni,TRANSITION:qs,TRANSITION_END:za,get:Ua,getStyle:dr,create:rt,remove:at,empty:Bt,toFront:Ht,toBack:hi,hasClass:$r,addClass:Le,removeClass:Nt,setClass:Ri,getClass:Es,setOpacity:jt,testProp:Yr,setTransform:Yi,setPosition:Rt,getPosition:Ts,get disableTextSelection(){return Ii},get enableTextSelection(){return _n},disableImageDrag:Kr,enableImageDrag:fr,preventOutline:mr,restoreOutline:Xn,getSizedParentNode:qa,getScale:Jn};function qe(a,u,g,x){if(u&&typeof u=="object")for(var S in u)ei(a,S,u[S],g);else{u=j(u);for(var P=0,K=u.length;P<K;P++)ei(a,u[P],g,x)}return this}var On="_leaflet_events";function vt(a,u,g,x){if(arguments.length===1)Gs(a),delete a[On];else if(u&&typeof u=="object")for(var S in u)Zs(a,S,u[S],g);else if(u=j(u),arguments.length===2)Gs(a,function(se){return te(u,se)!==-1});else for(var P=0,K=u.length;P<K;P++)Zs(a,u[P],g,x);return this}function Gs(a,u){for(var g in a[On]){var x=g.split(/\d/)[0];(!u||u(x))&&Zs(a,x,null,null,g)}}var di={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ei(a,u,g,x){var S=u+p(g)+(x?"_"+p(x):"");if(a[On]&&a[On][S])return this;var P=function(se){return g.call(x||a,se||window.event)},K=P;!ke.touchNative&&ke.pointer&&u.indexOf("touch")===0?P=tc(a,u,P):ke.touch&&u==="dblclick"?P=Qo(a,P):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(di[u]||u,P,ke.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(P=function(se){se=se||window.event,Qi(a,se)&&K(se)},a.addEventListener(di[u],P,!1)):a.addEventListener(u,K,!1):a.attachEvent("on"+u,P),a[On]=a[On]||{},a[On][S]=P}function Zs(a,u,g,x,S){S=S||u+p(g)+(x?"_"+p(x):"");var P=a[On]&&a[On][S];if(!P)return this;!ke.touchNative&&ke.pointer&&u.indexOf("touch")===0?nc(a,u,P):ke.touch&&u==="dblclick"?ws(a,P):"removeEventListener"in a?a.removeEventListener(di[u]||u,P,!1):a.detachEvent("on"+u,P),a[On][S]=null}function ut(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Pi(a){return ei(a,"wheel",ut),this}function $s(a){return qe(a,"mousedown touchstart dblclick contextmenu",ut),a._leaflet_disable_click=!0,this}function qt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ki(a){return qt(a),ut(a),this}function gr(a){if(a.composedPath)return a.composedPath();for(var u=[],g=a.target;g;)u.push(g),g=g.parentNode;return u}function As(a,u){if(!u)return new ee(a.clientX,a.clientY);var g=Jn(u),x=g.boundingClientRect;return new ee((a.clientX-x.left)/g.x-u.clientLeft,(a.clientY-x.top)/g.y-u.clientTop)}var Wi=ke.linux&&ke.chrome?window.devicePixelRatio:ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function vn(a){return ke.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Wi:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Qi(a,u){var g=u.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var Cs={__proto__:null,on:qe,off:vt,stopPropagation:ut,disableScrollPropagation:Pi,disableClickPropagation:$s,preventDefault:qt,stop:Ki,getPropagationPath:gr,getMousePosition:As,getWheelDelta:vn,isExternalTarget:Qi,addListener:qe,removeListener:vt},Ys=Se.extend({run:function(a,u,g,x){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Ts(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,g=this._duration*1e3;u<g?this._runFrame(this._easeOut(u/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var g=this._startPos.add(this._offset.multiplyBy(a));u&&g._round(),Rt(this._el,g),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),st=Se.extend({options:{crs:Ei,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=U(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ce(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qs&&ke.any3d&&!ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),qe(this._proxy,za,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,g){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Ce(a),u,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=o({animate:g.animate},g.zoom),g.pan=o({animate:g.animate,duration:g.duration},g.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,g.zoom):this._tryAnimatedPan(a,g.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,g){var x=this.getZoomScale(u),S=this.getSize().divideBy(2),P=a instanceof ee?a:this.latLngToContainerPoint(a),K=P.subtract(S).multiplyBy(1-1/x),se=this.containerPointToLatLng(S.add(K));return this.setView(se,u,{zoom:g})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():xe(a);var g=_e(u.paddingTopLeft||u.padding||[0,0]),x=_e(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,g.add(x));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=x.subtract(g).divideBy(2),K=this.project(a.getSouthWest(),S),se=this.project(a.getNorthEast(),S),ce=this.unproject(K.add(se).divideBy(2).add(P),S);return{center:ce,zoom:S}},fitBounds:function(a,u){if(a=xe(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,u);return this.setView(g.center,g.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=_e(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ys,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,g){if(g=g||{},g.animate===!1||!ke.any3d)return this.setView(a,u,g);this._stop();var x=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),K=this._zoom;a=Ce(a),u=u===void 0?K:u;var se=Math.max(P.x,P.y),ce=se*this.getZoomScale(K,u),we=S.distanceTo(x)||1,Ie=1.42,ze=Ie*Ie;function nt(Jt){var Js=Jt?-1:1,ia=Jt?ce:se,gu=ce*ce-se*se+Js*ze*ze*we*we,yl=2*ia*ze*we,_l=gu/yl,Ar=Math.sqrt(_l*_l+1)-_l,er=Ar<1e-9?-18:Math.log(Ar);return er}function Nn(Jt){return(Math.exp(Jt)-Math.exp(-Jt))/2}function an(Jt){return(Math.exp(Jt)+Math.exp(-Jt))/2}function pi(Jt){return Nn(Jt)/an(Jt)}var bt=nt(0);function xt(Jt){return se*(an(bt)/an(bt+Ie*Jt))}function ot(Jt){return se*(an(bt)*pi(bt+Ie*Jt)-Nn(bt))/ze}function Tr(Jt){return 1-Math.pow(1-Jt,1.5)}var Di=Date.now(),pc=(nt(1)-bt)/Ie,Sr=g.duration?1e3*g.duration:1e3*pc*.8;function pu(){var Jt=(Date.now()-Di)/Sr,Js=Tr(Jt)*pc;Jt<=1?(this._flyToFrame=H(pu,this),this._move(this.unproject(x.add(S.subtract(x).multiplyBy(ot(Js)/we)),K),this.getScaleZoom(se/xt(Js),K),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),pu.call(this),this},flyToBounds:function(a,u){var g=this._getBoundsCenterZoom(a,u);return this.flyTo(g.center,g.zoom,u)},setMaxBounds:function(a){return a=xe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var g=this.getCenter(),x=this._limitCenter(g,this._zoom,xe(a));return g.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var g=_e(u.paddingTopLeft||u.padding||[0,0]),x=_e(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),K=this.getPixelBounds(),se=J([K.min.add(g),K.max.subtract(x)]),ce=se.getSize();if(!se.contains(P)){this._enforcingBounds=!0;var we=P.subtract(se.getCenter()),Ie=se.extend(P).getSize().subtract(ce);S.x+=we.x<0?-Ie.x:Ie.x,S.y+=we.y<0?-Ie.y:Ie.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),x=u.divideBy(2).round(),S=g.divideBy(2).round(),P=x.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),g=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,g,a):navigator.geolocation.getCurrentPosition(u,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,g=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,g=a.coords.longitude,x=new Ae(u,g),S=x.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var K=this.getBoundsZoom(S);this.setView(x,P.maxZoom?Math.min(K,P.maxZoom):K)}var se={latlng:x,bounds:S,timestamp:a.timestamp};for(var ce in a.coords)typeof a.coords[ce]=="number"&&(se[ce]=a.coords[ce]);this.fire("locationfound",se)}},addHandler:function(a,u){if(!u)return this;var g=this[a]=new u(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)at(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),x=rt("div",g,u||this._mapPane);return a&&(this._panes[a]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new pe(u,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,g){a=xe(a),g=_e(g||[0,0]);var x=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),K=a.getNorthWest(),se=a.getSouthEast(),ce=this.getSize().subtract(g),we=J(this.project(se,x),this.project(K,x)).getSize(),Ie=ke.any3d?this.options.zoomSnap:1,ze=ce.x/we.x,nt=ce.y/we.y,Nn=u?Math.max(ze,nt):Math.min(ze,nt);return x=this.getScaleZoom(Nn,x),Ie&&(x=Math.round(x/(Ie/100))*(Ie/100),x=u?Math.ceil(x/Ie)*Ie:Math.floor(x/Ie)*Ie),Math.max(S,Math.min(P,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var g=this._getTopLeftPoint(a,u);return new D(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var g=this.options.crs;return u=u===void 0?this._zoom:u,g.scale(a)/g.scale(u)},getScaleZoom:function(a,u){var g=this.options.crs;u=u===void 0?this._zoom:u;var x=g.zoom(a*g.scale(u));return isNaN(x)?1/0:x},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ce(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(_e(a),u)},layerPointToLatLng:function(a){var u=_e(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Ce(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ce(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(xe(a))},distance:function(a,u){return this.options.crs.distance(Ce(a),Ce(u))},containerPointToLayerPoint:function(a){return _e(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return _e(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(_e(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ce(a)))},mouseEventToContainerPoint:function(a){return As(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Ua(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");qe(u,"scroll",this._onScroll,this),this._containerId=p(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke.any3d,Le(a,"leaflet-container"+(ke.touch?" leaflet-touch":"")+(ke.retina?" leaflet-retina":"")+(ke.ielt9?" leaflet-oldie":"")+(ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=dr(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Rt(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(a.markerPane,"leaflet-zoom-hide"),Le(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,g){Rt(this._mapPane,new ee(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,g)._move(a,u)._moveEnd(S),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,g,x){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),x?g&&g.pinch&&this.fire("zoom",g):((S||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Rt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[p(this._container)]=this;var u=a?vt:qe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),ke.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var g=[],x,S=u==="mouseout"||u==="mouseover",P=a.target||a.srcElement,K=!1;P;){if(x=this._targets[p(P)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){K=!0;break}if(x&&x.listens(u,!0)&&(S&&!Qi(P,a)||(g.push(x),S))||P===this._container)break;P=P.parentNode}return!g.length&&!K&&!S&&this.listens(u,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var g=a.type;g==="mousedown"&&mr(u),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,g){if(a.type==="click"){var x=o({},a);x.type="preclick",this._fireDOMEvent(x,x.type,g)}var S=this._findEventTargets(a,u);if(g){for(var P=[],K=0;K<g.length;K++)g[K].listens(u,!0)&&P.push(g[K]);S=P.concat(S)}if(S.length){u==="contextmenu"&&qt(a);var se=S[0],ce={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var we=se.getLatLng&&(!se._radius||se._radius<=10);ce.containerPoint=we?this.latLngToContainerPoint(se.getLatLng()):this.mouseEventToContainerPoint(a),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=we?se.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(K=0;K<S.length;K++)if(S[K].fire(u,ce,!0),ce.originalEvent._stopped||S[K].options.bubblingMouseEvents===!1&&te(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Ts(this._mapPane)||new ee(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var g=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var g=this.getSize()._divideBy(2);return this.project(a,u)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,g){var x=this._getNewPixelOrigin(g,u);return this.project(a,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(a,u,g){var x=this._getNewPixelOrigin(g,u);return J([this.project(a.getSouthWest(),u)._subtract(x),this.project(a.getNorthWest(),u)._subtract(x),this.project(a.getSouthEast(),u)._subtract(x),this.project(a.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,g){if(!g)return a;var x=this.project(a,u),S=this.getSize().divideBy(2),P=new D(x.subtract(S),x.add(S)),K=this._getBoundsOffset(P,g,u);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?a:this.unproject(x.add(K),u)},_limitOffset:function(a,u){if(!u)return a;var g=this.getPixelBounds(),x=new D(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(a,u,g){var x=J(this.project(u.getNorthEast(),g),this.project(u.getSouthWest(),g)),S=x.min.subtract(a.min),P=x.max.subtract(a.max),K=this._rebound(S.x,-P.x),se=this._rebound(S.y,-P.y);return new ee(K,se)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),g=this.getMaxZoom(),x=ke.any3d?this.options.zoomSnap:1;return x&&(a=Math.round(a/x)*x),Math.max(u,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var g=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,u),!0)},_createAnimProxy:function(){var a=this._proxy=rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var g=Ni,x=this._proxy.style[g];Yi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Yi(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/x);return g.animate!==!0&&!this.getSize().contains(S)?!1:(H(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,g,x){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yr(a,u){return new st(a,u)}var kn=de.extend({options:{position:"topright"},initialize:function(a){U(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),g=this.getPosition(),x=a._controlCorners[g];return Le(u,"leaflet-control"),g.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),ti=function(a){return new kn(a)};st.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",g=this._controlContainer=rt("div",u+"control-container",this._container);function x(S,P){var K=u+S+" "+u+P;a[S+P]=rt("div",K,g)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)at(this._controlCorners[a]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qr=kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,g,x){return g<x?-1:x<g?1:0}},initialize:function(a,u,g){U(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in a)this._addLayer(a[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return kn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(p(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=rt("div",a),g=this.options.collapsed;u.setAttribute("aria-haspopup",!0),$s(u),Pi(u);var x=this._section=rt("section",a+"-list");g&&(this._map.on("click",this.collapse,this),qe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=rt("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),qe(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){qt(P),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=rt("div",a+"-base",x),this._separator=rt("div",a+"-separator",x),this._overlaysList=rt("div",a+"-overlays",x),u.appendChild(x)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&p(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:g}),this.options.sortLayers&&this._layers.sort(d(function(x,S){return this.options.sortFunction(x.layer,S.layer,x.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bt(this._baseLayersList),Bt(this._overlaysList),this._layerControlInputs=[];var a,u,g,x,S=0;for(g=0;g<this._layers.length;g++)x=this._layers[g],this._addItem(x),u=u||x.overlay,a=a||!x.overlay,S+=x.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(p(a.target)),g=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,u)},_createRadioElement:function(a,u){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=g,x.firstChild},_addItem:function(a){var u=document.createElement("label"),g=this._map.hasLayer(a.layer),x;a.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=g):x=this._createRadioElement("leaflet-base-layers_"+p(this),g),this._layerControlInputs.push(x),x.layerId=p(a.layer),qe(x,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");u.appendChild(P),P.appendChild(x),P.appendChild(S);var K=a.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,g,x=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)u=a[P],g=this._getLayer(u.layerId).layer,u.checked?x.push(g):u.checked||S.push(g);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<x.length;P++)this._map.hasLayer(x[P])||this._map.addLayer(x[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,g,x=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],g=this._getLayer(u.layerId).layer,u.disabled=g.options.minZoom!==void 0&&x<g.options.minZoom||g.options.maxZoom!==void 0&&x>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,qe(a,"click",qt),this.expand();var u=this;setTimeout(function(){vt(a,"click",qt),u._preventClick=!1})}}),Xo=function(a,u,g){return new Qr(a,u,g)},Ks=kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",g=rt("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,g,x,S){var P=rt("a",g,x);return P.innerHTML=a,P.href="#",P.title=u,P.setAttribute("role","button"),P.setAttribute("aria-label",u),$s(P),qe(P,"click",Ki),qe(P,"click",S,this),qe(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Nt(this._zoomInButton,u),Nt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Le(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Le(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});st.mergeOptions({zoomControl:!0}),st.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ks,this.addControl(this.zoomControl))});var ic=function(a){return new Ks(a)},Jo=kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",g=rt("div",u),x=this.options;return this._addScales(x,u+"-line",g),a.on(x.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,g){a.metric&&(this._mScale=rt("div",u,g)),a.imperial&&(this._iScale=rt("div",u,g))},_update:function(){var a=this._map,u=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),g=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,g,u/a)},_updateImperial:function(a){var u=a*3.2808399,g,x,S;u>5280?(g=u/5280,x=this._getRoundNum(g),this._updateScale(this._iScale,x+" mi",x/g)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),g=a/u;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,u*g}}),Xr=function(a){return new Jo(a)},el='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Fa=kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ke.inlineSvg?el+" ":"")+"Leaflet</a>"},initialize:function(a){U(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=rt("div","leaflet-control-attribution"),$s(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});st.mergeOptions({attributionControl:!0}),st.addInitHook(function(){this.options.attributionControl&&new Fa().addTo(this)});var Ga=function(a){return new Fa(a)};kn.Layers=Qr,kn.Zoom=Ks,kn.Scale=Jo,kn.Attribution=Fa,ti.layers=Xo,ti.zoom=ic,ti.scale=Xr,ti.attribution=Ga;var fi=de.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fi.addTo=function(a,u){return a.addHandler(u,this),this};var sc={Events:ae},Xi=ke.touch?"touchstart mousedown":"mousedown",Ji=Se.extend({options:{clickTolerance:3},initialize:function(a,u,g,x){U(this,x),this._element=a,this._dragStartTarget=u||a,this._preventOutline=g},enable:function(){this._enabled||(qe(this._dragStartTarget,Xi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ji._dragging===this&&this.finishDrag(!0),vt(this._dragStartTarget,Xi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!$r(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ji._dragging===this&&this.finishDrag();return}if(!(Ji._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ji._dragging=this,this._preventOutline&&mr(this._element),Kr(),Ii(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,g=qa(this._element);this._startPoint=new ee(u.clientX,u.clientY),this._startPos=Ts(this._element),this._parentScale=Jn(g);var x=a.type==="mousedown";qe(document,x?"mousemove":"touchmove",this._onMove,this),qe(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,g=new ee(u.clientX,u.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,qt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Rt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Nt(document.body,"leaflet-dragging"),this._lastTarget&&(Nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),vt(document,"mousemove touchmove",this._onMove,this),vt(document,"mouseup touchend touchcancel",this._onUp,this),fr(),_n();var u=this._moved&&this._moving;this._moving=!1,Ji._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function tl(a,u,g){var x,S=[1,4,2,8],P,K,se,ce,we,Ie,ze,nt;for(P=0,Ie=a.length;P<Ie;P++)a[P]._code=he(a[P],u);for(se=0;se<4;se++){for(ze=S[se],x=[],P=0,Ie=a.length,K=Ie-1;P<Ie;K=P++)ce=a[P],we=a[K],ce._code&ze?we._code&ze||(nt=re(we,ce,ze,u,g),nt._code=he(nt,u),x.push(nt)):(we._code&ze&&(nt=re(we,ce,ze,u,g),nt._code=he(nt,u),x.push(nt)),x.push(ce));a=x}return a}function nl(a,u){var g,x,S,P,K,se,ce,we,Ie;if(!a||a.length===0)throw new Error("latlngs not passed");gt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ze=Ce([0,0]),nt=xe(a),Nn=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());Nn<1700&&(ze=Za(a));var an=a.length,pi=[];for(g=0;g<an;g++){var bt=Ce(a[g]);pi.push(u.project(Ce([bt.lat-ze.lat,bt.lng-ze.lng])))}for(se=ce=we=0,g=0,x=an-1;g<an;x=g++)S=pi[g],P=pi[x],K=S.y*P.x-P.y*S.x,ce+=(S.x+P.x)*K,we+=(S.y+P.y)*K,se+=K*3;se===0?Ie=pi[0]:Ie=[ce/se,we/se];var xt=u.unproject(_e(Ie));return Ce([xt.lat+ze.lat,xt.lng+ze.lng])}function Za(a){for(var u=0,g=0,x=0,S=0;S<a.length;S++){var P=Ce(a[S]);u+=P.lat,g+=P.lng,x++}return Ce([u/x,g/x])}var _r={__proto__:null,clipPolygon:tl,polygonCenter:nl,centroid:Za};function Dn(a,u){if(!u||!a.length)return a.slice();var g=u*u;return a=T(a,g),a=Ws(a,g),a}function il(a,u,g){return Math.sqrt(Ye(a,u,g,!0))}function rc(a,u,g){return Ye(a,u,g)}function Ws(a,u){var g=a.length,x=typeof Uint8Array<"u"?Uint8Array:Array,S=new x(g);S[0]=S[g-1]=1,m(a,S,u,0,g-1);var P,K=[];for(P=0;P<g;P++)S[P]&&K.push(a[P]);return K}function m(a,u,g,x,S){var P=0,K,se,ce;for(se=x+1;se<=S-1;se++)ce=Ye(a[se],a[x],a[S],!0),ce>P&&(K=se,P=ce);P>g&&(u[K]=1,m(a,u,g,x,K),m(a,u,g,K,S))}function T(a,u){for(var g=[a[0]],x=1,S=0,P=a.length;x<P;x++)Ne(a[x],a[S])>u&&(g.push(a[x]),S=x);return S<P-1&&g.push(a[P-1]),g}var C;function z(a,u,g,x,S){var P=x?C:he(a,g),K=he(u,g),se,ce,we;for(C=K;;){if(!(P|K))return[a,u];if(P&K)return!1;se=P||K,ce=re(a,u,se,g,S),we=he(ce,g),se===P?(a=ce,P=we):(u=ce,K=we)}}function re(a,u,g,x,S){var P=u.x-a.x,K=u.y-a.y,se=x.min,ce=x.max,we,Ie;return g&8?(we=a.x+P*(ce.y-a.y)/K,Ie=ce.y):g&4?(we=a.x+P*(se.y-a.y)/K,Ie=se.y):g&2?(we=ce.x,Ie=a.y+K*(ce.x-a.x)/P):g&1&&(we=se.x,Ie=a.y+K*(se.x-a.x)/P),new ee(we,Ie,S)}function he(a,u){var g=0;return a.x<u.min.x?g|=1:a.x>u.max.x&&(g|=2),a.y<u.min.y?g|=4:a.y>u.max.y&&(g|=8),g}function Ne(a,u){var g=u.x-a.x,x=u.y-a.y;return g*g+x*x}function Ye(a,u,g,x){var S=u.x,P=u.y,K=g.x-S,se=g.y-P,ce=K*K+se*se,we;return ce>0&&(we=((a.x-S)*K+(a.y-P)*se)/ce,we>1?(S=g.x,P=g.y):we>0&&(S+=K*we,P+=se*we)),K=a.x-S,se=a.y-P,x?K*K+se*se:new ee(S,P)}function gt(a){return!$(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function yt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gt(a)}function Vt(a,u){var g,x,S,P,K,se,ce,we;if(!a||a.length===0)throw new Error("latlngs not passed");gt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ie=Ce([0,0]),ze=xe(a),nt=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());nt<1700&&(Ie=Za(a));var Nn=a.length,an=[];for(g=0;g<Nn;g++){var pi=Ce(a[g]);an.push(u.project(Ce([pi.lat-Ie.lat,pi.lng-Ie.lng])))}for(g=0,x=0;g<Nn-1;g++)x+=an[g].distanceTo(an[g+1])/2;if(x===0)we=an[0];else for(g=0,P=0;g<Nn-1;g++)if(K=an[g],se=an[g+1],S=K.distanceTo(se),P+=S,P>x){ce=(P-x)/S,we=[se.x-ce*(se.x-K.x),se.y-ce*(se.y-K.y)];break}var bt=u.unproject(_e(we));return Ce([bt.lat+Ie.lat,bt.lng+Ie.lng])}var Mi={__proto__:null,simplify:Dn,pointToSegmentDistance:il,closestPointOnSegment:rc,clipSegment:z,_getEdgeIntersection:re,_getBitCode:he,_sqClosestPointOnSegment:Ye,isFlat:gt,_flat:yt,polylineCenter:Vt},Li={project:function(a){return new ee(a.lng,a.lat)},unproject:function(a){return new Ae(a.y,a.x)},bounds:new D([-180,-90],[180,90])},mi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new D([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,g=this.R,x=a.lat*u,S=this.R_MINOR/g,P=Math.sqrt(1-S*S),K=P*Math.sin(x),se=Math.tan(Math.PI/4-x/2)/Math.pow((1-K)/(1+K),P/2);return x=-g*Math.log(Math.max(se,1e-10)),new ee(a.lng*u*g,x)},unproject:function(a){for(var u=180/Math.PI,g=this.R,x=this.R_MINOR/g,S=Math.sqrt(1-x*x),P=Math.exp(-a.y/g),K=Math.PI/2-2*Math.atan(P),se=0,ce=.1,we;se<15&&Math.abs(ce)>1e-7;se++)we=S*Math.sin(K),we=Math.pow((1-we)/(1+we),S/2),ce=Math.PI/2-2*Math.atan(P*we)-K,K+=ce;return new Ae(K*u,a.x*u/g)}},es={__proto__:null,LonLat:Li,Mercator:mi,SphericalMercator:Hn},Jr=o({},At,{code:"EPSG:3395",projection:mi,transformation:(function(){var a=.5/(Math.PI*mi.R);return Kn(a,.5,-a,.5)})()}),ea=o({},At,{code:"EPSG:4326",projection:Li,transformation:Kn(1/180,1,-1/180,.5)}),$a=o({},He,{projection:Li,transformation:Kn(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var g=u.lng-a.lng,x=u.lat-a.lat;return Math.sqrt(g*g+x*x)},infinite:!0});He.Earth=At,He.EPSG3395=Jr,He.EPSG3857=Ei,He.EPSG900913=Wn,He.EPSG4326=ea,He.Simple=$a;var ts=Se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[p(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[p(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var g=this.getEvents();u.on(g,this),this.once("remove",function(){u.off(g,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});st.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=p(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=p(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return p(a)in this._layers},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},_addLayers:function(a){a=a?$(a)?a:[a]:[];for(var u=0,g=a.length;u<g;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[p(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=p(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,g=this._getZoomSpan();for(var x in this._zoomBoundLayers){var S=this._zoomBoundLayers[x].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ya=ts.extend({initialize:function(a,u){U(this,u),this._layers={};var g,x;if(a)for(g=0,x=a.length;g<x;g++)this.addLayer(a[g])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),g,x;for(g in this._layers)x=this._layers[g],x[a]&&x[a].apply(x,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return p(a)}}),Im=function(a,u){return new Ya(a,u)},Ns=Ya.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ya.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ya.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new pe;for(var u in this._layers){var g=this._layers[u];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),Fh=function(a,u){return new Ns(a,u)},Rs=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){U(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(g,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(a,u){var g=this.options,x=g[u+"Size"];typeof x=="number"&&(x=[x,x]);var S=_e(x),P=_e(u==="shadow"&&g.shadowAnchor||g.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(g.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return ke.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function sl(a){return new Rs(a)}var rl=Rs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof rl.imagePath!="string"&&(rl.imagePath=this._detectIconPath()),(this.options.imagePath||rl.imagePath)+Rs.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(g,x,S){var P=x.exec(g);return P&&P[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=rt("div","leaflet-default-icon-path",document.body),u=dr(a,"background-image")||dr(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),al=fi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ji(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,g=u._map,x=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=Ts(u._icon),K=g.getPixelBounds(),se=g.getPixelOrigin(),ce=J(K.min._subtract(se).add(S),K.max._subtract(se).subtract(S));if(!ce.contains(P)){var we=_e((Math.max(ce.max.x,P.x)-ce.max.x)/(K.max.x-ce.max.x)-(Math.min(ce.min.x,P.x)-ce.min.x)/(K.min.x-ce.min.x),(Math.max(ce.max.y,P.y)-ce.max.y)/(K.max.y-ce.max.y)-(Math.min(ce.min.y,P.y)-ce.min.y)/(K.min.y-ce.min.y)).multiplyBy(x);g.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),Rt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=H(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,g=u._shadow,x=Ts(u._icon),S=u._map.layerPointToLatLng(x);g&&Rt(g,x),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),ol=ts.extend({options:{icon:new rl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){U(this,u),this._latlng=Ce(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Ce(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),x=!1;g!==this._icon&&(this._icon&&this._removeIcon(),x=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),Le(g,u),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qe(g,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(Le(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Rt(this._icon,a),this._shadow&&Rt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),al)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new al(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&jt(this._icon,a),this._shadow&&jt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,g=u.iconSize?_e(u.iconSize):_e(0,0),x=u.iconAnchor?_e(u.iconAnchor):_e(0,0);a.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:g.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gh(a,u){return new ol(a,u)}var Is=ts.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return U(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ka=Is.extend({options:{fill:!0,radius:10},initialize:function(a,u){U(this,u),this._latlng=Ce(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Ce(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Is.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,g=this._clickTolerance(),x=[a+g,u+g];this._pxBounds=new D(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zh(a,u){return new Ka(a,u)}var ac=Ka.extend({initialize:function(a,u,g){if(typeof u=="number"&&(u=o({},g,{radius:u})),U(this,u),this._latlng=Ce(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new pe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Is.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,g=this._map,x=g.options.crs;if(x.distance===At.distance){var S=Math.PI/180,P=this._mRadius/At.R/S,K=g.project([u+P,a]),se=g.project([u-P,a]),ce=K.add(se).divideBy(2),we=g.unproject(ce).lat,Ie=Math.acos((Math.cos(P*S)-Math.sin(u*S)*Math.sin(we*S))/(Math.cos(u*S)*Math.cos(we*S)))/S;(isNaN(Ie)||Ie===0)&&(Ie=P/Math.cos(Math.PI/180*u)),this._point=ce.subtract(g.getPixelOrigin()),this._radius=isNaN(Ie)?0:ce.x-g.project([we,a-Ie]).x,this._radiusY=ce.y-K.y}else{var ze=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(ze).x}this._updateBounds()}});function $h(a,u,g){return new ac(a,u,g)}var Qs=Is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){U(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,g=null,x=Ye,S,P,K=0,se=this._parts.length;K<se;K++)for(var ce=this._parts[K],we=1,Ie=ce.length;we<Ie;we++){S=ce[we-1],P=ce[we];var ze=x(a,S,P,!0);ze<u&&(u=ze,g=x(a,S,P))}return g&&(g.distance=Math.sqrt(u)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Vt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Ce(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new pe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],g=gt(a),x=0,S=a.length;x<S;x++)g?(u[x]=Ce(a[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(a[x]);return u},_project:function(){var a=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new ee(a,a);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,g){var x=a[0]instanceof Ae,S=a.length,P,K;if(x){for(K=[],P=0;P<S;P++)K[P]=this._map.latLngToLayerPoint(a[P]),g.extend(K[P]);u.push(K)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],u,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,g,x,S,P,K,se,ce;for(g=0,S=0,P=this._rings.length;g<P;g++)for(ce=this._rings[g],x=0,K=ce.length;x<K-1;x++)se=z(ce[x],ce[x+1],a,x,!0),se&&(u[S]=u[S]||[],u[S].push(se[0]),(se[1]!==ce[x+1]||x===K-2)&&(u[S].push(se[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,g=0,x=a.length;g<x;g++)a[g]=Dn(a[g],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var g,x,S,P,K,se,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,P=this._parts.length;g<P;g++)for(se=this._parts[g],x=0,K=se.length,S=K-1;x<K;S=x++)if(!(!u&&x===0)&&il(a,se[S],se[x])<=ce)return!0;return!1}});function Pm(a,u){return new Qs(a,u)}Qs._flat=yt;var Wa=Qs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Qs.prototype._convertLatLngs.call(this,a),g=u.length;return g>=2&&u[0]instanceof Ae&&u[0].equals(u[g-1])&&u.pop(),u},_setLatLngs:function(a){Qs.prototype._setLatLngs.call(this,a),gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,g=new ee(u,u);if(a=new D(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,S=this._rings.length,P;x<S;x++)P=tl(this._rings[x],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,g,x,S,P,K,se,ce,we;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,ce=this._parts.length;P<ce;P++)for(g=this._parts[P],K=0,we=g.length,se=we-1;K<we;se=K++)x=g[K],S=g[se],x.y>a.y!=S.y>a.y&&a.x<(S.x-x.x)*(a.y-x.y)/(S.y-x.y)+x.x&&(u=!u);return u||Qs.prototype._containsPoint.call(this,a,!0)}});function Mm(a,u){return new Wa(a,u)}var Xs=Ns.extend({initialize:function(a,u){U(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=$(a)?a:a.features,g,x,S;if(u){for(g=0,x=u.length;g<x;g++)S=u[g],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var K=jn(a,P);return K?(K.feature=cc(a),K.defaultOptions=K.options,this.resetStyle(K),P.onEachFeature&&P.onEachFeature(a,K),this.addLayer(K)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function jn(a,u){var g=a.type==="Feature"?a.geometry:a,x=g?g.coordinates:null,S=[],P=u&&u.pointToLayer,K=u&&u.coordsToLatLng||oc,se,ce,we,Ie;if(!x&&!g)return null;switch(g.type){case"Point":return se=K(x),Qa(P,a,se,u);case"MultiPoint":for(we=0,Ie=x.length;we<Ie;we++)se=K(x[we]),S.push(Qa(P,a,se,u));return new Ns(S);case"LineString":case"MultiLineString":return ce=ll(x,g.type==="LineString"?0:1,K),new Qs(ce,u);case"Polygon":case"MultiPolygon":return ce=ll(x,g.type==="Polygon"?1:2,K),new Wa(ce,u);case"GeometryCollection":for(we=0,Ie=g.geometries.length;we<Ie;we++){var ze=jn({geometry:g.geometries[we],type:"Feature",properties:a.properties},u);ze&&S.push(ze)}return new Ns(S);case"FeatureCollection":for(we=0,Ie=g.features.length;we<Ie;we++){var nt=jn(g.features[we],u);nt&&S.push(nt)}return new Ns(S);default:throw new Error("Invalid GeoJSON object.")}}function Qa(a,u,g,x){return a?a(u,g):new ol(g,x&&x.markersInheritOptions&&x)}function oc(a){return new Ae(a[1],a[0],a[2])}function ll(a,u,g){for(var x=[],S=0,P=a.length,K;S<P;S++)K=u?ll(a[S],u-1,g):(g||oc)(a[S]),x.push(K);return x}function lc(a,u){return a=Ce(a),a.alt!==void 0?[N(a.lng,u),N(a.lat,u),N(a.alt,u)]:[N(a.lng,u),N(a.lat,u)]}function cl(a,u,g,x){for(var S=[],P=0,K=a.length;P<K;P++)S.push(u?cl(a[P],gt(a[P])?0:u-1,g,x):lc(a[P],x));return!u&&g&&S.length>0&&S.push(S[0].slice()),S}function vr(a,u){return a.feature?o({},a.feature,{geometry:u}):cc(u)}function cc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var br={toGeoJSON:function(a){return vr(this,{type:"Point",coordinates:lc(this.getLatLng(),a)})}};ol.include(br),ac.include(br),Ka.include(br),Qs.include({toGeoJSON:function(a){var u=!gt(this._latlngs),g=cl(this._latlngs,u?1:0,!1,a);return vr(this,{type:(u?"Multi":"")+"LineString",coordinates:g})}}),Wa.include({toGeoJSON:function(a){var u=!gt(this._latlngs),g=u&&!gt(this._latlngs[0]),x=cl(this._latlngs,g?2:u?1:0,!0,a);return u||(x=[x]),vr(this,{type:(g?"Multi":"")+"Polygon",coordinates:x})}}),Ya.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(g){u.push(g.toGeoJSON(a).geometry.coordinates)}),vr(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var g=u==="GeometryCollection",x=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(g)x.push(P.geometry);else{var K=cc(P);K.type==="FeatureCollection"?x.push.apply(x,K.features):x.push(K)}}}),g?vr(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function uc(a,u){return new Xs(a,u)}var ul=uc,Xa=ts.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,g){this._url=a,this._bounds=xe(u),U(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ht(this._image),this},bringToBack:function(){return this._map&&hi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=xe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:rt("img");if(Le(u,"leaflet-image-layer"),this._zoomAnimated&&Le(u,"leaflet-zoom-animated"),this.options.className&&Le(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Yi(this._image,g,u)},_reset:function(){var a=this._image,u=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=u.getSize();Rt(a,u.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Yh=function(a,u,g){return new Xa(a,u,g)},xr=Xa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:rt("video");if(Le(u,"leaflet-image-layer"),this._zoomAnimated&&Le(u,"leaflet-zoom-animated"),this.options.className&&Le(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onloadeddata=d(this.fire,this,"load"),a){for(var g=u.getElementsByTagName("source"),x=[],S=0;S<g.length;S++)x.push(g[S].src);this._url=g.length>0?x:[u.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var K=rt("source");K.src=this._url[P],u.appendChild(K)}}});function Ja(a,u,g){return new xr(a,u,g)}var hc=Xa.extend({_initImage:function(){var a=this._image=this._url;Le(a,"leaflet-image-layer"),this._zoomAnimated&&Le(a,"leaflet-zoom-animated"),this.options.className&&Le(a,this.options.className),a.onselectstart=E,a.onmousemove=E}});function Kh(a,u,g){return new hc(a,u,g)}var Vn=ts.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Ae||$(a))?(this._latlng=Ce(a),U(this,u)):(U(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&jt(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(jt(this._container,0),this._removeTimeout=setTimeout(d(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ce(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ht(this._container),this},bringToBack:function(){return this._map&&hi(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Ns){u=null;var g=this._source._layers;for(var x in g)if(g[x]._map){u=g[x];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=_e(this.options.offset),g=this._getAnchor();this._zoomAnimated?Rt(this._container,a.add(g)):u=u.add(a).add(g);var x=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});st.include({_initOverlay:function(a,u,g,x){var S=u;return S instanceof a||(S=new a(x).setContent(u)),g&&S.setLatLng(g),S}}),ts.include({_initOverlay:function(a,u,g,x){var S=g;return S instanceof a?(U(S,x),S._source=this):(S=u&&!x?u:new a(x,this),S.setContent(g)),S}});var hl=Vn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Vn.prototype.openOn.call(this,a)},onAdd:function(a){Vn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Is||this._source.on("preclick",ut))},onRemove:function(a){Vn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Is||this._source.off("preclick",ut))},getEvents:function(){var a=Vn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=rt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=rt("div",a+"-content-wrapper",u);if(this._contentNode=rt("div",a+"-content",g),$s(u),Pi(this._contentNode),qe(u,"contextmenu",ut),this._tipContainer=rt("div",a+"-tip-container",u),this._tip=rt("div",a+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=rt("a",a+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',qe(x,"click",function(S){qt(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),u.width=g+1+"px",u.whiteSpace="",u.height="";var x=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&x>S?(u.height=S+"px",Le(a,P)):Nt(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();Rt(this._container,u.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(dr(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+u,x=this._containerWidth,S=new ee(this._containerLeft,-g-this._containerBottom);S._add(Ts(this._container));var P=a.layerPointToContainerPoint(S),K=_e(this.options.autoPanPadding),se=_e(this.options.autoPanPaddingTopLeft||K),ce=_e(this.options.autoPanPaddingBottomRight||K),we=a.getSize(),Ie=0,ze=0;P.x+x+ce.x>we.x&&(Ie=P.x+x-we.x+ce.x),P.x-Ie-se.x<0&&(Ie=P.x-se.x),P.y+g+ce.y>we.y&&(ze=P.y+g-we.y+ce.y),P.y-ze-se.y<0&&(ze=P.y-se.y),(Ie||ze)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ie,ze]))}},_getAnchor:function(){return _e(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wh=function(a,u){return new hl(a,u)};st.mergeOptions({closePopupOnClick:!0}),st.include({openPopup:function(a,u,g){return this._initOverlay(hl,a,u,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ts.include({bindPopup:function(a,u){return this._popup=this._initOverlay(hl,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Ns||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ki(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var dl=Vn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Vn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Vn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Vn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=rt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,g,x=this._map,S=this._container,P=x.latLngToContainerPoint(x.getCenter()),K=x.layerPointToContainerPoint(a),se=this.options.direction,ce=S.offsetWidth,we=S.offsetHeight,Ie=_e(this.options.offset),ze=this._getAnchor();se==="top"?(u=ce/2,g=we):se==="bottom"?(u=ce/2,g=0):se==="center"?(u=ce/2,g=we/2):se==="right"?(u=0,g=we/2):se==="left"?(u=ce,g=we/2):K.x<P.x?(se="right",u=0,g=we/2):(se="left",u=ce+(Ie.x+ze.x)*2,g=we/2),a=a.subtract(_e(u,g,!0)).add(Ie).add(ze),Nt(S,"leaflet-tooltip-right"),Nt(S,"leaflet-tooltip-left"),Nt(S,"leaflet-tooltip-top"),Nt(S,"leaflet-tooltip-bottom"),Le(S,"leaflet-tooltip-"+se),Rt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&jt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return _e(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lm=function(a,u){return new dl(a,u)};st.include({openTooltip:function(a,u,g){return this._initOverlay(dl,a,u,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ts.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(dl,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[u](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Ns||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(qe(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),qe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,g,x;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),x=this._map.containerPointToLayerPoint(g),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Qh=Rs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Bt(u),u.appendChild(g.html)):u.innerHTML=g.html!==!1?g.html:"",g.bgPos){var x=_e(g.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Om(a){return new Qh(a)}Rs.Default=rl;var eo=ts.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){U(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),at(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ht(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ee?a:new ee(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,g=-a(-1/0,1/0),x=0,S=u.length,P;x<S;x++)P=u[x].style.zIndex,u[x]!==this._container&&P&&(g=a(g,+P));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke.ielt9){jt(this._container,this.options.opacity);var a=+new Date,u=!1,g=!1;for(var x in this._tiles){var S=this._tiles[x];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);jt(S.el,P),P<1?u=!0:(S.active?g=!0:this._onOpaqueTile(S),S.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),u&&(Y(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=u-Math.abs(a-g),this._onUpdateLevel(g)):(at(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var x=this._levels[a],S=this._map;return x||(x=this._levels[a]={},x.el=rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),x.zoom=a,this._setZoomTransform(x,S.getCenter(),S.getZoom()),E(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var a,u,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)at(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,g,x){var S=Math.floor(a/2),P=Math.floor(u/2),K=g-1,se=new ee(+S,+P);se.z=+K;var ce=this._tileCoordsToKey(se),we=this._tiles[ce];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),K>x?this._retainParent(S,P,K,x):!1)},_retainChildren:function(a,u,g,x){for(var S=2*a;S<2*a+2;S++)for(var P=2*u;P<2*u+2;P++){var K=new ee(S,P);K.z=g+1;var se=this._tileCoordsToKey(K),ce=this._tiles[se];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);g+1<x&&this._retainChildren(S,P,g+1,x)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,g,x){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!x||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,u)},_setZoomTransform:function(a,u,g){var x=this._map.getZoomScale(g,a.zoom),S=a.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,g)).round();ke.any3d?Yi(a.el,S,x):Rt(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,g=this._tileSize=this.getTileSize(),x=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],x).x/g.x),Math.ceil(a.project([0,u.wrapLng[1]],x).x/g.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],x).y/g.x),Math.ceil(a.project([u.wrapLat[1],0],x).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,g=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(g,this._tileZoom),S=u.project(a,this._tileZoom).floor(),P=u.getSize().divideBy(x*2);return new D(S.subtract(P),S.add(P))},_update:function(a){var u=this._map;if(u){var g=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(x),P=S.getCenter(),K=[],se=this.options.keepBuffer,ce=new D(S.getBottomLeft().subtract([se,-se]),S.getTopRight().add([se,-se]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Ie=this._tiles[we].coords;(Ie.z!==this._tileZoom||!ce.contains(new ee(Ie.x,Ie.y)))&&(this._tiles[we].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var ze=S.min.y;ze<=S.max.y;ze++)for(var nt=S.min.x;nt<=S.max.x;nt++){var Nn=new ee(nt,ze);if(Nn.z=this._tileZoom,!!this._isValidTile(Nn)){var an=this._tiles[this._tileCoordsToKey(Nn)];an?an.current=!0:K.push(Nn)}}if(K.sort(function(bt,xt){return bt.distanceTo(P)-xt.distanceTo(P)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pi=document.createDocumentFragment();for(nt=0;nt<K.length;nt++)this._addTile(K[nt],pi);this._level.el.appendChild(pi)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var g=this._globalTileRange;if(!u.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!u.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(a);return xe(this.options.bounds).overlaps(x)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,g=this.getTileSize(),x=a.scaleBy(g),S=x.add(g),P=u.unproject(x,a.z),K=u.unproject(S,a.z);return[P,K]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),g=new pe(u[0],u[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),g=new ee(+u[0],+u[1]);return g.z=+u[2],g},_removeTile:function(a){var u=this._tiles[a];u&&(at(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Le(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=E,a.onmousemove=E,ke.ielt9&&this.options.opacity<1&&jt(a,this.options.opacity)},_addTile:function(a,u){var g=this._getTilePos(a),x=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&H(d(this._tileReady,this,a,null,S)),Rt(S,g),this._tiles[x]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,g){u&&this.fire("tileerror",{error:u,tile:g,coords:a});var x=this._tileCoordsToKey(a);g=this._tiles[x],g&&(g.loaded=+new Date,this._map._fadeAnimated?(jt(g.el,0),Y(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),u||(Le(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new ee(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new D(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Xh(a){return new eo(a)}var wr=eo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=U(this,u),u.detectRetina&&ke.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var g=document.createElement("img");return qe(g,"load",d(this._tileOnLoad,this,u,g)),qe(g,"error",d(this._tileOnError,this,u,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var u={r:ke.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=g),u["-y"]=g}return B(this._url,o(u,this.options))},_tileOnLoad:function(a,u){ke.ielt9?setTimeout(d(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,g){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),a(g,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,g=this.options.zoomReverse,x=this.options.zoomOffset;return g&&(a=u-a),a+x},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=E,u.onerror=E,!u.complete)){u.src=ne;var g=this._tiles[a].coords;at(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:g})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",ne),eo.prototype._removeTile.call(this,a)},_tileReady:function(a,u,g){if(!(!this._map||g&&g.getAttribute("src")===ne))return eo.prototype._tileReady.call(this,a,u,g)}});function Oi(a,u){return new wr(a,u)}var fl=wr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var g=o({},this.defaultWmsParams);for(var x in u)x in this.options||(g[x]=u[x]);u=U(this,u);var S=u.detectRetina&&ke.retina?2:1,P=this.getTileSize();g.width=P.x*S,g.height=P.y*S,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,wr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),g=this._crs,x=J(g.project(u[0]),g.project(u[1])),S=x.min,P=x.max,K=(this._wmsVersion>=1.3&&this._crs===ea?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),se=wr.prototype.getTileUrl.call(this,a);return se+k(this.wmsParams,se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function ki(a,u){return new fl(a,u)}wr.WMS=fl,Oi.wms=ki;var ni=ts.extend({options:{padding:.1},initialize:function(a){U(this,a),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var g=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),P=x.multiplyBy(-g).add(S).subtract(this._map._getNewPixelOrigin(a,u));ke.any3d?Yi(this._container,P,g):Rt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),g=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new D(g,g.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dc=ni.extend({options:{tolerance:0},getEvents:function(){var a=ni.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ni.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");qe(a,"mousemove",this._onMouseMove,this),qe(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),qe(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,at(this._container),vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ni.prototype._update.call(this);var a=this._bounds,u=this._container,g=a.getSize(),x=ke.retina?2:1;Rt(u,a.min),u.width=x*g.x,u.height=x*g.y,u.style.width=g.x+"px",u.style.height=g.y+"px",ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ni.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[p(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,g=u.next,x=u.prev;g?g.prev=x:this._drawLast=x,x?x.next=g:this._drawFirst=g,delete a._order,delete this._layers[p(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),g=[],x,S;for(S=0;S<u.length;S++){if(x=Number(u[S]),isNaN(x))return;g.push(x)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var g=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)a=x.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var g,x,S,P,K=a._parts,se=K.length,ce=this._ctx;if(se){for(ce.beginPath(),g=0;g<se;g++){for(x=0,S=K[g].length;x<S;x++)P=K[g][x],ce[x?"lineTo":"moveTo"](P.x,P.y);u&&ce.closePath()}this._fillStroke(ce,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,g=this._ctx,x=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||x)/x;S!==1&&(g.save(),g.scale(1,S)),g.beginPath(),g.arc(u.x,u.y/S,x,0,Math.PI*2,!1),S!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,u){var g=u.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),g,x,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(x=g);this._fireEvent(x?[x]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var g,x,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(x=g);x!==this._hoveredLayer&&(this._handleMouseOut(a),x&&(Le(this._container,"leaflet-interactive"),this._fireEvent([x],a,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,g){this._map._fireDOMEvent(u,g||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var g=u.next,x=u.prev;if(g)g.prev=x;else return;x?x.next=g:g&&(this._drawFirst=g),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var g=u.next,x=u.prev;if(x)x.next=g;else return;g?g.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function ml(a){return ke.canvas?new dc(a):null}var Er=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),hu={_initContainer:function(){this._container=rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ni.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Er("shape");Le(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Er("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;at(u),a.removeInteractiveTarget(u),delete this._layers[p(a)]},_updateStyle:function(a){var u=a._stroke,g=a._fill,x=a.options,S=a._container;S.stroked=!!x.stroke,S.filled=!!x.fill,x.stroke?(u||(u=a._stroke=Er("stroke")),S.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=$(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(S.removeChild(u),a._stroke=null),x.fill?(g||(g=a._fill=Er("fill")),S.appendChild(g),g.color=x.fillColor||x.color,g.opacity=x.fillOpacity):g&&(S.removeChild(g),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),g=Math.round(a._radius),x=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+g+","+x+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Ht(a._container)},_bringToBack:function(a){hi(a._container)}},Ps=ke.vml?Er:fs,to=ni.extend({_initContainer:function(){this._container=Ps("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ps("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ni.prototype._update.call(this);var a=this._bounds,u=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,g.setAttribute("width",u.x),g.setAttribute("height",u.y)),Rt(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Ps("path");a.options.className&&Le(u,a.options.className),a.options.interactive&&Le(u,"leaflet-interactive"),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){at(a._path),a.removeInteractiveTarget(a._path),delete this._layers[p(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,g=a.options;u&&(g.stroke?(u.setAttribute("stroke",g.color),u.setAttribute("stroke-opacity",g.opacity),u.setAttribute("stroke-width",g.weight),u.setAttribute("stroke-linecap",g.lineCap),u.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?u.setAttribute("stroke-dasharray",g.dashArray):u.removeAttribute("stroke-dasharray"),g.dashOffset?u.setAttribute("stroke-dashoffset",g.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),g.fill?(u.setAttribute("fill",g.fillColor||g.color),u.setAttribute("fill-opacity",g.fillOpacity),u.setAttribute("fill-rule",g.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,ui(a._parts,u))},_updateCircle:function(a){var u=a._point,g=Math.max(Math.round(a._radius),1),x=Math.max(Math.round(a._radiusY),1)||g,S="a"+g+","+x+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(u.x-g)+","+u.y+S+g*2+",0 "+S+-g*2+",0 ";this._setPath(a,P)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Ht(a._path)},_bringToBack:function(a){hi(a._path)}});ke.vml&&to.include(hu);function pl(a){return ke.svg||ke.vml?new to(a):null}st.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&ml(a)||pl(a)}});var ta=Wa.extend({initialize:function(a,u){Wa.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=xe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function km(a,u){return new ta(a,u)}to.create=Ps,to.pointsToPath=ui,Xs.geometryToLayer=jn,Xs.coordsToLatLng=oc,Xs.coordsToLatLngs=ll,Xs.latLngToCoords=lc,Xs.latLngsToCoords=cl,Xs.getFeature=vr,Xs.asFeature=cc,st.mergeOptions({boxZoom:!0});var ii=fi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){qe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ii(),Kr(),this._startPoint=this._map.mouseEventToContainerPoint(a),qe(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=rt("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new D(this._point,this._startPoint),g=u.getSize();Rt(this._box,u.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(at(this._box),Nt(this._container,"leaflet-crosshair")),_n(),fr(),vt(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});st.addInitHook("addHandler","boxZoom",ii),st.mergeOptions({doubleClickZoom:!0});var fc=fi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,g=u.getZoom(),x=u.options.zoomDelta,S=a.originalEvent.shiftKey?g-x:g+x;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});st.addInitHook("addHandler","doubleClickZoom",fc),st.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ms=fi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ji(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nt(this._map._container,"leaflet-grab"),Nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=xe(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),g=this._initialWorldOffset,x=this._draggable._newPos.x,S=(x-u+g)%a+u-g,P=(x+u+g)%a-u-g,K=Math.abs(S+g)<Math.abs(P+g)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(a){var u=this._map,g=u.options,x=!g.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),x)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,K=g.easeLinearity,se=S.multiplyBy(K/P),ce=se.distanceTo([0,0]),we=Math.min(g.inertiaMaxSpeed,ce),Ie=se.multiplyBy(we/ce),ze=we/(g.inertiaDeceleration*K),nt=Ie.multiplyBy(-ze/2).round();!nt.x&&!nt.y?u.fire("moveend"):(nt=u._limitOffset(nt,u.options.maxBounds),H(function(){u.panBy(nt,{duration:ze,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});st.addInitHook("addHandler","dragging",Ms),st.mergeOptions({keyboard:!0,keyboardPanDelta:80});var du=fi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),qe(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,g=a.scrollTop||u.scrollTop,x=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},g=this.keyCodes,x,S;for(x=0,S=g.left.length;x<S;x++)u[g.left[x]]=[-1*a,0];for(x=0,S=g.right.length;x<S;x++)u[g.right[x]]=[a,0];for(x=0,S=g.down.length;x<S;x++)u[g.down[x]]=[0,a];for(x=0,S=g.up.length;x<S;x++)u[g.up[x]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},g=this.keyCodes,x,S;for(x=0,S=g.zoomIn.length;x<S;x++)u[g.zoomIn[x]]=a;for(x=0,S=g.zoomOut.length;x<S;x++)u[g.zoomOut[x]]=-a},_addHooks:function(){qe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,g=this._map,x;if(u in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(x=this._panKeys[u],a.shiftKey&&(x=_e(x).multiplyBy(3)),g.options.maxBounds&&(x=g._limitOffset(_e(x),g.options.maxBounds)),g.options.worldCopyJump){var S=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(x)));g.panTo(S)}else g.panBy(x)}else if(u in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Ki(a)}}});st.addInitHook("addHandler","keyboard",du),st.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var gl=fi.extend({addHooks:function(){qe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=vn(a),g=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var x=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),x),Ki(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,P=g?Math.ceil(S/g)*g:S,K=a._limitZoom(u+(this._delta>0?P:-P))-u;this._delta=0,this._startTime=null,K&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+K):a.setZoomAround(this._lastMousePos,u+K))}});st.addInitHook("addHandler","scrollWheelZoom",gl);var na=600;st.mergeOptions({tapHold:ke.touchNative&&ke.safari&&ke.mobile,tapTolerance:15});var mc=fi.extend({addHooks:function(){qe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new ee(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(qe(document,"touchend",qt),qe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),na),qe(document,"touchend touchcancel contextmenu",this._cancel,this),qe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){vt(document,"touchend",qt),vt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new ee(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});g._simulated=!0,u.target.dispatchEvent(g)}});st.addInitHook("addHandler","tapHold",mc),st.mergeOptions({touchZoom:ke.touch,bounceAtZoomLimits:!0});var fu=fi.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),qe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var g=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(g.add(x)._divideBy(2))),this._startDist=g.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),qe(document,"touchmove",this._onTouchMove,this),qe(document,"touchend touchcancel",this._onTouchEnd,this),qt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,g=u.mouseEventToContainerPoint(a.touches[0]),x=u.mouseEventToContainerPoint(a.touches[1]),S=g.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=g._add(x)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var K=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(K,this,!0),qt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});st.addInitHook("addHandler","touchZoom",fu),st.BoxZoom=ii,st.DoubleClickZoom=fc,st.Drag=Ms,st.Keyboard=du,st.ScrollWheelZoom=gl,st.TapHold=mc,st.TouchZoom=fu,t.Bounds=D,t.Browser=ke,t.CRS=He,t.Canvas=dc,t.Circle=ac,t.CircleMarker=Ka,t.Class=de,t.Control=kn,t.DivIcon=Qh,t.DivOverlay=Vn,t.DomEvent=Cs,t.DomUtil=pr,t.Draggable=Ji,t.Evented=Se,t.FeatureGroup=Ns,t.GeoJSON=Xs,t.GridLayer=eo,t.Handler=fi,t.Icon=Rs,t.ImageOverlay=Xa,t.LatLng=Ae,t.LatLngBounds=pe,t.Layer=ts,t.LayerGroup=Ya,t.LineUtil=Mi,t.Map=st,t.Marker=ol,t.Mixin=sc,t.Path=Is,t.Point=ee,t.PolyUtil=_r,t.Polygon=Wa,t.Polyline=Qs,t.Popup=hl,t.PosAnimation=Ys,t.Projection=es,t.Rectangle=ta,t.Renderer=ni,t.SVG=to,t.SVGOverlay=hc,t.TileLayer=wr,t.Tooltip=dl,t.Transformation=wi,t.Util=F,t.VideoOverlay=xr,t.bind=d,t.bounds=J,t.canvas=ml,t.circle=$h,t.circleMarker=Zh,t.control=ti,t.divIcon=Om,t.extend=o,t.featureGroup=Fh,t.geoJSON=uc,t.geoJson=ul,t.gridLayer=Xh,t.icon=sl,t.imageOverlay=Yh,t.latLng=Ce,t.latLngBounds=xe,t.layerGroup=Im,t.map=yr,t.marker=Gh,t.point=_e,t.polygon=Mm,t.polyline=Pm,t.popup=Wh,t.rectangle=km,t.setOptions=U,t.stamp=p,t.svg=pl,t.svgOverlay=Kh,t.tileLayer=Oi,t.tooltip=Lm,t.transformation=Kn,t.version=s,t.videoOverlay=Ja;var mu=window.L;t.noConflict=function(){return window.L=mu,this},window.L=t}))})(rh,rh.exports)),rh.exports}var Rm=v6();const QS=o1(Rm);function XS(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function JS(n,e){return e==null?function(s,o){const c=V.useRef(void 0);return c.current||(c.current=n(s,o)),c}:function(s,o){const c=V.useRef(void 0);c.current||(c.current=n(s,o));const d=V.useRef(s),{instance:_}=c.current;return V.useEffect(function(){d.current!==s&&(e(_,s,d.current),d.current=s)},[_,s,e]),c}}function b6(n,e){V.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function e2(n){return function(t){const s=KS(),o=n(WS(t,s),s);return h6(s.map,t.attribution),y6(o.current,t.eventHandlers),b6(o.current,s),o}}function x6(n,e){const t=JS(n,e),s=e2(t);return p6(s)}function w6(n,e){const t=JS(n,e),s=e2(t);return g6(s)}function E6(n,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function T6(){return KS().map}function S6(n){const e=T6();return V.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function A6({bounds:n,boundsOptions:e,center:t,children:s,className:o,id:c,placeholder:d,style:_,whenReady:p,zoom:v,...w},E){const[N]=V.useState({className:o,id:c,style:_}),[R,j]=V.useState(null),U=V.useRef(void 0);V.useImperativeHandle(E,()=>R?.map??null,[R]);const k=V.useCallback(B=>{if(B!==null&&!U.current){const $=new Rm.Map(B,w);U.current=$,t!=null&&v!=null?$.setView(t,v):n!=null&&$.fitBounds(n,e),p!=null&&$.whenReady(p),j(f6($))}},[]);V.useEffect(()=>()=>{R?.map.remove()},[R]);const O=R?cn.createElement(W_,{value:R},s):d??null;return cn.createElement("div",{...N,ref:k},O)}const C6=V.forwardRef(A6),N6=x6(function({position:e,...t},s){const o=new Rm.Marker(e,t);return XS(o,m6(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),R6=w6(function({url:e,...t},s){const o=new Rm.TileLayer(e,WS(t,s));return XS(o,s)},function(e,t,s){E6(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)});delete QS.Icon.Default.prototype._getIconUrl;QS.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function I6({position:n,setPosition:e,setAddress:t}){const s=S6({click(o){e(o.latlng),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.latlng.lat}&lon=${o.latlng.lng}`).then(c=>c.json()).then(c=>{c&&c.display_name&&t(c.display_name)}).catch(c=>console.error("Error reverse geocoding",c))}});return V.useEffect(()=>{n&&s.flyTo(n,16)},[n,s]),n===null?null:f.jsx(N6,{position:n})}const P6=({onConfirm:n,initialLocation:e})=>{const[t,s]=V.useState(e?{lat:e.lat,lng:e.lng}:null),[o,c]=V.useState(e?.address||""),[d,_]=V.useState(""),[p,v]=V.useState(!1),w=[-12.0464,-77.0428],E=async R=>{if(R.preventDefault(),!!d){v(!0);try{const U=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(d)}`)).json();if(U&&U.length>0){const k=U[0],O={lat:parseFloat(k.lat),lng:parseFloat(k.lon)};s(O),c(k.display_name)}else console.log("No location found")}catch(j){console.error("Search error:",j)}finally{v(!1)}}},N=()=>{t&&n({lat:t.lat,lng:t.lng,address:o})};return f.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[f.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[f.jsxs("form",{onSubmit:E,className:"relative flex gap-2",children:[f.jsxs("div",{className:"relative flex-grow",children:[f.jsx("input",{type:"text",value:d,onChange:R=>_(R.target.value),placeholder:"Buscar ciudad, calle o lugar...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-[#fc7f51] focus:ring-1 focus:ring-[#fc7f51] outline-none text-sm"}),f.jsx(Xc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),f.jsx("button",{type:"submit",disabled:p,className:"bg-[#262626] text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-black transition disabled:opacity-70",children:p?f.jsx(Ah,{className:"w-4 h-4 animate-spin"}):"Buscar"})]}),o&&f.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-start gap-1",children:[f.jsx(Ur,{className:"w-3 h-3 mt-0.5 text-[#fc7f51]"}),f.jsx("span",{className:"line-clamp-2",children:o})]})]}),f.jsx("div",{className:"flex-grow min-h-[300px] relative z-0",children:f.jsxs(C6,{center:w,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[f.jsx(R6,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f.jsx(I6,{position:t,setPosition:s,setAddress:c})]})}),f.jsx("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-end",children:f.jsx("button",{type:"button",onClick:N,disabled:!t,className:"bg-[#fc7f51] text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-[#e56b3e] transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ubicacin"})})]})},M6=()=>{const{user:n,userData:e}=ka(),[t,s]=V.useState(!1),[o,c]=V.useState(!1),[d,_]=V.useState(null),[p,v]=V.useState("properties"),[w,E]=V.useState(""),[N,R]=V.useState(!1),[j,U]=V.useState({displayName:"",email:"",phoneNumber:"",newPassword:""}),[k,O]=V.useState(!1),[B,$]=V.useState([]),[te,ne]=V.useState({title:"",content:""}),[ye,q]=V.useState(null),[I,Z]=V.useState(!1),[G,H]=V.useState([]),[Y,F]=V.useState([]),[de,Re]=V.useState({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,security:!1}),[ae,Se]=V.useState([]),[ee,fe]=V.useState([]),[_e,D]=V.useState(!0),[J,pe]=V.useState(null),[xe,Ae]=V.useState(!1),[Ce,He]=V.useState(null),[At,Ct]=V.useState(""),[Hn,wi]=V.useState([]),[Kn,Ei]=V.useState(""),[Wn,fs]=V.useState(""),ui=async()=>{if(n){D(!0);try{const Q=Ds(gn(Xe,"properties"),_a("agentId","==",n.uid)),Je=(await ir(Q)).docs.map(tt=>({id:tt.id,...tt.data()}));Je.sort((tt,nn)=>(nn.createdAt?.seconds||0)-(tt.createdAt?.seconds||0)),Se(Je)}catch(Q){console.error("Error fetching properties:",Q)}finally{D(!1)}}},ms=async()=>{if(n){Z(!0);try{const Q=Ds(gn(Xe,"tips"),_a("agentId","==",n.uid),WT("createdAt","desc")),Pe=await ir(Q);$(Pe.docs.map(Je=>({id:Je.id,...Je.data()})))}catch(Q){console.error("Error fetching tips:",Q)}finally{Z(!1)}}};V.useEffect(()=>{e?.isActivated&&(ui(),(async()=>{try{const Pe=Ds(gn(Xe,"visits"),_a("agentId","==",n.uid)),Je=await ir(Pe);fe(Je.docs.map(tt=>({id:tt.id,...tt.data()})))}catch(Pe){console.error("Error fetching visits:",Pe)}})(),ms()),U({displayName:e?.displayName||n?.displayName||"",email:e?.email||n?.email||"",phoneNumber:e?.phoneNumber||"",newPassword:"",photoURL:e?.photoURL||n?.photoURL||""})},[n,e]);const ps=async Q=>{if(window.confirm("Ests seguro de que deseas eliminar esta propiedad?"))try{await qf(en(Xe,"properties",Q)),Ve.success("Propiedad eliminada correctamente."),ui()}catch(Pe){console.error("Error deleting property:",Pe),Ve.error("Error al eliminar la propiedad.")}},Zt=async Q=>{Q.preventDefault(),R(!0);try{const Pe=Ds(gn(Xe,"activation_codes"),_a("code","==",w),_a("used","==",!1)),Je=await ir(Pe);if(Je.empty){Ve.error("Cdigo invlido o ya usado."),R(!1);return}const tt=Je.docs[0];await va(en(Xe,"activation_codes",tt.id),{used:!0,usedBy:n.uid,usedAt:new Date}),await va(en(Xe,"users",n.uid),{isActivated:!0,activationCode:w}),Ve.success("Cuenta activada con xito! Recargando..."),setTimeout(()=>window.location.reload(),1500)}catch(Pe){console.error("Error activating account:",Pe),Ve.error("Error al activar la cuenta.")}finally{R(!1)}},$t=async Q=>{Q.preventDefault(),O(!0);try{j.displayName!==n.displayName&&await iy(n,{displayName:j.displayName}),j.email!==n.email&&await $I(n,j.email);let Pe=n.photoURL;if(J){const Dt=Zw($w,`profile_photos/${n.uid}/${Date.now()}_${J.name}`),gs=await Fw(Dt,J);Pe=await Gw(gs.ref),await iy(n,{photoURL:Pe})}if(await va(en(Xe,"users",n.uid),{displayName:j.displayName,email:j.email,phoneNumber:j.phoneNumber,photoURL:Pe}),j.newPassword){if(j.newPassword.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");await YI(n,j.newPassword),U(Dt=>({...Dt,newPassword:""})),Ve.success("Contrasea actualizada.")}const Je=jk(Xe),tt=Ds(gn(Xe,"properties"),_a("agentId","==",n.uid));(await ir(tt)).forEach(Dt=>{Je.update(Dt.ref,{agentName:j.displayName})}),await Je.commit(),Ve.success("Perfil actualizado correctamente."),ui()}catch(Pe){console.error("Error updating profile:",Pe),Ve.error("Error al actualizar perfil. Si cambiaste el email, podras necesitar volver a iniciar sesin.")}finally{O(!1)}},Ti=async Q=>{Q.preventDefault(),Z(!0);try{ye?(await va(en(Xe,"tips",ye),{...te,updatedAt:new Date}),Ve.success("Tip actualizado.")):(await kl(gn(Xe,"tips"),{...te,agentId:n.uid,agentName:n.displayName||"Agente",createdAt:new Date,likes:0}),Ve.success("Tip publicado.")),ne({title:"",content:""}),q(null),ms()}catch(Pe){console.error("Error saving tip:",Pe),Pe.code==="failed-precondition"?Ve.error("El ndice de base de datos se est creando. Intenta de nuevo en unos minutos."):Ve.error("Error al guardar el tip.")}finally{Z(!1)}},Da=async Q=>{if(window.confirm("Seguro que quieres eliminar este tip?"))try{await qf(en(Xe,"tips",Q)),$(Pe=>Pe.filter(Je=>Je.id!==Q)),Ve.success("Tip eliminado.")}catch(Pe){console.error("Error deleting tip:",Pe)}},qr=Q=>{ne({title:Q.title||"",content:Q.content||""}),q(Q.id),v("tips")},Cn=async(Q,Pe)=>{const Je=Pe==="disponible"?"tomada":"disponible";Se(tt=>tt.map(nn=>nn.id===Q?{...nn,status:Je}:nn)),Ve.success(`Estado actualizado a: ${Je==="disponible"?"Disponible":"No Disponible"}`);try{await va(en(Xe,"properties",Q),{status:Je})}catch(tt){Se(nn=>nn.map(Dt=>Dt.id===Q?{...Dt,status:Pe}:Dt)),console.error("Error updating status:",tt),Ve.error("No se pudo actualizar el estado.")}},Us=Q=>{He(Q.id),Ct(Q.title),wi(Q.availableVisitSlots||[]),Ei(""),fs(""),Ae(!0)},Bs=()=>{if(!Kn||!Wn){Ve.error("Selecciona fecha y hora.");return}const Q={date:Kn,time:Wn,id:Date.now().toString()};wi(Pe=>[...Pe,Q]),Ei(""),fs("")},hr=Q=>{wi(Pe=>Pe.filter(Je=>Je.id!==Q))},qi=async()=>{try{await va(en(Xe,"properties",Ce),{availableVisitSlots:Hn}),Se(Q=>Q.map(Pe=>Pe.id===Ce?{...Pe,availableVisitSlots:Hn}:Pe)),Ve.success("Horarios de visita guardados."),Ae(!1)}catch(Q){console.error("Error saving slots:",Q),Ve.error("Error al guardar horarios.")}},Zo=Q=>{const Pe=Array.from(Q.target.files),Je=Pe.map(tt=>URL.createObjectURL(tt));F(tt=>[...tt,...Je]),H(tt=>[...tt,...Pe])},Fr=Q=>{if(Y[Q].startsWith("blob:")){const Je=Y.slice(0,Q).filter(tt=>tt.startsWith("blob:")).length;H(tt=>tt.filter((nn,Dt)=>Dt!==Je))}F(Je=>Je.filter((tt,nn)=>nn!==Q))},Gr=Q=>{_(Q.id),Re({title:Q.title,description:Q.description,type:Q.type,currency:Q.currency||"USD",price:Q.price,category:Q.category,location:Q.location,footage:Q.footage,bedrooms:Q.bedrooms||"",bathrooms:Q.bathrooms||"",antiquityType:Q.antiquityType||"estreno",antiquityYears:Q.antiquityYears||"",lat:Q.lat||"",lng:Q.lng||"",antiquity:Q.antiquity||"estreno",floor:Q.floor||"",elevator:Q.elevator||!1,parking:Q.parking||!1,isExclusive:Q.isExclusive||!1,isInBuilding:Q.isInBuilding||!1,isDuplex:Q.isDuplex||!1,elevator:Q.elevator||!1,furnished:Q.furnished||!1,pool:Q.pool||!1,gym:Q.gym||!1,security:Q.security||!1}),F(Q.images||[]),H([]),v("properties"),window.scrollTo({top:0,behavior:"smooth"})},ja=()=>{_(null),Re({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,security:!1}),F([]),H([])},Qn=async Q=>{Q.preventDefault(),s(!0);try{const Pe=G.map(async tt=>{const nn=Zw($w,`properties/${n.uid}/${Date.now()}_${tt.name}`),Dt=await Fw(nn,tt);return await Gw(Dt.ref)}),Je=await Promise.all(Pe);if(d){const tt={...de,price:parseFloat(de.price),footage:parseFloat(de.footage),bedrooms:de.category==="construido"?parseInt(de.bedrooms):0,bathrooms:de.category==="construido"?parseInt(de.bathrooms):0};Je.length>0&&(tt.images=[...Y.filter(nn=>nn.startsWith("http")),...Je]),await va(en(Xe,"properties",d),tt),Ve.success("Propiedad actualizada con xito!")}else await kl(gn(Xe,"properties"),{...de,agentId:n.uid,agentName:e.displayName||"Agente",images:Je,createdAt:new Date,status:"disponible",views:0,isPromoted:!1,price:parseFloat(de.price),footage:parseFloat(de.footage),bedrooms:de.category==="construido"?parseInt(de.bedrooms):0,bathrooms:de.category==="construido"?parseInt(de.bathrooms):0}),Ve.success("Propiedad publicada con xito!"),Re({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,security:!1}),H([]),F([]),_(null),ui()}catch(Pe){console.error("Error adding property: ",Pe),Ve.error("Hubo un error al publicar la propiedad.")}finally{s(!1)}};V.useEffect(()=>{if(e?.role!=="superadmin")return;(async()=>{try{const Pe=Ds(gn(Xe,"activation_codes"),_a("code","==","AGENT2024"));(await ir(Pe)).empty&&await kl(gn(Xe,"activation_codes"),{code:"AGENT2024",used:!1,createdAt:new Date,type:"standard"})}catch{console.debug("Skipping code creation (not authorized)")}})()},[e]);const Wt=e?.isActivated;return f.jsxs("div",{className:"min-h-screen bg-gray-50 pt-28 pb-12 px-6",children:[f.jsxs("div",{className:"container mx-auto max-w-6xl",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold font-[Montserrat] text-gray-800 mb-6",children:"Panel de Agente"}),f.jsxs("div",{className:"flex flex-wrap gap-4 border-b border-gray-200",children:[f.jsx("button",{onClick:()=>v("properties"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="properties"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mis Propiedades"}),f.jsx("button",{onClick:()=>v("inquiries"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="inquiries"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Visitas Agendadas"}),f.jsx("button",{onClick:()=>v("tips"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="tips"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tips Inmobiliarios"}),f.jsx("button",{onClick:()=>v("profile"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="profile"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mi Perfil"})]})]}),Wt?f.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[p==="properties"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 h-fit",children:[f.jsx("div",{className:"bg-[#16151a] p-6 text-white",children:f.jsx("h2",{className:"text-xl font-bold",children:d?"Editar Propiedad":"Nueva Propiedad"})}),f.jsxs("form",{onSubmit:Qn,className:"p-8 space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),f.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none uppercase",placeholder:"Ej: Departamento en Miraflores",value:de.title,onChange:Q=>Re({...de,title:Q.target.value})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),f.jsxs("div",{className:"flex",children:[f.jsxs("select",{className:"w-24 px-2 py-3 rounded-l-lg border border-r-0 border-gray-200 bg-gray-50 text-sm font-bold",value:de.currency,onChange:Q=>Re({...de,currency:Q.target.value}),children:[f.jsx("option",{value:"USD",children:"USD"}),f.jsx("option",{value:"PEN",children:"PEN"})]}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-r-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"0.00",value:de.price,onChange:Q=>Re({...de,price:Q.target.value})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operacin"}),f.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.type,onChange:Q=>Re({...de,type:Q.target.value}),children:[f.jsx("option",{value:"venta",children:"Venta"}),f.jsx("option",{value:"alquiler",children:"Alquiler"}),f.jsx("option",{value:"alquiler",children:"Anticresis"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),f.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.category,onChange:Q=>Re({...de,category:Q.target.value}),children:[f.jsx("option",{value:"construido",children:"Construido"}),f.jsx("option",{value:"terreno",children:"Terreno"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metraje (m)"}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"120",value:de.footage,onChange:Q=>Re({...de,footage:Q.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Antigedad"}),f.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.antiquity,onChange:Q=>Re({...de,antiquity:Q.target.value}),children:[f.jsx("option",{value:"estreno",children:"Estreno"}),f.jsx("option",{value:"preventa",children:"Pre-Venta"}),f.jsx("option",{value:"up_to_5",children:"Hasta 5 aos"}),f.jsx("option",{value:"5_to_10",children:"5 a 10 aos"}),f.jsx("option",{value:"more_than_10",children:"Ms de 10 aos"}),f.jsx("option",{value:"more_than_20",children:"Ms de 20 aos"})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-8",children:[f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.isExclusive,onChange:Q=>Re({...de,isExclusive:Q.target.checked})}),f.jsx("span",{className:"font-bold text-[#fc7f51]",children:"Es Exclusiva?"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.parking,onChange:Q=>Re({...de,parking:Q.target.checked})}),f.jsx("span",{className:"font-medium text-gray-700",children:"Tiene Cochera"})]}),de.category==="construido"&&f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.isInBuilding,onChange:Q=>Re({...de,isInBuilding:Q.target.checked})}),f.jsx("span",{className:"font-medium text-gray-700",children:"Es Edificio / Departamento"})]})]})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-3 uppercase tracking-wider",children:"Caractersticas Adicionales"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.elevator,onChange:Q=>Re({...de,elevator:Q.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Ascensor"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.furnished,onChange:Q=>Re({...de,furnished:Q.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amoblado"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.pool,onChange:Q=>Re({...de,pool:Q.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Piscina"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.gym,onChange:Q=>Re({...de,gym:Q.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Gimnasio"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:de.security,onChange:Q=>Re({...de,security:Q.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Seguridad 24/7"})]})]})]}),de.category==="construido"&&f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaciones"}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:de.bedrooms,onChange:Q=>Re({...de,bedrooms:Q.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Baos"}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:de.bathrooms,onChange:Q=>Re({...de,bathrooms:Q.target.value})})]})]}),de.category==="construido"&&de.isInBuilding&&f.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-orange-50 p-4 rounded-xl border border-orange-100",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piso"}),f.jsx("input",{type:"text",placeholder:"Ej. 5",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:de.floor,onChange:Q=>Re({...de,floor:Q.target.value})})]}),f.jsx("div",{className:"flex items-center pt-8",children:f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:de.isDuplex,onChange:Q=>Re({...de,isDuplex:Q.target.checked})}),f.jsx("span",{className:"font-medium text-gray-700",children:"Es Dplex?"})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-grow",children:[f.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),f.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition uppercase",placeholder:"Direccin o Link Maps",value:de.location,onChange:Q=>Re({...de,location:Q.target.value})})]}),f.jsx("button",{type:"button",onClick:()=>c(!0),className:"bg-[#262626] text-white px-4 rounded-lg hover:bg-black transition flex items-center justify-center",title:"Buscar en Mapa",children:f.jsx(Ur,{className:"w-5 h-5"})})]})]}),o&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-[600px] flex flex-col overflow-hidden relative",children:[f.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Seleccionar Ubicacin"}),f.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(Ea,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"flex-grow p-0",children:f.jsx(P6,{onConfirm:Q=>{Re({...de,location:Q.address||`${Q.lat}, ${Q.lng}`,lat:Q.lat,lng:Q.lng}),c(!1)}})})]})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),f.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-24 resize-none",value:de.description,onChange:Q=>Re({...de,description:Q.target.value})})]}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[f.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Zo,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),f.jsx(Qw,{className:"h-6 w-6 text-[#fc7f51] mx-auto mb-2"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Subir fotos"})]}),Y.length>0&&f.jsx("div",{className:"grid grid-cols-4 gap-2",children:Y.map((Q,Pe)=>f.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[f.jsx("img",{src:Q,alt:"",className:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>Fr(Pe),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5",children:f.jsx(Ea,{className:"w-3 h-3"})})]},Pe))}),f.jsxs("div",{className:"flex gap-2",children:[d&&f.jsx("button",{type:"button",onClick:ja,className:"flex-1 bg-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2",children:t?f.jsx(Ah,{className:"animate-spin"}):d?"Actualizar Propiedad":"Publicar Propiedad"})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Propiedades"}),f.jsxs("span",{className:"bg-orange-100 text-[#fc7f51] px-3 py-1 rounded-full text-sm font-bold",children:[ae.length," Total"]})]}),_e?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx(Ah,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):ae.length===0?f.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No has publicado ninguna propiedad an."}):f.jsx("div",{className:"grid gap-4",children:ae.map(Q=>f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4",children:[f.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:f.jsx("img",{src:Q.images?.[0]||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Sin+Img",alt:Q.title,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-grow",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:Q.title}),f.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${Q.status==="disponible"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:Q.status})]}),f.jsx("p",{className:"text-gray-500 text-xs mt-1",children:Q.location}),f.jsxs("p",{className:"text-[#fc7f51] font-bold text-sm mt-1",children:["$",Q.price?.toLocaleString()]}),f.jsxs("div",{className:"mt-3 flex gap-2",children:[f.jsx("button",{onClick:()=>Cn(Q.id,Q.status),className:`tx-xs px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 text-center ${Q.status==="disponible"?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:Q.status==="disponible"?"Marcar Vendido/Alquilado":"Marcar Disponible"}),f.jsx("button",{onClick:()=>Gr(Q),className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-100 transition",children:"Editar"}),f.jsx("button",{onClick:()=>Us(Q),className:"bg-purple-50 text-purple-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-purple-100 transition",title:"Gestionar horarios de visita",children:f.jsx(Gf,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>ps(Q.id),className:"bg-red-50 text-red-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-red-100 transition",children:f.jsx(Sy,{className:"w-4 h-4"})})]})]})]},Q.id))})]})]}),p==="profile"&&f.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[f.jsx(Ay,{className:"w-6 h-6 text-[#fc7f51]"})," Editar Perfil"]}),f.jsxs("form",{onSubmit:$t,className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col items-center mb-6",children:[f.jsxs("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 border-2 border-white shadow-md relative group",children:[f.jsx("img",{src:J?URL.createObjectURL(J):j.photoURL||n.photoURL||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Perfil",alt:"Profile",className:"w-full h-full object-cover"}),f.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer transition",children:[f.jsx(Qw,{className:"w-6 h-6 text-white"}),f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Q=>Q.target.files?.[0]&&pe(Q.target.files[0])})]})]}),f.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Click para cambiar foto"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Publico"}),f.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.displayName,onChange:Q=>U({...j,displayName:Q.target.value}),required:!0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este nombre aparecer en todas tus propiedades publicadas."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.email,onChange:Q=>U({...j,email:Q.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),f.jsx("input",{type:"tel",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.phoneNumber,onChange:Q=>U({...j,phoneNumber:Q.target.value})})]}),f.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea (Opcional)"}),f.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Dejar vaca para mantener la actual",value:j.newPassword||"",onChange:Q=>U({...j,newPassword:Q.target.value})}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres."})]}),f.jsx("button",{type:"submit",disabled:k,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-xl hover:bg-[#e56b3e] transition disabled:opacity-70",children:k?"Guardando...":"Guardar Cambios"})]})]}),p==="inquiries"&&f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Visitas Agendadas"}),ee.length===0?f.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No tienes visitas programadas."}):f.jsx("div",{className:"space-y-4",children:ee.map(Q=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg uppercase",children:Q.propertyTitle}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(Ay,{className:"w-4 h-4 text-[#fc7f51]"}),f.jsx("span",{className:"font-medium text-gray-700",children:Q.clientName})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-500",children:[f.jsx(Z_,{className:"w-3 h-3"})," ",Q.clientPhone]})]}),f.jsxs("div",{className:"text-right bg-orange-50 px-4 py-2 rounded-lg border border-orange-100",children:[f.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:"Fecha de Visita"}),f.jsx("div",{className:"font-bold text-[#fc7f51] text-lg",children:Q.visitDate?new Date(Q.visitDate).toLocaleDateString():"Por definir"}),f.jsx("div",{className:"text-sm font-medium text-gray-700",children:Q.visitTime||"Hora por definir"})]})]},Q.id))})]}),p==="tips"&&f.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsx("div",{className:"md:col-span-1",children:f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-24",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:ye?"Editar Tip":"Nuevo Tip"}),f.jsxs("form",{onSubmit:Ti,className:"space-y-4",children:[f.jsx("input",{type:"text",placeholder:"Ttulo del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:te.title,onChange:Q=>ne({...te,title:Q.target.value}),required:!0}),f.jsx("textarea",{placeholder:"Contenido del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-32 resize-none",value:te.content,onChange:Q=>ne({...te,content:Q.target.value}),required:!0}),f.jsx("button",{type:"submit",disabled:I,className:"w-full bg-[#fc7f51] text-white font-bold py-2 rounded-lg hover:bg-[#e56b3e] transition",children:ye?"Actualizar":"Publicar"}),ye&&f.jsx("button",{type:"button",onClick:()=>{q(null),ne({title:"",content:""})},className:"w-full bg-gray-100 text-gray-600 font-bold py-2 rounded-lg hover:bg-gray-200 transition",children:"Cancelar"})]})]})}),f.jsxs("div",{className:"md:col-span-2 space-y-4",children:[f.jsxs("h3",{className:"font-bold text-gray-800 mb-4",children:["Tips Publicados (",B.length,")"]}),B.length===0?f.jsx("p",{className:"text-gray-500 text-center py-10",children:"No has publicado tips an."}):B.map(Q=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative group",children:[f.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:Q.title}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:Q.content}),f.jsx("div",{className:"text-xs text-gray-400",children:Q.createdAt?.seconds?new Date(Q.createdAt.seconds*1e3).toLocaleDateString():"Reciente"}),f.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[f.jsx("button",{onClick:()=>qr(Q),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:f.jsx(N4,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Da(Q.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:f.jsx(Sy,{className:"w-4 h-4"})})]})]},Q.id))]})]})]}):f.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:f.jsx(Z4,{className:"w-8 h-8 text-[#fc7f51]"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cuenta Inactiva"}),f.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Ingresa tu cdigo de activacin para acceder al panel."}),f.jsxs("form",{onSubmit:Zt,className:"w-full space-y-4",children:[f.jsx("input",{type:"text",value:w,onChange:Q=>E(Q.target.value.toUpperCase()),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition text-center font-mono text-lg tracking-widest uppercase",placeholder:"CDIGO",required:!0}),f.jsx("button",{type:"submit",disabled:N,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition disabled:opacity-70",children:N?"Verificando...":"Activar Cuenta"})]})]})]}),xe&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden relative",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Gestionar Horarios de Visita"}),f.jsx("p",{className:"text-sm text-gray-500 mt-1 uppercase",children:At})]}),f.jsx("button",{onClick:()=>Ae(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(Ea,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"flex gap-2 items-end",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Fecha"}),f.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none text-sm",value:Kn,onChange:Q=>Ei(Q.target.value)})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Hora"}),f.jsx("input",{type:"time",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none text-sm",value:Wn,onChange:Q=>fs(Q.target.value)})]}),f.jsx("button",{onClick:Bs,className:"bg-[#fc7f51] text-white px-4 py-2 rounded-lg hover:bg-[#e56b3e] transition font-bold text-sm",children:f.jsx(ij,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:Hn.length===0?f.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"No hay horarios disponibles. Agrega fechas y horas."}):Hn.sort((Q,Pe)=>new Date(Q.date+"T"+Q.time)-new Date(Pe.date+"T"+Pe.time)).map(Q=>f.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-2.5 rounded-lg border border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Gf,{className:"w-4 h-4 text-[#fc7f51]"}),f.jsx("span",{className:"font-medium text-gray-700 text-sm",children:new Date(Q.date+"T00:00:00").toLocaleDateString("es-PE",{weekday:"short",day:"numeric",month:"short"})}),f.jsxs("span",{className:"text-gray-500 text-sm flex items-center gap-1",children:[f.jsx(Ty,{className:"w-3 h-3"})," ",Q.time]})]}),f.jsx("button",{onClick:()=>hr(Q.id),className:"text-red-400 hover:text-red-600 transition",children:f.jsx(Ea,{className:"w-4 h-4"})})]},Q.id))}),f.jsxs("button",{onClick:qi,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-lg hover:bg-[#e56b3e] transition",children:["Guardar Horarios (",Hn.length,")"]})]})]})})]})},L6=()=>{const{user:n}=ka(),[e,t]=V.useState([]),[s,o]=V.useState(!0);return V.useEffect(()=>{(async()=>{try{const d=Ds(gn(Xe,"properties")),p=(await ir(d)).docs.map(v=>({id:v.id,...v.data()}));console.log("ClientDashboard Fetched properties:",p),t(p)}catch(d){console.error("Error fetching properties:",d)}finally{o(!1)}})()},[n]),f.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:f.jsxs("div",{className:"container mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:["Hola, ",n?.displayName||"Usuario"]}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Bienvenido a tu panel personal. Aqu encontrars las propiedades que te interesan."})]}),f.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1",children:[f.jsx("button",{className:"px-4 py-2 text-[#fc7f51] border-b-2 border-[#fc7f51] font-bold",children:"Mis Favoritos"}),f.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Vistos Recientemente"}),f.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Alertas"})]}),s?f.jsx("div",{className:"flex justify-center py-20",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#fc7f51]"})}):e.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden group border border-gray-100",children:[f.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[f.jsx("img",{src:c.images?.[0]||"https://images.unsplash.com/photo-1600596542815-9ad4dc2f2072?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),f.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500",children:f.jsx($f,{className:"w-5 h-5 fill-current"})}),f.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider",children:c.type})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:c.title}),f.jsxs("span",{className:"text-[#fc7f51] font-bold text-lg",children:["$",c.price?.toLocaleString()]})]}),f.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.location}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-4",children:[c.category==="construido"?f.jsxs(f.Fragment,{children:[f.jsxs("span",{children:[c.bedrooms," Hab"]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[c.bathrooms," Baos"]}),f.jsx("span",{children:""})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{children:"Terreno"}),f.jsx("span",{children:""})]}),f.jsxs("span",{children:[c.footage," m"]})]}),f.jsx(un,{to:`/properties/${c.id}`,className:"mt-4 block w-full py-3 bg-gray-50 hover:bg-[#fc7f51] hover:text-white text-gray-600 font-bold text-center rounded-xl transition text-sm",children:"Ver Detalles"})]})]},c.id))}):f.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[f.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx($f,{className:"w-8 h-8 text-[#fc7f51]"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"An no tienes favoritos"}),f.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explora nuestro catlogo y guarda las propiedades que ms te gusten para verlas aqu."}),f.jsxs(un,{to:"/",className:"inline-flex items-center gap-2 bg-[#fc7f51] text-white px-8 py-3 rounded-full font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:[f.jsx(Xc,{className:"w-5 h-5"}),"Explorar Propiedades"]})]})]})})},O6=()=>{const[n,e]=V.useState({totalAgents:0,totalProperties:0,activeCodes:0}),[t,s]=V.useState([]),[o,c]=V.useState(!0),[d,_]=V.useState(!1),[p,v]=V.useState(null),[w,E]=V.useState([]),[N,R]=V.useState(!1),[j,U]=V.useState(!1),k=async()=>{try{const ne=Ds(gn(Xe,"users"),_a("role","==","agente")),ye=await Vw(ne),q=await Vw(gn(Xe,"properties")),I=Ds(gn(Xe,"activation_codes"),WT("createdAt","desc")),G=(await ir(I)).docs.map(H=>({id:H.id,...H.data()}));s(G),e({totalAgents:ye.data().count,totalProperties:q.data().count,activeCodes:G.filter(H=>!H.used).length})}catch(ne){console.error("Error fetching admin stats:",ne),Ve.error("Error al cargar estadsticas")}finally{c(!1)}};V.useEffect(()=>{k()},[]);const O=async()=>{_(!0);try{const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let ye="";for(let q=0;q<8;q++)ye+=ne.charAt(Math.floor(Math.random()*ne.length));await kl(gn(Xe,"activation_codes"),{code:ye,used:!1,createdAt:new Date,usedBy:null,usedAt:null}),Ve.success("Cdigo generado correctamente!"),k()}catch(ne){console.error("Error generating code:",ne),Ve.error("No se pudo generar el cdigo")}finally{_(!1)}},B=ne=>{navigator.clipboard.writeText(ne),Ve.success("Cdigo copiado al portapapeles")},$=async ne=>{if(ne){R(!0),U(!0),E([]);try{const ye=await Ol(en(Xe,"users",ne));if(ye.exists())v({id:ye.id,...ye.data()});else{v(null),Ve.error("Usuario no encontrado (probablemente ya eliminado).");return}const q=Ds(gn(Xe,"properties"),_a("agentId","==",ne)),Z=(await ir(q)).docs.map(G=>({id:G.id,...G.data()}));E(Z)}catch(ye){console.error("Error details:",ye),Ve.error("Error al cargar detalles")}finally{R(!1)}}},te=async()=>{if(!(!p||!window.confirm(`Ests seguro de que quieres eliminar a ${p.displayName||"este usuario"} y todas sus propiedades? Esta accin no se puede deshacer.`)))try{const ne=w.map(ye=>qf(en(Xe,"properties",ye.id)));await Promise.all(ne),await qf(en(Xe,"users",p.id)),Ve.success("Usuario y sus propiedades eliminados."),U(!1),k()}catch(ne){console.error("Error deleting user:",ne),Ve.error("Error al eliminar usuario.")}};return o?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(zg,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):f.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:[f.jsxs("div",{className:"container mx-auto max-w-6xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:"Panel Super Admin"}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Gestin general de la plataforma"})]}),f.jsx("button",{onClick:k,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition shadow-sm",children:f.jsx(zg,{className:"w-5 h-5 text-gray-500"})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[f.jsx("div",{className:"bg-orange-50 p-4 rounded-xl",children:f.jsx(NS,{className:"w-8 h-8 text-[#fc7f51]"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Agentes Registrados"}),f.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalAgents})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[f.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:f.jsx(SS,{className:"w-8 h-8 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Inmuebles Publicados"}),f.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalProperties})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[f.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:f.jsx(Yf,{className:"w-8 h-8 text-green-500"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Cdigos Disponibles"}),f.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.activeCodes})]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[f.jsxs("div",{className:"p-8 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cdigos de Activacin"}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Genera cdigos nicos para activar cuentas de agentes."})]}),f.jsxs("button",{onClick:O,disabled:d,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/20 transition flex items-center gap-2 disabled:opacity-70",children:[d?f.jsx(zg,{className:"w-5 h-5 animate-spin"}):f.jsx(Yf,{className:"w-5 h-5"}),"Generar Nuevo Cdigo"]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CDIGO"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ESTADO"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CREADO EL"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"USADO POR"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ACCIONES"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-50",children:t.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:"5",className:"px-8 py-8 text-center text-gray-400",children:"No hay cdigos generados an."})}):t.map(ne=>f.jsxs("tr",{className:"hover:bg-gray-50/50 transition",children:[f.jsx("td",{className:"px-8 py-4",children:f.jsx("span",{className:"font-mono font-bold text-lg text-gray-700 tracking-wider",children:ne.code})}),f.jsx("td",{className:"px-8 py-4",children:ne.used?f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Usado"}):f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Disponible"})}),f.jsx("td",{className:"px-8 py-4 text-sm text-gray-500",children:ne.createdAt?.toDate().toLocaleDateString()}),f.jsx("td",{className:"px-8 py-4 text-sm text-gray-500 relative group cursor-pointer",onClick:()=>ne.usedBy&&$(ne.usedBy),children:ne.usedBy?f.jsxs("div",{className:"flex items-center gap-2 hover:text-[#fc7f51] transition",children:[f.jsx("span",{children:ne.usedBy}),f.jsx(Zf,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}):"-"}),f.jsx("td",{className:"px-8 py-4",children:ne.used?f.jsx("button",{onClick:()=>$(ne.usedBy),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition",title:"Ver Detalles",children:f.jsx(Zf,{className:"w-5 h-5"})}):f.jsx("button",{onClick:()=>B(ne.code),className:"text-[#fc7f51] hover:text-[#e56b3e] p-2 hover:bg-orange-50 rounded-lg transition",title:"Copiar cdigo",children:f.jsx(x4,{className:"w-5 h-5"})})})]},ne.id))})]})})]})]}),j&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Detalles del Agente"}),f.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-gray-200 rounded-full transition",children:f.jsx(Ea,{className:"w-5 h-5 text-gray-500"})})]}),f.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:N?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx(Loader2,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):p?f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-bold text-gray-800",children:p.displayName||"Sin Nombre"}),f.jsx("p",{className:"text-gray-500",children:p.email}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:p.phoneNumber||"Sin Telfono"}),f.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-orange-100 text-[#fc7f51] text-xs font-bold rounded-lg uppercase",children:p.role})]}),f.jsxs("button",{onClick:te,className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition",children:[f.jsx(Sy,{className:"w-4 h-4"}),"Eliminar Usuario"]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:["Propiedades Publicadas (",w.length,")"]}),w.length===0?f.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Este usuario no tiene propiedades."}):f.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map(ne=>f.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex gap-3 hover:bg-gray-50 transition",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:ne.images?.[0]&&f.jsx("img",{src:ne.images[0],className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:ne.title}),f.jsx("p",{className:"text-xs text-gray-500 truncate",children:ne.location}),f.jsxs("p",{className:"text-[#fc7f51] font-bold text-xs mt-1",children:["$",ne.price?.toLocaleString()]})]})]},ne.id))})]})]}):f.jsx("p",{className:"text-center text-red-500",children:"No se pudo cargar la informacin."})})]})})]})},k6=()=>{const{user:n}=ka(),[e,t]=V.useState(!1),s=async()=>{t(!0);try{const c=[{title:"Modern Apartment in Downtown",price:25e4,location:"Downtown City Center",type:"venta",category:"construido",bedrooms:2,bathrooms:2,footage:85,description:"Stunning view of the city.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"]},{title:"Cozy Family Home",price:1500,location:"Suburban Area",type:"alquiler",category:"construido",bedrooms:3,bathrooms:2,footage:120,description:"Ideal for a small family.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1560184897-ae75f418493e"]}];for(const d of c)await kl(gn(Xe,"properties"),d);Ve.success("Propiedades de demostracin creadas!")}catch(c){console.error("Error creating demo props:",c),Ve.error("Error al crear propiedades demo")}finally{t(!1)}},o=async()=>{if(!n){Ve.error("Debes iniciar sesin primero.");return}t(!0);try{const c=en(Xe,"users",n.uid);await va(c,{role:"superadmin",isActivated:!0}),Ve.success(`Rol actualizado! Ahora eres Super Admin: ${n.email}`),setTimeout(()=>window.location.reload(),1500)}catch(c){console.error("Error making superadmin:",c),Ve.error("Error al actualizar rol")}finally{t(!1)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 space-y-8",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg border border-gray-100 text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Configuracin Inicial"}),f.jsx("p",{className:"text-gray-500 mb-8",children:"Usa estas herramientas para inicializar tu base de datos."}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"1. Configurar Admin"}),f.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Convierte tu usuario actual (",n?.email||"No logueado",") en Super Admin."]}),f.jsx("button",{onClick:o,disabled:e||!n,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Hacerme Super Admin"})]}),f.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"2. Datos de Prueba"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crea propiedades de ejemplo para ver cmo luce el dashboard."}),f.jsx("button",{onClick:s,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Crear Propiedades Demo"})]})]}),f.jsx("p",{className:"mt-8 text-xs text-gray-400",children:"Nota: Esta pgina debe ser eliminada o asegurada antes de produccin."})]})})};function D6(){const e=zs().pathname==="/superadmin";return f.jsx(U5,{children:f.jsxs("div",{className:"flex flex-col min-h-screen",children:[!e&&f.jsx(s6,{}),f.jsx("main",{className:"flex-grow",children:f.jsxs(EC,{children:[f.jsx(os,{path:"/",element:f.jsx(Sj,{})}),f.jsx(os,{path:"/about",element:f.jsx(i6,{})}),f.jsx(os,{path:"/contact",element:f.jsx(a6,{})}),f.jsx(os,{path:"/properties/:id",element:f.jsx(n6,{})}),f.jsx(os,{path:"/search",element:f.jsx(o6,{})}),f.jsx(os,{path:"/login",element:f.jsx(l6,{})}),f.jsx(os,{path:"/register",element:f.jsx(c6,{})}),f.jsx(os,{path:"/forgot-password",element:f.jsx(u6,{})}),f.jsx(os,{path:"/setup",element:f.jsx(k6,{})}),f.jsx(os,{path:"/agent-dashboard",element:f.jsx(Vg,{allowedRoles:["agente"],children:f.jsx(M6,{})})}),f.jsx(os,{path:"/client-dashboard",element:f.jsx(Vg,{allowedRoles:["cliente"],children:f.jsx(L6,{})})}),f.jsx(os,{path:"/superadmin",element:f.jsx(Vg,{allowedRoles:["superadmin"],children:f.jsx(O6,{})})})]})}),!e&&f.jsx(r6,{})]})})}SA.createRoot(document.getElementById("root")).render(f.jsx(V.StrictMode,{children:f.jsx(YC,{children:f.jsx(D6,{})})}));
