(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function f1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pg={exports:{}},Yu={};var Xx;function SN(){if(Xx)return Yu;Xx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var _ in o)_!=="key"&&(c[_]=o[_])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Yu.Fragment=e,Yu.jsx=t,Yu.jsxs=t,Yu}var Jx;function NN(){return Jx||(Jx=1,pg.exports=SN()),pg.exports}var f=NN(),gg={exports:{}},nt={};var eb;function AN(){if(eb)return nt;eb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function V(O,ee,fe){this.props=O,this.context=ee,this.refs=k,this.updater=fe||j}V.prototype.isReactComponent={},V.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},V.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function B(){}B.prototype=V.prototype;function G(O,ee,fe){this.props=O,this.context=ee,this.refs=k,this.updater=fe||j}var ne=G.prototype=new B;ne.constructor=G,z(ne,V.prototype),ne.isPureReactComponent=!0;var te=Array.isArray;function _e(){}var H={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Z(O,ee,fe){var be=fe.ref;return{$$typeof:n,type:O,key:ee,ref:be!==void 0?be:null,props:fe}}function $(O,ee){return Z(O.type,ee,O.props)}function q(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function K(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return ee[fe]})}var F=/\/+/g;function Se(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):ee.toString(36)}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(_e,_e):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function W(O,ee,fe,be,Re){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var Fe=!1;if(O===null)Fe=!0;else switch(Ae){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(O.$$typeof){case n:case e:Fe=!0;break;case w:return Fe=O._init,W(Fe(O._payload),ee,fe,be,Re)}}if(Fe)return Re=Re(O),Fe=be===""?"."+Se(O,0):be,te(Re)?(fe="",Fe!=null&&(fe=Fe.replace(F,"$&/")+"/"),W(Re,ee,fe,"",function(Yi){return Yi})):Re!=null&&(q(Re)&&(Re=$(Re,fe+(Re.key==null||O&&O.key===Re.key?"":(""+Re.key).replace(F,"$&/")+"/")+Fe)),ee.push(Re)),1;Fe=0;var Ct=be===""?".":be+":";if(te(O))for(var Pt=0;Pt<O.length;Pt++)be=O[Pt],Ae=Ct+Se(be,Pt),Fe+=W(be,ee,fe,Ae,Re);else if(Pt=R(O),typeof Pt=="function")for(O=Pt.call(O),Pt=0;!(be=O.next()).done;)be=be.value,Ae=Ct+Se(be,Pt++),Fe+=W(be,ee,fe,Ae,Re);else if(Ae==="object"){if(typeof O.then=="function")return W(ye(O),ee,fe,be,Re);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function pe(O,ee,fe){if(O==null)return O;var be=[],Re=0;return W(O,be,"","",function(Ae){return ee.call(fe,Ae,Re++)}),be}function ae(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var Ne=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},me={map:pe,forEach:function(O,ee,fe){pe(O,function(){ee.apply(this,arguments)},fe)},count:function(O){var ee=0;return pe(O,function(){ee++}),ee},toArray:function(O){return pe(O,function(ee){return ee})||[]},only:function(O){if(!q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return nt.Activity=E,nt.Children=me,nt.Component=V,nt.Fragment=t,nt.Profiler=o,nt.PureComponent=G,nt.StrictMode=s,nt.Suspense=p,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,nt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return H.H.useMemoCache(O)}},nt.cache=function(O){return function(){return O.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(O,ee,fe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var be=z({},O.props),Re=O.key;if(ee!=null)for(Ae in ee.key!==void 0&&(Re=""+ee.key),ee)!I.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(be[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)be.children=fe;else if(1<Ae){for(var Fe=Array(Ae),Ct=0;Ct<Ae;Ct++)Fe[Ct]=arguments[Ct+2];be.children=Fe}return Z(O.type,Re,be)},nt.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},nt.createElement=function(O,ee,fe){var be,Re={},Ae=null;if(ee!=null)for(be in ee.key!==void 0&&(Ae=""+ee.key),ee)I.call(ee,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Re[be]=ee[be]);var Fe=arguments.length-2;if(Fe===1)Re.children=fe;else if(1<Fe){for(var Ct=Array(Fe),Pt=0;Pt<Fe;Pt++)Ct[Pt]=arguments[Pt+2];Re.children=Ct}if(O&&O.defaultProps)for(be in Fe=O.defaultProps,Fe)Re[be]===void 0&&(Re[be]=Fe[be]);return Z(O,Ae,Re)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(O){return{$$typeof:_,render:O}},nt.isValidElement=q,nt.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ae}},nt.memo=function(O,ee){return{$$typeof:v,type:O,compare:ee===void 0?null:ee}},nt.startTransition=function(O){var ee=H.T,fe={};H.T=fe;try{var be=O(),Re=H.S;Re!==null&&Re(fe,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(_e,Ne)}catch(Ae){Ne(Ae)}finally{ee!==null&&fe.types!==null&&(ee.types=fe.types),H.T=ee}},nt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},nt.use=function(O){return H.H.use(O)},nt.useActionState=function(O,ee,fe){return H.H.useActionState(O,ee,fe)},nt.useCallback=function(O,ee){return H.H.useCallback(O,ee)},nt.useContext=function(O){return H.H.useContext(O)},nt.useDebugValue=function(){},nt.useDeferredValue=function(O,ee){return H.H.useDeferredValue(O,ee)},nt.useEffect=function(O,ee){return H.H.useEffect(O,ee)},nt.useEffectEvent=function(O){return H.H.useEffectEvent(O)},nt.useId=function(){return H.H.useId()},nt.useImperativeHandle=function(O,ee,fe){return H.H.useImperativeHandle(O,ee,fe)},nt.useInsertionEffect=function(O,ee){return H.H.useInsertionEffect(O,ee)},nt.useLayoutEffect=function(O,ee){return H.H.useLayoutEffect(O,ee)},nt.useMemo=function(O,ee){return H.H.useMemo(O,ee)},nt.useOptimistic=function(O,ee){return H.H.useOptimistic(O,ee)},nt.useReducer=function(O,ee,fe){return H.H.useReducer(O,ee,fe)},nt.useRef=function(O){return H.H.useRef(O)},nt.useState=function(O){return H.H.useState(O)},nt.useSyncExternalStore=function(O,ee,fe){return H.H.useSyncExternalStore(O,ee,fe)},nt.useTransition=function(){return H.H.useTransition()},nt.version="19.2.4",nt}var tb;function Uy(){return tb||(tb=1,gg.exports=AN()),gg.exports}var D=Uy();const hn=f1(D);var yg={exports:{}},Wu={},_g={exports:{}},vg={};var nb;function CN(){return nb||(nb=1,(function(n){function e(W,pe){var ae=W.length;W.push(pe);e:for(;0<ae;){var Ne=ae-1>>>1,me=W[Ne];if(0<o(me,pe))W[Ne]=pe,W[ae]=me,ae=Ne;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var pe=W[0],ae=W.pop();if(ae!==pe){W[0]=ae;e:for(var Ne=0,me=W.length,O=me>>>1;Ne<O;){var ee=2*(Ne+1)-1,fe=W[ee],be=ee+1,Re=W[be];if(0>o(fe,ae))be<me&&0>o(Re,fe)?(W[Ne]=Re,W[be]=ae,Ne=be):(W[Ne]=fe,W[ee]=ae,Ne=ee);else if(be<me&&0>o(Re,ae))W[Ne]=Re,W[be]=ae,Ne=be;else break e}}return pe}function o(W,pe){var ae=W.sortIndex-pe.sortIndex;return ae!==0?ae:W.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,_=h.now();n.unstable_now=function(){return h.now()-_}}var p=[],v=[],w=1,E=null,C=3,R=!1,j=!1,z=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ne(W){for(var pe=t(v);pe!==null;){if(pe.callback===null)s(v);else if(pe.startTime<=W)s(v),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(v)}}function te(W){if(z=!1,ne(W),!j)if(t(p)!==null)j=!0,_e||(_e=!0,K());else{var pe=t(v);pe!==null&&ye(te,pe.startTime-W)}}var _e=!1,H=-1,I=5,Z=-1;function $(){return k?!0:!(n.unstable_now()-Z<I)}function q(){if(k=!1,_e){var W=n.unstable_now();Z=W;var pe=!0;try{e:{j=!1,z&&(z=!1,B(H),H=-1),R=!0;var ae=C;try{t:{for(ne(W),E=t(p);E!==null&&!(E.expirationTime>W&&$());){var Ne=E.callback;if(typeof Ne=="function"){E.callback=null,C=E.priorityLevel;var me=Ne(E.expirationTime<=W);if(W=n.unstable_now(),typeof me=="function"){E.callback=me,ne(W),pe=!0;break t}E===t(p)&&s(p),ne(W)}else s(p);E=t(p)}if(E!==null)pe=!0;else{var O=t(v);O!==null&&ye(te,O.startTime-W),pe=!1}}break e}finally{E=null,C=ae,R=!1}pe=void 0}}finally{pe?K():_e=!1}}}var K;if(typeof G=="function")K=function(){G(q)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Se=F.port2;F.port1.onmessage=q,K=function(){Se.postMessage(null)}}else K=function(){V(q,0)};function ye(W,pe){H=V(function(){W(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(W){switch(C){case 1:case 2:case 3:var pe=3;break;default:pe=C}var ae=C;C=pe;try{return W()}finally{C=ae}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(W,pe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=C;C=W;try{return pe()}finally{C=ae}},n.unstable_scheduleCallback=function(W,pe,ae){var Ne=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ne+ae:Ne):ae=Ne,W){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ae+me,W={id:w++,callback:pe,priorityLevel:W,startTime:ae,expirationTime:me,sortIndex:-1},ae>Ne?(W.sortIndex=ae,e(v,W),t(p)===null&&W===t(v)&&(z?(B(H),H=-1):z=!0,ye(te,ae-Ne))):(W.sortIndex=me,e(p,W),j||R||(j=!0,_e||(_e=!0,K()))),W},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(W){var pe=C;return function(){var ae=C;C=pe;try{return W.apply(this,arguments)}finally{C=ae}}}})(vg)),vg}var ib;function RN(){return ib||(ib=1,_g.exports=CN()),_g.exports}var xg={exports:{}},ci={};var sb;function IN(){if(sb)return ci;sb=1;var n=Uy();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,v,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:v,implementation:w}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ci.createPortal=function(p,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,w)},ci.flushSync=function(p){var v=h.T,w=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=v,s.p=w,s.d.f()}},ci.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},ci.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ci.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,R=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:R}):w==="script"&&s.d.X(p,{crossOrigin:E,integrity:C,fetchPriority:R,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ci.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=_(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},ci.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,E=_(w,v.crossOrigin);s.d.L(p,w,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ci.preloadModule=function(p,v){if(typeof p=="string")if(v){var w=_(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},ci.requestFormReset=function(p){s.d.r(p)},ci.unstable_batchedUpdates=function(p,v){return p(v)},ci.useFormState=function(p,v,w){return h.H.useFormState(p,v,w)},ci.useFormStatus=function(){return h.H.useHostTransitionStatus()},ci.version="19.2.4",ci}var rb;function m1(){if(rb)return xg.exports;rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xg.exports=IN(),xg.exports}var ab;function PN(){if(ab)return Wu;ab=1;var n=RN(),e=Uy(),t=m1();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function h(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function _(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(c(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,d=r;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return p(y),i;if(x===d)return p(y),r;x=x.sibling}throw Error(s(188))}if(l.return!==d.return)l=y,d=x;else{for(var N=!1,M=y.child;M;){if(M===l){N=!0,l=y,d=x;break}if(M===d){N=!0,d=y,l=x;break}M=M.sibling}if(!N){for(M=x.child;M;){if(M===l){N=!0,l=x,d=y;break}if(M===d){N=!0,d=x,l=y;break}M=M.sibling}if(!N)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function w(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=w(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case V:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case _e:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case G:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case ne:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return r=i.displayName||null,r!==null?r:Se(i.type)||"Memo";case I:r=i._payload,i=i._init;try{return Se(i(r))}catch{}}return null}var ye=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Ne=[],me=-1;function O(i){return{current:i}}function ee(i){0>me||(i.current=Ne[me],Ne[me]=null,me--)}function fe(i,r){me++,Ne[me]=i.current,i.current=r}var be=O(null),Re=O(null),Ae=O(null),Fe=O(null);function Ct(i,r){switch(fe(Ae,r),fe(Re,i),fe(be,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?bx(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=bx(r),i=wx(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(be),fe(be,i)}function Pt(){ee(be),ee(Re),ee(Ae)}function Yi(i){i.memoizedState!==null&&fe(Fe,i);var r=be.current,l=wx(r,i.type);r!==l&&(fe(Re,i),fe(be,l))}function xs(i){Re.current===i&&(ee(be),ee(Re)),Fe.current===i&&(ee(Fe),Gu._currentValue=ae)}var Dn,Ai;function ti(i){if(Dn===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Dn=r&&r[1]||"",Ai=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dn+i+Ai}var bs=!1;function Ci(i,r){if(!i||bs)return"";bs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(he){var ue=he}Reflect.construct(i,[],Ee)}else{try{Ee.call()}catch(he){ue=he}i.call(Ee.prototype)}}else{try{throw Error()}catch(he){ue=he}(Ee=i())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(he){if(he&&ue&&typeof he.stack=="string")return[he.stack,ue.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),N=x[0],M=x[1];if(N&&M){var Q=N.split(`
`),le=M.split(`
`);for(y=d=0;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;for(;y<le.length&&!le[y].includes("DetermineComponentFrameRoot");)y++;if(d===Q.length||y===le.length)for(d=Q.length-1,y=le.length-1;1<=d&&0<=y&&Q[d]!==le[y];)y--;for(;1<=d&&0<=y;d--,y--)if(Q[d]!==le[y]){if(d!==1||y!==1)do if(d--,y--,0>y||Q[d]!==le[y]){var ge=`
`+Q[d].replace(" at new "," at ");return i.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",i.displayName)),ge}while(1<=d&&0<=y);break}}}finally{bs=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ti(l):""}function Wi(i,r){switch(i.tag){case 26:case 27:case 5:return ti(i.type);case 16:return ti("Lazy");case 13:return i.child!==r&&r!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Ci(i.type,!1);case 11:return Ci(i.type.render,!1);case 1:return Ci(i.type,!0);case 31:return ti("Activity");default:return""}}function Ri(i){try{var r="",l=null;do r+=Wi(i,l),l=i,i=i.return;while(i);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ht=Object.prototype.hasOwnProperty,Xt=n.unstable_scheduleCallback,Ii=n.unstable_cancelCallback,Oa=n.unstable_shouldYield,Kr=n.unstable_requestPaint,Pn=n.unstable_now,qs=n.unstable_getCurrentPriorityLevel,Hs=n.unstable_ImmediatePriority,mr=n.unstable_UserBlockingPriority,Qi=n.unstable_NormalPriority,Wo=n.unstable_LowPriority,Yr=n.unstable_IdlePriority,Wr=n.log,Va=n.unstable_setDisableYieldValue,ni=null,nn=null;function Kn(i){if(typeof Wr=="function"&&Va(i),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ni,i)}catch{}}var $t=Math.clz32?Math.clz32:X,Xi=Math.log,pr=Math.LN2;function X(i){return i>>>=0,i===0?32:31-(Xi(i)/pr|0)|0}var Ie=256,Me=262144,je=4194304;function qe(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function tt(i,r,l){var d=i.pendingLanes;if(d===0)return 0;var y=0,x=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var M=d&134217727;return M!==0?(d=M&~x,d!==0?y=qe(d):(N&=M,N!==0?y=qe(N):l||(l=M&~i,l!==0&&(y=qe(l))))):(M=d&~x,M!==0?y=qe(M):N!==0?y=qe(N):l||(l=d&~i,l!==0&&(y=qe(l)))),y===0?0:r!==0&&r!==y&&(r&x)===0&&(x=y&-y,l=r&-r,x>=l||x===32&&(l&4194048)!==0)?r:y}function lt(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Jt(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bn(){var i=je;return je<<=1,(je&62914560)===0&&(je=4194304),i}function gn(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function On(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Qo(i,r,l,d,y,x){var N=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,Q=i.expirationTimes,le=i.hiddenUpdates;for(l=N&~l;0<l;){var ge=31-$t(l),Ee=1<<ge;M[ge]=0,Q[ge]=-1;var ue=le[ge];if(ue!==null)for(le[ge]=null,ge=0;ge<ue.length;ge++){var he=ue[ge];he!==null&&(he.lane&=-536870913)}l&=~Ee}d!==0&&Fs(i,d,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(N&~r))}function Fs(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var d=31-$t(r);i.entangledLanes|=r,i.entanglements[d]=i.entanglements[d]|1073741824|l&261930}function Xo(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var d=31-$t(l),y=1<<d;y&r|i[d]&r&&(i[d]|=r),l&=~y}}function Jo(i,r){var l=r&-r;return l=(l&42)!==0?1:Vn(l),(l&(i.suspendedLanes|r))!==0?0:l}function Vn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ve(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function el(){var i=pe.p;return i!==0?i:(i=window.event,i===void 0?32:Gx(i.type))}function Pi(i,r){var l=pe.p;try{return pe.p=i,r()}finally{pe.p=l}}var Mi=Math.random().toString(36).slice(2),sn="__reactFiber$"+Mi,on="__reactProps$"+Mi,Ji="__reactContainer$"+Mi,es="__reactEvents$"+Mi,rc="__reactListeners$"+Mi,ac="__reactHandles$"+Mi,oc="__reactResources$"+Mi,ws="__reactMarker$"+Mi;function za(i){delete i[sn],delete i[on],delete i[es],delete i[rc],delete i[ac]}function ts(i){var r=i[sn];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Ji]||l[sn]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Rx(i);i!==null;){if(l=i[sn])return l;i=Rx(i)}return r}i=l,l=i.parentNode}return null}function ji(i){if(i=i[sn]||i[Ji]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function zn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Es(i){var r=i[oc];return r||(r=i[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ln(i){i[ws]=!0}var tl=new Set,nl={};function Ts(i,r){Li(i,r),Li(i+"Capture",r)}function Li(i,r){for(nl[i]=r,i=0;i<r.length;i++)tl.add(r[i])}var Gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ua={},Ba={};function gr(i){return Ht.call(Ba,i)?!0:Ht.call(Ua,i)?!1:Gs.test(i)?Ba[i]=!0:(Ua[i]=!0,!1)}function ot(i,r,l){if(gr(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function ct(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Zt(i,r,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+d)}}function Kt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function gi(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Qr(i,r,l){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,x=d.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(N){l=""+N,x.call(this,N)}}),Object.defineProperty(i,r,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(N){l=""+N},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ke(i){if(!i._valueTracker){var r=gi(i)?"checked":"value";i._valueTracker=Qr(i,r,""+i[r])}}function Mt(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return i&&(d=gi(i)?i.checked?"true":"false":i.value),i=d,i!==l?(r.setValue(i),!0):!1}function ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ss=/[\n"\\]/g;function Ut(i){return i.replace(Ss,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qa(i,r,l,d,y,x,N,M){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),r!=null?N==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Kt(r)):i.value!==""+Kt(r)&&(i.value=""+Kt(r)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),r!=null?ns(i,N,Kt(r)):l!=null?ns(i,N,Kt(l)):d!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Kt(M):i.removeAttribute("name")}function Xr(i,r,l,d,y,x,N,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),r!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||r!=null)){ke(i);return}l=l!=null?""+Kt(l):"",r=r!=null?""+Kt(r):l,M||r===i.value||(i.value=r),i.defaultValue=r}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=M?i.checked:!!d,i.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N),ke(i)}function ns(i,r,l){r==="number"&&ki(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function jt(i,r,l,d){if(i=i.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=r.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Kt(l),r=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function Ns(i,r,l){if(r!=null&&(r=""+Kt(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+Kt(l):""}function Di(i,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(s(92));if(ye(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=Kt(r),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d),ke(i)}function wn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $s(i,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":d?i.setProperty(r,l):typeof l!="number"||l===0||Ha.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function Jr(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in r)d=r[y],r.hasOwnProperty(y)&&l[y]!==d&&$s(i,y,d)}else for(var x in r)r.hasOwnProperty(x)&&$s(i,x,r[x])}function yr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ea=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(i){return As.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var Fa=null;function si(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vr=null,Ze=null;function Un(i){var r=ji(i);if(r&&(i=r.stateNode)){var l=i[on]||null;e:switch(i=r.stateNode,r.type){case"input":if(qa(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ut(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==i&&d.form===i.form){var y=d[on]||null;if(!y)throw Error(s(90));qa(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===i.form&&Mt(d)}break e;case"textarea":Ns(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&jt(i,!!l.multiple,r,!1)}}}var Et=!1;function Zs(i,r,l){if(Et)return i(r,l);Et=!0;try{var d=i(r);return d}finally{if(Et=!1,(vr!==null||Ze!==null)&&(Ph(),vr&&(r=vr,i=Ze,Ze=vr=null,Un(r),i)))for(r=0;r<i.length;r++)Un(i[r])}}function yi(i,r){var l=i.stateNode;if(l===null)return null;var d=l[on]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(ri)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{Ks=!1}var Oi=null,Ys=null,Yt=null;function is(){if(Yt)return Yt;var i,r=Ys,l=r.length,d,y="value"in Oi?Oi.value:Oi.textContent,x=y.length;for(i=0;i<l&&r[i]===y[i];i++);var N=l-i;for(d=1;d<=N&&r[l-d]===y[x-d];d++);return Yt=y.slice(i,1<d?1-d:void 0)}function xr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Cs(){return!0}function ss(){return!1}function En(i){function r(l,d,y,x,N){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Cs:ss,this.isPropagationStopped=ss,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=En(rs),Ws=E({},rs,{view:0,detail:0}),at=En(Ws),br,Bn,ai,ta=E({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ai&&(ai&&i.type==="mousemove"?(br=i.screenX-ai.screenX,Bn=i.screenY-ai.screenY):Bn=br=0,ai=i),br)},movementY:function(i){return"movementY"in i?i.movementY:Bn}}),il=En(ta),Qs=E({},ta,{dataTransfer:0}),lc=En(Qs),sl=E({},Ws,{relatedTarget:0}),na=En(sl),rl=E({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=En(rl),$a=E({},rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_i=En($a),cc=E({},rs,{data:0}),as=En(cc),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},al={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ol[i])?!!r[i]:!1}function wr(){return Za}var qn=E({},Ws,{key:function(i){if(i.key){var r=os[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=xr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?al[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(i){return i.type==="keypress"?xr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ll=En(qn),uc=E({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=En(uc),m=E({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),T=En(m),A=E({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=En(A),re=E({},ta,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),de=En(re),Ce=E({},rs,{newState:0,oldState:0}),Qe=En(Ce),xt=[9,13,27,32],bt=ri&&"CompositionEvent"in window,Bt=null;ri&&"documentMode"in document&&(Bt=document.documentMode);var Vi=ri&&"TextEvent"in window&&!Bt,zi=ri&&(!bt||Bt&&8<Bt&&11>=Bt),vi=" ",ls=!1;function ia(i,r){switch(i){case"keyup":return xt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ka=!1;function cs(i,r){switch(i){case"compositionend":return sa(r);case"keypress":return r.which!==32?null:(ls=!0,vi);case"textInput":return i=r.data,i===vi&&ls?null:i;default:return null}}function Ya(i,r){if(Ka)return i==="compositionend"||!bt&&ia(i,r)?(i=is(),Yt=Ys=Oi=null,Ka=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zi&&r.locale!=="ko"?null:r.data;default:return null}}var jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Is(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!jm[i.type]:r==="textarea"}function Kd(i,r,l,d){vr?Ze?Ze.push(d):Ze=[d]:vr=d,r=Vh(r,"onChange"),0<r.length&&(l=new Rs("onChange","change",null,l,d),i.push({event:l,listeners:r}))}var Ps=null,cl=null;function ul(i){px(i,0)}function dl(i){var r=zn(i);if(Mt(r))return i}function hl(i,r){if(i==="change")return r}var Yd=!1;if(ri){var Ms;if(ri){var Wa="oninput"in document;if(!Wa){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Wa=typeof Wd.oninput=="function"}Ms=Wa}else Ms=!1;Yd=Ms&&(!document.documentMode||9<document.documentMode)}function dc(){Ps&&(Ps.detachEvent("onpropertychange",Qd),cl=Ps=null)}function Qd(i){if(i.propertyName==="value"&&dl(cl)){var r=[];Kd(r,cl,i,si(i)),Zs(ul,r)}}function Js(i,r,l){i==="focusin"?(dc(),Ps=r,cl=l,Ps.attachEvent("onpropertychange",Qd)):i==="focusout"&&dc()}function Lm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return dl(cl)}function Qa(i,r){if(i==="click")return dl(r)}function km(i,r){if(i==="input"||i==="change")return dl(r)}function er(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Hn=typeof Object.is=="function"?Object.is:er;function Xa(i,r){if(Hn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!Ht.call(r,y)||!Hn(i[y],r[y]))return!1}return!0}function hc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fl(i,r){var l=hc(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=r&&d>=r)return{node:l,offset:r-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=hc(l)}}function fc(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?fc(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ml(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ki(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=ki(i.document)}return r}function Er(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var mc=ri&&"documentMode"in document&&11>=document.documentMode,Tr=null,pc=null,pl=null,Ja=!1;function Xd(i,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ja||Tr==null||Tr!==ki(d)||(d=Tr,"selectionStart"in d&&Er(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),pl&&Xa(pl,d)||(pl=d,d=Vh(pc,"onSelect"),0<d.length&&(r=new Rs("onSelect","select",null,r,l),i.push({event:r,listeners:d}),r.target=Tr)))}function Sr(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var eo={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},gc={},Jd={};ri&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Fn(i){if(gc[i])return gc[i];if(!eo[i])return i;var r=eo[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Jd)return gc[i]=r[l];return i}var gl=Fn("animationend"),eh=Fn("animationiteration"),yl=Fn("animationstart"),Dm=Fn("transitionrun"),th=Fn("transitionstart"),Om=Fn("transitioncancel"),to=Fn("transitionend"),nh=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nr.push("scrollEnd");function Ui(i,r){nh.set(i,r),Ts(r,[i])}var _l=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bi=[],oi=0,yc=0;function vl(){for(var i=oi,r=yc=oi=0;r<i;){var l=Bi[r];Bi[r++]=null;var d=Bi[r];Bi[r++]=null;var y=Bi[r];Bi[r++]=null;var x=Bi[r];if(Bi[r++]=null,d!==null&&y!==null){var N=d.pending;N===null?y.next=y:(y.next=N.next,N.next=y),d.pending=y}x!==0&&no(l,y,x)}}function Ar(i,r,l,d){Bi[oi++]=i,Bi[oi++]=r,Bi[oi++]=l,Bi[oi++]=d,yc|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function fu(i,r,l,d){return Ar(i,r,l,d),xl(i)}function js(i,r){return Ar(i,null,null,r),xl(i)}function no(i,r,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var y=!1,x=i.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,y&&r!==null&&(y=31-$t(l),i=x.hiddenUpdates,d=i[y],d===null?i[y]=[r]:d.push(r),r.lane=l|536870912),x):null}function xl(i){if(50<Vu)throw Vu=0,zp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ra={};function Vm(i,r,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(i,r,l,d){return new Vm(i,r,l,d)}function _c(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ls(i,r){var l=i.alternate;return l===null?(l=li(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function mu(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function bl(i,r,l,d,y,x){var N=0;if(d=i,typeof i=="function")_c(i)&&(N=1);else if(typeof i=="string")N=fN(i,l,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Z:return i=li(31,l,r,y),i.elementType=Z,i.lanes=x,i;case z:return aa(l.children,y,x,r);case k:N=8,y|=24;break;case V:return i=li(12,l,r,y|2),i.elementType=V,i.lanes=x,i;case te:return i=li(13,l,r,y),i.elementType=te,i.lanes=x,i;case _e:return i=li(19,l,r,y),i.elementType=_e,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:N=10;break e;case B:N=9;break e;case ne:N=11;break e;case H:N=14;break e;case I:N=16,d=null;break e}N=29,l=Error(s(130,i===null?"null":typeof i,"")),d=null}return r=li(N,l,r,y),r.elementType=i,r.type=d,r.lanes=x,r}function aa(i,r,l,d){return i=li(7,i,d,r),i.lanes=l,i}function vc(i,r,l){return i=li(6,i,null,r),i.lanes=l,i}function pu(i){var r=li(18,null,null,0);return r.stateNode=i,r}function gu(i,r,l){return r=li(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var a=new WeakMap;function u(i,r){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(r={value:i,source:r,stack:Ri(r)},a.set(i,r),r)}return{value:i,source:r,stack:Ri(r)}}var g=[],b=0,S=null,P=0,Y=[],se=0,ce=null,we=1,Pe="";function Be(i,r){g[b++]=P,g[b++]=S,S=i,P=r}function st(i,r,l){Y[se++]=we,Y[se++]=Pe,Y[se++]=ce,ce=i;var d=we;i=Pe;var y=32-$t(d)-1;d&=~(1<<y),l+=1;var x=32-$t(r)+y;if(30<x){var N=y-y%5;x=(d&(1<<N)-1).toString(32),d>>=N,y-=N,we=1<<32-$t(r)+y|l<<y|d,Pe=x+i}else we=1<<x|l<<y|d,Pe=i}function Mn(i){i.return!==null&&(Be(i,1),st(i,1,0))}function cn(i){for(;i===S;)S=g[--b],g[b]=null,P=g[--b],g[b]=null;for(;i===ce;)ce=Y[--se],Y[se]=null,Pe=Y[--se],Y[se]=null,we=Y[--se],Y[se]=null}function xi(i,r){Y[se++]=we,Y[se++]=Pe,Y[se++]=ce,we=r.id,Pe=r.overflow,ce=i}var Tt=null,St=null,ut=!1,Cr=null,qi=!1,xc=Error(s(519));function Rr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(u(r,i)),xc}function yu(i){var r=i.stateNode,l=i.type,d=i.memoizedProps;switch(r[sn]=i,r[on]=d,l){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(l=0;l<Uu.length;l++)ht(Uu[l],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":ht("invalid",r),Xr(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ht("invalid",r);break;case"textarea":ht("invalid",r),Di(r,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||vx(r.textContent,l)?(d.popover!=null&&(ht("beforetoggle",r),ht("toggle",r)),d.onScroll!=null&&ht("scroll",r),d.onScrollEnd!=null&&ht("scrollend",r),d.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||Rr(i,!0)}function rn(i){for(Tt=i.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:qi=!1;return;case 27:case 3:qi=!0;return;default:Tt=Tt.return}}function tr(i){if(i!==Tt)return!1;if(!ut)return rn(i),ut=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||eg(i.type,i.memoizedProps)),l=!l),l&&St&&Rr(i),rn(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=Cx(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));St=Cx(i)}else r===27?(r=St,yo(i.type)?(i=rg,rg=null,St=i):St=r):St=Tt?Ds(i.stateNode.nextSibling):null;return!0}function oa(){St=Tt=null,ut=!1}function _u(){var i=Cr;return i!==null&&($i===null?$i=i:$i.push.apply($i,i),Cr=null),i}function wl(i){Cr===null?Cr=[i]:Cr.push(i)}var El=O(null),Ir=null,nr=null;function io(i,r,l){fe(El,r._currentValue),r._currentValue=l}function la(i){i._currentValue=El.current,ee(El)}function zm(i,r,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),i===l)break;i=i.return}}function Um(i,r,l,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var N=y.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=y;for(var Q=0;Q<r.length;Q++)if(M.context===r[Q]){x.lanes|=l,M=x.alternate,M!==null&&(M.lanes|=l),zm(x.return,l,i),d||(N=null);break e}x=M.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(s(341));N.lanes|=l,x=N.alternate,x!==null&&(x.lanes|=l),zm(N,l,i),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===i){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function bc(i,r,l,d){i=null;for(var y=r,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var M=y.type;Hn(y.pendingProps.value,N.value)||(i!==null?i.push(M):i=[M])}}else if(y===Fe.current){if(N=y.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Gu):i=[Gu])}y=y.return}i!==null&&Um(r,i,l,d),r.flags|=262144}function ih(i){for(i=i.firstContext;i!==null;){if(!Hn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Tl(i){Ir=i,nr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return sv(Ir,i)}function sh(i,r){return Ir===null&&Tl(i),sv(i,r)}function sv(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},nr===null){if(i===null)throw Error(s(308));nr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else nr=nr.next=r;return l}var c2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},u2=n.unstable_scheduleCallback,d2=n.unstable_NormalPriority,Tn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bm(){return{controller:new c2,data:new Map,refCount:0}}function vu(i){i.refCount--,i.refCount===0&&u2(d2,function(){i.controller.abort()})}var xu=null,qm=0,wc=0,Ec=null;function h2(i,r){if(xu===null){var l=xu=[];qm=0,wc=Gp(),Ec={status:"pending",value:void 0,then:function(d){l.push(d)}}}return qm++,r.then(rv,rv),r}function rv(){if(--qm===0&&xu!==null){Ec!==null&&(Ec.status="fulfilled");var i=xu;xu=null,wc=0,Ec=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function f2(i,r){var l=[],d={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){d.status="fulfilled",d.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(d.status="rejected",d.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),d}var av=W.S;W.S=function(i,r){H0=Pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&h2(i,r),av!==null&&av(i,r)};var Sl=O(null);function Hm(){var i=Sl.current;return i!==null?i:qt.pooledCache}function rh(i,r){r===null?fe(Sl,Sl.current):fe(Sl,r.pool)}function ov(){var i=Hm();return i===null?null:{parent:Tn._currentValue,pool:i}}var Tc=Error(s(460)),Fm=Error(s(474)),ah=Error(s(542)),oh={then:function(){}};function lv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function cv(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(ii,ii),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,dv(i),i;default:if(typeof r.status=="string")r.then(ii,ii);else{if(i=qt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(d){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=d}},function(d){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,dv(i),i}throw Al=r,Tc}}function Nl(i){try{var r=i._init;return r(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Al=l,Tc):l}}var Al=null;function uv(){if(Al===null)throw Error(s(459));var i=Al;return Al=null,i}function dv(i){if(i===Tc||i===ah)throw Error(s(483))}var Sc=null,bu=0;function lh(i){var r=bu;return bu+=1,Sc===null&&(Sc=[]),cv(Sc,i,r)}function wu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ch(i,r){throw r.$$typeof===C?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function hv(i){function r(ie,J){if(i){var oe=ie.deletions;oe===null?(ie.deletions=[J],ie.flags|=16):oe.push(J)}}function l(ie,J){if(!i)return null;for(;J!==null;)r(ie,J),J=J.sibling;return null}function d(ie){for(var J=new Map;ie!==null;)ie.key!==null?J.set(ie.key,ie):J.set(ie.index,ie),ie=ie.sibling;return J}function y(ie,J){return ie=Ls(ie,J),ie.index=0,ie.sibling=null,ie}function x(ie,J,oe){return ie.index=oe,i?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<J?(ie.flags|=67108866,J):oe):(ie.flags|=67108866,J)):(ie.flags|=1048576,J)}function N(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function M(ie,J,oe,ve){return J===null||J.tag!==6?(J=vc(oe,ie.mode,ve),J.return=ie,J):(J=y(J,oe),J.return=ie,J)}function Q(ie,J,oe,ve){var Ge=oe.type;return Ge===z?ge(ie,J,oe.props.children,ve,oe.key):J!==null&&(J.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===I&&Nl(Ge)===J.type)?(J=y(J,oe.props),wu(J,oe),J.return=ie,J):(J=bl(oe.type,oe.key,oe.props,null,ie.mode,ve),wu(J,oe),J.return=ie,J)}function le(ie,J,oe,ve){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=gu(oe,ie.mode,ve),J.return=ie,J):(J=y(J,oe.children||[]),J.return=ie,J)}function ge(ie,J,oe,ve,Ge){return J===null||J.tag!==7?(J=aa(oe,ie.mode,ve,Ge),J.return=ie,J):(J=y(J,oe),J.return=ie,J)}function Ee(ie,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=vc(""+J,ie.mode,oe),J.return=ie,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return oe=bl(J.type,J.key,J.props,null,ie.mode,oe),wu(oe,J),oe.return=ie,oe;case j:return J=gu(J,ie.mode,oe),J.return=ie,J;case I:return J=Nl(J),Ee(ie,J,oe)}if(ye(J)||K(J))return J=aa(J,ie.mode,oe,null),J.return=ie,J;if(typeof J.then=="function")return Ee(ie,lh(J),oe);if(J.$$typeof===G)return Ee(ie,sh(ie,J),oe);ch(ie,J)}return null}function ue(ie,J,oe,ve){var Ge=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ge!==null?null:M(ie,J,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return oe.key===Ge?Q(ie,J,oe,ve):null;case j:return oe.key===Ge?le(ie,J,oe,ve):null;case I:return oe=Nl(oe),ue(ie,J,oe,ve)}if(ye(oe)||K(oe))return Ge!==null?null:ge(ie,J,oe,ve,null);if(typeof oe.then=="function")return ue(ie,J,lh(oe),ve);if(oe.$$typeof===G)return ue(ie,J,sh(ie,oe),ve);ch(ie,oe)}return null}function he(ie,J,oe,ve,Ge){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ie=ie.get(oe)||null,M(J,ie,""+ve,Ge);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case R:return ie=ie.get(ve.key===null?oe:ve.key)||null,Q(J,ie,ve,Ge);case j:return ie=ie.get(ve.key===null?oe:ve.key)||null,le(J,ie,ve,Ge);case I:return ve=Nl(ve),he(ie,J,oe,ve,Ge)}if(ye(ve)||K(ve))return ie=ie.get(oe)||null,ge(J,ie,ve,Ge,null);if(typeof ve.then=="function")return he(ie,J,oe,lh(ve),Ge);if(ve.$$typeof===G)return he(ie,J,oe,sh(J,ve),Ge);ch(J,ve)}return null}function ze(ie,J,oe,ve){for(var Ge=null,Nt=null,Ue=J,rt=J=0,pt=null;Ue!==null&&rt<oe.length;rt++){Ue.index>rt?(pt=Ue,Ue=null):pt=Ue.sibling;var At=ue(ie,Ue,oe[rt],ve);if(At===null){Ue===null&&(Ue=pt);break}i&&Ue&&At.alternate===null&&r(ie,Ue),J=x(At,J,rt),Nt===null?Ge=At:Nt.sibling=At,Nt=At,Ue=pt}if(rt===oe.length)return l(ie,Ue),ut&&Be(ie,rt),Ge;if(Ue===null){for(;rt<oe.length;rt++)Ue=Ee(ie,oe[rt],ve),Ue!==null&&(J=x(Ue,J,rt),Nt===null?Ge=Ue:Nt.sibling=Ue,Nt=Ue);return ut&&Be(ie,rt),Ge}for(Ue=d(Ue);rt<oe.length;rt++)pt=he(Ue,ie,rt,oe[rt],ve),pt!==null&&(i&&pt.alternate!==null&&Ue.delete(pt.key===null?rt:pt.key),J=x(pt,J,rt),Nt===null?Ge=pt:Nt.sibling=pt,Nt=pt);return i&&Ue.forEach(function(wo){return r(ie,wo)}),ut&&Be(ie,rt),Ge}function Ke(ie,J,oe,ve){if(oe==null)throw Error(s(151));for(var Ge=null,Nt=null,Ue=J,rt=J=0,pt=null,At=oe.next();Ue!==null&&!At.done;rt++,At=oe.next()){Ue.index>rt?(pt=Ue,Ue=null):pt=Ue.sibling;var wo=ue(ie,Ue,At.value,ve);if(wo===null){Ue===null&&(Ue=pt);break}i&&Ue&&wo.alternate===null&&r(ie,Ue),J=x(wo,J,rt),Nt===null?Ge=wo:Nt.sibling=wo,Nt=wo,Ue=pt}if(At.done)return l(ie,Ue),ut&&Be(ie,rt),Ge;if(Ue===null){for(;!At.done;rt++,At=oe.next())At=Ee(ie,At.value,ve),At!==null&&(J=x(At,J,rt),Nt===null?Ge=At:Nt.sibling=At,Nt=At);return ut&&Be(ie,rt),Ge}for(Ue=d(Ue);!At.done;rt++,At=oe.next())At=he(Ue,ie,rt,At.value,ve),At!==null&&(i&&At.alternate!==null&&Ue.delete(At.key===null?rt:At.key),J=x(At,J,rt),Nt===null?Ge=At:Nt.sibling=At,Nt=At);return i&&Ue.forEach(function(TN){return r(ie,TN)}),ut&&Be(ie,rt),Ge}function zt(ie,J,oe,ve){if(typeof oe=="object"&&oe!==null&&oe.type===z&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:e:{for(var Ge=oe.key;J!==null;){if(J.key===Ge){if(Ge=oe.type,Ge===z){if(J.tag===7){l(ie,J.sibling),ve=y(J,oe.props.children),ve.return=ie,ie=ve;break e}}else if(J.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===I&&Nl(Ge)===J.type){l(ie,J.sibling),ve=y(J,oe.props),wu(ve,oe),ve.return=ie,ie=ve;break e}l(ie,J);break}else r(ie,J);J=J.sibling}oe.type===z?(ve=aa(oe.props.children,ie.mode,ve,oe.key),ve.return=ie,ie=ve):(ve=bl(oe.type,oe.key,oe.props,null,ie.mode,ve),wu(ve,oe),ve.return=ie,ie=ve)}return N(ie);case j:e:{for(Ge=oe.key;J!==null;){if(J.key===Ge)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){l(ie,J.sibling),ve=y(J,oe.children||[]),ve.return=ie,ie=ve;break e}else{l(ie,J);break}else r(ie,J);J=J.sibling}ve=gu(oe,ie.mode,ve),ve.return=ie,ie=ve}return N(ie);case I:return oe=Nl(oe),zt(ie,J,oe,ve)}if(ye(oe))return ze(ie,J,oe,ve);if(K(oe)){if(Ge=K(oe),typeof Ge!="function")throw Error(s(150));return oe=Ge.call(oe),Ke(ie,J,oe,ve)}if(typeof oe.then=="function")return zt(ie,J,lh(oe),ve);if(oe.$$typeof===G)return zt(ie,J,sh(ie,oe),ve);ch(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,J!==null&&J.tag===6?(l(ie,J.sibling),ve=y(J,oe),ve.return=ie,ie=ve):(l(ie,J),ve=vc(oe,ie.mode,ve),ve.return=ie,ie=ve),N(ie)):l(ie,J)}return function(ie,J,oe,ve){try{bu=0;var Ge=zt(ie,J,oe,ve);return Sc=null,Ge}catch(Ue){if(Ue===Tc||Ue===ah)throw Ue;var Nt=li(29,Ue,null,ie.mode);return Nt.lanes=ve,Nt.return=ie,Nt}}}var Cl=hv(!0),fv=hv(!1),so=!1;function Gm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $m(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ro(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ao(i,r,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Rt&2)!==0){var y=d.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),d.pending=r,r=xl(i),no(i,null,l),r}return Ar(i,d,r,l),xl(i)}function Eu(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,Xo(i,l)}}function Zm(i,r){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?y=x=N:x=x.next=N,l=l.next}while(l!==null);x===null?y=x=r:x=x.next=r}else y=x=r;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Km=!1;function Tu(){if(Km){var i=Ec;if(i!==null)throw i}}function Su(i,r,l,d){Km=!1;var y=i.updateQueue;so=!1;var x=y.firstBaseUpdate,N=y.lastBaseUpdate,M=y.shared.pending;if(M!==null){y.shared.pending=null;var Q=M,le=Q.next;Q.next=null,N===null?x=le:N.next=le,N=Q;var ge=i.alternate;ge!==null&&(ge=ge.updateQueue,M=ge.lastBaseUpdate,M!==N&&(M===null?ge.firstBaseUpdate=le:M.next=le,ge.lastBaseUpdate=Q))}if(x!==null){var Ee=y.baseState;N=0,ge=le=Q=null,M=x;do{var ue=M.lane&-536870913,he=ue!==M.lane;if(he?(mt&ue)===ue:(d&ue)===ue){ue!==0&&ue===wc&&(Km=!0),ge!==null&&(ge=ge.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ze=i,Ke=M;ue=r;var zt=l;switch(Ke.tag){case 1:if(ze=Ke.payload,typeof ze=="function"){Ee=ze.call(zt,Ee,ue);break e}Ee=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ke.payload,ue=typeof ze=="function"?ze.call(zt,Ee,ue):ze,ue==null)break e;Ee=E({},Ee,ue);break e;case 2:so=!0}}ue=M.callback,ue!==null&&(i.flags|=64,he&&(i.flags|=8192),he=y.callbacks,he===null?y.callbacks=[ue]:he.push(ue))}else he={lane:ue,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ge===null?(le=ge=he,Q=Ee):ge=ge.next=he,N|=ue;if(M=M.next,M===null){if(M=y.shared.pending,M===null)break;he=M,M=he.next,he.next=null,y.lastBaseUpdate=he,y.shared.pending=null}}while(!0);ge===null&&(Q=Ee),y.baseState=Q,y.firstBaseUpdate=le,y.lastBaseUpdate=ge,x===null&&(y.shared.lanes=0),ho|=N,i.lanes=N,i.memoizedState=Ee}}function mv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function pv(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)mv(l[i],r)}var Nc=O(null),uh=O(0);function gv(i,r){i=ya,fe(uh,i),fe(Nc,r),ya=i|r.baseLanes}function Ym(){fe(uh,ya),fe(Nc,Nc.current)}function Wm(){ya=uh.current,ee(Nc),ee(uh)}var us=O(null),ks=null;function oo(i){var r=i.alternate;fe(yn,yn.current&1),fe(us,i),ks===null&&(r===null||Nc.current!==null||r.memoizedState!==null)&&(ks=i)}function Qm(i){fe(yn,yn.current),fe(us,i),ks===null&&(ks=i)}function yv(i){i.tag===22?(fe(yn,yn.current),fe(us,i),ks===null&&(ks=i)):lo()}function lo(){fe(yn,yn.current),fe(us,us.current)}function ds(i){ee(us),ks===i&&(ks=null),ee(yn)}var yn=O(0);function dh(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ig(l)||sg(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ca=0,it=null,Ot=null,Sn=null,hh=!1,Ac=!1,Rl=!1,fh=0,Nu=0,Cc=null,m2=0;function un(){throw Error(s(321))}function Xm(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Hn(i[l],r[l]))return!1;return!0}function Jm(i,r,l,d,y,x){return ca=x,it=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?e0:mp,Rl=!1,x=l(d,y),Rl=!1,Ac&&(x=vv(r,l,d,y)),_v(i),x}function _v(i){W.H=Ru;var r=Ot!==null&&Ot.next!==null;if(ca=0,Sn=Ot=it=null,hh=!1,Nu=0,Cc=null,r)throw Error(s(300));i===null||Nn||(i=i.dependencies,i!==null&&ih(i)&&(Nn=!0))}function vv(i,r,l,d){it=i;var y=0;do{if(Ac&&(Cc=null),Nu=0,Ac=!1,25<=y)throw Error(s(301));if(y+=1,Sn=Ot=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=t0,x=r(l,d)}while(Ac);return x}function p2(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Au(r):r,i=i.useState()[0],(Ot!==null?Ot.memoizedState:null)!==i&&(it.flags|=1024),r}function ep(){var i=fh!==0;return fh=0,i}function tp(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function np(i){if(hh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}hh=!1}ca=0,Sn=Ot=it=null,Ac=!1,Nu=fh=0,Cc=null}function bi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?it.memoizedState=Sn=i:Sn=Sn.next=i,Sn}function _n(){if(Ot===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=Ot.next;var r=Sn===null?it.memoizedState:Sn.next;if(r!==null)Sn=r,Ot=i;else{if(i===null)throw it.alternate===null?Error(s(467)):Error(s(310));Ot=i,i={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Sn===null?it.memoizedState=Sn=i:Sn=Sn.next=i}return Sn}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(i){var r=Nu;return Nu+=1,Cc===null&&(Cc=[]),i=cv(Cc,i,r),r=it,(Sn===null?r.memoizedState:Sn.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?e0:mp),i}function ph(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Au(i);if(i.$$typeof===G)return Yn(i)}throw Error(s(438,String(i)))}function ip(i){var r=null,l=it.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=it.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=mh(),it.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),d=0;d<i;d++)l[d]=$;return r.index++,l}function ua(i,r){return typeof r=="function"?r(i):r}function gh(i){var r=_n();return sp(r,Ot,i)}function sp(i,r,l){var d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var y=i.baseQueue,x=d.pending;if(x!==null){if(y!==null){var N=y.next;y.next=x.next,x.next=N}r.baseQueue=y=x,d.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{r=y.next;var M=N=null,Q=null,le=r,ge=!1;do{var Ee=le.lane&-536870913;if(Ee!==le.lane?(mt&Ee)===Ee:(ca&Ee)===Ee){var ue=le.revertLane;if(ue===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ee===wc&&(ge=!0);else if((ca&ue)===ue){le=le.next,ue===wc&&(ge=!0);continue}else Ee={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(M=Q=Ee,N=x):Q=Q.next=Ee,it.lanes|=ue,ho|=ue;Ee=le.action,Rl&&l(x,Ee),x=le.hasEagerState?le.eagerState:l(x,Ee)}else ue={lane:Ee,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Q===null?(M=Q=ue,N=x):Q=Q.next=ue,it.lanes|=Ee,ho|=Ee;le=le.next}while(le!==null&&le!==r);if(Q===null?N=x:Q.next=M,!Hn(x,i.memoizedState)&&(Nn=!0,ge&&(l=Ec,l!==null)))throw l;i.memoizedState=x,i.baseState=N,i.baseQueue=Q,d.lastRenderedState=x}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function rp(i){var r=_n(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var d=l.dispatch,y=l.pending,x=r.memoizedState;if(y!==null){l.pending=null;var N=y=y.next;do x=i(x,N.action),N=N.next;while(N!==y);Hn(x,r.memoizedState)||(Nn=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,d]}function xv(i,r,l){var d=it,y=_n(),x=ut;if(x){if(l===void 0)throw Error(s(407));l=l()}else l=r();var N=!Hn((Ot||y).memoizedState,l);if(N&&(y.memoizedState=l,Nn=!0),y=y.queue,lp(Ev.bind(null,d,y,i),[i]),y.getSnapshot!==r||N||Sn!==null&&Sn.memoizedState.tag&1){if(d.flags|=2048,Rc(9,{destroy:void 0},wv.bind(null,d,y,l,r),null),qt===null)throw Error(s(349));x||(ca&127)!==0||bv(d,r,l)}return l}function bv(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=it.updateQueue,r===null?(r=mh(),it.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function wv(i,r,l,d){r.value=l,r.getSnapshot=d,Tv(r)&&Sv(i)}function Ev(i,r,l){return l(function(){Tv(r)&&Sv(i)})}function Tv(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Hn(i,l)}catch{return!0}}function Sv(i){var r=js(i,2);r!==null&&Zi(r,i,2)}function ap(i){var r=bi();if(typeof i=="function"){var l=i;if(i=l(),Rl){Kn(!0);try{l()}finally{Kn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:i},r}function Nv(i,r,l,d){return i.baseState=l,sp(i,Ot,typeof d=="function"?d:ua)}function g2(i,r,l,d,y){if(vh(i))throw Error(s(485));if(i=r.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};W.T!==null?l(!0):x.isTransition=!1,d(x),l=r.pending,l===null?(x.next=r.pending=x,Av(r,x)):(x.next=l.next,r.pending=l.next=x)}}function Av(i,r){var l=r.action,d=r.payload,y=i.state;if(r.isTransition){var x=W.T,N={};W.T=N;try{var M=l(y,d),Q=W.S;Q!==null&&Q(N,M),Cv(i,r,M)}catch(le){op(i,r,le)}finally{x!==null&&N.types!==null&&(x.types=N.types),W.T=x}}else try{x=l(y,d),Cv(i,r,x)}catch(le){op(i,r,le)}}function Cv(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Rv(i,r,d)},function(d){return op(i,r,d)}):Rv(i,r,l)}function Rv(i,r,l){r.status="fulfilled",r.value=l,Iv(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,Av(i,l)))}function op(i,r,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,Iv(r),r=r.next;while(r!==d)}i.action=null}function Iv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Pv(i,r){return r}function Mv(i,r){if(ut){var l=qt.formState;if(l!==null){e:{var d=it;if(ut){if(St){t:{for(var y=St,x=qi;y.nodeType!==8;){if(!x){y=null;break t}if(y=Ds(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){St=Ds(y.nextSibling),d=y.data==="F!";break e}}Rr(d)}d=!1}d&&(r=l[0])}}return l=bi(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pv,lastRenderedState:r},l.queue=d,l=Qv.bind(null,it,d),d.dispatch=l,d=ap(!1),x=fp.bind(null,it,!1,d.queue),d=bi(),y={state:r,dispatch:null,action:i,pending:null},d.queue=y,l=g2.bind(null,it,y,x,l),y.dispatch=l,d.memoizedState=i,[r,l,!1]}function jv(i){var r=_n();return Lv(r,Ot,i)}function Lv(i,r,l){if(r=sp(i,r,Pv)[0],i=gh(ua)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Au(r)}catch(N){throw N===Tc?ah:N}else d=r;r=_n();var y=r.queue,x=y.dispatch;return l!==r.memoizedState&&(it.flags|=2048,Rc(9,{destroy:void 0},y2.bind(null,y,l),null)),[d,x,i]}function y2(i,r){i.action=r}function kv(i){var r=_n(),l=Ot;if(l!==null)return Lv(r,l,i);_n(),r=r.memoizedState,l=_n();var d=l.queue.dispatch;return l.memoizedState=i,[r,d,!1]}function Rc(i,r,l,d){return i={tag:i,create:l,deps:d,inst:r,next:null},r=it.updateQueue,r===null&&(r=mh(),it.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,r.lastEffect=i),i}function Dv(){return _n().memoizedState}function yh(i,r,l,d){var y=bi();it.flags|=i,y.memoizedState=Rc(1|r,{destroy:void 0},l,d===void 0?null:d)}function _h(i,r,l,d){var y=_n();d=d===void 0?null:d;var x=y.memoizedState.inst;Ot!==null&&d!==null&&Xm(d,Ot.memoizedState.deps)?y.memoizedState=Rc(r,x,l,d):(it.flags|=i,y.memoizedState=Rc(1|r,x,l,d))}function Ov(i,r){yh(8390656,8,i,r)}function lp(i,r){_h(2048,8,i,r)}function _2(i){it.flags|=4;var r=it.updateQueue;if(r===null)r=mh(),it.updateQueue=r,r.events=[i];else{var l=r.events;l===null?r.events=[i]:l.push(i)}}function Vv(i){var r=_n().memoizedState;return _2({ref:r,nextImpl:i}),function(){if((Rt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function zv(i,r){return _h(4,2,i,r)}function Uv(i,r){return _h(4,4,i,r)}function Bv(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function qv(i,r,l){l=l!=null?l.concat([i]):null,_h(4,4,Bv.bind(null,r,i),l)}function cp(){}function Hv(i,r){var l=_n();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&Xm(r,d[1])?d[0]:(l.memoizedState=[i,r],i)}function Fv(i,r){var l=_n();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&Xm(r,d[1]))return d[0];if(d=i(),Rl){Kn(!0);try{i()}finally{Kn(!1)}}return l.memoizedState=[d,r],d}function up(i,r,l){return l===void 0||(ca&1073741824)!==0&&(mt&261930)===0?i.memoizedState=r:(i.memoizedState=l,i=G0(),it.lanes|=i,ho|=i,l)}function Gv(i,r,l,d){return Hn(l,r)?l:Nc.current!==null?(i=up(i,l,d),Hn(i,r)||(Nn=!0),i):(ca&42)===0||(ca&1073741824)!==0&&(mt&261930)===0?(Nn=!0,i.memoizedState=l):(i=G0(),it.lanes|=i,ho|=i,r)}function $v(i,r,l,d,y){var x=pe.p;pe.p=x!==0&&8>x?x:8;var N=W.T,M={};W.T=M,fp(i,!1,r,l);try{var Q=y(),le=W.S;if(le!==null&&le(M,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ge=f2(Q,d);Cu(i,r,ge,ms(i))}else Cu(i,r,d,ms(i))}catch(Ee){Cu(i,r,{then:function(){},status:"rejected",reason:Ee},ms())}finally{pe.p=x,N!==null&&M.types!==null&&(N.types=M.types),W.T=N}}function v2(){}function dp(i,r,l,d){if(i.tag!==5)throw Error(s(476));var y=Zv(i).queue;$v(i,y,r,ae,l===null?v2:function(){return Kv(i),l(d)})}function Zv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:ae},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Kv(i){var r=Zv(i);r.next===null&&(r=i.alternate.memoizedState),Cu(i,r.next.queue,{},ms())}function hp(){return Yn(Gu)}function Yv(){return _n().memoizedState}function Wv(){return _n().memoizedState}function x2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=ms();i=ro(l);var d=ao(r,i,l);d!==null&&(Zi(d,r,l),Eu(d,r,l)),r={cache:Bm()},i.payload=r;return}r=r.return}}function b2(i,r,l){var d=ms();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vh(i)?Xv(r,l):(l=fu(i,r,l,d),l!==null&&(Zi(l,i,d),Jv(l,r,d)))}function Qv(i,r,l){var d=ms();Cu(i,r,l,d)}function Cu(i,r,l,d){var y={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(vh(i))Xv(r,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var N=r.lastRenderedState,M=x(N,l);if(y.hasEagerState=!0,y.eagerState=M,Hn(M,N))return Ar(i,r,y,0),qt===null&&vl(),!1}catch{}if(l=fu(i,r,y,d),l!==null)return Zi(l,i,d),Jv(l,r,d),!0}return!1}function fp(i,r,l,d){if(d={lane:2,revertLane:Gp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},vh(i)){if(r)throw Error(s(479))}else r=fu(i,l,d,2),r!==null&&Zi(r,i,2)}function vh(i){var r=i.alternate;return i===it||r!==null&&r===it}function Xv(i,r){Ac=hh=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function Jv(i,r,l){if((l&4194048)!==0){var d=r.lanes;d&=i.pendingLanes,l|=d,r.lanes=l,Xo(i,l)}}var Ru={readContext:Yn,use:ph,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};Ru.useEffectEvent=un;var e0={readContext:Yn,use:ph,useCallback:function(i,r){return bi().memoizedState=[i,r===void 0?null:r],i},useContext:Yn,useEffect:Ov,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,yh(4194308,4,Bv.bind(null,r,i),l)},useLayoutEffect:function(i,r){return yh(4194308,4,i,r)},useInsertionEffect:function(i,r){yh(4,2,i,r)},useMemo:function(i,r){var l=bi();r=r===void 0?null:r;var d=i();if(Rl){Kn(!0);try{i()}finally{Kn(!1)}}return l.memoizedState=[d,r],d},useReducer:function(i,r,l){var d=bi();if(l!==void 0){var y=l(r);if(Rl){Kn(!0);try{l(r)}finally{Kn(!1)}}}else y=r;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=b2.bind(null,it,i),[d.memoizedState,i]},useRef:function(i){var r=bi();return i={current:i},r.memoizedState=i},useState:function(i){i=ap(i);var r=i.queue,l=Qv.bind(null,it,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:cp,useDeferredValue:function(i,r){var l=bi();return up(l,i,r)},useTransition:function(){var i=ap(!1);return i=$v.bind(null,it,i.queue,!0,!1),bi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var d=it,y=bi();if(ut){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),qt===null)throw Error(s(349));(mt&127)!==0||bv(d,r,l)}y.memoizedState=l;var x={value:l,getSnapshot:r};return y.queue=x,Ov(Ev.bind(null,d,x,i),[i]),d.flags|=2048,Rc(9,{destroy:void 0},wv.bind(null,d,x,l,r),null),l},useId:function(){var i=bi(),r=qt.identifierPrefix;if(ut){var l=Pe,d=we;l=(d&~(1<<32-$t(d)-1)).toString(32)+l,r="_"+r+"R_"+l,l=fh++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=m2++,r="_"+r+"r_"+l.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:hp,useFormState:Mv,useActionState:Mv,useOptimistic:function(i){var r=bi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=fp.bind(null,it,!0,l),l.dispatch=r,[i,r]},useMemoCache:ip,useCacheRefresh:function(){return bi().memoizedState=x2.bind(null,it)},useEffectEvent:function(i){var r=bi(),l={impl:i};return r.memoizedState=l,function(){if((Rt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},mp={readContext:Yn,use:ph,useCallback:Hv,useContext:Yn,useEffect:lp,useImperativeHandle:qv,useInsertionEffect:zv,useLayoutEffect:Uv,useMemo:Fv,useReducer:gh,useRef:Dv,useState:function(){return gh(ua)},useDebugValue:cp,useDeferredValue:function(i,r){var l=_n();return Gv(l,Ot.memoizedState,i,r)},useTransition:function(){var i=gh(ua)[0],r=_n().memoizedState;return[typeof i=="boolean"?i:Au(i),r]},useSyncExternalStore:xv,useId:Yv,useHostTransitionStatus:hp,useFormState:jv,useActionState:jv,useOptimistic:function(i,r){var l=_n();return Nv(l,Ot,i,r)},useMemoCache:ip,useCacheRefresh:Wv};mp.useEffectEvent=Vv;var t0={readContext:Yn,use:ph,useCallback:Hv,useContext:Yn,useEffect:lp,useImperativeHandle:qv,useInsertionEffect:zv,useLayoutEffect:Uv,useMemo:Fv,useReducer:rp,useRef:Dv,useState:function(){return rp(ua)},useDebugValue:cp,useDeferredValue:function(i,r){var l=_n();return Ot===null?up(l,i,r):Gv(l,Ot.memoizedState,i,r)},useTransition:function(){var i=rp(ua)[0],r=_n().memoizedState;return[typeof i=="boolean"?i:Au(i),r]},useSyncExternalStore:xv,useId:Yv,useHostTransitionStatus:hp,useFormState:kv,useActionState:kv,useOptimistic:function(i,r){var l=_n();return Ot!==null?Nv(l,Ot,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:ip,useCacheRefresh:Wv};t0.useEffectEvent=Vv;function pp(i,r,l,d){r=i.memoizedState,l=l(d,r),l=l==null?r:E({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var gp={enqueueSetState:function(i,r,l){i=i._reactInternals;var d=ms(),y=ro(d);y.payload=r,l!=null&&(y.callback=l),r=ao(i,y,d),r!==null&&(Zi(r,i,d),Eu(r,i,d))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var d=ms(),y=ro(d);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=ao(i,y,d),r!==null&&(Zi(r,i,d),Eu(r,i,d))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=ms(),d=ro(l);d.tag=2,r!=null&&(d.callback=r),r=ao(i,d,l),r!==null&&(Zi(r,i,l),Eu(r,i,l))}};function n0(i,r,l,d,y,x,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,x,N):r.prototype&&r.prototype.isPureReactComponent?!Xa(l,d)||!Xa(y,x):!0}function i0(i,r,l,d){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==i&&gp.enqueueReplaceState(r,r.state,null)}function Il(i,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(i=i.defaultProps){l===r&&(l=E({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function s0(i){_l(i)}function r0(i){console.error(i)}function a0(i){_l(i)}function xh(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function o0(i,r,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function yp(i,r,l){return l=ro(l),l.tag=3,l.payload={element:null},l.callback=function(){xh(i,r)},l}function l0(i){return i=ro(i),i.tag=3,i}function c0(i,r,l,d){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var x=d.value;i.payload=function(){return y(x)},i.callback=function(){o0(r,l,d)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){o0(r,l,d),typeof y!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function w2(i,r,l,d,y){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&bc(r,l,y,!0),l=us.current,l!==null){switch(l.tag){case 31:case 13:return ks===null?Mh():l.alternate===null&&dn===0&&(dn=3),l.flags&=-257,l.flags|=65536,l.lanes=y,d===oh?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),qp(i,d,y)),!1;case 22:return l.flags|=65536,d===oh?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),qp(i,d,y)),!1}throw Error(s(435,l.tag))}return qp(i,d,y),Mh(),!1}if(ut)return r=us.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,d!==xc&&(i=Error(s(422),{cause:d}),wl(u(i,l)))):(d!==xc&&(r=Error(s(423),{cause:d}),wl(u(r,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=u(d,l),y=yp(i.stateNode,d,y),Zm(i,y),dn!==4&&(dn=2)),!1;var x=Error(s(520),{cause:d});if(x=u(x,l),Ou===null?Ou=[x]:Ou.push(x),dn!==4&&(dn=2),r===null)return!0;d=u(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=yp(l.stateNode,d,i),Zm(l,i),!1;case 1:if(r=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(fo===null||!fo.has(x))))return l.flags|=65536,y&=-y,l.lanes|=y,y=l0(y),c0(y,i,l,d),Zm(l,y),!1}l=l.return}while(l!==null);return!1}var _p=Error(s(461)),Nn=!1;function Wn(i,r,l,d){r.child=i===null?fv(r,null,l,d):Cl(r,i.child,l,d)}function u0(i,r,l,d,y){l=l.render;var x=r.ref;if("ref"in d){var N={};for(var M in d)M!=="ref"&&(N[M]=d[M])}else N=d;return Tl(r),d=Jm(i,r,l,N,x,y),M=ep(),i!==null&&!Nn?(tp(i,r,y),da(i,r,y)):(ut&&M&&Mn(r),r.flags|=1,Wn(i,r,d,y),r.child)}function d0(i,r,l,d,y){if(i===null){var x=l.type;return typeof x=="function"&&!_c(x)&&x.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=x,h0(i,r,x,d,y)):(i=bl(l.type,null,d,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(x=i.child,!Np(i,y)){var N=x.memoizedProps;if(l=l.compare,l=l!==null?l:Xa,l(N,d)&&i.ref===r.ref)return da(i,r,y)}return r.flags|=1,i=Ls(x,d),i.ref=r.ref,i.return=r,r.child=i}function h0(i,r,l,d,y){if(i!==null){var x=i.memoizedProps;if(Xa(x,d)&&i.ref===r.ref)if(Nn=!1,r.pendingProps=d=x,Np(i,y))(i.flags&131072)!==0&&(Nn=!0);else return r.lanes=i.lanes,da(i,r,y)}return vp(i,r,l,d,y)}function f0(i,r,l,d){var y=d.children,x=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,i!==null){for(d=r.child=i.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~x}else d=0,r.child=null;return m0(i,r,x,l,d)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&rh(r,x!==null?x.cachePool:null),x!==null?gv(r,x):Ym(),yv(r);else return d=r.lanes=536870912,m0(i,r,x!==null?x.baseLanes|l:l,l,d)}else x!==null?(rh(r,x.cachePool),gv(r,x),lo(),r.memoizedState=null):(i!==null&&rh(r,null),Ym(),lo());return Wn(i,r,y,l),r.child}function Iu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function m0(i,r,l,d,y){var x=Hm();return x=x===null?null:{parent:Tn._currentValue,pool:x},r.memoizedState={baseLanes:l,cachePool:x},i!==null&&rh(r,null),Ym(),yv(r),i!==null&&bc(i,r,d,!0),r.childLanes=y,null}function bh(i,r){return r=Eh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function p0(i,r,l){return Cl(r,i.child,null,l),i=bh(r,r.pendingProps),i.flags|=2,ds(r),r.memoizedState=null,i}function E2(i,r,l){var d=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(ut){if(d.mode==="hidden")return i=bh(r,d),r.lanes=536870912,Iu(null,i);if(Qm(r),(i=St)?(i=Ax(i,qi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:we,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},l=pu(i),l.return=r,r.child=l,Tt=r,St=null)):i=null,i===null)throw Rr(r);return r.lanes=536870912,null}return bh(r,d)}var x=i.memoizedState;if(x!==null){var N=x.dehydrated;if(Qm(r),y)if(r.flags&256)r.flags&=-257,r=p0(i,r,l);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nn||bc(i,r,l,!1),y=(l&i.childLanes)!==0,Nn||y){if(d=qt,d!==null&&(N=Jo(d,l),N!==0&&N!==x.retryLane))throw x.retryLane=N,js(i,N),Zi(d,i,N),_p;Mh(),r=p0(i,r,l)}else i=x.treeContext,St=Ds(N.nextSibling),Tt=r,ut=!0,Cr=null,qi=!1,i!==null&&xi(r,i),r=bh(r,d),r.flags|=4096;return r}return i=Ls(i.child,{mode:d.mode,children:d.children}),i.ref=r.ref,r.child=i,i.return=r,i}function wh(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function vp(i,r,l,d,y){return Tl(r),l=Jm(i,r,l,d,void 0,y),d=ep(),i!==null&&!Nn?(tp(i,r,y),da(i,r,y)):(ut&&d&&Mn(r),r.flags|=1,Wn(i,r,l,y),r.child)}function g0(i,r,l,d,y,x){return Tl(r),r.updateQueue=null,l=vv(r,d,l,y),_v(i),d=ep(),i!==null&&!Nn?(tp(i,r,x),da(i,r,x)):(ut&&d&&Mn(r),r.flags|=1,Wn(i,r,l,x),r.child)}function y0(i,r,l,d,y){if(Tl(r),r.stateNode===null){var x=ra,N=l.contextType;typeof N=="object"&&N!==null&&(x=Yn(N)),x=new l(d,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=gp,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=d,x.state=r.memoizedState,x.refs={},Gm(r),N=l.contextType,x.context=typeof N=="object"&&N!==null?Yn(N):ra,x.state=r.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(pp(r,l,N,d),x.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&gp.enqueueReplaceState(x,x.state,null),Su(r,d,x,y),Tu(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(i===null){x=r.stateNode;var M=r.memoizedProps,Q=Il(l,M);x.props=Q;var le=x.context,ge=l.contextType;N=ra,typeof ge=="object"&&ge!==null&&(N=Yn(ge));var Ee=l.getDerivedStateFromProps;ge=typeof Ee=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ge||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||le!==N)&&i0(r,x,d,N),so=!1;var ue=r.memoizedState;x.state=ue,Su(r,d,x,y),Tu(),le=r.memoizedState,M||ue!==le||so?(typeof Ee=="function"&&(pp(r,l,Ee,d),le=r.memoizedState),(Q=so||n0(r,l,Q,d,ue,le,N))?(ge||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=le),x.props=d,x.state=le,x.context=N,d=Q):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{x=r.stateNode,$m(i,r),N=r.memoizedProps,ge=Il(l,N),x.props=ge,Ee=r.pendingProps,ue=x.context,le=l.contextType,Q=ra,typeof le=="object"&&le!==null&&(Q=Yn(le)),M=l.getDerivedStateFromProps,(le=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==Ee||ue!==Q)&&i0(r,x,d,Q),so=!1,ue=r.memoizedState,x.state=ue,Su(r,d,x,y),Tu();var he=r.memoizedState;N!==Ee||ue!==he||so||i!==null&&i.dependencies!==null&&ih(i.dependencies)?(typeof M=="function"&&(pp(r,l,M,d),he=r.memoizedState),(ge=so||n0(r,l,ge,d,ue,he,Q)||i!==null&&i.dependencies!==null&&ih(i.dependencies))?(le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,he,Q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,he,Q)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=he),x.props=d,x.state=he,x.context=Q,d=ge):(typeof x.componentDidUpdate!="function"||N===i.memoizedProps&&ue===i.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ue===i.memoizedState||(r.flags|=1024),d=!1)}return x=d,wh(i,r),d=(r.flags&128)!==0,x||d?(x=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,i!==null&&d?(r.child=Cl(r,i.child,null,y),r.child=Cl(r,null,l,y)):Wn(i,r,l,y),r.memoizedState=x.state,i=r.child):i=da(i,r,y),i}function _0(i,r,l,d){return oa(),r.flags|=256,Wn(i,r,l,d),r.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bp(i){return{baseLanes:i,cachePool:ov()}}function wp(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=fs),i}function v0(i,r,l){var d=r.pendingProps,y=!1,x=(r.flags&128)!==0,N;if((N=x)||(N=i!==null&&i.memoizedState===null?!1:(yn.current&2)!==0),N&&(y=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,i===null){if(ut){if(y?oo(r):lo(),(i=St)?(i=Ax(i,qi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ce!==null?{id:we,overflow:Pe}:null,retryLane:536870912,hydrationErrors:null},l=pu(i),l.return=r,r.child=l,Tt=r,St=null)):i=null,i===null)throw Rr(r);return sg(i)?r.lanes=32:r.lanes=536870912,null}var M=d.children;return d=d.fallback,y?(lo(),y=r.mode,M=Eh({mode:"hidden",children:M},y),d=aa(d,y,l,null),M.return=r,d.return=r,M.sibling=d,r.child=M,d=r.child,d.memoizedState=bp(l),d.childLanes=wp(i,N,l),r.memoizedState=xp,Iu(null,d)):(oo(r),Ep(r,M))}var Q=i.memoizedState;if(Q!==null&&(M=Q.dehydrated,M!==null)){if(x)r.flags&256?(oo(r),r.flags&=-257,r=Tp(i,r,l)):r.memoizedState!==null?(lo(),r.child=i.child,r.flags|=128,r=null):(lo(),M=d.fallback,y=r.mode,d=Eh({mode:"visible",children:d.children},y),M=aa(M,y,l,null),M.flags|=2,d.return=r,M.return=r,d.sibling=M,r.child=d,Cl(r,i.child,null,l),d=r.child,d.memoizedState=bp(l),d.childLanes=wp(i,N,l),r.memoizedState=xp,r=Iu(null,d));else if(oo(r),sg(M)){if(N=M.nextSibling&&M.nextSibling.dataset,N)var le=N.dgst;N=le,d=Error(s(419)),d.stack="",d.digest=N,wl({value:d,source:null,stack:null}),r=Tp(i,r,l)}else if(Nn||bc(i,r,l,!1),N=(l&i.childLanes)!==0,Nn||N){if(N=qt,N!==null&&(d=Jo(N,l),d!==0&&d!==Q.retryLane))throw Q.retryLane=d,js(i,d),Zi(N,i,d),_p;ig(M)||Mh(),r=Tp(i,r,l)}else ig(M)?(r.flags|=192,r.child=i.child,r=null):(i=Q.treeContext,St=Ds(M.nextSibling),Tt=r,ut=!0,Cr=null,qi=!1,i!==null&&xi(r,i),r=Ep(r,d.children),r.flags|=4096);return r}return y?(lo(),M=d.fallback,y=r.mode,Q=i.child,le=Q.sibling,d=Ls(Q,{mode:"hidden",children:d.children}),d.subtreeFlags=Q.subtreeFlags&65011712,le!==null?M=Ls(le,M):(M=aa(M,y,l,null),M.flags|=2),M.return=r,d.return=r,d.sibling=M,r.child=d,Iu(null,d),d=r.child,M=i.child.memoizedState,M===null?M=bp(l):(y=M.cachePool,y!==null?(Q=Tn._currentValue,y=y.parent!==Q?{parent:Q,pool:Q}:y):y=ov(),M={baseLanes:M.baseLanes|l,cachePool:y}),d.memoizedState=M,d.childLanes=wp(i,N,l),r.memoizedState=xp,Iu(i.child,d)):(oo(r),l=i.child,i=l.sibling,l=Ls(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,i!==null&&(N=r.deletions,N===null?(r.deletions=[i],r.flags|=16):N.push(i)),r.child=l,r.memoizedState=null,l)}function Ep(i,r){return r=Eh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Eh(i,r){return i=li(22,i,null,r),i.lanes=0,i}function Tp(i,r,l){return Cl(r,i.child,null,l),i=Ep(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function x0(i,r,l){i.lanes|=r;var d=i.alternate;d!==null&&(d.lanes|=r),zm(i.return,r,l)}function Sp(i,r,l,d,y,x){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y,treeForkCount:x}:(N.isBackwards=r,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=l,N.tailMode=y,N.treeForkCount=x)}function b0(i,r,l){var d=r.pendingProps,y=d.revealOrder,x=d.tail;d=d.children;var N=yn.current,M=(N&2)!==0;if(M?(N=N&1|2,r.flags|=128):N&=1,fe(yn,N),Wn(i,r,d,l),d=ut?P:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&x0(i,l,r);else if(i.tag===19)x0(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=r.child,y=null;l!==null;)i=l.alternate,i!==null&&dh(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),Sp(r,!1,y,l,x,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&dh(i)===null){r.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}Sp(r,!0,l,null,x,d);break;case"together":Sp(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function da(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),ho|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(bc(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Ls(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Ls(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function Np(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ih(i)))}function T2(i,r,l){switch(r.tag){case 3:Ct(r,r.stateNode.containerInfo),io(r,Tn,i.memoizedState.cache),oa();break;case 27:case 5:Yi(r);break;case 4:Ct(r,r.stateNode.containerInfo);break;case 10:io(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Qm(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(oo(r),r.flags|=128,null):(l&r.child.childLanes)!==0?v0(i,r,l):(oo(r),i=da(i,r,l),i!==null?i.sibling:null);oo(r);break;case 19:var y=(i.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(bc(i,r,l,!1),d=(l&r.childLanes)!==0),y){if(d)return b0(i,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),fe(yn,yn.current),d)break;return null;case 22:return r.lanes=0,f0(i,r,l,r.pendingProps);case 24:io(r,Tn,i.memoizedState.cache)}return da(i,r,l)}function w0(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)Nn=!0;else{if(!Np(i,l)&&(r.flags&128)===0)return Nn=!1,T2(i,r,l);Nn=(i.flags&131072)!==0}else Nn=!1,ut&&(r.flags&1048576)!==0&&st(r,P,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(i=Nl(r.elementType),r.type=i,typeof i=="function")_c(i)?(d=Il(i,d),r.tag=1,r=y0(null,r,i,d,l)):(r.tag=0,r=vp(null,r,i,d,l));else{if(i!=null){var y=i.$$typeof;if(y===ne){r.tag=11,r=u0(null,r,i,d,l);break e}else if(y===H){r.tag=14,r=d0(null,r,i,d,l);break e}}throw r=Se(i)||i,Error(s(306,r,""))}}return r;case 0:return vp(i,r,r.type,r.pendingProps,l);case 1:return d=r.type,y=Il(d,r.pendingProps),y0(i,r,d,y,l);case 3:e:{if(Ct(r,r.stateNode.containerInfo),i===null)throw Error(s(387));d=r.pendingProps;var x=r.memoizedState;y=x.element,$m(i,r),Su(r,d,null,l);var N=r.memoizedState;if(d=N.cache,io(r,Tn,d),d!==x.cache&&Um(r,[Tn],l,!0),Tu(),d=N.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=_0(i,r,d,l);break e}else if(d!==y){y=u(Error(s(424)),r),wl(y),r=_0(i,r,d,l);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,St=Ds(i.firstChild),Tt=r,ut=!0,Cr=null,qi=!0,l=fv(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(oa(),d===y){r=da(i,r,l);break e}Wn(i,r,d,l)}r=r.child}return r;case 26:return wh(i,r),i===null?(l=jx(r.type,null,r.pendingProps,null))?r.memoizedState=l:ut||(l=r.type,i=r.pendingProps,d=zh(Ae.current).createElement(l),d[sn]=r,d[on]=i,Qn(d,l,i),ln(d),r.stateNode=d):r.memoizedState=jx(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Yi(r),i===null&&ut&&(d=r.stateNode=Ix(r.type,r.pendingProps,Ae.current),Tt=r,qi=!0,y=St,yo(r.type)?(rg=y,St=Ds(d.firstChild)):St=y),Wn(i,r,r.pendingProps.children,l),wh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ut&&((y=d=St)&&(d=eN(d,r.type,r.pendingProps,qi),d!==null?(r.stateNode=d,Tt=r,St=Ds(d.firstChild),qi=!1,y=!0):y=!1),y||Rr(r)),Yi(r),y=r.type,x=r.pendingProps,N=i!==null?i.memoizedProps:null,d=x.children,eg(y,x)?d=null:N!==null&&eg(y,N)&&(r.flags|=32),r.memoizedState!==null&&(y=Jm(i,r,p2,null,null,l),Gu._currentValue=y),wh(i,r),Wn(i,r,d,l),r.child;case 6:return i===null&&ut&&((i=l=St)&&(l=tN(l,r.pendingProps,qi),l!==null?(r.stateNode=l,Tt=r,St=null,i=!0):i=!1),i||Rr(r)),null;case 13:return v0(i,r,l);case 4:return Ct(r,r.stateNode.containerInfo),d=r.pendingProps,i===null?r.child=Cl(r,null,d,l):Wn(i,r,d,l),r.child;case 11:return u0(i,r,r.type,r.pendingProps,l);case 7:return Wn(i,r,r.pendingProps,l),r.child;case 8:return Wn(i,r,r.pendingProps.children,l),r.child;case 12:return Wn(i,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,io(r,r.type,d.value),Wn(i,r,d.children,l),r.child;case 9:return y=r.type._context,d=r.pendingProps.children,Tl(r),y=Yn(y),d=d(y),r.flags|=1,Wn(i,r,d,l),r.child;case 14:return d0(i,r,r.type,r.pendingProps,l);case 15:return h0(i,r,r.type,r.pendingProps,l);case 19:return b0(i,r,l);case 31:return E2(i,r,l);case 22:return f0(i,r,l,r.pendingProps);case 24:return Tl(r),d=Yn(Tn),i===null?(y=Hm(),y===null&&(y=qt,x=Bm(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=l),y=x),r.memoizedState={parent:d,cache:y},Gm(r),io(r,Tn,y)):((i.lanes&l)!==0&&($m(i,r),Su(r,null,null,l),Tu()),y=i.memoizedState,x=r.memoizedState,y.parent!==d?(y={parent:d,cache:d},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),io(r,Tn,d)):(d=x.cache,io(r,Tn,d),d!==y.cache&&Um(r,[Tn],l,!0))),Wn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ha(i){i.flags|=4}function Ap(i,r,l,d,y){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Y0())i.flags|=8192;else throw Al=oh,Fm}else i.flags&=-16777217}function E0(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Vx(r))if(Y0())i.flags|=8192;else throw Al=oh,Fm}function Th(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?bn():536870912,i.lanes|=r,jc|=r)}function Pu(i,r){if(!ut)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Wt(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(r)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=l,r}function S2(i,r,l){var d=r.pendingProps;switch(cn(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(r),null;case 1:return Wt(r),null;case 3:return l=r.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),la(Tn),Pt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(tr(r)?ha(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,_u())),Wt(r),null;case 26:var y=r.type,x=r.memoizedState;return i===null?(ha(r),x!==null?(Wt(r),E0(r,x)):(Wt(r),Ap(r,y,null,d,l))):x?x!==i.memoizedState?(ha(r),Wt(r),E0(r,x)):(Wt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==d&&ha(r),Wt(r),Ap(r,y,i,d,l)),null;case 27:if(xs(r),l=Ae.current,y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ha(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return Wt(r),null}i=be.current,tr(r)?yu(r):(i=Ix(y,d,l),r.stateNode=i,ha(r))}return Wt(r),null;case 5:if(xs(r),y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==d&&ha(r);else{if(!d){if(r.stateNode===null)throw Error(s(166));return Wt(r),null}if(x=be.current,tr(r))yu(r);else{var N=zh(Ae.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?N.createElement(y,{is:d.is}):N.createElement(y)}}x[sn]=r,x[on]=d;e:for(N=r.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===r)break e;for(;N.sibling===null;){if(N.return===null||N.return===r)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}r.stateNode=x;e:switch(Qn(x,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ha(r)}}return Wt(r),Ap(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,l),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==d&&ha(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ae.current,tr(r)){if(i=r.stateNode,l=r.memoizedProps,d=null,y=Tt,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[sn]=r,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||vx(i.nodeValue,l)),i||Rr(r,!0)}else i=zh(i).createTextNode(d),i[sn]=r,r.stateNode=i}return Wt(r),null;case 31:if(l=r.memoizedState,i===null||i.memoizedState!==null){if(d=tr(r),l!==null){if(i===null){if(!d)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[sn]=r}else oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Wt(r),i=!1}else l=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return r.flags&256?(ds(r),r):(ds(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Wt(r),null;case 13:if(d=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=tr(r),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[sn]=r}else oa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Wt(r),y=!1}else y=_u(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(ds(r),r):(ds(r),null)}return ds(r),(r.flags&128)!==0?(r.lanes=l,r):(l=d!==null,i=i!==null&&i.memoizedState!==null,l&&(d=r.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==y&&(d.flags|=2048)),l!==i&&l&&(r.child.flags|=8192),Th(r,r.updateQueue),Wt(r),null);case 4:return Pt(),i===null&&Yp(r.stateNode.containerInfo),Wt(r),null;case 10:return la(r.type),Wt(r),null;case 19:if(ee(yn),d=r.memoizedState,d===null)return Wt(r),null;if(y=(r.flags&128)!==0,x=d.rendering,x===null)if(y)Pu(d,!1);else{if(dn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(x=dh(i),x!==null){for(r.flags|=128,Pu(d,!1),i=x.updateQueue,r.updateQueue=i,Th(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)mu(l,i),l=l.sibling;return fe(yn,yn.current&1|2),ut&&Be(r,d.treeForkCount),r.child}i=i.sibling}d.tail!==null&&Pn()>Rh&&(r.flags|=128,y=!0,Pu(d,!1),r.lanes=4194304)}else{if(!y)if(i=dh(x),i!==null){if(r.flags|=128,y=!0,i=i.updateQueue,r.updateQueue=i,Th(r,i),Pu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!ut)return Wt(r),null}else 2*Pn()-d.renderingStartTime>Rh&&l!==536870912&&(r.flags|=128,y=!0,Pu(d,!1),r.lanes=4194304);d.isBackwards?(x.sibling=r.child,r.child=x):(i=d.last,i!==null?i.sibling=x:r.child=x,d.last=x)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Pn(),i.sibling=null,l=yn.current,fe(yn,y?l&1|2:l&1),ut&&Be(r,d.treeForkCount),i):(Wt(r),null);case 22:case 23:return ds(r),Wm(),d=r.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(Wt(r),r.subtreeFlags&6&&(r.flags|=8192)):Wt(r),l=r.updateQueue,l!==null&&Th(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),i!==null&&ee(Sl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),la(Tn),Wt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function N2(i,r){switch(cn(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return la(Tn),Pt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return xs(r),null;case 31:if(r.memoizedState!==null){if(ds(r),r.alternate===null)throw Error(s(340));oa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(ds(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));oa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(yn),null;case 4:return Pt(),null;case 10:return la(r.type),null;case 22:case 23:return ds(r),Wm(),i!==null&&ee(Sl),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return la(Tn),null;case 25:return null;default:return null}}function T0(i,r){switch(cn(r),r.tag){case 3:la(Tn),Pt();break;case 26:case 27:case 5:xs(r);break;case 4:Pt();break;case 31:r.memoizedState!==null&&ds(r);break;case 13:ds(r);break;case 19:ee(yn);break;case 10:la(r.type);break;case 22:case 23:ds(r),Wm(),i!==null&&ee(Sl);break;case 24:la(Tn)}}function Mu(i,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&i)===i){d=void 0;var x=l.create,N=l.inst;d=x(),N.destroy=d}l=l.next}while(l!==y)}}catch(M){kt(r,r.return,M)}}function co(i,r,l){try{var d=r.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var x=y.next;d=x;do{if((d.tag&i)===i){var N=d.inst,M=N.destroy;if(M!==void 0){N.destroy=void 0,y=r;var Q=l,le=M;try{le()}catch(ge){kt(y,Q,ge)}}}d=d.next}while(d!==x)}}catch(ge){kt(r,r.return,ge)}}function S0(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{pv(r,l)}catch(d){kt(i,i.return,d)}}}function N0(i,r,l){l.props=Il(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){kt(i,r,d)}}function ju(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(y){kt(i,r,y)}}function Pr(i,r){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(y){kt(i,r,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){kt(i,r,y)}else l.current=null}function A0(i){var r=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(y){kt(i,i.return,y)}}function Cp(i,r,l){try{var d=i.stateNode;K2(d,i.type,l,r),d[on]=r}catch(y){kt(i,i.return,y)}}function C0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yo(i.type)||i.tag===4}function Rp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||C0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ip(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ii));else if(d!==4&&(d===27&&yo(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(Ip(i,r,l),i=i.sibling;i!==null;)Ip(i,r,l),i=i.sibling}function Sh(i,r,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(d!==4&&(d===27&&yo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Sh(i,r,l),i=i.sibling;i!==null;)Sh(i,r,l),i=i.sibling}function R0(i){var r=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);Qn(r,d,l),r[sn]=i,r[on]=l}catch(x){kt(i,i.return,x)}}var fa=!1,An=!1,Pp=!1,I0=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function A2(i,r){if(i=i.containerInfo,Xp=$h,i=ml(i),Er(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var N=0,M=-1,Q=-1,le=0,ge=0,Ee=i,ue=null;t:for(;;){for(var he;Ee!==l||y!==0&&Ee.nodeType!==3||(M=N+y),Ee!==x||d!==0&&Ee.nodeType!==3||(Q=N+d),Ee.nodeType===3&&(N+=Ee.nodeValue.length),(he=Ee.firstChild)!==null;)ue=Ee,Ee=he;for(;;){if(Ee===i)break t;if(ue===l&&++le===y&&(M=N),ue===x&&++ge===d&&(Q=N),(he=Ee.nextSibling)!==null)break;Ee=ue,ue=Ee.parentNode}Ee=he}l=M===-1||Q===-1?null:{start:M,end:Q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jp={focusedElem:i,selectionRange:l},$h=!1,Gn=r;Gn!==null;)if(r=Gn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Gn=i;else for(;Gn!==null;){switch(r=Gn,x=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,l=r,y=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var ze=Il(l.type,y);i=d.getSnapshotBeforeUpdate(ze,x),d.__reactInternalSnapshotBeforeUpdate=i}catch(Ke){kt(l,l.return,Ke)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)ng(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ng(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Gn=i;break}Gn=r.return}}function P0(i,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:pa(i,l),d&4&&Mu(5,l);break;case 1:if(pa(i,l),d&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(N){kt(l,l.return,N)}else{var y=Il(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(y,r,i.__reactInternalSnapshotBeforeUpdate)}catch(N){kt(l,l.return,N)}}d&64&&S0(l),d&512&&ju(l,l.return);break;case 3:if(pa(i,l),d&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{pv(i,r)}catch(N){kt(l,l.return,N)}}break;case 27:r===null&&d&4&&R0(l);case 26:case 5:pa(i,l),r===null&&d&4&&A0(l),d&512&&ju(l,l.return);break;case 12:pa(i,l);break;case 31:pa(i,l),d&4&&L0(i,l);break;case 13:pa(i,l),d&4&&k0(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=D2.bind(null,l),nN(i,l))));break;case 22:if(d=l.memoizedState!==null||fa,!d){r=r!==null&&r.memoizedState!==null||An,y=fa;var x=An;fa=d,(An=r)&&!x?ga(i,l,(l.subtreeFlags&8772)!==0):pa(i,l),fa=y,An=x}break;case 30:break;default:pa(i,l)}}function M0(i){var r=i.alternate;r!==null&&(i.alternate=null,M0(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&za(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var en=null,Hi=!1;function ma(i,r,l){for(l=l.child;l!==null;)j0(i,r,l),l=l.sibling}function j0(i,r,l){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ni,l)}catch{}switch(l.tag){case 26:An||Pr(l,r),ma(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:An||Pr(l,r);var d=en,y=Hi;yo(l.type)&&(en=l.stateNode,Hi=!1),ma(i,r,l),qu(l.stateNode),en=d,Hi=y;break;case 5:An||Pr(l,r);case 6:if(d=en,y=Hi,en=null,ma(i,r,l),en=d,Hi=y,en!==null)if(Hi)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(l.stateNode)}catch(x){kt(l,r,x)}else try{en.removeChild(l.stateNode)}catch(x){kt(l,r,x)}break;case 18:en!==null&&(Hi?(i=en,Sx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Bc(i)):Sx(en,l.stateNode));break;case 4:d=en,y=Hi,en=l.stateNode.containerInfo,Hi=!0,ma(i,r,l),en=d,Hi=y;break;case 0:case 11:case 14:case 15:co(2,l,r),An||co(4,l,r),ma(i,r,l);break;case 1:An||(Pr(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&N0(l,r,d)),ma(i,r,l);break;case 21:ma(i,r,l);break;case 22:An=(d=An)||l.memoizedState!==null,ma(i,r,l),An=d;break;default:ma(i,r,l)}}function L0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bc(i)}catch(l){kt(r,r.return,l)}}}function k0(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bc(i)}catch(l){kt(r,r.return,l)}}function C2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new I0),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new I0),r;default:throw Error(s(435,i.tag))}}function Nh(i,r){var l=C2(i);r.forEach(function(d){if(!l.has(d)){l.add(d);var y=O2.bind(null,i,d);d.then(y,y)}})}function Fi(i,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d],x=i,N=r,M=N;e:for(;M!==null;){switch(M.tag){case 27:if(yo(M.type)){en=M.stateNode,Hi=!1;break e}break;case 5:en=M.stateNode,Hi=!1;break e;case 3:case 4:en=M.stateNode.containerInfo,Hi=!0;break e}M=M.return}if(en===null)throw Error(s(160));j0(x,N,y),en=null,Hi=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)D0(r,i),r=r.sibling}var ir=null;function D0(i,r){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Fi(r,i),Gi(i),d&4&&(co(3,i,i.return),Mu(3,i),co(5,i,i.return));break;case 1:Fi(r,i),Gi(i),d&512&&(An||l===null||Pr(l,l.return)),d&64&&fa&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var y=ir;if(Fi(r,i),Gi(i),d&512&&(An||l===null||Pr(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":x=y.getElementsByTagName("title")[0],(!x||x[ws]||x[sn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(d),y.head.insertBefore(x,y.querySelector("head > title"))),Qn(x,d,l),x[sn]=i,ln(x),d=x;break e;case"link":var N=Dx("link","href",y).get(d+(l.href||""));if(N){for(var M=0;M<N.length;M++)if(x=N[M],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(M,1);break t}}x=y.createElement(d),Qn(x,d,l),y.head.appendChild(x);break;case"meta":if(N=Dx("meta","content",y).get(d+(l.content||""))){for(M=0;M<N.length;M++)if(x=N[M],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(M,1);break t}}x=y.createElement(d),Qn(x,d,l),y.head.appendChild(x);break;default:throw Error(s(468,d))}x[sn]=i,ln(x),d=x}i.stateNode=d}else Ox(y,i.type,i.stateNode);else i.stateNode=kx(y,d,i.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?Ox(y,i.type,i.stateNode):kx(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Cp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Fi(r,i),Gi(i),d&512&&(An||l===null||Pr(l,l.return)),l!==null&&d&4&&Cp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Fi(r,i),Gi(i),d&512&&(An||l===null||Pr(l,l.return)),i.flags&32){y=i.stateNode;try{wn(y,"")}catch(ze){kt(i,i.return,ze)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,Cp(i,y,l!==null?l.memoizedProps:y)),d&1024&&(Pp=!0);break;case 6:if(Fi(r,i),Gi(i),d&4){if(i.stateNode===null)throw Error(s(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(ze){kt(i,i.return,ze)}}break;case 3:if(qh=null,y=ir,ir=Uh(r.containerInfo),Fi(r,i),ir=y,Gi(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Bc(r.containerInfo)}catch(ze){kt(i,i.return,ze)}Pp&&(Pp=!1,O0(i));break;case 4:d=ir,ir=Uh(i.stateNode.containerInfo),Fi(r,i),Gi(i),ir=d;break;case 12:Fi(r,i),Gi(i);break;case 31:Fi(r,i),Gi(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Nh(i,d)));break;case 13:Fi(r,i),Gi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ch=Pn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Nh(i,d)));break;case 22:y=i.memoizedState!==null;var Q=l!==null&&l.memoizedState!==null,le=fa,ge=An;if(fa=le||y,An=ge||Q,Fi(r,i),An=ge,fa=le,Gi(i),d&8192)e:for(r=i.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||Q||fa||An||Pl(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){Q=l=r;try{if(x=Q.stateNode,y)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{M=Q.stateNode;var Ee=Q.memoizedProps.style,ue=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;M.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(ze){kt(Q,Q.return,ze)}}}else if(r.tag===6){if(l===null){Q=r;try{Q.stateNode.nodeValue=y?"":Q.memoizedProps}catch(ze){kt(Q,Q.return,ze)}}}else if(r.tag===18){if(l===null){Q=r;try{var he=Q.stateNode;y?Nx(he,!0):Nx(Q.stateNode,!1)}catch(ze){kt(Q,Q.return,ze)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Nh(i,l))));break;case 19:Fi(r,i),Gi(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Nh(i,d)));break;case 30:break;case 21:break;default:Fi(r,i),Gi(i)}}function Gi(i){var r=i.flags;if(r&2){try{for(var l,d=i.return;d!==null;){if(C0(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var y=l.stateNode,x=Rp(i);Sh(i,x,y);break;case 5:var N=l.stateNode;l.flags&32&&(wn(N,""),l.flags&=-33);var M=Rp(i);Sh(i,M,N);break;case 3:case 4:var Q=l.stateNode.containerInfo,le=Rp(i);Ip(i,le,Q);break;default:throw Error(s(161))}}catch(ge){kt(i,i.return,ge)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function O0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;O0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function pa(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)P0(i,r.alternate,r),r=r.sibling}function Pl(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:co(4,r,r.return),Pl(r);break;case 1:Pr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&N0(r,r.return,l),Pl(r);break;case 27:qu(r.stateNode);case 26:case 5:Pr(r,r.return),Pl(r);break;case 22:r.memoizedState===null&&Pl(r);break;case 30:Pl(r);break;default:Pl(r)}i=i.sibling}}function ga(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,y=i,x=r,N=x.flags;switch(x.tag){case 0:case 11:case 15:ga(y,x,l),Mu(4,x);break;case 1:if(ga(y,x,l),d=x,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(le){kt(d,d.return,le)}if(d=x,y=d.updateQueue,y!==null){var M=d.stateNode;try{var Q=y.shared.hiddenCallbacks;if(Q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Q.length;y++)mv(Q[y],M)}catch(le){kt(d,d.return,le)}}l&&N&64&&S0(x),ju(x,x.return);break;case 27:R0(x);case 26:case 5:ga(y,x,l),l&&d===null&&N&4&&A0(x),ju(x,x.return);break;case 12:ga(y,x,l);break;case 31:ga(y,x,l),l&&N&4&&L0(y,x);break;case 13:ga(y,x,l),l&&N&4&&k0(y,x);break;case 22:x.memoizedState===null&&ga(y,x,l),ju(x,x.return);break;case 30:break;default:ga(y,x,l)}r=r.sibling}}function Mp(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&vu(l))}function jp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&vu(i))}function sr(i,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)V0(i,r,l,d),r=r.sibling}function V0(i,r,l,d){var y=r.flags;switch(r.tag){case 0:case 11:case 15:sr(i,r,l,d),y&2048&&Mu(9,r);break;case 1:sr(i,r,l,d);break;case 3:sr(i,r,l,d),y&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&vu(i)));break;case 12:if(y&2048){sr(i,r,l,d),i=r.stateNode;try{var x=r.memoizedProps,N=x.id,M=x.onPostCommit;typeof M=="function"&&M(N,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Q){kt(r,r.return,Q)}}else sr(i,r,l,d);break;case 31:sr(i,r,l,d);break;case 13:sr(i,r,l,d);break;case 23:break;case 22:x=r.stateNode,N=r.alternate,r.memoizedState!==null?x._visibility&2?sr(i,r,l,d):Lu(i,r):x._visibility&2?sr(i,r,l,d):(x._visibility|=2,Ic(i,r,l,d,(r.subtreeFlags&10256)!==0||!1)),y&2048&&Mp(N,r);break;case 24:sr(i,r,l,d),y&2048&&jp(r.alternate,r);break;default:sr(i,r,l,d)}}function Ic(i,r,l,d,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var x=i,N=r,M=l,Q=d,le=N.flags;switch(N.tag){case 0:case 11:case 15:Ic(x,N,M,Q,y),Mu(8,N);break;case 23:break;case 22:var ge=N.stateNode;N.memoizedState!==null?ge._visibility&2?Ic(x,N,M,Q,y):Lu(x,N):(ge._visibility|=2,Ic(x,N,M,Q,y)),y&&le&2048&&Mp(N.alternate,N);break;case 24:Ic(x,N,M,Q,y),y&&le&2048&&jp(N.alternate,N);break;default:Ic(x,N,M,Q,y)}r=r.sibling}}function Lu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,d=r,y=d.flags;switch(d.tag){case 22:Lu(l,d),y&2048&&Mp(d.alternate,d);break;case 24:Lu(l,d),y&2048&&jp(d.alternate,d);break;default:Lu(l,d)}r=r.sibling}}var ku=8192;function Pc(i,r,l){if(i.subtreeFlags&ku)for(i=i.child;i!==null;)z0(i,r,l),i=i.sibling}function z0(i,r,l){switch(i.tag){case 26:Pc(i,r,l),i.flags&ku&&i.memoizedState!==null&&mN(l,ir,i.memoizedState,i.memoizedProps);break;case 5:Pc(i,r,l);break;case 3:case 4:var d=ir;ir=Uh(i.stateNode.containerInfo),Pc(i,r,l),ir=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=ku,ku=16777216,Pc(i,r,l),ku=d):Pc(i,r,l));break;default:Pc(i,r,l)}}function U0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Du(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Gn=d,q0(d,i)}U0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)B0(i),i=i.sibling}function B0(i){switch(i.tag){case 0:case 11:case 15:Du(i),i.flags&2048&&co(9,i,i.return);break;case 3:Du(i);break;case 12:Du(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ah(i)):Du(i);break;default:Du(i)}}function Ah(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Gn=d,q0(d,i)}U0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:co(8,r,r.return),Ah(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Ah(r));break;default:Ah(r)}i=i.sibling}}function q0(i,r){for(;Gn!==null;){var l=Gn;switch(l.tag){case 0:case 11:case 15:co(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:vu(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Gn=d;else e:for(l=i;Gn!==null;){d=Gn;var y=d.sibling,x=d.return;if(M0(d),d===l){Gn=null;break e}if(y!==null){y.return=x,Gn=y;break e}Gn=x}}}var R2={getCacheForType:function(i){var r=Yn(Tn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l},cacheSignal:function(){return Yn(Tn).controller.signal}},I2=typeof WeakMap=="function"?WeakMap:Map,Rt=0,qt=null,dt=null,mt=0,Lt=0,hs=null,uo=!1,Mc=!1,Lp=!1,ya=0,dn=0,ho=0,Ml=0,kp=0,fs=0,jc=0,Ou=null,$i=null,Dp=!1,Ch=0,H0=0,Rh=1/0,Ih=null,fo=null,jn=0,mo=null,Lc=null,_a=0,Op=0,Vp=null,F0=null,Vu=0,zp=null;function ms(){return(Rt&2)!==0&&mt!==0?mt&-mt:W.T!==null?Gp():el()}function G0(){if(fs===0)if((mt&536870912)===0||ut){var i=Me;Me<<=1,(Me&3932160)===0&&(Me=262144),fs=i}else fs=536870912;return i=us.current,i!==null&&(i.flags|=32),fs}function Zi(i,r,l){(i===qt&&(Lt===2||Lt===9)||i.cancelPendingCommit!==null)&&(kc(i,0),po(i,mt,fs,!1)),On(i,l),((Rt&2)===0||i!==qt)&&(i===qt&&((Rt&2)===0&&(Ml|=l),dn===4&&po(i,mt,fs,!1)),Mr(i))}function $0(i,r,l){if((Rt&6)!==0)throw Error(s(327));var d=!l&&(r&127)===0&&(r&i.expiredLanes)===0||lt(i,r),y=d?j2(i,r):Bp(i,r,!0),x=d;do{if(y===0){Mc&&!d&&po(i,r,0,!1);break}else{if(l=i.current.alternate,x&&!P2(l)){y=Bp(i,r,!1),x=!1;continue}if(y===2){if(x=r,i.errorRecoveryDisabledLanes&x)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;e:{var M=i;y=Ou;var Q=M.current.memoizedState.isDehydrated;if(Q&&(kc(M,N).flags|=256),N=Bp(M,N,!1),N!==2){if(Lp&&!Q){M.errorRecoveryDisabledLanes|=x,Ml|=x,y=4;break e}x=$i,$i=y,x!==null&&($i===null?$i=x:$i.push.apply($i,x))}y=N}if(x=!1,y!==2)continue}}if(y===1){kc(i,0),po(i,r,0,!0);break}e:{switch(d=i,x=y,x){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:po(d,r,fs,!uo);break e;case 2:$i=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(y=Ch+300-Pn(),10<y)){if(po(d,r,fs,!uo),tt(d,0,!0)!==0)break e;_a=r,d.timeoutHandle=Ex(Z0.bind(null,d,l,$i,Ih,Dp,r,fs,Ml,jc,uo,x,"Throttled",-0,0),y);break e}Z0(d,l,$i,Ih,Dp,r,fs,Ml,jc,uo,x,null,-0,0)}}break}while(!0);Mr(i)}function Z0(i,r,l,d,y,x,N,M,Q,le,ge,Ee,ue,he){if(i.timeoutHandle=-1,Ee=r.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},z0(r,x,Ee);var ze=(x&62914560)===x?Ch-Pn():(x&4194048)===x?H0-Pn():0;if(ze=pN(Ee,ze),ze!==null){_a=x,i.cancelPendingCommit=ze(tx.bind(null,i,r,x,l,d,y,N,M,Q,ge,Ee,null,ue,he)),po(i,x,N,!le);return}}tx(i,r,x,l,d,y,N,M,Q)}function P2(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var y=l[d],x=y.getSnapshot;y=y.value;try{if(!Hn(x(),y))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function po(i,r,l,d){r&=~kp,r&=~Ml,i.suspendedLanes|=r,i.pingedLanes&=~r,d&&(i.warmLanes|=r),d=i.expirationTimes;for(var y=r;0<y;){var x=31-$t(y),N=1<<x;d[x]=-1,y&=~N}l!==0&&Fs(i,l,r)}function Ph(){return(Rt&6)===0?(zu(0),!1):!0}function Up(){if(dt!==null){if(Lt===0)var i=dt.return;else i=dt,nr=Ir=null,np(i),Sc=null,bu=0,i=dt;for(;i!==null;)T0(i.alternate,i),i=i.return;dt=null}}function kc(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Q2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),_a=0,Up(),qt=i,dt=l=Ls(i.current,null),mt=r,Lt=0,hs=null,uo=!1,Mc=lt(i,r),Lp=!1,jc=fs=kp=Ml=ho=dn=0,$i=Ou=null,Dp=!1,(r&8)!==0&&(r|=r&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=r;0<d;){var y=31-$t(d),x=1<<y;r|=i[y],d&=~x}return ya=r,vl(),l}function K0(i,r){it=null,W.H=Ru,r===Tc||r===ah?(r=uv(),Lt=3):r===Fm?(r=uv(),Lt=4):Lt=r===_p?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,hs=r,dt===null&&(dn=1,xh(i,u(r,i.current)))}function Y0(){var i=us.current;return i===null?!0:(mt&4194048)===mt?ks===null:(mt&62914560)===mt||(mt&536870912)!==0?i===ks:!1}function W0(){var i=W.H;return W.H=Ru,i===null?Ru:i}function Q0(){var i=W.A;return W.A=R2,i}function Mh(){dn=4,uo||(mt&4194048)!==mt&&us.current!==null||(Mc=!0),(ho&134217727)===0&&(Ml&134217727)===0||qt===null||po(qt,mt,fs,!1)}function Bp(i,r,l){var d=Rt;Rt|=2;var y=W0(),x=Q0();(qt!==i||mt!==r)&&(Ih=null,kc(i,r)),r=!1;var N=dn;e:do try{if(Lt!==0&&dt!==null){var M=dt,Q=hs;switch(Lt){case 8:Up(),N=6;break e;case 3:case 2:case 9:case 6:us.current===null&&(r=!0);var le=Lt;if(Lt=0,hs=null,Dc(i,M,Q,le),l&&Mc){N=0;break e}break;default:le=Lt,Lt=0,hs=null,Dc(i,M,Q,le)}}M2(),N=dn;break}catch(ge){K0(i,ge)}while(!0);return r&&i.shellSuspendCounter++,nr=Ir=null,Rt=d,W.H=y,W.A=x,dt===null&&(qt=null,mt=0,vl()),N}function M2(){for(;dt!==null;)X0(dt)}function j2(i,r){var l=Rt;Rt|=2;var d=W0(),y=Q0();qt!==i||mt!==r?(Ih=null,Rh=Pn()+500,kc(i,r)):Mc=lt(i,r);e:do try{if(Lt!==0&&dt!==null){r=dt;var x=hs;t:switch(Lt){case 1:Lt=0,hs=null,Dc(i,r,x,1);break;case 2:case 9:if(lv(x)){Lt=0,hs=null,J0(r);break}r=function(){Lt!==2&&Lt!==9||qt!==i||(Lt=7),Mr(i)},x.then(r,r);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:lv(x)?(Lt=0,hs=null,J0(r)):(Lt=0,hs=null,Dc(i,r,x,7));break;case 5:var N=null;switch(dt.tag){case 26:N=dt.memoizedState;case 5:case 27:var M=dt;if(N?Vx(N):M.stateNode.complete){Lt=0,hs=null;var Q=M.sibling;if(Q!==null)dt=Q;else{var le=M.return;le!==null?(dt=le,jh(le)):dt=null}break t}}Lt=0,hs=null,Dc(i,r,x,5);break;case 6:Lt=0,hs=null,Dc(i,r,x,6);break;case 8:Up(),dn=6;break e;default:throw Error(s(462))}}L2();break}catch(ge){K0(i,ge)}while(!0);return nr=Ir=null,W.H=d,W.A=y,Rt=l,dt!==null?0:(qt=null,mt=0,vl(),dn)}function L2(){for(;dt!==null&&!Oa();)X0(dt)}function X0(i){var r=w0(i.alternate,i,ya);i.memoizedProps=i.pendingProps,r===null?jh(i):dt=r}function J0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=g0(l,r,r.pendingProps,r.type,void 0,mt);break;case 11:r=g0(l,r,r.pendingProps,r.type.render,r.ref,mt);break;case 5:np(r);default:T0(l,r),r=dt=mu(r,ya),r=w0(l,r,ya)}i.memoizedProps=i.pendingProps,r===null?jh(i):dt=r}function Dc(i,r,l,d){nr=Ir=null,np(r),Sc=null,bu=0;var y=r.return;try{if(w2(i,y,r,l,mt)){dn=1,xh(i,u(l,i.current)),dt=null;return}}catch(x){if(y!==null)throw dt=y,x;dn=1,xh(i,u(l,i.current)),dt=null;return}r.flags&32768?(ut||d===1?i=!0:Mc||(mt&536870912)!==0?i=!1:(uo=i=!0,(d===2||d===9||d===3||d===6)&&(d=us.current,d!==null&&d.tag===13&&(d.flags|=16384))),ex(r,i)):jh(r)}function jh(i){var r=i;do{if((r.flags&32768)!==0){ex(r,uo);return}i=r.return;var l=S2(r.alternate,r,ya);if(l!==null){dt=l;return}if(r=r.sibling,r!==null){dt=r;return}dt=r=i}while(r!==null);dn===0&&(dn=5)}function ex(i,r){do{var l=N2(i.alternate,i);if(l!==null){l.flags&=32767,dt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){dt=i;return}dt=i=l}while(i!==null);dn=6,dt=null}function tx(i,r,l,d,y,x,N,M,Q){i.cancelPendingCommit=null;do Lh();while(jn!==0);if((Rt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(x=r.lanes|r.childLanes,x|=yc,Qo(i,l,x,N,M,Q),i===qt&&(dt=qt=null,mt=0),Lc=r,mo=i,_a=l,Op=x,Vp=y,F0=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,V2(Qi,function(){return ax(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=W.T,W.T=null,y=pe.p,pe.p=2,N=Rt,Rt|=4;try{A2(i,r,l)}finally{Rt=N,pe.p=y,W.T=d}}jn=1,nx(),ix(),sx()}}function nx(){if(jn===1){jn=0;var i=mo,r=Lc,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var d=pe.p;pe.p=2;var y=Rt;Rt|=4;try{D0(r,i);var x=Jp,N=ml(i.containerInfo),M=x.focusedElem,Q=x.selectionRange;if(N!==M&&M&&M.ownerDocument&&fc(M.ownerDocument.documentElement,M)){if(Q!==null&&Er(M)){var le=Q.start,ge=Q.end;if(ge===void 0&&(ge=le),"selectionStart"in M)M.selectionStart=le,M.selectionEnd=Math.min(ge,M.value.length);else{var Ee=M.ownerDocument||document,ue=Ee&&Ee.defaultView||window;if(ue.getSelection){var he=ue.getSelection(),ze=M.textContent.length,Ke=Math.min(Q.start,ze),zt=Q.end===void 0?Ke:Math.min(Q.end,ze);!he.extend&&Ke>zt&&(N=zt,zt=Ke,Ke=N);var ie=fl(M,Ke),J=fl(M,zt);if(ie&&J&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==J.node||he.focusOffset!==J.offset)){var oe=Ee.createRange();oe.setStart(ie.node,ie.offset),he.removeAllRanges(),Ke>zt?(he.addRange(oe),he.extend(J.node,J.offset)):(oe.setEnd(J.node,J.offset),he.addRange(oe))}}}}for(Ee=[],he=M;he=he.parentNode;)he.nodeType===1&&Ee.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Ee.length;M++){var ve=Ee[M];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}$h=!!Xp,Jp=Xp=null}finally{Rt=y,pe.p=d,W.T=l}}i.current=r,jn=2}}function ix(){if(jn===2){jn=0;var i=mo,r=Lc,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var d=pe.p;pe.p=2;var y=Rt;Rt|=4;try{P0(i,r.alternate,r)}finally{Rt=y,pe.p=d,W.T=l}}jn=3}}function sx(){if(jn===4||jn===3){jn=0,Kr();var i=mo,r=Lc,l=_a,d=F0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jn=5:(jn=0,Lc=mo=null,rx(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(fo=null),Ve(l),r=r.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ni,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=W.T,y=pe.p,pe.p=2,W.T=null;try{for(var x=i.onRecoverableError,N=0;N<d.length;N++){var M=d[N];x(M.value,{componentStack:M.stack})}}finally{W.T=r,pe.p=y}}(_a&3)!==0&&Lh(),Mr(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===zp?Vu++:(Vu=0,zp=i):Vu=0,zu(0)}}function rx(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,vu(r)))}function Lh(){return nx(),ix(),sx(),ax()}function ax(){if(jn!==5)return!1;var i=mo,r=Op;Op=0;var l=Ve(_a),d=W.T,y=pe.p;try{pe.p=32>l?32:l,W.T=null,l=Vp,Vp=null;var x=mo,N=_a;if(jn=0,Lc=mo=null,_a=0,(Rt&6)!==0)throw Error(s(331));var M=Rt;if(Rt|=4,B0(x.current),V0(x,x.current,N,l),Rt=M,zu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ni,x)}catch{}return!0}finally{pe.p=y,W.T=d,rx(i,r)}}function ox(i,r,l){r=u(l,r),r=yp(i.stateNode,r,2),i=ao(i,r,2),i!==null&&(On(i,2),Mr(i))}function kt(i,r,l){if(i.tag===3)ox(i,i,l);else for(;r!==null;){if(r.tag===3){ox(r,i,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(fo===null||!fo.has(d))){i=u(l,i),l=l0(2),d=ao(r,l,2),d!==null&&(c0(l,d,r,i),On(d,2),Mr(d));break}}r=r.return}}function qp(i,r,l){var d=i.pingCache;if(d===null){d=i.pingCache=new I2;var y=new Set;d.set(r,y)}else y=d.get(r),y===void 0&&(y=new Set,d.set(r,y));y.has(l)||(Lp=!0,y.add(l),i=k2.bind(null,i,r,l),r.then(i,i))}function k2(i,r,l){var d=i.pingCache;d!==null&&d.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,qt===i&&(mt&l)===l&&(dn===4||dn===3&&(mt&62914560)===mt&&300>Pn()-Ch?(Rt&2)===0&&kc(i,0):kp|=l,jc===mt&&(jc=0)),Mr(i)}function lx(i,r){r===0&&(r=bn()),i=js(i,r),i!==null&&(On(i,r),Mr(i))}function D2(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),lx(i,l)}function O2(i,r){var l=0;switch(i.tag){case 31:case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(r),lx(i,l)}function V2(i,r){return Xt(i,r)}var kh=null,Oc=null,Hp=!1,Dh=!1,Fp=!1,go=0;function Mr(i){i!==Oc&&i.next===null&&(Oc===null?kh=Oc=i:Oc=Oc.next=i),Dh=!0,Hp||(Hp=!0,U2())}function zu(i,r){if(!Fp&&Dh){Fp=!0;do for(var l=!1,d=kh;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var x=0;else{var N=d.suspendedLanes,M=d.pingedLanes;x=(1<<31-$t(42|i)+1)-1,x&=y&~(N&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,hx(d,x))}else x=mt,x=tt(d,d===qt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||lt(d,x)||(l=!0,hx(d,x));d=d.next}while(l);Fp=!1}}function z2(){cx()}function cx(){Dh=Hp=!1;var i=0;go!==0&&W2()&&(i=go);for(var r=Pn(),l=null,d=kh;d!==null;){var y=d.next,x=ux(d,r);x===0?(d.next=null,l===null?kh=y:l.next=y,y===null&&(Oc=l)):(l=d,(i!==0||(x&3)!==0)&&(Dh=!0)),d=y}jn!==0&&jn!==5||zu(i),go!==0&&(go=0)}function ux(i,r){for(var l=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var N=31-$t(x),M=1<<N,Q=y[N];Q===-1?((M&l)===0||(M&d)!==0)&&(y[N]=Jt(M,r)):Q<=r&&(i.expiredLanes|=M),x&=~M}if(r=qt,l=mt,l=tt(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===r&&(Lt===2||Lt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Ii(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||lt(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(d!==null&&Ii(d),Ve(l)){case 2:case 8:l=mr;break;case 32:l=Qi;break;case 268435456:l=Yr;break;default:l=Qi}return d=dx.bind(null,i),l=Xt(l,d),i.callbackPriority=r,i.callbackNode=l,r}return d!==null&&d!==null&&Ii(d),i.callbackPriority=2,i.callbackNode=null,2}function dx(i,r){if(jn!==0&&jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Lh()&&i.callbackNode!==l)return null;var d=mt;return d=tt(i,i===qt?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:($0(i,d,r),ux(i,Pn()),i.callbackNode!=null&&i.callbackNode===l?dx.bind(null,i):null)}function hx(i,r){if(Lh())return null;$0(i,r,!0)}function U2(){X2(function(){(Rt&6)!==0?Xt(Hs,z2):cx()})}function Gp(){if(go===0){var i=wc;i===0&&(i=Ie,Ie<<=1,(Ie&261888)===0&&(Ie=256)),go=i}return go}function fx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_r(""+i)}function mx(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function B2(i,r,l,d,y){if(r==="submit"&&l&&l.stateNode===y){var x=fx((y[on]||null).action),N=d.submitter;N&&(r=(r=N[on]||null)?fx(r.formAction):N.getAttribute("formAction"),r!==null&&(x=r,N=null));var M=new Rs("action","action",null,d,y);i.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(go!==0){var Q=N?mx(y,N):new FormData(y);dp(l,{pending:!0,data:Q,method:y.method,action:x},null,Q)}}else typeof x=="function"&&(M.preventDefault(),Q=N?mx(y,N):new FormData(y),dp(l,{pending:!0,data:Q,method:y.method,action:x},x,Q))},currentTarget:y}]})}}for(var $p=0;$p<Nr.length;$p++){var Zp=Nr[$p],q2=Zp.toLowerCase(),H2=Zp[0].toUpperCase()+Zp.slice(1);Ui(q2,"on"+H2)}Ui(gl,"onAnimationEnd"),Ui(eh,"onAnimationIteration"),Ui(yl,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(Dm,"onTransitionRun"),Ui(th,"onTransitionStart"),Ui(Om,"onTransitionCancel"),Ui(to,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function px(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],y=d.event;d=d.listeners;e:{var x=void 0;if(r)for(var N=d.length-1;0<=N;N--){var M=d[N],Q=M.instance,le=M.currentTarget;if(M=M.listener,Q!==x&&y.isPropagationStopped())break e;x=M,y.currentTarget=le;try{x(y)}catch(ge){_l(ge)}y.currentTarget=null,x=Q}else for(N=0;N<d.length;N++){if(M=d[N],Q=M.instance,le=M.currentTarget,M=M.listener,Q!==x&&y.isPropagationStopped())break e;x=M,y.currentTarget=le;try{x(y)}catch(ge){_l(ge)}y.currentTarget=null,x=Q}}}}function ht(i,r){var l=r[es];l===void 0&&(l=r[es]=new Set);var d=i+"__bubble";l.has(d)||(gx(r,i,2,!1),l.add(d))}function Kp(i,r,l){var d=0;r&&(d|=4),gx(l,i,d,r)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function Yp(i){if(!i[Oh]){i[Oh]=!0,tl.forEach(function(l){l!=="selectionchange"&&(F2.has(l)||Kp(l,!1,i),Kp(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Oh]||(r[Oh]=!0,Kp("selectionchange",!1,r))}}function gx(i,r,l,d){switch(Gx(r)){case 2:var y=_N;break;case 8:y=vN;break;default:y=ug}l=y.bind(null,r,l,i),y=void 0,!Ks||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(r,l,{capture:!0,passive:y}):i.addEventListener(r,l,!0):y!==void 0?i.addEventListener(r,l,{passive:y}):i.addEventListener(r,l,!1)}function Wp(i,r,l,d,y){var x=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var M=d.stateNode.containerInfo;if(M===y)break;if(N===4)for(N=d.return;N!==null;){var Q=N.tag;if((Q===3||Q===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;M!==null;){if(N=ts(M),N===null)return;if(Q=N.tag,Q===5||Q===6||Q===26||Q===27){d=x=N;continue e}M=M.parentNode}}d=d.return}Zs(function(){var le=x,ge=si(l),Ee=[];e:{var ue=nh.get(i);if(ue!==void 0){var he=Rs,ze=i;switch(i){case"keypress":if(xr(l)===0)break e;case"keydown":case"keyup":he=ll;break;case"focusin":ze="focus",he=na;break;case"focusout":ze="blur",he=na;break;case"beforeblur":case"afterblur":he=na;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=lc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=T;break;case gl:case eh:case yl:he=Ga;break;case to:he=U;break;case"scroll":case"scrollend":he=at;break;case"wheel":he=de;break;case"copy":case"cut":case"paste":he=_i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Xs;break;case"toggle":case"beforetoggle":he=Qe}var Ke=(r&4)!==0,zt=!Ke&&(i==="scroll"||i==="scrollend"),ie=Ke?ue!==null?ue+"Capture":null:ue;Ke=[];for(var J=le,oe;J!==null;){var ve=J;if(oe=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||oe===null||ie===null||(ve=yi(J,ie),ve!=null&&Ke.push(Bu(J,ve,oe))),zt)break;J=J.return}0<Ke.length&&(ue=new he(ue,ze,null,l,ge),Ee.push({event:ue,listeners:Ke}))}}if((r&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",ue&&l!==Fa&&(ze=l.relatedTarget||l.fromElement)&&(ts(ze)||ze[Ji]))break e;if((he||ue)&&(ue=ge.window===ge?ge:(ue=ge.ownerDocument)?ue.defaultView||ue.parentWindow:window,he?(ze=l.relatedTarget||l.toElement,he=le,ze=ze?ts(ze):null,ze!==null&&(zt=c(ze),Ke=ze.tag,ze!==zt||Ke!==5&&Ke!==27&&Ke!==6)&&(ze=null)):(he=null,ze=le),he!==ze)){if(Ke=il,ve="onMouseLeave",ie="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(Ke=Xs,ve="onPointerLeave",ie="onPointerEnter",J="pointer"),zt=he==null?ue:zn(he),oe=ze==null?ue:zn(ze),ue=new Ke(ve,J+"leave",he,l,ge),ue.target=zt,ue.relatedTarget=oe,ve=null,ts(ge)===le&&(Ke=new Ke(ie,J+"enter",ze,l,ge),Ke.target=oe,Ke.relatedTarget=zt,ve=Ke),zt=ve,he&&ze)t:{for(Ke=G2,ie=he,J=ze,oe=0,ve=ie;ve;ve=Ke(ve))oe++;ve=0;for(var Ge=J;Ge;Ge=Ke(Ge))ve++;for(;0<oe-ve;)ie=Ke(ie),oe--;for(;0<ve-oe;)J=Ke(J),ve--;for(;oe--;){if(ie===J||J!==null&&ie===J.alternate){Ke=ie;break t}ie=Ke(ie),J=Ke(J)}Ke=null}else Ke=null;he!==null&&yx(Ee,ue,he,Ke,!1),ze!==null&&zt!==null&&yx(Ee,zt,ze,Ke,!0)}}e:{if(ue=le?zn(le):window,he=ue.nodeName&&ue.nodeName.toLowerCase(),he==="select"||he==="input"&&ue.type==="file")var Nt=hl;else if(Is(ue))if(Yd)Nt=km;else{Nt=Lm;var Ue=Js}else he=ue.nodeName,!he||he.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&yr(le.elementType)&&(Nt=hl):Nt=Qa;if(Nt&&(Nt=Nt(i,le))){Kd(Ee,Nt,l,ge);break e}Ue&&Ue(i,ue,le),i==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&ns(ue,"number",ue.value)}switch(Ue=le?zn(le):window,i){case"focusin":(Is(Ue)||Ue.contentEditable==="true")&&(Tr=Ue,pc=le,pl=null);break;case"focusout":pl=pc=Tr=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,Xd(Ee,l,ge);break;case"selectionchange":if(mc)break;case"keydown":case"keyup":Xd(Ee,l,ge)}var rt;if(bt)e:{switch(i){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Ka?ia(i,l)&&(pt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(pt="onCompositionStart");pt&&(zi&&l.locale!=="ko"&&(Ka||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ka&&(rt=is()):(Oi=ge,Ys="value"in Oi?Oi.value:Oi.textContent,Ka=!0)),Ue=Vh(le,pt),0<Ue.length&&(pt=new as(pt,i,null,l,ge),Ee.push({event:pt,listeners:Ue}),rt?pt.data=rt:(rt=sa(l),rt!==null&&(pt.data=rt)))),(rt=Vi?cs(i,l):Ya(i,l))&&(pt=Vh(le,"onBeforeInput"),0<pt.length&&(Ue=new as("onBeforeInput","beforeinput",null,l,ge),Ee.push({event:Ue,listeners:pt}),Ue.data=rt)),B2(Ee,i,le,l,ge)}px(Ee,r)})}function Bu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Vh(i,r){for(var l=r+"Capture",d=[];i!==null;){var y=i,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=yi(i,l),y!=null&&d.unshift(Bu(i,y,x)),y=yi(i,r),y!=null&&d.push(Bu(i,y,x))),i.tag===3)return d;i=i.return}return[]}function G2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yx(i,r,l,d,y){for(var x=r._reactName,N=[];l!==null&&l!==d;){var M=l,Q=M.alternate,le=M.stateNode;if(M=M.tag,Q!==null&&Q===d)break;M!==5&&M!==26&&M!==27||le===null||(Q=le,y?(le=yi(l,x),le!=null&&N.unshift(Bu(l,le,Q))):y||(le=yi(l,x),le!=null&&N.push(Bu(l,le,Q)))),l=l.return}N.length!==0&&i.push({event:r,listeners:N})}var $2=/\r\n?/g,Z2=/\u0000|\uFFFD/g;function _x(i){return(typeof i=="string"?i:""+i).replace($2,`
`).replace(Z2,"")}function vx(i,r){return r=_x(r),_x(i)===r}function Vt(i,r,l,d,y,x){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||wn(i,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&wn(i,""+d);break;case"className":ct(i,"class",d);break;case"tabIndex":ct(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(i,l,d);break;case"style":Jr(i,d,x);break;case"data":if(r!=="object"){ct(i,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=_r(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(r!=="input"&&Vt(i,r,"name",y.name,y,null),Vt(i,r,"formEncType",y.formEncType,y,null),Vt(i,r,"formMethod",y.formMethod,y,null),Vt(i,r,"formTarget",y.formTarget,y,null)):(Vt(i,r,"encType",y.encType,y,null),Vt(i,r,"method",y.method,y,null),Vt(i,r,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=_r(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=ii);break;case"onScroll":d!=null&&ht("scroll",i);break;case"onScrollEnd":d!=null&&ht("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=_r(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":ht("beforetoggle",i),ht("toggle",i),ot(i,"popover",d);break;case"xlinkActuate":Zt(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Zt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Zt(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Zt(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Zt(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Zt(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ot(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ea.get(l)||l,ot(i,l,d))}}function Qp(i,r,l,d,y,x){switch(l){case"style":Jr(i,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof d=="string"?wn(i,d):(typeof d=="number"||typeof d=="bigint")&&wn(i,""+d);break;case"onScroll":d!=null&&ht("scroll",i);break;case"onScrollEnd":d!=null&&ht("scrollend",i);break;case"onClick":d!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),x=i[on]||null,x=x!=null?x[l]:null,typeof x=="function"&&i.removeEventListener(r,x,y),typeof d=="function")){typeof x!="function"&&x!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,d,y);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):ot(i,l,d)}}}function Qn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",i),ht("load",i);var d=!1,y=!1,x;for(x in l)if(l.hasOwnProperty(x)){var N=l[x];if(N!=null)switch(x){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Vt(i,r,x,N,l,null)}}y&&Vt(i,r,"srcSet",l.srcSet,l,null),d&&Vt(i,r,"src",l.src,l,null);return;case"input":ht("invalid",i);var M=x=N=y=null,Q=null,le=null;for(d in l)if(l.hasOwnProperty(d)){var ge=l[d];if(ge!=null)switch(d){case"name":y=ge;break;case"type":N=ge;break;case"checked":Q=ge;break;case"defaultChecked":le=ge;break;case"value":x=ge;break;case"defaultValue":M=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,r));break;default:Vt(i,r,d,ge,l,null)}}Xr(i,x,M,Q,le,N,y,!1);return;case"select":ht("invalid",i),d=N=x=null;for(y in l)if(l.hasOwnProperty(y)&&(M=l[y],M!=null))switch(y){case"value":x=M;break;case"defaultValue":N=M;break;case"multiple":d=M;default:Vt(i,r,y,M,l,null)}r=x,l=N,i.multiple=!!d,r!=null?jt(i,!!d,r,!1):l!=null&&jt(i,!!d,l,!0);return;case"textarea":ht("invalid",i),x=y=d=null;for(N in l)if(l.hasOwnProperty(N)&&(M=l[N],M!=null))switch(N){case"value":d=M;break;case"defaultValue":y=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:Vt(i,r,N,M,l,null)}Di(i,d,y,x);return;case"option":for(Q in l)l.hasOwnProperty(Q)&&(d=l[Q],d!=null)&&(Q==="selected"?i.selected=d&&typeof d!="function"&&typeof d!="symbol":Vt(i,r,Q,d,l,null));return;case"dialog":ht("beforetoggle",i),ht("toggle",i),ht("cancel",i),ht("close",i);break;case"iframe":case"object":ht("load",i);break;case"video":case"audio":for(d=0;d<Uu.length;d++)ht(Uu[d],i);break;case"image":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"embed":case"source":case"link":ht("error",i),ht("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in l)if(l.hasOwnProperty(le)&&(d=l[le],d!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Vt(i,r,le,d,l,null)}return;default:if(yr(r)){for(ge in l)l.hasOwnProperty(ge)&&(d=l[ge],d!==void 0&&Qp(i,r,ge,d,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(d=l[M],d!=null&&Vt(i,r,M,d,l,null))}function K2(i,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,N=null,M=null,Q=null,le=null,ge=null;for(he in l){var Ee=l[he];if(l.hasOwnProperty(he)&&Ee!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":Q=Ee;default:d.hasOwnProperty(he)||Vt(i,r,he,null,d,Ee)}}for(var ue in d){var he=d[ue];if(Ee=l[ue],d.hasOwnProperty(ue)&&(he!=null||Ee!=null))switch(ue){case"type":x=he;break;case"name":y=he;break;case"checked":le=he;break;case"defaultChecked":ge=he;break;case"value":N=he;break;case"defaultValue":M=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,r));break;default:he!==Ee&&Vt(i,r,ue,he,d,Ee)}}qa(i,N,M,Q,le,ge,x,y);return;case"select":he=N=M=ue=null;for(x in l)if(Q=l[x],l.hasOwnProperty(x)&&Q!=null)switch(x){case"value":break;case"multiple":he=Q;default:d.hasOwnProperty(x)||Vt(i,r,x,null,d,Q)}for(y in d)if(x=d[y],Q=l[y],d.hasOwnProperty(y)&&(x!=null||Q!=null))switch(y){case"value":ue=x;break;case"defaultValue":M=x;break;case"multiple":N=x;default:x!==Q&&Vt(i,r,y,x,d,Q)}r=M,l=N,d=he,ue!=null?jt(i,!!l,ue,!1):!!d!=!!l&&(r!=null?jt(i,!!l,r,!0):jt(i,!!l,l?[]:"",!1));return;case"textarea":he=ue=null;for(M in l)if(y=l[M],l.hasOwnProperty(M)&&y!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Vt(i,r,M,null,d,y)}for(N in d)if(y=d[N],x=l[N],d.hasOwnProperty(N)&&(y!=null||x!=null))switch(N){case"value":ue=y;break;case"defaultValue":he=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==x&&Vt(i,r,N,y,d,x)}Ns(i,ue,he);return;case"option":for(var ze in l)ue=l[ze],l.hasOwnProperty(ze)&&ue!=null&&!d.hasOwnProperty(ze)&&(ze==="selected"?i.selected=!1:Vt(i,r,ze,null,d,ue));for(Q in d)ue=d[Q],he=l[Q],d.hasOwnProperty(Q)&&ue!==he&&(ue!=null||he!=null)&&(Q==="selected"?i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol":Vt(i,r,Q,ue,d,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in l)ue=l[Ke],l.hasOwnProperty(Ke)&&ue!=null&&!d.hasOwnProperty(Ke)&&Vt(i,r,Ke,null,d,ue);for(le in d)if(ue=d[le],he=l[le],d.hasOwnProperty(le)&&ue!==he&&(ue!=null||he!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,r));break;default:Vt(i,r,le,ue,d,he)}return;default:if(yr(r)){for(var zt in l)ue=l[zt],l.hasOwnProperty(zt)&&ue!==void 0&&!d.hasOwnProperty(zt)&&Qp(i,r,zt,void 0,d,ue);for(ge in d)ue=d[ge],he=l[ge],!d.hasOwnProperty(ge)||ue===he||ue===void 0&&he===void 0||Qp(i,r,ge,ue,d,he);return}}for(var ie in l)ue=l[ie],l.hasOwnProperty(ie)&&ue!=null&&!d.hasOwnProperty(ie)&&Vt(i,r,ie,null,d,ue);for(Ee in d)ue=d[Ee],he=l[Ee],!d.hasOwnProperty(Ee)||ue===he||ue==null&&he==null||Vt(i,r,Ee,ue,d,he)}function xx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var y=l[d],x=y.transferSize,N=y.initiatorType,M=y.duration;if(x&&M&&xx(N)){for(N=0,M=y.responseEnd,d+=1;d<l.length;d++){var Q=l[d],le=Q.startTime;if(le>M)break;var ge=Q.transferSize,Ee=Q.initiatorType;ge&&xx(Ee)&&(Q=Q.responseEnd,N+=ge*(Q<M?1:(M-le)/(Q-le)))}if(--d,r+=8*(x+N)/(y.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Xp=null,Jp=null;function zh(i){return i.nodeType===9?i:i.ownerDocument}function bx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function eg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tg=null;function W2(){var i=window.event;return i&&i.type==="popstate"?i===tg?!1:(tg=i,!0):(tg=null,!1)}var Ex=typeof setTimeout=="function"?setTimeout:void 0,Q2=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,X2=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(i){return Tx.resolve(null).then(i).catch(J2)}:Ex;function J2(i){setTimeout(function(){throw i})}function yo(i){return i==="head"}function Sx(i,r){var l=r,d=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(d===0){i.removeChild(y),Bc(r);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")qu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,qu(l);for(var x=l.firstChild;x;){var N=x.nextSibling,M=x.nodeName;x[ws]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=N}}else l==="body"&&qu(i.ownerDocument.body);l=y}while(l);Bc(r)}function Nx(i,r){var l=i;i=0;do{var d=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=d}while(l)}function ng(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ng(l),za(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function eN(i,r,l,d){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[ws])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Ds(i.nextSibling),i===null)break}return null}function tN(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ds(i.nextSibling),i===null))return null;return i}function Ax(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Ds(i.nextSibling),i===null))return null;return i}function ig(i){return i.data==="$?"||i.data==="$~"}function sg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function nN(i,r){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||l.readyState!=="loading")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Ds(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var rg=null;function Cx(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(r===0)return Ds(i.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}i=i.nextSibling}return null}function Rx(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return i;r--}else l!=="/$"&&l!=="/&"||r++}i=i.previousSibling}return null}function Ix(i,r,l){switch(r=zh(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function qu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);za(i)}var Os=new Map,Px=new Set;function Uh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var va=pe.d;pe.d={f:iN,r:sN,D:rN,C:aN,L:oN,m:lN,X:uN,S:cN,M:dN};function iN(){var i=va.f(),r=Ph();return i||r}function sN(i){var r=ji(i);r!==null&&r.tag===5&&r.type==="form"?Kv(r):va.r(i)}var Vc=typeof document>"u"?null:document;function Mx(i,r,l){var d=Vc;if(d&&typeof r=="string"&&r){var y=Ut(r);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Px.has(y)||(Px.add(y),i={rel:i,crossOrigin:l,href:r},d.querySelector(y)===null&&(r=d.createElement("link"),Qn(r,"link",i),ln(r),d.head.appendChild(r)))}}function rN(i){va.D(i),Mx("dns-prefetch",i,null)}function aN(i,r){va.C(i,r),Mx("preconnect",i,r)}function oN(i,r,l){va.L(i,r,l);var d=Vc;if(d&&i&&r){var y='link[rel="preload"][as="'+Ut(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Ut(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Ut(l.imageSizes)+'"]')):y+='[href="'+Ut(i)+'"]';var x=y;switch(r){case"style":x=zc(i);break;case"script":x=Uc(i)}Os.has(x)||(i=E({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Os.set(x,i),d.querySelector(y)!==null||r==="style"&&d.querySelector(Hu(x))||r==="script"&&d.querySelector(Fu(x))||(r=d.createElement("link"),Qn(r,"link",i),ln(r),d.head.appendChild(r)))}}function lN(i,r){va.m(i,r);var l=Vc;if(l&&i){var d=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+Ut(d)+'"][href="'+Ut(i)+'"]',x=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Uc(i)}if(!Os.has(x)&&(i=E({rel:"modulepreload",href:i},r),Os.set(x,i),l.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Fu(x)))return}d=l.createElement("link"),Qn(d,"link",i),ln(d),l.head.appendChild(d)}}}function cN(i,r,l){va.S(i,r,l);var d=Vc;if(d&&i){var y=Es(d).hoistableStyles,x=zc(i);r=r||"default";var N=y.get(x);if(!N){var M={loading:0,preload:null};if(N=d.querySelector(Hu(x)))M.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Os.get(x))&&ag(i,l);var Q=N=d.createElement("link");ln(Q),Qn(Q,"link",i),Q._p=new Promise(function(le,ge){Q.onload=le,Q.onerror=ge}),Q.addEventListener("load",function(){M.loading|=1}),Q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Bh(N,r,d)}N={type:"stylesheet",instance:N,count:1,state:M},y.set(x,N)}}}function uN(i,r){va.X(i,r);var l=Vc;if(l&&i){var d=Es(l).hoistableScripts,y=Uc(i),x=d.get(y);x||(x=l.querySelector(Fu(y)),x||(i=E({src:i,async:!0},r),(r=Os.get(y))&&og(i,r),x=l.createElement("script"),ln(x),Qn(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function dN(i,r){va.M(i,r);var l=Vc;if(l&&i){var d=Es(l).hoistableScripts,y=Uc(i),x=d.get(y);x||(x=l.querySelector(Fu(y)),x||(i=E({src:i,async:!0,type:"module"},r),(r=Os.get(y))&&og(i,r),x=l.createElement("script"),ln(x),Qn(x,"link",i),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function jx(i,r,l,d){var y=(y=Ae.current)?Uh(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=zc(l.href),l=Es(y).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=zc(l.href);var x=Es(y).hoistableStyles,N=x.get(i);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,N),(x=y.querySelector(Hu(i)))&&!x._p&&(N.instance=x,N.state.loading=5),Os.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Os.set(i,l),x||hN(y,i,l,N.state))),r&&d===null)throw Error(s(528,""));return N}if(r&&d!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Uc(l),l=Es(y).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function zc(i){return'href="'+Ut(i)+'"'}function Hu(i){return'link[rel="stylesheet"]['+i+"]"}function Lx(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function hN(i,r,l,d){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=i.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Qn(r,"link",l),ln(r),i.head.appendChild(r))}function Uc(i){return'[src="'+Ut(i)+'"]'}function Fu(i){return"script[async]"+i}function kx(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=i.querySelector('style[data-href~="'+Ut(l.href)+'"]');if(d)return r.instance=d,ln(d),d;var y=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),ln(d),Qn(d,"style",y),Bh(d,l.precedence,i),r.instance=d;case"stylesheet":y=zc(l.href);var x=i.querySelector(Hu(y));if(x)return r.state.loading|=4,r.instance=x,ln(x),x;d=Lx(l),(y=Os.get(y))&&ag(d,y),x=(i.ownerDocument||i).createElement("link"),ln(x);var N=x;return N._p=new Promise(function(M,Q){N.onload=M,N.onerror=Q}),Qn(x,"link",d),r.state.loading|=4,Bh(x,l.precedence,i),r.instance=x;case"script":return x=Uc(l.src),(y=i.querySelector(Fu(x)))?(r.instance=y,ln(y),y):(d=l,(y=Os.get(x))&&(d=E({},l),og(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),ln(y),Qn(y,"link",d),i.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Bh(d,l.precedence,i));return r.instance}function Bh(i,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,x=y,N=0;N<d.length;N++){var M=d[N];if(M.dataset.precedence===r)x=M;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function ag(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function og(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var qh=null;function Dx(i,r,l){if(qh===null){var d=new Map,y=qh=new Map;y.set(l,d)}else y=qh,d=y.get(l),d||(d=new Map,y.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var x=l[y];if(!(x[ws]||x[sn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(r)||"";N=i+N;var M=d.get(N);M?M.push(x):d.set(N,[x])}}return d}function Ox(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function fN(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Vx(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function mN(i,r,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=zc(d.href),x=r.querySelector(Hu(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Hh.bind(i),r.then(i,i)),l.state.loading|=4,l.instance=x,ln(x);return}x=r.ownerDocument||r,d=Lx(d),(y=Os.get(y))&&ag(d,y),x=x.createElement("link"),ln(x);var N=x;N._p=new Promise(function(M,Q){N.onload=M,N.onerror=Q}),Qn(x,"link",d),l.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Hh.bind(i),r.addEventListener("load",l),r.addEventListener("error",l))}}var lg=0;function pN(i,r){return i.stylesheets&&i.count===0&&Gh(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var d=setTimeout(function(){if(i.stylesheets&&Gh(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+r);0<i.imgBytes&&lg===0&&(lg=62500*Y2());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Gh(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>lg?50:800)+r);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fh=null;function Gh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fh=new Map,r.forEach(gN,i),Fh=null,Hh.call(i))}function gN(i,r){if(!(r.state.loading&4)){var l=Fh.get(i);if(l)var d=l.get(null);else{l=new Map,Fh.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var N=y[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),d=N)}d&&l.set(null,d)}y=r.instance,N=y.getAttribute("data-precedence"),x=l.get(N)||d,x===d&&l.set(null,y),l.set(N,y),this.count++,d=Hh.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),r.state.loading|=4}}var Gu={$$typeof:G,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function yN(i,r,l,d,y,x,N,M,Q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gn(0),this.hiddenUpdates=gn(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function zx(i,r,l,d,y,x,N,M,Q,le,ge,Ee){return i=new yN(i,r,l,N,Q,le,ge,Ee,M),r=1,x===!0&&(r|=24),x=li(3,null,null,r),i.current=x,x.stateNode=i,r=Bm(),r.refCount++,i.pooledCache=r,r.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:r},Gm(x),i}function Ux(i){return i?(i=ra,i):ra}function Bx(i,r,l,d,y,x){y=Ux(y),d.context===null?d.context=y:d.pendingContext=y,d=ro(r),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=ao(i,d,r),l!==null&&(Zi(l,i,r),Eu(l,i,r))}function qx(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function cg(i,r){qx(i,r),(i=i.alternate)&&qx(i,r)}function Hx(i){if(i.tag===13||i.tag===31){var r=js(i,67108864);r!==null&&Zi(r,i,67108864),cg(i,67108864)}}function Fx(i){if(i.tag===13||i.tag===31){var r=ms();r=Vn(r);var l=js(i,r);l!==null&&Zi(l,i,r),cg(i,r)}}var $h=!0;function _N(i,r,l,d){var y=W.T;W.T=null;var x=pe.p;try{pe.p=2,ug(i,r,l,d)}finally{pe.p=x,W.T=y}}function vN(i,r,l,d){var y=W.T;W.T=null;var x=pe.p;try{pe.p=8,ug(i,r,l,d)}finally{pe.p=x,W.T=y}}function ug(i,r,l,d){if($h){var y=dg(d);if(y===null)Wp(i,r,d,Zh,l),$x(i,d);else if(bN(y,i,r,l,d))d.stopPropagation();else if($x(i,d),r&4&&-1<xN.indexOf(i)){for(;y!==null;){var x=ji(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=qe(x.pendingLanes);if(N!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;N;){var Q=1<<31-$t(N);M.entanglements[1]|=Q,N&=~Q}Mr(x),(Rt&6)===0&&(Rh=Pn()+500,zu(0))}}break;case 31:case 13:M=js(x,2),M!==null&&Zi(M,x,2),Ph(),cg(x,2)}if(x=dg(d),x===null&&Wp(i,r,d,Zh,l),x===y)break;y=x}y!==null&&d.stopPropagation()}else Wp(i,r,d,null,l)}}function dg(i){return i=si(i),hg(i)}var Zh=null;function hg(i){if(Zh=null,i=ts(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=h(r),i!==null)return i;i=null}else if(l===31){if(i=_(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Zh=i,null}function Gx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qs()){case Hs:return 2;case mr:return 8;case Qi:case Wo:return 32;case Yr:return 268435456;default:return 32}default:return 32}}var fg=!1,_o=null,vo=null,xo=null,$u=new Map,Zu=new Map,bo=[],xN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $x(i,r){switch(i){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":$u.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(r.pointerId)}}function Ku(i,r,l,d,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[y]},r!==null&&(r=ji(r),r!==null&&Hx(r)),i):(i.eventSystemFlags|=d,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function bN(i,r,l,d,y){switch(r){case"focusin":return _o=Ku(_o,i,r,l,d,y),!0;case"dragenter":return vo=Ku(vo,i,r,l,d,y),!0;case"mouseover":return xo=Ku(xo,i,r,l,d,y),!0;case"pointerover":var x=y.pointerId;return $u.set(x,Ku($u.get(x)||null,i,r,l,d,y)),!0;case"gotpointercapture":return x=y.pointerId,Zu.set(x,Ku(Zu.get(x)||null,i,r,l,d,y)),!0}return!1}function Zx(i){var r=ts(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=h(l),r!==null){i.blockedOn=r,Pi(i.priority,function(){Fx(l)});return}}else if(r===31){if(r=_(l),r!==null){i.blockedOn=r,Pi(i.priority,function(){Fx(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Kh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=dg(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);Fa=d,l.target.dispatchEvent(d),Fa=null}else return r=ji(l),r!==null&&Hx(r),i.blockedOn=l,!1;r.shift()}return!0}function Kx(i,r,l){Kh(i)&&l.delete(r)}function wN(){fg=!1,_o!==null&&Kh(_o)&&(_o=null),vo!==null&&Kh(vo)&&(vo=null),xo!==null&&Kh(xo)&&(xo=null),$u.forEach(Kx),Zu.forEach(Kx)}function Yh(i,r){i.blockedOn===r&&(i.blockedOn=null,fg||(fg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wN)))}var Wh=null;function Yx(i){Wh!==i&&(Wh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wh===i&&(Wh=null);for(var r=0;r<i.length;r+=3){var l=i[r],d=i[r+1],y=i[r+2];if(typeof d!="function"){if(hg(d||l)===null)continue;break}var x=ji(l);x!==null&&(i.splice(r,3),r-=3,dp(x,{pending:!0,data:y,method:l.method,action:d},d,y))}}))}function Bc(i){function r(Q){return Yh(Q,i)}_o!==null&&Yh(_o,i),vo!==null&&Yh(vo,i),xo!==null&&Yh(xo,i),$u.forEach(r),Zu.forEach(r);for(var l=0;l<bo.length;l++){var d=bo[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<bo.length&&(l=bo[0],l.blockedOn===null);)Zx(l),l.blockedOn===null&&bo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var y=l[d],x=l[d+1],N=y[on]||null;if(typeof x=="function")N||Yx(l);else if(N){var M=null;if(x&&x.hasAttribute("formAction")){if(y=x,N=x[on]||null)M=N.formAction;else if(hg(y)!==null)continue}else M=N.action;typeof M=="function"?l[d+1]=M:(l.splice(d,3),d-=3),Yx(l)}}}function Wx(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function mg(i){this._internalRoot=i}Qh.prototype.render=mg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,d=ms();Bx(l,d,i,r,null,null)},Qh.prototype.unmount=mg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Bx(i.current,2,null,i,null,null),Ph(),r[Ji]=null}};function Qh(i){this._internalRoot=i}Qh.prototype.unstable_scheduleHydration=function(i){if(i){var r=el();i={blockedOn:null,target:i,priority:r};for(var l=0;l<bo.length&&r!==0&&r<bo[l].priority;l++);bo.splice(l,0,i),l===0&&Zx(i)}};var Qx=e.version;if(Qx!=="19.2.4")throw Error(s(527,Qx,"19.2.4"));pe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?w(i):null,i=i===null?null:i.stateNode,i};var EN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ni=Xh.inject(EN),nn=Xh}catch{}}return Wu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,d="",y=s0,x=r0,N=a0;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError)),r=zx(i,1,!1,null,null,l,d,null,y,x,N,Wx),i[Ji]=r.current,Yp(i),new mg(r)},Wu.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var d=!1,y="",x=s0,N=r0,M=a0,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(Q=l.formState)),r=zx(i,1,!0,r,l??null,d,y,Q,x,N,M,Wx),r.context=Ux(null),l=r.current,d=ms(),d=Vn(d),y=ro(d),y.callback=null,ao(l,y,d),l=d,r.current.lanes=l,On(r,l),Mr(r),i[Ji]=r.current,Yp(i),new Qh(r)},Wu.version="19.2.4",Wu}var ob;function MN(){if(ob)return yg.exports;ob=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yg.exports=PN(),yg.exports}var jN=MN();var lb="popstate";function LN(n={}){function e(o,c){let{pathname:h="/",search:_="",hash:p=""}=Jl(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ty("",{pathname:h,search:_,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let h=o.document.querySelector("base"),_="";if(h&&h.getAttribute("href")){let p=o.location.href,v=p.indexOf("#");_=v===-1?p:p.slice(0,v)}return _+"#"+(typeof c=="string"?c:_d(c))}function s(o,c){_s(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return DN(e,t,s,n)}function tn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _s(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kN(){return Math.random().toString(36).substring(2,10)}function cb(n,e){return{usr:n.state,key:n.key,idx:e}}function ty(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Jl(e):e,state:t,key:e&&e.key||s||kN()}}function _d({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Jl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function DN(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,_="POP",p=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function E(){_="POP";let k=w(),V=k==null?null:k-v;v=k,p&&p({action:_,location:z.location,delta:V})}function C(k,V){_="PUSH";let B=ty(z.location,k,V);t&&t(B,k),v=w()+1;let G=cb(B,v),ne=z.createHref(B);try{h.pushState(G,"",ne)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(ne)}c&&p&&p({action:_,location:z.location,delta:1})}function R(k,V){_="REPLACE";let B=ty(z.location,k,V);t&&t(B,k),v=w();let G=cb(B,v),ne=z.createHref(B);h.replaceState(G,"",ne),c&&p&&p({action:_,location:z.location,delta:0})}function j(k){return ON(k)}let z={get action(){return _},get location(){return n(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(lb,E),p=k,()=>{o.removeEventListener(lb,E),p=null}},createHref(k){return e(o,k)},createURL:j,encodeLocation(k){let V=j(k);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:C,replace:R,go(k){return h.go(k)}};return z}function ON(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tn(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:_d(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function p1(n,e,t="/"){return VN(n,e,t,!1)}function VN(n,e,t,s){let o=typeof e=="string"?Jl(e):e,c=Aa(o.pathname||"/",t);if(c==null)return null;let h=g1(n);zN(h);let _=null;for(let p=0;_==null&&p<h.length;++p){let v=WN(c);_=KN(h[p],v,s)}return _}function g1(n,e=[],t=[],s="",o=!1){let c=(h,_,p=o,v)=>{let w={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:_,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&p)return;tn(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let E=Na([s,w.relativePath]),C=t.concat(w);h.children&&h.children.length>0&&(tn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),g1(h.children,e,C,E,p)),!(h.path==null&&!h.index)&&e.push({path:E,score:$N(E,h.index),routesMeta:C})};return n.forEach((h,_)=>{if(h.path===""||!h.path?.includes("?"))c(h,_);else for(let p of y1(h.path))c(h,_,!0,p)}),e}function y1(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=y1(s.join("/")),_=[];return _.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&_.push(...h),_.map(p=>n.startsWith("/")&&p===""?"/":p)}function zN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ZN(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var UN=/^:[\w-]+$/,BN=3,qN=2,HN=1,FN=10,GN=-2,ub=n=>n==="*";function $N(n,e){let t=n.split("/"),s=t.length;return t.some(ub)&&(s+=GN),e&&(s+=qN),t.filter(o=>!ub(o)).reduce((o,c)=>o+(UN.test(c)?BN:c===""?HN:FN),s)}function ZN(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function KN(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",h=[];for(let _=0;_<s.length;++_){let p=s[_],v=_===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",E=Sf({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},w),C=p.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=Sf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:Na([c,E.pathname]),pathnameBase:eA(Na([c,E.pathnameBase])),route:C}),E.pathnameBase!=="/"&&(c=Na([c,E.pathnameBase]))}return h}function Sf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=YN(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),_=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:E},C)=>{if(w==="*"){let j=_[C]||"";h=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const R=_[C];return E&&!R?v[w]=void 0:v[w]=(R||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:n}}function YN(n,e=!1,t=!0){_s(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,_,p)=>(s.push({paramName:_,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function WN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _s(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Aa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var QN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function XN(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Jl(n):n,c;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?c=db(t.substring(1),"/"):c=db(t,e)):c=e,{pathname:c,search:tA(s),hash:nA(o)}}function db(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function bg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function By(n){let e=JN(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function qy(n,e,t,s=!1){let o;typeof n=="string"?o=Jl(n):(o={...n},tn(!o.pathname||!o.pathname.includes("?"),bg("?","pathname","search",o)),tn(!o.pathname||!o.pathname.includes("#"),bg("#","pathname","hash",o)),tn(!o.search||!o.search.includes("#"),bg("#","search","hash",o)));let c=n===""||o.pathname==="",h=c?"/":o.pathname,_;if(h==null)_=t;else{let E=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),E-=1;o.pathname=C.join("/")}_=E>=0?e[E]:"/"}let p=XN(o,_),v=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||w)&&(p.pathname+="/"),p}var Na=n=>n.join("/").replace(/\/\/+/g,"/"),eA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,iA=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function sA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function rA(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function v1(n,e){let t=n;if(typeof t!="string"||!QN.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(_1)try{let c=new URL(window.location.href),h=t.startsWith("//")?new URL(c.protocol+t):new URL(t),_=Aa(h.pathname,e);h.origin===c.origin&&_!=null?t=_+h.search+h.hash:o=!0}catch{_s(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x1=["POST","PUT","PATCH","DELETE"];new Set(x1);var aA=["GET",...x1];new Set(aA);var su=D.createContext(null);su.displayName="DataRouter";var im=D.createContext(null);im.displayName="DataRouterState";var oA=D.createContext(!1),b1=D.createContext({isTransitioning:!1});b1.displayName="ViewTransition";var lA=D.createContext(new Map);lA.displayName="Fetchers";var cA=D.createContext(null);cA.displayName="Await";var vs=D.createContext(null);vs.displayName="Navigation";var Pd=D.createContext(null);Pd.displayName="Location";var hr=D.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Hy=D.createContext(null);Hy.displayName="RouteError";var w1="REACT_ROUTER_ERROR",uA="REDIRECT",dA="ROUTE_ERROR_RESPONSE";function hA(n){if(n.startsWith(`${w1}:${uA}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fA(n){if(n.startsWith(`${w1}:${dA}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new iA(e.status,e.statusText,e.data)}catch{}}function mA(n,{relative:e}={}){tn(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=D.useContext(vs),{hash:o,pathname:c,search:h}=Md(n,{relative:e}),_=c;return t!=="/"&&(_=c==="/"?t:Na([t,c])),s.createHref({pathname:_,search:h,hash:o})}function ru(){return D.useContext(Pd)!=null}function Bs(){return tn(ru(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Pd).location}var E1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T1(n){D.useContext(vs).static||D.useLayoutEffect(n)}function Fo(){let{isDataRoute:n}=D.useContext(hr);return n?AA():pA()}function pA(){tn(ru(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(su),{basename:e,navigator:t}=D.useContext(vs),{matches:s}=D.useContext(hr),{pathname:o}=Bs(),c=JSON.stringify(By(s)),h=D.useRef(!1);return T1(()=>{h.current=!0}),D.useCallback((p,v={})=>{if(_s(h.current,E1),!h.current)return;if(typeof p=="number"){t.go(p);return}let w=qy(p,JSON.parse(c),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Na([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,c,o,n])}D.createContext(null);function S1(){let{matches:n}=D.useContext(hr),e=n[n.length-1];return e?e.params:{}}function Md(n,{relative:e}={}){let{matches:t}=D.useContext(hr),{pathname:s}=Bs(),o=JSON.stringify(By(t));return D.useMemo(()=>qy(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function gA(n,e){return N1(n,e)}function N1(n,e,t,s,o){tn(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(vs),{matches:h}=D.useContext(hr),_=h[h.length-1],p=_?_.params:{},v=_?_.pathname:"/",w=_?_.pathnameBase:"/",E=_&&_.route;{let B=E&&E.path||"";C1(v,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let C=Bs(),R;if(e){let B=typeof e=="string"?Jl(e):e;tn(w==="/"||B.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=C;let j=R.pathname||"/",z=j;if(w!=="/"){let B=w.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=p1(n,{pathname:z});_s(E||k!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),_s(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=bA(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Na([w,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?w:Na([w,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,t,s,o);return e&&V?D.createElement(Pd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},V):V}function yA(){let n=NA(),e=sA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:o},t):null,h)}var _A=D.createElement(yA,null),A1=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=fA(n.digest);t&&(n=t)}let e=n!==void 0?D.createElement(hr.Provider,{value:this.props.routeContext},D.createElement(Hy.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?D.createElement(vA,{error:n},e):e}};A1.contextType=oA;var wg=new WeakMap;function vA({children:n,error:e}){let{basename:t}=D.useContext(vs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=hA(e.digest);if(s){let o=wg.get(e);if(o)throw o;let c=v1(s.location,t);if(_1&&!wg.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw wg.set(e,h),h}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function xA({routeContext:n,match:e,children:t}){let s=D.useContext(su);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(hr.Provider,{value:n},t)}function bA(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,h=t?.errors;if(h!=null){let w=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);tn(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,w+1))}let _=!1,p=-1;if(t)for(let w=0;w<c.length;w++){let E=c[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=w),E.route.id){let{loaderData:C,errors:R}=t,j=E.route.loader&&!C.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||j){_=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let v=t&&s?(w,E)=>{s(w,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:rA(t.matches),errorInfo:E})}:void 0;return c.reduceRight((w,E,C)=>{let R,j=!1,z=null,k=null;t&&(R=h&&E.route.id?h[E.route.id]:void 0,z=E.route.errorElement||_A,_&&(p<0&&C===0?(C1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):p===C&&(j=!0,k=E.route.hydrateFallbackElement||null)));let V=e.concat(c.slice(0,C+1)),B=()=>{let G;return R?G=z:j?G=k:E.route.Component?G=D.createElement(E.route.Component,null):E.route.element?G=E.route.element:G=w,D.createElement(xA,{match:E,routeContext:{outlet:w,matches:V,isDataRoute:t!=null},children:G})};return t&&(E.route.ErrorBoundary||E.route.errorElement||C===0)?D.createElement(A1,{location:t.location,revalidation:t.revalidation,component:z,error:R,children:B(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:v}):B()},null)}function Fy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wA(n){let e=D.useContext(su);return tn(e,Fy(n)),e}function EA(n){let e=D.useContext(im);return tn(e,Fy(n)),e}function TA(n){let e=D.useContext(hr);return tn(e,Fy(n)),e}function Gy(n){let e=TA(n),t=e.matches[e.matches.length-1];return tn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function SA(){return Gy("useRouteId")}function NA(){let n=D.useContext(Hy),e=EA("useRouteError"),t=Gy("useRouteError");return n!==void 0?n:e.errors?.[t]}function AA(){let{router:n}=wA("useNavigate"),e=Gy("useNavigate"),t=D.useRef(!1);return T1(()=>{t.current=!0}),D.useCallback(async(o,c={})=>{_s(t.current,E1),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var hb={};function C1(n,e,t){!e&&!hb[n]&&(hb[n]=!0,_s(!1,t))}D.memo(CA);function CA({routes:n,future:e,state:t,onError:s}){return N1(n,void 0,t,s,e)}function Eg({to:n,replace:e,state:t,relative:s}){tn(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(vs);_s(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(hr),{pathname:h}=Bs(),_=Fo(),p=qy(n,By(c),h,s==="path"),v=JSON.stringify(p);return D.useEffect(()=>{_(JSON.parse(v),{replace:e,state:t,relative:s})},[_,v,s,e,t]),null}function di(n){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RA({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){tn(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=n.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:_,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[_,o,c,h]);typeof t=="string"&&(t=Jl(t));let{pathname:v="/",search:w="",hash:E="",state:C=null,key:R="default"}=t,j=D.useMemo(()=>{let z=Aa(v,_);return z==null?null:{location:{pathname:z,search:w,hash:E,state:C,key:R},navigationType:s}},[_,v,w,E,C,R,s]);return _s(j!=null,`<Router basename="${_}"> is not able to match the URL "${v}${w}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:D.createElement(vs.Provider,{value:p},D.createElement(Pd.Provider,{children:e,value:j}))}function IA({children:n,location:e}){return gA(ny(n),e)}function ny(n,e=[]){let t=[];return D.Children.forEach(n,(s,o)=>{if(!D.isValidElement(s))return;let c=[...e,o];if(s.type===D.Fragment){t.push.apply(t,ny(s.props.children,c));return}tn(s.type===di,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ny(s.props.children,c)),t.push(h)}),t}var df="get",hf="application/x-www-form-urlencoded";function sm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function PA(n){return sm(n)&&n.tagName.toLowerCase()==="button"}function MA(n){return sm(n)&&n.tagName.toLowerCase()==="form"}function jA(n){return sm(n)&&n.tagName.toLowerCase()==="input"}function LA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kA(n,e){return n.button===0&&(!e||e==="_self")&&!LA(n)}function iy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function DA(n,e){let t=iy(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var Jh=null;function OA(){if(Jh===null)try{new FormData(document.createElement("form"),0),Jh=!1}catch{Jh=!0}return Jh}var VA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(n){return n!=null&&!VA.has(n)?(_s(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hf}"`),null):n}function zA(n,e){let t,s,o,c,h;if(MA(n)){let _=n.getAttribute("action");s=_?Aa(_,e):null,t=n.getAttribute("method")||df,o=Tg(n.getAttribute("enctype"))||hf,c=new FormData(n)}else if(PA(n)||jA(n)&&(n.type==="submit"||n.type==="image")){let _=n.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||_.getAttribute("action");if(s=p?Aa(p,e):null,t=n.getAttribute("formmethod")||_.getAttribute("method")||df,o=Tg(n.getAttribute("formenctype"))||Tg(_.getAttribute("enctype"))||hf,c=new FormData(_,n),!OA()){let{name:v,type:w,value:E}=n;if(w==="image"){let C=v?`${v}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else v&&c.append(v,E)}}else{if(sm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=df,s=null,o=hf,h=n}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function UA(n,e,t,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Aa(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function BA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function HA(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await BA(c,t);return h.links?h.links():[]}return[]}));return ZA(s.flat(1).filter(qA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fb(n,e,t,s,o,c){let h=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,_=(p,v)=>t[v].pathname!==p.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,v)=>h(p,v)||_(p,v)):c==="data"?e.filter((p,v)=>{let w=s.routes[p.route.id];if(!w||!w.hasLoader)return!1;if(h(p,v)||_(p,v))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function FA(n,e,{includeHydrateFallback:t}={}){return GA(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function GA(n){return[...new Set(n)]}function $A(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function ZA(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify($A(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function R1(){let n=D.useContext(su);return $y(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function KA(){let n=D.useContext(im);return $y(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Zy=D.createContext(void 0);Zy.displayName="FrameworkContext";function I1(){let n=D.useContext(Zy);return $y(n,"You must render this element inside a <HydratedRouter> element"),n}function YA(n,e){let t=D.useContext(Zy),[s,o]=D.useState(!1),[c,h]=D.useState(!1),{onFocus:_,onBlur:p,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,C=D.useRef(null);D.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let z=V=>{V.forEach(B=>{h(B.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return C.current&&k.observe(C.current),()=>{k.disconnect()}}},[n]),D.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let R=()=>{o(!0)},j=()=>{o(!1),h(!1)};return t?n!=="intent"?[c,C,{}]:[c,C,{onFocus:Qu(_,R),onBlur:Qu(p,j),onMouseEnter:Qu(v,R),onMouseLeave:Qu(w,j),onTouchStart:Qu(E,R)}]:[!1,C,{}]}function Qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function WA({page:n,...e}){let{router:t}=R1(),s=D.useMemo(()=>p1(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?D.createElement(XA,{page:n,matches:s,...e}):null}function QA(n){let{manifest:e,routeModules:t}=I1(),[s,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return HA(n,e,t).then(h=>{c||o(h)}),()=>{c=!0}},[n,e,t]),s}function XA({page:n,matches:e,...t}){let s=Bs(),{future:o,manifest:c,routeModules:h}=I1(),{basename:_}=R1(),{loaderData:p,matches:v}=KA(),w=D.useMemo(()=>fb(n,e,v,c,s,"data"),[n,e,v,c,s]),E=D.useMemo(()=>fb(n,e,v,c,s,"assets"),[n,e,v,c,s]),C=D.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let z=new Set,k=!1;if(e.forEach(B=>{let G=c.routes[B.route.id];!G||!G.hasLoader||(!w.some(ne=>ne.route.id===B.route.id)&&B.route.id in p&&h[B.route.id]?.shouldRevalidate||G.hasClientLoader?k=!0:z.add(B.route.id))}),z.size===0)return[];let V=UA(n,_,o.unstable_trailingSlashAwareDataRequests,"data");return k&&z.size>0&&V.searchParams.set("_routes",e.filter(B=>z.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[_,o.unstable_trailingSlashAwareDataRequests,p,s,c,w,e,n,h]),R=D.useMemo(()=>FA(E,c),[E,c]),j=QA(E);return D.createElement(D.Fragment,null,C.map(z=>D.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),R.map(z=>D.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),j.map(({key:z,link:k})=>D.createElement("link",{key:z,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function JA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var eC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eC&&(window.__reactRouterVersion="7.13.0")}catch{}function tC({basename:n,children:e,unstable_useTransitions:t,window:s}){let o=D.useRef();o.current==null&&(o.current=LN({window:s,v5Compat:!0}));let c=o.current,[h,_]=D.useState({action:c.action,location:c.location}),p=D.useCallback(v=>{t===!1?_(v):D.startTransition(()=>_(v))},[t]);return D.useLayoutEffect(()=>c.listen(p),[c,p]),D.createElement(RA,{basename:n,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:t})}var P1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=D.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:_,target:p,to:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:C,...R},j){let{basename:z,unstable_useTransitions:k}=D.useContext(vs),V=typeof v=="string"&&P1.test(v),B=v1(v,z);v=B.to;let G=mA(v,{relative:o}),[ne,te,_e]=YA(s,R),H=rC(v,{replace:h,state:_,target:p,preventScrollReset:w,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:C,unstable_useTransitions:k});function I($){e&&e($),$.defaultPrevented||H($)}let Z=D.createElement("a",{...R,..._e,href:B.absoluteURL||G,onClick:B.isExternal||c?e:I,ref:JA(j,te),target:p,"data-discover":!V&&t==="render"?"true":void 0});return ne&&!V?D.createElement(D.Fragment,null,Z,D.createElement(WA,{page:G})):Z});gt.displayName="Link";var nC=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:_,children:p,...v},w){let E=Md(h,{relative:v.relative}),C=Bs(),R=D.useContext(im),{navigator:j,basename:z}=D.useContext(vs),k=R!=null&&dC(E)&&_===!0,V=j.encodeLocation?j.encodeLocation(E).pathname:E.pathname,B=C.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(B=B.toLowerCase(),G=G?G.toLowerCase():null,V=V.toLowerCase()),G&&z&&(G=Aa(G,z)||G);const ne=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let te=B===V||!o&&B.startsWith(V)&&B.charAt(ne)==="/",_e=G!=null&&(G===V||!o&&G.startsWith(V)&&G.charAt(V.length)==="/"),H={isActive:te,isPending:_e,isTransitioning:k},I=te?e:void 0,Z;typeof s=="function"?Z=s(H):Z=[s,te?"active":null,_e?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let $=typeof c=="function"?c(H):c;return D.createElement(gt,{...v,"aria-current":I,className:Z,ref:w,style:$,to:h,viewTransition:_},typeof p=="function"?p(H):p)});nC.displayName="NavLink";var iC=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:h=df,action:_,onSubmit:p,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:C,...R},j)=>{let{unstable_useTransitions:z}=D.useContext(vs),k=cC(),V=uC(_,{relative:v}),B=h.toLowerCase()==="get"?"get":"post",G=typeof _=="string"&&P1.test(_),ne=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let _e=te.nativeEvent.submitter,H=_e?.getAttribute("formmethod")||h,I=()=>k(_e||te.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:o,state:c,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:C});z&&t!==!1?D.startTransition(()=>I()):I()};return D.createElement("form",{ref:j,method:B,action:V,onSubmit:s?p:ne,...R,"data-discover":!G&&n==="render"?"true":void 0})});iC.displayName="Form";function sC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M1(n){let e=D.useContext(su);return tn(e,sC(n)),e}function rC(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:_,unstable_useTransitions:p}={}){let v=Fo(),w=Bs(),E=Md(n,{relative:c});return D.useCallback(C=>{if(kA(C,e)){C.preventDefault();let R=t!==void 0?t:_d(w)===_d(E),j=()=>v(n,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:_});p?D.startTransition(()=>j()):j()}},[w,v,E,t,s,e,n,o,c,h,_,p])}function aC(n){_s(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(iy(n)),t=D.useRef(!1),s=Bs(),o=D.useMemo(()=>DA(s.search,t.current?null:e.current),[s.search]),c=Fo(),h=D.useCallback((_,p)=>{const v=iy(typeof _=="function"?_(new URLSearchParams(o)):_);t.current=!0,c("?"+v,p)},[c,o]);return[o,h]}var oC=0,lC=()=>`__${String(++oC)}__`;function cC(){let{router:n}=M1("useSubmit"),{basename:e}=D.useContext(vs),t=SA(),s=n.fetch,o=n.navigate;return D.useCallback(async(c,h={})=>{let{action:_,method:p,encType:v,formData:w,body:E}=zA(c,e);if(h.navigate===!1){let C=h.fetcherKey||lC();await s(C,t,h.action||_,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:E,formMethod:h.method||p,formEncType:h.encType||v,flushSync:h.flushSync})}else await o(h.action||_,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:E,formMethod:h.method||p,formEncType:h.encType||v,replace:h.replace,state:h.state,fromRouteId:t,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,t])}function uC(n,{relative:e}={}){let{basename:t}=D.useContext(vs),s=D.useContext(hr);tn(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Md(n||".",{relative:e})},h=Bs();if(n==null){c.search=h.search;let _=new URLSearchParams(c.search),p=_.getAll("index");if(p.some(w=>w==="")){_.delete("index"),p.filter(E=>E).forEach(E=>_.append("index",E));let w=_.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Na([t,c.pathname])),_d(c)}function dC(n,{relative:e}={}){let t=D.useContext(b1);tn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=M1("useViewTransitionState"),o=Md(n,{relative:e});if(!t.isTransitioning)return!1;let c=Aa(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Aa(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Sf(o.pathname,h)!=null||Sf(o.pathname,c)!=null}m1();const hC=()=>{};var mb={};const j1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},fC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],h=n[t++],_=n[t++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|_&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=n[t++],h=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},L1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],h=o+1<n.length,_=h?n[o+1]:0,p=o+2<n.length,v=p?n[o+2]:0,w=c>>2,E=(c&3)<<4|_>>4;let C=(_&15)<<2|v>>6,R=v&63;p||(R=64,h||(C=64)),s.push(t[w],t[E],t[C],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(j1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],_=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||_==null||v==null||E==null)throw new mC;const C=c<<2|_>>4;if(s.push(C),v!==64){const R=_<<4&240|v>>2;if(s.push(R),E!==64){const j=v<<6&192|E;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pC=function(n){const e=j1(n);return L1.encodeByteArray(e,!0)},Nf=function(n){return pC(n).replace(/\./g,"")},k1=function(n){try{return L1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const yC=()=>gC().__FIREBASE_DEFAULTS__,_C=()=>{if(typeof process>"u"||typeof mb>"u")return;const n=mb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&k1(n[1]);return e&&JSON.parse(e)},rm=()=>{try{return hC()||yC()||_C()||vC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},D1=n=>rm()?.emulatorHosts?.[n],O1=n=>{const e=D1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},V1=()=>rm()?.config,z1=n=>rm()?.[`_${n}`];class xC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Go(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ky(n){return(await fetch(n,{credentials:"include"})).ok}function U1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Nf(JSON.stringify(t)),Nf(JSON.stringify(h)),""].join(".")}const ld={};function bC(){const n={prod:[],emulator:[]};for(const e of Object.keys(ld))ld[e]?n.emulator.push(e):n.prod.push(e);return n}function wC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let pb=!1;function Yy(n,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||ld[n]===e||ld[n]||pb)return;ld[n]=e;function t(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=bC().prod.length>0;function h(){const C=document.getElementById(s);C&&C.remove()}function _(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,R){C.setAttribute("width","24"),C.setAttribute("id",R),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{pb=!0,h()},C}function w(C,R){C.setAttribute("id",R),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function E(){const C=wC(s),R=t("text"),j=document.getElementById(R)||document.createElement("span"),z=t("learnmore"),k=document.getElementById(z)||document.createElement("a"),V=t("preprendIcon"),B=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const G=C.element;_(G),w(k,z);const ne=v();p(B,V),G.append(B,j,k,ne),document.body.appendChild(G)}c?(j.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function pi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pi())}function TC(){const n=rm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CC(){const n=pi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RC(){return!TC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IC(){try{return typeof indexedDB=="object"}catch{return!1}}function PC(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const MC="FirebaseError";class Zr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=MC,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jd.prototype.create)}}class jd{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?jC(c,s):"Error",_=`${this.serviceName}: ${h} (${o}).`;return new Zr(o,_,s)}}function jC(n,e){return n.replace(LC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const LC=/\{\$([^}]+)}/g;function kC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ql(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],h=e[o];if(gb(c)&&gb(h)){if(!ql(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function gb(n){return n!==null&&typeof n=="object"}function Ld(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function td(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function nd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function DC(n,e){const t=new OC(n,e);return t.subscribe.bind(t)}class OC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");VC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Sg),o.error===void 0&&(o.error=Sg),o.complete===void 0&&(o.complete=Sg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sg(){}function Dt(n){return n&&n._delegate?n._delegate:n}class Oo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ll="[DEFAULT]";class zC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new xC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BC(e))try{this.getOrInitializeService({instanceIdentifier:Ll})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ll){return this.instances.has(e)}getOptions(e=Ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,h]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ll){return this.component?this.component.multipleInstances?e:Ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UC(n){return n===Ll?void 0:n}function BC(n){return n.instantiationMode==="EAGER"}class qC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var yt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(yt||(yt={}));const HC={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},FC=yt.INFO,GC={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},$C=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=GC[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wy{constructor(e){this.name=e,this._logLevel=FC,this._logHandler=$C,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const ZC=(n,e)=>e.some(t=>n instanceof t);let yb,_b;function KC(){return yb||(yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YC(){return _b||(_b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B1=new WeakMap,sy=new WeakMap,q1=new WeakMap,Ng=new WeakMap,Qy=new WeakMap;function WC(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",h)},c=()=>{t(Mo(n.result)),o()},h=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&B1.set(t,n)}).catch(()=>{}),Qy.set(e,n),e}function QC(n){if(sy.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",h),n.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",h),n.addEventListener("abort",h)});sy.set(n,e)}let ry={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||q1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XC(n){ry=n(ry)}function JC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Ag(this),e,...t);return q1.set(s,e.sort?e.sort():[e]),Mo(s)}:YC().includes(n)?function(...e){return n.apply(Ag(this),e),Mo(B1.get(this))}:function(...e){return Mo(n.apply(Ag(this),e))}}function eR(n){return typeof n=="function"?JC(n):(n instanceof IDBTransaction&&QC(n),ZC(n,KC())?new Proxy(n,ry):n)}function Mo(n){if(n instanceof IDBRequest)return WC(n);if(Ng.has(n))return Ng.get(n);const e=eR(n);return e!==n&&(Ng.set(n,e),Qy.set(e,n)),e}const Ag=n=>Qy.get(n);function tR(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(n,e),_=Mo(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Mo(h.result),p.oldVersion,p.newVersion,Mo(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),_.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),_}const nR=["get","getKey","getAll","getAllKeys","count"],iR=["put","add","delete","clear"],Cg=new Map;function vb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=iR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nR.includes(t)))return;const c=async function(h,..._){const p=this.transaction(h,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(_.shift())),(await Promise.all([v[t](..._),o&&p.done]))[0]};return Cg.set(e,c),c}XC(n=>({...n,get:(e,t,s)=>vb(e,t)||n.get(e,t,s),has:(e,t)=>!!vb(e,t)||n.has(e,t)}));class sR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function rR(n){return n.getComponent()?.type==="VERSION"}const ay="@firebase/app",xb="0.14.8";const Ca=new Wy("@firebase/app"),aR="@firebase/app-compat",oR="@firebase/analytics-compat",lR="@firebase/analytics",cR="@firebase/app-check-compat",uR="@firebase/app-check",dR="@firebase/auth",hR="@firebase/auth-compat",fR="@firebase/database",mR="@firebase/data-connect",pR="@firebase/database-compat",gR="@firebase/functions",yR="@firebase/functions-compat",_R="@firebase/installations",vR="@firebase/installations-compat",xR="@firebase/messaging",bR="@firebase/messaging-compat",wR="@firebase/performance",ER="@firebase/performance-compat",TR="@firebase/remote-config",SR="@firebase/remote-config-compat",NR="@firebase/storage",AR="@firebase/storage-compat",CR="@firebase/firestore",RR="@firebase/ai",IR="@firebase/firestore-compat",PR="firebase",MR="12.9.0";const oy="[DEFAULT]",jR={[ay]:"fire-core",[aR]:"fire-core-compat",[lR]:"fire-analytics",[oR]:"fire-analytics-compat",[uR]:"fire-app-check",[cR]:"fire-app-check-compat",[dR]:"fire-auth",[hR]:"fire-auth-compat",[fR]:"fire-rtdb",[mR]:"fire-data-connect",[pR]:"fire-rtdb-compat",[gR]:"fire-fn",[yR]:"fire-fn-compat",[_R]:"fire-iid",[vR]:"fire-iid-compat",[xR]:"fire-fcm",[bR]:"fire-fcm-compat",[wR]:"fire-perf",[ER]:"fire-perf-compat",[TR]:"fire-rc",[SR]:"fire-rc-compat",[NR]:"fire-gcs",[AR]:"fire-gcs-compat",[CR]:"fire-fst",[IR]:"fire-fst-compat",[RR]:"fire-vertex","fire-js":"fire-js",[PR]:"fire-js-all"};const Af=new Map,LR=new Map,ly=new Map;function bb(n,e){try{n.container.addComponent(e)}catch(t){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hl(n){const e=n.name;if(ly.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;ly.set(e,n);for(const t of Af.values())bb(t,n);for(const t of LR.values())bb(t,n);return!0}function am(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ei(n){return n==null?!1:n.settings!==void 0}const kR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jo=new jd("app","Firebase",kR);class DR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}}const ec=MR;function H1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:oy,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw jo.create("bad-app-name",{appName:String(o)});if(t||(t=V1()),!t)throw jo.create("no-options");const c=Af.get(o);if(c){if(ql(t,c.options)&&ql(s,c.config))return c;throw jo.create("duplicate-app",{appName:o})}const h=new qC(o);for(const p of ly.values())h.addComponent(p);const _=new DR(t,s,h);return Af.set(o,_),_}function Xy(n=oy){const e=Af.get(n);if(!e&&n===oy&&V1())return H1();if(!e)throw jo.create("no-app",{appName:n});return e}function Vr(n,e,t){let s=jR[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(h.join(" "));return}Hl(new Oo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const OR="firebase-heartbeat-database",VR=1,vd="firebase-heartbeat-store";let Rg=null;function F1(){return Rg||(Rg=tR(OR,VR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vd)}catch(t){console.warn(t)}}}}).catch(n=>{throw jo.create("idb-open",{originalErrorMessage:n.message})})),Rg}async function zR(n){try{const t=(await F1()).transaction(vd),s=await t.objectStore(vd).get(G1(n));return await t.done,s}catch(e){if(e instanceof Zr)Ca.warn(e.message);else{const t=jo.create("idb-get",{originalErrorMessage:e?.message});Ca.warn(t.message)}}}async function wb(n,e){try{const s=(await F1()).transaction(vd,"readwrite");await s.objectStore(vd).put(e,G1(n)),await s.done}catch(t){if(t instanceof Zr)Ca.warn(t.message);else{const s=jo.create("idb-set",{originalErrorMessage:t?.message});Ca.warn(s.message)}}}function G1(n){return`${n.name}!${n.options.appId}`}const UR=1024,BR=30;class qR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Eb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>BR){const o=GR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ca.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Eb(),{heartbeatsToSend:t,unsentEntries:s}=HR(this._heartbeatsCache.heartbeats),o=Nf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ca.warn(e),""}}}function Eb(){return new Date().toISOString().substring(0,10)}function HR(n,e=UR){const t=[];let s=n.slice();for(const o of n){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Tb(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Tb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class FR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IC()?PC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Tb(n){return Nf(JSON.stringify({version:2,heartbeats:n})).length}function GR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function $R(n){Hl(new Oo("platform-logger",e=>new sR(e),"PRIVATE")),Hl(new Oo("heartbeat",e=>new qR(e),"PRIVATE")),Vr(ay,xb,n),Vr(ay,xb,"esm2020"),Vr("fire-js","")}$R("");var ZR="firebase",KR="12.9.0";Vr(ZR,KR,"app");function $1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YR=$1,Z1=new jd("auth","Firebase",$1());const Cf=new Wy("@firebase/auth");function WR(n,...e){Cf.logLevel<=yt.WARN&&Cf.warn(`Auth (${ec}): ${n}`,...e)}function ff(n,...e){Cf.logLevel<=yt.ERROR&&Cf.error(`Auth (${ec}): ${n}`,...e)}function Us(n,...e){throw e_(n,...e)}function lr(n,...e){return e_(n,...e)}function Jy(n,e,t){const s={...YR(),[e]:t};return new jd("auth","Firebase",s).create(e,{appName:n.name})}function zr(n){return Jy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QR(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Us(n,"argument-error"),Jy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e_(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Z1.create(n,...e)}function Ye(n,e,...t){if(!n)throw e_(e,...t)}function Ta(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ff(e),new Error(e)}function Ra(n,e){n||Ta(e)}function cy(){return typeof self<"u"&&self.location?.href||""}function XR(){return Sb()==="http:"||Sb()==="https:"}function Sb(){return typeof self<"u"&&self.location?.protocol||null}function JR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XR()||NC()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class kd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ra(t>e,"Short delay should be less than long delay!"),this.isMobile=EC()||AC()}get(){return JR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function t_(n,e){Ra(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class K1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iI=new kd(3e4,6e4);function La(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function fr(n,e,t,s,o={}){return Y1(n,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const _=Ld({key:n.config.apiKey,...h}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:p,...c};return SC()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Go(n.emulatorConfig.host)&&(v.credentials="include"),K1.fetch()(await W1(n,n.config.apiHost,t,_),v)})}async function Y1(n,e,t){n._canInitEmulator=!1;const s={...tI,...e};try{const o=new rI(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw ef(n,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const _=c.ok?h.errorMessage:h.error.message,[p,v]=_.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ef(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw ef(n,"user-disabled",h);const w=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Jy(n,w,v);Us(n,w)}}catch(o){if(o instanceof Zr)throw o;Us(n,"network-request-failed",{message:String(o)})}}async function Dd(n,e,t,s,o={}){const c=await fr(n,e,t,s,o);return"mfaPendingCredential"in c&&Us(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function W1(n,e,t,s){const o=`${e}${t}?${s}`,c=n,h=c.config.emulator?t_(n.config,o):`${n.config.apiScheme}://${o}`;return nI.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function sI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(lr(this.auth,"network-request-failed")),iI.get())})}}function ef(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=lr(n,e,s);return o.customData._tokenResponse=t,o}function Nb(n){return n!==void 0&&n.enterprise!==void 0}class aI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oI(n,e){return fr(n,"GET","/v2/recaptchaConfig",La(n,e))}async function lI(n,e){return fr(n,"POST","/v1/accounts:delete",e)}async function Rf(n,e){return fr(n,"POST","/v1/accounts:lookup",e)}function cd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cI(n,e=!1){const t=Dt(n),s=await t.getIdToken(e),o=n_(s);Ye(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:cd(Ig(o.auth_time)),issuedAtTime:cd(Ig(o.iat)),expirationTime:cd(Ig(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ig(n){return Number(n)*1e3}function n_(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const o=k1(t);return o?JSON.parse(o):(ff("Failed to decode base64 JWT payload"),null)}catch(o){return ff("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ab(n){const e=n_(n);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Zr&&uI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function uI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class dI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class uy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function If(n){const e=n.auth,t=await n.getIdToken(),s=await Fl(n,Rf(e,{idToken:t}));Ye(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?Q1(o.providerUserInfo):[],h=fI(n.providerData,c),_=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!h?.length,v=_?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new uy(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function hI(n){const e=Dt(n);await If(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Q1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function mI(n,e){const t=await Y1(n,{},async()=>{const s=Ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,h=await W1(n,o,"/v1/token",`key=${c}`),_=await n._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:_,body:s};return n.emulatorConfig&&Go(n.emulatorConfig.host)&&(p.credentials="include"),K1.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pI(n,e){return fr(n,"POST","/v2/accounts:revokeToken",La(n,e))}class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ab(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const t=Ab(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await mI(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,h=new $c;return s&&(Ye(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ye(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ye(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return Ta("not implemented")}}function Eo(n,e){Ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class or{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new dI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cI(this,e)}reload(){return hI(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await If(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(zr(this.auth));const e=await this.getIdToken();return await Fl(this,lI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,_=t.tenantId??void 0,p=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:C,isAnonymous:R,providerData:j,stsTokenManager:z}=t;Ye(E&&z,e,"internal-error");const k=$c.fromJSON(this.name,z);Ye(typeof E=="string",e,"internal-error"),Eo(s,e.name),Eo(o,e.name),Ye(typeof C=="boolean",e,"internal-error"),Ye(typeof R=="boolean",e,"internal-error"),Eo(c,e.name),Eo(h,e.name),Eo(_,e.name),Eo(p,e.name),Eo(v,e.name),Eo(w,e.name);const V=new or({uid:E,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:R,photoURL:h,phoneNumber:c,tenantId:_,stsTokenManager:k,createdAt:v,lastLoginAt:w});return j&&Array.isArray(j)&&(V.providerData=j.map(B=>({...B}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(e,t,s=!1){const o=new $c;o.updateFromServerResponse(t);const c=new or({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await If(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ye(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Q1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,_=new $c;_.updateFromIdToken(s);const p=new or({uid:o.localId,auth:e,stsTokenManager:_,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new uy(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,v),p}}const Cb=new Map;function Sa(n){Ra(n instanceof Function,"Expected a class definition");let e=Cb.get(n);return e?(Ra(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Cb.set(n,e),e)}class X1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}X1.type="NONE";const Rb=X1;function mf(n,e,t){return`firebase:${n}:${e}:${t}`}class Zc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=mf(this.userKey,o.apiKey,c),this.fullPersistenceKey=mf("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Rf(this.auth,{idToken:e}).catch(()=>{});return t?or._fromGetAccountInfoResponse(this.auth,t,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Zc(Sa(Rb),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Sa(Rb);const h=mf(s,e.config.apiKey,e.name);let _=null;for(const v of t)try{const w=await v._get(h);if(w){let E;if(typeof w=="string"){const C=await Rf(e,{idToken:w}).catch(()=>{});if(!C)break;E=await or._fromGetAccountInfoResponse(e,C,w)}else E=or._fromJSON(e,w);v!==c&&(_=E),c=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Zc(c,e,s):(c=p[0],_&&await c._set(h,_.toJSON()),await Promise.all(t.map(async v=>{if(v!==c)try{await v._remove(h)}catch{}})),new Zc(c,e,s))}}function Ib(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sE(e))return"Blackberry";if(rE(e))return"Webos";if(eE(e))return"Safari";if((e.includes("chrome/")||tE(e))&&!e.includes("edge/"))return"Chrome";if(iE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function J1(n=pi()){return/firefox\//i.test(n)}function eE(n=pi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tE(n=pi()){return/crios\//i.test(n)}function nE(n=pi()){return/iemobile/i.test(n)}function iE(n=pi()){return/android/i.test(n)}function sE(n=pi()){return/blackberry/i.test(n)}function rE(n=pi()){return/webos/i.test(n)}function i_(n=pi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gI(n=pi()){return i_(n)&&!!window.navigator?.standalone}function yI(){return CC()&&document.documentMode===10}function aE(n=pi()){return i_(n)||iE(n)||rE(n)||sE(n)||/windows phone/i.test(n)||nE(n)}function oE(n,e=[]){let t;switch(n){case"Browser":t=Ib(pi());break;case"Worker":t=`${Ib(pi())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ec}/${s}`}class _I{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((h,_)=>{try{const p=e(c);h(p)}catch(p){_(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function vI(n,e={}){return fr(n,"GET","/v2/passwordPolicy",La(n,e))}const xI=6;class bI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??xI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class wI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pb(this),this.idTokenSubscription=new Pb(this),this.beforeStateQueue=new _I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rf(this,{idToken:e}),s=await or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,_=await this.tryRedirectSignIn(e);(!c||c===h)&&_?.user&&(s=_.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await If(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(zr(this));const t=e?Dt(e):null;return t&&Ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vI(this),t=new bI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jd("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await pI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sa(e)||this._popupRedirectResolver;Ye(t,this,"argument-error"),this.redirectPersistenceManager=await Zc.create(this,[Sa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(_,this,"internal-error"),_.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ka(n){return Dt(n)}class Pb{constructor(e){this.auth=e,this.observer=null,this.addObserver=DC(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EI(n){om=n}function lE(n){return om.loadJS(n)}function TI(){return om.recaptchaEnterpriseScript}function SI(){return om.gapiScript}function NI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class AI{constructor(){this.enterprise=new CI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RI="recaptcha-enterprise",cE="NO_RECAPTCHA";class II{constructor(e){this.type=RI,this.auth=ka(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,_)=>{oI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)_(new Error("recaptcha Enterprise site key undefined"));else{const v=new aI(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,h(v.siteKey)}}).catch(p=>{_(p)})})}function o(c,h,_){const p=window.grecaptcha;Nb(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(v=>{h(v)}).catch(()=>{h(cE)})}):_(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AI().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(_=>{if(!t&&Nb(window.grecaptcha))o(_,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=TI();p.length!==0&&(p+=_),lE(p).then(()=>{o(_,c,h)}).catch(v=>{h(v)})}}).catch(_=>{h(_)})})}}async function Mb(n,e,t,s=!1,o=!1){const c=new II(n);let h;if(o)h=cE;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const _={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in _){const p=_.phoneEnrollmentInfo.phoneNumber,v=_.phoneEnrollmentInfo.recaptchaToken;Object.assign(_,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in _){const p=_.phoneSignInInfo.recaptchaToken;Object.assign(_,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return _}return s?Object.assign(_,{captchaResp:h}):Object.assign(_,{captchaResponse:h}),Object.assign(_,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_}async function Pf(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Mb(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Mb(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(c)})}function PI(n,e){const t=am(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(ql(c,e??{}))return o;Us(o,"already-initialized")}return t.initialize({options:e})}function MI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Sa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function jI(n,e,t){const s=ka(n);Ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=uE(e),{host:h,port:_}=LI(e),p=_===null?"":`:${_}`,v={url:`${c}//${h}${p}/`},w=Object.freeze({host:h,port:_,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ye(ql(v,s.config.emulator)&&ql(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Go(h)?(Ky(`${c}//${h}${p}`),Yy("Auth",!0)):kI()}function uE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LI(n){const e=uE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:jb(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:jb(h)}}}function jb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class s_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ta("not implemented")}_getIdTokenResponse(e){return Ta("not implemented")}_linkToIdToken(e,t){return Ta("not implemented")}_getReauthenticationResolver(e){return Ta("not implemented")}}async function DI(n,e){return fr(n,"POST","/v1/accounts:update",e)}async function OI(n,e){return fr(n,"POST","/v1/accounts:signUp",e)}async function VI(n,e){return Dd(n,"POST","/v1/accounts:signInWithPassword",La(n,e))}async function zI(n,e){return fr(n,"POST","/v1/accounts:sendOobCode",La(n,e))}async function UI(n,e){return zI(n,e)}async function BI(n,e){return Dd(n,"POST","/v1/accounts:signInWithEmailLink",La(n,e))}async function qI(n,e){return Dd(n,"POST","/v1/accounts:signInWithEmailLink",La(n,e))}class xd extends s_{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new xd(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new xd(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pf(e,t,"signInWithPassword",VI);case"emailLink":return BI(e,{email:this._email,oobCode:this._password});default:Us(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pf(e,s,"signUpPassword",OI);case"emailLink":return qI(e,{idToken:t,email:this._email,oobCode:this._password});default:Us(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Kc(n,e){return Dd(n,"POST","/v1/accounts:signInWithIdp",La(n,e))}const HI="http://localhost";class Ia extends s_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Us("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const h=new Ia(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Kc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Kc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kc(e,t)}buildRequest(){const e={requestUri:HI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ld(t)}return e}}function FI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GI(n){const e=td(nd(n)).link,t=e?td(nd(e)).deep_link_id:null,s=td(nd(n)).deep_link_id;return(s?td(nd(s)).link:null)||s||t||e||n}class r_{constructor(e){const t=td(nd(e)),s=t.apiKey??null,o=t.oobCode??null,c=FI(t.mode??null);Ye(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=GI(e);try{return new r_(t)}catch{return null}}}class tc{constructor(){this.providerId=tc.PROVIDER_ID}static credential(e,t){return xd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=r_.parseLink(t);return Ye(s,"argument-error"),xd._fromEmailAndCode(e,s.code,s.tenantId)}}tc.PROVIDER_ID="password";tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class a_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends a_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ud extends au{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Ye("providerId"in t&&"signInMethod"in t,"argument-error"),Ia._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Ye(e.idToken||e.accessToken,"argument-error"),Ia._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return ud.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ud.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:h,providerId:_}=e;if(!s&&!o&&!t&&!c||!_)return null;try{return new ud(_)._credential({idToken:t,accessToken:s,nonce:h,pendingToken:c})}catch{return null}}}class To extends au{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.FACEBOOK_SIGN_IN_METHOD="facebook.com";To.PROVIDER_ID="facebook.com";class Ea extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ia._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ea.credential(t,s)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";class So extends au{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";class No extends au{constructor(){super("twitter.com")}static credential(e,t){return Ia._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return No.credential(t,s)}catch{return null}}}No.TWITTER_SIGN_IN_METHOD="twitter.com";No.PROVIDER_ID="twitter.com";async function $I(n,e){return Dd(n,"POST","/v1/accounts:signUp",La(n,e))}class Gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await or._fromIdTokenResponse(e,s,o),h=Lb(s);return new Gl({user:c,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Lb(s);return new Gl({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Lb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Mf extends Zr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Mf(e,t,s,o)}}function dE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(n,c,e,s):c})}async function ZI(n,e,t=!1){const s=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gl._forOperation(n,"link",s)}async function hE(n,e,t=!1){const{auth:s}=n;if(Ei(s.app))return Promise.reject(zr(s));const o="reauthenticate";try{const c=await Fl(n,dE(s,o,e,n),t);Ye(c.idToken,s,"internal-error");const h=n_(c.idToken);Ye(h,s,"internal-error");const{sub:_}=h;return Ye(n.uid===_,s,"user-mismatch"),Gl._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Us(s,"user-mismatch"),c}}async function fE(n,e,t=!1){if(Ei(n.app))return Promise.reject(zr(n));const s="signIn",o=await dE(n,s,e),c=await Gl._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function KI(n,e){return fE(ka(n),e)}async function YI(n,e){return hE(Dt(n),e)}async function mE(n){const e=ka(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WI(n,e,t){const s=ka(n);await Pf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UI)}async function QI(n,e,t){if(Ei(n.app))return Promise.reject(zr(n));const s=ka(n),h=await Pf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$I).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&mE(n),p}),_=await Gl._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(_.user),_}function XI(n,e,t){return Ei(n.app)?Promise.reject(zr(n)):KI(Dt(n),tc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mE(n),s})}async function JI(n,e){return fr(n,"POST","/v1/accounts:update",e)}async function dy(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Dt(n),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Fl(s,JI(s.auth,c));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const _=s.providerData.find(({providerId:p})=>p==="password");_&&(_.displayName=s.displayName,_.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function eP(n,e){const t=Dt(n);return Ei(t.auth.app)?Promise.reject(zr(t.auth)):pE(t,e,null)}function tP(n,e){return pE(Dt(n),null,e)}async function pE(n,e,t){const{auth:s}=n,c={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(c.email=e),t&&(c.password=t);const h=await Fl(n,DI(s,c));await n._updateTokensIfNecessary(h,!0)}function nP(n,e,t,s){return Dt(n).onIdTokenChanged(e,t,s)}function iP(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function sP(n,e,t,s){return Dt(n).onAuthStateChanged(e,t,s)}function rP(n){return Dt(n).signOut()}const jf="__sak";class gE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aP=1e3,oP=10;class yE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,_,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);yI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,oP):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},aP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yE.type="LOCAL";const lP=yE;class _E extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_E.type="SESSION";const vE=_E;function cP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new lm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const _=Array.from(h).map(async v=>v(t.origin,c)),p=await cP(_);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];function o_(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class uP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((_,p)=>{const v=o_("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(E){const C=E;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),_(C.data.response);break;default:clearTimeout(w),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ur(){return window}function dP(n){Ur().location.href=n}function xE(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function hP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fP(){return navigator?.serviceWorker?.controller||null}function mP(){return xE()?self:null}const bE="firebaseLocalStorageDb",pP=1,Lf="firebaseLocalStorage",wE="fbase_key";class Od{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cm(n,e){return n.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function gP(){const n=indexedDB.deleteDatabase(bE);return new Od(n).toPromise()}function hy(){const n=indexedDB.open(bE,pP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Lf,{keyPath:wE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Lf)?e(s):(s.close(),await gP(),e(await hy()))})})}async function kb(n,e,t){const s=cm(n,!0).put({[wE]:e,value:t});return new Od(s).toPromise()}async function yP(n,e){const t=cm(n,!1).get(e),s=await new Od(t).toPromise();return s===void 0?null:s.value}function Db(n,e){const t=cm(n,!0).delete(e);return new Od(t).toPromise()}const _P=800,vP=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>vP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(mP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hP(),!this.activeServiceWorker)return;this.sender=new uP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hy();return await kb(e,jf,"1"),await Db(e,jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>kb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>yP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=cm(o,!1).getAll();return new Od(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_P)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const xP=EE;new kd(3e4,6e4);function TE(n,e){return e?Sa(e):(Ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class l_ extends s_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bP(n){return fE(n.auth,new l_(n),n.bypassAuthState)}function wP(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),hE(t,new l_(n),n.bypassAuthState)}async function EP(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),ZI(t,new l_(n),n.bypassAuthState)}class SE{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:h,type:_}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bP;case"linkViaPopup":case"linkViaRedirect":return EP;case"reauthViaPopup":case"reauthViaRedirect":return wP;default:Us(this.auth,"internal-error")}}resolve(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const TP=new kd(2e3,1e4);async function Ob(n,e,t){if(Ei(n.app))return Promise.reject(lr(n,"operation-not-supported-in-this-environment"));const s=ka(n);QR(n,e,a_);const o=TE(s,t);return new kl(s,"signInViaPopup",e,o).executeNotNull()}class kl extends SE{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Ra(this.filter.length===1,"Popup operations only handle one event");const e=o_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TP.get())};e()}}kl.currentPopupAction=null;const SP="pendingRedirect",pf=new Map;class NP extends SE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const s=await AP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AP(n,e){const t=IP(e),s=RP(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function CP(n,e){pf.set(n._key(),e)}function RP(n){return Sa(n._redirectPersistence)}function IP(n){return mf(SP,n.config.apiKey,n.name)}async function PP(n,e,t=!1){if(Ei(n.app))return Promise.reject(zr(n));const s=ka(n),o=TE(s,e),h=await new NP(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const MP=600*1e3;class jP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!NE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(lr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vb(e))}saveEventToCache(e){this.cachedEventUids.add(Vb(e)),this.lastProcessedEventTime=Date.now()}}function Vb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function NE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function LP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NE(n);default:return!1}}async function kP(n,e={}){return fr(n,"GET","/v1/projects",e)}const DP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OP=/^https?/;async function VP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await kP(n);for(const t of e)try{if(zP(t))return}catch{}Us(n,"unauthorized-domain")}function zP(n){const e=cy(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!OP.test(t))return!1;if(DP.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const UP=new kd(3e4,6e4);function zb(){const n=Ur().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function BP(n){return new Promise((e,t)=>{function s(){zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zb(),t(lr(n,"network-request-failed"))},timeout:UP.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)s();else{const o=NI("iframefcb");return Ur()[o]=()=>{gapi.load?s():t(lr(n,"network-request-failed"))},lE(`${SI()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw gf=null,e})}let gf=null;function qP(n){return gf=gf||BP(n),gf}const HP=new kd(5e3,15e3),FP="__/auth/iframe",GP="emulator/auth/iframe",$P={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KP(n){const e=n.config;Ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?t_(e,GP):`https://${n.config.authDomain}/${FP}`,s={apiKey:e.apiKey,appName:n.name,v:ec},o=ZP.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Ld(s).slice(1)}`}async function YP(n){const e=await qP(n),t=Ur().gapi;return Ye(t,n,"internal-error"),e.open({where:document.body,url:KP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$P,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=lr(n,"network-request-failed"),_=Ur().setTimeout(()=>{c(h)},HP.get());function p(){Ur().clearTimeout(_),o(s)}s.ping(p).then(p,()=>{c(h)})}))}const WP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QP=500,XP=600,JP="_blank",eM="http://localhost";class Ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tM(n,e,t,s=QP,o=XP){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const p={...WP,width:s.toString(),height:o.toString(),top:c,left:h},v=pi().toLowerCase();t&&(_=tE(v)?JP:t),J1(v)&&(e=e||eM,p.scrollbars="yes");const w=Object.entries(p).reduce((C,[R,j])=>`${C}${R}=${j},`,"");if(gI(v)&&_!=="_self")return nM(e||"",_),new Ub(null);const E=window.open(e||"",_,w);Ye(E,n,"popup-blocked");try{E.focus()}catch{}return new Ub(E)}function nM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const iM="__/auth/handler",sM="emulator/auth/handler",rM=encodeURIComponent("fac");async function Bb(n,e,t,s,o,c){Ye(n.config.authDomain,n,"auth-domain-config-required"),Ye(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:ec,eventId:o};if(e instanceof a_){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",kC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))h[w]=E}if(e instanceof au){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const _=h;for(const w of Object.keys(_))_[w]===void 0&&delete _[w];const p=await n._getAppCheckToken(),v=p?`#${rM}=${encodeURIComponent(p)}`:"";return`${aM(n)}?${Ld(_).slice(1)}${v}`}function aM({config:n}){return n.emulator?t_(n,sM):`https://${n.authDomain}/${iM}`}const Pg="webStorageSupport";class oM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=PP,this._overrideRedirectResult=CP}async _openPopup(e,t,s,o){Ra(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Bb(e,t,s,cy(),o);return tM(e,c,o_())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Bb(e,t,s,cy(),o);return dP(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Ra(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await YP(e),s=new jP(e);return t.register("authEvent",o=>(Ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pg,{type:Pg},o=>{const c=o?.[0]?.[Pg];c!==void 0&&t(!!c),Us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aE()||eE()||i_()}}const lM=oM;var qb="@firebase/auth",Hb="1.12.0";class cM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dM(n){Hl(new Oo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:_}=s.options;Ye(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:_,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(n)},v=new wI(s,o,c,p);return MI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Hl(new Oo("auth-internal",e=>{const t=ka(e.getProvider("auth").getImmediate());return(s=>new cM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(qb,Hb,uM(n)),Vr(qb,Hb,"esm2020")}const hM=300,fM=z1("authIdTokenMaxAge")||hM;let Fb=null;const mM=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>fM)return;const o=t?.token;Fb!==o&&(Fb=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pM(n=Xy()){const e=am(n,"auth");if(e.isInitialized())return e.getImmediate();const t=PI(n,{popupRedirectResolver:lM,persistence:[xP,lP,vE]}),s=z1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=mM(c.toString());iP(t,h,()=>h(t.currentUser)),nP(t,_=>h(_))}}const o=D1("auth");return o&&jI(t,`http://${o}`),t}function gM(){return document.getElementsByTagName("head")?.[0]??document}EI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=lr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",gM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dM("Browser");var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lo,AE;(function(){var n;function e(H,I){function Z(){}Z.prototype=I.prototype,H.F=I.prototype,H.prototype=new Z,H.prototype.constructor=H,H.D=function($,q,K){for(var F=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)F[Se-2]=arguments[Se];return I.prototype[q].apply($,F)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(H,I,Z){Z||(Z=0);const $=Array(16);if(typeof I=="string")for(var q=0;q<16;++q)$[q]=I.charCodeAt(Z++)|I.charCodeAt(Z++)<<8|I.charCodeAt(Z++)<<16|I.charCodeAt(Z++)<<24;else for(q=0;q<16;++q)$[q]=I[Z++]|I[Z++]<<8|I[Z++]<<16|I[Z++]<<24;I=H.g[0],Z=H.g[1],q=H.g[2];let K=H.g[3],F;F=I+(K^Z&(q^K))+$[0]+3614090360&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=K+(q^I&(Z^q))+$[1]+3905402710&4294967295,K=I+(F<<12&4294967295|F>>>20),F=q+(Z^K&(I^Z))+$[2]+606105819&4294967295,q=K+(F<<17&4294967295|F>>>15),F=Z+(I^q&(K^I))+$[3]+3250441966&4294967295,Z=q+(F<<22&4294967295|F>>>10),F=I+(K^Z&(q^K))+$[4]+4118548399&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=K+(q^I&(Z^q))+$[5]+1200080426&4294967295,K=I+(F<<12&4294967295|F>>>20),F=q+(Z^K&(I^Z))+$[6]+2821735955&4294967295,q=K+(F<<17&4294967295|F>>>15),F=Z+(I^q&(K^I))+$[7]+4249261313&4294967295,Z=q+(F<<22&4294967295|F>>>10),F=I+(K^Z&(q^K))+$[8]+1770035416&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=K+(q^I&(Z^q))+$[9]+2336552879&4294967295,K=I+(F<<12&4294967295|F>>>20),F=q+(Z^K&(I^Z))+$[10]+4294925233&4294967295,q=K+(F<<17&4294967295|F>>>15),F=Z+(I^q&(K^I))+$[11]+2304563134&4294967295,Z=q+(F<<22&4294967295|F>>>10),F=I+(K^Z&(q^K))+$[12]+1804603682&4294967295,I=Z+(F<<7&4294967295|F>>>25),F=K+(q^I&(Z^q))+$[13]+4254626195&4294967295,K=I+(F<<12&4294967295|F>>>20),F=q+(Z^K&(I^Z))+$[14]+2792965006&4294967295,q=K+(F<<17&4294967295|F>>>15),F=Z+(I^q&(K^I))+$[15]+1236535329&4294967295,Z=q+(F<<22&4294967295|F>>>10),F=I+(q^K&(Z^q))+$[1]+4129170786&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=K+(Z^q&(I^Z))+$[6]+3225465664&4294967295,K=I+(F<<9&4294967295|F>>>23),F=q+(I^Z&(K^I))+$[11]+643717713&4294967295,q=K+(F<<14&4294967295|F>>>18),F=Z+(K^I&(q^K))+$[0]+3921069994&4294967295,Z=q+(F<<20&4294967295|F>>>12),F=I+(q^K&(Z^q))+$[5]+3593408605&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=K+(Z^q&(I^Z))+$[10]+38016083&4294967295,K=I+(F<<9&4294967295|F>>>23),F=q+(I^Z&(K^I))+$[15]+3634488961&4294967295,q=K+(F<<14&4294967295|F>>>18),F=Z+(K^I&(q^K))+$[4]+3889429448&4294967295,Z=q+(F<<20&4294967295|F>>>12),F=I+(q^K&(Z^q))+$[9]+568446438&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=K+(Z^q&(I^Z))+$[14]+3275163606&4294967295,K=I+(F<<9&4294967295|F>>>23),F=q+(I^Z&(K^I))+$[3]+4107603335&4294967295,q=K+(F<<14&4294967295|F>>>18),F=Z+(K^I&(q^K))+$[8]+1163531501&4294967295,Z=q+(F<<20&4294967295|F>>>12),F=I+(q^K&(Z^q))+$[13]+2850285829&4294967295,I=Z+(F<<5&4294967295|F>>>27),F=K+(Z^q&(I^Z))+$[2]+4243563512&4294967295,K=I+(F<<9&4294967295|F>>>23),F=q+(I^Z&(K^I))+$[7]+1735328473&4294967295,q=K+(F<<14&4294967295|F>>>18),F=Z+(K^I&(q^K))+$[12]+2368359562&4294967295,Z=q+(F<<20&4294967295|F>>>12),F=I+(Z^q^K)+$[5]+4294588738&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=K+(I^Z^q)+$[8]+2272392833&4294967295,K=I+(F<<11&4294967295|F>>>21),F=q+(K^I^Z)+$[11]+1839030562&4294967295,q=K+(F<<16&4294967295|F>>>16),F=Z+(q^K^I)+$[14]+4259657740&4294967295,Z=q+(F<<23&4294967295|F>>>9),F=I+(Z^q^K)+$[1]+2763975236&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=K+(I^Z^q)+$[4]+1272893353&4294967295,K=I+(F<<11&4294967295|F>>>21),F=q+(K^I^Z)+$[7]+4139469664&4294967295,q=K+(F<<16&4294967295|F>>>16),F=Z+(q^K^I)+$[10]+3200236656&4294967295,Z=q+(F<<23&4294967295|F>>>9),F=I+(Z^q^K)+$[13]+681279174&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=K+(I^Z^q)+$[0]+3936430074&4294967295,K=I+(F<<11&4294967295|F>>>21),F=q+(K^I^Z)+$[3]+3572445317&4294967295,q=K+(F<<16&4294967295|F>>>16),F=Z+(q^K^I)+$[6]+76029189&4294967295,Z=q+(F<<23&4294967295|F>>>9),F=I+(Z^q^K)+$[9]+3654602809&4294967295,I=Z+(F<<4&4294967295|F>>>28),F=K+(I^Z^q)+$[12]+3873151461&4294967295,K=I+(F<<11&4294967295|F>>>21),F=q+(K^I^Z)+$[15]+530742520&4294967295,q=K+(F<<16&4294967295|F>>>16),F=Z+(q^K^I)+$[2]+3299628645&4294967295,Z=q+(F<<23&4294967295|F>>>9),F=I+(q^(Z|~K))+$[0]+4096336452&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=K+(Z^(I|~q))+$[7]+1126891415&4294967295,K=I+(F<<10&4294967295|F>>>22),F=q+(I^(K|~Z))+$[14]+2878612391&4294967295,q=K+(F<<15&4294967295|F>>>17),F=Z+(K^(q|~I))+$[5]+4237533241&4294967295,Z=q+(F<<21&4294967295|F>>>11),F=I+(q^(Z|~K))+$[12]+1700485571&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=K+(Z^(I|~q))+$[3]+2399980690&4294967295,K=I+(F<<10&4294967295|F>>>22),F=q+(I^(K|~Z))+$[10]+4293915773&4294967295,q=K+(F<<15&4294967295|F>>>17),F=Z+(K^(q|~I))+$[1]+2240044497&4294967295,Z=q+(F<<21&4294967295|F>>>11),F=I+(q^(Z|~K))+$[8]+1873313359&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=K+(Z^(I|~q))+$[15]+4264355552&4294967295,K=I+(F<<10&4294967295|F>>>22),F=q+(I^(K|~Z))+$[6]+2734768916&4294967295,q=K+(F<<15&4294967295|F>>>17),F=Z+(K^(q|~I))+$[13]+1309151649&4294967295,Z=q+(F<<21&4294967295|F>>>11),F=I+(q^(Z|~K))+$[4]+4149444226&4294967295,I=Z+(F<<6&4294967295|F>>>26),F=K+(Z^(I|~q))+$[11]+3174756917&4294967295,K=I+(F<<10&4294967295|F>>>22),F=q+(I^(K|~Z))+$[2]+718787259&4294967295,q=K+(F<<15&4294967295|F>>>17),F=Z+(K^(q|~I))+$[9]+3951481745&4294967295,H.g[0]=H.g[0]+I&4294967295,H.g[1]=H.g[1]+(q+(F<<21&4294967295|F>>>11))&4294967295,H.g[2]=H.g[2]+q&4294967295,H.g[3]=H.g[3]+K&4294967295}s.prototype.v=function(H,I){I===void 0&&(I=H.length);const Z=I-this.blockSize,$=this.C;let q=this.h,K=0;for(;K<I;){if(q==0)for(;K<=Z;)o(this,H,K),K+=this.blockSize;if(typeof H=="string"){for(;K<I;)if($[q++]=H.charCodeAt(K++),q==this.blockSize){o(this,$),q=0;break}}else for(;K<I;)if($[q++]=H[K++],q==this.blockSize){o(this,$),q=0;break}}this.h=q,this.o+=I},s.prototype.A=function(){var H=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);H[0]=128;for(var I=1;I<H.length-8;++I)H[I]=0;I=this.o*8;for(var Z=H.length-8;Z<H.length;++Z)H[Z]=I&255,I/=256;for(this.v(H),H=Array(16),I=0,Z=0;Z<4;++Z)for(let $=0;$<32;$+=8)H[I++]=this.g[Z]>>>$&255;return H};function c(H,I){var Z=_;return Object.prototype.hasOwnProperty.call(Z,H)?Z[H]:Z[H]=I(H)}function h(H,I){this.h=I;const Z=[];let $=!0;for(let q=H.length-1;q>=0;q--){const K=H[q]|0;$&&K==I||(Z[q]=K,$=!1)}this.g=Z}var _={};function p(H){return-128<=H&&H<128?c(H,function(I){return new h([I|0],I<0?-1:0)}):new h([H|0],H<0?-1:0)}function v(H){if(isNaN(H)||!isFinite(H))return E;if(H<0)return k(v(-H));const I=[];let Z=1;for(let $=0;H>=Z;$++)I[$]=H/Z|0,Z*=4294967296;return new h(I,0)}function w(H,I){if(H.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H.charAt(0)=="-")return k(w(H.substring(1),I));if(H.indexOf("-")>=0)throw Error('number format error: interior "-" character');const Z=v(Math.pow(I,8));let $=E;for(let K=0;K<H.length;K+=8){var q=Math.min(8,H.length-K);const F=parseInt(H.substring(K,K+q),I);q<8?(q=v(Math.pow(I,q)),$=$.j(q).add(v(F))):($=$.j(Z),$=$.add(v(F)))}return $}var E=p(0),C=p(1),R=p(16777216);n=h.prototype,n.m=function(){if(z(this))return-k(this).m();let H=0,I=1;for(let Z=0;Z<this.g.length;Z++){const $=this.i(Z);H+=($>=0?$:4294967296+$)*I,I*=4294967296}return H},n.toString=function(H){if(H=H||10,H<2||36<H)throw Error("radix out of range: "+H);if(j(this))return"0";if(z(this))return"-"+k(this).toString(H);const I=v(Math.pow(H,6));var Z=this;let $="";for(;;){const q=ne(Z,I).g;Z=V(Z,q.j(I));let K=((Z.g.length>0?Z.g[0]:Z.h)>>>0).toString(H);if(Z=q,j(Z))return K+$;for(;K.length<6;)K="0"+K;$=K+$}},n.i=function(H){return H<0?0:H<this.g.length?this.g[H]:this.h};function j(H){if(H.h!=0)return!1;for(let I=0;I<H.g.length;I++)if(H.g[I]!=0)return!1;return!0}function z(H){return H.h==-1}n.l=function(H){return H=V(this,H),z(H)?-1:j(H)?0:1};function k(H){const I=H.g.length,Z=[];for(let $=0;$<I;$++)Z[$]=~H.g[$];return new h(Z,~H.h).add(C)}n.abs=function(){return z(this)?k(this):this},n.add=function(H){const I=Math.max(this.g.length,H.g.length),Z=[];let $=0;for(let q=0;q<=I;q++){let K=$+(this.i(q)&65535)+(H.i(q)&65535),F=(K>>>16)+(this.i(q)>>>16)+(H.i(q)>>>16);$=F>>>16,K&=65535,F&=65535,Z[q]=F<<16|K}return new h(Z,Z[Z.length-1]&-2147483648?-1:0)};function V(H,I){return H.add(k(I))}n.j=function(H){if(j(this)||j(H))return E;if(z(this))return z(H)?k(this).j(k(H)):k(k(this).j(H));if(z(H))return k(this.j(k(H)));if(this.l(R)<0&&H.l(R)<0)return v(this.m()*H.m());const I=this.g.length+H.g.length,Z=[];for(var $=0;$<2*I;$++)Z[$]=0;for($=0;$<this.g.length;$++)for(let q=0;q<H.g.length;q++){const K=this.i($)>>>16,F=this.i($)&65535,Se=H.i(q)>>>16,ye=H.i(q)&65535;Z[2*$+2*q]+=F*ye,B(Z,2*$+2*q),Z[2*$+2*q+1]+=K*ye,B(Z,2*$+2*q+1),Z[2*$+2*q+1]+=F*Se,B(Z,2*$+2*q+1),Z[2*$+2*q+2]+=K*Se,B(Z,2*$+2*q+2)}for(H=0;H<I;H++)Z[H]=Z[2*H+1]<<16|Z[2*H];for(H=I;H<2*I;H++)Z[H]=0;return new h(Z,0)};function B(H,I){for(;(H[I]&65535)!=H[I];)H[I+1]+=H[I]>>>16,H[I]&=65535,I++}function G(H,I){this.g=H,this.h=I}function ne(H,I){if(j(I))throw Error("division by zero");if(j(H))return new G(E,E);if(z(H))return I=ne(k(H),I),new G(k(I.g),k(I.h));if(z(I))return I=ne(H,k(I)),new G(k(I.g),I.h);if(H.g.length>30){if(z(H)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var Z=C,$=I;$.l(H)<=0;)Z=te(Z),$=te($);var q=_e(Z,1),K=_e($,1);for($=_e($,2),Z=_e(Z,2);!j($);){var F=K.add($);F.l(H)<=0&&(q=q.add(Z),K=F),$=_e($,1),Z=_e(Z,1)}return I=V(H,q.j(I)),new G(q,I)}for(q=E;H.l(I)>=0;){for(Z=Math.max(1,Math.floor(H.m()/I.m())),$=Math.ceil(Math.log(Z)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),K=v(Z),F=K.j(I);z(F)||F.l(H)>0;)Z-=$,K=v(Z),F=K.j(I);j(K)&&(K=C),q=q.add(K),H=V(H,F)}return new G(q,H)}n.B=function(H){return ne(this,H).h},n.and=function(H){const I=Math.max(this.g.length,H.g.length),Z=[];for(let $=0;$<I;$++)Z[$]=this.i($)&H.i($);return new h(Z,this.h&H.h)},n.or=function(H){const I=Math.max(this.g.length,H.g.length),Z=[];for(let $=0;$<I;$++)Z[$]=this.i($)|H.i($);return new h(Z,this.h|H.h)},n.xor=function(H){const I=Math.max(this.g.length,H.g.length),Z=[];for(let $=0;$<I;$++)Z[$]=this.i($)^H.i($);return new h(Z,this.h^H.h)};function te(H){const I=H.g.length+1,Z=[];for(let $=0;$<I;$++)Z[$]=H.i($)<<1|H.i($-1)>>>31;return new h(Z,H.h)}function _e(H,I){const Z=I>>5;I%=32;const $=H.g.length-Z,q=[];for(let K=0;K<$;K++)q[K]=I>0?H.i(K+Z)>>>I|H.i(K+Z+1)<<32-I:H.i(K+Z);return new h(q,H.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,AE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Lo=h}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var CE,id,RE,yf,fy,IE,PE,ME;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var T=0;T<m.length;++T){var A=m[T];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var s=t(this);function o(m,T){if(T)e:{var A=s;m=m.split(".");for(var U=0;U<m.length-1;U++){var re=m[U];if(!(re in A))break e;A=A[re]}m=m[m.length-1],U=A[m],T=T(U),T!=U&&T!=null&&e(A,m,{configurable:!0,writable:!0,value:T})}}o("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(m){return m||function(T){var A=[],U;for(U in T)Object.prototype.hasOwnProperty.call(T,U)&&A.push([U,T[U]]);return A}});var c=c||{},h=this||self;function _(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function p(m,T,A){return m.call.apply(m.bind,arguments)}function v(m,T,A){return v=p,v.apply(null,arguments)}function w(m,T){var A=Array.prototype.slice.call(arguments,1);return function(){var U=A.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function E(m,T){function A(){}A.prototype=T.prototype,m.Z=T.prototype,m.prototype=new A,m.prototype.constructor=m,m.Ob=function(U,re,de){for(var Ce=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)Ce[Qe-2]=arguments[Qe];return T.prototype[re].apply(U,Ce)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function R(m){const T=m.length;if(T>0){const A=Array(T);for(let U=0;U<T;U++)A[U]=m[U];return A}return[]}function j(m,T){for(let U=1;U<arguments.length;U++){const re=arguments[U];var A=typeof re;if(A=A!="object"?A:re?Array.isArray(re)?"array":A:"null",A=="array"||A=="object"&&typeof re.length=="number"){A=m.length||0;const de=re.length||0;m.length=A+de;for(let Ce=0;Ce<de;Ce++)m[A+Ce]=re[Ce]}else m.push(re)}}class z{constructor(T,A){this.i=T,this.j=A,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function k(m){h.setTimeout(()=>{throw m},0)}function V(){var m=H;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class B{constructor(){this.h=this.g=null}add(T,A){const U=G.get();U.set(T,A),this.h?this.h.next=U:this.g=U,this.h=U}}var G=new z(()=>new ne,m=>m.reset());class ne{constructor(){this.next=this.g=this.h=null}set(T,A){this.h=T,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let te,_e=!1,H=new B,I=()=>{const m=Promise.resolve(void 0);te=()=>{m.then(Z)}};function Z(){for(var m;m=V();){try{m.h.call(m.g)}catch(A){k(A)}var T=G;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}_e=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};h.addEventListener("test",A,T),h.removeEventListener("test",A,T)}catch{}return m})();function F(m){return/^[\s\xa0]*$/.test(m)}function Se(m,T){q.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}E(Se,q),Se.prototype.init=function(m,T){const A=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(A=="mouseover"?T=m.fromElement:A=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),W=0;function pe(m,T,A,U,re){this.listener=m,this.proxy=null,this.src=T,this.type=A,this.capture=!!U,this.ha=re,this.key=++W,this.da=this.fa=!1}function ae(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ne(m,T,A){for(const U in m)T.call(A,m[U],U,m)}function me(m,T){for(const A in m)T.call(void 0,m[A],A,m)}function O(m){const T={};for(const A in m)T[A]=m[A];return T}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(m,T){let A,U;for(let re=1;re<arguments.length;re++){U=arguments[re];for(A in U)m[A]=U[A];for(let de=0;de<ee.length;de++)A=ee[de],Object.prototype.hasOwnProperty.call(U,A)&&(m[A]=U[A])}}function be(m){this.src=m,this.g={},this.h=0}be.prototype.add=function(m,T,A,U,re){const de=m.toString();m=this.g[de],m||(m=this.g[de]=[],this.h++);const Ce=Ae(m,T,U,re);return Ce>-1?(T=m[Ce],A||(T.fa=!1)):(T=new pe(T,this.src,de,!!U,re),T.fa=A,m.push(T)),T};function Re(m,T){const A=T.type;if(A in m.g){var U=m.g[A],re=Array.prototype.indexOf.call(U,T,void 0),de;(de=re>=0)&&Array.prototype.splice.call(U,re,1),de&&(ae(T),m.g[A].length==0&&(delete m.g[A],m.h--))}}function Ae(m,T,A,U){for(let re=0;re<m.length;++re){const de=m[re];if(!de.da&&de.listener==T&&de.capture==!!A&&de.ha==U)return re}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Ct={};function Pt(m,T,A,U,re){if(Array.isArray(T)){for(let de=0;de<T.length;de++)Pt(m,T[de],A,U,re);return null}return A=Ri(A),m&&m[ye]?m.J(T,A,_(U)?!!U.capture:!1,re):Yi(m,T,A,!1,U,re)}function Yi(m,T,A,U,re,de){if(!T)throw Error("Invalid event type");const Ce=_(re)?!!re.capture:!!re;let Qe=Ci(m);if(Qe||(m[Fe]=Qe=new be(m)),A=Qe.add(T,A,U,Ce,de),A.proxy)return A;if(U=xs(),A.proxy=U,U.src=m,U.listener=A,m.addEventListener)K||(re=Ce),re===void 0&&(re=!1),m.addEventListener(T.toString(),U,re);else if(m.attachEvent)m.attachEvent(ti(T.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return A}function xs(){function m(A){return T.call(m.src,m.listener,A)}const T=bs;return m}function Dn(m,T,A,U,re){if(Array.isArray(T))for(var de=0;de<T.length;de++)Dn(m,T[de],A,U,re);else U=_(U)?!!U.capture:!!U,A=Ri(A),m&&m[ye]?(m=m.i,de=String(T).toString(),de in m.g&&(T=m.g[de],A=Ae(T,A,U,re),A>-1&&(ae(T[A]),Array.prototype.splice.call(T,A,1),T.length==0&&(delete m.g[de],m.h--)))):m&&(m=Ci(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Ae(T,A,U,re)),(A=m>-1?T[m]:null)&&Ai(A))}function Ai(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[ye])Re(T.i,m);else{var A=m.type,U=m.proxy;T.removeEventListener?T.removeEventListener(A,U,m.capture):T.detachEvent?T.detachEvent(ti(A),U):T.addListener&&T.removeListener&&T.removeListener(U),(A=Ci(T))?(Re(A,m),A.h==0&&(A.src=null,T[Fe]=null)):ae(m)}}}function ti(m){return m in Ct?Ct[m]:Ct[m]="on"+m}function bs(m,T){if(m.da)m=!0;else{T=new Se(T,this);const A=m.listener,U=m.ha||m.src;m.fa&&Ai(m),m=A.call(U,T)}return m}function Ci(m){return m=m[Fe],m instanceof be?m:null}var Wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ri(m){return typeof m=="function"?m:(m[Wi]||(m[Wi]=function(T){return m.handleEvent(T)}),m[Wi])}function Ht(){$.call(this),this.i=new be(this),this.M=this,this.G=null}E(Ht,$),Ht.prototype[ye]=!0,Ht.prototype.removeEventListener=function(m,T,A,U){Dn(this,m,T,A,U)};function Xt(m,T){var A,U=m.G;if(U)for(A=[];U;U=U.G)A.push(U);if(m=m.M,U=T.type||T,typeof T=="string")T=new q(T,m);else if(T instanceof q)T.target=T.target||m;else{var re=T;T=new q(U,m),fe(T,re)}re=!0;let de,Ce;if(A)for(Ce=A.length-1;Ce>=0;Ce--)de=T.g=A[Ce],re=Ii(de,U,!0,T)&&re;if(de=T.g=m,re=Ii(de,U,!0,T)&&re,re=Ii(de,U,!1,T)&&re,A)for(Ce=0;Ce<A.length;Ce++)de=T.g=A[Ce],re=Ii(de,U,!1,T)&&re}Ht.prototype.N=function(){if(Ht.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const A=m.g[T];for(let U=0;U<A.length;U++)ae(A[U]);delete m.g[T],m.h--}}this.G=null},Ht.prototype.J=function(m,T,A,U){return this.i.add(String(m),T,!1,A,U)},Ht.prototype.K=function(m,T,A,U){return this.i.add(String(m),T,!0,A,U)};function Ii(m,T,A,U){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let re=!0;for(let de=0;de<T.length;++de){const Ce=T[de];if(Ce&&!Ce.da&&Ce.capture==A){const Qe=Ce.listener,xt=Ce.ha||Ce.src;Ce.fa&&Re(m.i,Ce),re=Qe.call(xt,U)!==!1&&re}}return re&&!U.defaultPrevented}function Oa(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:h.setTimeout(m,T||0)}function Kr(m){m.g=Oa(()=>{m.g=null,m.i&&(m.i=!1,Kr(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Pn extends ${constructor(T,A){super(),this.m=T,this.l=A,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(m){$.call(this),this.h=m,this.g={}}E(qs,$);var Hs=[];function mr(m){Ne(m.g,function(T,A){this.g.hasOwnProperty(A)&&Ai(T)},m),m.g={}}qs.prototype.N=function(){qs.Z.N.call(this),mr(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qi=h.JSON.stringify,Wo=h.JSON.parse,Yr=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function Wr(){}function Va(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nn(){q.call(this,"d")}E(nn,q);function Kn(){q.call(this,"c")}E(Kn,q);var $t={},Xi=null;function pr(){return Xi=Xi||new Ht}$t.Ia="serverreachability";function X(m){q.call(this,$t.Ia,m)}E(X,q);function Ie(m){const T=pr();Xt(T,new X(T))}$t.STAT_EVENT="statevent";function Me(m,T){q.call(this,$t.STAT_EVENT,m),this.stat=T}E(Me,q);function je(m){const T=pr();Xt(T,new Me(T,m))}$t.Ja="timingevent";function qe(m,T){q.call(this,$t.Ja,m),this.size=T}E(qe,q);function tt(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},T)}function lt(){this.g=!0}lt.prototype.ua=function(){this.g=!1};function Jt(m,T,A,U,re,de){m.info(function(){if(m.g)if(de){var Ce="",Qe=de.split("&");for(let bt=0;bt<Qe.length;bt++){var xt=Qe[bt].split("=");if(xt.length>1){const Bt=xt[0];xt=xt[1];const Vi=Bt.split("_");Ce=Vi.length>=2&&Vi[1]=="type"?Ce+(Bt+"="+xt+"&"):Ce+(Bt+"=redacted&")}}}else Ce=null;else Ce=de;return"XMLHTTP REQ ("+U+") [attempt "+re+"]: "+T+`
`+A+`
`+Ce})}function bn(m,T,A,U,re,de,Ce){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+re+"]: "+T+`
`+A+`
`+de+" "+Ce})}function gn(m,T,A,U){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Qo(m,A)+(U?" "+U:"")})}function On(m,T){m.info(function(){return"TIMEOUT: "+T})}lt.prototype.info=function(){};function Qo(m,T){if(!m.g)return T;if(!T)return null;try{const de=JSON.parse(T);if(de){for(m=0;m<de.length;m++)if(Array.isArray(de[m])){var A=de[m];if(!(A.length<2)){var U=A[1];if(Array.isArray(U)&&!(U.length<1)){var re=U[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Ce=1;Ce<U.length;Ce++)U[Ce]=""}}}}return Qi(de)}catch{return T}}var Fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function Vn(){}E(Vn,Wr),Vn.prototype.g=function(){return new XMLHttpRequest},Jo=new Vn;function Ve(m){return encodeURIComponent(String(m))}function el(m){var T=1;m=m.split(":");const A=[];for(;T>0&&m.length;)A.push(m.shift()),T--;return m.length&&A.push(m.join(":")),A}function Pi(m,T,A,U){this.j=m,this.i=T,this.l=A,this.S=U||1,this.V=new qs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mi}function Mi(){this.i=null,this.g="",this.h=!1}var sn={},on={};function Ji(m,T,A){m.M=1,m.A=Mt(Zt(T)),m.u=A,m.R=!0,es(m,null)}function es(m,T){m.F=Date.now(),ws(m),m.B=Zt(m.A);var A=m.B,U=m.S;Array.isArray(U)||(U=[String(U)]),yr(A.i,"t",U),m.C=0,A=m.j.L,m.h=new Mi,m.g=ol(m.j,A?T:null,!m.u),m.P>0&&(m.O=new Pn(v(m.Y,m,m.g),m.P)),T=m.V,A=m.g,U=m.ba;var re="readystatechange";Array.isArray(re)||(re&&(Hs[0]=re.toString()),re=Hs);for(let de=0;de<re.length;de++){const Ce=Pt(A,re[de],U||T.handleEvent,!1,T.h||T);if(!Ce)break;T.g[Ce.key]=Ce}T=m.J?O(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Ie(),Jt(m.i,m.v,m.B,m.l,m.S,m.u)}Pi.prototype.ba=function(m){m=m.target;const T=this.O;T&&ss(m)==3?T.j():this.Y(m)},Pi.prototype.Y=function(m){try{if(m==this.g)e:{const Qe=ss(this.g),xt=this.g.ya(),bt=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||En(this.g)))){this.K||Qe!=4||xt==7||(xt==8||bt<=0?Ie(3):Ie(2)),ts(this);var T=this.g.ca();this.X=T;var A=rc(this);if(this.o=T==200,bn(this.i,this.v,this.B,this.l,this.S,Qe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var U,re=this.g;if((U=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(U)){var de=U;break t}}de=null}if(m=de)gn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Es(this,m);else{this.o=!1,this.m=3,je(12),zn(this),ji(this);break e}}if(this.R){m=!0;let Bt;for(;!this.K&&this.C<A.length;)if(Bt=oc(this,A),Bt==on){Qe==4&&(this.m=4,je(14),m=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==sn){this.m=4,je(15),gn(this.i,this.l,A,"[Invalid Chunk]"),m=!1;break}else gn(this.i,this.l,Bt,null),Es(this,Bt);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||A.length!=0||this.h.h||(this.m=1,je(16),m=!1),this.o=this.o&&m,!m)gn(this.i,this.l,A,"[Invalid Chunked Response]"),zn(this),ji(this);else if(A.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),rl(Ce),Ce.P=!0,je(11))}}else gn(this.i,this.l,A,null),Es(this,A);Qe==4&&zn(this),this.o&&!this.K&&(Qe==4?_i(this.j,this):(this.o=!1,ws(this)))}else rs(this.g),T==400&&A.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),zn(this),ji(this)}}}catch{}};function rc(m){if(!ac(m))return m.g.la();const T=En(m.g);if(T==="")return"";let A="";const U=T.length,re=ss(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return zn(m),ji(m),"";m.h.i=new h.TextDecoder}for(let de=0;de<U;de++)m.h.h=!0,A+=m.h.i.decode(T[de],{stream:!(re&&de==U-1)});return T.length=0,m.h.g+=A,m.C=0,m.h.g}function ac(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function oc(m,T){var A=m.C,U=T.indexOf(`
`,A);return U==-1?on:(A=Number(T.substring(A,U)),isNaN(A)?sn:(U+=1,U+A>T.length?on:(T=T.slice(U,U+A),m.C=U+A,T)))}Pi.prototype.cancel=function(){this.K=!0,zn(this)};function ws(m){m.T=Date.now()+m.H,za(m,m.H)}function za(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=tt(v(m.aa,m),T)}function ts(m){m.D&&(h.clearTimeout(m.D),m.D=null)}Pi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(On(this.i,this.B),this.M!=2&&(Ie(),je(17)),zn(this),this.m=2,ji(this)):za(this,this.T-m)};function ji(m){m.j.I==0||m.K||_i(m.j,m)}function zn(m){ts(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,mr(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function Es(m,T){try{var A=m.j;if(A.I!=0&&(A.g==m||Li(A.h,m))){if(!m.L&&Li(A.h,m)&&A.I==3){try{var U=A.Ba.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var re=U;if(re[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<m.F)$a(A),br(A);else break e;na(A),je(18)}}else A.xa=re[1],0<A.xa-A.K&&re[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=tt(v(A.Va,A),6e3));Ts(A.h)<=1&&A.ta&&(A.ta=void 0)}else as(A,11)}else if((m.L||A.g==m)&&$a(A),!F(T))for(re=A.Ba.g.parse(T),T=0;T<re.length;T++){let bt=re[T];const Bt=bt[0];if(!(Bt<=A.K))if(A.K=Bt,bt=bt[1],A.I==2)if(bt[0]=="c"){A.M=bt[1],A.ba=bt[2];const Vi=bt[3];Vi!=null&&(A.ka=Vi,A.j.info("VER="+A.ka));const zi=bt[4];zi!=null&&(A.za=zi,A.j.info("SVER="+A.za));const vi=bt[5];vi!=null&&typeof vi=="number"&&vi>0&&(U=1.5*vi,A.O=U,A.j.info("backChannelRequestTimeoutMs_="+U)),U=A;const ls=m.g;if(ls){const ia=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var de=U.h;de.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Gs(de,de.h),de.h=null))}if(U.G){const sa=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(U.wa=sa,ke(U.J,U.G,sa))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-m.F,A.j.info("Handshake RTT: "+A.T+"ms")),U=A;var Ce=m;if(U.na=al(U,U.L?U.ba:null,U.W),Ce.L){Ua(U.h,Ce);var Qe=Ce,xt=U.O;xt&&(Qe.H=xt),Qe.D&&(ts(Qe),ws(Qe)),U.g=Ce}else sl(U);A.i.length>0&&ai(A)}else bt[0]!="stop"&&bt[0]!="close"||as(A,7);else A.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?as(A,7):at(A):bt[0]!="noop"&&A.l&&A.l.qa(bt),A.A=0)}}Ie(4)}catch{}}var ln=class{constructor(m,T){this.g=m,this.map=T}};function tl(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ts(m){return m.h?1:m.g?m.g.size:0}function Li(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Gs(m,T){m.g?m.g.add(T):m.h=T}function Ua(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}tl.prototype.cancel=function(){if(this.i=Ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ba(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const A of m.g.values())T=T.concat(A.G);return T}return R(m.i)}var gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(m,T){if(m){m=m.split("&");for(let A=0;A<m.length;A++){const U=m[A].indexOf("=");let re,de=null;U>=0?(re=m[A].substring(0,U),de=m[A].substring(U+1)):re=m[A],T(re,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function ct(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof ct?(this.l=m.l,Kt(this,m.j),this.o=m.o,this.g=m.g,gi(this,m.u),this.h=m.h,Qr(this,ea(m.i)),this.m=m.m):m&&(T=String(m).match(gr))?(this.l=!1,Kt(this,T[1]||"",!0),this.o=ki(T[2]||""),this.g=ki(T[3]||"",!0),gi(this,T[4]),this.h=ki(T[5]||"",!0),Qr(this,T[6]||"",!0),this.m=ki(T[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}ct.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Ss(T,qa,!0),":");var A=this.g;return(A||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Ss(T,qa,!0),"@"),m.push(Ve(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&m.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(Ss(A,A.charAt(0)=="/"?ns:Xr,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",Ss(A,Ns)),m.join("")},ct.prototype.resolve=function(m){const T=Zt(this);let A=!!m.j;A?Kt(T,m.j):A=!!m.o,A?T.o=m.o:A=!!m.g,A?T.g=m.g:A=m.u!=null;var U=m.h;if(A)gi(T,m.u);else if(A=!!m.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var re=T.h.lastIndexOf("/");re!=-1&&(U=T.h.slice(0,re+1)+U)}if(re=U,re==".."||re==".")U="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){U=re.lastIndexOf("/",0)==0,re=re.split("/");const de=[];for(let Ce=0;Ce<re.length;){const Qe=re[Ce++];Qe=="."?U&&Ce==re.length&&de.push(""):Qe==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),U&&Ce==re.length&&de.push("")):(de.push(Qe),U=!0)}U=de.join("/")}else U=re}return A?T.h=U:A=m.i.toString()!=="",A?Qr(T,ea(m.i)):A=!!m.m,A&&(T.m=m.m),T};function Zt(m){return new ct(m)}function Kt(m,T,A){m.j=A?ki(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function gi(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Qr(m,T,A){T instanceof Di?(m.i=T,_r(m.i,m.l)):(A||(T=Ss(T,jt)),m.i=new Di(T,m.l))}function ke(m,T,A){m.i.set(T,A)}function Mt(m){return ke(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ki(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ss(m,T,A){return typeof m=="string"?(m=encodeURI(m).replace(T,Ut),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ut(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var qa=/[#\/\?@]/g,Xr=/[#\?:]/g,ns=/[#\?]/g,jt=/[#\?@]/g,Ns=/#/g;function Di(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function wn(m){m.g||(m.g=new Map,m.h=0,m.i&&ot(m.i,function(T,A){m.add(decodeURIComponent(T.replace(/\+/g," ")),A)}))}n=Di.prototype,n.add=function(m,T){wn(this),this.i=null,m=As(this,m);let A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(T),this.h+=1,this};function Ha(m,T){wn(m),T=As(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function $s(m,T){return wn(m),T=As(m,T),m.g.has(T)}n.forEach=function(m,T){wn(this),this.g.forEach(function(A,U){A.forEach(function(re){m.call(T,re,U,this)},this)},this)};function Jr(m,T){wn(m);let A=[];if(typeof T=="string")$s(m,T)&&(A=A.concat(m.g.get(As(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)A=A.concat(m[T]);return A}n.set=function(m,T){return wn(this),this.i=null,m=As(this,m),$s(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},n.get=function(m,T){return m?(m=Jr(this,m),m.length>0?String(m[0]):T):T};function yr(m,T,A){Ha(m,T),A.length>0&&(m.i=null,m.g.set(As(m,T),R(A)),m.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let U=0;U<T.length;U++){var A=T[U];const re=Ve(A);A=Jr(this,A);for(let de=0;de<A.length;de++){let Ce=re;A[de]!==""&&(Ce+="="+Ve(A[de])),m.push(Ce)}}return this.i=m.join("&")};function ea(m){const T=new Di;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function As(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function _r(m,T){T&&!m.j&&(wn(m),m.i=null,m.g.forEach(function(A,U){const re=U.toLowerCase();U!=re&&(Ha(this,U),yr(this,re,A))},m)),m.j=T}function ii(m,T){const A=new lt;if(h.Image){const U=new Image;U.onload=w(si,A,"TestLoadImage: loaded",!0,T,U),U.onerror=w(si,A,"TestLoadImage: error",!1,T,U),U.onabort=w(si,A,"TestLoadImage: abort",!1,T,U),U.ontimeout=w(si,A,"TestLoadImage: timeout",!1,T,U),h.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else T(!1)}function Fa(m,T){const A=new lt,U=new AbortController,re=setTimeout(()=>{U.abort(),si(A,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:U.signal}).then(de=>{clearTimeout(re),de.ok?si(A,"TestPingServer: ok",!0,T):si(A,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(re),si(A,"TestPingServer: error",!1,T)})}function si(m,T,A,U,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),U(A)}catch{}}function vr(){this.g=new Yr}function Ze(m){this.i=m.Sb||null,this.h=m.ab||!1}E(Ze,Wr),Ze.prototype.g=function(){return new Un(this.i,this.h)};function Un(m,T){Ht.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Un,Ht),n=Un.prototype,n.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,yi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||h).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Et(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Et(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Zs(this):yi(this),this.readyState==3&&Et(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Zs(this))},n.Na=function(m){this.g&&(this.response=m,Zs(this))},n.ga=function(){this.g&&Zs(this)};function Zs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,yi(m)}n.setRequestHeader=function(m,T){this.A.append(m,T)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var A=T.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=T.next();return m.join(`\r
`)};function yi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Un.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ri(m){let T="";return Ne(m,function(A,U){T+=U,T+=":",T+=A,T+=`\r
`}),T}function Ks(m,T,A){e:{for(U in A){var U=!1;break e}U=!0}U||(A=ri(A),typeof m=="string"?A!=null&&Ve(A):ke(m,T,A))}function ft(m){Ht.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ft,Ht);var Oi=/^https?$/i,Ys=["POST","PUT"];n=ft.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,T,A,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(de){Yt(this,de);return}if(m=A||"",A=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var re in U)A.set(re,U[re]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const de of U.keys())A.set(de,U.get(de));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(A.keys()).find(de=>de.toLowerCase()=="content-type"),re=h.FormData&&m instanceof h.FormData,!(Array.prototype.indexOf.call(Ys,T,void 0)>=0)||U||re||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ce]of A)this.g.setRequestHeader(de,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(de){Yt(this,de)}};function Yt(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,is(m),Cs(m)}function is(m){m.A||(m.A=!0,Xt(m,"complete"),Xt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Xt(this,"complete"),Xt(this,"abort"),Cs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),ft.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},n.Xa=function(){xr(this)};function xr(m){if(m.h&&typeof c<"u"){if(m.v&&ss(m)==4)setTimeout(m.Ca.bind(m),0);else if(Xt(m,"readystatechange"),ss(m)==4){m.h=!1;try{const de=m.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var A;if(!(A=T)){var U;if(U=de===0){let Ce=String(m.D).match(gr)[1]||null;!Ce&&h.self&&h.self.location&&(Ce=h.self.location.protocol.slice(0,-1)),U=!Oi.test(Ce?Ce.toLowerCase():"")}A=U}if(A)Xt(m,"complete"),Xt(m,"success");else{m.o=6;try{var re=ss(m)>2?m.g.statusText:""}catch{re=""}m.l=re+" ["+m.ca()+"]",is(m)}}finally{Cs(m)}}}}function Cs(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const A=m.g;m.g=null,T||Xt(m,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ss(m){return m.g?m.g.readyState:0}n.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Wo(T)}};function En(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(m){const T={};m=(m.g&&ss(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(F(m[U]))continue;var A=el(m[U]);const re=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const de=T[re]||[];T[re]=de,de.push(A)}me(T,function(U){return U.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(m,T,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||T}function Ws(m){this.za=0,this.i=[],this.j=new lt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rs("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rs("baseRetryDelayMs",5e3,m),this.Za=Rs("retryDelaySeedMs",1e4,m),this.Ta=Rs("forwardChannelMaxRetries",2,m),this.va=Rs("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new tl(m&&m.concurrentRequestLimit),this.Ba=new vr,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ws.prototype,n.ka=8,n.I=1,n.connect=function(m,T,A,U){je(0),this.W=m,this.H=T||{},A&&U!==void 0&&(this.H.OSID=A,this.H.OAID=U),this.F=this.X,this.J=al(this,null,this.W),ai(this)};function at(m){if(Bn(m),m.I==3){var T=m.V++,A=Zt(m.J);if(ke(A,"SID",m.M),ke(A,"RID",T),ke(A,"TYPE","terminate"),Qs(m,A),T=new Pi(m,m.j,T),T.M=2,T.A=Mt(Zt(A)),A=!1,h.navigator&&h.navigator.sendBeacon)try{A=h.navigator.sendBeacon(T.A.toString(),"")}catch{}!A&&h.Image&&(new Image().src=T.A,A=!0),A||(T.g=ol(T.j,null),T.g.ea(T.A)),T.F=Date.now(),ws(T)}os(m)}function br(m){m.g&&(rl(m),m.g.cancel(),m.g=null)}function Bn(m){br(m),m.v&&(h.clearTimeout(m.v),m.v=null),$a(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&h.clearTimeout(m.m),m.m=null)}function ai(m){if(!nl(m.h)&&!m.m){m.m=!0;var T=m.Ea;te||I(),_e||(te(),_e=!0),H.add(T,m),m.D=0}}function ta(m,T){return Ts(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=tt(v(m.Ea,m,T),cc(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const re=new Pi(this,this.j,m);let de=this.o;if(this.U&&(de?(de=O(de),fe(de,this.U)):de=this.U),this.u!==null||this.R||(re.J=de,de=null),this.S)e:{for(var T=0,A=0;A<this.i.length;A++){t:{var U=this.i[A];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(T+=U,T>4096){T=A;break e}if(T===4096||A===this.i.length-1){T=A+1;break e}}T=1e3}else T=1e3;T=lc(this,re,T),A=Zt(this.J),ke(A,"RID",m),ke(A,"CVER",22),this.G&&ke(A,"X-HTTP-Session-Id",this.G),Qs(this,A),de&&(this.R?T="headers="+Ve(ri(de))+"&"+T:this.u&&Ks(A,this.u,de)),Gs(this.h,re),this.Ra&&ke(A,"TYPE","init"),this.S?(ke(A,"$req",T),ke(A,"SID","null"),re.U=!0,Ji(re,A,null)):Ji(re,A,T),this.I=2}}else this.I==3&&(m?il(this,m):this.i.length==0||nl(this.h)||il(this))};function il(m,T){var A;T?A=T.l:A=m.V++;const U=Zt(m.J);ke(U,"SID",m.M),ke(U,"RID",A),ke(U,"AID",m.K),Qs(m,U),m.u&&m.o&&Ks(U,m.u,m.o),A=new Pi(m,m.j,A,m.D+1),m.u===null&&(A.J=m.o),T&&(m.i=T.G.concat(m.i)),T=lc(m,A,1e3),A.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Gs(m.h,A),Ji(A,U,T)}function Qs(m,T){m.H&&Ne(m.H,function(A,U){ke(T,U,A)}),m.l&&Ne({},function(A,U){ke(T,U,A)})}function lc(m,T,A){A=Math.min(m.i.length,A);const U=m.l?v(m.l.Ka,m.l,m):null;e:{var re=m.i;let Qe=-1;for(;;){const xt=["count="+A];Qe==-1?A>0?(Qe=re[0].g,xt.push("ofs="+Qe)):Qe=0:xt.push("ofs="+Qe);let bt=!0;for(let Bt=0;Bt<A;Bt++){var de=re[Bt].g;const Vi=re[Bt].map;if(de-=Qe,de<0)Qe=Math.max(0,re[Bt].g-100),bt=!1;else try{de="req"+de+"_"||"";try{var Ce=Vi instanceof Map?Vi:Object.entries(Vi);for(const[zi,vi]of Ce){let ls=vi;_(vi)&&(ls=Qi(vi)),xt.push(de+zi+"="+encodeURIComponent(ls))}}catch(zi){throw xt.push(de+"type="+encodeURIComponent("_badmap")),zi}}catch{U&&U(Vi)}}if(bt){Ce=xt.join("&");break e}}Ce=void 0}return m=m.i.splice(0,A),T.G=m,Ce}function sl(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;te||I(),_e||(te(),_e=!0),H.add(T,m),m.A=0}}function na(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=tt(v(m.Da,m),cc(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Ga(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=tt(v(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),br(this),Ga(this))};function rl(m){m.B!=null&&(h.clearTimeout(m.B),m.B=null)}function Ga(m){m.g=new Pi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Zt(m.na);ke(T,"RID","rpc"),ke(T,"SID",m.M),ke(T,"AID",m.K),ke(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&ke(T,"TO",m.ia),ke(T,"TYPE","xmlhttp"),Qs(m,T),m.u&&m.o&&Ks(T,m.u,m.o),m.O&&(m.g.H=m.O);var A=m.g;m=m.ba,A.M=1,A.A=Mt(Zt(T)),A.u=null,A.R=!0,es(A,m)}n.Va=function(){this.C!=null&&(this.C=null,br(this),na(this),je(19))};function $a(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function _i(m,T){var A=null;if(m.g==T){$a(m),rl(m),m.g=null;var U=2}else if(Li(m.h,T))A=T.G,Ua(m.h,T),U=1;else return;if(m.I!=0){if(T.o)if(U==1){A=T.u?T.u.length:0,T=Date.now()-T.F;var re=m.D;U=pr(),Xt(U,new qe(U,A)),ai(m)}else sl(m);else if(re=T.m,re==3||re==0&&T.X>0||!(U==1&&ta(m,T)||U==2&&na(m)))switch(A&&A.length>0&&(T=m.h,T.i=T.i.concat(A)),re){case 1:as(m,5);break;case 4:as(m,10);break;case 3:as(m,6);break;default:as(m,2)}}}function cc(m,T){let A=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(A*=2),A*T}function as(m,T){if(m.j.info("Error code "+T),T==2){var A=v(m.bb,m),U=m.Ua;const re=!U;U=new ct(U||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Kt(U,"https"),Mt(U),re?ii(U.toString(),A):Fa(U.toString(),A)}else je(2);m.I=0,m.l&&m.l.pa(T),os(m),Bn(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function os(m){if(m.I=0,m.ja=[],m.l){const T=Ba(m.h);(T.length!=0||m.i.length!=0)&&(j(m.ja,T),j(m.ja,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.oa()}}function al(m,T,A){var U=A instanceof ct?Zt(A):new ct(A);if(U.g!="")T&&(U.g=T+"."+U.g),gi(U,U.u);else{var re=h.location;U=re.protocol,T=T?T+"."+re.hostname:re.hostname,re=+re.port;const de=new ct(null);U&&Kt(de,U),T&&(de.g=T),re&&gi(de,re),A&&(de.h=A),U=de}return A=m.G,T=m.wa,A&&T&&ke(U,A,T),ke(U,"VER",m.ka),Qs(m,U),U}function ol(m,T,A){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new ft(new Ze({ab:A})):new ft(m.ma),T.Fa(m.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Za(){}n=Za.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function wr(){}wr.prototype.g=function(m,T){return new qn(m,T)};function qn(m,T){Ht.call(this),this.g=new Ws(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!F(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!F(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Xs(this)}E(qn,Ht),qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){at(this.g)},qn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.v&&(A={},A.__data__=Qi(m),m=A);T.i.push(new ln(T.Ya++,m)),T.I==3&&ai(T)},qn.prototype.N=function(){this.g.l=null,delete this.j,at(this.g),delete this.g,qn.Z.N.call(this)};function ll(m){nn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const A in T){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}E(ll,nn);function uc(){Kn.call(this),this.status=1}E(uc,Kn);function Xs(m){this.g=m}E(Xs,Za),Xs.prototype.ra=function(){Xt(this.g,"a")},Xs.prototype.qa=function(m){Xt(this.g,new ll(m))},Xs.prototype.pa=function(m){Xt(this.g,new uc)},Xs.prototype.oa=function(){Xt(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,ME=function(){return new wr},PE=function(){return pr()},IE=$t,fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,yf=Fs,Xo.COMPLETE="complete",RE=Xo,Va.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Ht.prototype.listen=Ht.prototype.J,id=Va,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,CE=ft}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});let hi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");let ou="12.9.0";function yM(n){ou=n}const $l=new Wy("@firebase/firestore");function Hc(){return $l.logLevel}function Oe(n,...e){if($l.logLevel<=yt.DEBUG){const t=e.map(c_);$l.debug(`Firestore (${ou}): ${n}`,...t)}}function Pa(n,...e){if($l.logLevel<=yt.ERROR){const t=e.map(c_);$l.error(`Firestore (${ou}): ${n}`,...t)}}function Zl(n,...e){if($l.logLevel<=yt.WARN){const t=e.map(c_);$l.warn(`Firestore (${ou}): ${n}`,...t)}}function c_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function We(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,jE(n,s,t)}function jE(n,e,t){let s=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Pa(s),new Error(s)}function It(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||jE(e,o,s)}function Je(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class LE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hi.UNAUTHENTICATED)))}shutdown(){}}class vM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xM{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){It(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},_=p=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>_(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?_(p):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(It(typeof s.accessToken=="string",31837,{l:s}),new LE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new hi(e)}}class bM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class wM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new bM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $b{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){It(this.o===void 0,3512);const s=c=>{c.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,Oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $b(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(It(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $b(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class u_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TM(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function _t(n,e){return n<e?-1:n>e?1:0}function my(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Mg(o)===Mg(c)?_t(o,c):Mg(o)?1:-1}return _t(n.length,e.length)}const SM=55296,NM=57343;function Mg(n){const e=n.charCodeAt(0);return e>=SM&&e<=NM}function Xc(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const Zb="__name__";class jr{constructor(e,t,s){t===void 0?t=0:t>e.length&&We(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&We(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=jr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return _t(e.length,t.length)}static compareSegments(e,t){const s=jr.isNumericId(e),o=jr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?jr.extractNumericId(e).compare(jr.extractNumericId(t)):my(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lo.fromString(e.substring(4,e.length-2))}}class Gt extends jr{construct(e,t,s){return new Gt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Le(xe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Gt(t)}static emptyPath(){return new Gt([])}}const AM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends jr{construct(e,t,s){return new Jn(e,t,s)}static isValidIdentifier(e){return AM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zb}static keyField(){return new Jn([Zb])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Le(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const _=e[o];if(_==="\\"){if(o+1===e.length)throw new Le(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Le(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else _==="`"?(h=!h,o++):_!=="."||h?(s+=_,o++):(c(),o++)}if(c(),h)throw new Le(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(t)}static emptyPath(){return new Jn([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Gt.fromString(e))}static fromName(e){return new $e(Gt.fromString(e).popFirst(5))}static empty(){return new $e(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Gt(e.slice()))}}function kE(n,e,t){if(!t)throw new Le(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CM(n,e,t,s){if(e===!0&&s===!0)throw new Le(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Kb(n){if(!$e.isDocumentKey(n))throw new Le(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yb(n){if($e.isDocumentKey(n))throw new Le(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function um(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":We(12329,{type:typeof n})}function mi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=um(n);throw new Le(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function In(n,e){const t={typeString:n};return e&&(t.value=e),t}function Vd(n,e){if(!DE(n))throw new Le(xe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const h=n[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Le(xe.INVALID_ARGUMENT,t);return!0}const Wb=-62135596800,Qb=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Qb);return new Qt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Wb)throw new Le(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qb}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vd(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:In("string",Qt._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Qt(0,0))}static max(){return new et(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bd=-1;function RM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=et.fromTimestamp(s===1e9?new Qt(t+1,0):new Qt(t,s));return new Vo(o,$e.empty(),e)}function IM(n){return new Vo(n.readTime,n.key,bd)}class Vo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Vo(et.min(),$e.empty(),bd)}static max(){return new Vo(et.max(),$e.empty(),bd)}}function PM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$e.comparator(n.documentKey,e.documentKey),t!==0?t:_t(n.largestBatchId,e.largestBatchId))}const MM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lu(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==MM)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&We(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Te.reject(t)}static resolve(e){return new Te(((t,s)=>{t(e)}))}static reject(e){return new Te(((t,s)=>{s(e)}))}static waitFor(e){return new Te(((t,s)=>{let o=0,c=0,h=!1;e.forEach((_=>{++o,_.next((()=>{++c,h&&c===o&&t()}),(p=>s(p)))})),h=!0,c===o&&t()}))}static or(e){let t=Te.resolve(!1);for(const s of e)t=t.next((o=>o?Te.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new Te(((s,o)=>{const c=e.length,h=new Array(c);let _=0;for(let p=0;p<c;p++){const v=p;t(e[v]).next((w=>{h[v]=w,++_,_===c&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new Te(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function LM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cu(n){return n.name==="IndexedDbTransactionError"}class dm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dm.ce=-1;const d_=-1;function hm(n){return n==null}function kf(n){return n===0&&1/n==-1/0}function kM(n){return typeof n=="number"&&Number.isInteger(n)&&!kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const OE="";function DM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xb(e)),e=OM(n.get(t),e);return Xb(e)}function OM(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case OE:t+="";break;default:t+=c}}return t}function Xb(n){return n+OE+""}function Jb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $o(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VM(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function VE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class an{constructor(e,t){this.comparator=e,this.root=t||Xn.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??Xn.RED,this.left=o??Xn.EMPTY,this.right=c??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new Xn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw We(43730,{key:this.key,value:this.value});if(this.right.isRed())throw We(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw We(27949);return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw We(57766)}get value(){throw We(16141)}get color(){throw We(16727)}get left(){throw We(29726)}get right(){throw We(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new Xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ew(this.data.getIterator())}getIteratorFrom(e){return new ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gs{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new gs([])}unionWith(e){let t=new kn(Jn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xc(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class zE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new zE("Invalid base64 string: "+c):c}})(e);return new ei(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const zM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zo(n){if(It(!!n,39018),typeof n=="string"){let e=0;const t=zM.exec(n);if(It(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xn(n.seconds),nanos:xn(n.nanos)}}function xn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Uo(n){return typeof n=="string"?ei.fromBase64String(n):ei.fromUint8Array(n)}const UE="server_timestamp",BE="__type__",qE="__previous_value__",HE="__local_write_time__";function h_(n){return(n?.mapValue?.fields||{})[BE]?.stringValue===UE}function fm(n){const e=n.mapValue.fields[qE];return h_(e)?fm(e):e}function wd(n){const e=zo(n.mapValue.fields[HE].timestampValue);return new Qt(e.seconds,e.nanos)}class UM{constructor(e,t,s,o,c,h,_,p,v,w,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=_,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=w,this.apiKey=E}}const Df="(default)";class Ed{constructor(e,t){this.projectId=e,this.database=t||Df}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===Df}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}function BM(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Le(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(n.options.projectId,e)}const FE="__type__",qM="__max__",sf={mapValue:{}},GE="__vector__",Of="value";function Bo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?h_(n)?4:FM(n)?9007199254740991:HM(n)?10:11:We(28295,{value:n})}function $r(n,e){if(n===e)return!0;const t=Bo(n);if(t!==Bo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wd(n).isEqual(wd(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=zo(o.timestampValue),_=zo(c.timestampValue);return h.seconds===_.seconds&&h.nanos===_.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return Uo(o.bytesValue).isEqual(Uo(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return xn(o.geoPointValue.latitude)===xn(c.geoPointValue.latitude)&&xn(o.geoPointValue.longitude)===xn(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return xn(o.integerValue)===xn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=xn(o.doubleValue),_=xn(c.doubleValue);return h===_?kf(h)===kf(_):isNaN(h)&&isNaN(_)}return!1})(n,e);case 9:return Xc(n.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},_=c.mapValue.fields||{};if(Jb(h)!==Jb(_))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(_[p]===void 0||!$r(h[p],_[p])))return!1;return!0})(n,e);default:return We(52216,{left:n})}}function Td(n,e){return(n.values||[]).find((t=>$r(t,e)))!==void 0}function Jc(n,e){if(n===e)return 0;const t=Bo(n),s=Bo(e);if(t!==s)return _t(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return _t(n.booleanValue,e.booleanValue);case 2:return(function(c,h){const _=xn(c.integerValue||c.doubleValue),p=xn(h.integerValue||h.doubleValue);return _<p?-1:_>p?1:_===p?0:isNaN(_)?isNaN(p)?0:-1:1})(n,e);case 3:return tw(n.timestampValue,e.timestampValue);case 4:return tw(wd(n),wd(e));case 5:return my(n.stringValue,e.stringValue);case 6:return(function(c,h){const _=Uo(c),p=Uo(h);return _.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(c,h){const _=c.split("/"),p=h.split("/");for(let v=0;v<_.length&&v<p.length;v++){const w=_t(_[v],p[v]);if(w!==0)return w}return _t(_.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,h){const _=_t(xn(c.latitude),xn(h.latitude));return _!==0?_:_t(xn(c.longitude),xn(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return nw(n.arrayValue,e.arrayValue);case 10:return(function(c,h){const _=c.fields||{},p=h.fields||{},v=_[Of]?.arrayValue,w=p[Of]?.arrayValue,E=_t(v?.values?.length||0,w?.values?.length||0);return E!==0?E:nw(v,w)})(n.mapValue,e.mapValue);case 11:return(function(c,h){if(c===sf.mapValue&&h===sf.mapValue)return 0;if(c===sf.mapValue)return 1;if(h===sf.mapValue)return-1;const _=c.fields||{},p=Object.keys(_),v=h.fields||{},w=Object.keys(v);p.sort(),w.sort();for(let E=0;E<p.length&&E<w.length;++E){const C=my(p[E],w[E]);if(C!==0)return C;const R=Jc(_[p[E]],v[w[E]]);if(R!==0)return R}return _t(p.length,w.length)})(n.mapValue,e.mapValue);default:throw We(23264,{he:t})}}function tw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _t(n,e);const t=zo(n),s=zo(e),o=_t(t.seconds,s.seconds);return o!==0?o:_t(t.nanos,s.nanos)}function nw(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Jc(t[o],s[o]);if(c)return c}return _t(t.length,s.length)}function eu(n){return py(n)}function py(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=zo(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Uo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return $e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=py(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${py(t.fields[h])}`;return o+"}"})(n.mapValue):We(61005,{value:n})}function _f(n){switch(Bo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fm(n);return e?16+_f(e):16;case 5:return 2*n.stringValue.length;case 6:return Uo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+_f(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return $o(s.fields,((c,h)=>{o+=c.length+_f(h)})),o})(n.mapValue);default:throw We(13486,{value:n})}}function iw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gy(n){return!!n&&"integerValue"in n}function f_(n){return!!n&&"arrayValue"in n}function sw(n){return!!n&&"nullValue"in n}function rw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vf(n){return!!n&&"mapValue"in n}function HM(n){return(n?.mapValue?.fields||{})[FE]?.stringValue===GE}function dd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return $o(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=dd(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dd(n.arrayValue.values[t]);return e}return{...n}}function FM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qM}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dd(t)}setAll(e){let t=Jn.emptyPath(),s={},o=[];e.forEach(((h,_)=>{if(!t.isImmediateParentOf(_)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=_.popLast()}h?s[_.lastSegment()]=dd(h):o.push(_.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];vf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){$o(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new Ti(dd(this.value))}}function $E(n){const e=[];return $o(n.fields,((t,s)=>{const o=new Jn([t]);if(vf(s)){const c=$E(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new gs(e)}class fi{constructor(e,t,s,o,c,h,_){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=_}static newInvalidDocument(e){return new fi(e,0,et.min(),et.min(),et.min(),Ti.empty(),0)}static newFoundDocument(e,t,s,o){return new fi(e,1,t,et.min(),s,o,0)}static newNoDocument(e,t){return new fi(e,2,t,et.min(),et.min(),Ti.empty(),0)}static newUnknownDocument(e,t){return new fi(e,3,t,et.min(),et.min(),Ti.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vf{constructor(e,t){this.position=e,this.inclusive=t}}function aw(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(c.field.isKeyField()?s=$e.comparator($e.fromName(h.referenceValue),t.key):s=Jc(h,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function ow(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$r(n.position[t],e.position[t]))return!1;return!0}class Sd{constructor(e,t="asc"){this.field=e,this.dir=t}}function GM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ZE{}class Rn extends ZE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ZM(e,t,s):t==="array-contains"?new WM(e,s):t==="in"?new QM(e,s):t==="not-in"?new XM(e,s):t==="array-contains-any"?new JM(e,s):new Rn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new KM(e,s):new YM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jc(t,this.value)):t!==null&&Bo(this.value)===Bo(t)&&this.matchesComparison(Jc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends ZE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ur(e,t)}matches(e){return KE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KE(n){return n.op==="and"}function YE(n){return $M(n)&&KE(n)}function $M(n){for(const e of n.filters)if(e instanceof ur)return!1;return!0}function yy(n){if(n instanceof Rn)return n.field.canonicalString()+n.op.toString()+eu(n.value);if(YE(n))return n.filters.map((e=>yy(e))).join(",");{const e=n.filters.map((t=>yy(t))).join(",");return`${n.op}(${e})`}}function WE(n,e){return n instanceof Rn?(function(s,o){return o instanceof Rn&&s.op===o.op&&s.field.isEqual(o.field)&&$r(s.value,o.value)})(n,e):n instanceof ur?(function(s,o){return o instanceof ur&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,_)=>c&&WE(h,o.filters[_])),!0):!1})(n,e):void We(19439)}function QE(n){return n instanceof Rn?(function(t){return`${t.field.canonicalString()} ${t.op} ${eu(t.value)}`})(n):n instanceof ur?(function(t){return t.op.toString()+" {"+t.getFilters().map(QE).join(" ,")+"}"})(n):"Filter"}class ZM extends Rn{constructor(e,t,s){super(e,t,s),this.key=$e.fromName(s.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class KM extends Rn{constructor(e,t){super(e,"in",t),this.keys=XE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class YM extends Rn{constructor(e,t){super(e,"not-in",t),this.keys=XE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function XE(n,e){return(e.arrayValue?.values||[]).map((t=>$e.fromName(t.referenceValue)))}class WM extends Rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return f_(t)&&Td(t.arrayValue,this.value)}}class QM extends Rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Td(this.value.arrayValue,t)}}class XM extends Rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Td(this.value.arrayValue,t)}}class JM extends Rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!f_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Td(this.value.arrayValue,s)))}}class ej{constructor(e,t=null,s=[],o=[],c=null,h=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=_,this.Te=null}}function lw(n,e=null,t=[],s=[],o=null,c=null,h=null){return new ej(n,e,t,s,o,c,h)}function m_(n){const e=Je(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>yy(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),hm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>eu(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>eu(s))).join(",")),e.Te=t}return e.Te}function p_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ow(n.startAt,e.startAt)&&ow(n.endAt,e.endAt)}function _y(n){return $e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class uu{constructor(e,t=null,s=[],o=[],c=null,h="F",_=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=_,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tj(n,e,t,s,o,c,h,_){return new uu(n,e,t,s,o,c,h,_)}function mm(n){return new uu(n)}function cw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nj(n){return $e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function JE(n){return n.collectionGroup!==null}function hd(n){const e=Je(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let _=new kn(Jn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(_=_.add(v.field))}))})),_})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Sd(c,s))})),t.has(Jn.keyField().canonicalString())||e.Ie.push(new Sd(Jn.keyField(),s))}return e.Ie}function qr(n){const e=Je(n);return e.Ee||(e.Ee=eT(e,hd(n))),e.Ee}function ij(n){const e=Je(n);return e.Re||(e.Re=eT(e,n.explicitOrderBy)),e.Re}function eT(n,e){if(n.limitType==="F")return lw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Sd(o.field,c)}));const t=n.endAt?new Vf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Vf(n.startAt.position,n.startAt.inclusive):null;return lw(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function vy(n,e){const t=n.filters.concat([e]);return new uu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sj(n,e){const t=n.explicitOrderBy.concat([e]);return new uu(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function xy(n,e,t){return new uu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pm(n,e){return p_(qr(n),qr(e))&&n.limitType===e.limitType}function tT(n){return`${m_(qr(n))}|lt:${n.limitType}`}function Fc(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>QE(o))).join(", ")}]`),hm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>eu(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>eu(o))).join(",")),`Target(${s})`})(qr(n))}; limitType=${n.limitType})`}function gm(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):$e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of hd(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(h,_,p){const v=aw(h,_,p);return h.inclusive?v<=0:v<0})(s.startAt,hd(s),o)||s.endAt&&!(function(h,_,p){const v=aw(h,_,p);return h.inclusive?v>=0:v>0})(s.endAt,hd(s),o))})(n,e)}function rj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nT(n){return(e,t)=>{let s=!1;for(const o of hd(n)){const c=aj(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function aj(n,e,t){const s=n.field.isKeyField()?$e.comparator(e.key,t.key):(function(c,h,_){const p=h.data.field(c),v=_.data.field(c);return p!==null&&v!==null?Jc(p,v):We(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return We(19790,{direction:n.dir})}}class nc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return VE(this.inner)}size(){return this.innerSize}}const oj=new an($e.comparator);function Ma(){return oj}const iT=new an($e.comparator);function sd(...n){let e=iT;for(const t of n)e=e.insert(t.key,t);return e}function sT(n){let e=iT;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Dl(){return fd()}function rT(){return fd()}function fd(){return new nc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const lj=new an($e.comparator),cj=new kn($e.comparator);function vt(...n){let e=cj;for(const t of n)e=e.add(t);return e}const uj=new kn(_t);function dj(){return uj}function g_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kf(e)?"-0":e}}function aT(n){return{integerValue:""+n}}function oT(n,e){return kM(e)?aT(e):g_(n,e)}class ym{constructor(){this._=void 0}}function hj(n,e,t){return n instanceof zf?(function(o,c){const h={fields:{[BE]:{stringValue:UE},[HE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&h_(c)&&(c=fm(c)),c&&(h.fields[qE]=c),{mapValue:h}})(t,e):n instanceof Nd?cT(n,e):n instanceof Ad?uT(n,e):(function(o,c){const h=lT(o,c),_=uw(h)+uw(o.Ae);return gy(h)&&gy(o.Ae)?aT(_):g_(o.serializer,_)})(n,e)}function fj(n,e,t){return n instanceof Nd?cT(n,e):n instanceof Ad?uT(n,e):t}function lT(n,e){return n instanceof Cd?(function(s){return gy(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class zf extends ym{}class Nd extends ym{constructor(e){super(),this.elements=e}}function cT(n,e){const t=dT(e);for(const s of n.elements)t.some((o=>$r(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ad extends ym{constructor(e){super(),this.elements=e}}function uT(n,e){let t=dT(e);for(const s of n.elements)t=t.filter((o=>!$r(o,s)));return{arrayValue:{values:t}}}class Cd extends ym{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function uw(n){return xn(n.integerValue||n.doubleValue)}function dT(n){return f_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mj{constructor(e,t){this.field=e,this.transform=t}}function pj(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Nd&&o instanceof Nd||s instanceof Ad&&o instanceof Ad?Xc(s.elements,o.elements,$r):s instanceof Cd&&o instanceof Cd?$r(s.Ae,o.Ae):s instanceof zf&&o instanceof zf})(n.transform,e.transform)}class gj{constructor(e,t){this.version=e,this.transformResults=t}}class Si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _m{}function hT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vm(n.key,Si.none()):new zd(n.key,n.data,Si.none());{const t=n.data,s=Ti.empty();let o=new kn(Jn.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Zo(n.key,s,new gs(o.toArray()),Si.none())}}function yj(n,e,t){n instanceof zd?(function(o,c,h){const _=o.value.clone(),p=hw(o.fieldTransforms,c,h.transformResults);_.setAll(p),c.convertToFoundDocument(h.version,_).setHasCommittedMutations()})(n,e,t):n instanceof Zo?(function(o,c,h){if(!xf(o.precondition,c))return void c.convertToUnknownDocument(h.version);const _=hw(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(fT(o)),p.setAll(_),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,t):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function md(n,e,t,s){return n instanceof zd?(function(c,h,_,p){if(!xf(c.precondition,h))return _;const v=c.value.clone(),w=fw(c.fieldTransforms,p,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Zo?(function(c,h,_,p){if(!xf(c.precondition,h))return _;const v=fw(c.fieldTransforms,p,h),w=h.data;return w.setAll(fT(c)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(c,h,_){return xf(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):_})(n,e,t)}function _j(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=lT(s.transform,o||null);c!=null&&(t===null&&(t=Ti.empty()),t.set(s.field,c))}return t||null}function dw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xc(s,o,((c,h)=>pj(c,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zd extends _m{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zo extends _m{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function fT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function hw(n,e,t){const s=new Map;It(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,_=e.data.field(c.field);s.set(c.field,fj(h,_,t[o]))}return s}function fw(n,e,t){const s=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);s.set(o.field,hj(c,h,e))}return s}class vm extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vj extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xj{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&yj(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=md(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=md(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=rT();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let _=this.applyToLocalView(h,c.mutatedFields);_=t.has(o.key)?null:_;const p=hT(h,_);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(et.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),vt())}isEqual(e){return this.batchId===e.batchId&&Xc(this.mutations,e.mutations,((t,s)=>dw(t,s)))&&Xc(this.baseMutations,e.baseMutations,((t,s)=>dw(t,s)))}}class y_{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){It(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return lj})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new y_(e,t,s,o)}}class bj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wj{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}class Ej{constructor(e,t){this.count=e,this.unchangedNames=t}}var Cn,wt;function Tj(n){switch(n){case xe.OK:return We(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return We(15467,{code:n})}}function mT(n){if(n===void 0)return Pa("GRPC error has no .code"),xe.UNKNOWN;switch(n){case Cn.OK:return xe.OK;case Cn.CANCELLED:return xe.CANCELLED;case Cn.UNKNOWN:return xe.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return xe.INTERNAL;case Cn.UNAVAILABLE:return xe.UNAVAILABLE;case Cn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Cn.NOT_FOUND:return xe.NOT_FOUND;case Cn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Cn.ABORTED:return xe.ABORTED;case Cn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Cn.DATA_LOSS:return xe.DATA_LOSS;default:return We(39323,{code:n})}}(wt=Cn||(Cn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";function Sj(){return new TextEncoder}const Nj=new Lo([4294967295,4294967295],0);function mw(n){const e=Sj().encode(n),t=new AE;return t.update(e),new Uint8Array(t.digest())}function pw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Lo([t,s],0),new Lo([o,c],0)]}class __{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new rd(`Invalid padding: ${t}`);if(s<0)throw new rd(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new rd(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new rd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Lo.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Lo.fromNumber(s)));return o.compare(Nj)===1&&(o=new Lo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=mw(e),[s,o]=pw(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new __(c,o,t);return s.forEach((_=>h.insert(_))),h}insert(e){if(this.ge===0)return;const t=mw(e),[s,o]=pw(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xm{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new xm(et.min(),o,new an(_t),Ma(),vt())}}class Ud{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ud(s,t,vt(),vt(),vt())}}class bf{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class pT{constructor(e,t){this.targetId=e,this.Ce=t}}class gT{constructor(e,t,s=ei.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class gw{constructor(){this.ve=0,this.Fe=yw(),this.Me=ei.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),t=vt(),s=vt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:We(38017,{changeType:c})}})),new Ud(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=yw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Aj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ma(),this.He=rf(),this.Je=rf(),this.Ze=new an(_t)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:We(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(_y(c))if(s===0){const h=new $e(c.path);this.et(t,h,fi.newNoDocument(h,et.min()))}else It(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const _=this.ut(e),p=_?this.ct(_,e,h):1;if(p!==0){this.it(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let h,_;try{h=Uo(s).toUint8Array()}catch(p){if(p instanceof zE)return Zl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{_=new __(h,o,c)}catch(p){return Zl(p instanceof rd?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return _.ge===0?null:_}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),_=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,h)=>{const _=this.ot(h);if(_){if(c.current&&_y(_.target)){const p=new $e(_.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,fi.newNoDocument(p,e))}c.Be&&(t.set(h,c.ke()),c.Ke())}}));let s=vt();this.Je.forEach(((c,h)=>{let _=!0;h.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new xm(e,t,this.Ze,this.je,s);return this.je=Ma(),this.He=rf(),this.Je=rf(),this.Ze=new an(_t),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new gw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new kn(_t),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new kn(_t),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rf(){return new an($e.comparator)}function yw(){return new an($e.comparator)}const Cj={asc:"ASCENDING",desc:"DESCENDING"},Rj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ij={and:"AND",or:"OR"};class Pj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function by(n,e){return n.useProto3Json||hm(e)?e:{value:e}}function Uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mj(n,e){return Uf(n,e.toTimestamp())}function Hr(n){return It(!!n,49232),et.fromTimestamp((function(t){const s=zo(t);return new Qt(s.seconds,s.nanos)})(n))}function v_(n,e){return wy(n,e).canonicalString()}function wy(n,e){const t=(function(o){return new Gt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function _T(n){const e=Gt.fromString(n);return It(TT(e),10190,{key:e.toString()}),e}function Ey(n,e){return v_(n.databaseId,e.path)}function jg(n,e){const t=_T(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(xT(t))}function vT(n,e){return v_(n.databaseId,e)}function jj(n){const e=_T(n);return e.length===4?Gt.emptyPath():xT(e)}function Ty(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xT(n){return It(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _w(n,e,t){return{name:Ey(n,e),fields:t.value.mapValue.fields}}function Lj(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:We(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,w){return v.useProto3Json?(It(w===void 0||typeof w=="string",58123),ei.fromBase64String(w||"")):(It(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),ei.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,_=h&&(function(v){const w=v.code===void 0?xe.UNKNOWN:mT(v.code);return new Le(w,v.message||"")})(h);t=new gT(s,o,c,_||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jg(n,s.document.name),c=Hr(s.document.updateTime),h=s.document.createTime?Hr(s.document.createTime):et.min(),_=new Ti({mapValue:{fields:s.document.fields}}),p=fi.newFoundDocument(o,c,h,_),v=s.targetIds||[],w=s.removedTargetIds||[];t=new bf(v,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jg(n,s.document),c=s.readTime?Hr(s.readTime):et.min(),h=fi.newNoDocument(o,c),_=s.removedTargetIds||[];t=new bf([],_,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jg(n,s.document),c=s.removedTargetIds||[];t=new bf([],c,o,null)}else{if(!("filter"in e))return We(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new Ej(o,c),_=s.targetId;t=new pT(_,h)}}return t}function kj(n,e){let t;if(e instanceof zd)t={update:_w(n,e.key,e.value)};else if(e instanceof vm)t={delete:Ey(n,e.key)};else if(e instanceof Zo)t={update:_w(n,e.key,e.data),updateMask:Fj(e.fieldMask)};else{if(!(e instanceof vj))return We(16599,{dt:e.type});t={verify:Ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const _=h.transform;if(_ instanceof zf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Nd)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Ad)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Cd)return{fieldPath:h.field.canonicalString(),increment:_.Ae};throw We(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Mj(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:We(27497)})(n,e.precondition)),t}function Dj(n,e){return n&&n.length>0?(It(e!==void 0,14353),n.map((t=>(function(o,c){let h=o.updateTime?Hr(o.updateTime):Hr(c);return h.isEqual(et.min())&&(h=Hr(c)),new gj(h,o.transformResults||[])})(t,e)))):[]}function Oj(n,e){return{documents:[vT(n,e.path)]}}function bT(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=vT(n,o);const c=(function(v){if(v.length!==0)return ET(ur.create(v,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const h=(function(v){if(v.length!==0)return v.map((w=>(function(C){return{field:Ao(C.field),direction:Bj(C.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const _=by(n,e.limit);return _!==null&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function Vj(n,e,t,s){const{ft:o,parent:c}=bT(n,e),h={},_=[];let p=0;return t.forEach((v=>{const w="aggregate_"+p++;h[w]=v.alias,v.aggregateType==="count"?_.push({alias:w,count:{}}):v.aggregateType==="avg"?_.push({alias:w,avg:{field:Ao(v.fieldPath)}}):v.aggregateType==="sum"&&_.push({alias:w,sum:{field:Ao(v.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:_,structuredQuery:o.structuredQuery},parent:o.parent},gt:h,parent:c}}function zj(n){let e=jj(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){It(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(E){const C=wT(E);return C instanceof ur&&YE(C)?C.getFilters():[C]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((C=>(function(j){return new Sd(Gc(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(C)))})(t.orderBy));let _=null;t.limit&&(_=(function(E){let C;return C=typeof E=="object"?E.value:E,hm(C)?null:C})(t.limit));let p=null;t.startAt&&(p=(function(E){const C=!!E.before,R=E.values||[];return new Vf(R,C)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const C=!E.before,R=E.values||[];return new Vf(R,C)})(t.endAt)),tj(e,o,h,c,_,"F",p,v)}function Uj(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Gc(t.unaryFilter.field);return Rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Gc(t.unaryFilter.field);return Rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Gc(t.unaryFilter.field);return Rn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Gc(t.unaryFilter.field);return Rn.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return We(61313);default:return We(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Rn.create(Gc(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return We(58110);default:return We(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ur.create(t.compositeFilter.filters.map((s=>wT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return We(1026)}})(t.compositeFilter.op))})(n):We(30097,{filter:n})}function Bj(n){return Cj[n]}function qj(n){return Rj[n]}function Hj(n){return Ij[n]}function Ao(n){return{fieldPath:n.canonicalString()}}function Gc(n){return Jn.fromServerFormat(n.fieldPath)}function ET(n){return n instanceof Rn?(function(t){if(t.op==="=="){if(rw(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NAN"}};if(sw(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rw(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NAN"}};if(sw(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(t.field),op:qj(t.op),value:t.value}}})(n):n instanceof ur?(function(t){const s=t.getFilters().map((o=>ET(o)));return s.length===1?s[0]:{compositeFilter:{op:Hj(t.op),filters:s}}})(n):We(54877,{filter:n})}function Fj(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function TT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function ST(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Io{constructor(e,t,s,o,c=et.min(),h=et.min(),_=ei.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=_,this.expectedCount=p}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gj{constructor(e){this.yt=e}}function $j(n){const e=zj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xy(e,e.limit,"L"):e}class Zj{constructor(){this.Sn=new Kj}addToCollectionParentIndex(e,t){return this.Sn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(Vo.min())}updateCollectionGroup(e,t,s){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class Kj{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kn(Gt.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kn(Gt.comparator)).toArray()}}const vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NT=41943040;class Ki{static withCacheSize(e){return new Ki(e,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Ki.DEFAULT_COLLECTION_PERCENTILE=10,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ki.DEFAULT=new Ki(NT,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ki.DISABLED=new Ki(-1,0,0);class tu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tu(0)}static ar(){return new tu(-1)}}const xw="LruGarbageCollector",Yj=1048576;function bw([n,e],[t,s]){const o=_t(n,t);return o===0?_t(e,s):o}class Wj{constructor(e){this.Pr=e,this.buffer=new kn(bw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();bw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qj{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Oe(xw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cu(t)?Oe(xw,"Ignoring IndexedDB error during garbage collection: ",t):await lu(t)}await this.Ar(3e5)}))}}class Xj{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(dm.ce);const s=new Wj(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(vw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,c,h,_,p,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,_=Date.now(),this.removeTargets(e,s,t)))).next((E=>(c=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),Hc()<=yt.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(_-h)+`ms
	Removed ${c} targets in `+(p-_)+`ms
	Removed ${E} documents in `+(v-p)+`ms
Total Duration: ${v-w}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function Jj(n,e){return new Xj(n,e)}class e5{constructor(){this.changes=new nc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class t5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class n5{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&md(s.mutation,o,gs.empty(),Qt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,vt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=vt()){const o=Dl();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let h=sd();return c.forEach(((_,p)=>{h=h.insert(_,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=Dl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,vt())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,_)=>{t.set(h,_)}))}))}computeViews(e,t,s,o){let c=Ma();const h=fd(),_=(function(){return fd()})();return t.forEach(((p,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Zo)?c=c.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),md(w.mutation,v,w.mutation.getFieldMask(),Qt.now())):h.set(v.key,gs.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((v,w)=>h.set(v,w))),t.forEach(((v,w)=>_.set(v,new t5(w,h.get(v)??null)))),_)))}recalculateAndSaveOverlays(e,t){const s=fd();let o=new an(((h,_)=>h-_)),c=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const _ of h)_.keys().forEach((p=>{const v=t.get(p);if(v===null)return;let w=s.get(p)||gs.empty();w=_.applyToLocalView(v,w),s.set(p,w);const E=(o.get(_.batchId)||vt()).add(p);o=o.insert(_.batchId,E)}))})).next((()=>{const h=[],_=o.getReverseIterator();for(;_.hasNext();){const p=_.getNext(),v=p.key,w=p.value,E=rT();w.forEach((C=>{if(!c.has(C)){const R=hT(t.get(C),s.get(C));R!==null&&E.set(C,R),c=c.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,E))}return Te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return nj(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):Te.resolve(Dl());let _=bd,p=c;return h.next((v=>Te.forEach(v,((w,E)=>(_<E.largestBatchId&&(_=E.largestBatchId),c.get(w)?Te.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{p=p.insert(w,C)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,p,v,vt()))).next((w=>({batchId:_,changes:sT(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next((s=>{let o=sd();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let h=sd();return this.indexManager.getCollectionParents(e,c).next((_=>Te.forEach(_,(p=>{const v=(function(E,C){return new uu(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((E,C)=>{h=h.insert(E,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((h=>{c.forEach(((p,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,fi.newInvalidDocument(w)))}));let _=sd();return h.forEach(((p,v)=>{const w=c.get(p);w!==void 0&&md(w.mutation,v,gs.empty(),Qt.now()),gm(t,v)&&(_=_.insert(p,v))})),_}))}}class i5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Te.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Hr(o.createTime)}})(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:$j(o.bundledQuery),readTime:Hr(o.readTime)}})(t)),Te.resolve()}}class s5{constructor(){this.overlays=new an($e.comparator),this.Lr=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Dl();return Te.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.bt(e,t,c)})),Te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Te.resolve()}getOverlaysForCollection(e,t,s){const o=Dl(),c=t.length+1,h=new $e(t.child("")),_=this.overlays.getIteratorFrom(h);for(;_.hasNext();){const p=_.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new an(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Dl(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const _=Dl(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,w)=>_.set(v,w))),!(_.size()>=o)););return Te.resolve(_)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new bj(t,s));let c=this.Lr.get(t);c===void 0&&(c=vt(),this.Lr.set(t,c)),this.Lr.set(t,c.add(s.key))}}class r5{constructor(){this.sessionToken=ei.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}class x_{constructor(){this.kr=new kn($n.Kr),this.qr=new kn($n.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new $n(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new $n(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new $e(new Gt([])),s=new $n(t,e),o=new $n(t,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new $e(new Gt([])),s=new $n(t,e),o=new $n(t,e+1);let c=vt();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const t=new $n(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class $n{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return $e.comparator(e.key,t.key)||_t(e.Hr,t.Hr)}static Ur(e,t){return _t(e.Hr,t.Hr)||$e.comparator(e.key,t.key)}}class a5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new kn($n.Kr)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new xj(c,t,s,o);this.mutationQueue.push(h);for(const _ of o)this.Jr=this.Jr.add(new $n(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Te.resolve(h)}lookupMutationBatch(e,t){return Te.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),c=o<0?0:o;return Te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?d_:this.Yn-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $n(t,0),o=new $n(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const _=this.Zr(h.Hr);c.push(_)})),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kn(_t);return t.forEach((o=>{const c=new $n(o,0),h=new $n(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(_=>{s=s.add(_.Hr)}))})),Te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;$e.isDocumentKey(c)||(c=c.child(""));const h=new $n(new $e(c),0);let _=new kn(_t);return this.Jr.forEachWhile((p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(_=_.add(p.Hr)),!0)}),h),Te.resolve(this.Yr(_))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){It(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Te.forEach(t.mutations,(o=>{const c=new $n(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new $n(t,0),o=this.Jr.firstAfterOrEqual(s);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class o5{constructor(e){this.ti=e,this.docs=(function(){return new an($e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Te.resolve(s?s.document.mutableCopy():fi.newInvalidDocument(t))}getEntries(e,t){let s=Ma();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():fi.newInvalidDocument(o))})),Te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Ma();const h=t.path,_=new $e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(_);for(;p.hasNext();){const{key:v,value:{document:w}}=p.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||PM(IM(w),s)<=0||(o.has(w.key)||gm(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return Te.resolve(c)}getAllFromCollectionGroup(e,t,s,o){We(9500)}ni(e,t){return Te.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new l5(this)}getSize(e){return Te.resolve(this.size)}}class l5 extends e5{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Te.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class c5{constructor(e){this.persistence=e,this.ri=new nc((t=>m_(t)),p_),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.ii=0,this.si=new x_,this.targetCount=0,this.oi=tu._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),Te.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new tu(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.lr(t),Te.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.ri.forEach(((h,_)=>{_.sequenceNumber<=t&&s.get(_.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)})),Te.waitFor(c).next((()=>o))}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return Te.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),Te.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),Te.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return Te.resolve(s)}containsKey(e,t){return Te.resolve(this.si.containsKey(t))}}class AT{constructor(e,t){this._i={},this.overlays={},this.ai=new dm(0),this.ui=!1,this.ui=!0,this.ci=new r5,this.referenceDelegate=e(this),this.li=new c5(this),this.indexManager=new Zj,this.remoteDocumentCache=(function(o){return new o5(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Gj(t),this.Pi=new i5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new s5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new a5(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){Oe("MemoryPersistence","Starting transaction:",e);const o=new u5(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,t){return Te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class u5 extends jM{constructor(e){super(),this.currentSequenceNumber=e}}class b_{constructor(e){this.persistence=e,this.Ri=new x_,this.Ai=null}static Vi(e){return new b_(e)}get di(){if(this.Ai)return this.Ai;throw We(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),Te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.di,(s=>{const o=$e.fromPath(s);return this.mi(e,o).next((c=>{c||t.removeEntry(o,et.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Te.or([()=>Te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Bf{constructor(e,t){this.persistence=e,this.fi=new nc((s=>DM(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Jj(this,t)}static Vi(e,t){return new Bf(e,t)}Ti(){}Ii(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return Te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?Te.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,t).next((_=>{_||(s++,c.removeEntry(h,et.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Te.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_f(e.data.value)),t}wr(e,t,s){return Te.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return Te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class w_{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=vt(),o=vt();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new w_(e,t.fromCache,s,o)}}class d5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class h5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return RC()?8:LM(pi())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.gs(e,t).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,t,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new d5;return this.ys(e,t,h).next((_=>{if(c.result=_,this.As)return this.ws(e,t,h,_.size)}))})).next((()=>c.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(Hc()<=yt.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Fc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Te.resolve()):(Hc()<=yt.DEBUG&&Oe("QueryEngine","Query:",Fc(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Hc()<=yt.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Fc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):Te.resolve())}gs(e,t){if(cw(t))return Te.resolve(null);let s=qr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=xy(t,null,"F"),s=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=vt(...c);return this.fs.getDocuments(e,h).next((_=>this.indexManager.getMinOffset(e,s).next((p=>{const v=this.bs(t,_);return this.Ss(t,v,h,p.readTime)?this.gs(e,xy(t,null,"F")):this.Ds(e,v,t,p)}))))})))))}ps(e,t,s,o){return cw(t)||o.isEqual(et.min())?Te.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(t,c);return this.Ss(t,h,s,o)?Te.resolve(null):(Hc()<=yt.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fc(t)),this.Ds(e,h,t,RM(o,bd)).next((_=>_)))}))}bs(e,t){let s=new kn(nT(e));return t.forEach(((o,c)=>{gm(e,c)&&(s=s.add(c))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,t,s){return Hc()<=yt.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Fc(t)),this.fs.getDocumentsMatchingQuery(e,t,Vo.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const E_="LocalStore",f5=3e8;class m5{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new an(_t),this.Fs=new nc((c=>m_(c)),p_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function p5(n,e,t,s){return new m5(n,e,t,s)}async function CT(n,e){const t=Je(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],_=[];let p=vt();for(const v of o){h.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}for(const v of c){_.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(s,p).next((v=>({Ns:v,removedBatchIds:h,addedBatchIds:_})))}))}))}function g5(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(_,p,v,w){const E=v.batch,C=E.keys();let R=Te.resolve();return C.forEach((j=>{R=R.next((()=>w.getEntry(p,j))).next((z=>{const k=v.docVersions.get(j);It(k!==null,48541),z.version.compareTo(k)<0&&(E.applyToRemoteDocument(z,v),z.isValidDocument()&&(z.setReadTime(v.commitVersion),w.addEntry(z)))}))})),R.next((()=>_.mutationQueue.removeMutationBatch(p,E)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(_){let p=vt();for(let v=0;v<_.mutationResults.length;++v)_.mutationResults[v].transformResults.length>0&&(p=p.add(_.batch.mutations[v].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function RT(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function y5(n,e){const t=Je(n),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const _=[];e.targetChanges.forEach(((w,E)=>{const C=o.get(E);if(!C)return;_.push(t.li.removeMatchingKeys(c,w.removedDocuments,E).next((()=>t.li.addMatchingKeys(c,w.addedDocuments,E))));let R=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(ei.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,s)),o=o.insert(E,R),(function(z,k,V){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=f5?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(C,R,w)&&_.push(t.li.updateTargetData(c,R))}));let p=Ma(),v=vt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),_.push(_5(c,h,e.documentUpdates).next((w=>{p=w.Bs,v=w.Ls}))),!s.isEqual(et.min())){const w=t.li.getLastRemoteSnapshotVersion(c).next((E=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));_.push(w)}return Te.waitFor(_).next((()=>h.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(t.vs=o,c)))}function _5(n,e,t){let s=vt(),o=vt();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let h=Ma();return t.forEach(((_,p)=>{const v=c.get(_);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(_)),p.isNoDocument()&&p.version.isEqual(et.min())?(e.removeEntry(_,p.readTime),h=h.insert(_,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),h=h.insert(_,p)):Oe(E_,"Ignoring outdated watch update for ",_,". Current version:",v.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function v5(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=d_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function x5(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((c=>c?(o=c,Te.resolve(o)):t.li.allocateTargetId(s).next((h=>(o=new Io(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Sy(n,e,t){const s=Je(n),o=s.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!cu(h))throw h;Oe(E_,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function ww(n,e,t){const s=Je(n);let o=et.min(),c=vt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,v,w){const E=Je(p),C=E.Fs.get(w);return C!==void 0?Te.resolve(E.vs.get(C)):E.li.getTargetData(v,w)})(s,h,qr(e)).next((_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,_.targetId).next((p=>{c=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:et.min(),t?c:vt()))).next((_=>(b5(s,rj(e),_),{documents:_,ks:c})))))}function b5(n,e,t){let s=n.Ms.get(e)||et.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Ms.set(e,s)}class Ew{constructor(){this.activeTargetIds=dj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w5{constructor(){this.vo=new Ew,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ew,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class E5{Mo(e){}shutdown(){}}const Tw="ConnectivityMonitor";class Sw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Oe(Tw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Oe(Tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let af=null;function Ny(){return af===null?af=(function(){return 268435456+Math.round(2147483648*Math.random())})():af++,"0x"+af.toString(16)}const Lg="RestConnection",T5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class S5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Df?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,c){const h=Ny(),_=this.Qo(e,t.toUriEncodedString());Oe(Lg,`Sending RPC '${e}' ${h}:`,_,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:v}=new URL(_),w=Go(v);return this.zo(e,_,p,s,w).then((E=>(Oe(Lg,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Zl(Lg,`RPC '${e}' ${h} failed with error: `,E,"url: ",_,"request:",s),E}))}jo(e,t,s,o,c,h){return this.Wo(e,t,s,o,c)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ou})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,t){const s=T5[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class N5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ui="WebChannelConnection",Xu=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Yc extends S5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Yc.c_){const e=PE();Xu(e,IE.STAT_EVENT,(t=>{t.stat===fy.PROXY?Oe(ui,"STAT_EVENT: detected buffering proxy"):t.stat===fy.NOPROXY&&Oe(ui,"STAT_EVENT: detected no buffering proxy")})),Yc.c_=!0}}zo(e,t,s,o,c){const h=Ny();return new Promise(((_,p)=>{const v=new CE;v.setWithCredentials(!0),v.listenOnce(RE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case yf.NO_ERROR:const E=v.getResponseJson();Oe(ui,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),_(E);break;case yf.TIMEOUT:Oe(ui,`RPC '${e}' ${h} timed out`),p(new Le(xe.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const C=v.getStatus();if(Oe(ui,`RPC '${e}' ${h} failed with status:`,C,"response text:",v.getResponseText()),C>0){let R=v.getResponseJson();Array.isArray(R)&&(R=R[0]);const j=R?.error;if(j&&j.status&&j.message){const z=(function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(B)>=0?B:xe.UNKNOWN})(j.status);p(new Le(z,j.message))}else p(new Le(xe.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Le(xe.UNAVAILABLE,"Connection failed."));break;default:We(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Oe(ui,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);Oe(ui,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=Ny(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Go(_.initMessageHeaders,t,s),_.encodeInitMessageHeaders=!0;const v=c.join("");Oe(ui,`Creating RPC '${e}' stream ${o}: ${v}`,_);const w=h.createWebChannel(v,_);this.I_(w);let E=!1,C=!1;const R=new N5({Ho:j=>{C?Oe(ui,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(E||(Oe(ui,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),Oe(ui,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Jo:()=>w.close()});return Xu(w,id.EventType.OPEN,(()=>{C||(Oe(ui,`RPC '${e}' stream ${o} transport opened.`),R.i_())})),Xu(w,id.EventType.CLOSE,(()=>{C||(C=!0,Oe(ui,`RPC '${e}' stream ${o} transport closed`),R.o_(),this.E_(w))})),Xu(w,id.EventType.ERROR,(j=>{C||(C=!0,Zl(ui,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),R.o_(new Le(xe.UNAVAILABLE,"The operation could not be completed")))})),Xu(w,id.EventType.MESSAGE,(j=>{if(!C){const z=j.data[0];It(!!z,16349);const k=z,V=k?.error||k[0]?.error;if(V){Oe(ui,`RPC '${e}' stream ${o} received error:`,V);const B=V.status;let G=(function(_e){const H=Cn[_e];if(H!==void 0)return mT(H)})(B),ne=V.message;B==="NOT_FOUND"&&ne.includes("database")&&ne.includes("does not exist")&&ne.includes(this.databaseId.database)&&Zl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=xe.INTERNAL,ne="Unknown error status: "+B+" with message "+V.message),C=!0,R.o_(new Le(G,ne)),w.close()}else Oe(ui,`RPC '${e}' stream ${o} received:`,z),R.__(z)}})),Yc.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ME()}}function A5(n){return new Yc(n)}function kg(){return typeof document<"u"?document:null}function bm(n){return new Pj(n,!0)}Yc.c_=!1;class IT{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Nw="PersistentStream";class PT{constructor(e,t,s,o,c,h,_,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=_,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(Pa(t.toString()),Pa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Le(xe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Oe(Nw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Oe(Nw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class C5 extends PT{constructor(e,t,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Lj(this.serializer,e),s=(function(c){if(!("targetChange"in c))return et.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?et.min():h.readTime?Hr(h.readTime):et.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Ty(this.serializer),t.addTarget=(function(c,h){let _;const p=h.target;if(_=_y(p)?{documents:Oj(c,p)}:{query:bT(c,p).ft},_.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){_.resumeToken=yT(c,h.resumeToken);const v=by(c,h.expectedCount);v!==null&&(_.expectedCount=v)}else if(h.snapshotVersion.compareTo(et.min())>0){_.readTime=Uf(c,h.snapshotVersion.toTimestamp());const v=by(c,h.expectedCount);v!==null&&(_.expectedCount=v)}return _})(this.serializer,e);const s=Uj(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Ty(this.serializer),t.removeTarget=e,this.K_(t)}}class R5 extends PT{constructor(e,t,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Dj(e.writeResults,e.commitTime),s=Hr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Ty(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>kj(this.serializer,s)))};this.K_(t)}}class I5{}class P5 extends I5{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Le(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,wy(t,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Le(xe.UNKNOWN,c.toString())}))}jo(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,_])=>this.connection.jo(e,wy(t,s),o,h,_,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Le(xe.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function M5(n,e,t,s){return new P5(n,e,t,s)}class j5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pa(t),this.aa=!1):Oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kl="RemoteStore";class L5{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ic(this)&&(Oe(Kl,"Restarting streams for network reachability change."),await(async function(p){const v=Je(p);v.Ea.add(4),await Bd(v),v.Va.set("Unknown"),v.Ea.delete(4),await wm(v)})(this))}))})),this.Va=new j5(s,o)}}async function wm(n){if(ic(n))for(const e of n.Ra)await e(!0)}async function Bd(n){for(const e of n.Ra)await e(!1)}function MT(n,e){const t=Je(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),A_(t)?N_(t):du(t).O_()&&S_(t,e))}function T_(n,e){const t=Je(n),s=du(t);t.Ia.delete(e),s.O_()&&jT(t,e),t.Ia.size===0&&(s.O_()?s.L_():ic(t)&&t.Va.set("Unknown"))}function S_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}du(n).Z_(e)}function jT(n,e){n.da.$e(e),du(n).X_(e)}function N_(n){n.da=new Aj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),du(n).start(),n.Va.ua()}function A_(n){return ic(n)&&!du(n).x_()&&n.Ia.size>0}function ic(n){return Je(n).Ea.size===0}function LT(n){n.da=void 0}async function k5(n){n.Va.set("Online")}async function D5(n){n.Ia.forEach(((e,t)=>{S_(n,e)}))}async function O5(n,e){LT(n),A_(n)?(n.Va.ha(e),N_(n)):n.Va.set("Unknown")}async function V5(n,e,t){if(n.Va.set("Online"),e instanceof gT&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const _ of c.targetIds)o.Ia.has(_)&&(await o.remoteSyncer.rejectListen(_,h),o.Ia.delete(_),o.da.removeTarget(_))})(n,e)}catch(s){Oe(Kl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qf(n,s)}else if(e instanceof bf?n.da.Xe(e):e instanceof pT?n.da.st(e):n.da.tt(e),!t.isEqual(et.min()))try{const s=await RT(n.localStore);t.compareTo(s)>=0&&await(function(c,h){const _=c.da.Tt(h);return _.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const w=c.Ia.get(v);w&&c.Ia.set(v,w.withResumeToken(p.resumeToken,h))}})),_.targetMismatches.forEach(((p,v)=>{const w=c.Ia.get(p);if(!w)return;c.Ia.set(p,w.withResumeToken(ei.EMPTY_BYTE_STRING,w.snapshotVersion)),jT(c,p);const E=new Io(w.target,p,v,w.sequenceNumber);S_(c,E)})),c.remoteSyncer.applyRemoteEvent(_)})(n,t)}catch(s){Oe(Kl,"Failed to raise snapshot:",s),await qf(n,s)}}async function qf(n,e,t){if(!cu(e))throw e;n.Ea.add(1),await Bd(n),n.Va.set("Offline"),t||(t=()=>RT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Oe(Kl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await wm(n)}))}function kT(n,e){return e().catch((t=>qf(n,t,e)))}async function Em(n){const e=Je(n),t=qo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:d_;for(;z5(e);)try{const o=await v5(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,U5(e,o)}catch(o){await qf(e,o)}DT(e)&&OT(e)}function z5(n){return ic(n)&&n.Ta.length<10}function U5(n,e){n.Ta.push(e);const t=qo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function DT(n){return ic(n)&&!qo(n).x_()&&n.Ta.length>0}function OT(n){qo(n).start()}async function B5(n){qo(n).ra()}async function q5(n){const e=qo(n);for(const t of n.Ta)e.ea(t.mutations)}async function H5(n,e,t){const s=n.Ta.shift(),o=y_.from(s,e,t);await kT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Em(n)}async function F5(n,e){e&&qo(n).Y_&&await(async function(s,o){if((function(h){return Tj(h)&&h!==xe.ABORTED})(o.code)){const c=s.Ta.shift();qo(s).B_(),await kT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Em(s)}})(n,e),DT(n)&&OT(n)}async function Aw(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Oe(Kl,"RemoteStore received new credentials");const s=ic(t);t.Ea.add(3),await Bd(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await wm(t)}async function G5(n,e){const t=Je(n);e?(t.Ea.delete(2),await wm(t)):e||(t.Ea.add(2),await Bd(t),t.Va.set("Unknown"))}function du(n){return n.ma||(n.ma=(function(t,s,o){const c=Je(t);return c.sa(),new C5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:k5.bind(null,n),Yo:D5.bind(null,n),t_:O5.bind(null,n),J_:V5.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),A_(n)?N_(n):n.Va.set("Unknown")):(await n.ma.stop(),LT(n))}))),n.ma}function qo(n){return n.fa||(n.fa=(function(t,s,o){const c=Je(t);return c.sa(),new R5(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:B5.bind(null,n),t_:F5.bind(null,n),ta:q5.bind(null,n),na:H5.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Em(n)):(await n.fa.stop(),n.Ta.length>0&&(Oe(Kl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class C_{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const h=Date.now()+s,_=new C_(e,t,h,o,c);return _.start(s),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(n,e){if(Pa("AsyncQueue",`${e}: ${n}`),cu(n))return new Le(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class Wc{static emptySet(e){return new Wc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||$e.comparator(t.key,s.key):(t,s)=>$e.comparator(t.key,s.key),this.keyedMap=sd(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Wc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Cw{constructor(){this.ga=new an($e.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):We(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class nu{constructor(e,t,s,o,c,h,_,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=_,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,c){const h=[];return t.forEach((_=>{h.push({type:0,doc:_})})),new nu(e,t,Wc.emptySet(t),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class $5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Z5{constructor(){this.queries=Rw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Je(t),c=o.queries;o.queries=Rw(),c.forEach(((h,_)=>{for(const p of _.ba)p.onError(s)}))})(this,new Le(xe.ABORTED,"Firestore shutting down"))}}function Rw(){return new nc((n=>tT(n)),pm)}async function I_(n,e){const t=Je(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new $5,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const _=R_(h,`Initialization of query '${Fc(e.query)}' failed`);return void e.onError(_)}t.queries.set(o,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&M_(t)}async function P_(n,e){const t=Je(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function K5(n,e){const t=Je(n);let s=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const _ of h.ba)_.Fa(o)&&(s=!0);h.wa=o}}s&&M_(t)}function Y5(n,e,t){const s=Je(n),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(t);s.queries.delete(e)}function M_(n){n.Ca.forEach((e=>{e.next()}))}var Ay,Iw;(Iw=Ay||(Ay={})).Ma="default",Iw.Cache="cache";class j_{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new nu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ay.Cache}}class VT{constructor(e){this.key=e}}class zT{constructor(e){this.key=e}}class W5{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=vt(),this.mutatedKeys=vt(),this.eu=nT(e),this.tu=new Wc(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new Cw,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,_=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const C=o.get(w),R=gm(this.query,E)?E:null,j=!!C&&this.mutatedKeys.has(C.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;C&&R?C.data.isEqual(R.data)?j!==z&&(s.track({type:3,doc:R}),k=!0):this.su(C,R)||(s.track({type:2,doc:R}),k=!0,(p&&this.eu(R,p)>0||v&&this.eu(R,v)<0)&&(_=!0)):!C&&R?(s.track({type:0,doc:R}),k=!0):C&&!R&&(s.track({type:1,doc:C}),k=!0,(p||v)&&(_=!0)),k&&(R?(h=h.add(R),c=z?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Ss:_,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,E)=>(function(R,j){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We(20277,{Vt:k})}};return z(R)-z(j)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),o=o??!1;const _=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,v=p!==this.Xa;return this.Xa=p,h.length!==0||v?{snapshot:new nu(this.query,e.tu,c,h,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=vt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new zT(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new VT(s))})),t}cu(e){this.Za=e.ks,this.Ya=vt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const L_="SyncEngine";class Q5{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class X5{constructor(e){this.key=e,this.hu=!1}}class J5{constructor(e,t,s,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new nc((_=>tT(_)),pm),this.Iu=new Map,this.Eu=new Set,this.Ru=new an($e.comparator),this.Au=new Map,this.Vu=new x_,this.du={},this.mu=new Map,this.fu=tu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eL(n,e,t=!0){const s=GT(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await UT(s,e,t,!0),o}async function tL(n,e){const t=GT(n);await UT(t,e,!0,!1)}async function UT(n,e,t,s){const o=await x5(n.localStore,qr(e)),c=o.targetId,h=n.sharedClientState.addLocalQueryTarget(c,t);let _;return s&&(_=await nL(n,e,c,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&MT(n.remoteStore,o),_}async function nL(n,e,t,s,o){n.pu=(E,C,R)=>(async function(z,k,V,B){let G=k.view.ru(V);G.Ss&&(G=await ww(z.localStore,k.query,!1).then((({documents:H})=>k.view.ru(H,G))));const ne=B&&B.targetChanges.get(k.targetId),te=B&&B.targetMismatches.get(k.targetId)!=null,_e=k.view.applyChanges(G,z.isPrimaryClient,ne,te);return Mw(z,k.targetId,_e.au),_e.snapshot})(n,E,C,R);const c=await ww(n.localStore,e,!0),h=new W5(e,c.ks),_=h.ru(c.documents),p=Ud.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=h.applyChanges(_,n.isPrimaryClient,p);Mw(n,t,v.au);const w=new Q5(e,t,h);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function iL(n,e,t){const s=Je(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!pm(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sy(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&T_(s.remoteStore,o.targetId),Cy(s,o.targetId)})).catch(lu)):(Cy(s,o.targetId),await Sy(s.localStore,o.targetId,!0))}async function sL(n,e){const t=Je(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),T_(t.remoteStore,s.targetId))}async function rL(n,e,t){const s=hL(n);try{const o=await(function(h,_){const p=Je(h),v=Qt.now(),w=_.reduce(((R,j)=>R.add(j.key)),vt());let E,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let j=Ma(),z=vt();return p.xs.getEntries(R,w).next((k=>{j=k,j.forEach(((V,B)=>{B.isValidDocument()||(z=z.add(V))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,j))).next((k=>{E=k;const V=[];for(const B of _){const G=_j(B,E.get(B.key).overlayedDocument);G!=null&&V.push(new Zo(B.key,G,$E(G.value.mapValue),Si.exists(!0)))}return p.mutationQueue.addMutationBatch(R,v,V,_)})).next((k=>{C=k;const V=k.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(R,k.batchId,V)}))})).then((()=>({batchId:C.batchId,changes:sT(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,_,p){let v=h.du[h.currentUser.toKey()];v||(v=new an(_t)),v=v.insert(_,p),h.du[h.currentUser.toKey()]=v})(s,o.batchId,t),await qd(s,o.changes),await Em(s.remoteStore)}catch(o){const c=R_(o,"Failed to persist write");t.reject(c)}}async function BT(n,e){const t=Je(n);try{const s=await y5(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=t.Au.get(c);h&&(It(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?It(h.hu,14607):o.removedDocuments.size>0&&(It(h.hu,42227),h.hu=!1))})),await qd(t,s,e)}catch(s){await lu(s)}}function Pw(n,e,t){const s=Je(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,h)=>{const _=h.view.va(e);_.snapshot&&o.push(_.snapshot)})),(function(h,_){const p=Je(h);p.onlineState=_;let v=!1;p.queries.forEach(((w,E)=>{for(const C of E.ba)C.va(_)&&(v=!0)})),v&&M_(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function aL(n,e,t){const s=Je(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new an($e.comparator);h=h.insert(c,fi.newNoDocument(c,et.min()));const _=vt().add(c),p=new xm(et.min(),new Map,new an(_t),h,_);await BT(s,p),s.Ru=s.Ru.remove(c),s.Au.delete(e),k_(s)}else await Sy(s.localStore,e,!1).then((()=>Cy(s,e,t))).catch(lu)}async function oL(n,e){const t=Je(n),s=e.batch.batchId;try{const o=await g5(t.localStore,e);HT(t,s,null),qT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await qd(t,o)}catch(o){await lu(o)}}async function lL(n,e,t){const s=Je(n);try{const o=await(function(h,_){const p=Je(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return p.mutationQueue.lookupMutationBatch(v,_).next((E=>(It(E!==null,37113),w=E.keys(),p.mutationQueue.removeMutationBatch(v,E)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,w,_))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>p.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);HT(s,e,t),qT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await qd(s,o)}catch(o){await lu(o)}}function qT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function HT(n,e,t){const s=Je(n);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||FT(n,s)}))}function FT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(T_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),k_(n))}function Mw(n,e,t){for(const s of t)s instanceof VT?(n.Vu.addReference(s.key,e),cL(n,s)):s instanceof zT?(Oe(L_,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||FT(n,s.key)):We(19791,{wu:s})}function cL(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(Oe(L_,"New document in limbo: "+t),n.Eu.add(s),k_(n))}function k_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new $e(Gt.fromString(e)),s=n.fu.next();n.Au.set(s,new X5(t)),n.Ru=n.Ru.insert(t,s),MT(n.remoteStore,new Io(qr(mm(t.path)),s,"TargetPurposeLimboResolution",dm.ce))}}async function qd(n,e,t){const s=Je(n),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((_,p)=>{h.push(s.pu(p,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(v){o.push(v);const w=w_.Es(p.targetId,v);c.push(w)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,v){const w=Je(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>Te.forEach(v,(C=>Te.forEach(C.Ts,(R=>w.persistence.referenceDelegate.addReference(E,C.targetId,R))).next((()=>Te.forEach(C.Is,(R=>w.persistence.referenceDelegate.removeReference(E,C.targetId,R)))))))))}catch(E){if(!cu(E))throw E;Oe(E_,"Failed to update sequence numbers: "+E)}for(const E of v){const C=E.targetId;if(!E.fromCache){const R=w.vs.get(C),j=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(j);w.vs=w.vs.insert(C,z)}}})(s.localStore,c))}async function uL(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Oe(L_,"User change. New user:",e.toKey());const s=await CT(t.localStore,e);t.currentUser=e,(function(c,h){c.mu.forEach((_=>{_.forEach((p=>{p.reject(new Le(xe.CANCELLED,h))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qd(t,s.Ns)}}function dL(n,e){const t=Je(n),s=t.Au.get(e);if(s&&s.hu)return vt().add(s.key);{let o=vt();const c=t.Iu.get(e);if(!c)return o;for(const h of c){const _=t.Tu.get(h);o=o.unionWith(_.view.nu)}return o}}function GT(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aL.bind(null,e),e.Pu.J_=K5.bind(null,e.eventManager),e.Pu.yu=Y5.bind(null,e.eventManager),e}function hL(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lL.bind(null,e),e}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return p5(this.persistence,new h5,e.initialUser,this.serializer)}Cu(e){return new AT(b_.Vi,this.serializer)}Du(e){return new w5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class fL extends Hf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){It(this.persistence.referenceDelegate instanceof Bf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Qj(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ki.withCacheSize(this.cacheSizeBytes):Ki.DEFAULT;return new AT((s=>Bf.Vi(s,t)),this.serializer)}}class Ry{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Pw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uL.bind(null,this.syncEngine),await G5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Z5})()}createDatastore(e){const t=bm(e.databaseInfo.databaseId),s=A5(e.databaseInfo);return M5(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,h,_){return new L5(s,o,c,h,_)})(this.localStore,this.datastore,e.asyncQueue,(t=>Pw(this.syncEngine,t,0)),(function(){return Sw.v()?new Sw:new E5})())}createSyncEngine(e,t){return(function(o,c,h,_,p,v,w){const E=new J5(o,c,h,_,p,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Je(t);Oe(Kl,"RemoteStore shutting down."),s.Ea.add(5),await Bd(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ry.provider={build:()=>new Ry};class D_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ho="FirestoreClient";class mL{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=hi.UNAUTHENTICATED,this.clientId=u_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{Oe(Ho,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(Oe(Ho,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=R_(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Dg(n,e){n.asyncQueue.verifyOperationInProgress(),Oe(Ho,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await CT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function jw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await pL(n);Oe(Ho,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Aw(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Aw(e.remoteStore,o))),n._onlineComponents=e}async function pL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe(Ho,"Using user provided OfflineComponentProvider");try{await Dg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===xe.FAILED_PRECONDITION||o.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Zl("Error using user provided cache. Falling back to memory cache: "+t),await Dg(n,new Hf)}}else Oe(Ho,"Using default OfflineComponentProvider"),await Dg(n,new fL(void 0));return n._offlineComponents}async function O_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe(Ho,"Using user provided OnlineComponentProvider"),await jw(n,n._uninitializedComponentsProvider._online)):(Oe(Ho,"Using default OnlineComponentProvider"),await jw(n,new Ry))),n._onlineComponents}function gL(n){return O_(n).then((e=>e.syncEngine))}function yL(n){return O_(n).then((e=>e.datastore))}async function Ff(n){const e=await O_(n),t=e.eventManager;return t.onListen=eL.bind(null,e.syncEngine),t.onUnlisten=iL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sL.bind(null,e.syncEngine),t}function _L(n,e,t,s){const o=new D_(s),c=new j_(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>I_(await Ff(n),c))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>P_(await Ff(n),c)))}}function vL(n,e,t={}){const s=new Br;return n.asyncQueue.enqueueAndForget((async()=>(function(c,h,_,p,v){const w=new D_({next:C=>{w.Nu(),h.enqueueAndForget((()=>P_(c,E)));const R=C.docs.has(_);!R&&C.fromCache?v.reject(new Le(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&C.fromCache&&p&&p.source==="server"?v.reject(new Le(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),E=new j_(mm(_.path),w,{includeMetadataChanges:!0,Ka:!0});return I_(c,E)})(await Ff(n),n.asyncQueue,e,t,s))),s.promise}function xL(n,e,t={}){const s=new Br;return n.asyncQueue.enqueueAndForget((async()=>(function(c,h,_,p,v){const w=new D_({next:C=>{w.Nu(),h.enqueueAndForget((()=>P_(c,E))),C.fromCache&&p.source==="server"?v.reject(new Le(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),E=new j_(_,w,{includeMetadataChanges:!0,Ka:!0});return I_(c,E)})(await Ff(n),n.asyncQueue,e,t,s))),s.promise}function bL(n,e,t){const s=new Br;return n.asyncQueue.enqueueAndForget((async()=>{try{const o=await yL(n);s.resolve((async function(h,_,p){const v=Je(h),{request:w,gt:E,parent:C}=Vj(v.serializer,ij(_),p);v.connection.Ko||delete w.parent;const R=(await v.jo("RunAggregationQuery",v.serializer.databaseId,C,w,1)).filter((z=>!!z.result));It(R.length===1,64727);const j=R[0].result?.aggregateFields;return Object.keys(j).reduce(((z,k)=>(z[E[k]]=j[k],z)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}function wL(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((async()=>rL(await gL(n),e,t))),t.promise}function $T(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const EL="ComponentProvider",Lw=new Map;function TL(n,e,t,s,o){return new UM(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,$T(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const ZT="firestore.googleapis.com",kw=!0;class Dw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZT,this.ssl=kw}else this.host=e.host,this.ssl=e.ssl??kw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Yj)throw new Le(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Le(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Le(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Le(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _M;switch(s.type){case"firstParty":return new wM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Le(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Lw.get(t);s&&(Oe(EL,"Removing Datastore"),Lw.delete(t),s.terminate())})(this),Promise.resolve()}}function SL(n,e,t,s={}){n=mi(n,Tm);const o=Go(e),c=n._getSettings(),h={...c,emulatorOptions:n._getEmulatorOptions()},_=`${e}:${t}`;o&&(Ky(`https://${_}`),Yy("Firestore",!0)),c.host!==ZT&&c.host!==_&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:_,ssl:o,emulatorOptions:s};if(!ql(p,h)&&(n._setSettings(p),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=hi.MOCK_USER;else{v=U1(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new Le(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new hi(E)}n._authCredentials=new vM(new LE(v,w))}}class Ko{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class fn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Vd(t,fn._jsonSchema))return new fn(e,s||null,new $e(Gt.fromString(t.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:In("string",fn._jsonSchemaVersion),referencePath:In("string")};class ko extends Ko{constructor(e,t,s){super(e,t,mm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new $e(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function vn(n,e,...t){if(n=Dt(n),kE("collection","path",e),n instanceof Tm){const s=Gt.fromString(e,...t);return Yb(s),new ko(n,null,s)}{if(!(n instanceof fn||n instanceof ko))throw new Le(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Gt.fromString(e,...t));return Yb(s),new ko(n.firestore,null,s)}}function Ft(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=u_.newId()),kE("doc","path",e),n instanceof Tm){const s=Gt.fromString(e,...t);return Kb(s),new fn(n,null,new $e(s))}{if(!(n instanceof fn||n instanceof ko))throw new Le(xe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Gt.fromString(e,...t));return Kb(s),new fn(n.firestore,n instanceof ko?n.converter:null,new $e(s))}}const Ow="AsyncQueue";class Vw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IT(this,"async_queue_retry"),this._c=()=>{const s=kg();s&&Oe(Ow,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=kg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=kg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cu(e))throw e;Oe(Ow,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Pa("INTERNAL UNHANDLED ERROR: ",zw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=C_.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&We(47125,{Pc:zw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function zw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class dr extends Tm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Vw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vw(e),this._firestoreClient=void 0,await e}}}function NL(n,e){const t=typeof n=="object"?n:Xy(),s=typeof n=="string"?n:Df,o=am(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=O1("firestore");c&&SL(o,...c)}return o}function hu(n){if(n._terminated)throw new Le(xe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AL(n),n._firestoreClient}function AL(n){const e=n._freezeSettings(),t=TL(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new mL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(ei.fromBase64String(e))}catch(t){throw new Le(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zs(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vd(e,zs._jsonSchema))return zs.fromBase64String(e.bytes)}}zs._jsonSchemaVersion="firestore/bytes/1.0",zs._jsonSchema={type:In("string",zs._jsonSchemaVersion),bytes:In("string")};class Sm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Le(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nm{constructor(e){this._methodName=e}}class Fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(Vd(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:In("string",Fr._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};class cr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vd(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cr(e.vectorValues);throw new Le(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:In("string",cr._jsonSchemaVersion),vectorValues:In("object")};const CL=/^__.*__$/;class RL{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Zo(e,this.data,this.fieldMask,t,this.fieldTransforms):new zd(e,this.data,t,this.fieldTransforms)}}class KT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Zo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We(40011,{dataSource:n})}}class V_{constructor(e,t,s,o,c,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new V_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Gf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(YT(this.dataSource)&&CL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class IL{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||bm(e)}createContext(e,t,s,o=!1){return new V_({dataSource:e,methodName:t,targetDoc:s,path:Jn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hd(n){const e=n._freezeSettings(),t=bm(n._databaseId);return new IL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function z_(n,e,t,s,o,c={}){const h=n.createContext(c.merge||c.mergeFields?2:0,e,t,o);B_("Data must be an object, but it was:",h,s);const _=XT(s,h);let p,v;if(c.merge)p=new gs(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const E of c.mergeFields){const C=Yl(e,E,t);if(!h.contains(C))throw new Le(xe.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);tS(w,C)||w.push(C)}p=new gs(w),v=h.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,v=h.fieldTransforms;return new RL(new Ti(_),p,v)}class Am extends Nm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Am}}class U_ extends Nm{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Cd(e.serializer,oT(e.serializer,this.Vc));return new mj(e.path,t)}isEqual(e){return e instanceof U_&&this.Vc===e.Vc}}function WT(n,e,t,s){const o=n.createContext(1,e,t);B_("Data must be an object, but it was:",o,s);const c=[],h=Ti.empty();$o(s,((p,v)=>{const w=eS(e,p,t);v=Dt(v);const E=o.childContextForFieldPath(w);if(v instanceof Am)c.push(w);else{const C=Fd(v,E);C!=null&&(c.push(w),h.set(w,C))}}));const _=new gs(c);return new KT(h,_,o.fieldTransforms)}function QT(n,e,t,s,o,c){const h=n.createContext(1,e,t),_=[Yl(e,s,t)],p=[o];if(c.length%2!=0)throw new Le(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)_.push(Yl(e,c[C])),p.push(c[C+1]);const v=[],w=Ti.empty();for(let C=_.length-1;C>=0;--C)if(!tS(v,_[C])){const R=_[C];let j=p[C];j=Dt(j);const z=h.childContextForFieldPath(R);if(j instanceof Am)v.push(R);else{const k=Fd(j,z);k!=null&&(v.push(R),w.set(R,k))}}const E=new gs(v);return new KT(w,E,h.fieldTransforms)}function PL(n,e,t,s=!1){return Fd(t,n.createContext(s?4:3,e))}function Fd(n,e){if(JT(n=Dt(n)))return B_("Unsupported field value:",e,n),XT(n,e);if(n instanceof Nm)return(function(s,o){if(!YT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const _ of s){let p=Fd(_,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=Dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Qt.fromDate(s);return{timestampValue:Uf(o.serializer,c)}}if(s instanceof Qt){const c=new Qt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uf(o.serializer,c)}}if(s instanceof Fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zs)return{bytesValue:yT(o.serializer,s._byteString)};if(s instanceof fn){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:v_(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cr)return(function(h,_){const p=h instanceof cr?h.toArray():h;return{mapValue:{fields:{[FE]:{stringValue:GE},[Of]:{arrayValue:{values:p.map((w=>{if(typeof w!="number")throw _.createError("VectorValues must only contain numeric values.");return g_(_.serializer,w)}))}}}}}})(s,o);if(ST(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${um(s)}`)})(n,e)}function XT(n,e){const t={};return VE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(n,((s,o)=>{const c=Fd(o,e.childContextForField(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function JT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qt||n instanceof Fr||n instanceof zs||n instanceof fn||n instanceof Nm||n instanceof cr||ST(n))}function B_(n,e,t){if(!JT(t)||!DE(t)){const s=um(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Yl(n,e,t){if((e=Dt(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return eS(n,e);throw Gf("Field path arguments must be of type string or ",n,!1,void 0,t)}const ML=new RegExp("[~\\*/\\[\\]]");function eS(n,e,t){if(e.search(ML)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sm(...e.split("."))._internalPath}catch{throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gf(n,e,t,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new Le(xe.INVALID_ARGUMENT,_+n+p)}function tS(n,e){return n.some((t=>t.isEqual(e)))}class jL{convertValue(e,t="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw We(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return $o(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[Of].arrayValue?.values?.map((s=>xn(s.doubleValue)));return new cr(t)}convertGeoPoint(e){return new Fr(xn(e.latitude),xn(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=fm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(wd(e));default:return null}}convertTimestamp(e){const t=zo(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Gt.fromString(e);It(TT(s),9688,{name:e});const o=new Ed(s.get(1),s.get(3)),c=new $e(s.popFirst(5));return o.isEqual(t)||Pa(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Cm extends jL{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function LL(n){return new U_("increment",n)}const Uw="@firebase/firestore",Bw="4.11.0";function qw(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class kL{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class DL{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new Ti({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class nS{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Yl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OL extends nS{data(){return super.data()}}function iS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Le(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class sS extends q_{}function Vs(n,e,...t){let s=[];e instanceof q_&&s.push(e),s=s.concat(t),(function(c){const h=c.filter((p=>p instanceof H_)).length,_=c.filter((p=>p instanceof Rm)).length;if(h>1||h>0&&_>0)throw new Le(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class Rm extends sS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Rm(e,t,s)}_apply(e){const t=this._parse(e);return rS(e._query,t),new Ko(e.firestore,e.converter,vy(e._query,t))}_parse(e){const t=Hd(e.firestore);return(function(c,h,_,p,v,w,E){let C;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Le(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Fw(E,w);const j=[];for(const z of E)j.push(Hw(p,c,z));C={arrayValue:{values:j}}}else C=Hw(p,c,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Fw(E,w),C=PL(_,h,E,w==="in"||w==="not-in");return Rn.create(v,w,C)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wa(n,e,t){const s=e,o=Yl("where",n);return Rm._create(o,s,t)}class H_ extends q_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new H_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let h=o;const _=c.getFlattenedFilters();for(const p of _)rS(h,p),h=vy(h,p)})(e._query,t),new Ko(e.firestore,e.converter,vy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class F_ extends sS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new F_(e,t)}_apply(e){const t=(function(o,c,h){if(o.startAt!==null)throw new Le(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Le(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(c,h)})(e._query,this._field,this._direction);return new Ko(e.firestore,e.converter,sj(e._query,t))}}function G_(n,e="asc"){const t=e,s=Yl("orderBy",n);return F_._create(s,t)}function Hw(n,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new Le(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JE(e)&&t.indexOf("/")!==-1)throw new Le(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Gt.fromString(t));if(!$e.isDocumentKey(s))throw new Le(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return iw(n,new $e(s))}if(t instanceof fn)return iw(n,t._key);throw new Le(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(t)}.`)}function Fw(n,e){if(!Array.isArray(n)||n.length===0)throw new Le(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(n,e){const t=(function(o,c){for(const h of o)for(const _ of h.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Le(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function $_(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}function VL(){return new kL("count")}function Gw(n){return zL(n,{count:VL()})}function zL(n,e){const t=mi(n.firestore,dr),s=hu(t),o=VM(e,((c,h)=>new wj(h,c.aggregateType,c._internalFieldPath)));return bL(s,n._query,o).then((c=>(function(_,p,v){const w=new Cm(_);return new DL(p,w,v)})(t,n,c)))}class ad{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends nS{constructor(e,t,s,o,c,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Yl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ol._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ol._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ol._jsonSchema={type:In("string",Ol._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class wf extends Ol{data(e={}){return super.data(e)}}class Vl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ad(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new wf(this._firestore,this._userDataWriter,s.key,s,new ad(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((_=>{const p=new wf(o._firestore,o._userDataWriter,_.doc.key,_.doc,new ad(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);return _.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((_=>c||_.type!==3)).map((_=>{const p=new wf(o._firestore,o._userDataWriter,_.doc.key,_.doc,new ad(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return _.type!==0&&(v=h.indexOf(_.doc.key),h=h.delete(_.doc.key)),_.type!==1&&(h=h.add(_.doc),w=h.indexOf(_.doc.key)),{type:UL(_.type),doc:p,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=u_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We(61501,{type:n})}}Vl._jsonSchemaVersion="firestore/querySnapshot/1.0",Vl._jsonSchema={type:In("string",Vl._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};class BL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hd(e)}set(e,t,s){this._verifyNotCommitted();const o=Og(e,this._firestore),c=$_(o.converter,t,s),h=z_(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,Si.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const c=Og(e,this._firestore);let h;return h=typeof(t=Dt(t))=="string"||t instanceof Sm?QT(this._dataReader,"WriteBatch.update",c._key,t,s,o):WT(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,Si.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Og(e,this._firestore);return this._mutations=this._mutations.concat(new vm(t._key,Si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Og(n,e){if((n=Dt(n)).firestore!==e)throw new Le(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Do(n){n=mi(n,fn);const e=mi(n.firestore,dr),t=hu(e);return vL(t,n._key).then((s=>aS(e,n,s)))}function ar(n){n=mi(n,Ko);const e=mi(n.firestore,dr),t=hu(e),s=new Cm(e);return iS(n._query),xL(t,n._query).then((o=>new Vl(e,s,n,o)))}function Vg(n,e,t){n=mi(n,fn);const s=mi(n.firestore,dr),o=$_(n.converter,e,t),c=Hd(s);return Gd(s,[z_(c,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Si.none())])}function rr(n,e,t,...s){n=mi(n,fn);const o=mi(n.firestore,dr),c=Hd(o);let h;return h=typeof(e=Dt(e))=="string"||e instanceof Sm?QT(c,"updateDoc",n._key,e,t,s):WT(c,"updateDoc",n._key,e),Gd(o,[h.toMutation(n._key,Si.exists(!0))])}function $f(n){return Gd(mi(n.firestore,dr),[new vm(n._key,Si.none())])}function zl(n,e){const t=mi(n.firestore,dr),s=Ft(n),o=$_(n.converter,e),c=Hd(n.firestore);return Gd(t,[z_(c,"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Si.exists(!1))]).then((()=>s))}function qL(n,...e){n=Dt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qw(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(qw(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let c,h,_;if(n instanceof fn)h=mi(n.firestore,dr),_=mm(n._key.path),c={next:v=>{e[s]&&e[s](aS(h,n,v))},error:e[s+1],complete:e[s+2]};else{const v=mi(n,Ko);h=mi(v.firestore,dr),_=v._query;const w=new Cm(h);c={next:E=>{e[s]&&e[s](new Vl(h,w,v,E))},error:e[s+1],complete:e[s+2]},iS(n._query)}const p=hu(h);return _L(p,_,o,c)}function Gd(n,e){const t=hu(n);return wL(t,e)}function aS(n,e,t){const s=t.docs.get(e._key),o=new Cm(n);return new Ol(n,o,e._key,s,new ad(t.hasPendingWrites,t.fromCache),e.converter)}function HL(n){return n=mi(n,dr),hu(n),new BL(n,(e=>Gd(n,e)))}(function(e,t=!0){yM(ec),Hl(new Oo("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),_=new dr(new xM(s.getProvider("auth-internal")),new EM(h,s.getProvider("app-check-internal")),BM(h,o),h);return c={useFetchStreams:t,...c},_._setSettings(c),_}),"PUBLIC").setMultipleInstances(!0)),Vr(Uw,Bw,e),Vr(Uw,Bw,"esm2020")})();const oS="firebasestorage.googleapis.com",lS="storageBucket",FL=120*1e3,GL=600*1e3;class pn extends Zr{constructor(e,t,s=0){super(zg(e),`Firebase Storage: ${t} (${zg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mn||(mn={}));function zg(n){return"storage/"+n}function Z_(){const n="An unknown error occurred, please check the error payload for server response.";return new pn(mn.UNKNOWN,n)}function $L(n){return new pn(mn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function ZL(n){return new pn(mn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pn(mn.UNAUTHENTICATED,n)}function YL(){return new pn(mn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WL(n){return new pn(mn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function QL(){return new pn(mn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XL(){return new pn(mn.CANCELED,"User canceled the upload/download.")}function JL(n){return new pn(mn.INVALID_URL,"Invalid URL '"+n+"'.")}function ek(n){return new pn(mn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function tk(){return new pn(mn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lS+"' property when initializing the app?")}function nk(){return new pn(mn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ik(){return new pn(mn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sk(n){return new pn(mn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Iy(n){return new pn(mn.INVALID_ARGUMENT,n)}function cS(){return new pn(mn.APP_DELETED,"The Firebase app was deleted.")}function rk(n){return new pn(mn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pd(n,e){return new pn(mn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ju(n){throw new pn(mn.INTERNAL_ERROR,"Internal error: "+n)}class ys{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ys.makeFromUrl(e,t)}catch{return new ys(e,"")}if(s.path==="")return s;throw ek(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const h="(/(.*))?$",_=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function v(ne){ne.path_=decodeURIComponent(ne.path)}const w="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${w}/b/${o}/o${C}`,"i"),j={bucket:1,path:3},z=t===oS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",V=new RegExp(`^https?://${z}/${o}/${k}`,"i"),G=[{regex:_,indices:p,postModify:c},{regex:R,indices:j,postModify:v},{regex:V,indices:{bucket:1,path:2},postModify:v}];for(let ne=0;ne<G.length;ne++){const te=G[ne],_e=te.regex.exec(e);if(_e){const H=_e[te.indices.bucket];let I=_e[te.indices.path];I||(I=""),s=new ys(H,I),te.postModify(s);break}}if(s==null)throw JL(e);return s}}class ak{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ok(n,e,t){let s=1,o=null,c=null,h=!1,_=0;function p(){return _===2}let v=!1;function w(...k){v||(v=!0,e.apply(null,k))}function E(k){o=setTimeout(()=>{o=null,n(R,p())},k)}function C(){c&&clearTimeout(c)}function R(k,...V){if(v){C();return}if(k){C(),w.call(null,k,...V);return}if(p()||h){C(),w.call(null,k,...V);return}s<64&&(s*=2);let G;_===1?(_=2,G=0):G=(s+Math.random())*1e3,E(G)}let j=!1;function z(k){j||(j=!0,C(),!v&&(o!==null?(k||(_=2),clearTimeout(o),E(0)):k||(_=1)))}return E(0),c=setTimeout(()=>{h=!0,z(!0)},t),z}function lk(n){n(!1)}function ck(n){return n!==void 0}function uk(n){return typeof n=="object"&&!Array.isArray(n)}function K_(n){return typeof n=="string"||n instanceof String}function $w(n){return Y_()&&n instanceof Blob}function Y_(){return typeof Blob<"u"}function Zw(n,e,t,s){if(s<e)throw Iy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Iy(`Invalid value for '${n}'. Expected ${t} or less.`)}function W_(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function uS(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ul;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ul||(Ul={}));function dk(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}class hk{constructor(e,t,s,o,c,h,_,p,v,w,E,C=!0,R=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=_,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=w,this.connectionFactory_=E,this.retry=C,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,z)=>{this.resolve_=j,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new of(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=_=>{const p=_.loaded,v=_.lengthComputable?_.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const _=c.getErrorCode()===Ul.NO_ERROR,p=c.getStatus();if(!_||dk(p,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Ul.ABORT;s(!1,new of(!1,null,w));return}const v=this.successCodes_.indexOf(p)!==-1;s(!0,new of(v,c))})},t=(s,o)=>{const c=this.resolve_,h=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(_,_.getResponse());ck(p)?c(p):c()}catch(p){h(p)}else if(_!==null){const p=Z_();p.serverResponse=_.getErrorText(),this.errorCallback_?h(this.errorCallback_(_,p)):h(p)}else if(o.canceled){const p=this.appDelete_?cS():XL();h(p)}else{const p=QL();h(p)}};this.canceled_?t(!1,new of(!1,null,!0)):this.backoffId_=ok(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class of{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function fk(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function mk(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pk(n,e){e&&(n["X-Firebase-GMPID"]=e)}function gk(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function yk(n,e,t,s,o,c,h=!0,_=!1){const p=uS(n.urlParams),v=n.url+p,w=Object.assign({},n.headers);return pk(w,e),fk(w,t),mk(w,c),gk(w,s),new hk(v,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,_)}function _k(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vk(...n){const e=_k();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Y_())return new Blob(n);throw new pn(mn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xk(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function bk(n){if(typeof atob>"u")throw sk("base-64");return atob(n)}const Lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ug{constructor(e,t){this.data=e,this.contentType=t||null}}function wk(n,e){switch(n){case Lr.RAW:return new Ug(dS(e));case Lr.BASE64:case Lr.BASE64URL:return new Ug(hS(n,e));case Lr.DATA_URL:return new Ug(Tk(e),Sk(e))}throw Z_()}function dS(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=s,h=n.charCodeAt(++t);s=65536|(c&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Ek(n){let e;try{e=decodeURIComponent(n)}catch{throw pd(Lr.DATA_URL,"Malformed data URL.")}return dS(e)}function hS(n,e){switch(n){case Lr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw pd(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Lr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw pd(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=bk(e)}catch(o){throw o.message.includes("polyfill")?o:pd(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class fS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw pd(Lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=Nk(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Tk(n){const e=new fS(n);return e.base64?hS(Lr.BASE64,e.rest):Ek(e.rest)}function Sk(n){return new fS(n).contentType}function Nk(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Co{constructor(e,t){let s=0,o="";$w(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if($w(this.data_)){const s=this.data_,o=xk(s,e,t);return o===null?null:new Co(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Co(s,!0)}}static getBlob(...e){if(Y_()){const t=e.map(s=>s instanceof Co?s.data_:s);return new Co(vk.apply(null,t))}else{const t=e.map(h=>K_(h)?wk(Lr.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let c=0;return t.forEach(h=>{for(let _=0;_<h.length;_++)o[c++]=h[_]}),new Co(o,!0)}}uploadData(){return this.data_}}function mS(n){let e;try{e=JSON.parse(n)}catch{return null}return uk(e)?e:null}function Ak(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Ck(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function pS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function Rk(n,e){return e}class wi{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||Rk}}let lf=null;function Ik(n){return!K_(n)||n.length<2?n:pS(n)}function gS(){if(lf)return lf;const n=[];n.push(new wi("bucket")),n.push(new wi("generation")),n.push(new wi("metageneration")),n.push(new wi("name","fullPath",!0));function e(c,h){return Ik(h)}const t=new wi("name");t.xform=e,n.push(t);function s(c,h){return h!==void 0?Number(h):h}const o=new wi("size");return o.xform=s,n.push(o),n.push(new wi("timeCreated")),n.push(new wi("updated")),n.push(new wi("md5Hash",null,!0)),n.push(new wi("cacheControl",null,!0)),n.push(new wi("contentDisposition",null,!0)),n.push(new wi("contentEncoding",null,!0)),n.push(new wi("contentLanguage",null,!0)),n.push(new wi("contentType",null,!0)),n.push(new wi("metadata","customMetadata",!0)),lf=n,lf}function Pk(n,e){function t(){const s=n.bucket,o=n.fullPath,c=new ys(s,o);return e._makeStorageReference(c)}Object.defineProperty(n,"ref",{get:t})}function Mk(n,e,t){const s={};s.type="file";const o=t.length;for(let c=0;c<o;c++){const h=t[c];s[h.local]=h.xform(s,e[h.server])}return Pk(s,n),s}function yS(n,e,t){const s=mS(e);return s===null?null:Mk(n,s,t)}function jk(n,e,t,s){const o=mS(e);if(o===null||!K_(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(v=>{const w=n.bucket,E=n.fullPath,C="/b/"+h(w)+"/o/"+h(E),R=W_(C,t,s),j=uS({alt:"media",token:v});return R+j})[0]}function Lk(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}class _S{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vS(n){if(!n)throw Z_()}function kk(n,e){function t(s,o){const c=yS(n,o,e);return vS(c!==null),c}return t}function Dk(n,e){function t(s,o){const c=yS(n,o,e);return vS(c!==null),jk(c,o,n.host,n._protocol)}return t}function xS(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=YL():o=KL():t.getStatus()===402?o=ZL(n.bucket):t.getStatus()===403?o=WL(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Ok(n){const e=xS(n);function t(s,o){let c=e(s,o);return s.getStatus()===404&&(c=$L(n.path)),c.serverResponse=o.serverResponse,c}return t}function Vk(n,e,t){const s=e.fullServerUrl(),o=W_(s,n.host,n._protocol),c="GET",h=n.maxOperationRetryTime,_=new _S(o,c,Dk(n,t),h);return _.errorHandler=Ok(e),_}function zk(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Uk(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=zk(null,e)),s}function Bk(n,e,t,s,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function _(){let G="";for(let ne=0;ne<2;ne++)G=G+Math.random().toString().slice(2);return G}const p=_();h["Content-Type"]="multipart/related; boundary="+p;const v=Uk(e,s,o),w=Lk(v,t),E="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+w+`\r
--`+p+`\r
Content-Type: `+v.contentType+`\r
\r
`,C=`\r
--`+p+"--",R=Co.getBlob(E,s,C);if(R===null)throw nk();const j={name:v.fullPath},z=W_(c,n.host,n._protocol),k="POST",V=n.maxUploadRetryTime,B=new _S(z,k,kk(n,t),V);return B.urlParams=j,B.headers=h,B.body=R.uploadData(),B.errorHandler=xS(e),B}class qk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ul.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ul.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ul.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,c){if(this.sent_)throw Ju("cannot .send() more than once");if(Go(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ju("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ju("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ju("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ju("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Hk extends qk{initXhr(){this.xhr_.responseType="text"}}function bS(){return new Hk}class Wl{constructor(e,t){this._service=e,t instanceof ys?this._location=t:this._location=ys.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wl(e,t)}get root(){const e=new ys(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pS(this._location.path)}get storage(){return this._service}get parent(){const e=Ak(this._location.path);if(e===null)return null;const t=new ys(this._location.bucket,e);return new Wl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw rk(e)}}function Fk(n,e,t){n._throwIfRoot("uploadBytes");const s=Bk(n.storage,n._location,gS(),new Co(e,!0),t);return n.storage.makeRequestWithTokens(s,bS).then(o=>({metadata:o,ref:n}))}function Gk(n){n._throwIfRoot("getDownloadURL");const e=Vk(n.storage,n._location,gS());return n.storage.makeRequestWithTokens(e,bS).then(t=>{if(t===null)throw ik();return t})}function $k(n,e){const t=Ck(n._location.path,e),s=new ys(n._location.bucket,t);return new Wl(n.storage,s)}function Zk(n){return/^[A-Za-z]+:\/\//.test(n)}function Kk(n,e){return new Wl(n,e)}function wS(n,e){if(n instanceof Q_){const t=n;if(t._bucket==null)throw tk();const s=new Wl(t,t._bucket);return e!=null?wS(s,e):s}else return e!==void 0?$k(n,e):n}function Yk(n,e){if(e&&Zk(e)){if(n instanceof Q_)return Kk(n,e);throw Iy("To use ref(service, url), the first argument must be a Storage instance.")}else return wS(n,e)}function Kw(n,e){const t=e?.[lS];return t==null?null:ys.makeFromBucketSpec(t,n)}function Wk(n,e,t,s={}){n.host=`${e}:${t}`;const o=Go(e);o&&(Ky(`https://${n.host}/b`),Yy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:U1(c,n.app.options.projectId))}class Q_{constructor(e,t,s,o,c,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=oS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FL,this._maxUploadRetryTime=GL,this._requests=new Set,o!=null?this._bucket=ys.makeFromBucketSpec(o,this._host):this._bucket=Kw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ys.makeFromBucketSpec(this._url,e):this._bucket=Kw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wl(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new ak(cS());{const h=yk(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Yw="@firebase/storage",Ww="0.14.0";const ES="storage";function Bg(n,e,t){return n=Dt(n),Fk(n,e,t)}function qg(n){return n=Dt(n),Gk(n)}function Hg(n,e){return n=Dt(n),Yk(n,e)}function Qk(n=Xy(),e){n=Dt(n);const s=am(n,ES).getImmediate({identifier:e}),o=O1("storage");return o&&Xk(s,...o),s}function Xk(n,e,t,s={}){Wk(n,e,t,s)}function Jk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Q_(t,s,o,e,ec)}function e4(){Hl(new Oo(ES,Jk,"PUBLIC").setMultipleInstances(!0)),Vr(Yw,Ww,""),Vr(Yw,Ww,"esm2020")}e4();const t4={apiKey:"AIzaSyDhATfuTR03Z0MDHK6LdVtePzvnOlw2RYs",authDomain:"inmobiliaria-89dca.firebaseapp.com",projectId:"inmobiliaria-89dca",storageBucket:"inmobiliaria-89dca.firebasestorage.app",messagingSenderId:"264339137867",appId:"1:264339137867:web:721f347d175208451c34ce",measurementId:"G-71P9DV29GB"},X_=H1(t4),jl=pM(X_),Xe=NL(X_),Fg=Qk(X_),n4=new Ea,i4=new ud("apple.com");let s4={data:""},r4=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||s4},a4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o4=/\/\*[^]*?\*\/|  +/g,Qw=/\n+/g,Ro=(n,e)=>{let t="",s="",o="";for(let c in n){let h=n[c];c[0]=="@"?c[1]=="i"?t=c+" "+h+";":s+=c[1]=="f"?Ro(h,c):c+"{"+Ro(h,c[1]=="k"?"":e)+"}":typeof h=="object"?s+=Ro(h,e?e.replace(/([^,])+/g,_=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,_):_?_+" "+p:p)):c):h!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Ro.p?Ro.p(c,h):c+":"+h+";")}return t+(e&&o?e+"{"+o+"}":o)+s},xa={},TS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+TS(n[t]);return e}return n},l4=(n,e,t,s,o)=>{let c=TS(n),h=xa[c]||(xa[c]=(p=>{let v=0,w=11;for(;v<p.length;)w=101*w+p.charCodeAt(v++)>>>0;return"go"+w})(c));if(!xa[h]){let p=c!==n?n:(v=>{let w,E,C=[{}];for(;w=a4.exec(v.replace(o4,""));)w[4]?C.shift():w[3]?(E=w[3].replace(Qw," ").trim(),C.unshift(C[0][E]=C[0][E]||{})):C[0][w[1]]=w[2].replace(Qw," ").trim();return C[0]})(n);xa[h]=Ro(o?{["@keyframes "+h]:p}:p,t?"":"."+h)}let _=t&&xa.g?xa.g:null;return t&&(xa.g=xa[h]),((p,v,w,E)=>{E?v.data=v.data.replace(E,p):v.data.indexOf(p)===-1&&(v.data=w?p+v.data:v.data+p)})(xa[h],e,s,_),h},c4=(n,e,t)=>n.reduce((s,o,c)=>{let h=e[c];if(h&&h.call){let _=h(t),p=_&&_.props&&_.props.className||/^go/.test(_)&&_;h=p?"."+p:_&&typeof _=="object"?_.props?"":Ro(_,""):_===!1?"":_}return s+o+(h??"")},"");function Im(n){let e=this||{},t=n.call?n(e.p):n;return l4(t.unshift?t.raw?c4(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,r4(e.target),e.g,e.o,e.k)}let SS,Py,My;Im.bind({g:1});let ja=Im.bind({k:1});function u4(n,e,t,s){Ro.p=e,SS=n,Py=t,My=s}function Yo(n,e){let t=this||{};return function(){let s=arguments;function o(c,h){let _=Object.assign({},c),p=_.className||o.className;t.p=Object.assign({theme:Py&&Py()},_),t.o=/ *go\d+/.test(p),_.className=Im.apply(t,s)+(p?" "+p:"");let v=n;return n[0]&&(v=_.as||n,delete _.as),My&&v[0]&&My(_),SS(v,_)}return o}}var d4=n=>typeof n=="function",Zf=(n,e)=>d4(n)?n(e):n,h4=(()=>{let n=0;return()=>(++n).toString()})(),NS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),f4=20,J_="default",AS=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return AS(n,{type:n.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let c=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+c}))}}},Ef=[],CS={toasts:[],pausedAt:void 0,settings:{toastLimit:f4}},kr={},RS=(n,e=J_)=>{kr[e]=AS(kr[e]||CS,n),Ef.forEach(([t,s])=>{t===e&&s(kr[e])})},IS=n=>Object.keys(kr).forEach(e=>RS(n,e)),m4=n=>Object.keys(kr).find(e=>kr[e].toasts.some(t=>t.id===n)),Pm=(n=J_)=>e=>{RS(e,n)},p4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},g4=(n={},e=J_)=>{let[t,s]=D.useState(kr[e]||CS),o=D.useRef(kr[e]);D.useEffect(()=>(o.current!==kr[e]&&s(kr[e]),Ef.push([e,s]),()=>{let h=Ef.findIndex(([_])=>_===e);h>-1&&Ef.splice(h,1)}),[e]);let c=t.toasts.map(h=>{var _,p,v;return{...n,...n[h.type],...h,removeDelay:h.removeDelay||((_=n[h.type])==null?void 0:_.removeDelay)||n?.removeDelay,duration:h.duration||((p=n[h.type])==null?void 0:p.duration)||n?.duration||p4[h.type],style:{...n.style,...(v=n[h.type])==null?void 0:v.style,...h.style}}});return{...t,toasts:c}},y4=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||h4()}),$d=n=>(e,t)=>{let s=y4(e,n,t);return Pm(s.toasterId||m4(s.id))({type:2,toast:s}),s.id},Ln=(n,e)=>$d("blank")(n,e);Ln.error=$d("error");Ln.success=$d("success");Ln.loading=$d("loading");Ln.custom=$d("custom");Ln.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Pm(e)(t):IS(t)};Ln.dismissAll=n=>Ln.dismiss(void 0,n);Ln.remove=(n,e)=>{let t={type:4,toastId:n};e?Pm(e)(t):IS(t)};Ln.removeAll=n=>Ln.remove(void 0,n);Ln.promise=(n,e,t)=>{let s=Ln.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?Zf(e.success,o):void 0;return c?Ln.success(c,{id:s,...t,...t?.success}):Ln.dismiss(s),o}).catch(o=>{let c=e.error?Zf(e.error,o):void 0;c?Ln.error(c,{id:s,...t,...t?.error}):Ln.dismiss(s)}),n};var _4=1e3,v4=(n,e="default")=>{let{toasts:t,pausedAt:s}=g4(n,e),o=D.useRef(new Map).current,c=D.useCallback((E,C=_4)=>{if(o.has(E))return;let R=setTimeout(()=>{o.delete(E),h({type:4,toastId:E})},C);o.set(E,R)},[]);D.useEffect(()=>{if(s)return;let E=Date.now(),C=t.map(R=>{if(R.duration===1/0)return;let j=(R.duration||0)+R.pauseDuration-(E-R.createdAt);if(j<0){R.visible&&Ln.dismiss(R.id);return}return setTimeout(()=>Ln.dismiss(R.id,e),j)});return()=>{C.forEach(R=>R&&clearTimeout(R))}},[t,s,e]);let h=D.useCallback(Pm(e),[e]),_=D.useCallback(()=>{h({type:5,time:Date.now()})},[h]),p=D.useCallback((E,C)=>{h({type:1,toast:{id:E,height:C}})},[h]),v=D.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),w=D.useCallback((E,C)=>{let{reverseOrder:R=!1,gutter:j=8,defaultPosition:z}=C||{},k=t.filter(G=>(G.position||z)===(E.position||z)&&G.height),V=k.findIndex(G=>G.id===E.id),B=k.filter((G,ne)=>ne<V&&G.visible).length;return k.filter(G=>G.visible).slice(...R?[B+1]:[0,B]).reduce((G,ne)=>G+(ne.height||0)+j,0)},[t]);return D.useEffect(()=>{t.forEach(E=>{if(E.dismissed)c(E.id,E.removeDelay);else{let C=o.get(E.id);C&&(clearTimeout(C),o.delete(E.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:p,startPause:_,endPause:v,calculateOffset:w}}},x4=ja`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,b4=ja`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w4=ja`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,E4=Yo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${x4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${b4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${w4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,T4=ja`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S4=Yo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${T4} 1s linear infinite;
`,N4=ja`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,A4=ja`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,C4=Yo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${A4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,R4=Yo("div")`
  position: absolute;
`,I4=Yo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,P4=ja`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,M4=Yo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${P4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,j4=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?D.createElement(M4,null,e):e:t==="blank"?null:D.createElement(I4,null,D.createElement(S4,{...s}),t!=="loading"&&D.createElement(R4,null,t==="error"?D.createElement(E4,{...s}):D.createElement(C4,{...s})))},L4=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,k4=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,D4="0%{opacity:0;} 100%{opacity:1;}",O4="0%{opacity:1;} 100%{opacity:0;}",V4=Yo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,z4=Yo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,U4=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=NS()?[D4,O4]:[L4(t),k4(t)];return{animation:e?`${ja(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ja(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},B4=D.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?U4(n.position||e||"top-center",n.visible):{opacity:0},c=D.createElement(j4,{toast:n}),h=D.createElement(z4,{...n.ariaProps},Zf(n.message,n));return D.createElement(V4,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:c,message:h}):D.createElement(D.Fragment,null,c,h))});u4(D.createElement);var q4=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=D.useCallback(h=>{if(h){let _=()=>{let p=h.getBoundingClientRect().height;s(n,p)};_(),new MutationObserver(_).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return D.createElement("div",{ref:c,className:e,style:t},o)},H4=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:NS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},F4=Im`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,cf=16,G4=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:h,containerClassName:_})=>{let{toasts:p,handlers:v}=v4(t,c);return D.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:cf,left:cf,right:cf,bottom:cf,pointerEvents:"none",...h},className:_,onMouseEnter:v.startPause,onMouseLeave:v.endPause},p.map(w=>{let E=w.position||e,C=v.calculateOffset(w,{reverseOrder:n,gutter:s,defaultPosition:e}),R=H4(E,C);return D.createElement(q4,{id:w.id,key:w.id,onHeightUpdate:v.updateHeight,className:w.visible?F4:"",style:R},w.type==="custom"?Zf(w.message,w):o?o(w):D.createElement(B4,{toast:w,position:E}))}))},De=Ln;const PS=D.createContext();function Da(){return D.useContext(PS)}function $4({children:n}){const[e,t]=D.useState(null),[s,o]=D.useState(null),[c,h]=D.useState(!0),_=async(z,k,V="cliente",B="",G="",ne="")=>{try{const te=await QI(jl,z,k);return await dy(te.user,{displayName:B}),await Vg(Ft(Xe,"users",te.user.uid),{email:z,role:V,displayName:B,phoneNumber:G,dni:ne,createdAt:new Date}),te}catch(te){throw console.error("Signup error",te),R(te)}},p=(z,k)=>XI(jl,z,k).catch(V=>{throw R(V)}),v=async(z="cliente")=>{try{const k=await Ob(jl,n4);return(await Do(Ft(Xe,"users",k.user.uid))).exists()||await Vg(Ft(Xe,"users",k.user.uid),{email:k.user.email,displayName:k.user.displayName,phoneNumber:k.user.phoneNumber||"",role:z,createdAt:new Date}),k}catch(k){throw R(k)}},w=async(z="cliente")=>{try{const k=await Ob(jl,i4);return(await Do(Ft(Xe,"users",k.user.uid))).exists()||await Vg(Ft(Xe,"users",k.user.uid),{email:k.user.email,displayName:k.user.displayName,phoneNumber:k.user.phoneNumber||"",role:z,createdAt:new Date}),k}catch(k){throw R(k)}},E=()=>rP(jl),C=z=>WI(jl,z).catch(k=>{throw R(k)}),R=z=>{let k="Ocurri un error inesperado. Por favor intenta de nuevo.";return z.code==="auth/email-already-in-use"&&(k="Este correo ya est registrado."),z.code==="auth/invalid-email"&&(k="El correo no es vlido."),z.code==="auth/user-not-found"&&(k="No encontramos una cuenta con este correo."),z.code==="auth/wrong-password"&&(k="La contrasea es incorrecta."),z.code==="auth/weak-password"&&(k="La contrasea debe tener al menos 6 caracteres."),new Error(k)};D.useEffect(()=>sP(jl,async k=>{if(t(k),k){const V=await Do(Ft(Xe,"users",k.uid));V.exists()&&o(V.data())}else o(null);h(!1)}),[]);const j={user:e,userData:s,signup:_,login:p,loginWithGoogle:v,loginWithApple:w,logout:E,resetPassword:C};return f.jsxs(PS.Provider,{value:j,children:[!c&&n,f.jsx(G4,{position:"top-center"})]})}const Gg=({children:n,allowedRoles:e})=>{const{user:t,userData:s,loading:o}=Da();return o?f.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?e&&s&&!e.includes(s.role)?s.role==="agente"?f.jsx(Eg,{to:"/agent-dashboard"}):f.jsx(Eg,{to:"/client-dashboard"}):n:f.jsx(Eg,{to:"/login"})};const MS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const Z4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const K4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const Xw=n=>{const e=K4(n);return e.charAt(0).toUpperCase()+e.slice(1)};var Y4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const W4=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Q4=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,..._},p)=>D.createElement("svg",{ref:p,...Y4,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:MS("lucide",o),...!c&&!W4(_)&&{"aria-hidden":"true"},..._},[...h.map(([v,w])=>D.createElement(v,w)),...Array.isArray(c)?c:[c]]));const He=(n,e)=>{const t=D.forwardRef(({className:s,...o},c)=>D.createElement(Q4,{ref:c,iconNode:e,className:MS(`lucide-${Z4(Xw(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Xw(n),t};const X4=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],J4=He("armchair",X4);const eD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jy=He("arrow-left",eD);const tD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jw=He("arrow-right",tD);const nD=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],iD=He("arrow-up-down",nD);const sD=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],rD=He("arrow-up-from-line",sD);const aD=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],oD=He("bath",aD);const lD=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],cD=He("bed-double",lD);const uD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],e1=He("briefcase",uD);const dD=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],hD=He("building-2",dD);const fD=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],mD=He("building",fD);const pD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],iu=He("calendar",pD);const gD=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],yD=He("car",gD);const _D=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vD=He("circle-check-big",_D);const xD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],t1=He("circle-user",xD);const bD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kf=He("clock",bD);const wD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ED=He("copy",wD);const TD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],SD=He("dollar-sign",TD);const ND=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],AD=He("dumbbell",ND);const CD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yf=He("eye",CD);const RD=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],jS=He("facebook",RD);const ID=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],PD=He("file-text",ID);const MD=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],jD=He("heart-handshake",MD);const LD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Wf=He("heart",LD);const kD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],LS=He("house",kD);const DD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],kS=He("instagram",DD);const OD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],gd=He("key",OD);const VD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zD=He("layers",VD);const UD=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],n1=He("lightbulb",UD);const BD=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],qD=He("linkedin",BD);const HD=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],FD=He("list-filter",HD);const GD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bl=He("loader-circle",GD);const $D=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ZD=He("lock",$D);const KD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],YD=He("mail",KD);const WD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Gr=He("map-pin",WD);const QD=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],XD=He("maximize",QD);const JD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eO=He("menu",JD);const tO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],nO=He("message-circle",tO);const iO=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],sO=He("mountain",iO);const rO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ev=He("phone",rO);const aO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oO=He("plus",aO);const lO=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],cO=He("refresh-ccw",lO);const uO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$g=He("refresh-cw",uO);const dO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ql=He("search",dO);const hO=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],fO=He("share",hO);const mO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DS=He("shield-check",mO);const pO=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],gO=He("sliders-horizontal",pO);const yO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qf=He("star",yO);const _O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],vO=He("target",_O);const xO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ly=He("trash-2",xO);const bO=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],wO=He("tree-palm",bO);const EO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zg=He("upload",EO);const TO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rd=He("user",TO);const SO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OS=He("users",SO);const NO=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],AO=He("warehouse",NO);const CO=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],VS=He("waves",CO);const RO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dr=He("x",RO),Zd="/inmobiliaria/assets/logo-9PyExb9b.png",ky=({property:n})=>{const e=n.exchangeRate||3.8,[t,s]=D.useState(0),[o,c]=D.useState(!1),h=n.currency||"USD",_=typeof n.price=="number"?n.price:parseFloat(n.price);let p,v,w,E;h==="USD"?(p=_,w="USD",v=_*e,E="PEN"):(p=_,w="PEN",v=_/e,E="USD");const C=(j,z)=>{if(!j&&j!==0)return"0";const k=j.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0});return z==="USD"?`$ ${k}`:`S/. ${k}`};D.useEffect(()=>{let j;return o&&n.images&&n.images.length>1?j=setInterval(()=>{s(z=>(z+1)%n.images.length)},1e3):s(0),()=>clearInterval(j)},[o,n.images]);const R=n.images?.[t]||n.images?.[0]||"https://placehold.co/400x300/e2e8f0/94a3b8?text=Sin+Imagen";return f.jsxs(gt,{to:`/properties/${n.id}`,className:"group block relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[f.jsxs("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[f.jsx("img",{src:R,alt:n.title,loading:"lazy",decoding:"async",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-20 pointer-events-none select-none z-0",children:f.jsx("img",{src:Zd,alt:"",className:"w-1/2 h-auto object-contain filter drop-shadow-md brightness-0 invert"})}),n.isPromoted&&f.jsx("div",{className:"absolute top-3 left-3 bg-[#fc7f51] text-white px-2 py-1 rounded-md text-xs font-bold shadow-md z-10",children:"DESTACADO"}),n.isExclusive&&f.jsxs("div",{className:`absolute ${n.isPromoted?"top-10":"top-3"} left-3 bg-gradient-to-r from-amber-500 to-yellow-500 text-white px-2 py-1 rounded-md text-xs font-bold shadow-md z-10 flex items-center gap-1`,children:[f.jsx(Qf,{className:"w-3 h-3 fill-white"})," EXCLUSIVO"]}),f.jsx("button",{className:"absolute top-3 right-3 text-white/70 hover:scale-110 transition z-10",children:f.jsx(Wf,{className:"w-6 h-6 fill-black/50 text-white stroke-[2px]"})}),f.jsx("div",{className:"absolute bottom-3 left-3 bg-black/60 backdrop-blur-md px-3 py-1 rounded-lg text-white text-xs font-bold uppercase",children:n.type})]}),f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("h3",{className:"font-semibold text-gray-500 truncate pr-2 text-xs uppercase tracking-wide",children:n.location||n.address}),f.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded-full",title:"Vistas",children:[f.jsx(Yf,{className:"w-3 h-3 text-[#fc7f51]"}),f.jsx("span",{className:"text-xs font-bold text-gray-700",children:n.views||0})]})]}),f.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Agente: ",n.agentName||"Inmuvete"]}),f.jsx("p",{className:"text-gray-800 text-sm font-semibold mb-1 line-clamp-1",children:n.title}),f.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[f.jsx("span",{className:"font-bold text-[#fc7f51] text-lg",children:C(p,w)}),f.jsx("span",{className:"text-xs text-gray-400 font-medium",children:C(v,E)})]})]})},IO=[{icon:mD,label:"Departamentos"},{icon:AO,label:"Casas"},{icon:wO,label:"Terrenos"},{icon:sO,label:"Campestres"},{icon:VS,label:"Playa"}],PO=()=>{const n=Fo(),[e,t]=D.useState("venta"),[s,o]=D.useState(""),[c,h]=D.useState("departamento"),[_,p]=D.useState("USD"),[v,w]=D.useState(""),[E,C]=D.useState(""),[R,j]=D.useState(!1),[z,k]=D.useState(!1),[V,B]=D.useState({location:"",footage:"",price:""}),G=()=>{const ye=`Hola, quiero vender mi propiedad.

 Ubicacin: ${V.location}
 Metraje: ${V.footage} m
 Precio Estimado: $${V.price}

Solicito ms informacin.`,W=`https://wa.me/51965355700?text=${encodeURIComponent(ye)}`;window.open(W,"_blank"),k(!1),B({location:"",footage:"",price:""})},ne=["Lima","Arequipa","Cusco","Trujillo","Piura","Ica","Tacna"],[te,_e]=D.useState([]),[H,I]=D.useState(!1),Z=ye=>{const W=ye.target.value;if(o(W),W.length>0){const pe=ne.filter(ae=>ae.toLowerCase().includes(W.toLowerCase()));_e(pe),I(!0)}else I(!1)},$=ye=>{o(ye),I(!1)},[q,K]=D.useState([]),[F,Se]=D.useState(!0);return D.useEffect(()=>{Se(!0);const ye=Vs(vn(Xe,"properties")),W=qL(ye,pe=>{const ae=pe.docs.map(Ne=>({id:Ne.id,...Ne.data()})).filter(Ne=>Ne.status==="disponible");ae.sort((Ne,me)=>{if(Ne.isPromoted&&!me.isPromoted)return-1;if(!Ne.isPromoted&&me.isPromoted)return 1;const O=Ne.createdAt?.seconds||0;return(me.createdAt?.seconds||0)-O}),K(ae),Se(!1)},pe=>{console.error("Error fetching properties:",pe),Se(!1)});return()=>W()},[]),f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("div",{className:"relative h-[85vh] min-h-[700px] flex items-center pt-20",children:[f.jsxs("div",{className:"absolute inset-0 z-0",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",alt:"Hero",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/20"})]}),f.jsxs("div",{className:"relative z-10 container mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center",children:[f.jsxs("div",{className:"lg:col-span-5 bg-white rounded-3xl shadow-2xl overflow-hidden animate-fadeIn",children:[f.jsxs("div",{className:"p-8 pb-4 bg-[#262626] text-white",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",style:{color:"#ffffff"},children:"Encuentra tu prximo hogar"}),f.jsx("p",{className:"text-gray-300 text-sm",children:"Explora propiedades nicas para vivir o invertir."})]}),f.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[f.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["venta","alquiler","anticresis"].map(ye=>f.jsx("button",{onClick:()=>t(ye),className:`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${e===ye?"bg-white text-[#fc7f51] shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700"}`,children:ye},ye))}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"En dnde buscas?"}),f.jsxs("div",{className:"relative",children:[f.jsx(Gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",value:s,onChange:Z,onFocus:()=>s&&I(!0),placeholder:"Ciudad, distrito o zona...",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"}),H&&te.length>0&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:te.map(ye=>f.jsxs("div",{onClick:()=>$(ye),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-2 text-gray-700 font-medium",children:[f.jsx(Gr,{className:"w-4 h-4 text-[#fc7f51]"}),ye]},ye))})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo de Inmueble"}),f.jsxs("div",{className:"relative",children:[f.jsx(LS,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsxs("select",{value:c,onChange:ye=>h(ye.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none appearance-none font-medium cursor-pointer",children:[f.jsx("option",{value:"departamento",children:"Departamento"}),f.jsx("option",{value:"casa",children:"Casa"}),f.jsx("option",{value:"terreno",children:"Terreno"}),f.jsx("option",{value:"oficina",children:"Oficina"}),f.jsx("option",{value:"local",children:"Local Comercial"}),f.jsx("option",{value:"otro",children:"Otro"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),f.jsx("div",{className:"relative",children:f.jsxs("div",{className:"flex bg-gray-50 rounded-xl border border-gray-200 p-1 h-[58px] items-center",children:[f.jsx("button",{onClick:()=>p("USD"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="USD"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"$ USD"}),f.jsx("button",{onClick:()=>p("PEN"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${_==="PEN"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"S/ PEN"})]})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Rango de Precio"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("input",{type:"number",placeholder:"Mnimo",value:v,onChange:ye=>w(ye.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"}),f.jsx("input",{type:"number",placeholder:"Mximo",value:E,onChange:ye=>C(ye.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"})]})]}),f.jsxs("button",{onClick:()=>j(!R),className:"flex items-center gap-2 text-[#fc7f51] font-bold text-sm hover:underline",children:[f.jsx(FD,{className:"w-4 h-4"}),R?"Menos filtros":"Ms filtros (Habitaciones, Baos, rea...)"]}),R&&f.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fadeIn",children:[f.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),f.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"}),f.jsx("option",{value:"4",children:"4+"})]})]}),f.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),f.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"})]})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"rea Mnima (m)"}),f.jsx("input",{type:"number",placeholder:"Ej: 80",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none"})]})]}),f.jsxs("button",{onClick:()=>{const ye=new URLSearchParams;e&&ye.set("operation",e),s&&ye.set("location",s),c&&ye.set("propertyType",c),_&&ye.set("currency",_),v&&ye.set("priceMin",v),E&&ye.set("priceMax",E),n(`/search?${ye.toString()}`)},className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2",children:[f.jsx(Ql,{className:"w-6 h-6"}),"BUSCAR PROPIEDADES"]})]})]}),f.jsx("div",{className:"hidden lg:block lg:col-span-7",children:f.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[f.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-[#fc7f51] transform hover:-translate-x-2 transition cursor-pointer",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:f.jsx(e1,{className:"w-6 h-6 text-[#fc7f51]"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Deseas adquirir una propiedad?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos para conseguir una al mejor precio."})]})]}),f.jsx(gt,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),f.jsx("button",{onClick:()=>k(!0),className:"block w-full text-left bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-blue-500 transform hover:-translate-x-2 transition cursor-pointer delay-100",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:f.jsx(gd,{className:"w-6 h-6 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Vendes tu Propiedad?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros y vndela ms rpido."})]})]})})]})}),f.jsxs("div",{className:"lg:hidden col-span-1 space-y-4",children:[f.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl border-l-4 border-[#fc7f51]",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:f.jsx(e1,{className:"w-6 h-6 text-[#fc7f51]"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Eres Propietario?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros."})]})]}),f.jsx(gt,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),f.jsx("button",{onClick:()=>k(!0),className:"block w-full text-left bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl border-l-4 border-blue-500",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:f.jsx(gd,{className:"w-6 h-6 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Vendes tu Propiedad?"}),f.jsx("p",{className:"text-gray-600 text-sm",children:"Contctanos para vender rpido."})]})]})})]})]})]}),z&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden animate-fadeIn",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Vende con nosotros"}),f.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ingresa los datos de tu propiedad para enviarlos a un agente."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin / Distrito"}),f.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: Miraflores, Lima",value:V.location,onChange:ye=>B({...V,location:ye.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metraje Aprox. (m)"}),f.jsx("input",{type:"number",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 120",value:V.footage,onChange:ye=>B({...V,footage:ye.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto Estimado de Venta"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),f.jsx("input",{type:"number",className:"w-full pl-8 pr-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: 150000",value:V.price,onChange:ye=>B({...V,price:ye.target.value})})]})]}),f.jsxs("button",{onClick:G,disabled:!V.location||!V.footage||!V.price,className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-3 rounded-lg shadow-lg hover:shadow-green-500/30 transition flex items-center justify-center gap-2 mt-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(gd,{className:"w-5 h-5"}),"Enviar por WhatsApp"]})]})]})}),f.jsx("div",{className:"bg-gray-50 py-10 border-b border-gray-200",children:f.jsx("div",{className:"container mx-auto px-6",children:f.jsx("div",{className:"flex gap-4 md:gap-12 overflow-x-auto no-scrollbar items-center justify-start md:justify-center py-2",children:IO.map((ye,W)=>f.jsxs("div",{onClick:()=>n(`/search?propertyType=${ye.label.toLowerCase()}`),className:"flex flex-col items-center gap-3 min-w-[100px] cursor-pointer group opacity-60 hover:opacity-100 transition-all duration-300 hover:-translate-y-1",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-md border border-gray-100 group-hover:border-[#fc7f51]/30 transition",children:f.jsx(ye.icon,{className:"w-7 h-7 text-[#262626] group-hover:text-[#fc7f51] transition",strokeWidth:1.5})}),f.jsx("span",{className:"text-sm font-semibold text-[#262626] group-hover:text-[#fc7f51] whitespace-nowrap transition",children:ye.label})]},W))})})}),!F&&q.filter(ye=>ye.isExclusive===!0).length>0&&f.jsxs("section",{className:"relative py-20 overflow-hidden",style:{background:"linear-gradient(135deg, #1a1814 0%, #2d2418 50%, #1a1814 100%)"},children:[f.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-amber-500 rounded-full opacity-[0.04] blur-[120px] translate-x-1/3 -translate-y-1/3"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-yellow-500 rounded-full opacity-[0.04] blur-[100px] -translate-x-1/3 translate-y-1/3"}),f.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-end mb-10",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("div",{className:"h-px w-8 bg-gradient-to-r from-amber-500 to-yellow-500"}),f.jsx("span",{className:"text-amber-400 font-bold text-sm tracking-[0.2em] uppercase",children:"Seleccin Premium"}),f.jsx("div",{className:"h-px w-8 bg-gradient-to-r from-yellow-500 to-amber-500"})]}),f.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-white flex items-center gap-3",children:[f.jsx(Qf,{className:"w-8 h-8 text-amber-400 fill-amber-400"}),"Propiedades Exclusivas"]}),f.jsx("p",{className:"text-gray-400 mt-2 text-sm md:text-base",children:"Oportunidades nicas seleccionadas por nuestro equipo."})]}),f.jsxs(gt,{to:"/search?exclusive=true",className:"hidden md:flex items-center gap-2 text-amber-400 font-semibold hover:text-amber-300 transition group",children:["Ver todas ",f.jsx(Jw,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),f.jsx("div",{className:"flex gap-6 overflow-x-auto no-scrollbar pb-4 -mx-2 px-2",children:q.filter(ye=>ye.isExclusive===!0).map(ye=>f.jsx("div",{className:"min-w-[300px] max-w-[320px] flex-shrink-0",children:f.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-amber-500/20 bg-gradient-to-b from-amber-500/5 to-transparent p-1",children:f.jsx("div",{className:"rounded-xl overflow-hidden bg-[#1a1814]",children:f.jsx(ky,{property:ye})})})},ye.id))}),f.jsx("div",{className:"mt-8 text-center md:hidden",children:f.jsxs(gt,{to:"/search?exclusive=true",className:"inline-flex items-center gap-2 bg-gradient-to-r from-amber-500 to-yellow-500 text-white px-6 py-3 rounded-full font-bold text-sm shadow-lg hover:shadow-amber-500/30 transition",children:[f.jsx(Qf,{className:"w-4 h-4 fill-white"})," Ver todas las exclusivas"]})})]})]}),f.jsxs("main",{id:"properties",className:"container mx-auto px-6 py-20",children:[f.jsxs("div",{className:"flex justify-between items-end mb-12",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Oportunidades"}),f.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Propiedades Destacadas"})]}),f.jsxs(gt,{to:"/properties",className:"hidden md:flex items-center gap-2 text-[#262626] font-semibold hover:text-[#fc7f51] transition group",children:["Ver todo ",f.jsx(Jw,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:F?f.jsxs("div",{className:"col-span-full py-20 text-center",children:[f.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"}),f.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando propiedades..."})]}):q.length===0?f.jsx("div",{className:"col-span-full py-20 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:f.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propiedades disponibles en este momento."})}):q.filter(ye=>{if(e&&ye.type!==e)return!1;if(c){if(c==="terreno"){if(ye.category!=="terreno")return!1}else if(c!=="otro"&&ye.category==="terreno")return!1}if(s&&!ye.location?.toLowerCase().includes(s.toLowerCase())&&!ye.address?.toLowerCase().includes(s.toLowerCase()))return!1;const W=parseFloat(ye.price);return!(v&&W<parseFloat(v)||E&&W>parseFloat(E)||_&&ye.currency!==_)}).sort((ye,W)=>(W.isExclusive===!0?1:0)-(ye.isExclusive===!0?1:0)).map(ye=>f.jsx(ky,{property:ye},ye.id))}),f.jsx("div",{className:"mt-12 text-center md:hidden",children:f.jsx("button",{className:"bg-white border border-gray-300 text-[#262626] px-8 py-3 rounded-full font-bold shadow-sm hover:bg-gray-50 transition",children:"Ver todas las propiedades"})})]}),f.jsxs("section",{className:"py-24 bg-[#16151a] text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#fc7f51] rounded-full opacity-10 blur-[100px] translate-x-1/3 -translate-y-1/3"}),f.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[f.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Listo para dar el siguiente paso?"}),f.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-2xl mx-auto",children:"Ya sea que busques comprar, vender o invertir, en Inmuvete tenemos el equipo y la experiencia para hacerlo posible."}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[f.jsx(gt,{to:"/contact",className:"bg-[#fc7f51] text-white px-8 py-4 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg hover:shadow-orange-500/20",children:"Contctanos Ahora"}),f.jsx(gt,{to:"/about",className:"bg-transparent border border-gray-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-[#262626] hover:border-white transition",children:"Conoce Ms"})]})]})]})]})};function i1(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function tv(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:i1(e[s])&&i1(n[s])&&Object.keys(e[s]).length>0&&tv(n[s],e[s])})}const zS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function sc(){const n=typeof document<"u"?document:{};return tv(n,zS),n}const MO={document:zS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Ni(){const n=typeof window<"u"?window:{};return tv(n,MO),n}function jO(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function LO(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function US(n,e=0){return setTimeout(n,e)}function Xf(){return Date.now()}function kO(n){const e=Ni();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function DO(n,e="x"){const t=Ni();let s,o,c;const h=kO(n);return t.WebKitCSSMatrix?(o=h.transform||h.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(_=>_.replace(",",".")).join(", ")),c=new t.WebKitCSSMatrix(o==="none"?"":o)):(c=h.MozTransform||h.OTransform||h.MsTransform||h.msTransform||h.transform||h.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=c.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?o=c.m41:s.length===16?o=parseFloat(s[12]):o=parseFloat(s[4])),e==="y"&&(t.WebKitCSSMatrix?o=c.m42:s.length===16?o=parseFloat(s[13]):o=parseFloat(s[5])),o||0}function uf(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function OO(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ps(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<n.length;s+=1){const o=n[s];if(o!=null&&!OO(o)){const c=Object.keys(Object(o)).filter(h=>t.indexOf(h)<0);for(let h=0,_=c.length;h<_;h+=1){const p=c[h],v=Object.getOwnPropertyDescriptor(o,p);v!==void 0&&v.enumerable&&(uf(e[p])&&uf(o[p])?o[p].__swiper__?e[p]=o[p]:ps(e[p],o[p]):!uf(e[p])&&uf(o[p])?(e[p]={},o[p].__swiper__?e[p]=o[p]:ps(e[p],o[p])):e[p]=o[p])}}}return e}function qc(n,e,t){n.style.setProperty(e,t)}function BS({swiper:n,targetPosition:e,side:t}){const s=Ni(),o=-n.translate;let c=null,h;const _=n.params.speed;n.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(n.cssModeFrameID);const p=e>o?"next":"prev",v=(E,C)=>p==="next"&&E>=C||p==="prev"&&E<=C,w=()=>{h=new Date().getTime(),c===null&&(c=h);const E=Math.max(Math.min((h-c)/_,1),0),C=.5-Math.cos(E*Math.PI)/2;let R=o+C*(e-o);if(v(R,e)&&(R=e),n.wrapperEl.scrollTo({[t]:R}),v(R,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:R})}),s.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=s.requestAnimationFrame(w)};w()}function Or(n,e=""){const t=Ni(),s=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&s.push(...n.assignedElements()),e?s.filter(o=>o.matches(e)):s}function VO(n,e){const t=[e];for(;t.length>0;){const s=t.shift();if(n===s)return!0;t.push(...s.children,...s.shadowRoot?s.shadowRoot.children:[],...s.assignedElements?s.assignedElements():[])}}function zO(n,e){const t=Ni();let s=e.contains(n);return!s&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(s=[...e.assignedElements()].includes(n),s||(s=VO(n,e))),s}function Jf(n){try{console.warn(n);return}catch{}}function em(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:jO(e)),t}function UO(n,e){const t=[];for(;n.previousElementSibling;){const s=n.previousElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function BO(n,e){const t=[];for(;n.nextElementSibling;){const s=n.nextElementSibling;e?s.matches(e)&&t.push(s):t.push(s),n=s}return t}function Po(n,e){return Ni().getComputedStyle(n,null).getPropertyValue(e)}function tm(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function qS(n,e){const t=[];let s=n.parentElement;for(;s;)e?s.matches(e)&&t.push(s):t.push(s),s=s.parentElement;return t}function Dy(n,e,t){const s=Ni();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Zn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Id(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Kg;function qO(){const n=Ni(),e=sc();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function HS(){return Kg||(Kg=qO()),Kg}let Yg;function HO({userAgent:n}={}){const e=HS(),t=Ni(),s=t.navigator.platform,o=n||t.navigator.userAgent,c={ios:!1,android:!1},h=t.screen.width,_=t.screen.height,p=o.match(/(Android);?[\s\/]+([\d.]+)?/);let v=o.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const w=o.match(/(iPod)(.*OS\s([\d_]+))?/),E=!v&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=s==="Win32";let R=s==="MacIntel";const j=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&R&&e.touch&&j.indexOf(`${h}x${_}`)>=0&&(v=o.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),R=!1),p&&!C&&(c.os="android",c.android=!0),(v||E||w)&&(c.os="ios",c.ios=!0),c}function FS(n={}){return Yg||(Yg=HO(n)),Yg}let Wg;function FO(){const n=Ni(),e=FS();let t=!1;function s(){const _=n.navigator.userAgent.toLowerCase();return _.indexOf("safari")>=0&&_.indexOf("chrome")<0&&_.indexOf("android")<0}if(s()){const _=String(n.navigator.userAgent);if(_.includes("Version/")){const[p,v]=_.split("Version/")[1].split(" ")[0].split(".").map(w=>Number(w));t=p<16||p===16&&v<2}}const o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),c=s(),h=c||o&&e.ios;return{isSafari:t||c,needPerspectiveFix:t,need3dFix:h,isWebView:o}}function GS(){return Wg||(Wg=FO()),Wg}function GO({swiper:n,on:e,emit:t}){const s=Ni();let o=null,c=null;const h=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},_=()=>{!n||n.destroyed||!n.initialized||(o=new ResizeObserver(w=>{c=s.requestAnimationFrame(()=>{const{width:E,height:C}=n;let R=E,j=C;w.forEach(({contentBoxSize:z,contentRect:k,target:V})=>{V&&V!==n.el||(R=k?k.width:(z[0]||z).inlineSize,j=k?k.height:(z[0]||z).blockSize)}),(R!==E||j!==C)&&h()})}),o.observe(n.el))},p=()=>{c&&s.cancelAnimationFrame(c),o&&o.unobserve&&n.el&&(o.unobserve(n.el),o=null)},v=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof s.ResizeObserver<"u"){_();return}s.addEventListener("resize",h),s.addEventListener("orientationchange",v)}),e("destroy",()=>{p(),s.removeEventListener("resize",h),s.removeEventListener("orientationchange",v)})}function $O({swiper:n,extendParams:e,on:t,emit:s}){const o=[],c=Ni(),h=(v,w={})=>{const E=c.MutationObserver||c.WebkitMutationObserver,C=new E(R=>{if(n.__preventObserver__)return;if(R.length===1){s("observerUpdate",R[0]);return}const j=function(){s("observerUpdate",R[0])};c.requestAnimationFrame?c.requestAnimationFrame(j):c.setTimeout(j,0)});C.observe(v,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:n.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),o.push(C)},_=()=>{if(n.params.observer){if(n.params.observeParents){const v=qS(n.hostEl);for(let w=0;w<v.length;w+=1)h(v[w])}h(n.hostEl,{childList:n.params.observeSlideChildren}),h(n.wrapperEl,{attributes:!1})}},p=()=>{o.forEach(v=>{v.disconnect()}),o.splice(0,o.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",_),t("destroy",p)}var ZO={on(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const o=t?"unshift":"push";return n.split(" ").forEach(c=>{s.eventsListeners[c]||(s.eventsListeners[c]=[]),s.eventsListeners[c][o](e)}),s},once(n,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function o(...c){s.off(n,o),o.__emitterProxy&&delete o.__emitterProxy,e.apply(s,c)}return o.__emitterProxy=e,s.on(n,o,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const s=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[s](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(s=>{typeof e>"u"?t.eventsListeners[s]=[]:t.eventsListeners[s]&&t.eventsListeners[s].forEach((o,c)=>{(o===e||o.__emitterProxy&&o.__emitterProxy===e)&&t.eventsListeners[s].splice(c,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,s,o;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],s=n.slice(1,n.length),o=e):(t=n[0].events,s=n[0].data,o=n[0].context||e),s.unshift(o),(Array.isArray(t)?t:t.split(" ")).forEach(h=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(_=>{_.apply(o,[h,...s])}),e.eventsListeners&&e.eventsListeners[h]&&e.eventsListeners[h].forEach(_=>{_.apply(o,s)})}),e}};function KO(){const n=this;let e,t;const s=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=s.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=s.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Po(s,"padding-left")||0,10)-parseInt(Po(s,"padding-right")||0,10),t=t-parseInt(Po(s,"padding-top")||0,10)-parseInt(Po(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function YO(){const n=this;function e($,q){return parseFloat($.getPropertyValue(n.getDirectionLabel(q))||0)}const t=n.params,{wrapperEl:s,slidesEl:o,rtlTranslate:c,wrongRTL:h}=n,_=n.virtual&&t.virtual.enabled,p=_?n.virtual.slides.length:n.slides.length,v=Or(o,`.${n.params.slideClass}, swiper-slide`),w=_?n.virtual.slides.length:v.length;let E=[];const C=[],R=[];let j=t.slidesOffsetBefore;typeof j=="function"&&(j=t.slidesOffsetBefore.call(n));let z=t.slidesOffsetAfter;typeof z=="function"&&(z=t.slidesOffsetAfter.call(n));const k=n.snapGrid.length,V=n.slidesGrid.length,B=n.size-j-z;let G=t.spaceBetween,ne=-j,te=0,_e=0;if(typeof B>"u")return;typeof G=="string"&&G.indexOf("%")>=0?G=parseFloat(G.replace("%",""))/100*B:typeof G=="string"&&(G=parseFloat(G)),n.virtualSize=-G-j-z,v.forEach($=>{c?$.style.marginLeft="":$.style.marginRight="",$.style.marginBottom="",$.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(qc(s,"--swiper-centered-offset-before",""),qc(s,"--swiper-centered-offset-after","")),t.cssMode&&(qc(s,"--swiper-slides-offset-before",`${j}px`),qc(s,"--swiper-slides-offset-after",`${z}px`));const H=t.grid&&t.grid.rows>1&&n.grid;H?n.grid.initSlides(v):n.grid&&n.grid.unsetSlides();let I;const Z=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter($=>typeof t.breakpoints[$].slidesPerView<"u").length>0;for(let $=0;$<w;$+=1){I=0;const q=v[$];if(!(q&&(H&&n.grid.updateSlide($,q,v),Po(q,"display")==="none"))){if(_&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(I=t.virtual.slidesPerViewAutoSlideSize),I&&q&&(t.roundLengths&&(I=Math.floor(I)),q.style[n.getDirectionLabel("width")]=`${I}px`);else if(t.slidesPerView==="auto"){Z&&(q.style[n.getDirectionLabel("width")]="");const K=getComputedStyle(q),F=q.style.transform,Se=q.style.webkitTransform;if(F&&(q.style.transform="none"),Se&&(q.style.webkitTransform="none"),t.roundLengths)I=n.isHorizontal()?Dy(q,"width"):Dy(q,"height");else{const ye=e(K,"width"),W=e(K,"padding-left"),pe=e(K,"padding-right"),ae=e(K,"margin-left"),Ne=e(K,"margin-right"),me=K.getPropertyValue("box-sizing");if(me&&me==="border-box")I=ye+ae+Ne;else{const{clientWidth:O,offsetWidth:ee}=q;I=ye+W+pe+ae+Ne+(ee-O)}}F&&(q.style.transform=F),Se&&(q.style.webkitTransform=Se),t.roundLengths&&(I=Math.floor(I))}else I=(B-(t.slidesPerView-1)*G)/t.slidesPerView,t.roundLengths&&(I=Math.floor(I)),q&&(q.style[n.getDirectionLabel("width")]=`${I}px`);q&&(q.swiperSlideSize=I),R.push(I),t.centeredSlides?(ne=ne+I/2+te/2+G,te===0&&$!==0&&(ne=ne-B/2-G),$===0&&(ne=ne-B/2-G),Math.abs(ne)<1/1e3&&(ne=0),t.roundLengths&&(ne=Math.floor(ne)),_e%t.slidesPerGroup===0&&E.push(ne),C.push(ne)):(t.roundLengths&&(ne=Math.floor(ne)),(_e-Math.min(n.params.slidesPerGroupSkip,_e))%n.params.slidesPerGroup===0&&E.push(ne),C.push(ne),ne=ne+I+G),n.virtualSize+=I+G,te=I,_e+=1}}if(n.virtualSize=Math.max(n.virtualSize,B)+z,c&&h&&(t.effect==="slide"||t.effect==="coverflow")&&(s.style.width=`${n.virtualSize+G}px`),t.setWrapperSize&&(s.style[n.getDirectionLabel("width")]=`${n.virtualSize+G}px`),H&&n.grid.updateWrapperSize(I,E),!t.centeredSlides){const $=t.slidesPerView!=="auto"&&t.slidesPerView%1!==0,q=t.snapToSlideEdge&&!t.loop&&(t.slidesPerView==="auto"||$);let K=E.length;if(q){let Se;if(t.slidesPerView==="auto"){Se=1;let ye=0;for(let W=R.length-1;W>=0&&(ye+=R[W]+(W<R.length-1?G:0),ye<=B);W-=1)Se=R.length-W}else Se=Math.floor(t.slidesPerView);K=Math.max(w-Se,0)}const F=[];for(let Se=0;Se<E.length;Se+=1){let ye=E[Se];t.roundLengths&&(ye=Math.floor(ye)),q?Se<=K&&F.push(ye):E[Se]<=n.virtualSize-B&&F.push(ye)}E=F,Math.floor(n.virtualSize-B)-Math.floor(E[E.length-1])>1&&(q||E.push(n.virtualSize-B))}if(_&&t.loop){const $=R[0]+G;if(t.slidesPerGroup>1){const q=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),K=$*t.slidesPerGroup;for(let F=0;F<q;F+=1)E.push(E[E.length-1]+K)}for(let q=0;q<n.virtual.slidesBefore+n.virtual.slidesAfter;q+=1)t.slidesPerGroup===1&&E.push(E[E.length-1]+$),C.push(C[C.length-1]+$),n.virtualSize+=$}if(E.length===0&&(E=[0]),G!==0){const $=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");v.filter((q,K)=>!t.cssMode||t.loop?!0:K!==v.length-1).forEach(q=>{q.style[$]=`${G}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let $=0;R.forEach(K=>{$+=K+(G||0)}),$-=G;const q=$>B?$-B:0;E=E.map(K=>K<=0?-j:K>q?q+z:K)}if(t.centerInsufficientSlides){let $=0;R.forEach(K=>{$+=K+(G||0)}),$-=G;const q=(j||0)+(z||0);if($+q<B){const K=(B-$-q)/2;E.forEach((F,Se)=>{E[Se]=F-K}),C.forEach((F,Se)=>{C[Se]=F+K})}}if(Object.assign(n,{slides:v,snapGrid:E,slidesGrid:C,slidesSizesGrid:R}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){qc(s,"--swiper-centered-offset-before",`${-E[0]}px`),qc(s,"--swiper-centered-offset-after",`${n.size/2-R[R.length-1]/2}px`);const $=-n.snapGrid[0],q=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(K=>K+$),n.slidesGrid=n.slidesGrid.map(K=>K+q)}if(w!==p&&n.emit("slidesLengthChange"),E.length!==k&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),C.length!==V&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!_&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const $=`${t.containerModifierClass}backface-hidden`,q=n.el.classList.contains($);w<=t.maxBackfaceHiddenSlides?q||n.el.classList.add($):q&&n.el.classList.remove($)}}function WO(n){const e=this,t=[],s=e.virtual&&e.params.virtual.enabled;let o=0,c;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const h=_=>s?e.slides[e.getSlideIndexByData(_)]:e.slides[_];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(_=>{t.push(_)});else for(c=0;c<Math.ceil(e.params.slidesPerView);c+=1){const _=e.activeIndex+c;if(_>e.slides.length&&!s)break;t.push(h(_))}else t.push(h(e.activeIndex));for(c=0;c<t.length;c+=1)if(typeof t[c]<"u"){const _=t[c].offsetHeight;o=_>o?_:o}(o||o===0)&&(e.wrapperEl.style.height=`${o}px`)}function QO(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(n.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-t-n.cssOverflowAdjustment()}const s1=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function XO(n=this&&this.translate||0){const e=this,t=e.params,{slides:s,rtlTranslate:o,snapGrid:c}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let h=-n;o&&(h=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let _=t.spaceBetween;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*e.size:typeof _=="string"&&(_=parseFloat(_));for(let p=0;p<s.length;p+=1){const v=s[p];let w=v.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(w-=s[0].swiperSlideOffset);const E=(h+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),C=(h-c[0]+(t.centeredSlides?e.minTranslate():0)-w)/(v.swiperSlideSize+_),R=-(h-w),j=R+e.slidesSizesGrid[p],z=R>=0&&R<=e.size-e.slidesSizesGrid[p],k=R>=0&&R<e.size-1||j>1&&j<=e.size||R<=0&&j>=e.size;k&&(e.visibleSlides.push(v),e.visibleSlidesIndexes.push(p)),s1(v,k,t.slideVisibleClass),s1(v,z,t.slideFullyVisibleClass),v.progress=o?-E:E,v.originalProgress=o?-C:C}}function JO(n){const e=this;if(typeof n>"u"){const w=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*w||0}const t=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:o,isBeginning:c,isEnd:h,progressLoop:_}=e;const p=c,v=h;if(s===0)o=0,c=!0,h=!0;else{o=(n-e.minTranslate())/s;const w=Math.abs(n-e.minTranslate())<1,E=Math.abs(n-e.maxTranslate())<1;c=w||o<=0,h=E||o>=1,w&&(o=0),E&&(o=1)}if(t.loop){const w=e.getSlideIndexByData(0),E=e.getSlideIndexByData(e.slides.length-1),C=e.slidesGrid[w],R=e.slidesGrid[E],j=e.slidesGrid[e.slidesGrid.length-1],z=Math.abs(n);z>=C?_=(z-C)/j:_=(z+j-R)/j,_>1&&(_-=1)}Object.assign(e,{progress:o,progressLoop:_,isBeginning:c,isEnd:h}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),c&&!p&&e.emit("reachBeginning toEdge"),h&&!v&&e.emit("reachEnd toEdge"),(p&&!c||v&&!h)&&e.emit("fromEdge"),e.emit("progress",o)}const Qg=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function e3(){const n=this,{slides:e,params:t,slidesEl:s,activeIndex:o}=n,c=n.virtual&&t.virtual.enabled,h=n.grid&&t.grid&&t.grid.rows>1,_=E=>Or(s,`.${t.slideClass}${E}, swiper-slide${E}`)[0];let p,v,w;if(c)if(t.loop){let E=o-n.virtual.slidesBefore;E<0&&(E=n.virtual.slides.length+E),E>=n.virtual.slides.length&&(E-=n.virtual.slides.length),p=_(`[data-swiper-slide-index="${E}"]`)}else p=_(`[data-swiper-slide-index="${o}"]`);else h?(p=e.find(E=>E.column===o),w=e.find(E=>E.column===o+1),v=e.find(E=>E.column===o-1)):p=e[o];p&&(h||(w=BO(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!w&&(w=e[0]),v=UO(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v===0&&(v=e[e.length-1]))),e.forEach(E=>{Qg(E,E===p,t.slideActiveClass),Qg(E,E===w,t.slideNextClass),Qg(E,E===v,t.slidePrevClass)}),n.emitSlidesClasses()}const Tf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,s=e.closest(t());if(s){let o=s.querySelector(`.${n.params.lazyPreloaderClass}`);!o&&n.isElement&&(s.shadowRoot?o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(o=s.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),o&&!o.lazyPreloaderManaged&&o.remove())})),o&&!o.lazyPreloaderManaged&&o.remove()}},Xg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Oy=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const s=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),o=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const h=o,_=[h-e];_.push(...Array.from({length:e}).map((p,v)=>h+s+v)),n.slides.forEach((p,v)=>{_.includes(p.column)&&Xg(n,v)});return}const c=o+s-1;if(n.params.rewind||n.params.loop)for(let h=o-e;h<=c+e;h+=1){const _=(h%t+t)%t;(_<o||_>c)&&Xg(n,_)}else for(let h=Math.max(o-e,0);h<=Math.min(c+e,t-1);h+=1)h!==o&&(h>c||h<o)&&Xg(n,h)};function t3(n){const{slidesGrid:e,params:t}=n,s=n.rtlTranslate?n.translate:-n.translate;let o;for(let c=0;c<e.length;c+=1)typeof e[c+1]<"u"?s>=e[c]&&s<e[c+1]-(e[c+1]-e[c])/2?o=c:s>=e[c]&&s<e[c+1]&&(o=c+1):s>=e[c]&&(o=c);return t.normalizeSlideIndex&&(o<0||typeof o>"u")&&(o=0),o}function n3(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:o,activeIndex:c,realIndex:h,snapIndex:_}=e;let p=n,v;const w=R=>{let j=R-e.virtual.slidesBefore;return j<0&&(j=e.virtual.slides.length+j),j>=e.virtual.slides.length&&(j-=e.virtual.slides.length),j};if(typeof p>"u"&&(p=t3(e)),s.indexOf(t)>=0)v=s.indexOf(t);else{const R=Math.min(o.slidesPerGroupSkip,p);v=R+Math.floor((p-R)/o.slidesPerGroup)}if(v>=s.length&&(v=s.length-1),p===c&&!e.params.loop){v!==_&&(e.snapIndex=v,e.emit("snapIndexChange"));return}if(p===c&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=w(p);return}const E=e.grid&&o.grid&&o.grid.rows>1;let C;if(e.virtual&&o.virtual.enabled)o.loop?C=w(p):C=p;else if(E){const R=e.slides.find(z=>z.column===p);let j=parseInt(R.getAttribute("data-swiper-slide-index"),10);Number.isNaN(j)&&(j=Math.max(e.slides.indexOf(R),0)),C=Math.floor(j/o.grid.rows)}else if(e.slides[p]){const R=e.slides[p].getAttribute("data-swiper-slide-index");R?C=parseInt(R,10):C=p}else C=p;Object.assign(e,{previousSnapIndex:_,snapIndex:v,previousRealIndex:h,realIndex:C,previousIndex:c,activeIndex:p}),e.initialized&&Oy(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(h!==C&&e.emit("realIndexChange"),e.emit("slideChange"))}function i3(n,e){const t=this,s=t.params;let o=n.closest(`.${s.slideClass}, swiper-slide`);!o&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(_=>{!o&&_.matches&&_.matches(`.${s.slideClass}, swiper-slide`)&&(o=_)});let c=!1,h;if(o){for(let _=0;_<t.slides.length;_+=1)if(t.slides[_]===o){c=!0,h=_;break}}if(o&&c)t.clickedSlide=o,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(o.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=h;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var s3={updateSize:KO,updateSlides:YO,updateAutoHeight:WO,updateSlidesOffset:QO,updateSlidesProgress:XO,updateProgress:JO,updateSlidesClasses:e3,updateActiveIndex:n3,updateClickedSlide:i3};function r3(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:s,translate:o,wrapperEl:c}=e;if(t.virtualTranslate)return s?-o:o;if(t.cssMode)return o;let h=DO(c,n);return h+=e.cssOverflowAdjustment(),s&&(h=-h),h||0}function a3(n,e){const t=this,{rtlTranslate:s,params:o,wrapperEl:c,progress:h}=t;let _=0,p=0;const v=0;t.isHorizontal()?_=s?-n:n:p=n,o.roundLengths&&(_=Math.floor(_),p=Math.floor(p)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?_:p,o.cssMode?c[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-_:-p:o.virtualTranslate||(t.isHorizontal()?_-=t.cssOverflowAdjustment():p-=t.cssOverflowAdjustment(),c.style.transform=`translate3d(${_}px, ${p}px, ${v}px)`);let w;const E=t.maxTranslate()-t.minTranslate();E===0?w=0:w=(n-t.minTranslate())/E,w!==h&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function o3(){return-this.snapGrid[0]}function l3(){return-this.snapGrid[this.snapGrid.length-1]}function c3(n=0,e=this.params.speed,t=!0,s=!0,o){const c=this,{params:h,wrapperEl:_}=c;if(c.animating&&h.preventInteractionOnTransition)return!1;const p=c.minTranslate(),v=c.maxTranslate();let w;if(s&&n>p?w=p:s&&n<v?w=v:w=n,c.updateProgress(w),h.cssMode){const E=c.isHorizontal();if(e===0)_[E?"scrollLeft":"scrollTop"]=-w;else{if(!c.support.smoothScroll)return BS({swiper:c,targetPosition:-w,side:E?"left":"top"}),!0;_.scrollTo({[E?"left":"top"]:-w,behavior:"smooth"})}return!0}return e===0?(c.setTransition(0),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionEnd"))):(c.setTransition(e),c.setTranslate(w),t&&(c.emit("beforeTransitionStart",e,o),c.emit("transitionStart")),c.animating||(c.animating=!0,c.onTranslateToWrapperTransitionEnd||(c.onTranslateToWrapperTransitionEnd=function(C){!c||c.destroyed||C.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onTranslateToWrapperTransitionEnd),c.onTranslateToWrapperTransitionEnd=null,delete c.onTranslateToWrapperTransitionEnd,c.animating=!1,t&&c.emit("transitionEnd"))}),c.wrapperEl.addEventListener("transitionend",c.onTranslateToWrapperTransitionEnd))),!0}var u3={getTranslate:r3,setTranslate:a3,minTranslate:o3,maxTranslate:l3,translateTo:c3};function d3(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function $S({swiper:n,runCallbacks:e,direction:t,step:s}){const{activeIndex:o,previousIndex:c}=n;let h=t;h||(o>c?h="next":o<c?h="prev":h="reset"),n.emit(`transition${s}`),e&&h==="reset"?n.emit(`slideResetTransition${s}`):e&&o!==c&&(n.emit(`slideChangeTransition${s}`),h==="next"?n.emit(`slideNextTransition${s}`):n.emit(`slidePrevTransition${s}`))}function h3(n=!0,e){const t=this,{params:s}=t;s.cssMode||(s.autoHeight&&t.updateAutoHeight(),$S({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function f3(n=!0,e){const t=this,{params:s}=t;t.animating=!1,!s.cssMode&&(t.setTransition(0),$S({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var m3={setTransition:d3,transitionStart:h3,transitionEnd:f3};function p3(n=0,e,t=!0,s,o){typeof n=="string"&&(n=parseInt(n,10));const c=this;let h=n;h<0&&(h=0);const{params:_,snapGrid:p,slidesGrid:v,previousIndex:w,activeIndex:E,rtlTranslate:C,wrapperEl:R,enabled:j}=c;if(!j&&!s&&!o||c.destroyed||c.animating&&_.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=c.params.speed);const z=Math.min(c.params.slidesPerGroupSkip,h);let k=z+Math.floor((h-z)/c.params.slidesPerGroup);k>=p.length&&(k=p.length-1);const V=-p[k];if(_.normalizeSlideIndex)for(let H=0;H<v.length;H+=1){const I=-Math.floor(V*100),Z=Math.floor(v[H]*100),$=Math.floor(v[H+1]*100);typeof v[H+1]<"u"?I>=Z&&I<$-($-Z)/2?h=H:I>=Z&&I<$&&(h=H+1):I>=Z&&(h=H)}if(c.initialized&&h!==E&&(!c.allowSlideNext&&(C?V>c.translate&&V>c.minTranslate():V<c.translate&&V<c.minTranslate())||!c.allowSlidePrev&&V>c.translate&&V>c.maxTranslate()&&(E||0)!==h))return!1;h!==(w||0)&&t&&c.emit("beforeSlideChangeStart"),c.updateProgress(V);let B;h>E?B="next":h<E?B="prev":B="reset";const G=c.virtual&&c.params.virtual.enabled;if(!(G&&o)&&(C&&-V===c.translate||!C&&V===c.translate))return c.updateActiveIndex(h),_.autoHeight&&c.updateAutoHeight(),c.updateSlidesClasses(),_.effect!=="slide"&&c.setTranslate(V),B!=="reset"&&(c.transitionStart(t,B),c.transitionEnd(t,B)),!1;if(_.cssMode){const H=c.isHorizontal(),I=C?V:-V;if(e===0)G&&(c.wrapperEl.style.scrollSnapType="none",c._immediateVirtual=!0),G&&!c._cssModeVirtualInitialSet&&c.params.initialSlide>0?(c._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{R[H?"scrollLeft":"scrollTop"]=I})):R[H?"scrollLeft":"scrollTop"]=I,G&&requestAnimationFrame(()=>{c.wrapperEl.style.scrollSnapType="",c._immediateVirtual=!1});else{if(!c.support.smoothScroll)return BS({swiper:c,targetPosition:I,side:H?"left":"top"}),!0;R.scrollTo({[H?"left":"top"]:I,behavior:"smooth"})}return!0}const _e=GS().isSafari;return G&&!o&&_e&&c.isElement&&c.virtual.update(!1,!1,h),c.setTransition(e),c.setTranslate(V),c.updateActiveIndex(h),c.updateSlidesClasses(),c.emit("beforeTransitionStart",e,s),c.transitionStart(t,B),e===0?c.transitionEnd(t,B):c.animating||(c.animating=!0,c.onSlideToWrapperTransitionEnd||(c.onSlideToWrapperTransitionEnd=function(I){!c||c.destroyed||I.target===this&&(c.wrapperEl.removeEventListener("transitionend",c.onSlideToWrapperTransitionEnd),c.onSlideToWrapperTransitionEnd=null,delete c.onSlideToWrapperTransitionEnd,c.transitionEnd(t,B))}),c.wrapperEl.addEventListener("transitionend",c.onSlideToWrapperTransitionEnd)),!0}function g3(n=0,e,t=!0,s){typeof n=="string"&&(n=parseInt(n,10));const o=this;if(o.destroyed)return;typeof e>"u"&&(e=o.params.speed);const c=o.grid&&o.params.grid&&o.params.grid.rows>1;let h=n;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)h=h+o.virtual.slidesBefore;else{let _;if(c){const z=h*o.params.grid.rows;_=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===z).column}else _=o.getSlideIndexByData(h);const p=c?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,{centeredSlides:v,slidesOffsetBefore:w,slidesOffsetAfter:E}=o.params,C=v||!!w||!!E;let R=o.params.slidesPerView;R==="auto"?R=o.slidesPerViewDynamic():(R=Math.ceil(parseFloat(o.params.slidesPerView,10)),C&&R%2===0&&(R=R+1));let j=p-_<R;if(C&&(j=j||_<Math.ceil(R/2)),s&&C&&o.params.slidesPerView!=="auto"&&!c&&(j=!1),j){const z=C?_<o.activeIndex?"prev":"next":_-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:z,slideTo:!0,activeSlideIndex:z==="next"?_+1:_-p+1,slideRealIndex:z==="next"?o.realIndex:void 0})}if(c){const z=h*o.params.grid.rows;h=o.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===z).column}else h=o.getSlideIndexByData(h)}return requestAnimationFrame(()=>{o.slideTo(h,e,t,s)}),o}function y3(n,e=!0,t){const s=this,{enabled:o,params:c,animating:h}=s;if(!o||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);let _=c.slidesPerGroup;c.slidesPerView==="auto"&&c.slidesPerGroup===1&&c.slidesPerGroupAuto&&(_=Math.max(s.slidesPerViewDynamic("current",!0),1));const p=s.activeIndex<c.slidesPerGroupSkip?1:_,v=s.virtual&&c.virtual.enabled;if(c.loop){if(h&&!v&&c.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&c.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+p,n,e,t)}),!0}return c.rewind&&s.isEnd?s.slideTo(0,n,e,t):s.slideTo(s.activeIndex+p,n,e,t)}function _3(n,e=!0,t){const s=this,{params:o,snapGrid:c,slidesGrid:h,rtlTranslate:_,enabled:p,animating:v}=s;if(!p||s.destroyed)return s;typeof n>"u"&&(n=s.params.speed);const w=s.virtual&&o.virtual.enabled;if(o.loop){if(v&&!w&&o.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const E=_?s.translate:-s.translate;function C(B){return B<0?-Math.floor(Math.abs(B)):Math.floor(B)}const R=C(E),j=c.map(B=>C(B)),z=o.freeMode&&o.freeMode.enabled;let k=c[j.indexOf(R)-1];if(typeof k>"u"&&(o.cssMode||z)){let B;c.forEach((G,ne)=>{R>=G&&(B=ne)}),typeof B<"u"&&(k=z?c[B]:c[B>0?B-1:B])}let V=0;if(typeof k<"u"&&(V=h.indexOf(k),V<0&&(V=s.activeIndex-1),o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(V=V-s.slidesPerViewDynamic("previous",!0)+1,V=Math.max(V,0))),o.rewind&&s.isBeginning){const B=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(B,n,e,t)}else if(o.loop&&s.activeIndex===0&&o.cssMode)return requestAnimationFrame(()=>{s.slideTo(V,n,e,t)}),!0;return s.slideTo(V,n,e,t)}function v3(n,e=!0,t){const s=this;if(!s.destroyed)return typeof n>"u"&&(n=s.params.speed),s.slideTo(s.activeIndex,n,e,t)}function x3(n,e=!0,t,s=.5){const o=this;if(o.destroyed)return;typeof n>"u"&&(n=o.params.speed);let c=o.activeIndex;const h=Math.min(o.params.slidesPerGroupSkip,c),_=h+Math.floor((c-h)/o.params.slidesPerGroup),p=o.rtlTranslate?o.translate:-o.translate;if(p>=o.snapGrid[_]){const v=o.snapGrid[_],w=o.snapGrid[_+1];p-v>(w-v)*s&&(c+=o.params.slidesPerGroup)}else{const v=o.snapGrid[_-1],w=o.snapGrid[_];p-v<=(w-v)*s&&(c-=o.params.slidesPerGroup)}return c=Math.max(c,0),c=Math.min(c,o.slidesGrid.length-1),o.slideTo(c,n,e,t)}function b3(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,s=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let o=n.getSlideIndexWhenGrid(n.clickedIndex),c;const h=n.isElement?"swiper-slide":`.${e.slideClass}`,_=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;c=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(c):o>(_?(n.slides.length-s)/2-(n.params.grid.rows-1):n.slides.length-s)?(n.loopFix(),o=n.getSlideIndex(Or(t,`${h}[data-swiper-slide-index="${c}"]`)[0]),US(()=>{n.slideTo(o)})):n.slideTo(o)}else n.slideTo(o)}var w3={slideTo:p3,slideToLoop:g3,slideNext:y3,slidePrev:_3,slideReset:v3,slideToClosest:x3,slideToClickedSlide:b3};function E3(n,e){const t=this,{params:s,slidesEl:o}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;const c=()=>{Or(o,`.${s.slideClass}, swiper-slide`).forEach((j,z)=>{j.setAttribute("data-swiper-slide-index",z)})},h=()=>{const R=Or(o,`.${s.slideBlankClass}`);R.forEach(j=>{j.remove()}),R.length>0&&(t.recalcSlides(),t.updateSlides())},_=t.grid&&s.grid&&s.grid.rows>1;s.loopAddBlankSlides&&(s.slidesPerGroup>1||_)&&h();const p=s.slidesPerGroup*(_?s.grid.rows:1),v=t.slides.length%p!==0,w=_&&t.slides.length%s.grid.rows!==0,E=R=>{for(let j=0;j<R;j+=1){const z=t.isElement?em("swiper-slide",[s.slideBlankClass]):em("div",[s.slideClass,s.slideBlankClass]);t.slidesEl.append(z)}};if(v){if(s.loopAddBlankSlides){const R=p-t.slides.length%p;E(R),t.recalcSlides(),t.updateSlides()}else Jf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else if(w){if(s.loopAddBlankSlides){const R=s.grid.rows-t.slides.length%s.grid.rows;E(R),t.recalcSlides(),t.updateSlides()}else Jf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");c()}else c();const C=s.centeredSlides||!!s.slidesOffsetBefore||!!s.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:C?void 0:"next",initial:e})}function T3({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:s,activeSlideIndex:o,initial:c,byController:h,byMousewheel:_}={}){const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:v,allowSlidePrev:w,allowSlideNext:E,slidesEl:C,params:R}=p,{centeredSlides:j,slidesOffsetBefore:z,slidesOffsetAfter:k,initialSlide:V}=R,B=j||!!z||!!k;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&R.virtual.enabled){e&&(!B&&p.snapIndex===0?p.slideTo(p.virtual.slides.length,0,!1,!0):B&&p.snapIndex<R.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=E,p.emit("loopFix");return}let G=R.slidesPerView;G==="auto"?G=p.slidesPerViewDynamic():(G=Math.ceil(parseFloat(R.slidesPerView,10)),B&&G%2===0&&(G=G+1));const ne=R.slidesPerGroupAuto?G:R.slidesPerGroup;let te=B?Math.max(ne,Math.ceil(G/2)):ne;te%ne!==0&&(te+=ne-te%ne),te+=R.loopAdditionalSlides,p.loopedSlides=te;const _e=p.grid&&R.grid&&R.grid.rows>1;v.length<G+te||p.params.effect==="cards"&&v.length<G+te*2?Jf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_e&&R.grid.fill==="row"&&Jf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const H=[],I=[],Z=_e?Math.ceil(v.length/R.grid.rows):v.length,$=c&&Z-V<G&&!B;let q=$?V:p.activeIndex;typeof o>"u"?o=p.getSlideIndex(v.find(ae=>ae.classList.contains(R.slideActiveClass))):q=o;const K=t==="next"||!t,F=t==="prev"||!t;let Se=0,ye=0;const pe=(_e?v[o].column:o)+(B&&typeof s>"u"?-G/2+.5:0);if(pe<te){Se=Math.max(te-pe,ne);for(let ae=0;ae<te-pe;ae+=1){const Ne=ae-Math.floor(ae/Z)*Z;if(_e){const me=Z-Ne-1;for(let O=v.length-1;O>=0;O-=1)v[O].column===me&&H.push(O)}else H.push(Z-Ne-1)}}else if(pe+G>Z-te){ye=Math.max(pe-(Z-te*2),ne),$&&(ye=Math.max(ye,G-Z+V+1));for(let ae=0;ae<ye;ae+=1){const Ne=ae-Math.floor(ae/Z)*Z;_e?v.forEach((me,O)=>{me.column===Ne&&I.push(O)}):I.push(Ne)}}if(p.__preventObserver__=!0,requestAnimationFrame(()=>{p.__preventObserver__=!1}),p.params.effect==="cards"&&v.length<G+te*2&&(I.includes(o)&&I.splice(I.indexOf(o),1),H.includes(o)&&H.splice(H.indexOf(o),1)),F&&H.forEach(ae=>{v[ae].swiperLoopMoveDOM=!0,C.prepend(v[ae]),v[ae].swiperLoopMoveDOM=!1}),K&&I.forEach(ae=>{v[ae].swiperLoopMoveDOM=!0,C.append(v[ae]),v[ae].swiperLoopMoveDOM=!1}),p.recalcSlides(),R.slidesPerView==="auto"?p.updateSlides():_e&&(H.length>0&&F||I.length>0&&K)&&p.slides.forEach((ae,Ne)=>{p.grid.updateSlide(Ne,ae,p.slides)}),R.watchSlidesProgress&&p.updateSlidesOffset(),e){if(H.length>0&&F){if(typeof n>"u"){const ae=p.slidesGrid[q],me=p.slidesGrid[q+Se]-ae;_?p.setTranslate(p.translate-me):(p.slideTo(q+Math.ceil(Se),0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-me,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-me))}else if(s){const ae=_e?H.length/R.grid.rows:H.length;p.slideTo(p.activeIndex+ae,0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(I.length>0&&K)if(typeof n>"u"){const ae=p.slidesGrid[q],me=p.slidesGrid[q-ye]-ae;_?p.setTranslate(p.translate-me):(p.slideTo(q-ye,0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-me,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-me))}else{const ae=_e?I.length/R.grid.rows:I.length;p.slideTo(p.activeIndex-ae,0,!1,!0)}}if(p.allowSlidePrev=w,p.allowSlideNext=E,p.controller&&p.controller.control&&!h){const ae={slideRealIndex:n,direction:t,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(Ne=>{!Ne.destroyed&&Ne.params.loop&&Ne.loopFix({...ae,slideTo:Ne.params.slidesPerView===R.slidesPerView?e:!1})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...ae,slideTo:p.controller.control.params.slidesPerView===R.slidesPerView?e:!1})}p.emit("loopFix")}function S3(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const s=[];n.slides.forEach(o=>{const c=typeof o.swiperSlideIndex>"u"?o.getAttribute("data-swiper-slide-index")*1:o.swiperSlideIndex;s[c]=o}),n.slides.forEach(o=>{o.removeAttribute("data-swiper-slide-index")}),s.forEach(o=>{t.append(o)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var N3={loopCreate:E3,loopFix:T3,loopDestroy:S3};function A3(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function C3(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var R3={setGrabCursor:A3,unsetGrabCursor:C3};function I3(n,e=this){function t(s){if(!s||s===sc()||s===Ni())return null;s.assignedSlot&&(s=s.assignedSlot);const o=s.closest(n);return!o&&!s.getRootNode?null:o||t(s.getRootNode().host)}return t(e)}function r1(n,e,t){const s=Ni(),{params:o}=n,c=o.edgeSwipeDetection,h=o.edgeSwipeThreshold;return c&&(t<=h||t>=s.innerWidth-h)?c==="prevent"?(e.preventDefault(),!0):!1:!0}function P3(n){const e=this,t=sc();let s=n;s.originalEvent&&(s=s.originalEvent);const o=e.touchEventsData;if(s.type==="pointerdown"){if(o.pointerId!==null&&o.pointerId!==s.pointerId)return;o.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(o.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){r1(e,s,s.targetTouches[0].pageX);return}const{params:c,touches:h,enabled:_}=e;if(!_||!c.simulateTouch&&s.pointerType==="mouse"||e.animating&&c.preventInteractionOnTransition)return;!e.animating&&c.cssMode&&c.loop&&e.loopFix();let p=s.target;if(c.touchEventsTarget==="wrapper"&&!zO(p,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||o.isTouched&&o.isMoved)return;const v=!!c.noSwipingClass&&c.noSwipingClass!=="",w=s.composedPath?s.composedPath():s.path;v&&s.target&&s.target.shadowRoot&&w&&(p=w[0]);const E=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`,C=!!(s.target&&s.target.shadowRoot);if(c.noSwiping&&(C?I3(E,p):p.closest(E))){e.allowClick=!0;return}if(c.swipeHandler&&!p.closest(c.swipeHandler))return;h.currentX=s.pageX,h.currentY=s.pageY;const R=h.currentX,j=h.currentY;if(!r1(e,s,R))return;Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),h.startX=R,h.startY=j,o.touchStartTime=Xf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,c.threshold>0&&(o.allowThresholdMove=!1);let z=!0;p.matches(o.focusableElements)&&(z=!1,p.nodeName==="SELECT"&&(o.isTouched=!1)),t.activeElement&&t.activeElement.matches(o.focusableElements)&&t.activeElement!==p&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!p.matches(o.focusableElements))&&t.activeElement.blur();const k=z&&e.allowTouchMove&&c.touchStartPreventDefault;(c.touchStartForcePreventDefault||k)&&!p.isContentEditable&&s.preventDefault(),c.freeMode&&c.freeMode.enabled&&e.freeMode&&e.animating&&!c.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function M3(n){const e=sc(),t=this,s=t.touchEventsData,{params:o,touches:c,rtlTranslate:h,enabled:_}=t;if(!_||!o.simulateTouch&&n.pointerType==="mouse")return;let p=n;if(p.originalEvent&&(p=p.originalEvent),p.type==="pointermove"&&(s.touchId!==null||p.pointerId!==s.pointerId))return;let v;if(p.type==="touchmove"){if(v=[...p.changedTouches].find(te=>te.identifier===s.touchId),!v||v.identifier!==s.touchId)return}else v=p;if(!s.isTouched){s.startMoving&&s.isScrolling&&t.emit("touchMoveOpposite",p);return}const w=v.pageX,E=v.pageY;if(p.preventedByNestedSwiper){c.startX=w,c.startY=E;return}if(!t.allowTouchMove){p.target.matches(s.focusableElements)||(t.allowClick=!1),s.isTouched&&(Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E}),s.touchStartTime=Xf());return}if(o.touchReleaseOnEdges&&!o.loop)if(t.isVertical()){if(E<c.startY&&t.translate<=t.maxTranslate()||E>c.startY&&t.translate>=t.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else{if(h&&(w>c.startX&&-t.translate<=t.maxTranslate()||w<c.startX&&-t.translate>=t.minTranslate()))return;if(!h&&(w<c.startX&&t.translate<=t.maxTranslate()||w>c.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==p.target&&p.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&p.target===e.activeElement&&p.target.matches(s.focusableElements)){s.isMoved=!0,t.allowClick=!1;return}s.allowTouchCallbacks&&t.emit("touchMove",p),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=w,c.currentY=E;const C=c.currentX-c.startX,R=c.currentY-c.startY;if(t.params.threshold&&Math.sqrt(C**2+R**2)<t.params.threshold)return;if(typeof s.isScrolling>"u"){let te;t.isHorizontal()&&c.currentY===c.startY||t.isVertical()&&c.currentX===c.startX?s.isScrolling=!1:C*C+R*R>=25&&(te=Math.atan2(Math.abs(R),Math.abs(C))*180/Math.PI,s.isScrolling=t.isHorizontal()?te>o.touchAngle:90-te>o.touchAngle)}if(s.isScrolling&&t.emit("touchMoveOpposite",p),typeof s.startMoving>"u"&&(c.currentX!==c.startX||c.currentY!==c.startY)&&(s.startMoving=!0),s.isScrolling||p.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;t.allowClick=!1,!o.cssMode&&p.cancelable&&p.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&p.stopPropagation();let j=t.isHorizontal()?C:R,z=t.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;o.oneWayMovement&&(j=Math.abs(j)*(h?1:-1),z=Math.abs(z)*(h?1:-1)),c.diff=j,j*=o.touchRatio,h&&(j=-j,z=-z);const k=t.touchesDirection;t.swipeDirection=j>0?"prev":"next",t.touchesDirection=z>0?"prev":"next";const V=t.params.loop&&!o.cssMode,B=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!s.isMoved){if(V&&B&&t.loopFix({direction:t.swipeDirection}),s.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const te=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(te)}s.allowMomentumBounce=!1,o.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",p)}if(new Date().getTime(),o._loopSwapReset!==!1&&s.isMoved&&s.allowThresholdMove&&k!==t.touchesDirection&&V&&B&&Math.abs(j)>=1){Object.assign(c,{startX:w,startY:E,currentX:w,currentY:E,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}t.emit("sliderMove",p),s.isMoved=!0,s.currentTranslate=j+s.startTranslate;let G=!0,ne=o.resistanceRatio;if(o.touchReleaseOnEdges&&(ne=0),j>0?(V&&B&&s.allowThresholdMove&&s.currentTranslate>(o.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>t.minTranslate()&&(G=!1,o.resistance&&(s.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+s.startTranslate+j)**ne))):j<0&&(V&&B&&s.allowThresholdMove&&s.currentTranslate<(o.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(o.slidesPerView!=="auto"&&t.slides.length-o.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(o.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(o.slidesPerView,10)))}),s.currentTranslate<t.maxTranslate()&&(G=!1,o.resistance&&(s.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-s.startTranslate-j)**ne))),G&&(p.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0)if(Math.abs(j)>o.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,s.currentTranslate=s.startTranslate,c.diff=t.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY;return}}else{s.currentTranslate=s.startTranslate;return}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&t.freeMode||o.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(s.currentTranslate),t.setTranslate(s.currentTranslate))}function j3(n){const e=this,t=e.touchEventsData;let s=n;s.originalEvent&&(s=s.originalEvent);let o;if(s.type==="touchend"||s.type==="touchcancel"){if(o=[...s.changedTouches].find(te=>te.identifier===t.touchId),!o||o.identifier!==t.touchId)return}else{if(t.touchId!==null||s.pointerId!==t.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:h,touches:_,rtlTranslate:p,slidesGrid:v,enabled:w}=e;if(!w||!h.simulateTouch&&s.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",s),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&h.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}h.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const E=Xf(),C=E-t.touchStartTime;if(e.allowClick){const te=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(te&&te[0]||s.target,te),e.emit("tap click",s),C<300&&E-t.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(t.lastClickTime=Xf(),US(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||_.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let R;if(h.followFinger?R=p?e.translate:-e.translate:R=-t.currentTranslate,h.cssMode)return;if(h.freeMode&&h.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:R});return}const j=R>=-e.maxTranslate()&&!e.params.loop;let z=0,k=e.slidesSizesGrid[0];for(let te=0;te<v.length;te+=te<h.slidesPerGroupSkip?1:h.slidesPerGroup){const _e=te<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;typeof v[te+_e]<"u"?(j||R>=v[te]&&R<v[te+_e])&&(z=te,k=v[te+_e]-v[te]):(j||R>=v[te])&&(z=te,k=v[v.length-1]-v[v.length-2])}let V=null,B=null;h.rewind&&(e.isBeginning?B=h.virtual&&h.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(V=0));const G=(R-v[z])/k,ne=z<h.slidesPerGroupSkip-1?1:h.slidesPerGroup;if(C>h.longSwipesMs){if(!h.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(G>=h.longSwipesRatio?e.slideTo(h.rewind&&e.isEnd?V:z+ne):e.slideTo(z)),e.swipeDirection==="prev"&&(G>1-h.longSwipesRatio?e.slideTo(z+ne):B!==null&&G<0&&Math.abs(G)>h.longSwipesRatio?e.slideTo(B):e.slideTo(z))}else{if(!h.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(z+ne):e.slideTo(z):(e.swipeDirection==="next"&&e.slideTo(V!==null?V:z+ne),e.swipeDirection==="prev"&&e.slideTo(B!==null?B:z))}}function a1(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:c}=n,h=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const _=h&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!_?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!h?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=o,n.allowSlideNext=s,n.params.watchOverflow&&c!==n.snapGrid&&n.checkOverflow()}function L3(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function k3(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:s}=n;if(!s)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let o;const c=n.maxTranslate()-n.minTranslate();c===0?o=0:o=(n.translate-n.minTranslate())/c,o!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function D3(n){const e=this;Tf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function O3(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const ZS=(n,e)=>{const t=sc(),{params:s,el:o,wrapperEl:c,device:h}=n,_=!!s.nested,p=e==="on"?"addEventListener":"removeEventListener",v=e;!o||typeof o=="string"||(t[p]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:_}),o[p]("touchstart",n.onTouchStart,{passive:!1}),o[p]("pointerdown",n.onTouchStart,{passive:!1}),t[p]("touchmove",n.onTouchMove,{passive:!1,capture:_}),t[p]("pointermove",n.onTouchMove,{passive:!1,capture:_}),t[p]("touchend",n.onTouchEnd,{passive:!0}),t[p]("pointerup",n.onTouchEnd,{passive:!0}),t[p]("pointercancel",n.onTouchEnd,{passive:!0}),t[p]("touchcancel",n.onTouchEnd,{passive:!0}),t[p]("pointerout",n.onTouchEnd,{passive:!0}),t[p]("pointerleave",n.onTouchEnd,{passive:!0}),t[p]("contextmenu",n.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&o[p]("click",n.onClick,!0),s.cssMode&&c[p]("scroll",n.onScroll),s.updateOnWindowResize?n[v](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",a1,!0):n[v]("observerUpdate",a1,!0),o[p]("load",n.onLoad,{capture:!0}))};function V3(){const n=this,{params:e}=n;n.onTouchStart=P3.bind(n),n.onTouchMove=M3.bind(n),n.onTouchEnd=j3.bind(n),n.onDocumentTouchStart=O3.bind(n),e.cssMode&&(n.onScroll=k3.bind(n)),n.onClick=L3.bind(n),n.onLoad=D3.bind(n),ZS(n,"on")}function z3(){ZS(this,"off")}var U3={attachEvents:V3,detachEvents:z3};const o1=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function B3(){const n=this,{realIndex:e,initialized:t,params:s,el:o}=n,c=s.breakpoints;if(!c||c&&Object.keys(c).length===0)return;const h=sc(),_=s.breakpointsBase==="window"||!s.breakpointsBase?s.breakpointsBase:"container",p=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?n.el:h.querySelector(s.breakpointsBase),v=n.getBreakpoint(c,_,p);if(!v||n.currentBreakpoint===v)return;const E=(v in c?c[v]:void 0)||n.originalParams,C=o1(n,s),R=o1(n,E),j=n.params.grabCursor,z=E.grabCursor,k=s.enabled;C&&!R?(o.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),n.emitContainerClasses()):!C&&R&&(o.classList.add(`${s.containerModifierClass}grid`),(E.grid.fill&&E.grid.fill==="column"||!E.grid.fill&&s.grid.fill==="column")&&o.classList.add(`${s.containerModifierClass}grid-column`),n.emitContainerClasses()),j&&!z?n.unsetGrabCursor():!j&&z&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(_e=>{if(typeof E[_e]>"u")return;const H=s[_e]&&s[_e].enabled,I=E[_e]&&E[_e].enabled;H&&!I&&n[_e].disable(),!H&&I&&n[_e].enable()});const V=E.direction&&E.direction!==s.direction,B=s.loop&&(E.slidesPerView!==s.slidesPerView||V),G=s.loop;V&&t&&n.changeDirection(),ps(n.params,E);const ne=n.params.enabled,te=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),k&&!ne?n.disable():!k&&ne&&n.enable(),n.currentBreakpoint=v,n.emit("_beforeBreakpoint",E),t&&(B?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!G&&te?(n.loopCreate(e),n.updateSlides()):G&&!te&&n.loopDestroy()),n.emit("breakpoint",E)}function q3(n,e="window",t){if(!n||e==="container"&&!t)return;let s=!1;const o=Ni(),c=e==="window"?o.innerHeight:t.clientHeight,h=Object.keys(n).map(_=>{if(typeof _=="string"&&_.indexOf("@")===0){const p=parseFloat(_.substr(1));return{value:c*p,point:_}}return{value:_,point:_}});h.sort((_,p)=>parseInt(_.value,10)-parseInt(p.value,10));for(let _=0;_<h.length;_+=1){const{point:p,value:v}=h[_];e==="window"?o.matchMedia(`(min-width: ${v}px)`).matches&&(s=p):v<=t.clientWidth&&(s=p)}return s||"max"}var H3={setBreakpoint:B3,getBreakpoint:q3};function F3(n,e){const t=[];return n.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(o=>{s[o]&&t.push(e+o)}):typeof s=="string"&&t.push(e+s)}),t}function G3(){const n=this,{classNames:e,params:t,rtl:s,el:o,device:c}=n,h=F3(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:s},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:c.android},{ios:c.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...h),o.classList.add(...e),n.emitContainerClasses()}function $3(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var Z3={addClasses:G3,removeClasses:$3};function K3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:s}=t;if(s){const o=n.slides.length-1,c=n.slidesGrid[o]+n.slidesSizesGrid[o]+s*2;n.isLocked=n.size>c}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Y3={checkOverflow:K3},Vy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function W3(n,e){return function(s={}){const o=Object.keys(s)[0],c=s[o];if(typeof c!="object"||c===null){ps(e,s);return}if(n[o]===!0&&(n[o]={enabled:!0}),o==="navigation"&&n[o]&&n[o].enabled&&!n[o].prevEl&&!n[o].nextEl&&(n[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&n[o]&&n[o].enabled&&!n[o].el&&(n[o].auto=!0),!(o in n&&"enabled"in c)){ps(e,s);return}typeof n[o]=="object"&&!("enabled"in n[o])&&(n[o].enabled=!0),n[o]||(n[o]={enabled:!1}),ps(e,s)}}const Jg={eventsEmitter:ZO,update:s3,translate:u3,transition:m3,slide:w3,loop:N3,grabCursor:R3,events:U3,breakpoints:H3,checkOverflow:Y3,classes:Z3},ey={};let nv=class ba{constructor(...e){let t,s;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?s=e[0]:[t,s]=e,s||(s={}),s=ps({},s),t&&!s.el&&(s.el=t);const o=sc();if(s.el&&typeof s.el=="string"&&o.querySelectorAll(s.el).length>1){const p=[];return o.querySelectorAll(s.el).forEach(v=>{const w=ps({},s,{el:v});p.push(new ba(w))}),p}const c=this;c.__swiper__=!0,c.support=HS(),c.device=FS({userAgent:s.userAgent}),c.browser=GS(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],s.modules&&Array.isArray(s.modules)&&c.modules.push(...s.modules);const h={};c.modules.forEach(p=>{p({params:s,swiper:c,extendParams:W3(s,h),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const _=ps({},Vy,h);return c.params=ps({},_,ey,s),c.originalParams=ps({},c.params),c.passedParams=ps({},s),c.params&&c.params.on&&Object.keys(c.params.on).forEach(p=>{c.on(p,c.params.on[p])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,o=Or(t,`.${s.slideClass}, swiper-slide`),c=tm(o[0]);return tm(e)-c}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:s}=e;e.slides=Or(t,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const o=s.minTranslate(),h=(s.maxTranslate()-o)*e+o;s.translateTo(h,typeof t>"u"?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const o=e.getSlideClasses(s);t.push({slideEl:s,classNames:o}),e.emit("_slideClass",s,o)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const s=this,{params:o,slides:c,slidesGrid:h,slidesSizesGrid:_,size:p,activeIndex:v}=s;let w=1;if(typeof o.slidesPerView=="number")return o.slidesPerView;if(o.centeredSlides){let E=c[v]?Math.ceil(c[v].swiperSlideSize):0,C;for(let R=v+1;R<c.length;R+=1)c[R]&&!C&&(E+=Math.ceil(c[R].swiperSlideSize),w+=1,E>p&&(C=!0));for(let R=v-1;R>=0;R-=1)c[R]&&!C&&(E+=c[R].swiperSlideSize,w+=1,E>p&&(C=!0))}else if(e==="current")for(let E=v+1;E<c.length;E+=1)(t?h[E]+_[E]-h[v]<p:h[E]-h[v]<p)&&(w+=1);else for(let E=v-1;E>=0;E-=1)h[v]-h[E]<p&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(h=>{h.complete&&Tf(e,h)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function o(){const h=e.rtlTranslate?e.translate*-1:e.translate,_=Math.min(Math.max(h,e.maxTranslate()),e.minTranslate());e.setTranslate(_),e.updateActiveIndex(),e.updateSlidesClasses()}let c;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)o(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const h=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;c=e.slideTo(h.length-1,0,!1,!0)}else c=e.slideTo(e.activeIndex,0,!1,!0);c||o()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,o=s.params.direction;return e||(e=o==="horizontal"?"vertical":"horizontal"),e===o||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${o}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(c=>{e==="vertical"?c.style.width="":c.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const o=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let h=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(o()):Or(s,o())[0];return!h&&t.params.createElements&&(h=em("div",t.params.wrapperClass),s.append(h),Or(s,`.${t.params.slideClass}`).forEach(_=>{h.append(_)})),Object.assign(t,{el:s,wrapperEl:h,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:h,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Po(s,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Po(s,"direction")==="rtl"),wrongRTL:Po(h,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const o=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&o.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),o.forEach(c=>{c.complete?Tf(t,c):c.addEventListener("load",h=>{Tf(t,h.target)})}),Oy(t),t.initialized=!0,Oy(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const s=this,{params:o,el:c,wrapperEl:h,slides:_}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),t&&(s.removeClasses(),c&&typeof c!="string"&&c.removeAttribute("style"),h&&h.removeAttribute("style"),_&&_.length&&_.forEach(p=>{p.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(p=>{s.off(p)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),LO(s)),s.destroyed=!0),null}static extendDefaults(e){ps(ey,e)}static get extendedDefaults(){return ey}static get defaults(){return Vy}static installModule(e){ba.prototype.__modules__||(ba.prototype.__modules__=[]);const t=ba.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ba.installModule(t)),ba):(ba.installModule(e),ba)}};Object.keys(Jg).forEach(n=>{Object.keys(Jg[n]).forEach(e=>{nv.prototype[e]=Jg[n][e]})});nv.use([GO,$O]);const KS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Xl(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Qc(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>t.indexOf(s)<0).forEach(s=>{typeof n[s]>"u"?n[s]=e[s]:Xl(e[s])&&Xl(n[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?n[s]=e[s]:Qc(n[s],e[s]):n[s]=e[s]})}function YS(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function WS(n={}){return n.pagination&&typeof n.pagination.el>"u"}function QS(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function XS(n=""){const e=n.split(" ").map(s=>s.trim()).filter(s=>!!s),t=[];return e.forEach(s=>{t.indexOf(s)<0&&t.push(s)}),t.join(" ")}function Q3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function X3({swiper:n,slides:e,passedParams:t,changedParams:s,nextEl:o,prevEl:c,scrollbarEl:h,paginationEl:_}){const p=s.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:v,pagination:w,navigation:E,scrollbar:C,virtual:R,thumbs:j}=n;let z,k,V,B,G,ne,te,_e;s.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&v.thumbs&&(!v.thumbs.swiper||v.thumbs.swiper.destroyed)&&(z=!0),s.includes("controller")&&t.controller&&t.controller.control&&v.controller&&!v.controller.control&&(k=!0),s.includes("pagination")&&t.pagination&&(t.pagination.el||_)&&(v.pagination||v.pagination===!1)&&w&&!w.el&&(V=!0),s.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||h)&&(v.scrollbar||v.scrollbar===!1)&&C&&!C.el&&(B=!0),s.includes("navigation")&&t.navigation&&(t.navigation.prevEl||c)&&(t.navigation.nextEl||o)&&(v.navigation||v.navigation===!1)&&E&&!E.prevEl&&!E.nextEl&&(G=!0);const H=I=>{n[I]&&(n[I].destroy(),I==="navigation"?(n.isElement&&(n[I].prevEl.remove(),n[I].nextEl.remove()),v[I].prevEl=void 0,v[I].nextEl=void 0,n[I].prevEl=void 0,n[I].nextEl=void 0):(n.isElement&&n[I].el.remove(),v[I].el=void 0,n[I].el=void 0))};s.includes("loop")&&n.isElement&&(v.loop&&!t.loop?ne=!0:!v.loop&&t.loop?te=!0:_e=!0),p.forEach(I=>{if(Xl(v[I])&&Xl(t[I]))Object.assign(v[I],t[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in t[I]&&!t[I].enabled&&H(I);else{const Z=t[I];(Z===!0||Z===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?Z===!1&&H(I):v[I]=t[I]}}),p.includes("controller")&&!k&&n.controller&&n.controller.control&&v.controller&&v.controller.control&&(n.controller.control=v.controller.control),s.includes("children")&&e&&R&&v.virtual.enabled?(R.slides=e,R.update(!0)):s.includes("virtual")&&R&&v.virtual.enabled&&(e&&(R.slides=e),R.update(!0)),s.includes("children")&&e&&v.loop&&(_e=!0),z&&j.init()&&j.update(!0),k&&(n.controller.control=v.controller.control),V&&(n.isElement&&(!_||typeof _=="string")&&(_=document.createElement("div"),_.classList.add("swiper-pagination"),_.part.add("pagination"),n.el.appendChild(_)),_&&(v.pagination.el=_),w.init(),w.render(),w.update()),B&&(n.isElement&&(!h||typeof h=="string")&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),n.el.appendChild(h)),h&&(v.scrollbar.el=h),C.init(),C.updateSize(),C.setTranslate()),G&&(n.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Id(o,n.navigation.arrowSvg),o.part.add("button-next"),n.el.appendChild(o)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),Id(c,n.navigation.arrowSvg),c.part.add("button-prev"),n.el.appendChild(c))),o&&(v.navigation.nextEl=o),c&&(v.navigation.prevEl=c),E.init(),E.update()),s.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),s.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),s.includes("direction")&&n.changeDirection(t.direction,!1),(ne||_e)&&n.loopDestroy(),(te||_e)&&n.loopCreate(),n.update()}function J3(n={},e=!0){const t={on:{}},s={},o={};Qc(t,Vy),t._emitClasses=!0,t.init=!1;const c={},h=KS.map(p=>p.replace(/_/,"")),_=Object.assign({},n);return Object.keys(_).forEach(p=>{typeof n[p]>"u"||(h.indexOf(p)>=0?Xl(n[p])?(t[p]={},o[p]={},Qc(t[p],n[p]),Qc(o[p],n[p])):(t[p]=n[p],o[p]=n[p]):p.search(/on[A-Z]/)===0&&typeof n[p]=="function"?e?s[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:t.on[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:c[p]=n[p])}),["navigation","pagination","scrollbar"].forEach(p=>{t[p]===!0&&(t[p]={}),t[p]===!1&&delete t[p]}),{params:t,passedParams:o,rest:c,events:s}}function e6({el:n,nextEl:e,prevEl:t,paginationEl:s,scrollbarEl:o,swiper:c},h){YS(h)&&e&&t&&(c.params.navigation.nextEl=e,c.originalParams.navigation.nextEl=e,c.params.navigation.prevEl=t,c.originalParams.navigation.prevEl=t),WS(h)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),QS(h)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(n)}function t6(n,e,t,s,o){const c=[];if(!e)return c;const h=p=>{c.indexOf(p)<0&&c.push(p)};if(t&&s){const p=s.map(o),v=t.map(o);p.join("")!==v.join("")&&h("children"),s.length!==t.length&&h("children")}return KS.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in n&&p in e)if(Xl(n[p])&&Xl(e[p])){const v=Object.keys(n[p]),w=Object.keys(e[p]);v.length!==w.length?h(p):(v.forEach(E=>{n[p][E]!==e[p][E]&&h(p)}),w.forEach(E=>{n[p][E]!==e[p][E]&&h(p)}))}else n[p]!==e[p]&&h(p)}),c}const n6=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function nm(){return nm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},nm.apply(this,arguments)}function JS(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function e2(n){const e=[];return hn.Children.toArray(n).forEach(t=>{JS(t)?e.push(t):t.props&&t.props.children&&e2(t.props.children).forEach(s=>e.push(s))}),e}function i6(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return hn.Children.toArray(n).forEach(s=>{if(JS(s))e.push(s);else if(s.props&&s.props.slot&&t[s.props.slot])t[s.props.slot].push(s);else if(s.props&&s.props.children){const o=e2(s.props.children);o.length>0?o.forEach(c=>e.push(c)):t["container-end"].push(s)}else t["container-end"].push(s)}),{slides:e,slots:t}}function s6(n,e,t){if(!t)return null;const s=w=>{let E=w;return w<0?E=e.length+w:E>=e.length&&(E=E-e.length),E},o=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:c,to:h}=t,_=n.params.loop?-e.length:0,p=n.params.loop?e.length*2:e.length,v=[];for(let w=_;w<p;w+=1)w>=c&&w<=h&&v.push(e[s(w)]);return v.map((w,E)=>hn.cloneElement(w,{swiper:n,style:o,key:w.props.virtualIndex||w.key||`slide-${E}`}))}function yd(n,e){return typeof window>"u"?D.useEffect(n,e):D.useLayoutEffect(n,e)}const l1=D.createContext(null),r6=D.createContext(null),t2=D.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:s,onSwiper:o,...c}={},h)=>{let _=!1;const[p,v]=D.useState("swiper"),[w,E]=D.useState(null),[C,R]=D.useState(!1),j=D.useRef(!1),z=D.useRef(null),k=D.useRef(null),V=D.useRef(null),B=D.useRef(null),G=D.useRef(null),ne=D.useRef(null),te=D.useRef(null),_e=D.useRef(null),{params:H,passedParams:I,rest:Z,events:$}=J3(c),{slides:q,slots:K}=i6(s),F=()=>{R(!C)};Object.assign(H.on,{_containerClasses(ae,Ne){v(Ne)}});const Se=()=>{Object.assign(H.on,$),_=!0;const ae={...H};if(delete ae.wrapperClass,k.current=new nv(ae),k.current.virtual&&k.current.params.virtual.enabled){k.current.virtual.slides=q;const Ne={cache:!1,slides:q,renderExternal:E,renderExternalUpdate:!1};Qc(k.current.params.virtual,Ne),Qc(k.current.originalParams.virtual,Ne)}};z.current||Se(),k.current&&k.current.on("_beforeBreakpoint",F);const ye=()=>{_||!$||!k.current||Object.keys($).forEach(ae=>{k.current.on(ae,$[ae])})},W=()=>{!$||!k.current||Object.keys($).forEach(ae=>{k.current.off(ae,$[ae])})};D.useEffect(()=>()=>{k.current&&k.current.off("_beforeBreakpoint",F)}),D.useEffect(()=>{!j.current&&k.current&&(k.current.emitSlidesClasses(),j.current=!0)}),yd(()=>{if(h&&(h.current=z.current),!!z.current)return k.current.destroyed&&Se(),e6({el:z.current,nextEl:G.current,prevEl:ne.current,paginationEl:te.current,scrollbarEl:_e.current,swiper:k.current},H),o&&!k.current.destroyed&&o(k.current),()=>{k.current&&!k.current.destroyed&&k.current.destroy(!0,!1)}},[]),yd(()=>{ye();const ae=t6(I,V.current,q,B.current,Ne=>Ne.key);return V.current=I,B.current=q,ae.length&&k.current&&!k.current.destroyed&&X3({swiper:k.current,slides:q,passedParams:I,changedParams:ae,nextEl:G.current,prevEl:ne.current,scrollbarEl:_e.current,paginationEl:te.current}),()=>{W()}}),yd(()=>{n6(k.current)},[w]);function pe(){return H.virtual?s6(k.current,q,w):q.map((ae,Ne)=>hn.cloneElement(ae,{swiper:k.current,swiperSlideIndex:Ne}))}return hn.createElement(e,nm({ref:z,className:XS(`${p}${n?` ${n}`:""}`)},Z),hn.createElement(r6.Provider,{value:k.current},K["container-start"],hn.createElement(t,{className:Q3(H.wrapperClass)},K["wrapper-start"],pe(),K["wrapper-end"]),YS(H)&&hn.createElement(hn.Fragment,null,hn.createElement("div",{ref:ne,className:"swiper-button-prev"}),hn.createElement("div",{ref:G,className:"swiper-button-next"})),QS(H)&&hn.createElement("div",{ref:_e,className:"swiper-scrollbar"}),WS(H)&&hn.createElement("div",{ref:te,className:"swiper-pagination"}),K["container-end"]))});t2.displayName="Swiper";const zy=D.forwardRef(({tag:n="div",children:e,className:t="",swiper:s,zoom:o,lazy:c,virtualIndex:h,swiperSlideIndex:_,...p}={},v)=>{const w=D.useRef(null),[E,C]=D.useState("swiper-slide"),[R,j]=D.useState(!1);function z(G,ne,te){ne===w.current&&C(te)}yd(()=>{if(typeof _<"u"&&(w.current.swiperSlideIndex=_),v&&(v.current=w.current),!(!w.current||!s)){if(s.destroyed){E!=="swiper-slide"&&C("swiper-slide");return}return s.on("_slideClass",z),()=>{s&&s.off("_slideClass",z)}}}),yd(()=>{s&&w.current&&!s.destroyed&&C(s.getSlideClasses(w.current))},[s]);const k={isActive:E.indexOf("swiper-slide-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0},V=()=>typeof e=="function"?e(k):e,B=()=>{j(!0)};return hn.createElement(n,nm({ref:w,className:XS(`${E}${t?` ${t}`:""}`),"data-swiper-slide-index":h,onLoad:B},p),o&&hn.createElement(l1.Provider,{value:k},hn.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},V(),c&&!R&&hn.createElement("div",{className:"swiper-lazy-preloader",ref:G=>{G&&(G.lazyPreloaderManaged=!0)}}))),!o&&hn.createElement(l1.Provider,{value:k},V(),c&&!R&&hn.createElement("div",{className:"swiper-lazy-preloader",ref:G=>{G&&(G.lazyPreloaderManaged=!0)}})))});zy.displayName="SwiperSlide";function n2(n,e,t,s){return n.params.createElements&&Object.keys(s).forEach(o=>{if(!t[o]&&t.auto===!0){let c=Or(n.el,`.${s[o]}`)[0];c||(c=em("div",s[o]),c.className=s[o],n.el.append(c)),t[o]=c,e[o]=c}}),t}const c1='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function a6({swiper:n,extendParams:e,on:t,emit:s}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null,arrowSvg:c1};function o(R){let j;return R&&typeof R=="string"&&n.isElement&&(j=n.el.querySelector(R)||n.hostEl.querySelector(R),j)?j:(R&&(typeof R=="string"&&(j=[...document.querySelectorAll(R)]),n.params.uniqueNavElements&&typeof R=="string"&&j&&j.length>1&&n.el.querySelectorAll(R).length===1?j=n.el.querySelector(R):j&&j.length===1&&(j=j[0])),R&&!j?R:j)}function c(R,j){const z=n.params.navigation;R=Zn(R),R.forEach(k=>{k&&(k.classList[j?"add":"remove"](...z.disabledClass.split(" ")),k.tagName==="BUTTON"&&(k.disabled=j),n.params.watchOverflow&&n.enabled&&k.classList[n.isLocked?"add":"remove"](z.lockClass))})}function h(){const{nextEl:R,prevEl:j}=n.navigation;if(n.params.loop){c(j,!1),c(R,!1);return}c(j,n.isBeginning&&!n.params.rewind),c(R,n.isEnd&&!n.params.rewind)}function _(R){R.preventDefault(),!(n.isBeginning&&!n.params.loop&&!n.params.rewind)&&(n.slidePrev(),s("navigationPrev"))}function p(R){R.preventDefault(),!(n.isEnd&&!n.params.loop&&!n.params.rewind)&&(n.slideNext(),s("navigationNext"))}function v(){const R=n.params.navigation;if(n.params.navigation=n2(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(R.nextEl||R.prevEl))return;let j=o(R.nextEl),z=o(R.prevEl);Object.assign(n.navigation,{nextEl:j,prevEl:z}),j=Zn(j),z=Zn(z);const k=(V,B)=>{if(V){if(R.addIcons&&V.matches(".swiper-button-next,.swiper-button-prev")&&!V.querySelector("svg")){const G=document.createElement("div");Id(G,c1),V.appendChild(G.querySelector("svg")),G.remove()}V.addEventListener("click",B==="next"?p:_)}!n.enabled&&V&&V.classList.add(...R.lockClass.split(" "))};j.forEach(V=>k(V,"next")),z.forEach(V=>k(V,"prev"))}function w(){let{nextEl:R,prevEl:j}=n.navigation;R=Zn(R),j=Zn(j);const z=(k,V)=>{k.removeEventListener("click",V==="next"?p:_),k.classList.remove(...n.params.navigation.disabledClass.split(" "))};R.forEach(k=>z(k,"next")),j.forEach(k=>z(k,"prev"))}t("init",()=>{n.params.navigation.enabled===!1?C():(v(),h())}),t("toEdge fromEdge lock unlock",()=>{h()}),t("destroy",()=>{w()}),t("enable disable",()=>{let{nextEl:R,prevEl:j}=n.navigation;if(R=Zn(R),j=Zn(j),n.enabled){h();return}[...R,...j].filter(z=>!!z).forEach(z=>z.classList.add(n.params.navigation.lockClass))}),t("click",(R,j)=>{let{nextEl:z,prevEl:k}=n.navigation;z=Zn(z),k=Zn(k);const V=j.target;let B=k.includes(V)||z.includes(V);if(n.isElement&&!B){const G=j.path||j.composedPath&&j.composedPath();G&&(B=G.find(ne=>z.includes(ne)||k.includes(ne)))}if(n.params.navigation.hideOnClick&&!B){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===V||n.pagination.el.contains(V)))return;let G;z.length?G=z[0].classList.contains(n.params.navigation.hiddenClass):k.length&&(G=k[0].classList.contains(n.params.navigation.hiddenClass)),s(G===!0?"navigationShow":"navigationHide"),[...z,...k].filter(ne=>!!ne).forEach(ne=>ne.classList.toggle(n.params.navigation.hiddenClass))}});const E=()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),v(),h()},C=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),w()};Object.assign(n.navigation,{enable:E,disable:C,update:h,init:v,destroy:w})}function ed(n=""){return`.${n.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function o6({swiper:n,extendParams:e,on:t,emit:s}){const o="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:V=>V,formatFractionTotal:V=>V,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),n.pagination={el:null,bullets:[]};let c,h=0;function _(){return!n.params.pagination.el||!n.pagination.el||Array.isArray(n.pagination.el)&&n.pagination.el.length===0}function p(V,B){const{bulletActiveClass:G}=n.params.pagination;V&&(V=V[`${B==="prev"?"previous":"next"}ElementSibling`],V&&(V.classList.add(`${G}-${B}`),V=V[`${B==="prev"?"previous":"next"}ElementSibling`],V&&V.classList.add(`${G}-${B}-${B}`)))}function v(V,B,G){if(V=V%G,B=B%G,B===V+1)return"next";if(B===V-1)return"previous"}function w(V){const B=V.target.closest(ed(n.params.pagination.bulletClass));if(!B)return;V.preventDefault();const G=tm(B)*n.params.slidesPerGroup;if(n.params.loop){if(n.realIndex===G)return;const ne=v(n.realIndex,G,n.slides.length);ne==="next"?n.slideNext():ne==="previous"?n.slidePrev():n.slideToLoop(G)}else n.slideTo(G)}function E(){const V=n.rtl,B=n.params.pagination;if(_())return;let G=n.pagination.el;G=Zn(G);let ne,te;const _e=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,H=n.params.loop?Math.ceil(_e/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(te=n.previousRealIndex||0,ne=n.params.slidesPerGroup>1?Math.floor(n.realIndex/n.params.slidesPerGroup):n.realIndex):typeof n.snapIndex<"u"?(ne=n.snapIndex,te=n.previousSnapIndex):(te=n.previousIndex||0,ne=n.activeIndex||0),B.type==="bullets"&&n.pagination.bullets&&n.pagination.bullets.length>0){const I=n.pagination.bullets;let Z,$,q;if(B.dynamicBullets&&(c=Dy(I[0],n.isHorizontal()?"width":"height"),G.forEach(K=>{K.style[n.isHorizontal()?"width":"height"]=`${c*(B.dynamicMainBullets+4)}px`}),B.dynamicMainBullets>1&&te!==void 0&&(h+=ne-(te||0),h>B.dynamicMainBullets-1?h=B.dynamicMainBullets-1:h<0&&(h=0)),Z=Math.max(ne-h,0),$=Z+(Math.min(I.length,B.dynamicMainBullets)-1),q=($+Z)/2),I.forEach(K=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Se=>`${B.bulletActiveClass}${Se}`)].map(Se=>typeof Se=="string"&&Se.includes(" ")?Se.split(" "):Se).flat();K.classList.remove(...F)}),G.length>1)I.forEach(K=>{const F=tm(K);F===ne?K.classList.add(...B.bulletActiveClass.split(" ")):n.isElement&&K.setAttribute("part","bullet"),B.dynamicBullets&&(F>=Z&&F<=$&&K.classList.add(...`${B.bulletActiveClass}-main`.split(" ")),F===Z&&p(K,"prev"),F===$&&p(K,"next"))});else{const K=I[ne];if(K&&K.classList.add(...B.bulletActiveClass.split(" ")),n.isElement&&I.forEach((F,Se)=>{F.setAttribute("part",Se===ne?"bullet-active":"bullet")}),B.dynamicBullets){const F=I[Z],Se=I[$];for(let ye=Z;ye<=$;ye+=1)I[ye]&&I[ye].classList.add(...`${B.bulletActiveClass}-main`.split(" "));p(F,"prev"),p(Se,"next")}}if(B.dynamicBullets){const K=Math.min(I.length,B.dynamicMainBullets+4),F=(c*K-c)/2-q*c,Se=V?"right":"left";I.forEach(ye=>{ye.style[n.isHorizontal()?Se:"top"]=`${F}px`})}}G.forEach((I,Z)=>{if(B.type==="fraction"&&(I.querySelectorAll(ed(B.currentClass)).forEach($=>{$.textContent=B.formatFractionCurrent(ne+1)}),I.querySelectorAll(ed(B.totalClass)).forEach($=>{$.textContent=B.formatFractionTotal(H)})),B.type==="progressbar"){let $;B.progressbarOpposite?$=n.isHorizontal()?"vertical":"horizontal":$=n.isHorizontal()?"horizontal":"vertical";const q=(ne+1)/H;let K=1,F=1;$==="horizontal"?K=q:F=q,I.querySelectorAll(ed(B.progressbarFillClass)).forEach(Se=>{Se.style.transform=`translate3d(0,0,0) scaleX(${K}) scaleY(${F})`,Se.style.transitionDuration=`${n.params.speed}ms`})}B.type==="custom"&&B.renderCustom?(Id(I,B.renderCustom(n,ne+1,H)),Z===0&&s("paginationRender",I)):(Z===0&&s("paginationRender",I),s("paginationUpdate",I)),n.params.watchOverflow&&n.enabled&&I.classList[n.isLocked?"add":"remove"](B.lockClass)})}function C(){const V=n.params.pagination;if(_())return;const B=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.grid&&n.params.grid.rows>1?n.slides.length/Math.ceil(n.params.grid.rows):n.slides.length;let G=n.pagination.el;G=Zn(G);let ne="";if(V.type==="bullets"){let te=n.params.loop?Math.ceil(B/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&te>B&&(te=B);for(let _e=0;_e<te;_e+=1)V.renderBullet?ne+=V.renderBullet.call(n,_e,V.bulletClass):ne+=`<${V.bulletElement} ${n.isElement?'part="bullet"':""} class="${V.bulletClass}"></${V.bulletElement}>`}V.type==="fraction"&&(V.renderFraction?ne=V.renderFraction.call(n,V.currentClass,V.totalClass):ne=`<span class="${V.currentClass}"></span> / <span class="${V.totalClass}"></span>`),V.type==="progressbar"&&(V.renderProgressbar?ne=V.renderProgressbar.call(n,V.progressbarFillClass):ne=`<span class="${V.progressbarFillClass}"></span>`),n.pagination.bullets=[],G.forEach(te=>{V.type!=="custom"&&Id(te,ne||""),V.type==="bullets"&&n.pagination.bullets.push(...te.querySelectorAll(ed(V.bulletClass)))}),V.type!=="custom"&&s("paginationRender",G[0])}function R(){n.params.pagination=n2(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const V=n.params.pagination;if(!V.el)return;let B;typeof V.el=="string"&&n.isElement&&(B=n.el.querySelector(V.el)),!B&&typeof V.el=="string"&&(B=[...document.querySelectorAll(V.el)]),B||(B=V.el),!(!B||B.length===0)&&(n.params.uniqueNavElements&&typeof V.el=="string"&&Array.isArray(B)&&B.length>1&&(B=[...n.el.querySelectorAll(V.el)],B.length>1&&(B=B.find(G=>qS(G,".swiper")[0]===n.el))),Array.isArray(B)&&B.length===1&&(B=B[0]),Object.assign(n.pagination,{el:B}),B=Zn(B),B.forEach(G=>{V.type==="bullets"&&V.clickable&&G.classList.add(...(V.clickableClass||"").split(" ")),G.classList.add(V.modifierClass+V.type),G.classList.add(n.isHorizontal()?V.horizontalClass:V.verticalClass),V.type==="bullets"&&V.dynamicBullets&&(G.classList.add(`${V.modifierClass}${V.type}-dynamic`),h=0,V.dynamicMainBullets<1&&(V.dynamicMainBullets=1)),V.type==="progressbar"&&V.progressbarOpposite&&G.classList.add(V.progressbarOppositeClass),V.clickable&&G.addEventListener("click",w),n.enabled||G.classList.add(V.lockClass)}))}function j(){const V=n.params.pagination;if(_())return;let B=n.pagination.el;B&&(B=Zn(B),B.forEach(G=>{G.classList.remove(V.hiddenClass),G.classList.remove(V.modifierClass+V.type),G.classList.remove(n.isHorizontal()?V.horizontalClass:V.verticalClass),V.clickable&&(G.classList.remove(...(V.clickableClass||"").split(" ")),G.removeEventListener("click",w))})),n.pagination.bullets&&n.pagination.bullets.forEach(G=>G.classList.remove(...V.bulletActiveClass.split(" ")))}t("changeDirection",()=>{if(!n.pagination||!n.pagination.el)return;const V=n.params.pagination;let{el:B}=n.pagination;B=Zn(B),B.forEach(G=>{G.classList.remove(V.horizontalClass,V.verticalClass),G.classList.add(n.isHorizontal()?V.horizontalClass:V.verticalClass)})}),t("init",()=>{n.params.pagination.enabled===!1?k():(R(),C(),E())}),t("activeIndexChange",()=>{typeof n.snapIndex>"u"&&E()}),t("snapIndexChange",()=>{E()}),t("snapGridLengthChange",()=>{C(),E()}),t("destroy",()=>{j()}),t("enable disable",()=>{let{el:V}=n.pagination;V&&(V=Zn(V),V.forEach(B=>B.classList[n.enabled?"remove":"add"](n.params.pagination.lockClass)))}),t("lock unlock",()=>{E()}),t("click",(V,B)=>{const G=B.target,ne=Zn(n.pagination.el);if(n.params.pagination.el&&n.params.pagination.hideOnClick&&ne&&ne.length>0&&!G.classList.contains(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&G===n.navigation.nextEl||n.navigation.prevEl&&G===n.navigation.prevEl))return;const te=ne[0].classList.contains(n.params.pagination.hiddenClass);s(te===!0?"paginationShow":"paginationHide"),ne.forEach(_e=>_e.classList.toggle(n.params.pagination.hiddenClass))}});const z=()=>{n.el.classList.remove(n.params.pagination.paginationDisabledClass);let{el:V}=n.pagination;V&&(V=Zn(V),V.forEach(B=>B.classList.remove(n.params.pagination.paginationDisabledClass))),R(),C(),E()},k=()=>{n.el.classList.add(n.params.pagination.paginationDisabledClass);let{el:V}=n.pagination;V&&(V=Zn(V),V.forEach(B=>B.classList.add(n.params.pagination.paginationDisabledClass))),j()};Object.assign(n.pagination,{enable:z,disable:k,render:C,update:E,init:R,destroy:j})}const l6=()=>{const{id:n}=S1(),e=Fo(),t=Bs(),{user:s,userData:o}=Da(),[c,h]=D.useState(null),[_,p]=D.useState(!0),[v,w]=D.useState(!1),[E,C]=D.useState(!1),R=D.useRef(!1),[j,z]=D.useState(!1),[k,V]=D.useState(null),[B,G]=D.useState(!1),[ne,te]=D.useState({name:"",phone:"",message:"Hola, estoy interesado en esta propiedad y me gustara recibir ms informacin."}),_e=async me=>{me.preventDefault(),C(!0);try{await zl(vn(Xe,"inquiries"),{propertyId:c.id,propertyTitle:c.title,agentId:c.agentId,clientName:ne.name,clientPhone:ne.phone,clientMessage:ne.message,timestamp:new Date,status:"pending"}),De.success("Tu solicitud ha sido enviada! El agente te contactar pronto."),w(!1),te({name:"",phone:"",message:""})}catch(O){console.error("Error sending inquiry:",O),De.error("Hubo un error al enviar tu solicitud.")}finally{C(!1)}},H=()=>{if(!s){De.error("Debes iniciar sesin para agendar una visita."),e("/login",{state:{from:t.pathname}});return}if((c?.availableVisitSlots||[]).length===0){De.error("El agente an no ha definido horarios de visita para esta propiedad.");return}V(null),z(!0)},I=async me=>{if(me.preventDefault(),!k){De.error("Selecciona un horario.");return}G(!0);try{await zl(vn(Xe,"visits"),{propertyId:c.id,propertyTitle:c.title,agentId:c.agentId,clientId:s.uid,clientName:o?.displayName||s.displayName||"Cliente",clientPhone:o?.phoneNumber||"No especificado",clientEmail:s.email,visitDate:k.date,visitTime:k.time,status:"pending",timestamp:new Date});const O=Ft(Xe,"properties",c.id),ee=c.availableVisitSlots.filter(fe=>fe.id!==k.id);await rr(O,{availableVisitSlots:ee}),h(fe=>({...fe,availableVisitSlots:ee})),De.success("Visita agendada con xito! El agente confirmar la fecha."),z(!1),V(null)}catch(O){console.error("Error scheduling visit:",O),De.error("Error al agendar la visita.")}finally{G(!1)}},Z=async()=>{if(!c)return;let me=c.agentPhone||"51999999999";if(!c.agentPhone&&c.agentId)try{const fe=await Do(Ft(Xe,"users",c.agentId));if(fe.exists()){const be=fe.data();be.phoneNumber&&(me=be.phoneNumber)}}catch(fe){console.error("Error fetching agent phone:",fe)}me=me.replace(/[\s\-\+]/g,""),!me.startsWith("51")&&me.length===9&&(me="51"+me);const O=`Hola, estoy interesado en la propiedad: ${c.title}
 ${c.location}`,ee=`https://wa.me/${me}?text=${encodeURIComponent(O)}`;window.open(ee,"_blank")},$=async()=>{const me={title:c?.title||"Propiedad en Inmuvete",text:`Mira esta propiedad: ${c?.title} - ${c?.location}`,url:window.location.href};try{navigator.share?await navigator.share(me):(await navigator.clipboard.writeText(window.location.href),De.success("Enlace copiado al portapapeles!"))}catch(O){O.name!=="AbortError"&&(await navigator.clipboard.writeText(window.location.href),De.success("Enlace copiado al portapapeles!"))}},q=()=>{De.success("Propiedad guardada en favoritos!")};if(D.useEffect(()=>{(async()=>{try{if(!n)return;const O=Ft(Xe,"properties",n),ee=await Do(O);if(ee.exists()){const fe=ee.data();if(fe.status==="borrador"&&(!s||fe.agentId!==s.uid)){h(null),p(!1);return}!R.current&&fe.status!=="borrador"&&(R.current=!0,rr(O,{views:LL(1)}).catch(be=>console.error("Error incrementing views",be)),fe.views=(fe.views||0)+1),h({id:ee.id,...fe})}else console.log("No such document!")}catch(O){console.error("Error fetching property:",O)}finally{p(!1)}})()},[n]),_)return f.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:f.jsx("div",{className:"w-16 h-16 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})});if(!c)return f.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Propiedad no encontrada"}),f.jsx(gt,{to:"/",className:"text-[#fc7f51] hover:underline",children:"Volver al inicio"})]});const K=c.exchangeRate||3.8,F=typeof c.price=="number"?c.price:parseFloat(c.price),Se=c.currency||"USD";let ye,W,pe,ae;Se==="USD"?(ye=F,pe="USD",W=F*K,ae="PEN"):(ye=F,pe="PEN",W=F/K,ae="USD");const Ne=c.lat&&c.lng?`https://www.google.com/maps/search/?api=1&query=${c.lat},${c.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(c.location)}`;return f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("main",{className:"container mx-auto px-4 md:px-6 pt-28 md:pt-32 pb-12",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:c.title}),f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center text-sm gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium overflow-hidden",children:[f.jsx(Gr,{className:"w-4 h-4 text-[#fc7f51] flex-shrink-0"}),f.jsx("a",{href:Ne,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-[#fc7f51] truncate",children:c.location})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsxs("button",{onClick:$,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[f.jsx(fO,{className:"w-4 h-4"})," Compartir"]}),f.jsxs("button",{onClick:q,className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg font-semibold text-sm transition",children:[f.jsx(Wf,{className:"w-4 h-4"})," Guardar"]})]})]})]}),f.jsx("div",{className:"rounded-2xl overflow-hidden mb-12 shadow-2xl relative h-[400px] md:h-[600px] bg-gray-100 group",children:f.jsx(t2,{modules:[a6,o6],navigation:!0,pagination:{clickable:!0},className:"h-full w-full",loop:!0,children:c.images&&c.images.length>0?c.images.map((me,O)=>f.jsxs(zy,{className:"relative",children:[f.jsx("img",{src:me,alt:`Property ${O+1}`,loading:"lazy",decoding:"async",className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none select-none",children:f.jsx("img",{src:Zd,alt:"Inmuvete",className:"w-1/2 h-auto object-contain filter drop-shadow-lg"})})]},O)):f.jsx(zy,{children:f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-400",children:"No hay imgenes disponibles"})})})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["Publicado por ",c.agentName||"Agente Inmuvete"]}),f.jsxs("p",{className:"text-gray-600 mb-0",children:[c.bedrooms||0," Habitaciones  ",c.bathrooms||0," Baos  ",c.footage," m"]})]}),f.jsx("div",{className:"w-14 h-14 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden border-2 border-white shadow-md",children:c.agentPhotoURL?f.jsx("img",{src:c.agentPhotoURL,alt:c.agentName,className:"w-full h-full object-cover"}):f.jsx(Rd,{className:"w-8 h-8 text-gray-400"})})]}),f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[f.jsx("h3",{className:"text-lg font-bold mb-4",children:"Caractersticas"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-y-4 gap-x-6",children:[f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(XD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[c.footage," m"]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(cD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[c.bedrooms||0," Habitaciones"]})]}),f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(oD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[c.bathrooms||0," Baos"]})]}),c.parking&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(yD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Cochera"})]}),c.isDuplex&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(zD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Dplex"})]}),c.floor&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(rD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:["Piso ",c.floor]})]}),c.isInBuilding&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(hD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"En Edificio"})]}),c.elevator&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(iD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Ascensor"})]}),c.furnished&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(J4,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Amoblado"})]}),c.pool&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(VS,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Piscina"})]}),c.gym&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(AD,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Gimnasio"})]}),c.security&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(DS,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Seguridad 24/7"})]}),c.isExclusive&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(Qf,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:"Exclusivo"})]}),c.antiquity&&f.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[f.jsx(Kf,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:c.antiquity==="estreno"?"Estreno":c.antiquity})]})]})]}),f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Descripcin"}),f.jsx("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-line",children:c.description})]}),f.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Detalles"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Tipo"}),f.jsx("span",{className:"font-semibold capitalize",children:c.type})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Categora"}),f.jsx("span",{className:"font-semibold capitalize",children:c.category})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"rea"}),f.jsxs("span",{className:"font-semibold",children:[c.footage," m"]})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Estado"}),f.jsx("span",{className:`font-semibold capitalize ${c.status==="disponible"?"text-green-600":"text-red-500"}`,children:c.status})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Antigedad"}),f.jsx("span",{className:"font-semibold capitalize",children:c.antiquity==="estreno"?"A estrenar":c.antiquity==="preventa"?"En Preventa":c.antiquity==="up_to_5"?"Hasta 5 aos":c.antiquity==="5_to_10"?"5 a 10 aos":c.antiquity==="10_to_20"?"10 a 20 aos":c.antiquity==="more_than_20"?"Ms de 20 aos":c.antiquity||"No especificado"})]}),c.floor&&f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Piso"}),f.jsxs("span",{className:"font-semibold",children:[c.floor,""]})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Ascensor"}),f.jsx("span",{className:"font-semibold",children:c.elevator?"S":"No"})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[f.jsx("span",{className:"text-gray-500",children:"Cochera"}),f.jsx("span",{className:"font-semibold",children:c.parking?"S":"No"})]})]})]}),f.jsxs("div",{className:"pt-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ubicacin"}),f.jsx("p",{className:"text-gray-500 mb-4",children:c.location}),f.jsxs("div",{className:"h-96 w-full rounded-xl overflow-hidden bg-gray-100 shadow-inner relative group",children:[c.lat&&c.lng?f.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${c.lat},${c.lng}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):c.location?f.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${encodeURIComponent(c.location)}&hl=es&z=15&output=embed`,allowFullScreen:!0,title:"Ubicacin Propiedad"}):f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-200",children:[f.jsx(Gr,{className:"w-12 h-12 text-gray-400 mb-2"}),f.jsx("p",{className:"text-gray-500",children:"Mapa no disponible para esta ubicacin."})]}),f.jsxs("a",{href:Ne,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-lg text-sm font-bold flex items-center gap-2 hover:bg-[#fc7f51] hover:text-white transition",children:[f.jsx(Gr,{className:"w-4 h-4"}),"Abrir en Google Maps"]})]})]})]}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"sticky top-32 bg-white rounded-xl shadow-card border border-gray-200 p-6",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("span",{className:"block text-3xl font-bold text-[#fc7f51]",children:pe==="USD"?`$ ${ye.toLocaleString("en-US",{maximumFractionDigits:0})}`:`S/. ${ye.toLocaleString("en-US",{maximumFractionDigits:0})}`}),f.jsx("span",{className:"block text-xl font-bold text-gray-400 mt-1",children:ae==="USD"?`$ ${W.toLocaleString("en-US",{maximumFractionDigits:0})}`:`S/. ${W.toLocaleString("en-US",{maximumFractionDigits:0})}`}),c.type==="alquiler"&&f.jsx("span",{className:"text-gray-500 text-sm block mt-1",children:"Precio por mes"})]}),f.jsxs("button",{onClick:Z,className:"w-full bg-[#25D366] text-white font-bold text-lg py-3 rounded-lg hover:bg-[#20bd5a] transition mb-4 shadow-lg shadow-green-500/30 flex items-center justify-center gap-2",children:[f.jsx(ev,{className:"w-5 h-5"}),"Contactar por WhatsApp"]}),f.jsxs("button",{onClick:H,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-lg hover:bg-[#e56b3e] transition mb-6 flex items-center justify-center gap-2 shadow-lg shadow-orange-500/30",children:[f.jsx(iu,{className:"w-5 h-5"}),"Agendar Visita"]}),f.jsx("div",{className:"text-center text-xs text-gray-400",children:"* Al contactar aceptas nuestros trminos y condiciones."})]})})]})]}),v&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Solicitar Informacin"}),f.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:_e,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),f.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre completo",value:ne.name,onChange:me=>te({...ne,name:me.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono / WhatsApp"}),f.jsx("input",{required:!0,type:"tel",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: +51 999 999 999",value:ne.phone,onChange:me=>te({...ne,phone:me.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),f.jsx("textarea",{required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition h-32 resize-none",value:ne.message,onChange:me=>te({...ne,message:me.target.value})})]}),f.jsx("button",{type:"submit",disabled:E,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-70",children:E?f.jsx(Bl,{className:"animate-spin"}):"Enviar Solicitud"})]})]})}),j&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative p-8",children:[f.jsx("button",{onClick:()=>z(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition",children:f.jsx(Dr,{className:"w-6 h-6"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Agendar Visita"}),f.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Selecciona uno de los horarios disponibles del agente."}),f.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto mb-6",children:(c?.availableVisitSlots||[]).sort((me,O)=>new Date(me.date+"T"+me.time)-new Date(O.date+"T"+O.time)).map(me=>f.jsxs("button",{type:"button",onClick:()=>V(me),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg border-2 transition ${k?.id===me.id?"border-[#fc7f51] bg-orange-50":"border-gray-100 hover:border-gray-300 bg-gray-50"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(iu,{className:"w-4 h-4 text-[#fc7f51]"}),f.jsx("span",{className:"font-medium text-gray-700 text-sm",children:new Date(me.date+"T00:00:00").toLocaleDateString("es-PE",{weekday:"long",day:"numeric",month:"long"})})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Kf,{className:"w-3 h-3 text-gray-400"}),f.jsx("span",{className:"text-sm font-bold text-gray-600",children:me.time}),k?.id===me.id&&f.jsx(vD,{className:"w-5 h-5 text-[#fc7f51]"})]})]},me.id))}),f.jsx("button",{onClick:I,disabled:B||!k,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-lg hover:bg-[#e56b3e] transition disabled:opacity-50",children:B?"Agendando...":"Confirmar Visita"})]})})]})},c6=()=>f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20",alt:"About Hero"})}),f.jsxs("div",{className:"relative z-10 text-center px-6",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:["Ms que una ",f.jsx("span",{className:"text-[#fc7f51]",children:"inmobiliaria"})]}),f.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Inspiramos movimiento. Impulsamos a las personas a dar el paso hacia nuevas etapas de su vida."})]})]}),f.jsxs("div",{className:"container mx-auto px-6 py-20",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center mb-24",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Quines Somos"}),f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("img",{src:Zd,alt:"Inmuvete",className:"h-16 object-contain"}),f.jsx("span",{className:"text-5xl font-bold text-[#fc7f51] tracking-tight hidden md:block",children:"Inmuvete"})]}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 leading-tight",children:"Concepto de Marca"}),f.jsxs("p",{className:"text-[#878787] text-lg leading-relaxed mb-6",children:["Ms que vender inmuebles, inspiramos movimiento. ",f.jsx("strong",{className:"text-[#262626]",children:"Inmuvete"})," es la inmobiliaria que impulsa a las personas a dar el paso hacia nuevas etapas de su vida: un nuevo hogar, una inversin segura o un espacio para crecer."]}),f.jsx("p",{className:"text-[#878787] text-lg leading-relaxed",children:"Nuestro enfoque combina confianza, transparencia y dinamismo, convirtiendo cada transaccin en una experiencia cercana, gil y motivadora."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?q=80&w=800&auto=format&fit=crop",className:"rounded-tl-[40px] rounded-br-[40px] w-full h-64 object-cover shadow-card",alt:"Exterior de casa moderna"}),f.jsx("img",{src:"https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?q=80&w=800&auto=format&fit=crop",className:"rounded-tr-[40px] rounded-bl-[40px] w-full h-64 object-cover shadow-card mt-8",alt:"Interior de casa moderna"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-24",children:[f.jsxs("div",{className:"bg-[#f9f9f9] p-10 rounded-2xl hover:shadow-lg transition border-l-4 border-[#fc7f51] group",children:[f.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] group-hover:text-white transition",children:f.jsx(vO,{className:"w-7 h-7"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Misin"}),f.jsx("p",{className:"text-[#878787] leading-relaxed",children:'"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles, ofreciendo un servicio cercano que transforma cada proceso en una experiencia sencilla y segura."'})]}),f.jsxs("div",{className:"bg-[#262626] p-10 rounded-2xl text-white shadow-xl relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#fc7f51] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"}),f.jsx("div",{className:"w-14 h-14 bg-[#333] rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] transition",children:f.jsx(Yf,{className:"w-7 h-7"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visin"}),f.jsx("p",{className:"text-gray-300 leading-relaxed",children:'"Ser la inmobiliaria de referencia en la regin, reconocida por la confianza, innovacin y cercana con nuestros clientes, ofreciendo experiencias inmobiliarias que impulsen el desarrollo personal, familiar y empresarial."'})]})]}),f.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[f.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Nuestra Esencia"}),f.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Nuestros Valores"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:f.jsx(DS,{className:"w-10 h-10"})}),f.jsx("h4",{className:"text-xl font-bold mb-3",children:"Integridad"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"Actuamos con honestidad y transparencia en cada paso."})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:f.jsx(jD,{className:"w-10 h-10"})}),f.jsx("h4",{className:"text-xl font-bold mb-3",children:"Compromiso"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"Nos dedicamos a cumplir y superar las expectativas."})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:f.jsx(OS,{className:"w-10 h-10"})}),f.jsx("h4",{className:"text-xl font-bold mb-3",children:"Confianza"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"Construimos relaciones duraderas basadas en la seguridad."})]})]})]})]})]}),u6=()=>{const[n,e]=D.useState(null),[t,s]=D.useState(!0),[o,c]=D.useState(!1);return D.useEffect(()=>{(async()=>{try{const _=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!_.ok)throw new Error("Failed to fetch");const p=await _.json(),v=p.rates.PEN;e({compra:v,venta:v,fecha:new Date(p.date).toISOString().split("T")[0]})}catch(_){console.error("Error fetching exchange rate:",_),c(!0),e({compra:3.75,venta:3.8,fecha:new Date().toISOString().split("T")[0]})}finally{s(!1)}})()},[]),t?f.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 animate-pulse bg-gray-800/50 px-3 py-1 rounded-full",children:[f.jsx(cO,{className:"w-3 h-3 animate-spin"}),f.jsx("span",{children:"Cargando TC..."})]}):f.jsxs("div",{className:"hidden xl:flex flex-col items-end text-right mr-4 border-r border-gray-700 pr-4",children:[f.jsxs("div",{className:"flex items-center gap-1 text-[#fc7f51] text-xs font-bold uppercase tracking-wider mb-0.5",children:[f.jsx(SD,{className:"w-3 h-3"}),f.jsx("span",{children:"Tipo de Cambio"})]}),f.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-300 font-mono",children:f.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-300 font-mono",children:f.jsxs("div",{title:"Tipo de Cambio Referencial",children:[f.jsx("span",{className:"text-gray-500 mr-1",children:"T.C:"}),f.jsx("span",{className:"text-white font-bold",children:n?.venta?.toFixed(2)})]})})})]})},d6=()=>{const{user:n,userData:e,logout:t}=Da(),s=Bs(),o=Fo(),[c,h]=D.useState(""),[_,p]=D.useState(!1);s.pathname;const v=()=>{c.trim()&&o(`/search?location=${encodeURIComponent(c)}`)},w=E=>{E.key==="Enter"&&v()};return f.jsxs("nav",{className:"fixed w-full z-50 bg-[#16151a] border-b border-gray-800 shadow-lg",children:[f.jsxs("div",{className:"container mx-auto px-6 h-24 flex justify-between items-center",children:[f.jsxs(gt,{to:"/",className:"flex items-center gap-2 group",children:[f.jsx("img",{src:Zd,alt:"Inmuvete",className:"h-10 md:h-12 w-auto object-contain"}),f.jsx("span",{className:"text-2xl font-bold text-[#fc7f51] tracking-tight hidden md:block",children:"Inmuvete"})]}),f.jsxs("div",{className:"hidden lg:flex items-center bg-white rounded-full py-2 pl-6 pr-2 shadow-xl hover:shadow-orange-500/5 transition cursor-pointer gap-4 min-w-[420px]",children:[f.jsx("input",{type:"text",placeholder:"Buscar por zona, ciudad o tipo...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm",value:c,onChange:E=>h(E.target.value),onKeyDown:w}),f.jsx("div",{className:"bg-[#fc7f51] p-2.5 rounded-full text-white hover:bg-[#e56b3e] transition shadow-md",onClick:v,children:f.jsx(Ql,{className:"w-5 h-5",strokeWidth:2.5})})]}),f.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[f.jsx(u6,{}),f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsx(gt,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),e?.role!=="agente"&&f.jsxs(f.Fragment,{children:[f.jsx(gt,{to:"/tips",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Blog"}),f.jsx(gt,{to:"/about",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Nosotros"}),f.jsx(gt,{to:"/contact",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Contacto"})]})]}),n?f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs(gt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",className:"text-white hover:text-[#fc7f51] transition font-medium mr-2",children:["Hola, ",n.displayName?n.displayName.split(" ")[0]:e?.role==="agente"?"Agente":"Usuario"]}),f.jsx("button",{onClick:t,className:"bg-[#262626] border border-gray-600 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition",children:"Salir"}),f.jsx(gt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",children:f.jsx("div",{className:"bg-gray-600 rounded-full p-0.5 cursor-pointer",children:f.jsx(t1,{className:"w-8 h-8 text-white fill-gray-600"})})})]}):f.jsx(gt,{to:"/login",className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-full font-bold transition shadow-lg shadow-orange-500/20",children:"Ingresar"})]}),f.jsx("button",{onClick:()=>p(!_),className:"md:hidden text-white p-2 hover:bg-gray-800 rounded-lg transition",children:_?f.jsx(Dr,{className:"w-8 h-8"}):f.jsx(eO,{className:"w-8 h-8"})})]}),_&&f.jsx("div",{className:"md:hidden bg-[#16151a] border-t border-gray-800 absolute w-full left-0 top-24 min-h-[calc(100vh-96px)] p-6 animate-fadeIn",children:f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"flex items-center bg-white rounded-full py-2 pl-4 pr-2 shadow-lg mb-4",children:[f.jsx("input",{type:"text",placeholder:"Buscar...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm w-full",value:c,onChange:E=>h(E.target.value),onKeyDown:E=>{E.key==="Enter"&&(v(),p(!1))}}),f.jsx("div",{className:"bg-[#fc7f51] p-2 rounded-full text-white",onClick:()=>{v(),p(!1)},children:f.jsx(Ql,{className:"w-4 h-4",strokeWidth:2.5})})]}),f.jsx(gt,{to:"/",onClick:()=>p(!1),className:"text-lg font-bold text-gray-200 hover:text-[#fc7f51] py-2 border-b border-gray-800",children:"Propiedades"}),f.jsx(gt,{to:"/tips",onClick:()=>p(!1),className:"text-lg font-bold text-gray-200 hover:text-[#fc7f51] py-2 border-b border-gray-800",children:"Blog"}),e?.role!=="agente"&&f.jsxs(f.Fragment,{children:[f.jsx(gt,{to:"/about",onClick:()=>p(!1),className:"text-lg font-bold text-gray-200 hover:text-[#fc7f51] py-2 border-b border-gray-800",children:"Nosotros"}),f.jsx(gt,{to:"/contact",onClick:()=>p(!1),className:"text-lg font-bold text-gray-200 hover:text-[#fc7f51] py-2 border-b border-gray-800",children:"Contacto"})]}),n?f.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[f.jsxs(gt,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",onClick:()=>p(!1),className:"text-white hover:text-[#fc7f51] font-medium flex items-center gap-2",children:[f.jsx(t1,{className:"w-6 h-6"}),"Hola, ",n.displayName||(e?.role==="agente"?"Agente":"Usuario")]}),f.jsx("button",{onClick:()=>{t(),p(!1)},className:"bg-[#262626] border border-gray-600 text-white w-full py-3 rounded-xl font-bold hover:bg-gray-800 transition",children:"Cerrar Sesin"})]}):f.jsx(gt,{to:"/login",onClick:()=>p(!1),className:"bg-[#fc7f51] text-white w-full py-3 rounded-xl font-bold text-center mt-4 shadow-lg shadow-orange-500/20",children:"Ingresar"})]})})]})},h6=()=>f.jsxs("footer",{className:"bg-[#16151a] text-white py-16",children:[f.jsxs("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("img",{src:Zd,alt:"Inmuvete",className:"h-12"}),f.jsxs("span",{className:"text-2xl font-bold font-[Montserrat] text-white",children:["Inmu",f.jsx("span",{className:"text-[#fc7f51]",children:"vete"})]})]}),f.jsx("p",{className:"text-[#878787] text-sm leading-relaxed mb-6",children:"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles."}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("a",{href:"https://www.tiktok.com/@inmuevete?_r=1&_t=ZS-93tNDmlipvg",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] hover:bg-[#fc7f51] hover:text-white transition-colors duration-300","aria-label":"TikTok",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})}),f.jsx("a",{href:"https://www.instagram.com/inmuevete.inmobiliaria?igsh=ZDBmc244MnYyOHZ1&utm_source=qr",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] hover:bg-[#fc7f51] hover:text-white transition-colors duration-300","aria-label":"Instagram",children:f.jsx(kS,{size:18})}),f.jsx("a",{href:"https://www.facebook.com/share/1AYe1Qtnwd/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] hover:bg-[#fc7f51] hover:text-white transition-colors duration-300","aria-label":"Facebook",children:f.jsx(jS,{size:18})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Nuestros Valores"}),f.jsxs("ul",{className:"space-y-4 text-sm text-[#878787]",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Integridad"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Compromiso"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Confianza"]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Contacto"}),f.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"Oficina Central, Ciudad"}),f.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"contacto@inmuevete.com"}),f.jsx("p",{className:"text-[#878787] text-sm",children:"+51 123 456 789"})]})]}),f.jsx("div",{className:"border-t border-[#262626] mt-12 pt-8 text-center text-[#878787] text-xs",children:" 2024 Inmuvete. Todos los derechos reservados."})]}),f6=()=>{const[n,e]=D.useState({name:"",phone:"+51 ",email:"",subject:"Informacin general",message:""}),t=h=>{e({...n,[h.target.name]:h.target.value})},s=h=>{let _=h.target.value;_.startsWith("+51 ")||(_="+51 "+_.replace(/^\+51\s*/,"")),e({...n,phone:_})},o=()=>{const h="+51965355700";let _=n.message.trim();return _||(_=`Hola, me gustara ${n.subject==="Comprar una propiedad"?"Comprar":n.subject==="Vender una propiedad"?"Vender":n.subject==="Alquileres"?"Alquilar":"obtener Informacin general sobre"} un inmueble.`),_+=`

- Nombre: ${n.name}
- Telfono: ${n.phone}
- Email: ${n.email}
- Asunto: ${n.subject}`,`https://wa.me/${h}?text=${encodeURIComponent(_)}`},c=h=>{if(h.preventDefault(),!n.name||!n.email){De.error("Por favor completa nombre y email.");return}const _=o();De.success("Redirigiendo a WhatsApp..."),setTimeout(()=>{window.open(_,"_blank")},1e3)};return f.jsx("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:f.jsxs("div",{className:"pt-24 pb-20 container mx-auto px-6",children:[f.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[f.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Hablamos?"}),f.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#262626]",children:"Contctanos"}),f.jsx("p",{className:"text-[#878787] text-lg",children:"Estamos aqu para ayudarte a encontrar tu espacio ideal. Escrbenos y un asesor se pondr en contacto contigo a la brevedad."})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[f.jsxs("div",{className:"bg-[#16151a] text-white p-10 rounded-3xl shadow-xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-20 blur-3xl"}),f.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-10 blur-3xl"}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Informacin de Contacto"}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:f.jsx(ev,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg mb-1",children:"Telfono"}),f.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"+51 965355700"})]})]}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:f.jsx(YD,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg mb-1",children:"Email"}),f.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"contacto@inmuevete.com"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"ventas@inmuevete.com"})]})]}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:f.jsx(Gr,{className:"w-6 h-6"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-lg mb-1",children:"Oficina Central"}),f.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Av. Principal 123, Oficina 404",f.jsx("br",{}),"Centro Empresarial, Ciudad",f.jsx("br",{}),"Per"]})]})]})]}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h4",{className:"font-bold text-lg mb-4",children:"Sguenos"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:f.jsx(kS,{className:"w-5 h-5"})}),f.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:f.jsx(jS,{className:"w-5 h-5"})}),f.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:f.jsx(qD,{className:"w-5 h-5"})})]})]})]})]}),f.jsx("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-card border border-gray-100",children:f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Nombre"}),f.jsx("input",{type:"text",name:"name",value:n.name,onChange:t,placeholder:"Tu nombre completo",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Telfono"}),f.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:s,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Email"}),f.jsx("input",{type:"email",name:"email",value:n.email,onChange:t,placeholder:"ejemplo@correo.com",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Asunto"}),f.jsxs("select",{name:"subject",value:n.subject,onChange:t,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition text-gray-600 bg-white",children:[f.jsx("option",{value:"Informacin general",children:"Informacin general"}),f.jsx("option",{value:"Comprar una propiedad",children:"Comprar una propiedad"}),f.jsx("option",{value:"Vender una propiedad",children:"Vender una propiedad"}),f.jsx("option",{value:"Alquileres",children:"Alquileres"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Mensaje"}),f.jsx("textarea",{name:"message",value:n.message,onChange:t,rows:"4",placeholder:"Cmo podemos ayudarte?",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),f.jsxs("button",{type:"submit",className:"w-full bg-[#128C7E] hover:bg-[#075E54] text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2 group",children:["Contactar por WhatsApp",f.jsx(nO,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})]})]})})},u1=3.75,d1=()=>{const[n,e]=aC(),[t,s]=D.useState(n.get("operation")||"venta"),[o,c]=D.useState(n.get("location")||""),[h,_]=D.useState(n.get("propertyType")||""),[p,v]=D.useState(n.get("currency")||"USD"),[w,E]=D.useState(n.get("priceMin")||""),[C,R]=D.useState(n.get("priceMax")||""),[j,z]=D.useState(n.get("bedrooms")||""),[k,V]=D.useState(n.get("bathrooms")||""),[B,G]=D.useState(n.get("floor")||""),[ne,te]=D.useState(n.get("parking")==="true"),[_e,H]=D.useState(n.get("isDuplex")==="true");D.useEffect(()=>{s(n.get("operation")||"venta"),c(n.get("location")||""),_(n.get("propertyType")||""),v(n.get("currency")||"USD"),E(n.get("priceMin")||""),R(n.get("priceMax")||""),z(n.get("bedrooms")||""),V(n.get("bathrooms")||""),G(n.get("floor")||""),te(n.get("parking")==="true"),H(n.get("isDuplex")==="true")},[n]);const[I,Z]=D.useState([]),[$,q]=D.useState([]),[K,F]=D.useState(!0),[Se,ye]=D.useState(!1),[W,pe]=D.useState("newest");D.useEffect(()=>{(async()=>{F(!0);try{const fe=(await ar(vn(Xe,"properties"))).docs.map(be=>({id:be.id,...be.data()}));Z(fe)}catch(ee){console.error("Error fetching properties:",ee)}finally{F(!1)}})()},[]),D.useEffect(()=>{let O=[...I];if(t&&(O=O.filter(ee=>ee.type?.toLowerCase()===t.toLowerCase())),o){const ee=o.toLowerCase();O=O.filter(fe=>fe.location?.toLowerCase().includes(ee)||fe.address?.toLowerCase().includes(ee)||fe.title?.toLowerCase().includes(ee))}if(h){const ee=h.toLowerCase();O=O.filter(fe=>{const be=fe.title?.toLowerCase()||"",Re=fe.category?.toLowerCase()||"",Ae=fe.location?.toLowerCase()||"";return ee==="departamento"||ee==="departamentos"?be.includes("departamento")||be.includes("depa"):ee==="casa"||ee==="casas"?be.includes("casa"):ee==="terreno"||ee==="terrenos"?Re==="terreno"||be.includes("terreno")||be.includes("lote"):ee==="oficina"||ee==="oficinas"?be.includes("oficina"):ee==="local"||ee==="locales"?be.includes("local"):ee==="campestre"||ee==="campestres"?be.includes("campestre")||be.includes("campo")||Ae.includes("campo"):ee==="playa"?be.includes("playa")||Ae.includes("playa"):!0})}if(w||C){const ee=w?parseFloat(w):0,fe=C?parseFloat(C):1/0;O=O.filter(be=>{const Re=typeof be.price=="number"?be.price:parseFloat(be.price)||0,Ae=be.currency||"USD";let Fe;return Ae===p?Fe=Re:p==="USD"&&Ae==="PEN"?Fe=Re/u1:p==="PEN"&&Ae==="USD"?Fe=Re*u1:Fe=Re,Fe>=ee&&Fe<=fe})}if(j){const ee=parseInt(j);O=O.filter(fe=>(parseInt(fe.bedrooms)||0)>=ee)}if(k){const ee=parseInt(k);O=O.filter(fe=>(parseInt(fe.bathrooms)||0)>=ee)}ne&&(O=O.filter(ee=>ee.parking===!0)),_e&&(O=O.filter(ee=>ee.isDuplex===!0)),B&&(O=O.filter(ee=>ee.floor?.toString().toLowerCase()===B.toLowerCase())),O=O.filter(ee=>ee.status==="disponible"),W==="newest"?O.sort((ee,fe)=>(fe.createdAt?.seconds||0)-(ee.createdAt?.seconds||0)):W==="price_asc"?O.sort((ee,fe)=>(parseFloat(ee.price)||0)-(parseFloat(fe.price)||0)):W==="price_desc"&&O.sort((ee,fe)=>(parseFloat(fe.price)||0)-(parseFloat(ee.price)||0)),O.sort((ee,fe)=>ee.isPromoted&&!fe.isPromoted?-1:!ee.isPromoted&&fe.isPromoted?1:0),q(O)},[I,t,o,h,p,w,C,j,k,ne,_e,B,W]);const ae=()=>{const O={};t&&(O.operation=t),o&&(O.location=o),h&&(O.propertyType=h),p&&(O.currency=p),w&&(O.priceMin=w),C&&(O.priceMax=C),j&&(O.bedrooms=j),k&&(O.bathrooms=k),B&&(O.floor=B),ne&&(O.parking="true"),_e&&(O.isDuplex="true"),e(O)},Ne=()=>{s("venta"),c(""),_(""),v("USD"),E(""),R(""),z(""),V(""),G(""),te(!1),H(!1),e({})},me=[t,o,h,w,C,j,k,B,ne,_e].filter(Boolean).length;return f.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-[#262626]",children:[f.jsx("div",{className:"bg-white border-b border-gray-200 pt-24 pb-6 sticky top-0 z-30",children:f.jsxs("div",{className:"container mx-auto px-6",children:[f.jsxs(gt,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-[#fc7f51] transition mb-4",children:[f.jsx(jy,{className:"w-4 h-4"}),"Volver al inicio"]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[f.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl flex-shrink-0",children:["venta","alquiler","anticresis"].map(O=>f.jsx("button",{onClick:()=>s(O),className:`px-4 py-2 text-sm font-bold capitalize rounded-lg transition-all ${t===O?"bg-white text-[#fc7f51] shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:O},O))}),f.jsxs("div",{className:"relative flex-grow",children:[f.jsx(Gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",value:o,onChange:O=>c(O.target.value),onKeyDown:O=>O.key==="Enter"&&ae(),placeholder:"Buscar por ubicacin, zona o nombre...",className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"})]}),f.jsxs("button",{onClick:()=>ye(!Se),className:`flex items-center gap-2 px-4 py-3 rounded-xl border font-bold text-sm transition flex-shrink-0 ${Se?"bg-[#fc7f51] text-white border-[#fc7f51]":"bg-white text-gray-700 border-gray-200 hover:border-[#fc7f51]"}`,children:[f.jsx(gO,{className:"w-4 h-4"}),"Filtros",me>1&&f.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${Se?"bg-white/20 text-white":"bg-[#fc7f51] text-white"}`,children:me})]}),f.jsxs("button",{onClick:ae,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-8 py-3 rounded-xl font-bold text-sm shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2 flex-shrink-0",children:[f.jsx(Ql,{className:"w-4 h-4"}),"Buscar"]})]}),Se&&f.jsxs("div",{className:"mt-4 p-6 bg-gray-50 rounded-2xl border border-gray-200 animate-fadeIn",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo Inmueble"}),f.jsxs("select",{value:h,onChange:O=>_(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:"departamento",children:"Departamento"}),f.jsx("option",{value:"casa",children:"Casa"}),f.jsx("option",{value:"terreno",children:"Terreno"}),f.jsx("option",{value:"oficina",children:"Oficina"}),f.jsx("option",{value:"local",children:"Local Comercial"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),f.jsxs("div",{className:"flex bg-white rounded-lg border border-gray-200 p-0.5 h-[42px]",children:[f.jsx("button",{onClick:()=>v("USD"),className:`flex-1 rounded-md text-xs font-bold transition ${p==="USD"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"$ USD"}),f.jsx("button",{onClick:()=>v("PEN"),className:`flex-1 rounded-md text-xs font-bold transition ${p==="PEN"?"bg-[#fc7f51] text-white":"text-gray-500"}`,children:"S/ PEN"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mn."}),f.jsx("input",{type:"number",placeholder:"0",value:w,onChange:O=>E(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Precio Mx."}),f.jsx("input",{type:"number",placeholder:"Sin lmite",value:C,onChange:O=>R(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),f.jsxs("select",{value:j,onChange:O=>z(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"}),f.jsx("option",{value:"4",children:"4+"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),f.jsxs("select",{value:k,onChange:O=>V(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm font-medium",children:[f.jsx("option",{value:"",children:"Cualquiera"}),f.jsx("option",{value:"1",children:"1+"}),f.jsx("option",{value:"2",children:"2+"}),f.jsx("option",{value:"3",children:"3+"})]})]})]}),f.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 border-t border-gray-100 pt-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Piso"}),f.jsx("input",{type:"text",placeholder:"Ej. 1",value:B,onChange:O=>G(O.target.value),className:"w-full px-3 py-2.5 bg-white border border-gray-200 rounded-lg focus:border-[#fc7f51] outline-none text-sm"})]}),f.jsxs("div",{className:"flex flex-col gap-2 justify-center h-full pt-1",children:[f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:ne,onChange:O=>te(O.target.checked)}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Con Cochera"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:_e,onChange:O=>H(O.target.checked)}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Es Dplex"})]})]})]}),f.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[f.jsxs("button",{onClick:Ne,className:"text-sm text-gray-500 hover:text-red-500 font-medium flex items-center gap-1 transition",children:[f.jsx(Dr,{className:"w-4 h-4"}),"Limpiar filtros"]}),f.jsx("button",{onClick:()=>{ae(),ye(!1)},className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-lg font-bold text-sm transition",children:"Aplicar Filtros"})]})]})]})}),f.jsxs("div",{className:"container mx-auto px-6 py-8",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:K?"Buscando...":`${$.length} propiedad${$.length!==1?"es":""} encontrada${$.length!==1?"s":""}`}),(o||h)&&f.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[t&&f.jsx("span",{className:"capitalize",children:t}),h&&f.jsxs("span",{children:["  ",h]}),o&&f.jsxs("span",{children:[" en ",f.jsx("strong",{children:o})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-sm text-gray-500 font-medium",children:"Ordenar por:"}),f.jsxs("select",{value:W,onChange:O=>pe(O.target.value),className:"px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium focus:border-[#fc7f51] outline-none cursor-pointer",children:[f.jsx("option",{value:"newest",children:"Ms recientes"}),f.jsx("option",{value:"price_asc",children:"Precio: menor a mayor"}),f.jsx("option",{value:"price_desc",children:"Precio: mayor a menor"})]})]})]}),K?f.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[f.jsx(Bl,{className:"w-12 h-12 animate-spin text-[#fc7f51] mb-4"}),f.jsx("p",{className:"text-gray-500 font-medium",children:"Buscando propiedades..."})]}):$.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[f.jsx("div",{className:"w-24 h-24 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:f.jsx(Ql,{className:"w-12 h-12 text-[#fc7f51]/50"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No encontramos propiedades"}),f.jsx("p",{className:"text-gray-500 max-w-md mb-6",children:"No hay propiedades que coincidan con tus criterios de bsqueda. Intenta ajustar los filtros o buscar en otra ubicacin."}),f.jsx("button",{onClick:Ne,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold transition",children:"Limpiar Filtros"})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:$.map(O=>f.jsx(ky,{property:O},O.id))})]})]})},m6=()=>{const[n,e]=D.useState([]),[t,s]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const c=Vs(vn(Xe,"tips"),G_("createdAt","desc")),_=(await ar(c)).docs.map(p=>({id:p.id,...p.data()}));e(_)}catch(c){console.error("Error fetching tips:",c)}finally{s(!1)}})()},[]),f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[f.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20",alt:"Blog Hero"})}),f.jsxs("div",{className:"relative z-10 text-center px-6",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:"Blog Inmobiliario"}),f.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Consejos, tendencias y guas para comprar, vender o invertir en propiedades."})]})]}),f.jsx("div",{className:"container mx-auto px-6 py-20",children:t?f.jsx("div",{className:"flex justify-center py-20",children:f.jsx("div",{className:"inline-block w-12 h-12 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})}):n.length===0?f.jsxs("div",{className:"text-center py-20 bg-gray-50 rounded-3xl border border-dashed border-gray-200",children:[f.jsx(n1,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"An no hay publicaciones"}),f.jsx("p",{className:"text-gray-500",children:"Pronto nuestros agentes compartirn contenido valioso para ti."})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:n.map(o=>f.jsxs(gt,{to:`/tips/${o.id}`,className:"bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition duration-300 flex flex-col h-full border border-gray-100 group block focus:outline-none focus:ring-4 focus:ring-orange-200",children:[f.jsxs("div",{className:"h-64 overflow-hidden relative bg-gray-100",children:[o.imageUrl?f.jsx("img",{src:o.imageUrl,alt:o.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition duration-700"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-orange-50 text-[#fc7f51]",children:f.jsx(n1,{className:"w-16 h-16 opacity-50"})}),f.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-[#fc7f51] shadow-sm",children:"TIP"})]}),f.jsxs("div",{className:"p-8 flex flex-col flex-grow",children:[f.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-4 font-medium uppercase tracking-wide",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(iu,{className:"w-3 h-3"}),o.createdAt?.seconds?new Date(o.createdAt.seconds*1e3).toLocaleDateString("es-PE",{day:"numeric",month:"long",year:"numeric"}):"Reciente"]}),o.agentName&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Rd,{className:"w-3 h-3"}),o.agentName]})]}),f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 leading-tight group-hover:text-[#fc7f51] transition",children:o.title}),f.jsx("p",{className:"text-gray-600 leading-relaxed mb-6 line-clamp-4 flex-grow",children:o.content})]})]},o.id))})})]})},p6=()=>{const{id:n}=S1(),[e,t]=D.useState(null),[s,o]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const h=Ft(Xe,"tips",n),_=await Do(h);_.exists()?t({id:_.id,..._.data()}):console.log("No such document!")}catch(h){console.error("Error fetching tip:",h)}finally{o(!1)}})()},[n]),s?f.jsx("div",{className:"min-h-screen flex justify-center items-center bg-white",children:f.jsx("div",{className:"inline-block w-12 h-12 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"})}):e?f.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626] pb-20",children:[f.jsxs("div",{className:"relative h-[60vh] md:h-[500px] w-full bg-gray-900",children:[e.imageUrl?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover opacity-60"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"})]}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800 text-gray-600",children:f.jsx("span",{className:"text-xl",children:"Sin imagen de portada"})}),f.jsx("div",{className:"absolute top-6 left-6 z-20",children:f.jsxs(gt,{to:"/tips",className:"bg-white/20 backdrop-blur-md text-white px-4 py-2 rounded-full font-bold text-sm hover:bg-white/30 transition flex items-center gap-2",children:[f.jsx(jy,{className:"w-4 h-4"})," Volver"]})}),f.jsx("div",{className:"absolute bottom-0 left-0 w-full p-6 md:p-12 z-20 text-white",children:f.jsx("div",{className:"container mx-auto",children:f.jsxs("div",{className:"max-w-4xl",children:[f.jsx("span",{className:"inline-block bg-[#fc7f51] text-white text-xs font-bold px-3 py-1 rounded-full mb-4 uppercase tracking-wider",children:"Blog Inmobiliario"}),f.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-6 leading-tight",children:e.title}),f.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm md:text-base font-medium text-gray-200",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Rd,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:["Por ",e.agentName||"Equipo Inmuvete"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(iu,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsx("span",{children:e.createdAt?.seconds?new Date(e.createdAt.seconds*1e3).toLocaleDateString("es-PE",{day:"numeric",month:"long",year:"numeric"}):"Reciente"})]}),e.readTime&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Kf,{className:"w-5 h-5 text-[#fc7f51]"}),f.jsxs("span",{children:[e.readTime," min de lectura"]})]})]})]})})})]}),f.jsxs("article",{className:"container mx-auto px-6 -mt-10 relative z-30",children:[f.jsx("div",{className:"bg-white rounded-3xl p-8 md:p-12 shadow-xl max-w-4xl border border-gray-100 mb-12",children:f.jsx("div",{className:"prose prose-lg prose-orange max-w-none text-gray-600 leading-relaxed whitespace-pre-wrap",children:e.content})}),f.jsxs("div",{className:"max-w-4xl border-t border-gray-200 pt-10 mt-10",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Te fue til este artculo?"}),f.jsx("p",{className:"text-gray-500 mb-6",children:"Comparte este contenido o contctanos si necesitas asesora personalizada."}),f.jsx("div",{className:"flex gap-4",children:f.jsx(gt,{to:"/contact",className:"bg-[#fc7f51] text-white px-6 py-3 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/20",children:"Contactar Agente"})})]})]})]}):f.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center bg-white text-center px-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Tip no encontrado"}),f.jsxs(gt,{to:"/tips",className:"text-[#fc7f51] font-bold hover:underline flex items-center gap-2",children:[f.jsx(jy,{className:"w-4 h-4"})," Volver al Blog"]})]})},g6=()=>{const[n,e]=D.useState(""),[t,s]=D.useState(""),{login:o,loginWithGoogle:c,loginWithApple:h}=Da(),_=Fo(),p=async C=>{try{const R=await Do(Ft(Xe,"users",C));if(R.exists()){const j=R.data();j.role==="agente"?_("/agent-dashboard"):j.role==="superadmin"?_("/superadmin"):_("/client-dashboard")}else _("/")}catch(R){console.error("Error redirecting:",R)}},v=async C=>{C.preventDefault();try{const R=await o(n,t);De.success("Bienvenido de nuevo!"),p(R.user.uid)}catch(R){De.error(R.message)}},w=async()=>{try{const C=await c();De.success("Bienvenido!"),p(C.user.uid)}catch(C){De.error(C.message)}},E=async()=>{try{const C=await h();De.success("Bienvenido!"),p(C.user.uid)}catch(C){De.error(C.message)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Iniciar Sesin"}),f.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Accede a tu cuenta de Inmuvete"}),f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",value:n,onChange:C=>e(C.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),f.jsx("input",{type:"password",value:t,onChange:C=>s(C.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"",required:!0})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsxs("label",{className:"flex items-center text-gray-600",children:[f.jsx("input",{type:"checkbox",className:"mr-2 text-[#fc7f51] focus:ring-[#fc7f51] rounded border-gray-300"}),"Recordarme"]}),f.jsx(gt,{to:"/forgot-password",className:"text-[#fc7f51] hover:underline font-medium",children:"Olvidaste tu contrasea?"})]}),f.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Ingresar"})]}),f.jsxs("div",{className:"my-6 flex items-center",children:[f.jsx("div",{className:"flex-grow border-t border-gray-200"}),f.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O contina con"}),f.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[f.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),f.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["No tienes una cuenta?"," ",f.jsx(gt,{to:"/register",className:"text-[#fc7f51] font-bold hover:underline",children:"Regstrate aqu"})]})]})})},y6=()=>{const[n,e]=D.useState(""),[t,s]=D.useState(""),[o,c]=D.useState(""),[h,_]=D.useState(""),[p,v]=D.useState(""),[w,E]=D.useState("cliente"),{signup:C,loginWithGoogle:R,loginWithApple:j}=Da(),z=Fo(),k=async G=>{G.preventDefault();try{await C(n,t,w,o,h,p),De.success("Cuenta creada exitosamente!"),z(w==="agente"?"/agent-dashboard":"/client-dashboard")}catch(ne){De.error(ne.message)}},V=async()=>{try{await R(w),De.success("Cuenta creada exitosamente!"),z(w==="agente"?"/agent-dashboard":"/client-dashboard")}catch(G){De.error(G.message)}},B=async()=>{try{await j(w),De.success("Cuenta creada exitosamente!"),z(w==="agente"?"/agent-dashboard":"/client-dashboard")}catch(G){De.error(G.message)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Crear una Cuenta"}),f.jsx("p",{className:"text-center text-gray-500 mb-8",children:"nete y encuentra tu prximo hogar"}),f.jsxs("form",{onSubmit:k,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),f.jsx("input",{type:"text",value:o,onChange:G=>c(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),f.jsx("input",{type:"tel",value:h,onChange:G=>_(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"+51 999 999 999",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"DNI"}),f.jsx("input",{type:"text",value:p,onChange:G=>v(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu DNI",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",value:n,onChange:G=>e(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),f.jsx("input",{type:"password",value:t,onChange:G=>s(G.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Crea una contrasea segura",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Qu buscas hacer?"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("button",{type:"button",onClick:()=>E("cliente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${w==="cliente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[f.jsx("span",{className:"font-bold",children:"Buscar Propiedades"}),f.jsx("span",{className:"text-xs mt-1",children:"Soy Cliente"})]}),f.jsxs("button",{type:"button",onClick:()=>E("agente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${w==="agente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[f.jsx("span",{className:"font-bold",children:"Publicar Inmuebles"}),f.jsx("span",{className:"text-xs mt-1",children:"Soy Agente"})]})]})]}),f.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Registrarme"})]}),f.jsxs("div",{className:"my-6 flex items-center",children:[f.jsx("div",{className:"flex-grow border-t border-gray-200"}),f.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O regstrate con"}),f.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:V,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[f.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),f.jsxs("button",{onClick:B,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Ya tienes cuenta?"," ",f.jsx(gt,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Inicia Sesin"})]})]})})},_6=()=>{const[n,e]=D.useState(""),{resetPassword:t}=Da(),[s,o]=D.useState(!1),c=async h=>{h.preventDefault(),o(!0);try{await t(n),De.success("Te hemos enviado un correo para restablecer tu contrasea.")}catch(_){De.error(_.message)}finally{o(!1)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Recuperar Contrasea"}),f.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Ingresa tu correo y te enviaremos las instrucciones"}),f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",value:n,onChange:h=>e(h.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),f.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:s?"Enviando...":"Enviar Instrucciones"})]}),f.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Te acordaste?"," ",f.jsx(gt,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Volver a Iniciar Sesin"})]})]})})};function v6(n,e){const t=D.useRef(e);D.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const x6=1;function b6(n){return Object.freeze({__version:x6,map:n})}function w6(n,e){return Object.freeze({...n,...e})}const iv=D.createContext(null);function i2(){const n=D.use(iv);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function E6(n){function e(t,s){const{instance:o,context:c}=n(t).current;D.useImperativeHandle(s,()=>o);const{children:h}=t;return h==null?null:hn.createElement(iv,{value:c},h)}return D.forwardRef(e)}function T6(n){function e(t,s){const{instance:o}=n(t).current;return D.useImperativeHandle(s,()=>o),null}return D.forwardRef(e)}function S6(n,e){const t=D.useRef(void 0);D.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function s2(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}var od={exports:{}};var N6=od.exports,h1;function A6(){return h1||(h1=1,(function(n,e){(function(t,s){s(e)})(N6,(function(t){var s="1.9.4";function o(a){var u,g,b,S;for(g=1,b=arguments.length;g<b;g++){S=arguments[g];for(u in S)a[u]=S[u]}return a}var c=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function h(a,u){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var b=g.call(arguments,2);return function(){return a.apply(u,b.length?b.concat(g.call(arguments)):arguments)}}var _=0;function p(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function v(a,u,g){var b,S,P,Y;return Y=function(){b=!1,S&&(P.apply(g,S),S=!1)},P=function(){b?S=arguments:(a.apply(g,arguments),setTimeout(Y,u),b=!0)},P}function w(a,u,g){var b=u[1],S=u[0],P=b-S;return a===b&&g?a:((a-S)%P+P)%P+S}function E(){return!1}function C(a,u){if(u===!1)return a;var g=Math.pow(10,u===void 0?6:u);return Math.round(a*g)/g}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function j(a){return R(a).split(/\s+/)}function z(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var g in u)a.options[g]=u[g];return a.options}function k(a,u,g){var b=[];for(var S in a)b.push(encodeURIComponent(g?S.toUpperCase():S)+"="+encodeURIComponent(a[S]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function B(a,u){return a.replace(V,function(g,b){var S=u[b];if(S===void 0)throw new Error("No value provided for variable "+g);return typeof S=="function"&&(S=S(u)),S})}var G=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function ne(a,u){for(var g=0;g<a.length;g++)if(a[g]===u)return g;return-1}var te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _e(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var H=0;function I(a){var u=+new Date,g=Math.max(0,16-(u-H));return H=u+g,window.setTimeout(a,g)}var Z=window.requestAnimationFrame||_e("RequestAnimationFrame")||I,$=window.cancelAnimationFrame||_e("CancelAnimationFrame")||_e("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function q(a,u,g){if(g&&Z===I)a.call(u);else return Z.call(window,h(a,u))}function K(a){a&&$.call(window,a)}var F={__proto__:null,extend:o,create:c,bind:h,get lastId(){return _},stamp:p,throttle:v,wrapNum:w,falseFn:E,formatNum:C,trim:R,splitWords:j,setOptions:z,getParamString:k,template:B,isArray:G,indexOf:ne,emptyImageUrl:te,requestFn:Z,cancelFn:$,requestAnimFrame:q,cancelAnimFrame:K};function Se(){}Se.extend=function(a){var u=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=u.__super__=this.prototype,b=c(g);b.constructor=u,u.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(u[S]=this[S]);return a.statics&&o(u,a.statics),a.includes&&(ye(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=g.options?c(g.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,Y=b._initHooks.length;P<Y;P++)b._initHooks[P].call(this)}},u},Se.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},Se.mergeOptions=function(a){return o(this.prototype.options,a),this},Se.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function ye(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=G(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(a,u,g){if(typeof a=="object")for(var b in a)this._on(b,a[b],u);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g)}return this},off:function(a,u,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],u);else{a=j(a);for(var S=arguments.length===1,P=0,Y=a.length;P<Y;P++)S?this._off(a[P]):this._off(a[P],u,g)}return this},_on:function(a,u,g,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,g)===!1){g===this&&(g=void 0);var S={fn:u,ctx:g};b&&(S.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(S)}},_off:function(a,u,g){var b,S,P;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,P=b.length;S<P;S++)b[S].fn=E;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var Y=this._listens(a,u,g);if(Y!==!1){var se=b[Y];this._firingCount&&(se.fn=E,this._events[a]=b=b.slice()),b.splice(Y,1)}}},fire:function(a,u,g){if(!this.listens(a,g))return this;var b=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var S=this._events[a];if(S){this._firingCount=this._firingCount+1||1;for(var P=0,Y=S.length;P<Y;P++){var se=S[P],ce=se.fn;se.once&&this.off(a,ce,se.ctx),ce.call(se.ctx||this,b)}this._firingCount--}}return g&&this._propagateEvent(b),this},listens:function(a,u,g,b){typeof a!="string"&&console.warn('"string" type argument expected');var S=u;typeof u!="function"&&(b=!!u,S=void 0,g=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,S,g)!==!1)return!0;if(b){for(var Y in this._eventParents)if(this._eventParents[Y].listens(a,u,g,b))return!0}return!1},_listens:function(a,u,g){if(!this._events)return!1;var b=this._events[a]||[];if(!u)return!!b.length;g===this&&(g=void 0);for(var S=0,P=b.length;S<P;S++)if(b[S].fn===u&&b[S].ctx===g)return S;return!1},once:function(a,u,g){if(typeof a=="object")for(var b in a)this._on(b,a[b],u,!0);else{a=j(a);for(var S=0,P=a.length;S<P;S++)this._on(a[S],u,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[p(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[p(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var pe=Se.extend(W);function ae(a,u,g){this.x=g?Math.round(a):a,this.y=g?Math.round(u):u}var Ne=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(a){return this.clone()._add(me(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(me(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ae(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ae(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ne(this.x),this.y=Ne(this.y),this},distanceTo:function(a){a=me(a);var u=a.x-this.x,g=a.y-this.y;return Math.sqrt(u*u+g*g)},equals:function(a){return a=me(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=me(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function me(a,u,g){return a instanceof ae?a:G(a)?new ae(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ae(a.x,a.y):new ae(a,u,g)}function O(a,u){if(a)for(var g=u?[a,u]:a,b=0,S=g.length;b<S;b++)this.extend(g[b])}O.prototype={extend:function(a){var u,g;if(!a)return this;if(a instanceof ae||typeof a[0]=="number"||"x"in a)u=g=me(a);else if(a=ee(a),u=a.min,g=a.max,!u||!g)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=g.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return me((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return me(this.min.x,this.max.y)},getTopRight:function(){return me(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,g;return typeof a[0]=="number"||a instanceof ae?a=me(a):a=ee(a),a instanceof O?(u=a.min,g=a.max):u=g=a,u.x>=this.min.x&&g.x<=this.max.x&&u.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=ee(a);var u=this.min,g=this.max,b=a.min,S=a.max,P=S.x>=u.x&&b.x<=g.x,Y=S.y>=u.y&&b.y<=g.y;return P&&Y},overlaps:function(a){a=ee(a);var u=this.min,g=this.max,b=a.min,S=a.max,P=S.x>u.x&&b.x<g.x,Y=S.y>u.y&&b.y<g.y;return P&&Y},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,g=this.max,b=Math.abs(u.x-g.x)*a,S=Math.abs(u.y-g.y)*a;return ee(me(u.x-b,u.y-S),me(g.x+b,g.y+S))},equals:function(a){return a?(a=ee(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ee(a,u){return!a||a instanceof O?a:new O(a,u)}function fe(a,u){if(a)for(var g=u?[a,u]:a,b=0,S=g.length;b<S;b++)this.extend(g[b])}fe.prototype={extend:function(a){var u=this._southWest,g=this._northEast,b,S;if(a instanceof Re)b=a,S=a;else if(a instanceof fe){if(b=a._southWest,S=a._northEast,!b||!S)return this}else return a?this.extend(Ae(a)||be(a)):this;return!u&&!g?(this._southWest=new Re(b.lat,b.lng),this._northEast=new Re(S.lat,S.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),g.lat=Math.max(S.lat,g.lat),g.lng=Math.max(S.lng,g.lng)),this},pad:function(a){var u=this._southWest,g=this._northEast,b=Math.abs(u.lat-g.lat)*a,S=Math.abs(u.lng-g.lng)*a;return new fe(new Re(u.lat-b,u.lng-S),new Re(g.lat+b,g.lng+S))},getCenter:function(){return new Re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Re(this.getNorth(),this.getWest())},getSouthEast:function(){return new Re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Re||"lat"in a?a=Ae(a):a=be(a);var u=this._southWest,g=this._northEast,b,S;return a instanceof fe?(b=a.getSouthWest(),S=a.getNorthEast()):b=S=a,b.lat>=u.lat&&S.lat<=g.lat&&b.lng>=u.lng&&S.lng<=g.lng},intersects:function(a){a=be(a);var u=this._southWest,g=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>=u.lat&&b.lat<=g.lat,Y=S.lng>=u.lng&&b.lng<=g.lng;return P&&Y},overlaps:function(a){a=be(a);var u=this._southWest,g=this._northEast,b=a.getSouthWest(),S=a.getNorthEast(),P=S.lat>u.lat&&b.lat<g.lat,Y=S.lng>u.lng&&b.lng<g.lng;return P&&Y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=be(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(a,u){return a instanceof fe?a:new fe(a,u)}function Re(a,u,g){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,g!==void 0&&(this.alt=+g)}Re.prototype={equals:function(a,u){if(!a)return!1;a=Ae(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+C(this.lat,a)+", "+C(this.lng,a)+")"},distanceTo:function(a){return Ct.distance(this,Ae(a))},wrap:function(){return Ct.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,g=u/Math.cos(Math.PI/180*this.lat);return be([this.lat-u,this.lng-g],[this.lat+u,this.lng+g])},clone:function(){return new Re(this.lat,this.lng,this.alt)}};function Ae(a,u,g){return a instanceof Re?a:G(a)&&typeof a[0]!="object"?a.length===3?new Re(a[0],a[1],a[2]):a.length===2?new Re(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Re(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Re(a,u,g)}var Fe={latLngToPoint:function(a,u){var g=this.projection.project(a),b=this.scale(u);return this.transformation._transform(g,b)},pointToLatLng:function(a,u){var g=this.scale(u),b=this.transformation.untransform(a,g);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,g=this.scale(a),b=this.transformation.transform(u.min,g),S=this.transformation.transform(u.max,g);return new O(b,S)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Re(g,u,b)},wrapLatLngBounds:function(a){var u=a.getCenter(),g=this.wrapLatLng(u),b=u.lat-g.lat,S=u.lng-g.lng;if(b===0&&S===0)return a;var P=a.getSouthWest(),Y=a.getNorthEast(),se=new Re(P.lat-b,P.lng-S),ce=new Re(Y.lat-b,Y.lng-S);return new fe(se,ce)}},Ct=o({},Fe,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var g=Math.PI/180,b=a.lat*g,S=u.lat*g,P=Math.sin((u.lat-a.lat)*g/2),Y=Math.sin((u.lng-a.lng)*g/2),se=P*P+Math.cos(b)*Math.cos(S)*Y*Y,ce=2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se));return this.R*ce}}),Pt=6378137,Yi={R:Pt,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,g=this.MAX_LATITUDE,b=Math.max(Math.min(g,a.lat),-g),S=Math.sin(b*u);return new ae(this.R*a.lng*u,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(a){var u=180/Math.PI;return new Re((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Pt*Math.PI;return new O([-a,-a],[a,a])})()};function xs(a,u,g,b){if(G(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=g,this._d=b}xs.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new ae((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Dn(a,u,g,b){return new xs(a,u,g,b)}var Ai=o({},Ct,{code:"EPSG:3857",projection:Yi,transformation:(function(){var a=.5/(Math.PI*Yi.R);return Dn(a,.5,-a,.5)})()}),ti=o({},Ai,{code:"EPSG:900913"});function bs(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ci(a,u){var g="",b,S,P,Y,se,ce;for(b=0,P=a.length;b<P;b++){for(se=a[b],S=0,Y=se.length;S<Y;S++)ce=se[S],g+=(S?"L":"M")+ce.x+" "+ce.y;g+=u?Ve.svg?"z":"x":""}return g||"M0 0"}var Wi=document.documentElement.style,Ri="ActiveXObject"in window,Ht=Ri&&!document.addEventListener,Xt="msLaunchUri"in navigator&&!("documentMode"in document),Ii=Vn("webkit"),Oa=Vn("android"),Kr=Vn("android 2")||Vn("android 3"),Pn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qs=Oa&&Vn("Google")&&Pn<537&&!("AudioNode"in window),Hs=!!window.opera,mr=!Xt&&Vn("chrome"),Qi=Vn("gecko")&&!Ii&&!Hs&&!Ri,Wo=!mr&&Vn("safari"),Yr=Vn("phantom"),Wr="OTransition"in Wi,Va=navigator.platform.indexOf("Win")===0,ni=Ri&&"transition"in Wi,nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Kr,Kn="MozPerspective"in Wi,$t=!window.L_DISABLE_3D&&(ni||nn||Kn)&&!Wr&&!Yr,Xi=typeof orientation<"u"||Vn("mobile"),pr=Xi&&Ii,X=Xi&&nn,Ie=!window.PointerEvent&&window.MSPointerEvent,Me=!!(window.PointerEvent||Ie),je="ontouchstart"in window||!!window.TouchEvent,qe=!window.L_NO_TOUCH&&(je||Me),tt=Xi&&Hs,lt=Xi&&Qi,Jt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,bn=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",E,u),window.removeEventListener("testPassiveEventSupport",E,u)}catch{}return a})(),gn=(function(){return!!document.createElement("canvas").getContext})(),On=!!(document.createElementNS&&bs("svg").createSVGRect),Qo=!!On&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Fs=!On&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Xo=navigator.platform.indexOf("Mac")===0,Jo=navigator.platform.indexOf("Linux")===0;function Vn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ve={ie:Ri,ielt9:Ht,edge:Xt,webkit:Ii,android:Oa,android23:Kr,androidStock:qs,opera:Hs,chrome:mr,gecko:Qi,safari:Wo,phantom:Yr,opera12:Wr,win:Va,ie3d:ni,webkit3d:nn,gecko3d:Kn,any3d:$t,mobile:Xi,mobileWebkit:pr,mobileWebkit3d:X,msPointer:Ie,pointer:Me,touch:qe,touchNative:je,mobileOpera:tt,mobileGecko:lt,retina:Jt,passiveEvents:bn,canvas:gn,svg:On,vml:Fs,inlineSvg:Qo,mac:Xo,linux:Jo},el=Ve.msPointer?"MSPointerDown":"pointerdown",Pi=Ve.msPointer?"MSPointerMove":"pointermove",Mi=Ve.msPointer?"MSPointerUp":"pointerup",sn=Ve.msPointer?"MSPointerCancel":"pointercancel",on={touchstart:el,touchmove:Pi,touchend:Mi,touchcancel:sn},Ji={touchstart:Es,touchmove:zn,touchend:zn,touchcancel:zn},es={},rc=!1;function ac(a,u,g){return u==="touchstart"&&ji(),Ji[u]?(g=Ji[u].bind(this,g),a.addEventListener(on[u],g,!1),g):(console.warn("wrong event specified:",u),E)}function oc(a,u,g){if(!on[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(on[u],g,!1)}function ws(a){es[a.pointerId]=a}function za(a){es[a.pointerId]&&(es[a.pointerId]=a)}function ts(a){delete es[a.pointerId]}function ji(){rc||(document.addEventListener(el,ws,!0),document.addEventListener(Pi,za,!0),document.addEventListener(Mi,ts,!0),document.addEventListener(sn,ts,!0),rc=!0)}function zn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var g in es)u.touches.push(es[g]);u.changedTouches=[u],a(u)}}function Es(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Yt(u),zn(a,u)}function ln(a){var u={},g,b;for(b in a)g=a[b],u[b]=g&&g.bind?g.bind(a):g;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var tl=200;function nl(a,u){a.addEventListener("dblclick",u);var g=0,b;function S(P){if(P.detail!==1){b=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var Y=xr(P);if(!(Y.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!Y.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var se=Date.now();se-g<=tl?(b++,b===2&&u(ln(P))):b=1,g=se}}}return a.addEventListener("click",S),{dblclick:u,simDblclick:S}}function Ts(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var Li=Xr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gs=Xr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ua=Gs==="webkitTransition"||Gs==="OTransition"?Gs+"End":"transitionend";function Ba(a){return typeof a=="string"?document.getElementById(a):a}function gr(a,u){var g=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!g||g==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);g=b?b[u]:null}return g==="auto"?null:g}function ot(a,u,g){var b=document.createElement(a);return b.className=u||"",g&&g.appendChild(b),b}function ct(a){var u=a.parentNode;u&&u.removeChild(a)}function Zt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Kt(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function gi(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Qr(a,u){if(a.classList!==void 0)return a.classList.contains(u);var g=Ss(a);return g.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(g)}function ke(a,u){if(a.classList!==void 0)for(var g=j(u),b=0,S=g.length;b<S;b++)a.classList.add(g[b]);else if(!Qr(a,u)){var P=Ss(a);ki(a,(P?P+" ":"")+u)}}function Mt(a,u){a.classList!==void 0?a.classList.remove(u):ki(a,R((" "+Ss(a)+" ").replace(" "+u+" "," ")))}function ki(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Ss(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ut(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&qa(a,u)}function qa(a,u){var g=!1,b="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),g?(g.Enabled=u!==100,g.Opacity=u):a.style.filter+=" progid:"+b+"(opacity="+u+")"}function Xr(a){for(var u=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in u)return a[g];return!1}function ns(a,u,g){var b=u||new ae(0,0);a.style[Li]=(Ve.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(g?" scale("+g+")":"")}function jt(a,u){a._leaflet_pos=u,Ve.any3d?ns(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Ns(a){return a._leaflet_pos||new ae(0,0)}var Di,wn,Ha;if("onselectstart"in document)Di=function(){Ze(window,"selectstart",Yt)},wn=function(){Et(window,"selectstart",Yt)};else{var $s=Xr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Di=function(){if($s){var a=document.documentElement.style;Ha=a[$s],a[$s]="none"}},wn=function(){$s&&(document.documentElement.style[$s]=Ha,Ha=void 0)}}function Jr(){Ze(window,"dragstart",Yt)}function yr(){Et(window,"dragstart",Yt)}var ea,As;function _r(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(ii(),ea=a,As=a.style.outlineStyle,a.style.outlineStyle="none",Ze(window,"keydown",ii))}function ii(){ea&&(ea.style.outlineStyle=As,ea=void 0,As=void 0,Et(window,"keydown",ii))}function Fa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function si(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var vr={__proto__:null,TRANSFORM:Li,TRANSITION:Gs,TRANSITION_END:Ua,get:Ba,getStyle:gr,create:ot,remove:ct,empty:Zt,toFront:Kt,toBack:gi,hasClass:Qr,addClass:ke,removeClass:Mt,setClass:ki,getClass:Ss,setOpacity:Ut,testProp:Xr,setTransform:ns,setPosition:jt,getPosition:Ns,get disableTextSelection(){return Di},get enableTextSelection(){return wn},disableImageDrag:Jr,enableImageDrag:yr,preventOutline:_r,restoreOutline:ii,getSizedParentNode:Fa,getScale:si};function Ze(a,u,g,b){if(u&&typeof u=="object")for(var S in u)ri(a,S,u[S],g);else{u=j(u);for(var P=0,Y=u.length;P<Y;P++)ri(a,u[P],g,b)}return this}var Un="_leaflet_events";function Et(a,u,g,b){if(arguments.length===1)Zs(a),delete a[Un];else if(u&&typeof u=="object")for(var S in u)Ks(a,S,u[S],g);else if(u=j(u),arguments.length===2)Zs(a,function(se){return ne(u,se)!==-1});else for(var P=0,Y=u.length;P<Y;P++)Ks(a,u[P],g,b);return this}function Zs(a,u){for(var g in a[Un]){var b=g.split(/\d/)[0];(!u||u(b))&&Ks(a,b,null,null,g)}}var yi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ri(a,u,g,b){var S=u+p(g)+(b?"_"+p(b):"");if(a[Un]&&a[Un][S])return this;var P=function(se){return g.call(b||a,se||window.event)},Y=P;!Ve.touchNative&&Ve.pointer&&u.indexOf("touch")===0?P=ac(a,u,P):Ve.touch&&u==="dblclick"?P=nl(a,P):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(yi[u]||u,P,Ve.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(P=function(se){se=se||window.event,rs(a,se)&&Y(se)},a.addEventListener(yi[u],P,!1)):a.addEventListener(u,Y,!1):a.attachEvent("on"+u,P),a[Un]=a[Un]||{},a[Un][S]=P}function Ks(a,u,g,b,S){S=S||u+p(g)+(b?"_"+p(b):"");var P=a[Un]&&a[Un][S];if(!P)return this;!Ve.touchNative&&Ve.pointer&&u.indexOf("touch")===0?oc(a,u,P):Ve.touch&&u==="dblclick"?Ts(a,P):"removeEventListener"in a?a.removeEventListener(yi[u]||u,P,!1):a.detachEvent("on"+u,P),a[Un][S]=null}function ft(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Oi(a){return ri(a,"wheel",ft),this}function Ys(a){return Ze(a,"mousedown touchstart dblclick contextmenu",ft),a._leaflet_disable_click=!0,this}function Yt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function is(a){return Yt(a),ft(a),this}function xr(a){if(a.composedPath)return a.composedPath();for(var u=[],g=a.target;g;)u.push(g),g=g.parentNode;return u}function Cs(a,u){if(!u)return new ae(a.clientX,a.clientY);var g=si(u),b=g.boundingClientRect;return new ae((a.clientX-b.left)/g.x-u.clientLeft,(a.clientY-b.top)/g.y-u.clientTop)}var ss=Ve.linux&&Ve.chrome?window.devicePixelRatio:Ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function En(a){return Ve.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ss:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function rs(a,u){var g=u.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var Rs={__proto__:null,on:Ze,off:Et,stopPropagation:ft,disableScrollPropagation:Oi,disableClickPropagation:Ys,preventDefault:Yt,stop:is,getPropagationPath:xr,getMousePosition:Cs,getWheelDelta:En,isExternalTarget:rs,addListener:Ze,removeListener:Et},Ws=pe.extend({run:function(a,u,g,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Ns(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,g=this._duration*1e3;u<g?this._runFrame(this._easeOut(u/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var g=this._startPos.add(this._offset.multiplyBy(a));u&&g._round(),jt(this._el,g),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),at=pe.extend({options:{crs:Ai,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=z(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ae(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gs&&Ve.any3d&&!Ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ze(this._proxy,Ua,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,g){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Ae(a),u,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=o({animate:g.animate},g.zoom),g.pan=o({animate:g.animate,duration:g.duration},g.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,g.zoom):this._tryAnimatedPan(a,g.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,g){var b=this.getZoomScale(u),S=this.getSize().divideBy(2),P=a instanceof ae?a:this.latLngToContainerPoint(a),Y=P.subtract(S).multiplyBy(1-1/b),se=this.containerPointToLatLng(S.add(Y));return this.setView(se,u,{zoom:g})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():be(a);var g=me(u.paddingTopLeft||u.padding||[0,0]),b=me(u.paddingBottomRight||u.padding||[0,0]),S=this.getBoundsZoom(a,!1,g.add(b));if(S=typeof u.maxZoom=="number"?Math.min(u.maxZoom,S):S,S===1/0)return{center:a.getCenter(),zoom:S};var P=b.subtract(g).divideBy(2),Y=this.project(a.getSouthWest(),S),se=this.project(a.getNorthEast(),S),ce=this.unproject(Y.add(se).divideBy(2).add(P),S);return{center:ce,zoom:S}},fitBounds:function(a,u){if(a=be(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,u);return this.setView(g.center,g.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=me(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ws,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){ke(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,g){if(g=g||{},g.animate===!1||!Ve.any3d)return this.setView(a,u,g);this._stop();var b=this.project(this.getCenter()),S=this.project(a),P=this.getSize(),Y=this._zoom;a=Ae(a),u=u===void 0?Y:u;var se=Math.max(P.x,P.y),ce=se*this.getZoomScale(Y,u),we=S.distanceTo(b)||1,Pe=1.42,Be=Pe*Pe;function st(rn){var tr=rn?-1:1,oa=rn?ce:se,_u=ce*ce-se*se+tr*Be*Be*we*we,wl=2*oa*Be*we,El=_u/wl,Ir=Math.sqrt(El*El+1)-El,nr=Ir<1e-9?-18:Math.log(Ir);return nr}function Mn(rn){return(Math.exp(rn)-Math.exp(-rn))/2}function cn(rn){return(Math.exp(rn)+Math.exp(-rn))/2}function xi(rn){return Mn(rn)/cn(rn)}var Tt=st(0);function St(rn){return se*(cn(Tt)/cn(Tt+Pe*rn))}function ut(rn){return se*(cn(Tt)*xi(Tt+Pe*rn)-Mn(Tt))/Be}function Cr(rn){return 1-Math.pow(1-rn,1.5)}var qi=Date.now(),xc=(st(1)-Tt)/Pe,Rr=g.duration?1e3*g.duration:1e3*xc*.8;function yu(){var rn=(Date.now()-qi)/Rr,tr=Cr(rn)*xc;rn<=1?(this._flyToFrame=q(yu,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(ut(tr)/we)),Y),this.getScaleZoom(se/St(tr),Y),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),yu.call(this),this},flyToBounds:function(a,u){var g=this._getBoundsCenterZoom(a,u);return this.flyTo(g.center,g.zoom,u)},setMaxBounds:function(a){return a=be(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var g=this.getCenter(),b=this._limitCenter(g,this._zoom,be(a));return g.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var g=me(u.paddingTopLeft||u.padding||[0,0]),b=me(u.paddingBottomRight||u.padding||[0,0]),S=this.project(this.getCenter()),P=this.project(a),Y=this.getPixelBounds(),se=ee([Y.min.add(g),Y.max.subtract(b)]),ce=se.getSize();if(!se.contains(P)){this._enforcingBounds=!0;var we=P.subtract(se.getCenter()),Pe=se.extend(P).getSize().subtract(ce);S.x+=we.x<0?-Pe.x:Pe.x,S.y+=we.y<0?-Pe.y:Pe.y,this.panTo(this.unproject(S),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),b=u.divideBy(2).round(),S=g.divideBy(2).round(),P=b.subtract(S);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=h(this._handleGeolocationResponse,this),g=h(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,g,a):navigator.geolocation.getCurrentPosition(u,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,g=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,g=a.coords.longitude,b=new Re(u,g),S=b.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var Y=this.getBoundsZoom(S);this.setView(b,P.maxZoom?Math.min(Y,P.maxZoom):Y)}var se={latlng:b,bounds:S,timestamp:a.timestamp};for(var ce in a.coords)typeof a.coords[ce]=="number"&&(se[ce]=a.coords[ce]);this.fire("locationfound",se)}},addHandler:function(a,u){if(!u)return this;var g=this[a]=new u(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ct(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=ot("div",g,u||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new fe(u,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,g){a=be(a),g=me(g||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),P=this.getMaxZoom(),Y=a.getNorthWest(),se=a.getSouthEast(),ce=this.getSize().subtract(g),we=ee(this.project(se,b),this.project(Y,b)).getSize(),Pe=Ve.any3d?this.options.zoomSnap:1,Be=ce.x/we.x,st=ce.y/we.y,Mn=u?Math.max(Be,st):Math.min(Be,st);return b=this.getScaleZoom(Mn,b),Pe&&(b=Math.round(b/(Pe/100))*(Pe/100),b=u?Math.ceil(b/Pe)*Pe:Math.floor(b/Pe)*Pe),Math.max(S,Math.min(P,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var g=this._getTopLeftPoint(a,u);return new O(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var g=this.options.crs;return u=u===void 0?this._zoom:u,g.scale(a)/g.scale(u)},getScaleZoom:function(a,u){var g=this.options.crs;u=u===void 0?this._zoom:u;var b=g.zoom(a*g.scale(u));return isNaN(b)?1/0:b},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ae(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(me(a),u)},layerPointToLatLng:function(a){var u=me(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Ae(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ae(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(be(a))},distance:function(a,u){return this.options.crs.distance(Ae(a),Ae(u))},containerPointToLayerPoint:function(a){return me(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return me(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(me(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(a)))},mouseEventToContainerPoint:function(a){return Cs(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Ba(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ze(u,"scroll",this._onScroll,this),this._containerId=p(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ve.any3d,ke(a,"leaflet-container"+(Ve.touch?" leaflet-touch":"")+(Ve.retina?" leaflet-retina":"")+(Ve.ielt9?" leaflet-oldie":"")+(Ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=gr(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ke(a.markerPane,"leaflet-zoom-hide"),ke(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,g){jt(this._mapPane,new ae(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var S=this._zoom!==u;this._moveStart(S,g)._move(a,u)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,g,b){u===void 0&&(u=this._zoom);var S=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?g&&g.pinch&&this.fire("zoom",g):((S||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){jt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[p(this._container)]=this;var u=a?Et:Ze;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ve.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var g=[],b,S=u==="mouseout"||u==="mouseover",P=a.target||a.srcElement,Y=!1;P;){if(b=this._targets[p(P)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){Y=!0;break}if(b&&b.listens(u,!0)&&(S&&!rs(P,a)||(g.push(b),S))||P===this._container)break;P=P.parentNode}return!g.length&&!Y&&!S&&this.listens(u,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var g=a.type;g==="mousedown"&&_r(u),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,g){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,g)}var S=this._findEventTargets(a,u);if(g){for(var P=[],Y=0;Y<g.length;Y++)g[Y].listens(u,!0)&&P.push(g[Y]);S=P.concat(S)}if(S.length){u==="contextmenu"&&Yt(a);var se=S[0],ce={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var we=se.getLatLng&&(!se._radius||se._radius<=10);ce.containerPoint=we?this.latLngToContainerPoint(se.getLatLng()):this.mouseEventToContainerPoint(a),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=we?se.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(Y=0;Y<S.length;Y++)if(S[Y].fire(u,ce,!0),ce.originalEvent._stopped||S[Y].options.bubblingMouseEvents===!1&&ne(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Ns(this._mapPane)||new ae(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var g=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var g=this.getSize()._divideBy(2);return this.project(a,u)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,g){var b=this._getNewPixelOrigin(g,u);return this.project(a,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,u,g){var b=this._getNewPixelOrigin(g,u);return ee([this.project(a.getSouthWest(),u)._subtract(b),this.project(a.getNorthWest(),u)._subtract(b),this.project(a.getSouthEast(),u)._subtract(b),this.project(a.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,g){if(!g)return a;var b=this.project(a,u),S=this.getSize().divideBy(2),P=new O(b.subtract(S),b.add(S)),Y=this._getBoundsOffset(P,g,u);return Math.abs(Y.x)<=1&&Math.abs(Y.y)<=1?a:this.unproject(b.add(Y),u)},_limitOffset:function(a,u){if(!u)return a;var g=this.getPixelBounds(),b=new O(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(a,u,g){var b=ee(this.project(u.getNorthEast(),g),this.project(u.getSouthWest(),g)),S=b.min.subtract(a.min),P=b.max.subtract(a.max),Y=this._rebound(S.x,-P.x),se=this._rebound(S.y,-P.y);return new ae(Y,se)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),g=this.getMaxZoom(),b=Ve.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(u,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var g=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,u),!0)},_createAnimProxy:function(){var a=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var g=Li,b=this._proxy.style[g];ns(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();ns(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),S=this._getCenterOffset(a)._divideBy(1-1/b);return g.animate!==!0&&!this.getSize().contains(S)?!1:(q(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,g,b){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function br(a,u){return new at(a,u)}var Bn=Se.extend({options:{position:"topright"},initialize:function(a){z(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),g=this.getPosition(),b=a._controlCorners[g];return ke(u,"leaflet-control"),g.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),ai=function(a){return new Bn(a)};at.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",g=this._controlContainer=ot("div",u+"control-container",this._container);function b(S,P){var Y=u+S+" "+u+P;a[S+P]=ot("div",Y,g)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ct(this._controlCorners[a]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ta=Bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,g,b){return g<b?-1:b<g?1:0}},initialize:function(a,u,g){z(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Bn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(p(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=ot("div",a),g=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ys(u),Oi(u);var b=this._section=ot("section",a+"-list");g&&(this._map.on("click",this.collapse,this),Ze(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ot("a",a+"-toggle",u);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ze(S,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Yt(P),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=ot("div",a+"-base",b),this._separator=ot("div",a+"-separator",b),this._overlaysList=ot("div",a+"-overlays",b),u.appendChild(b)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&p(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:g}),this.options.sortLayers&&this._layers.sort(h(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Zt(this._baseLayersList),Zt(this._overlaysList),this._layerControlInputs=[];var a,u,g,b,S=0;for(g=0;g<this._layers.length;g++)b=this._layers[g],this._addItem(b),u=u||b.overlay,a=a||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&S>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(p(a.target)),g=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,u)},_createRadioElement:function(a,u){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=g,b.firstChild},_addItem:function(a){var u=document.createElement("label"),g=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=g):b=this._createRadioElement("leaflet-base-layers_"+p(this),g),this._layerControlInputs.push(b),b.layerId=p(a.layer),Ze(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+a.name;var P=document.createElement("span");u.appendChild(P),P.appendChild(b),P.appendChild(S);var Y=a.overlay?this._overlaysList:this._baseLayersList;return Y.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,g,b=[],S=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)u=a[P],g=this._getLayer(u.layerId).layer,u.checked?b.push(g):u.checked||S.push(g);for(P=0;P<S.length;P++)this._map.hasLayer(S[P])&&this._map.removeLayer(S[P]);for(P=0;P<b.length;P++)this._map.hasLayer(b[P])||this._map.addLayer(b[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,g,b=this._map.getZoom(),S=a.length-1;S>=0;S--)u=a[S],g=this._getLayer(u.layerId).layer,u.disabled=g.options.minZoom!==void 0&&b<g.options.minZoom||g.options.maxZoom!==void 0&&b>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ze(a,"click",Yt),this.expand();var u=this;setTimeout(function(){Et(a,"click",Yt),u._preventClick=!1})}}),il=function(a,u,g){return new ta(a,u,g)},Qs=Bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",g=ot("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,g,b,S){var P=ot("a",g,b);return P.innerHTML=a,P.href="#",P.title=u,P.setAttribute("role","button"),P.setAttribute("aria-label",u),Ys(P),Ze(P,"click",is),Ze(P,"click",S,this),Ze(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";Mt(this._zoomInButton,u),Mt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(ke(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(ke(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});at.mergeOptions({zoomControl:!0}),at.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qs,this.addControl(this.zoomControl))});var lc=function(a){return new Qs(a)},sl=Bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",g=ot("div",u),b=this.options;return this._addScales(b,u+"-line",g),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,g){a.metric&&(this._mScale=ot("div",u,g)),a.imperial&&(this._iScale=ot("div",u,g))},_update:function(){var a=this._map,u=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),g=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,g,u/a)},_updateImperial:function(a){var u=a*3.2808399,g,b,S;u>5280?(g=u/5280,b=this._getRoundNum(g),this._updateScale(this._iScale,b+" mi",b/g)):(S=this._getRoundNum(u),this._updateScale(this._iScale,S+" ft",S/u))},_updateScale:function(a,u,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),g=a/u;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,u*g}}),na=function(a){return new sl(a)},rl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ga=Bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ve.inlineSvg?rl+" ":"")+"Leaflet</a>"},initialize:function(a){z(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),Ys(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});at.mergeOptions({attributionControl:!0}),at.addInitHook(function(){this.options.attributionControl&&new Ga().addTo(this)});var $a=function(a){return new Ga(a)};Bn.Layers=ta,Bn.Zoom=Qs,Bn.Scale=sl,Bn.Attribution=Ga,ai.layers=il,ai.zoom=lc,ai.scale=na,ai.attribution=$a;var _i=Se.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_i.addTo=function(a,u){return a.addHandler(u,this),this};var cc={Events:W},as=Ve.touch?"touchstart mousedown":"mousedown",os=pe.extend({options:{clickTolerance:3},initialize:function(a,u,g,b){z(this,b),this._element=a,this._dragStartTarget=u||a,this._preventOutline=g},enable:function(){this._enabled||(Ze(this._dragStartTarget,as,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(os._dragging===this&&this.finishDrag(!0),Et(this._dragStartTarget,as,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Qr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){os._dragging===this&&this.finishDrag();return}if(!(os._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(os._dragging=this,this._preventOutline&&_r(this._element),Jr(),Di(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,g=Fa(this._element);this._startPoint=new ae(u.clientX,u.clientY),this._startPos=Ns(this._element),this._parentScale=si(g);var b=a.type==="mousedown";Ze(document,b?"mousemove":"touchmove",this._onMove,this),Ze(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,g=new ae(u.clientX,u.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Yt(a),this._moved||(this.fire("dragstart"),this._moved=!0,ke(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),jt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Mt(document.body,"leaflet-dragging"),this._lastTarget&&(Mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Et(document,"mousemove touchmove",this._onMove,this),Et(document,"mouseup touchend touchcancel",this._onUp,this),yr(),wn();var u=this._moved&&this._moving;this._moving=!1,os._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function al(a,u,g){var b,S=[1,4,2,8],P,Y,se,ce,we,Pe,Be,st;for(P=0,Pe=a.length;P<Pe;P++)a[P]._code=de(a[P],u);for(se=0;se<4;se++){for(Be=S[se],b=[],P=0,Pe=a.length,Y=Pe-1;P<Pe;Y=P++)ce=a[P],we=a[Y],ce._code&Be?we._code&Be||(st=re(we,ce,Be,u,g),st._code=de(st,u),b.push(st)):(we._code&Be&&(st=re(we,ce,Be,u,g),st._code=de(st,u),b.push(st)),b.push(ce));a=b}return a}function ol(a,u){var g,b,S,P,Y,se,ce,we,Pe;if(!a||a.length===0)throw new Error("latlngs not passed");xt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Be=Ae([0,0]),st=be(a),Mn=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());Mn<1700&&(Be=Za(a));var cn=a.length,xi=[];for(g=0;g<cn;g++){var Tt=Ae(a[g]);xi.push(u.project(Ae([Tt.lat-Be.lat,Tt.lng-Be.lng])))}for(se=ce=we=0,g=0,b=cn-1;g<cn;b=g++)S=xi[g],P=xi[b],Y=S.y*P.x-P.y*S.x,ce+=(S.x+P.x)*Y,we+=(S.y+P.y)*Y,se+=Y*3;se===0?Pe=xi[0]:Pe=[ce/se,we/se];var St=u.unproject(me(Pe));return Ae([St.lat+Be.lat,St.lng+Be.lng])}function Za(a){for(var u=0,g=0,b=0,S=0;S<a.length;S++){var P=Ae(a[S]);u+=P.lat,g+=P.lng,b++}return Ae([u/b,g/b])}var wr={__proto__:null,clipPolygon:al,polygonCenter:ol,centroid:Za};function qn(a,u){if(!u||!a.length)return a.slice();var g=u*u;return a=T(a,g),a=Xs(a,g),a}function ll(a,u,g){return Math.sqrt(Qe(a,u,g,!0))}function uc(a,u,g){return Qe(a,u,g)}function Xs(a,u){var g=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(g);S[0]=S[g-1]=1,m(a,S,u,0,g-1);var P,Y=[];for(P=0;P<g;P++)S[P]&&Y.push(a[P]);return Y}function m(a,u,g,b,S){var P=0,Y,se,ce;for(se=b+1;se<=S-1;se++)ce=Qe(a[se],a[b],a[S],!0),ce>P&&(Y=se,P=ce);P>g&&(u[Y]=1,m(a,u,g,b,Y),m(a,u,g,Y,S))}function T(a,u){for(var g=[a[0]],b=1,S=0,P=a.length;b<P;b++)Ce(a[b],a[S])>u&&(g.push(a[b]),S=b);return S<P-1&&g.push(a[P-1]),g}var A;function U(a,u,g,b,S){var P=b?A:de(a,g),Y=de(u,g),se,ce,we;for(A=Y;;){if(!(P|Y))return[a,u];if(P&Y)return!1;se=P||Y,ce=re(a,u,se,g,S),we=de(ce,g),se===P?(a=ce,P=we):(u=ce,Y=we)}}function re(a,u,g,b,S){var P=u.x-a.x,Y=u.y-a.y,se=b.min,ce=b.max,we,Pe;return g&8?(we=a.x+P*(ce.y-a.y)/Y,Pe=ce.y):g&4?(we=a.x+P*(se.y-a.y)/Y,Pe=se.y):g&2?(we=ce.x,Pe=a.y+Y*(ce.x-a.x)/P):g&1&&(we=se.x,Pe=a.y+Y*(se.x-a.x)/P),new ae(we,Pe,S)}function de(a,u){var g=0;return a.x<u.min.x?g|=1:a.x>u.max.x&&(g|=2),a.y<u.min.y?g|=4:a.y>u.max.y&&(g|=8),g}function Ce(a,u){var g=u.x-a.x,b=u.y-a.y;return g*g+b*b}function Qe(a,u,g,b){var S=u.x,P=u.y,Y=g.x-S,se=g.y-P,ce=Y*Y+se*se,we;return ce>0&&(we=((a.x-S)*Y+(a.y-P)*se)/ce,we>1?(S=g.x,P=g.y):we>0&&(S+=Y*we,P+=se*we)),Y=a.x-S,se=a.y-P,b?Y*Y+se*se:new ae(S,P)}function xt(a){return!G(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function bt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),xt(a)}function Bt(a,u){var g,b,S,P,Y,se,ce,we;if(!a||a.length===0)throw new Error("latlngs not passed");xt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Pe=Ae([0,0]),Be=be(a),st=Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest());st<1700&&(Pe=Za(a));var Mn=a.length,cn=[];for(g=0;g<Mn;g++){var xi=Ae(a[g]);cn.push(u.project(Ae([xi.lat-Pe.lat,xi.lng-Pe.lng])))}for(g=0,b=0;g<Mn-1;g++)b+=cn[g].distanceTo(cn[g+1])/2;if(b===0)we=cn[0];else for(g=0,P=0;g<Mn-1;g++)if(Y=cn[g],se=cn[g+1],S=Y.distanceTo(se),P+=S,P>b){ce=(P-b)/S,we=[se.x-ce*(se.x-Y.x),se.y-ce*(se.y-Y.y)];break}var Tt=u.unproject(me(we));return Ae([Tt.lat+Pe.lat,Tt.lng+Pe.lng])}var Vi={__proto__:null,simplify:qn,pointToSegmentDistance:ll,closestPointOnSegment:uc,clipSegment:U,_getEdgeIntersection:re,_getBitCode:de,_sqClosestPointOnSegment:Qe,isFlat:xt,_flat:bt,polylineCenter:Bt},zi={project:function(a){return new ae(a.lng,a.lat)},unproject:function(a){return new Re(a.y,a.x)},bounds:new O([-180,-90],[180,90])},vi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,g=this.R,b=a.lat*u,S=this.R_MINOR/g,P=Math.sqrt(1-S*S),Y=P*Math.sin(b),se=Math.tan(Math.PI/4-b/2)/Math.pow((1-Y)/(1+Y),P/2);return b=-g*Math.log(Math.max(se,1e-10)),new ae(a.lng*u*g,b)},unproject:function(a){for(var u=180/Math.PI,g=this.R,b=this.R_MINOR/g,S=Math.sqrt(1-b*b),P=Math.exp(-a.y/g),Y=Math.PI/2-2*Math.atan(P),se=0,ce=.1,we;se<15&&Math.abs(ce)>1e-7;se++)we=S*Math.sin(Y),we=Math.pow((1-we)/(1+we),S/2),ce=Math.PI/2-2*Math.atan(P*we)-Y,Y+=ce;return new Re(Y*u,a.x*u/g)}},ls={__proto__:null,LonLat:zi,Mercator:vi,SphericalMercator:Yi},ia=o({},Ct,{code:"EPSG:3395",projection:vi,transformation:(function(){var a=.5/(Math.PI*vi.R);return Dn(a,.5,-a,.5)})()}),sa=o({},Ct,{code:"EPSG:4326",projection:zi,transformation:Dn(1/180,1,-1/180,.5)}),Ka=o({},Fe,{projection:zi,transformation:Dn(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var g=u.lng-a.lng,b=u.lat-a.lat;return Math.sqrt(g*g+b*b)},infinite:!0});Fe.Earth=Ct,Fe.EPSG3395=ia,Fe.EPSG3857=Ai,Fe.EPSG900913=ti,Fe.EPSG4326=sa,Fe.Simple=Ka;var cs=pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[p(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[p(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var g=this.getEvents();u.on(g,this),this.once("remove",function(){u.off(g,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});at.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=p(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=p(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return p(a)in this._layers},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},_addLayers:function(a){a=a?G(a)?a:[a]:[];for(var u=0,g=a.length;u<g;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[p(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=p(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,g=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;a=S.minZoom===void 0?a:Math.min(a,S.minZoom),u=S.maxZoom===void 0?u:Math.max(u,S.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ya=cs.extend({initialize:function(a,u){z(this,u),this._layers={};var g,b;if(a)for(g=0,b=a.length;g<b;g++)this.addLayer(a[g])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),g,b;for(g in this._layers)b=this._layers[g],b[a]&&b[a].apply(b,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var g in this._layers)a.call(u,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return p(a)}}),jm=function(a,u){return new Ya(a,u)},Is=Ya.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ya.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ya.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new fe;for(var u in this._layers){var g=this._layers[u];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),Kd=function(a,u){return new Is(a,u)},Ps=Se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){z(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(g,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,u){var g=this.options,b=g[u+"Size"];typeof b=="number"&&(b=[b,b]);var S=me(b),P=me(u==="shadow"&&g.shadowAnchor||g.iconAnchor||S&&S.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(g.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),S&&(a.style.width=S.x+"px",a.style.height=S.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Ve.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function cl(a){return new Ps(a)}var ul=Ps.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ul.imagePath!="string"&&(ul.imagePath=this._detectIconPath()),(this.options.imagePath||ul.imagePath)+Ps.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(g,b,S){var P=b.exec(g);return P&&P[S]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ot("div","leaflet-default-icon-path",document.body),u=gr(a,"background-image")||gr(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),dl=_i.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new os(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ke(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,g=u._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,P=Ns(u._icon),Y=g.getPixelBounds(),se=g.getPixelOrigin(),ce=ee(Y.min._subtract(se).add(S),Y.max._subtract(se).subtract(S));if(!ce.contains(P)){var we=me((Math.max(ce.max.x,P.x)-ce.max.x)/(Y.max.x-ce.max.x)-(Math.min(ce.min.x,P.x)-ce.min.x)/(Y.min.x-ce.min.x),(Math.max(ce.max.y,P.y)-ce.max.y)/(Y.max.y-ce.max.y)-(Math.min(ce.min.y,P.y)-ce.min.y)/(Y.min.y-ce.min.y)).multiplyBy(b);g.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),jt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=q(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,g=u._shadow,b=Ns(u._icon),S=u._map.layerPointToLatLng(b);g&&jt(g,b),u._latlng=S,a.latlng=S,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),hl=cs.extend({options:{icon:new ul,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){z(this,u),this._latlng=Ae(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Ae(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),b=!1;g!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),ke(g,u),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ze(g,"focus",this._panOnFocus,this);var S=a.icon.createShadow(this._shadow),P=!1;S!==this._shadow&&(this._removeShadow(),P=!0),S&&(ke(S,u),S.alt=""),this._shadow=S,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(this._icon,"focus",this._panOnFocus,this),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&jt(this._icon,a),this._shadow&&jt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ut(this._icon,a),this._shadow&&Ut(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,g=u.iconSize?me(u.iconSize):me(0,0),b=u.iconAnchor?me(u.iconAnchor):me(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:g.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Yd(a,u){return new hl(a,u)}var Ms=cs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return z(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Wa=Ms.extend({options:{fill:!0,radius:10},initialize:function(a,u){z(this,u),this._latlng=Ae(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Ae(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Ms.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,g=this._clickTolerance(),b=[a+g,u+g];this._pxBounds=new O(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Wd(a,u){return new Wa(a,u)}var dc=Wa.extend({initialize:function(a,u,g){if(typeof u=="number"&&(u=o({},g,{radius:u})),z(this,u),this._latlng=Ae(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new fe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ms.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,g=this._map,b=g.options.crs;if(b.distance===Ct.distance){var S=Math.PI/180,P=this._mRadius/Ct.R/S,Y=g.project([u+P,a]),se=g.project([u-P,a]),ce=Y.add(se).divideBy(2),we=g.unproject(ce).lat,Pe=Math.acos((Math.cos(P*S)-Math.sin(u*S)*Math.sin(we*S))/(Math.cos(u*S)*Math.cos(we*S)))/S;(isNaN(Pe)||Pe===0)&&(Pe=P/Math.cos(Math.PI/180*u)),this._point=ce.subtract(g.getPixelOrigin()),this._radius=isNaN(Pe)?0:ce.x-g.project([we,a-Pe]).x,this._radiusY=ce.y-Y.y}else{var Be=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Be).x}this._updateBounds()}});function Qd(a,u,g){return new dc(a,u,g)}var Js=Ms.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){z(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,g=null,b=Qe,S,P,Y=0,se=this._parts.length;Y<se;Y++)for(var ce=this._parts[Y],we=1,Pe=ce.length;we<Pe;we++){S=ce[we-1],P=ce[we];var Be=b(a,S,P,!0);Be<u&&(u=Be,g=b(a,S,P))}return g&&(g.distance=Math.sqrt(u)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Ae(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new fe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],g=xt(a),b=0,S=a.length;b<S;b++)g?(u[b]=Ae(a[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(a[b]);return u},_project:function(){var a=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new ae(a,a);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,g){var b=a[0]instanceof Re,S=a.length,P,Y;if(b){for(Y=[],P=0;P<S;P++)Y[P]=this._map.latLngToLayerPoint(a[P]),g.extend(Y[P]);u.push(Y)}else for(P=0;P<S;P++)this._projectLatlngs(a[P],u,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,g,b,S,P,Y,se,ce;for(g=0,S=0,P=this._rings.length;g<P;g++)for(ce=this._rings[g],b=0,Y=ce.length;b<Y-1;b++)se=U(ce[b],ce[b+1],a,b,!0),se&&(u[S]=u[S]||[],u[S].push(se[0]),(se[1]!==ce[b+1]||b===Y-2)&&(u[S].push(se[1]),S++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,g=0,b=a.length;g<b;g++)a[g]=qn(a[g],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var g,b,S,P,Y,se,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,P=this._parts.length;g<P;g++)for(se=this._parts[g],b=0,Y=se.length,S=Y-1;b<Y;S=b++)if(!(!u&&b===0)&&ll(a,se[S],se[b])<=ce)return!0;return!1}});function Lm(a,u){return new Js(a,u)}Js._flat=bt;var Qa=Js.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ol(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Js.prototype._convertLatLngs.call(this,a),g=u.length;return g>=2&&u[0]instanceof Re&&u[0].equals(u[g-1])&&u.pop(),u},_setLatLngs:function(a){Js.prototype._setLatLngs.call(this,a),xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,g=new ae(u,u);if(a=new O(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,P;b<S;b++)P=al(this._rings[b],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,g,b,S,P,Y,se,ce,we;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,ce=this._parts.length;P<ce;P++)for(g=this._parts[P],Y=0,we=g.length,se=we-1;Y<we;se=Y++)b=g[Y],S=g[se],b.y>a.y!=S.y>a.y&&a.x<(S.x-b.x)*(a.y-b.y)/(S.y-b.y)+b.x&&(u=!u);return u||Js.prototype._containsPoint.call(this,a,!0)}});function km(a,u){return new Qa(a,u)}var er=Is.extend({initialize:function(a,u){z(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=G(a)?a:a.features,g,b,S;if(u){for(g=0,b=u.length;g<b;g++)S=u[g],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var Y=Hn(a,P);return Y?(Y.feature=mc(a),Y.defaultOptions=Y.options,this.resetStyle(Y),P.onEachFeature&&P.onEachFeature(a,Y),this.addLayer(Y)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Hn(a,u){var g=a.type==="Feature"?a.geometry:a,b=g?g.coordinates:null,S=[],P=u&&u.pointToLayer,Y=u&&u.coordsToLatLng||hc,se,ce,we,Pe;if(!b&&!g)return null;switch(g.type){case"Point":return se=Y(b),Xa(P,a,se,u);case"MultiPoint":for(we=0,Pe=b.length;we<Pe;we++)se=Y(b[we]),S.push(Xa(P,a,se,u));return new Is(S);case"LineString":case"MultiLineString":return ce=fl(b,g.type==="LineString"?0:1,Y),new Js(ce,u);case"Polygon":case"MultiPolygon":return ce=fl(b,g.type==="Polygon"?1:2,Y),new Qa(ce,u);case"GeometryCollection":for(we=0,Pe=g.geometries.length;we<Pe;we++){var Be=Hn({geometry:g.geometries[we],type:"Feature",properties:a.properties},u);Be&&S.push(Be)}return new Is(S);case"FeatureCollection":for(we=0,Pe=g.features.length;we<Pe;we++){var st=Hn(g.features[we],u);st&&S.push(st)}return new Is(S);default:throw new Error("Invalid GeoJSON object.")}}function Xa(a,u,g,b){return a?a(u,g):new hl(g,b&&b.markersInheritOptions&&b)}function hc(a){return new Re(a[1],a[0],a[2])}function fl(a,u,g){for(var b=[],S=0,P=a.length,Y;S<P;S++)Y=u?fl(a[S],u-1,g):(g||hc)(a[S]),b.push(Y);return b}function fc(a,u){return a=Ae(a),a.alt!==void 0?[C(a.lng,u),C(a.lat,u),C(a.alt,u)]:[C(a.lng,u),C(a.lat,u)]}function ml(a,u,g,b){for(var S=[],P=0,Y=a.length;P<Y;P++)S.push(u?ml(a[P],xt(a[P])?0:u-1,g,b):fc(a[P],b));return!u&&g&&S.length>0&&S.push(S[0].slice()),S}function Er(a,u){return a.feature?o({},a.feature,{geometry:u}):mc(u)}function mc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Tr={toGeoJSON:function(a){return Er(this,{type:"Point",coordinates:fc(this.getLatLng(),a)})}};hl.include(Tr),dc.include(Tr),Wa.include(Tr),Js.include({toGeoJSON:function(a){var u=!xt(this._latlngs),g=ml(this._latlngs,u?1:0,!1,a);return Er(this,{type:(u?"Multi":"")+"LineString",coordinates:g})}}),Qa.include({toGeoJSON:function(a){var u=!xt(this._latlngs),g=u&&!xt(this._latlngs[0]),b=ml(this._latlngs,g?2:u?1:0,!0,a);return u||(b=[b]),Er(this,{type:(g?"Multi":"")+"Polygon",coordinates:b})}}),Ya.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(g){u.push(g.toGeoJSON(a).geometry.coordinates)}),Er(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var g=u==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var P=S.toGeoJSON(a);if(g)b.push(P.geometry);else{var Y=mc(P);Y.type==="FeatureCollection"?b.push.apply(b,Y.features):b.push(Y)}}}),g?Er(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function pc(a,u){return new er(a,u)}var pl=pc,Ja=cs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,g){this._url=a,this._bounds=be(u),z(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Kt(this._image),this},bringToBack:function(){return this._map&&gi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=be(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:ot("img");if(ke(u,"leaflet-image-layer"),this._zoomAnimated&&ke(u,"leaflet-zoom-animated"),this.options.className&&ke(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onload=h(this.fire,this,"load"),u.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ns(this._image,g,u)},_reset:function(){var a=this._image,u=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=u.getSize();jt(a,u.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){Ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Xd=function(a,u,g){return new Ja(a,u,g)},Sr=Ja.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:ot("video");if(ke(u,"leaflet-image-layer"),this._zoomAnimated&&ke(u,"leaflet-zoom-animated"),this.options.className&&ke(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onloadeddata=h(this.fire,this,"load"),a){for(var g=u.getElementsByTagName("source"),b=[],S=0;S<g.length;S++)b.push(g[S].src);this._url=g.length>0?b:[u.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var Y=ot("source");Y.src=this._url[P],u.appendChild(Y)}}});function eo(a,u,g){return new Sr(a,u,g)}var gc=Ja.extend({_initImage:function(){var a=this._image=this._url;ke(a,"leaflet-image-layer"),this._zoomAnimated&&ke(a,"leaflet-zoom-animated"),this.options.className&&ke(a,this.options.className),a.onselectstart=E,a.onmousemove=E}});function Jd(a,u,g){return new gc(a,u,g)}var Fn=cs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Re||G(a))?(this._latlng=Ae(a),z(this,u)):(z(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ut(this._container,1),this.bringToFront(),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ut(this._container,0),this._removeTimeout=setTimeout(h(ct,void 0,this._container),200)):ct(this._container),this.options.interactive&&(Mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ae(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Kt(this._container),this},bringToBack:function(){return this._map&&gi(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Is){u=null;var g=this._source._layers;for(var b in g)if(g[b]._map){u=g[b];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=me(this.options.offset),g=this._getAnchor();this._zoomAnimated?jt(this._container,a.add(g)):u=u.add(a).add(g);var b=this._containerBottom=-u.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});at.include({_initOverlay:function(a,u,g,b){var S=u;return S instanceof a||(S=new a(b).setContent(u)),g&&S.setLatLng(g),S}}),cs.include({_initOverlay:function(a,u,g,b){var S=g;return S instanceof a?(z(S,b),S._source=this):(S=u&&!b?u:new a(b,this),S.setContent(g)),S}});var gl=Fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Fn.prototype.openOn.call(this,a)},onAdd:function(a){Fn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ms||this._source.on("preclick",ft))},onRemove:function(a){Fn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ms||this._source.off("preclick",ft))},getEvents:function(){var a=Fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=ot("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=ot("div",a+"-content-wrapper",u);if(this._contentNode=ot("div",a+"-content",g),Ys(u),Oi(this._contentNode),Ze(u,"contextmenu",ft),this._tipContainer=ot("div",a+"-tip-container",u),this._tip=ot("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=ot("a",a+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ze(b,"click",function(S){Yt(S),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),u.width=g+1+"px",u.whiteSpace="",u.height="";var b=a.offsetHeight,S=this.options.maxHeight,P="leaflet-popup-scrolled";S&&b>S?(u.height=S+"px",ke(a,P)):Mt(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();jt(this._container,u.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(gr(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+u,b=this._containerWidth,S=new ae(this._containerLeft,-g-this._containerBottom);S._add(Ns(this._container));var P=a.layerPointToContainerPoint(S),Y=me(this.options.autoPanPadding),se=me(this.options.autoPanPaddingTopLeft||Y),ce=me(this.options.autoPanPaddingBottomRight||Y),we=a.getSize(),Pe=0,Be=0;P.x+b+ce.x>we.x&&(Pe=P.x+b-we.x+ce.x),P.x-Pe-se.x<0&&(Pe=P.x-se.x),P.y+g+ce.y>we.y&&(Be=P.y+g-we.y+ce.y),P.y-Be-se.y<0&&(Be=P.y-se.y),(Pe||Be)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Pe,Be]))}},_getAnchor:function(){return me(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),eh=function(a,u){return new gl(a,u)};at.mergeOptions({closePopupOnClick:!0}),at.include({openPopup:function(a,u,g){return this._initOverlay(gl,a,u,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),cs.include({bindPopup:function(a,u){return this._popup=this._initOverlay(gl,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Is||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){is(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Ms)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var yl=Fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Fn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Fn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Fn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,g,b=this._map,S=this._container,P=b.latLngToContainerPoint(b.getCenter()),Y=b.layerPointToContainerPoint(a),se=this.options.direction,ce=S.offsetWidth,we=S.offsetHeight,Pe=me(this.options.offset),Be=this._getAnchor();se==="top"?(u=ce/2,g=we):se==="bottom"?(u=ce/2,g=0):se==="center"?(u=ce/2,g=we/2):se==="right"?(u=0,g=we/2):se==="left"?(u=ce,g=we/2):Y.x<P.x?(se="right",u=0,g=we/2):(se="left",u=ce+(Pe.x+Be.x)*2,g=we/2),a=a.subtract(me(u,g,!0)).add(Pe).add(Be),Mt(S,"leaflet-tooltip-right"),Mt(S,"leaflet-tooltip-left"),Mt(S,"leaflet-tooltip-top"),Mt(S,"leaflet-tooltip-bottom"),ke(S,"leaflet-tooltip-"+se),jt(S,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ut(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return me(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Dm=function(a,u){return new yl(a,u)};at.include({openTooltip:function(a,u,g){return this._initOverlay(yl,a,u,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),cs.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yl,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[u](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Is||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Ze(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ze(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,g,b;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(g),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var th=Ps.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Zt(u),u.appendChild(g.html)):u.innerHTML=g.html!==!1?g.html:"",g.bgPos){var b=me(g.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Om(a){return new th(a)}Ps.Default=ul;var to=cs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){z(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ct(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Kt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ae?a:new ae(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,g=-a(-1/0,1/0),b=0,S=u.length,P;b<S;b++)P=u[b].style.zIndex,u[b]!==this._container&&P&&(g=a(g,+P));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ve.ielt9){Ut(this._container,this.options.opacity);var a=+new Date,u=!1,g=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var P=Math.min(1,(a-S.loaded)/200);Ut(S.el,P),P<1?u=!0:(S.active?g=!0:this._onOpaqueTile(S),S.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),u&&(K(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=u-Math.abs(a-g),this._onUpdateLevel(g)):(ct(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var b=this._levels[a],S=this._map;return b||(b=this._levels[a]={},b.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=S.project(S.unproject(S.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,S.getCenter(),S.getZoom()),E(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var a,u,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ct(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,g,b){var S=Math.floor(a/2),P=Math.floor(u/2),Y=g-1,se=new ae(+S,+P);se.z=+Y;var ce=this._tileCoordsToKey(se),we=this._tiles[ce];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),Y>b?this._retainParent(S,P,Y,b):!1)},_retainChildren:function(a,u,g,b){for(var S=2*a;S<2*a+2;S++)for(var P=2*u;P<2*u+2;P++){var Y=new ae(S,P);Y.z=g+1;var se=this._tileCoordsToKey(Y),ce=this._tiles[se];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);g+1<b&&this._retainChildren(S,P,g+1,b)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,g,b){var S=Math.round(u);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var P=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||P)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,u)},_setZoomTransform:function(a,u,g){var b=this._map.getZoomScale(g,a.zoom),S=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,g)).round();Ve.any3d?ns(a.el,S,b):jt(a.el,S)},_resetGrid:function(){var a=this._map,u=a.options.crs,g=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],b).x/g.x),Math.ceil(a.project([0,u.wrapLng[1]],b).x/g.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],b).y/g.x),Math.ceil(a.project([u.wrapLat[1],0],b).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,g=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(g,this._tileZoom),S=u.project(a,this._tileZoom).floor(),P=u.getSize().divideBy(b*2);return new O(S.subtract(P),S.add(P))},_update:function(a){var u=this._map;if(u){var g=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),S=this._pxBoundsToTileRange(b),P=S.getCenter(),Y=[],se=this.options.keepBuffer,ce=new O(S.getBottomLeft().subtract([se,-se]),S.getTopRight().add([se,-se]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Pe=this._tiles[we].coords;(Pe.z!==this._tileZoom||!ce.contains(new ae(Pe.x,Pe.y)))&&(this._tiles[we].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var Be=S.min.y;Be<=S.max.y;Be++)for(var st=S.min.x;st<=S.max.x;st++){var Mn=new ae(st,Be);if(Mn.z=this._tileZoom,!!this._isValidTile(Mn)){var cn=this._tiles[this._tileCoordsToKey(Mn)];cn?cn.current=!0:Y.push(Mn)}}if(Y.sort(function(Tt,St){return Tt.distanceTo(P)-St.distanceTo(P)}),Y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xi=document.createDocumentFragment();for(st=0;st<Y.length;st++)this._addTile(Y[st],xi);this._level.el.appendChild(xi)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var g=this._globalTileRange;if(!u.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!u.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return be(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,g=this.getTileSize(),b=a.scaleBy(g),S=b.add(g),P=u.unproject(b,a.z),Y=u.unproject(S,a.z);return[P,Y]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),g=new fe(u[0],u[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),g=new ae(+u[0],+u[1]);return g.z=+u[2],g},_removeTile:function(a){var u=this._tiles[a];u&&(ct(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){ke(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=E,a.onmousemove=E,Ve.ielt9&&this.options.opacity<1&&Ut(a,this.options.opacity)},_addTile:function(a,u){var g=this._getTilePos(a),b=this._tileCoordsToKey(a),S=this.createTile(this._wrapCoords(a),h(this._tileReady,this,a));this._initTile(S),this.createTile.length<2&&q(h(this._tileReady,this,a,null,S)),jt(S,g),this._tiles[b]={el:S,coords:a,current:!0},u.appendChild(S),this.fire("tileloadstart",{tile:S,coords:a})},_tileReady:function(a,u,g){u&&this.fire("tileerror",{error:u,tile:g,coords:a});var b=this._tileCoordsToKey(a);g=this._tiles[b],g&&(g.loaded=+new Date,this._map._fadeAnimated?(Ut(g.el,0),K(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),u||(ke(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ve.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new ae(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new O(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function nh(a){return new to(a)}var Nr=to.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=z(this,u),u.detectRetina&&Ve.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var g=document.createElement("img");return Ze(g,"load",h(this._tileOnLoad,this,u,g)),Ze(g,"error",h(this._tileOnError,this,u,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var u={r:Ve.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=g),u["-y"]=g}return B(this._url,o(u,this.options))},_tileOnLoad:function(a,u){Ve.ielt9?setTimeout(h(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,g){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),a(g,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,g=this.options.zoomReverse,b=this.options.zoomOffset;return g&&(a=u-a),a+b},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=E,u.onerror=E,!u.complete)){u.src=te;var g=this._tiles[a].coords;ct(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:g})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",te),to.prototype._removeTile.call(this,a)},_tileReady:function(a,u,g){if(!(!this._map||g&&g.getAttribute("src")===te))return to.prototype._tileReady.call(this,a,u,g)}});function Ui(a,u){return new Nr(a,u)}var _l=Nr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var g=o({},this.defaultWmsParams);for(var b in u)b in this.options||(g[b]=u[b]);u=z(this,u);var S=u.detectRetina&&Ve.retina?2:1,P=this.getTileSize();g.width=P.x*S,g.height=P.y*S,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Nr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),g=this._crs,b=ee(g.project(u[0]),g.project(u[1])),S=b.min,P=b.max,Y=(this._wmsVersion>=1.3&&this._crs===sa?[S.y,S.x,P.y,P.x]:[S.x,S.y,P.x,P.y]).join(","),se=Nr.prototype.getTileUrl.call(this,a);return se+k(this.wmsParams,se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function Bi(a,u){return new _l(a,u)}Nr.WMS=_l,Ui.wms=Bi;var oi=cs.extend({options:{padding:.1},initialize:function(a){z(this,a),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var g=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,u),P=b.multiplyBy(-g).add(S).subtract(this._map._getNewPixelOrigin(a,u));Ve.any3d?ns(this._container,P,g):jt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),g=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new O(g,g.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),yc=oi.extend({options:{tolerance:0},getEvents:function(){var a=oi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ze(a,"mousemove",this._onMouseMove,this),Ze(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ze(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,ct(this._container),Et(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var a=this._bounds,u=this._container,g=a.getSize(),b=Ve.retina?2:1;jt(u,a.min),u.width=b*g.x,u.height=b*g.y,u.style.width=g.x+"px",u.style.height=g.y+"px",Ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[p(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,g=u.next,b=u.prev;g?g.prev=b:this._drawLast=b,b?b.next=g:this._drawFirst=g,delete a._order,delete this._layers[p(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),g=[],b,S;for(S=0;S<u.length;S++){if(b=Number(u[S]),isNaN(b))return;g.push(b)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var g=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var g,b,S,P,Y=a._parts,se=Y.length,ce=this._ctx;if(se){for(ce.beginPath(),g=0;g<se;g++){for(b=0,S=Y[g].length;b<S;b++)P=Y[g][b],ce[b?"lineTo":"moveTo"](P.x,P.y);u&&ce.closePath()}this._fillStroke(ce,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,g=this._ctx,b=Math.max(Math.round(a._radius),1),S=(Math.max(Math.round(a._radiusY),1)||b)/b;S!==1&&(g.save(),g.scale(1,S)),g.beginPath(),g.arc(u.x,u.y/S,b,0,Math.PI*2,!1),S!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,u){var g=u.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),g,b,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(b=g);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(Mt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var g,b,S=this._drawFirst;S;S=S.next)g=S.layer,g.options.interactive&&g._containsPoint(u)&&(b=g);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(ke(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,g){this._map._fireDOMEvent(u,g||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var g=u.next,b=u.prev;if(g)g.prev=b;else return;b?b.next=g:g&&(this._drawFirst=g),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var g=u.next,b=u.prev;if(b)b.next=g;else return;g?g.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function vl(a){return Ve.canvas?new yc(a):null}var Ar=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),fu={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Ar("shape");ke(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Ar("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;ct(u),a.removeInteractiveTarget(u),delete this._layers[p(a)]},_updateStyle:function(a){var u=a._stroke,g=a._fill,b=a.options,S=a._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(u||(u=a._stroke=Ar("stroke")),S.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=G(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(S.removeChild(u),a._stroke=null),b.fill?(g||(g=a._fill=Ar("fill")),S.appendChild(g),g.color=b.fillColor||b.color,g.opacity=b.fillOpacity):g&&(S.removeChild(g),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),g=Math.round(a._radius),b=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+g+","+b+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Kt(a._container)},_bringToBack:function(a){gi(a._container)}},js=Ve.vml?Ar:bs,no=oi.extend({_initContainer:function(){this._container=js("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=js("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),Et(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var a=this._bounds,u=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,g.setAttribute("width",u.x),g.setAttribute("height",u.y)),jt(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=js("path");a.options.className&&ke(u,a.options.className),a.options.interactive&&ke(u,"leaflet-interactive"),this._updateStyle(a),this._layers[p(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ct(a._path),a.removeInteractiveTarget(a._path),delete this._layers[p(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,g=a.options;u&&(g.stroke?(u.setAttribute("stroke",g.color),u.setAttribute("stroke-opacity",g.opacity),u.setAttribute("stroke-width",g.weight),u.setAttribute("stroke-linecap",g.lineCap),u.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?u.setAttribute("stroke-dasharray",g.dashArray):u.removeAttribute("stroke-dasharray"),g.dashOffset?u.setAttribute("stroke-dashoffset",g.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),g.fill?(u.setAttribute("fill",g.fillColor||g.color),u.setAttribute("fill-opacity",g.fillOpacity),u.setAttribute("fill-rule",g.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,Ci(a._parts,u))},_updateCircle:function(a){var u=a._point,g=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||g,S="a"+g+","+b+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(u.x-g)+","+u.y+S+g*2+",0 "+S+-g*2+",0 ";this._setPath(a,P)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Kt(a._path)},_bringToBack:function(a){gi(a._path)}});Ve.vml&&no.include(fu);function xl(a){return Ve.svg||Ve.vml?new no(a):null}at.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&vl(a)||xl(a)}});var ra=Qa.extend({initialize:function(a,u){Qa.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=be(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Vm(a,u){return new ra(a,u)}no.create=js,no.pointsToPath=Ci,er.geometryToLayer=Hn,er.coordsToLatLng=hc,er.coordsToLatLngs=fl,er.latLngToCoords=fc,er.latLngsToCoords=ml,er.getFeature=Er,er.asFeature=mc,at.mergeOptions({boxZoom:!0});var li=_i.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Di(),Jr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ze(document,{contextmenu:is,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new O(this._point,this._startPoint),g=u.getSize();jt(this._box,u.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(ct(this._box),Mt(this._container,"leaflet-crosshair")),wn(),yr(),Et(document,{contextmenu:is,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var u=new fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});at.addInitHook("addHandler","boxZoom",li),at.mergeOptions({doubleClickZoom:!0});var _c=_i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,g=u.getZoom(),b=u.options.zoomDelta,S=a.originalEvent.shiftKey?g-b:g+b;u.options.doubleClickZoom==="center"?u.setZoom(S):u.setZoomAround(a.containerPoint,S)}});at.addInitHook("addHandler","doubleClickZoom",_c),at.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ls=_i.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new os(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Mt(this._map._container,"leaflet-grab"),Mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=be(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),g=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-u+g)%a+u-g,P=(b+u+g)%a-u-g,Y=Math.abs(S+g)<Math.abs(P+g)?S:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Y},_onDragEnd:function(a){var u=this._map,g=u.options,b=!g.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),b)u.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,Y=g.easeLinearity,se=S.multiplyBy(Y/P),ce=se.distanceTo([0,0]),we=Math.min(g.inertiaMaxSpeed,ce),Pe=se.multiplyBy(we/ce),Be=we/(g.inertiaDeceleration*Y),st=Pe.multiplyBy(-Be/2).round();!st.x&&!st.y?u.fire("moveend"):(st=u._limitOffset(st,u.options.maxBounds),q(function(){u.panBy(st,{duration:Be,easeLinearity:Y,noMoveStart:!0,animate:!0})}))}}});at.addInitHook("addHandler","dragging",Ls),at.mergeOptions({keyboard:!0,keyboardPanDelta:80});var mu=_i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ze(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Et(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,g=a.scrollTop||u.scrollTop,b=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},g=this.keyCodes,b,S;for(b=0,S=g.left.length;b<S;b++)u[g.left[b]]=[-1*a,0];for(b=0,S=g.right.length;b<S;b++)u[g.right[b]]=[a,0];for(b=0,S=g.down.length;b<S;b++)u[g.down[b]]=[0,a];for(b=0,S=g.up.length;b<S;b++)u[g.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},g=this.keyCodes,b,S;for(b=0,S=g.zoomIn.length;b<S;b++)u[g.zoomIn[b]]=a;for(b=0,S=g.zoomOut.length;b<S;b++)u[g.zoomOut[b]]=-a},_addHooks:function(){Ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,g=this._map,b;if(u in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(b=this._panKeys[u],a.shiftKey&&(b=me(b).multiplyBy(3)),g.options.maxBounds&&(b=g._limitOffset(me(b),g.options.maxBounds)),g.options.worldCopyJump){var S=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(b)));g.panTo(S)}else g.panBy(b)}else if(u in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;is(a)}}});at.addInitHook("addHandler","keyboard",mu),at.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bl=_i.extend({addHooks:function(){Ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=En(a),g=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),b),is(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,P=g?Math.ceil(S/g)*g:S,Y=a._limitZoom(u+(this._delta>0?P:-P))-u;this._delta=0,this._startTime=null,Y&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+Y):a.setZoomAround(this._lastMousePos,u+Y))}});at.addInitHook("addHandler","scrollWheelZoom",bl);var aa=600;at.mergeOptions({tapHold:Ve.touchNative&&Ve.safari&&Ve.mobile,tapTolerance:15});var vc=_i.extend({addHooks:function(){Ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new ae(u.clientX,u.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Ze(document,"touchend",Yt),Ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),aa),Ze(document,"touchend touchcancel contextmenu",this._cancel,this),Ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Et(document,"touchend",Yt),Et(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new ae(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});g._simulated=!0,u.target.dispatchEvent(g)}});at.addInitHook("addHandler","tapHold",vc),at.mergeOptions({touchZoom:Ve.touch,bounceAtZoomLimits:!0});var pu=_i.extend({addHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),Ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Mt(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var g=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(g.add(b)._divideBy(2))),this._startDist=g.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Ze(document,"touchmove",this._onTouchMove,this),Ze(document,"touchend touchcancel",this._onTouchEnd,this),Yt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,g=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]),S=g.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(S,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&S<1||this._zoom>u.getMaxZoom()&&S>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var P=g._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&P.x===0&&P.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var Y=h(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(Y,this,!0),Yt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});at.addInitHook("addHandler","touchZoom",pu),at.BoxZoom=li,at.DoubleClickZoom=_c,at.Drag=Ls,at.Keyboard=mu,at.ScrollWheelZoom=bl,at.TapHold=vc,at.TouchZoom=pu,t.Bounds=O,t.Browser=Ve,t.CRS=Fe,t.Canvas=yc,t.Circle=dc,t.CircleMarker=Wa,t.Class=Se,t.Control=Bn,t.DivIcon=th,t.DivOverlay=Fn,t.DomEvent=Rs,t.DomUtil=vr,t.Draggable=os,t.Evented=pe,t.FeatureGroup=Is,t.GeoJSON=er,t.GridLayer=to,t.Handler=_i,t.Icon=Ps,t.ImageOverlay=Ja,t.LatLng=Re,t.LatLngBounds=fe,t.Layer=cs,t.LayerGroup=Ya,t.LineUtil=Vi,t.Map=at,t.Marker=hl,t.Mixin=cc,t.Path=Ms,t.Point=ae,t.PolyUtil=wr,t.Polygon=Qa,t.Polyline=Js,t.Popup=gl,t.PosAnimation=Ws,t.Projection=ls,t.Rectangle=ra,t.Renderer=oi,t.SVG=no,t.SVGOverlay=gc,t.TileLayer=Nr,t.Tooltip=yl,t.Transformation=xs,t.Util=F,t.VideoOverlay=Sr,t.bind=h,t.bounds=ee,t.canvas=vl,t.circle=Qd,t.circleMarker=Wd,t.control=ai,t.divIcon=Om,t.extend=o,t.featureGroup=Kd,t.geoJSON=pc,t.geoJson=pl,t.gridLayer=nh,t.icon=cl,t.imageOverlay=Xd,t.latLng=Ae,t.latLngBounds=be,t.layerGroup=jm,t.map=br,t.marker=Yd,t.point=me,t.polygon=km,t.polyline=Lm,t.popup=eh,t.rectangle=Vm,t.setOptions=z,t.stamp=p,t.svg=xl,t.svgOverlay=Jd,t.tileLayer=Ui,t.tooltip=Dm,t.transformation=Dn,t.version=s,t.videoOverlay=eo;var gu=window.L;t.noConflict=function(){return window.L=gu,this},window.L=t}))})(od,od.exports)),od.exports}var Mm=A6();const r2=f1(Mm);function a2(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function o2(n,e){return e==null?function(s,o){const c=D.useRef(void 0);return c.current||(c.current=n(s,o)),c}:function(s,o){const c=D.useRef(void 0);c.current||(c.current=n(s,o));const h=D.useRef(s),{instance:_}=c.current;return D.useEffect(function(){h.current!==s&&(e(_,s,h.current),h.current=s)},[_,s,e]),c}}function C6(n,e){D.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function l2(n){return function(t){const s=i2(),o=n(s2(t,s),s);return v6(s.map,t.attribution),S6(o.current,t.eventHandlers),C6(o.current,s),o}}function R6(n,e){const t=o2(n,e),s=l2(t);return E6(s)}function I6(n,e){const t=o2(n,e),s=l2(t);return T6(s)}function P6(n,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function M6(){return i2().map}function j6(n){const e=M6();return D.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function L6({bounds:n,boundsOptions:e,center:t,children:s,className:o,id:c,placeholder:h,style:_,whenReady:p,zoom:v,...w},E){const[C]=D.useState({className:o,id:c,style:_}),[R,j]=D.useState(null),z=D.useRef(void 0);D.useImperativeHandle(E,()=>R?.map??null,[R]);const k=D.useCallback(B=>{if(B!==null&&!z.current){const G=new Mm.Map(B,w);z.current=G,t!=null&&v!=null?G.setView(t,v):n!=null&&G.fitBounds(n,e),p!=null&&G.whenReady(p),j(b6(G))}},[]);D.useEffect(()=>()=>{R?.map.remove()},[R]);const V=R?hn.createElement(iv,{value:R},s):h??null;return hn.createElement("div",{...C,ref:k},V)}const k6=D.forwardRef(L6),D6=R6(function({position:e,...t},s){const o=new Mm.Marker(e,t);return a2(o,w6(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),O6=I6(function({url:e,...t},s){const o=new Mm.TileLayer(e,s2(t,s));return a2(o,s)},function(e,t,s){P6(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)});delete r2.Icon.Default.prototype._getIconUrl;r2.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function V6({position:n,setPosition:e,setAddress:t}){const s=j6({click(o){e(o.latlng),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.latlng.lat}&lon=${o.latlng.lng}`).then(c=>c.json()).then(c=>{c&&c.display_name&&t(c.display_name)}).catch(c=>console.error("Error reverse geocoding",c))}});return D.useEffect(()=>{n&&s.flyTo(n,16)},[n,s]),n===null?null:f.jsx(D6,{position:n})}const z6=({onConfirm:n,initialLocation:e})=>{const[t,s]=D.useState(e?{lat:e.lat,lng:e.lng}:null),[o,c]=D.useState(e?.address||""),[h,_]=D.useState(""),[p,v]=D.useState(!1),w=[-12.0464,-77.0428],E=async R=>{if(R.preventDefault(),!!h){v(!0);try{let j=h;!j.toLowerCase().includes("peru")&&!j.toLowerCase().includes("per")&&(j+=", Per");const k=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(j)}`)).json();if(k&&k.length>0){const V=k[0],B={lat:parseFloat(V.lat),lng:parseFloat(V.lon)};s(B),c(V.display_name)}else console.log("No location found")}catch(j){console.error("Search error:",j)}finally{v(!1)}}},C=()=>{t&&n({lat:t.lat,lng:t.lng,address:o})};return f.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[f.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[f.jsxs("div",{className:"relative flex gap-2",children:[f.jsxs("div",{className:"relative flex-grow",children:[f.jsx("input",{type:"text",value:h,onChange:R=>_(R.target.value),onKeyDown:R=>R.key==="Enter"&&E(R),placeholder:"Buscar ciudad, calle o lugar...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-[#fc7f51] focus:ring-1 focus:ring-[#fc7f51] outline-none text-sm"}),f.jsx(Ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),f.jsx("button",{type:"button",onClick:E,disabled:p,className:"bg-[#262626] text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-black transition disabled:opacity-70",children:p?f.jsx(Bl,{className:"w-4 h-4 animate-spin"}):"Buscar"})]}),o&&f.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-start gap-1",children:[f.jsx(Gr,{className:"w-3 h-3 mt-0.5 text-[#fc7f51]"}),f.jsx("span",{className:"line-clamp-2",children:o})]})]}),f.jsx("div",{className:"flex-grow min-h-[300px] relative z-0",children:f.jsxs(k6,{center:w,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[f.jsx(O6,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f.jsx(V6,{position:t,setPosition:s,setAddress:c})]})}),f.jsx("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-end",children:f.jsx("button",{type:"button",onClick:C,disabled:!t,className:"bg-[#fc7f51] text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-[#e56b3e] transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ubicacin"})})]})},U6=()=>{const{user:n,userData:e}=Da(),[t,s]=D.useState(!1),[o,c]=D.useState(!1),[h,_]=D.useState(null),[p,v]=D.useState("properties"),[w,E]=D.useState(""),[C,R]=D.useState(!1),[j,z]=D.useState({displayName:"",email:"",phoneNumber:"",newPassword:""}),[k,V]=D.useState(!1),[B,G]=D.useState([]),[ne,te]=D.useState({title:"",content:""}),[_e,H]=D.useState(null),[I,Z]=D.useState(null),[$,q]=D.useState(!1),[K,F]=D.useState([]),[Se,ye]=D.useState([]),[W,pe]=D.useState({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,gym:!1,security:!1,exchangeRate:3.8}),[ae,Ne]=D.useState([]),[me,O]=D.useState([]),[ee,fe]=D.useState(!0),[be,Re]=D.useState(null),[Ae,Fe]=D.useState(!1),[Ct,Pt]=D.useState(null),[Yi,xs]=D.useState(""),[Dn,Ai]=D.useState([]),[ti,bs]=D.useState(""),[Ci,Wi]=D.useState(""),Ri=async()=>{if(n){fe(!0);try{const X=Vs(vn(Xe,"properties"),wa("agentId","==",n.uid)),Me=(await ar(X)).docs.map(je=>({id:je.id,...je.data()}));Me.sort((je,qe)=>(qe.createdAt?.seconds||0)-(je.createdAt?.seconds||0)),Ne(Me)}catch(X){console.error("Error fetching properties:",X)}finally{fe(!1)}}},Ht=async()=>{if(n){q(!0);try{const X=Vs(vn(Xe,"tips"),wa("agentId","==",n.uid),G_("createdAt","desc")),Ie=await ar(X);G(Ie.docs.map(Me=>({id:Me.id,...Me.data()})))}catch(X){console.error("Error fetching tips:",X)}finally{q(!1)}}};D.useEffect(()=>{e?.isActivated&&(Ri(),(async()=>{try{const Me=Vs(vn(Xe,"visits"),wa("agentId","==",n.uid)),je=await ar(Me);O(je.docs.map(qe=>({id:qe.id,...qe.data()})))}catch(Me){console.error("Error fetching visits:",Me)}})(),Ht(),(async()=>{try{const Me=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(Me.ok){const qe=(await Me.json()).rates.PEN;qe&&pe(tt=>({...tt,exchangeRate:qe}))}}catch(Me){console.error("Error fetching initial exchange rate:",Me)}})()),z({displayName:e?.displayName||n?.displayName||"",email:e?.email||n?.email||"",phoneNumber:e?.phoneNumber||"",newPassword:"",photoURL:e?.photoURL||n?.photoURL||""})},[n,e]);const Xt=async X=>{if(!window.confirm("Ests seguro de que deseas eliminar esta propiedad?"))return;const Ie=ae;Ne(Me=>Me.filter(je=>je.id!==X)),De.success("Propiedad eliminada correctamente.");try{await $f(Ft(Xe,"properties",X))}catch(Me){Ne(Ie),console.error("Error deleting property:",Me),De.error("Error al eliminar la propiedad.")}},Ii=async X=>{X.preventDefault(),R(!0);try{const Ie=Vs(vn(Xe,"activation_codes"),wa("code","==",w),wa("used","==",!1)),Me=await ar(Ie);if(Me.empty){De.error("Cdigo invlido o ya usado."),R(!1);return}const je=Me.docs[0];await rr(Ft(Xe,"activation_codes",je.id),{used:!0,usedBy:n.uid,usedAt:new Date}),await rr(Ft(Xe,"users",n.uid),{isActivated:!0,activationCode:w}),De.success("Cuenta activada con xito! Recargando..."),setTimeout(()=>window.location.reload(),1500)}catch(Ie){console.error("Error activating account:",Ie),De.error("Error al activar la cuenta.")}finally{R(!1)}},Oa=async X=>{X.preventDefault(),V(!0);try{const Ie=j.email!==n.email,Me=j.newPassword&&j.newPassword.length>0;if(Ie||Me){if(!j.currentPassword)throw new Error("Debes ingresar tu contrasea actual para cambiar el email o la contrasea.");if(Me&&j.newPassword.length<6)throw new Error("La nueva contrasea debe tener al menos 6 caracteres.");const Jt=tc.credential(n.email,j.currentPassword);await YI(n,Jt)}j.displayName!==n.displayName&&await dy(n,{displayName:j.displayName}),Ie&&await eP(n,j.email);let je=n.photoURL;if(be){const Jt=Hg(Fg,`profile_photos/${n.uid}/${Date.now()}_${be.name}`),bn=await Bg(Jt,be);je=await qg(bn.ref),await dy(n,{photoURL:je})}await rr(Ft(Xe,"users",n.uid),{displayName:j.displayName,email:j.email,phoneNumber:j.phoneNumber,photoURL:je}),Me&&(await tP(n,j.newPassword),z(Jt=>({...Jt,newPassword:"",currentPassword:""})),De.success("Contrasea actualizada."));const qe=HL(Xe),tt=Vs(vn(Xe,"properties"),wa("agentId","==",n.uid));(await ar(tt)).forEach(Jt=>{qe.update(Jt.ref,{agentName:j.displayName,agentPhone:j.phoneNumber||"",agentPhotoURL:je})}),await qe.commit(),De.success("Perfil actualizado correctamente."),Ri()}catch(Ie){console.error("Error updating profile:",Ie),Ie.code==="auth/wrong-password"||Ie.code==="auth/invalid-credential"?De.error("La contrasea actual es incorrecta."):Ie.code==="auth/requires-recent-login"?De.error("Tu sesin ha expirado. Por favor, cierra sesin e inicia de nuevo."):De.error(Ie.message||"Error al actualizar perfil.")}finally{V(!1)}},Kr=async X=>{X.preventDefault(),q(!0);try{let Ie="";if(_e){const Me=Hg(Fg,`tip_images/${n.uid}/${Date.now()}_${_e.name}`),je=await Bg(Me,_e);Ie=await qg(je.ref)}if(I){const Me={...ne,updatedAt:new Date};Ie&&(Me.imageUrl=Ie),await rr(Ft(Xe,"tips",I),Me),De.success("Tip actualizado.")}else await zl(vn(Xe,"tips"),{...ne,agentId:n.uid,agentName:n.displayName||"Agente",createdAt:new Date,likes:0,imageUrl:Ie||null}),De.success("Tip publicado.");te({title:"",content:""}),H(null),Z(null),typeof Ht=="function"&&Ht()}catch(Ie){console.error("Error saving tip:",Ie),Ie.code==="failed-precondition"?De.error("El ndice de base de datos se est creando. Intenta de nuevo en unos minutos."):De.error("Error al guardar el tip.")}finally{q(!1)}},Pn=async X=>{if(!window.confirm("Seguro que quieres eliminar este tip?"))return;const Ie=B;G(Me=>Me.filter(je=>je.id!==X)),De.success("Tip eliminado.");try{await $f(Ft(Xe,"tips",X))}catch(Me){G(Ie),console.error("Error deleting tip:",Me),De.error("Error al eliminar el tip.")}},qs=X=>{te({title:X.title||"",content:X.content||""}),Z(X.id),v("tips")},Hs=async(X,Ie)=>{const Me=Ie==="disponible"?"tomada":"disponible";Ne(je=>je.map(qe=>qe.id===X?{...qe,status:Me}:qe)),De.success(`Estado actualizado a: ${Me==="disponible"?"Disponible":"No Disponible"}`);try{await rr(Ft(Xe,"properties",X),{status:Me})}catch(je){Ne(qe=>qe.map(tt=>tt.id===X?{...tt,status:Ie}:tt)),console.error("Error updating status:",je),De.error("No se pudo actualizar el estado.")}},mr=async X=>{Ne(Ie=>Ie.map(Me=>Me.id===X?{...Me,status:"disponible"}:Me)),De.success("Propiedad publicada con xito!");try{await rr(Ft(Xe,"properties",X),{status:"disponible",publishedAt:new Date})}catch(Ie){Ne(Me=>Me.map(je=>je.id===X?{...je,status:"borrador"}:je)),console.error("Error publishing property:",Ie),De.error("No se pudo publicar la propiedad.")}},Qi=X=>{Pt(X.id),xs(X.title),Ai(X.availableVisitSlots||[]),bs(""),Wi(""),Fe(!0)},Wo=()=>{if(!ti||!Ci){De.error("Selecciona fecha y hora.");return}const X={date:ti,time:Ci,id:Date.now().toString()};Ai(Ie=>[...Ie,X]),bs(""),Wi("")},Yr=X=>{Ai(Ie=>Ie.filter(Me=>Me.id!==X))},Wr=async()=>{try{await rr(Ft(Xe,"properties",Ct),{availableVisitSlots:Dn}),Ne(X=>X.map(Ie=>Ie.id===Ct?{...Ie,availableVisitSlots:Dn}:Ie)),De.success("Horarios de visita guardados."),Fe(!1)}catch(X){console.error("Error saving slots:",X),De.error("Error al guardar horarios.")}},Va=(X,Ie=1200,Me=.8)=>new Promise(je=>{if(X.size<200*1024){je(X);return}const qe=new FileReader;qe.onload=tt=>{const lt=new Image;lt.onload=()=>{const Jt=document.createElement("canvas");let bn=lt.width,gn=lt.height;bn>Ie&&(gn=Math.round(gn*Ie/bn),bn=Ie),Jt.width=bn,Jt.height=gn,Jt.getContext("2d").drawImage(lt,0,0,bn,gn),Jt.toBlob(Qo=>{const Fs=new File([Qo],X.name,{type:"image/jpeg",lastModified:Date.now()});je(Fs)},"image/jpeg",Me)},lt.src=tt.target.result},qe.readAsDataURL(X)}),ni=async X=>{const Ie=Array.from(X.target.files),Me=Ie.map(qe=>URL.createObjectURL(qe));ye(qe=>[...qe,...Me]);const je=await Promise.all(Ie.map(qe=>Va(qe)));F(qe=>[...qe,...je])},nn=X=>{if(Se[X].startsWith("blob:")){const Me=Se.slice(0,X).filter(je=>je.startsWith("blob:")).length;F(je=>je.filter((qe,tt)=>tt!==Me))}ye(Me=>Me.filter((je,qe)=>qe!==X))},Kn=X=>{_(X.id),pe({title:X.title,description:X.description,type:X.type,currency:X.currency||"USD",price:X.price,category:X.category,location:X.location,footage:X.footage,bedrooms:X.bedrooms||"",bathrooms:X.bathrooms||"",antiquityType:X.antiquityType||"estreno",antiquityYears:X.antiquityYears||"",lat:X.lat||"",lng:X.lng||"",antiquity:X.antiquity||"estreno",floor:X.floor||"",elevator:X.elevator||!1,parking:X.parking||!1,isExclusive:X.isExclusive||!1,isInBuilding:X.isInBuilding||!1,isDuplex:X.isDuplex||!1,furnished:X.furnished||!1,pool:X.pool||!1,gym:X.gym||!1,pool:X.pool||!1,gym:X.gym||!1,security:X.security||!1,exchangeRate:X.exchangeRate||3.8}),ye(X.images||[]),F([]),v("properties"),window.scrollTo({top:0,behavior:"smooth"})},$t=()=>{_(null),pe({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,pool:!1,gym:!1,security:!1,exchangeRate:3.8}),ye([]),F([])},Xi=async(X,Ie=!1)=>{X.preventDefault(),s(!0);try{const Me=K.map(async qe=>{const tt=Hg(Fg,`properties/${n.uid}/${Date.now()}_${qe.name}`),lt=await Bg(tt,qe);return await qg(lt.ref)}),je=await Promise.all(Me);if(h){const qe={...W,price:parseFloat(W.price),footage:parseFloat(W.footage),bedrooms:W.category==="construido"?parseInt(W.bedrooms):0,bathrooms:W.category==="construido"?parseInt(W.bathrooms):0,agentPhone:e.phoneNumber||"",agentPhotoURL:e.photoURL||""};je.length>0&&(qe.images=[...Se.filter(tt=>tt.startsWith("http")),...je]),Ne(tt=>tt.map(lt=>lt.id===h?{...lt,...qe}:lt)),De.success("Propiedad actualizada con xito!"),_(null),s(!1),rr(Ft(Xe,"properties",h),qe).catch(tt=>{console.error("Error updating property:",tt),De.error("Error al sincronizar los cambios."),Ri()});return}else{const qe=Ie?"borrador":"disponible",tt=new Date,lt={...W,agentId:n.uid,agentName:e.displayName||"Agente",agentPhone:e.phoneNumber||"",agentPhotoURL:e.photoURL||"",images:je,createdAt:tt,status:qe,views:0,isPromoted:!1,price:parseFloat(W.price),footage:parseFloat(W.footage),bedrooms:W.category==="construido"?parseInt(W.bedrooms):0,bathrooms:W.category==="construido"?parseInt(W.bathrooms):0},Jt=`temp_${Date.now()}`;Ne(bn=>[{id:Jt,...lt,createdAt:{seconds:Math.floor(tt.getTime()/1e3)}},...bn]),De.success(Ie?"Propiedad guardada como borrador.":"Propiedad publicada con xito!"),pe({title:"",description:"",type:"venta",currency:"USD",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:"",antiquity:"estreno",isExclusive:!1,isInBuilding:!1,floor:"",isDuplex:!1,parking:!1,elevator:!1,furnished:!1,pool:!1,gym:!1,security:!1,exchangeRate:3.8}),F([]),ye([]),_(null),s(!1),zl(vn(Xe,"properties"),lt).then(bn=>{Ne(gn=>gn.map(On=>On.id===Jt?{...On,id:bn.id}:On))}).catch(bn=>{console.error("Error creating property:",bn),Ne(gn=>gn.filter(On=>On.id!==Jt)),De.error("Error al guardar la propiedad en el servidor.")});return}}catch(Me){console.error("Error adding property: ",Me),De.error("Hubo un error al guardar la propiedad.")}finally{s(!1)}};D.useEffect(()=>{if(e?.role!=="superadmin")return;(async()=>{try{const Ie=Vs(vn(Xe,"activation_codes"),wa("code","==","AGENT2024"));(await ar(Ie)).empty&&await zl(vn(Xe,"activation_codes"),{code:"AGENT2024",used:!1,createdAt:new Date,type:"standard"})}catch{console.debug("Skipping code creation (not authorized)")}})()},[e]);const pr=e?.isActivated;return f.jsxs("div",{className:"min-h-screen bg-gray-50 pt-28 pb-12 px-6",children:[f.jsxs("div",{className:"container mx-auto max-w-6xl",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold font-[Montserrat] text-gray-800 mb-6",children:"Panel de Agente"}),f.jsxs("div",{className:"flex flex-wrap gap-4 border-b border-gray-200",children:[f.jsx("button",{onClick:()=>v("properties"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="properties"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mis Propiedades"}),f.jsx("button",{onClick:()=>v("inquiries"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="inquiries"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Visitas Agendadas"}),f.jsx("button",{onClick:()=>v("tips"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="tips"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Tips Inmobiliarios"}),f.jsx("button",{onClick:()=>v("profile"),className:`pb-3 px-4 text-sm font-bold transition border-b-2 ${p==="profile"?"border-[#fc7f51] text-[#fc7f51]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Mi Perfil"})]})]}),pr?f.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[p==="properties"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 h-fit",children:[f.jsx("div",{className:"bg-[#16151a] p-6 text-white",children:f.jsx("h2",{className:"text-xl font-bold",children:h?"Editar Propiedad":"Nueva Propiedad"})}),f.jsxs("form",{onSubmit:X=>Xi(X,!1),className:"p-8 space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),f.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none uppercase",placeholder:"Ej: Departamento en Miraflores",value:W.title,onChange:X=>pe({...W,title:X.target.value.toUpperCase()})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),f.jsxs("div",{className:"flex",children:[f.jsxs("select",{className:"w-24 px-2 py-3 rounded-l-lg border border-r-0 border-gray-200 bg-gray-50 text-sm font-bold",value:W.currency,onChange:X=>pe({...W,currency:X.target.value}),children:[f.jsx("option",{value:"USD",children:"USD"}),f.jsx("option",{value:"PEN",children:"PEN"})]}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-r-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"0.00",value:W.price,onChange:X=>pe({...W,price:X.target.value})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operacin"}),f.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:W.type,onChange:X=>pe({...W,type:X.target.value}),children:[f.jsx("option",{value:"venta",children:"Venta"}),f.jsx("option",{value:"alquiler",children:"Alquiler"}),f.jsx("option",{value:"alquiler",children:"Anticresis"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),f.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:W.category,onChange:X=>pe({...W,category:X.target.value}),children:[f.jsx("option",{value:"construido",children:"Construido"}),f.jsx("option",{value:"terreno",children:"Terreno"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metraje (m)"}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"120",value:W.footage,onChange:X=>pe({...W,footage:X.target.value})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Antigedad"}),f.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:W.antiquity,onChange:X=>pe({...W,antiquity:X.target.value}),children:[f.jsx("option",{value:"estreno",children:"Estreno"}),f.jsx("option",{value:"preventa",children:"Pre-Venta"}),f.jsx("option",{value:"up_to_5",children:"Hasta 5 aos"}),f.jsx("option",{value:"5_to_10",children:"5 a 10 aos"}),f.jsx("option",{value:"more_than_10",children:"Ms de 10 aos"}),f.jsx("option",{value:"more_than_20",children:"Ms de 20 aos"})]})]}),f.jsxs("div",{className:"flex flex-col gap-3 pt-8",children:[f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:W.isExclusive,onChange:X=>pe({...W,isExclusive:X.target.checked})}),f.jsx("span",{className:"font-bold text-[#fc7f51]",children:"Es Exclusiva?"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:W.parking,onChange:X=>pe({...W,parking:X.target.checked})}),f.jsx("span",{className:"font-medium text-gray-700",children:"Tiene Cochera"})]}),W.category==="construido"&&f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:W.isInBuilding,onChange:X=>pe({...W,isInBuilding:X.target.checked})}),f.jsx("span",{className:"font-medium text-gray-700",children:"Es Edificio / Departamento"})]})]})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-3 uppercase tracking-wider",children:"Caractersticas Adicionales"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.elevator,onChange:X=>pe({...W,elevator:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Ascensor"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.furnished,onChange:X=>pe({...W,furnished:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amoblado"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.pool,onChange:X=>pe({...W,pool:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Piscina"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.gym,onChange:X=>pe({...W,gym:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Gimnasio"})]}),f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-[#fc7f51]",checked:W.security,onChange:X=>pe({...W,security:X.target.checked})}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Seguridad 24/7"})]})]})]}),W.category==="construido"&&f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaciones"}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:W.bedrooms,onChange:X=>pe({...W,bedrooms:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Baos"}),f.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:W.bathrooms,onChange:X=>pe({...W,bathrooms:X.target.value})})]})]}),W.category==="construido"&&W.isInBuilding&&f.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-orange-50 p-4 rounded-xl border border-orange-100",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piso"}),f.jsx("input",{type:"text",placeholder:"Ej. 5",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none bg-white",value:W.floor,onChange:X=>pe({...W,floor:X.target.value})})]}),f.jsx("div",{className:"flex items-center pt-8",children:f.jsxs("label",{className:"flex items-center cursor-pointer gap-2",children:[f.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-[#fc7f51]",checked:W.isDuplex,onChange:X=>pe({...W,isDuplex:X.target.checked})}),f.jsx("span",{className:"font-medium text-gray-700",children:"Es Dplex?"})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-grow",children:[f.jsx(Gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),f.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition uppercase",placeholder:"Direccin o Link Maps",value:W.location,onChange:async X=>{const Ie=X.target.value;let Me=null,je=null;const qe=Ie.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(qe)Me=parseFloat(qe[1]),je=parseFloat(qe[2]);else{const tt=Ie.match(/[?&](?:q|query|ll)=(-?\d+\.\d+),(-?\d+\.\d+)/);if(tt)Me=parseFloat(tt[1]),je=parseFloat(tt[2]);else{const lt=Ie.match(/^(-?\d+\.\d+),\s*(-?\d+\.\d+)$/);lt&&(Me=parseFloat(lt[1]),je=parseFloat(lt[2]))}}if(pe(tt=>({...tt,location:Ie,...Me&&je?{lat:Me,lng:je}:{}})),Me&&je)try{const lt=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Me}&lon=${je}`)).json();lt&&lt.display_name?(pe(Jt=>({...Jt,location:lt.display_name,lat:Me,lng:je})),De.success("Direccin detectada automticamente.")):De.success("Coordenadas detectadas del enlace!")}catch(tt){console.error("Geocoding error:",tt),De.success("Coordenadas detectadas del enlace!")}}})]}),f.jsx("button",{type:"button",onClick:()=>c(!0),className:"bg-[#262626] text-white px-4 rounded-lg hover:bg-black transition flex items-center justify-center",title:"Buscar en Mapa",children:f.jsx(Gr,{className:"w-5 h-5"})})]})]}),o&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-[600px] flex flex-col overflow-hidden relative",children:[f.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Seleccionar Ubicacin"}),f.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"flex-grow p-0",children:f.jsx(z6,{onConfirm:X=>{pe({...W,location:X.address||`${X.lat}, ${X.lng}`,lat:X.lat,lng:X.lng}),c(!1)}})})]})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),f.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-24 resize-none",value:W.description,onChange:X=>pe({...W,description:X.target.value})})]}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[f.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:ni,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),f.jsx(Zg,{className:"h-6 w-6 text-[#fc7f51] mx-auto mb-2"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Subir fotos"})]}),Se.length>0&&f.jsx("div",{className:"grid grid-cols-4 gap-2",children:Se.map((X,Ie)=>f.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[f.jsx("img",{src:X,alt:"",className:"w-full h-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>nn(Ie),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5",children:f.jsx(Dr,{className:"w-3 h-3"})})]},Ie))}),f.jsxs("div",{className:"flex gap-2",children:[h&&f.jsx("button",{type:"button",onClick:$t,className:"flex-1 bg-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-300 transition",children:"Cancelar"}),!h&&f.jsx("button",{type:"button",disabled:t,onClick:X=>Xi(X,!0),className:"flex-1 bg-amber-100 text-amber-700 font-bold py-3 rounded-xl hover:bg-amber-200 transition flex items-center justify-center gap-2 border border-amber-300",children:t?f.jsx(Bl,{className:"animate-spin"}):" Borrador"}),f.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2",children:t?f.jsx(Bl,{className:"animate-spin"}):h?"Actualizar Propiedad":" Publicar"})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Propiedades"}),f.jsxs("span",{className:"bg-orange-100 text-[#fc7f51] px-3 py-1 rounded-full text-sm font-bold",children:[ae.length," Total"]})]}),ee?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx(Bl,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):ae.length===0?f.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No has publicado ninguna propiedad an."}):f.jsx("div",{className:"grid gap-4",children:ae.map(X=>f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"w-full sm:w-24 h-48 sm:h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:f.jsx("img",{src:X.images?.[0]||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Sin+Img",loading:"lazy",alt:X.title,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-grow",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:X.title}),f.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${X.status==="disponible"?"bg-green-100 text-green-700":X.status==="borrador"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-500"}`,children:X.status==="borrador"?" Borrador":X.status})]}),f.jsx("p",{className:"text-gray-500 text-xs mt-1",children:X.location}),f.jsxs("p",{className:"text-[#fc7f51] font-bold text-sm mt-1",children:[X.currency==="USD"?"$":"S/."," ",X.price?.toLocaleString("en-US",{maximumFractionDigits:0})]}),f.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[X.status==="borrador"?f.jsx("button",{onClick:()=>mr(X.id),className:"px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 sm:flex-none text-center bg-[#fc7f51] text-white hover:bg-[#e56b3e] shadow-sm",children:" Publicar"}):f.jsx("button",{onClick:()=>Hs(X.id,X.status),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 sm:flex-none text-center ${X.status==="disponible"?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:X.status==="disponible"?"Marcar Vendido/Alquilado":"Marcar Disponible"}),f.jsx("button",{onClick:()=>Kn(X),className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-blue-100 transition flex-1 sm:flex-none",children:"Editar"}),f.jsx("button",{onClick:()=>Qi(X),className:"bg-purple-50 text-purple-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-purple-100 transition flex-1 sm:flex-none",title:"Gestionar horarios de visita",children:f.jsx(iu,{className:"w-4 h-4 mx-auto"})}),f.jsx("button",{onClick:()=>Xt(X.id),className:"bg-red-50 text-red-600 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-red-100 transition flex-1 sm:flex-none",children:f.jsx(Ly,{className:"w-4 h-4 mx-auto"})})]})]})]},X.id))})]})]}),p==="profile"&&f.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-2xl shadow-xl",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[f.jsx(Rd,{className:"w-6 h-6 text-[#fc7f51]"})," Editar Perfil"]}),f.jsxs("form",{onSubmit:Oa,className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col items-center mb-6",children:[f.jsxs("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 border-2 border-white shadow-md relative group",children:[f.jsx("img",{src:be?URL.createObjectURL(be):j.photoURL||n.photoURL||"https://placehold.co/150x150/e2e8f0/94a3b8?text=Perfil",alt:"Profile",className:"w-full h-full object-cover"}),f.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer transition",children:[f.jsx(Zg,{className:"w-6 h-6 text-white"}),f.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:X=>X.target.files?.[0]&&Re(X.target.files[0])})]})]}),f.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Click para cambiar foto"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Publico"}),f.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.displayName,onChange:X=>z({...j,displayName:X.target.value}),required:!0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este nombre aparecer en todas tus propiedades publicadas."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),f.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.email,onChange:X=>z({...j,email:X.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),f.jsx("input",{type:"tel",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:j.phoneNumber,onChange:X=>z({...j,phoneNumber:X.target.value})})]}),f.jsxs("div",{className:"pt-4 border-t border-gray-100 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea Actual"}),f.jsx("input",{type:"password",autoComplete:"current-password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Requerida para cambiar contrasea",value:j.currentPassword||"",onChange:X=>z({...j,currentPassword:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea (Opcional)"}),f.jsx("input",{type:"password",autoComplete:"new-password",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",placeholder:"Dejar vaca para mantener la actual",value:j.newPassword||"",onChange:X=>z({...j,newPassword:X.target.value})}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo 6 caracteres."})]})]}),f.jsx("button",{type:"submit",disabled:k,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-xl hover:bg-[#e56b3e] transition disabled:opacity-70",children:k?"Guardando...":"Guardar Cambios"})]})]}),p==="inquiries"&&f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Visitas Agendadas"}),me.length===0?f.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No tienes visitas programadas."}):f.jsx("div",{className:"space-y-4",children:me.map(X=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-gray-800 text-lg uppercase",children:X.propertyTitle}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(Rd,{className:"w-4 h-4 text-[#fc7f51]"}),f.jsx("span",{className:"font-medium text-gray-700",children:X.clientName})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-gray-500",children:[f.jsx(ev,{className:"w-3 h-3"})," ",X.clientPhone]})]}),f.jsxs("div",{className:"text-left sm:text-right bg-orange-50 px-4 py-2 rounded-lg border border-orange-100 w-full sm:w-auto",children:[f.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:"Fecha de Visita"}),f.jsx("div",{className:"font-bold text-[#fc7f51] text-lg",children:X.visitDate?new Date(X.visitDate+"T00:00:00").toLocaleDateString("es-PE"):"Por definir"}),f.jsx("div",{className:"text-sm font-medium text-gray-700",children:X.visitTime||"Hora por definir"})]})]},X.id))})]}),p==="tips"&&f.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[f.jsx("div",{className:"md:col-span-1",children:f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-24",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:I?"Editar Tip":"Nuevo Tip"}),f.jsxs("form",{onSubmit:Kr,className:"space-y-4",children:[f.jsx("input",{type:"text",placeholder:"Ttulo del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none",value:ne.title,onChange:X=>te({...ne,title:X.target.value}),required:!0}),f.jsx("textarea",{placeholder:"Contenido del consejo...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none h-32 resize-none",value:ne.content,onChange:X=>te({...ne,content:X.target.value}),required:!0}),f.jsxs("div",{className:"border border-dashed border-gray-200 rounded-lg p-4 text-center cursor-pointer relative hover:bg-gray-50 transition group",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:X=>X.target.files?.[0]&&H(X.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer z-10 w-full h-full"}),_e?f.jsxs("div",{className:"relative z-0",children:[f.jsx("span",{className:"text-sm text-green-600 block mb-1 font-medium",children:"Imagen seleccionada"}),f.jsx("p",{className:"text-xs text-gray-500 truncate",children:_e.name})]}):f.jsxs("div",{className:"relative z-0",children:[f.jsx(Zg,{className:"w-6 h-6 text-gray-400 mx-auto mb-2 group-hover:text-[#fc7f51] transition"}),f.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Click para subir imagen (Opcional)"})]})]}),f.jsx("button",{type:"submit",disabled:$,className:"w-full bg-[#fc7f51] text-white font-bold py-2 rounded-lg hover:bg-[#e56b3e] transition",children:I?"Actualizar":"Publicar"}),I&&f.jsx("button",{type:"button",onClick:()=>{Z(null),te({title:"",content:""})},className:"w-full bg-gray-100 text-gray-600 font-bold py-2 rounded-lg hover:bg-gray-200 transition",children:"Cancelar"})]})]})}),f.jsxs("div",{className:"md:col-span-2 space-y-4",children:[f.jsxs("h3",{className:"font-bold text-gray-800 mb-4",children:["Tips Publicados (",B.length,")"]}),B.length===0?f.jsx("p",{className:"text-gray-500 text-center py-10",children:"No has publicado tips an."}):B.map(X=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 relative group",children:[X.imageUrl&&f.jsx("div",{className:"h-40 w-full mb-4 rounded-lg overflow-hidden bg-gray-100 border border-gray-50",children:f.jsx("img",{src:X.imageUrl,alt:X.title,className:"w-full h-full object-cover"})}),f.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:X.title}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:X.content}),f.jsx("div",{className:"text-xs text-gray-400",children:X.createdAt?.seconds?new Date(X.createdAt.seconds*1e3).toLocaleDateString():"Reciente"}),f.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition",children:[f.jsx("button",{onClick:()=>qs(X),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:f.jsx(PD,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Pn(X.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:f.jsx(Ly,{className:"w-4 h-4"})})]})]},X.id))]})]})]}):f.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:f.jsx(ZD,{className:"w-8 h-8 text-[#fc7f51]"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cuenta Inactiva"}),f.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Ingresa tu cdigo de activacin para acceder al panel."}),f.jsxs("form",{onSubmit:Ii,className:"w-full space-y-4",children:[f.jsx("input",{type:"text",value:w,onChange:X=>E(X.target.value.toUpperCase()),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition text-center font-mono text-lg tracking-widest uppercase",placeholder:"CDIGO",required:!0}),f.jsx("button",{type:"submit",disabled:C,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition disabled:opacity-70",children:C?"Verificando...":"Activar Cuenta"})]})]})]}),Ae&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden relative",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Gestionar Horarios de Visita"}),f.jsx("p",{className:"text-sm text-gray-500 mt-1 uppercase",children:Yi})]}),f.jsx("button",{onClick:()=>Fe(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:f.jsx(Dr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"flex gap-2 items-end",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Fecha"}),f.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none text-sm",value:ti,onChange:X=>bs(X.target.value)})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Hora"}),f.jsx("input",{type:"time",className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-[#fc7f51] outline-none text-sm",value:Ci,onChange:X=>Wi(X.target.value)})]}),f.jsx("button",{onClick:Wo,className:"bg-[#fc7f51] text-white px-4 py-2 rounded-lg hover:bg-[#e56b3e] transition font-bold text-sm",children:f.jsx(oO,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:Dn.length===0?f.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"No hay horarios disponibles. Agrega fechas y horas."}):Dn.sort((X,Ie)=>new Date(X.date+"T"+X.time)-new Date(Ie.date+"T"+Ie.time)).map(X=>f.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-2.5 rounded-lg border border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(iu,{className:"w-4 h-4 text-[#fc7f51]"}),f.jsx("span",{className:"font-medium text-gray-700 text-sm",children:new Date(X.date+"T00:00:00").toLocaleDateString("es-PE",{weekday:"short",day:"numeric",month:"short"})}),f.jsxs("span",{className:"text-gray-500 text-sm flex items-center gap-1",children:[f.jsx(Kf,{className:"w-3 h-3"})," ",X.time]})]}),f.jsx("button",{onClick:()=>Yr(X.id),className:"text-red-400 hover:text-red-600 transition",children:f.jsx(Dr,{className:"w-4 h-4"})})]},X.id))}),f.jsxs("button",{onClick:Wr,className:"w-full bg-[#fc7f51] text-white font-bold py-3 rounded-lg hover:bg-[#e56b3e] transition",children:["Guardar Horarios (",Dn.length,")"]})]})]})})]})},B6=()=>{const{user:n}=Da(),[e,t]=D.useState([]),[s,o]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const h=Vs(vn(Xe,"properties")),p=(await ar(h)).docs.map(v=>({id:v.id,...v.data()}));console.log("ClientDashboard Fetched properties:",p),t(p)}catch(h){console.error("Error fetching properties:",h)}finally{o(!1)}})()},[n]),f.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:f.jsxs("div",{className:"container mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:["Hola, ",n?.displayName||"Usuario"]}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Bienvenido a tu panel personal. Aqu encontrars las propiedades que te interesan."})]}),f.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1",children:[f.jsx("button",{className:"px-4 py-2 text-[#fc7f51] border-b-2 border-[#fc7f51] font-bold",children:"Mis Favoritos"}),f.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Vistos Recientemente"}),f.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Alertas"})]}),s?f.jsx("div",{className:"flex justify-center py-20",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#fc7f51]"})}):e.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(c=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden group border border-gray-100",children:[f.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[f.jsx("img",{src:c.images?.[0]||"https://images.unsplash.com/photo-1600596542815-9ad4dc2f2072?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),f.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500",children:f.jsx(Wf,{className:"w-5 h-5 fill-current"})}),f.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider",children:c.type})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:c.title}),f.jsxs("span",{className:"text-[#fc7f51] font-bold text-lg",children:[c.currency==="USD"?"$":"S/."," ",c.price?.toLocaleString("en-US",{maximumFractionDigits:0})]})]}),f.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.location}),f.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-4",children:[c.category==="construido"?f.jsxs(f.Fragment,{children:[f.jsxs("span",{children:[c.bedrooms," Hab"]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[c.bathrooms," Baos"]}),f.jsx("span",{children:""})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{children:"Terreno"}),f.jsx("span",{children:""})]}),f.jsxs("span",{children:[c.footage," m"]})]}),f.jsx(gt,{to:`/properties/${c.id}`,className:"mt-4 block w-full py-3 bg-gray-50 hover:bg-[#fc7f51] hover:text-white text-gray-600 font-bold text-center rounded-xl transition text-sm",children:"Ver Detalles"})]})]},c.id))}):f.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[f.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:f.jsx(Wf,{className:"w-8 h-8 text-[#fc7f51]"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"An no tienes favoritos"}),f.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explora nuestro catlogo y guarda las propiedades que ms te gusten para verlas aqu."}),f.jsxs(gt,{to:"/",className:"inline-flex items-center gap-2 bg-[#fc7f51] text-white px-8 py-3 rounded-full font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:[f.jsx(Ql,{className:"w-5 h-5"}),"Explorar Propiedades"]})]})]})})},q6=()=>{const[n,e]=D.useState({totalAgents:0,totalProperties:0,activeCodes:0}),[t,s]=D.useState([]),[o,c]=D.useState(!0),[h,_]=D.useState(!1),[p,v]=D.useState(null),[w,E]=D.useState([]),[C,R]=D.useState(!1),[j,z]=D.useState(!1),k=async()=>{try{const te=Vs(vn(Xe,"users"),wa("role","==","agente")),_e=await Gw(te),H=await Gw(vn(Xe,"properties")),I=Vs(vn(Xe,"activation_codes"),G_("createdAt","desc")),$=(await ar(I)).docs.map(q=>({id:q.id,...q.data()}));s($),e({totalAgents:_e.data().count,totalProperties:H.data().count,activeCodes:$.filter(q=>!q.used).length})}catch(te){console.error("Error fetching admin stats:",te),De.error("Error al cargar estadsticas")}finally{c(!1)}};D.useEffect(()=>{k()},[]);const V=async()=>{_(!0);try{const te="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let _e="";for(let H=0;H<8;H++)_e+=te.charAt(Math.floor(Math.random()*te.length));await zl(vn(Xe,"activation_codes"),{code:_e,used:!1,createdAt:new Date,usedBy:null,usedAt:null}),De.success("Cdigo generado correctamente!"),k()}catch(te){console.error("Error generating code:",te),De.error("No se pudo generar el cdigo")}finally{_(!1)}},B=te=>{navigator.clipboard.writeText(te),De.success("Cdigo copiado al portapapeles")},G=async te=>{if(te){R(!0),z(!0),E([]);try{const _e=await Do(Ft(Xe,"users",te));if(_e.exists())v({id:_e.id,..._e.data()});else{v(null),De.error("Usuario no encontrado (probablemente ya eliminado).");return}const H=Vs(vn(Xe,"properties"),wa("agentId","==",te)),Z=(await ar(H)).docs.map($=>({id:$.id,...$.data()}));E(Z)}catch(_e){console.error("Error details:",_e),De.error("Error al cargar detalles")}finally{R(!1)}}},ne=async()=>{if(!(!p||!window.confirm(`Ests seguro de que quieres eliminar a ${p.displayName||"este usuario"} y todas sus propiedades? Esta accin no se puede deshacer.`)))try{const te=w.map(_e=>$f(Ft(Xe,"properties",_e.id)));await Promise.all(te),await $f(Ft(Xe,"users",p.id)),De.success("Usuario y sus propiedades eliminados."),z(!1),k()}catch(te){console.error("Error deleting user:",te),De.error("Error al eliminar usuario.")}};return o?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx($g,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):f.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:[f.jsxs("div",{className:"container mx-auto max-w-6xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:"Panel Super Admin"}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Gestin general de la plataforma"})]}),f.jsx("button",{onClick:k,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition shadow-sm",children:f.jsx($g,{className:"w-5 h-5 text-gray-500"})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[f.jsx("div",{className:"bg-orange-50 p-4 rounded-xl",children:f.jsx(OS,{className:"w-8 h-8 text-[#fc7f51]"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Agentes Registrados"}),f.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalAgents})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[f.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:f.jsx(LS,{className:"w-8 h-8 text-blue-500"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Inmuebles Publicados"}),f.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.totalProperties})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[f.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:f.jsx(gd,{className:"w-8 h-8 text-green-500"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Cdigos Disponibles"}),f.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:n.activeCodes})]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[f.jsxs("div",{className:"p-8 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cdigos de Activacin"}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Genera cdigos nicos para activar cuentas de agentes."})]}),f.jsxs("button",{onClick:V,disabled:h,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/20 transition flex items-center gap-2 disabled:opacity-70",children:[h?f.jsx($g,{className:"w-5 h-5 animate-spin"}):f.jsx(gd,{className:"w-5 h-5"}),"Generar Nuevo Cdigo"]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CDIGO"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ESTADO"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CREADO EL"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"USADO POR"}),f.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ACCIONES"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-50",children:t.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:"5",className:"px-8 py-8 text-center text-gray-400",children:"No hay cdigos generados an."})}):t.map(te=>f.jsxs("tr",{className:"hover:bg-gray-50/50 transition",children:[f.jsx("td",{className:"px-8 py-4",children:f.jsx("span",{className:"font-mono font-bold text-lg text-gray-700 tracking-wider",children:te.code})}),f.jsx("td",{className:"px-8 py-4",children:te.used?f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Usado"}):f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Disponible"})}),f.jsx("td",{className:"px-8 py-4 text-sm text-gray-500",children:te.createdAt?.toDate().toLocaleDateString()}),f.jsx("td",{className:"px-8 py-4 text-sm text-gray-500 relative group cursor-pointer",onClick:()=>te.usedBy&&G(te.usedBy),children:te.usedBy?f.jsxs("div",{className:"flex items-center gap-2 hover:text-[#fc7f51] transition",children:[f.jsx("span",{children:te.usedBy}),f.jsx(Yf,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}):"-"}),f.jsx("td",{className:"px-8 py-4",children:te.used?f.jsx("button",{onClick:()=>G(te.usedBy),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition",title:"Ver Detalles",children:f.jsx(Yf,{className:"w-5 h-5"})}):f.jsx("button",{onClick:()=>B(te.code),className:"text-[#fc7f51] hover:text-[#e56b3e] p-2 hover:bg-orange-50 rounded-lg transition",title:"Copiar cdigo",children:f.jsx(ED,{className:"w-5 h-5"})})})]},te.id))})]})})]})]}),j&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Detalles del Agente"}),f.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-gray-200 rounded-full transition",children:f.jsx(Dr,{className:"w-5 h-5 text-gray-500"})})]}),f.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:C?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx(Bl,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):p?f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-bold text-gray-800",children:p.displayName||"Sin Nombre"}),f.jsx("p",{className:"text-gray-500",children:p.email}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:p.phoneNumber||"Sin Telfono"}),f.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-orange-100 text-[#fc7f51] text-xs font-bold rounded-lg uppercase",children:p.role})]}),f.jsxs("button",{onClick:ne,className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition",children:[f.jsx(Ly,{className:"w-4 h-4"}),"Eliminar Usuario"]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:["Propiedades Publicadas (",w.length,")"]}),w.length===0?f.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Este usuario no tiene propiedades."}):f.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map(te=>f.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex gap-3 hover:bg-gray-50 transition",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:te.images?.[0]&&f.jsx("img",{src:te.images[0],className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:te.title}),f.jsx("p",{className:"text-xs text-gray-500 truncate",children:te.location}),f.jsxs("p",{className:"text-[#fc7f51] font-bold text-xs mt-1",children:["$",te.price?.toLocaleString()]})]})]},te.id))})]})]}):f.jsx("p",{className:"text-center text-red-500",children:"No se pudo cargar la informacin."})})]})})]})},H6=()=>{const{user:n}=Da(),[e,t]=D.useState(!1),s=async()=>{t(!0);try{const c=[{title:"Modern Apartment in Downtown",price:25e4,location:"Downtown City Center",type:"venta",category:"construido",bedrooms:2,bathrooms:2,footage:85,description:"Stunning view of the city.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"]},{title:"Cozy Family Home",price:1500,location:"Suburban Area",type:"alquiler",category:"construido",bedrooms:3,bathrooms:2,footage:120,description:"Ideal for a small family.",status:"disponible",agentId:n?.uid||"demo-agent",agentName:n?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1560184897-ae75f418493e"]}];for(const h of c)await zl(vn(Xe,"properties"),h);De.success("Propiedades de demostracin creadas!")}catch(c){console.error("Error creating demo props:",c),De.error("Error al crear propiedades demo")}finally{t(!1)}},o=async()=>{if(!n){De.error("Debes iniciar sesin primero.");return}t(!0);try{const c=Ft(Xe,"users",n.uid);await rr(c,{role:"superadmin",isActivated:!0}),De.success(`Rol actualizado! Ahora eres Super Admin: ${n.email}`),setTimeout(()=>window.location.reload(),1500)}catch(c){console.error("Error making superadmin:",c),De.error("Error al actualizar rol")}finally{t(!1)}};return f.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 space-y-8",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg border border-gray-100 text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Configuracin Inicial"}),f.jsx("p",{className:"text-gray-500 mb-8",children:"Usa estas herramientas para inicializar tu base de datos."}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"1. Configurar Admin"}),f.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Convierte tu usuario actual (",n?.email||"No logueado",") en Super Admin."]}),f.jsx("button",{onClick:o,disabled:e||!n,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Hacerme Super Admin"})]}),f.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[f.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"2. Datos de Prueba"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crea propiedades de ejemplo para ver cmo luce el dashboard."}),f.jsx("button",{onClick:s,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Crear Propiedades Demo"})]})]}),f.jsx("p",{className:"mt-8 text-xs text-gray-400",children:"Nota: Esta pgina debe ser eliminada o asegurada antes de produccin."})]})})};function F6(){const e=Bs().pathname==="/superadmin";return f.jsx($4,{children:f.jsxs("div",{className:"flex flex-col min-h-screen",children:[!e&&f.jsx(d6,{}),f.jsx("main",{className:"flex-grow",children:f.jsxs(IA,{children:[f.jsx(di,{path:"/",element:f.jsx(PO,{})}),f.jsx(di,{path:"/about",element:f.jsx(c6,{})}),f.jsx(di,{path:"/contact",element:f.jsx(f6,{})}),f.jsx(di,{path:"/properties",element:f.jsx(d1,{})}),f.jsx(di,{path:"/properties/:id",element:f.jsx(l6,{})}),f.jsx(di,{path:"/search",element:f.jsx(d1,{})}),f.jsx(di,{path:"/tips",element:f.jsx(m6,{})}),f.jsx(di,{path:"/tips/:id",element:f.jsx(p6,{})}),f.jsx(di,{path:"/login",element:f.jsx(g6,{})}),f.jsx(di,{path:"/register",element:f.jsx(y6,{})}),f.jsx(di,{path:"/forgot-password",element:f.jsx(_6,{})}),f.jsx(di,{path:"/setup",element:f.jsx(H6,{})}),f.jsx(di,{path:"/agent-dashboard",element:f.jsx(Gg,{allowedRoles:["agente"],children:f.jsx(U6,{})})}),f.jsx(di,{path:"/client-dashboard",element:f.jsx(Gg,{allowedRoles:["cliente"],children:f.jsx(B6,{})})}),f.jsx(di,{path:"/superadmin",element:f.jsx(Gg,{allowedRoles:["superadmin"],children:f.jsx(q6,{})})})]})}),!e&&f.jsx(h6,{})]})})}jN.createRoot(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(tC,{children:f.jsx(F6,{})})}));
