(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=t(l);fetch(l.href,h)}})();function $x(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Op={exports:{}},Nc={};var Q0;function H2(){if(Q0)return Nc;Q0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,l,h){var f=null;if(h!==void 0&&(f=""+h),l.key!==void 0&&(f=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:i,type:s,key:f,ref:l!==void 0?l:null,props:h}}return Nc.Fragment=e,Nc.jsx=t,Nc.jsxs=t,Nc}var W0;function F2(){return W0||(W0=1,Op.exports=H2()),Op.exports}var _=F2(),Dp={exports:{}},Ge={};var $0;function G2(){if($0)return Ge;$0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.iterator;function z(q){return q===null||typeof q!="object"?null:(q=I&&q[I]||q["@@iterator"],typeof q=="function"?q:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Z={};function se(q,ae,_e){this.props=q,this.context=ae,this.refs=Z,this.updater=_e||Y}se.prototype.isReactComponent={},se.prototype.setState=function(q,ae){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ae,"setState")},se.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function oe(){}oe.prototype=se.prototype;function ue(q,ae,_e){this.props=q,this.context=ae,this.refs=Z,this.updater=_e||Y}var we=ue.prototype=new oe;we.constructor=ue,G(we,se.prototype),we.isPureReactComponent=!0;var ge=Array.isArray;function Ie(){}var j={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function D(q,ae,_e){var ye=_e.ref;return{$$typeof:i,type:q,key:ae,ref:ye!==void 0?ye:null,props:_e}}function H(q,ae){return D(q.type,ae,q.props)}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===i}function F(q){var ae={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(_e){return ae[_e]})}var k=/\/+/g;function ke(q,ae){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):ae.toString(36)}function Bt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(Ie,Ie):(q.status="pending",q.then(function(ae){q.status==="pending"&&(q.status="fulfilled",q.value=ae)},function(ae){q.status==="pending"&&(q.status="rejected",q.reason=ae)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function re(q,ae,_e,ye,Te){var Ee=typeof q;(Ee==="undefined"||Ee==="boolean")&&(q=null);var Fe=!1;if(q===null)Fe=!0;else switch(Ee){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(q.$$typeof){case i:case e:Fe=!0;break;case A:return Fe=q._init,re(Fe(q._payload),ae,_e,ye,Te)}}if(Fe)return Te=Te(q),Fe=ye===""?"."+ke(q,0):ye,ge(Te)?(_e="",Fe!=null&&(_e=Fe.replace(k,"$&/")+"/"),re(Te,ae,_e,"",function(xr){return xr})):Te!=null&&(O(Te)&&(Te=H(Te,_e+(Te.key==null||q&&q.key===Te.key?"":(""+Te.key).replace(k,"$&/")+"/")+Fe)),ae.push(Te)),1;Fe=0;var Tt=ye===""?".":ye+":";if(ge(q))for(var Rt=0;Rt<q.length;Rt++)ye=q[Rt],Ee=Tt+ke(ye,Rt),Fe+=re(ye,ae,_e,Ee,Te);else if(Rt=z(q),typeof Rt=="function")for(q=Rt.call(q),Rt=0;!(ye=q.next()).done;)ye=ye.value,Ee=Tt+ke(ye,Rt++),Fe+=re(ye,ae,_e,Ee,Te);else if(Ee==="object"){if(typeof q.then=="function")return re(Bt(q),ae,_e,ye,Te);throw ae=String(q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function be(q,ae,_e){if(q==null)return q;var ye=[],Te=0;return re(q,ye,"","",function(Ee){return ae.call(_e,Ee,Te++)}),ye}function pe(q){if(q._status===-1){var ae=q._result;ae=ae(),ae.then(function(_e){(q._status===0||q._status===-1)&&(q._status=1,q._result=_e)},function(_e){(q._status===0||q._status===-1)&&(q._status=2,q._result=_e)}),q._status===-1&&(q._status=0,q._result=ae)}if(q._status===1)return q._result.default;throw q._result}var tt=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Se={map:be,forEach:function(q,ae,_e){be(q,function(){ae.apply(this,arguments)},_e)},count:function(q){var ae=0;return be(q,function(){ae++}),ae},toArray:function(q){return be(q,function(ae){return ae})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ge.Activity=C,Ge.Children=Se,Ge.Component=se,Ge.Fragment=t,Ge.Profiler=l,Ge.PureComponent=ue,Ge.StrictMode=s,Ge.Suspense=b,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(q){return j.H.useMemoCache(q)}},Ge.cache=function(q){return function(){return q.apply(null,arguments)}},Ge.cacheSignal=function(){return null},Ge.cloneElement=function(q,ae,_e){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ye=G({},q.props),Te=q.key;if(ae!=null)for(Ee in ae.key!==void 0&&(Te=""+ae.key),ae)!M.call(ae,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ae.ref===void 0||(ye[Ee]=ae[Ee]);var Ee=arguments.length-2;if(Ee===1)ye.children=_e;else if(1<Ee){for(var Fe=Array(Ee),Tt=0;Tt<Ee;Tt++)Fe[Tt]=arguments[Tt+2];ye.children=Fe}return D(q.type,Te,ye)},Ge.createContext=function(q){return q={$$typeof:f,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:h,_context:q},q},Ge.createElement=function(q,ae,_e){var ye,Te={},Ee=null;if(ae!=null)for(ye in ae.key!==void 0&&(Ee=""+ae.key),ae)M.call(ae,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Te[ye]=ae[ye]);var Fe=arguments.length-2;if(Fe===1)Te.children=_e;else if(1<Fe){for(var Tt=Array(Fe),Rt=0;Rt<Fe;Rt++)Tt[Rt]=arguments[Rt+2];Te.children=Tt}if(q&&q.defaultProps)for(ye in Fe=q.defaultProps,Fe)Te[ye]===void 0&&(Te[ye]=Fe[ye]);return D(q,Ee,Te)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(q){return{$$typeof:y,render:q}},Ge.isValidElement=O,Ge.lazy=function(q){return{$$typeof:A,_payload:{_status:-1,_result:q},_init:pe}},Ge.memo=function(q,ae){return{$$typeof:x,type:q,compare:ae===void 0?null:ae}},Ge.startTransition=function(q){var ae=j.T,_e={};j.T=_e;try{var ye=q(),Te=j.S;Te!==null&&Te(_e,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(Ie,tt)}catch(Ee){tt(Ee)}finally{ae!==null&&_e.types!==null&&(ae.types=_e.types),j.T=ae}},Ge.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ge.use=function(q){return j.H.use(q)},Ge.useActionState=function(q,ae,_e){return j.H.useActionState(q,ae,_e)},Ge.useCallback=function(q,ae){return j.H.useCallback(q,ae)},Ge.useContext=function(q){return j.H.useContext(q)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(q,ae){return j.H.useDeferredValue(q,ae)},Ge.useEffect=function(q,ae){return j.H.useEffect(q,ae)},Ge.useEffectEvent=function(q){return j.H.useEffectEvent(q)},Ge.useId=function(){return j.H.useId()},Ge.useImperativeHandle=function(q,ae,_e){return j.H.useImperativeHandle(q,ae,_e)},Ge.useInsertionEffect=function(q,ae){return j.H.useInsertionEffect(q,ae)},Ge.useLayoutEffect=function(q,ae){return j.H.useLayoutEffect(q,ae)},Ge.useMemo=function(q,ae){return j.H.useMemo(q,ae)},Ge.useOptimistic=function(q,ae){return j.H.useOptimistic(q,ae)},Ge.useReducer=function(q,ae,_e){return j.H.useReducer(q,ae,_e)},Ge.useRef=function(q){return j.H.useRef(q)},Ge.useState=function(q){return j.H.useState(q)},Ge.useSyncExternalStore=function(q,ae,_e){return j.H.useSyncExternalStore(q,ae,_e)},Ge.useTransition=function(){return j.H.useTransition()},Ge.version="19.2.4",Ge}var X0;function Bg(){return X0||(X0=1,Dp.exports=G2()),Dp.exports}var U=Bg();const sg=$x(U);var Lp={exports:{}},Ic={},Mp={exports:{}},kp={};var J0;function Z2(){return J0||(J0=1,(function(i){function e(re,be){var pe=re.length;re.push(be);e:for(;0<pe;){var tt=pe-1>>>1,Se=re[tt];if(0<l(Se,be))re[tt]=be,re[pe]=Se,pe=tt;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var be=re[0],pe=re.pop();if(pe!==be){re[0]=pe;e:for(var tt=0,Se=re.length,q=Se>>>1;tt<q;){var ae=2*(tt+1)-1,_e=re[ae],ye=ae+1,Te=re[ye];if(0>l(_e,pe))ye<Se&&0>l(Te,_e)?(re[tt]=Te,re[ye]=pe,tt=ye):(re[tt]=_e,re[ae]=pe,tt=ae);else if(ye<Se&&0>l(Te,pe))re[tt]=Te,re[ye]=pe,tt=ye;else break e}}return be}function l(re,be){var pe=re.sortIndex-be.sortIndex;return pe!==0?pe:re.id-be.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,y=f.now();i.unstable_now=function(){return f.now()-y}}var b=[],x=[],A=1,C=null,I=3,z=!1,Y=!1,G=!1,Z=!1,se=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function we(re){for(var be=t(x);be!==null;){if(be.callback===null)s(x);else if(be.startTime<=re)s(x),be.sortIndex=be.expirationTime,e(b,be);else break;be=t(x)}}function ge(re){if(G=!1,we(re),!Y)if(t(b)!==null)Y=!0,Ie||(Ie=!0,F());else{var be=t(x);be!==null&&Bt(ge,be.startTime-re)}}var Ie=!1,j=-1,M=5,D=-1;function H(){return Z?!0:!(i.unstable_now()-D<M)}function O(){if(Z=!1,Ie){var re=i.unstable_now();D=re;var be=!0;try{e:{Y=!1,G&&(G=!1,oe(j),j=-1),z=!0;var pe=I;try{t:{for(we(re),C=t(b);C!==null&&!(C.expirationTime>re&&H());){var tt=C.callback;if(typeof tt=="function"){C.callback=null,I=C.priorityLevel;var Se=tt(C.expirationTime<=re);if(re=i.unstable_now(),typeof Se=="function"){C.callback=Se,we(re),be=!0;break t}C===t(b)&&s(b),we(re)}else s(b);C=t(b)}if(C!==null)be=!0;else{var q=t(x);q!==null&&Bt(ge,q.startTime-re),be=!1}}break e}finally{C=null,I=pe,z=!1}be=void 0}}finally{be?F():Ie=!1}}}var F;if(typeof ue=="function")F=function(){ue(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ke=k.port2;k.port1.onmessage=O,F=function(){ke.postMessage(null)}}else F=function(){se(O,0)};function Bt(re,be){j=se(function(){re(i.unstable_now())},be)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_next=function(re){switch(I){case 1:case 2:case 3:var be=3;break;default:be=I}var pe=I;I=be;try{return re()}finally{I=pe}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function(re,be){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=I;I=re;try{return be()}finally{I=pe}},i.unstable_scheduleCallback=function(re,be,pe){var tt=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?tt+pe:tt):pe=tt,re){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=pe+Se,re={id:A++,callback:be,priorityLevel:re,startTime:pe,expirationTime:Se,sortIndex:-1},pe>tt?(re.sortIndex=pe,e(x,re),t(b)===null&&re===t(x)&&(G?(oe(j),j=-1):G=!0,Bt(ge,pe-tt))):(re.sortIndex=Se,e(b,re),Y||z||(Y=!0,Ie||(Ie=!0,F()))),re},i.unstable_shouldYield=H,i.unstable_wrapCallback=function(re){var be=I;return function(){var pe=I;I=be;try{return re.apply(this,arguments)}finally{I=pe}}}})(kp)),kp}var eb;function K2(){return eb||(eb=1,Mp.exports=Z2()),Mp.exports}var jp={exports:{}},Gn={};var tb;function Y2(){if(tb)return Gn;tb=1;var i=Bg();function e(b){var x="https://react.dev/errors/"+b;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(b,x,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:b,containerInfo:x,implementation:A}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,x){if(b==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gn.createPortal=function(b,x){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return h(b,x,null,A)},Gn.flushSync=function(b){var x=f.T,A=s.p;try{if(f.T=null,s.p=2,b)return b()}finally{f.T=x,s.p=A,s.d.f()}},Gn.preconnect=function(b,x){typeof b=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(b,x))},Gn.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},Gn.preinit=function(b,x){if(typeof b=="string"&&x&&typeof x.as=="string"){var A=x.as,C=y(A,x.crossOrigin),I=typeof x.integrity=="string"?x.integrity:void 0,z=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;A==="style"?s.d.S(b,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:C,integrity:I,fetchPriority:z}):A==="script"&&s.d.X(b,{crossOrigin:C,integrity:I,fetchPriority:z,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Gn.preinitModule=function(b,x){if(typeof b=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var A=y(x.as,x.crossOrigin);s.d.M(b,{crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(b)},Gn.preload=function(b,x){if(typeof b=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var A=x.as,C=y(A,x.crossOrigin);s.d.L(b,A,{crossOrigin:C,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Gn.preloadModule=function(b,x){if(typeof b=="string")if(x){var A=y(x.as,x.crossOrigin);s.d.m(b,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(b)},Gn.requestFormReset=function(b){s.d.r(b)},Gn.unstable_batchedUpdates=function(b,x){return b(x)},Gn.useFormState=function(b,x,A){return f.H.useFormState(b,x,A)},Gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gn.version="19.2.4",Gn}var nb;function Xx(){if(nb)return jp.exports;nb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jp.exports=Y2(),jp.exports}var ib;function Q2(){if(ib)return Ic;ib=1;var i=K2(),e=Bg(),t=Xx();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function y(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function b(n){if(h(n)!==n)throw Error(s(188))}function x(n){var r=n.alternate;if(!r){if(r=h(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,c=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return b(p),n;if(g===c)return b(p),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=g;else{for(var T=!1,N=p.child;N;){if(N===o){T=!0,o=p,c=g;break}if(N===c){T=!0,c=p,o=g;break}N=N.sibling}if(!T){for(N=g.child;N;){if(N===o){T=!0,o=g,c=p;break}if(N===c){T=!0,c=g,o=p;break}N=N.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function A(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=A(n),r!==null)return r;n=n.sibling}return null}var C=Object.assign,I=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function ke(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case G:return"Fragment";case se:return"Profiler";case Z:return"StrictMode";case ge:return"Suspense";case Ie:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Y:return"Portal";case ue:return n.displayName||"Context";case oe:return(n._context.displayName||"Context")+".Consumer";case we:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return r=n.displayName||null,r!==null?r:ke(n.type)||"Memo";case M:r=n._payload,n=n._init;try{return ke(n(r))}catch{}}return null}var Bt=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},tt=[],Se=-1;function q(n){return{current:n}}function ae(n){0>Se||(n.current=tt[Se],tt[Se]=null,Se--)}function _e(n,r){Se++,tt[Se]=n.current,n.current=r}var ye=q(null),Te=q(null),Ee=q(null),Fe=q(null);function Tt(n,r){switch(_e(Ee,r),_e(Te,n),_e(ye,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?y0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=y0(r),n=v0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(ye),_e(ye,n)}function Rt(){ae(ye),ae(Te),ae(Ee)}function xr(n){n.memoizedState!==null&&_e(Fe,n);var r=ye.current,o=v0(r,n.type);r!==o&&(_e(Te,n),_e(ye,o))}function Fr(n){Te.current===n&&(ae(ye),ae(Te)),Fe.current===n&&(ae(Fe),Sc._currentValue=pe)}var Yi,Gr;function Qi(n){if(Yi===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Yi=r&&r[1]||"",Gr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yi+n+Gr}var ma=!1;function Zr(n,r){if(!n||ma)return"";ma=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var te=ie}Reflect.construct(n,[],de)}else{try{de.call()}catch(ie){te=ie}n.call(de.prototype)}}else{try{throw Error()}catch(ie){te=ie}(de=n())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],N=g[1];if(T&&N){var B=T.split(`
`),J=N.split(`
`);for(p=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===B.length||p===J.length)for(c=B.length-1,p=J.length-1;1<=c&&0<=p&&B[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(B[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||B[c]!==J[p]){var le=`
`+B[c].replace(" at new "," at ");return n.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",n.displayName)),le}while(1<=c&&0<=p);break}}}finally{ma=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Qi(o):""}function Ss(n,r){switch(n.tag){case 26:case 27:case 5:return Qi(n.type);case 16:return Qi("Lazy");case 13:return n.child!==r&&r!==null?Qi("Suspense Fallback"):Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Zr(n.type,!1);case 11:return Zr(n.type.render,!1);case 1:return Zr(n.type,!0);case 31:return Qi("Activity");default:return""}}function Kr(n){try{var r="",o=null;do r+=Ss(n,o),o=n,n=n.return;while(n);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Yt=Object.prototype.hasOwnProperty,Qt=i.unstable_scheduleCallback,Wi=i.unstable_cancelCallback,Pl=i.unstable_shouldYield,Co=i.unstable_requestPaint,On=i.unstable_now,As=i.unstable_getCurrentPriorityLevel,Cs=i.unstable_ImmediatePriority,pa=i.unstable_UserBlockingPriority,wr=i.unstable_NormalPriority,Fu=i.unstable_LowPriority,Ro=i.unstable_IdlePriority,No=i.log,Ol=i.unstable_setDisableYieldValue,ai=null,rn=null;function Wn(n){if(typeof No=="function"&&Ol(n),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(ai,n)}catch{}}var qt=Math.clz32?Math.clz32:Dl,Yr=Math.log,ga=Math.LN2;function Dl(n){return n>>>=0,n===0?32:31-(Yr(n)/ga|0)|0}var Ai=256,Qr=262144,Ht=4194304;function $i(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Xi(n,r,o){var c=n.pendingLanes;if(c===0)return 0;var p=0,g=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var N=c&134217727;return N!==0?(c=N&~g,c!==0?p=$i(c):(T&=N,T!==0?p=$i(T):o||(o=N&~n,o!==0&&(p=$i(o))))):(N=c&~g,N!==0?p=$i(N):T!==0?p=$i(T):o||(o=c&~n,o!==0&&(p=$i(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function Ci(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Gu(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ll(){var n=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),n}function Ji(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Er(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Zu(n,r,o,c,p,g){var T=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var N=n.entanglements,B=n.expirationTimes,J=n.hiddenUpdates;for(o=T&~o;0<o;){var le=31-qt(o),de=1<<le;N[le]=0,B[le]=-1;var te=J[le];if(te!==null)for(J[le]=null,le=0;le<te.length;le++){var ie=te[le];ie!==null&&(ie.lane&=-536870913)}o&=~de}c!==0&&Rs(n,c,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(T&~r))}function Rs(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-qt(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function Io(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-qt(o),p=1<<c;p&r|n[c]&r&&(n[c]|=r),o&=~p}}function Po(n,r){var o=r&-r;return o=(o&42)!==0?1:En(o),(o&(n.suspendedLanes|r))!==0?0:o}function En(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ne(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Oo(){var n=be.p;return n!==0?n:(n=window.event,n===void 0?32:q0(n.type))}function oi(n,r){var o=be.p;try{return be.p=n,r()}finally{be.p=o}}var li=Math.random().toString(36).slice(2),Ft="__reactFiber$"+li,Wt="__reactProps$"+li,Ri="__reactContainer$"+li,Ni="__reactEvents$"+li,Ml="__reactListeners$"+li,kl="__reactHandles$"+li,jl="__reactResources$"+li,er="__reactMarker$"+li;function _a(n){delete n[Ft],delete n[Wt],delete n[Ni],delete n[Ml],delete n[kl]}function Ii(n){var r=n[Ft];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Ri]||o[Ft]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=A0(n);n!==null;){if(o=n[Ft])return o;n=A0(n)}return r}n=o,o=n.parentNode}return null}function ui(n){if(n=n[Ft]||n[Ri]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Tn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function tr(n){var r=n[jl];return r||(r=n[jl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function $t(n){n[er]=!0}var Do=new Set,Lo={};function nr(n,r){ci(n,r),ci(n+"Capture",r)}function ci(n,r){for(Lo[n]=r,n=0;n<r.length;n++)Do.add(r[n])}var Tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ya={},va={};function Wr(n){return Yt.call(va,n)?!0:Yt.call(ya,n)?!1:Tr.test(n)?va[n]=!0:(ya[n]=!0,!1)}function We(n,r,o){if(Wr(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function $e(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Lt(n,r,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+c)}}function Mt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $n(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ns(n,r,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return p.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(n,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ce(n){if(!n._valueTracker){var r=$n(n)?"checked":"value";n._valueTracker=Ns(n,r,""+n[r])}}function bt(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=$n(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function hi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ir=/[\n"\\]/g;function Nt(n){return n.replace(ir,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ba(n,r,o,c,p,g,T,N){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Mt(r)):n.value!==""+Mt(r)&&(n.value=""+Mt(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?Pi(n,T,Mt(r)):o!=null?Pi(n,T,Mt(o)):c!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+Mt(N):n.removeAttribute("name")}function Is(n,r,o,c,p,g,T,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Ce(n);return}o=o!=null?""+Mt(o):"",r=r!=null?""+Mt(r):o,N||r===n.value||(n.value=r),n.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=N?n.checked:!!c,n.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),Ce(n)}function Pi(n,r,o){r==="number"&&hi(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function xt(n,r,o,c){if(n=n.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=r.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Mt(o),r=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}r!==null||n[p].disabled||(r=n[p])}r!==null&&(r.selected=!0)}}function rr(n,r,o){if(r!=null&&(r=""+Mt(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+Mt(o):""}function fi(n,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Bt(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Mt(r),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),Ce(n)}function un(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var xa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sr(n,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,o):typeof o!="number"||o===0||xa.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Ps(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&Sr(n,p,c)}else for(var g in r)r.hasOwnProperty(g)&&Sr(n,g,r[g])}function $r(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(n){return sr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function zn(){}var wa=null;function Un(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Jr=null,je=null;function Sn(n){var r=ui(n);if(r&&(n=r.stateNode)){var o=n[Wt]||null;e:switch(n=r.stateNode,r.type){case"input":if(ba(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Nt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var p=c[Wt]||null;if(!p)throw Error(s(90));ba(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===n.form&&bt(c)}break e;case"textarea":rr(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&xt(n,!!o.multiple,r,!1)}}}var dt=!1;function Ar(n,r,o){if(dt)return n(r,o);dt=!0;try{var c=n(r);return c}finally{if(dt=!1,(Jr!==null||je!==null)&&(rf(),Jr&&(r=Jr,n=je,je=Jr=null,Sn(r),n)))for(r=0;r<n.length;r++)Sn(n[r])}}function Xn(n,r){var o=n.stateNode;if(o===null)return null;var c=o[Wt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Bn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Cr=!1}var di=null,Rr=null,kt=null;function Oi(){if(kt)return kt;var n,r=Rr,o=r.length,c,p="value"in di?di.value:di.textContent,g=p.length;for(n=0;n<o&&r[n]===p[n];n++);var T=o-n;for(c=1;c<=T&&r[o-c]===p[g-c];c++);return kt=p.slice(n,1<c?1-c:void 0)}function es(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ar(){return!0}function Di(){return!1}function cn(n){function r(o,c,p,g,T){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(o=n[N],this[N]=o?o(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ar:Di,this.isPropagationStopped=Di,this}return C(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),r}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=cn(Li),Nr=C({},Li,{view:0,detail:0}),Qe=cn(Nr),ts,An,qn,Ds=C({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qn&&(qn&&n.type==="mousemove"?(ts=n.screenX-qn.screenX,An=n.screenY-qn.screenY):An=ts=0,qn=n),ts)},movementY:function(n){return"movementY"in n?n.movementY:An}}),Mo=cn(Ds),Ir=C({},Ds,{dataTransfer:0}),Vl=cn(Ir),ko=C({},Nr,{relatedTarget:0}),Ls=cn(ko),jo=C({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=cn(jo),Ta=C({},Li,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jn=cn(Ta),zl=C({},Li,{data:0}),Mi=cn(zl),ki={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sa(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=zo[n])?!!r[n]:!1}function ns(){return Sa}var Cn=C({},Nr,{key:function(n){if(n.key){var r=ki[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=es(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vo[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(n){return n.type==="keypress"?es(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?es(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Uo=cn(Cn),Ul=C({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=cn(Ul),d=C({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),w=cn(d),S=C({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=cn(S),$=C({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=cn($),ve=C({},Li,{newState:0,oldState:0}),Be=cn(ve),ct=[9,13,27,32],ht=Bn&&"CompositionEvent"in window,It=null;Bn&&"documentMode"in document&&(It=document.documentMode);var mi=Bn&&"TextEvent"in window&&!It,pi=Bn&&(!ht||It&&8<It&&11>=It),ei=" ",ji=!1;function Ms(n,r){switch(n){case"keyup":return ct.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ks(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Aa=!1;function Vi(n,r){switch(n){case"compositionend":return ks(r);case"keypress":return r.which!==32?null:(ji=!0,ei);case"textInput":return n=r.data,n===ei&&ji?null:n;default:return null}}function Ca(n,r){if(Aa)return n==="compositionend"||!ht&&Ms(n,r)?(n=Oi(),kt=Rr=di=null,Aa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return pi&&r.locale!=="ko"?null:r.data;default:return null}}var Wd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Wd[n.type]:r==="textarea"}function bh(n,r,o,c){Jr?je?je.push(c):je=[c]:Jr=c,r=hf(r,"onChange"),0<r.length&&(o=new or("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var ur=null,Bo=null;function qo(n){f0(n,0)}function Ho(n){var r=Tn(n);if(bt(r))return n}function Fo(n,r){if(n==="change")return r}var xh=!1;if(Bn){var cr;if(Bn){var Ra="oninput"in document;if(!Ra){var wh=document.createElement("div");wh.setAttribute("oninput","return;"),Ra=typeof wh.oninput=="function"}cr=Ra}else cr=!1;xh=cr&&(!document.documentMode||9<document.documentMode)}function Bl(){ur&&(ur.detachEvent("onpropertychange",Eh),Bo=ur=null)}function Eh(n){if(n.propertyName==="value"&&Ho(Bo)){var r=[];bh(r,Bo,n,Un(n)),Ar(qo,r)}}function Or(n,r,o){n==="focusin"?(Bl(),ur=r,Bo=o,ur.attachEvent("onpropertychange",Eh)):n==="focusout"&&Bl()}function $d(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ho(Bo)}function Na(n,r){if(n==="click")return Ho(r)}function Xd(n,r){if(n==="input"||n==="change")return Ho(r)}function Dr(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Rn=typeof Object.is=="function"?Object.is:Dr;function Ia(n,r){if(Rn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Yt.call(r,p)||!Rn(n[p],r[p]))return!1}return!0}function ql(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Go(n,r){var o=ql(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ql(o)}}function Hl(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Hl(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Zo(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=hi(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=hi(n.document)}return r}function is(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Fl=Bn&&"documentMode"in document&&11>=document.documentMode,rs=null,Gl=null,Ko=null,Pa=!1;function Th(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pa||rs==null||rs!==hi(c)||(c=rs,"selectionStart"in c&&is(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ko&&Ia(Ko,c)||(Ko=c,c=hf(Gl,"onSelect"),0<c.length&&(r=new or("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=rs)))}function ss(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Oa={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Zl={},Sh={};Bn&&(Sh=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Nn(n){if(Zl[n])return Zl[n];if(!Oa[n])return n;var r=Oa[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Sh)return Zl[n]=r[o];return n}var Yo=Nn("animationend"),Ah=Nn("animationiteration"),Qo=Nn("animationstart"),Jd=Nn("transitionrun"),Ch=Nn("transitionstart"),em=Nn("transitioncancel"),Da=Nn("transitionend"),Rh=new Map,as="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");as.push("scrollEnd");function gi(n,r){Rh.set(n,r),nr(r,[n])}var Wo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},_i=[],Hn=0,Kl=0;function $o(){for(var n=Hn,r=Kl=Hn=0;r<n;){var o=_i[r];_i[r++]=null;var c=_i[r];_i[r++]=null;var p=_i[r];_i[r++]=null;var g=_i[r];if(_i[r++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&La(o,p,g)}}function os(n,r,o,c){_i[Hn++]=n,_i[Hn++]=r,_i[Hn++]=o,_i[Hn++]=c,Kl|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Ku(n,r,o,c){return os(n,r,o,c),Xo(n)}function hr(n,r){return os(n,null,null,r),Xo(n)}function La(n,r,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&r!==null&&(p=31-qt(o),n=g.hiddenUpdates,c=n[p],c===null?n[p]=[r]:c.push(r),r.lane=o|536870912),g):null}function Xo(n){if(50<yc)throw yc=0,np=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var js={};function tm(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(n,r,o,c){return new tm(n,r,o,c)}function Yl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fr(n,r){var o=n.alternate;return o===null?(o=Fn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Yu(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Jo(n,r,o,c,p,g){var T=0;if(c=n,typeof n=="function")Yl(n)&&(T=1);else if(typeof n=="string")T=P2(n,o,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=Fn(31,o,r,p),n.elementType=D,n.lanes=g,n;case G:return Vs(o.children,p,g,r);case Z:T=8,p|=24;break;case se:return n=Fn(12,o,r,p|2),n.elementType=se,n.lanes=g,n;case ge:return n=Fn(13,o,r,p),n.elementType=ge,n.lanes=g,n;case Ie:return n=Fn(19,o,r,p),n.elementType=Ie,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ue:T=10;break e;case oe:T=9;break e;case we:T=11;break e;case j:T=14;break e;case M:T=16,c=null;break e}T=29,o=Error(s(130,n===null?"null":typeof n,"")),c=null}return r=Fn(T,o,r,p),r.elementType=n,r.type=c,r.lanes=g,r}function Vs(n,r,o,c){return n=Fn(7,n,c,r),n.lanes=o,n}function Ql(n,r,o){return n=Fn(6,n,null,r),n.lanes=o,n}function Qu(n){var r=Fn(18,null,null,0);return r.stateNode=n,r}function Wu(n,r,o){return r=Fn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var a=new WeakMap;function u(n,r){if(typeof n=="object"&&n!==null){var o=a.get(n);return o!==void 0?o:(r={value:n,source:r,stack:Kr(r)},a.set(n,r),r)}return{value:n,source:r,stack:Kr(r)}}var m=[],v=0,E=null,R=0,V=[],W=0,ee=null,fe=1,xe="";function De(n,r){m[v++]=R,m[v++]=E,E=n,R=r}function Ke(n,r,o){V[W++]=fe,V[W++]=xe,V[W++]=ee,ee=n;var c=fe;n=xe;var p=32-qt(c)-1;c&=~(1<<p),o+=1;var g=32-qt(r)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,fe=1<<32-qt(r)+p|o<<p|c,xe=g+n}else fe=1<<g|o<<p|c,xe=n}function vn(n){n.return!==null&&(De(n,1),Ke(n,1,0))}function Xt(n){for(;n===E;)E=m[--v],m[v]=null,R=m[--v],m[v]=null;for(;n===ee;)ee=V[--W],V[W]=null,xe=V[--W],V[W]=null,fe=V[--W],V[W]=null}function ti(n,r){V[W++]=fe,V[W++]=xe,V[W++]=ee,fe=r.id,xe=r.overflow,ee=n}var mt=null,pt=null,Xe=!1,ls=null,yi=!1,Wl=Error(s(519));function us(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(u(r,n)),Wl}function $u(n){var r=n.stateNode,o=n.type,c=n.memoizedProps;switch(r[Ft]=n,r[Wt]=c,o){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(o=0;o<bc.length;o++)et(bc[o],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":et("invalid",r),Is(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":et("invalid",r);break;case"textarea":et("invalid",r),fi(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||g0(r.textContent,o)?(c.popover!=null&&(et("beforetoggle",r),et("toggle",r)),c.onScroll!=null&&et("scroll",r),c.onScrollEnd!=null&&et("scrollend",r),c.onClick!=null&&(r.onclick=zn),r=!0):r=!1,r||us(n,!0)}function Gt(n){for(mt=n.return;mt;)switch(mt.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:mt=mt.return}}function Lr(n){if(n!==mt)return!1;if(!Xe)return Gt(n),Xe=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||_p(n.type,n.memoizedProps)),o=!o),o&&pt&&us(n),Gt(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));pt=S0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));pt=S0(n)}else r===27?(r=pt,Ya(n.type)?(n=wp,wp=null,pt=n):pt=r):pt=mt?mr(n.stateNode.nextSibling):null;return!0}function zs(){pt=mt=null,Xe=!1}function Xu(){var n=ls;return n!==null&&(wi===null?wi=n:wi.push.apply(wi,n),ls=null),n}function el(n){ls===null?ls=[n]:ls.push(n)}var tl=q(null),cs=null,Mr=null;function Ma(n,r,o){_e(tl,r._currentValue),r._currentValue=o}function Us(n){n._currentValue=tl.current,ae(tl)}function nm(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function im(n,r,o,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=p;for(var B=0;B<r.length;B++)if(N.context===r[B]){g.lanes|=o,N=g.alternate,N!==null&&(N.lanes|=o),nm(g.return,o,n),c||(T=null);break e}g=N.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),nm(T,o,n),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===n){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function $l(n,r,o,c){n=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var N=p.type;Rn(p.pendingProps.value,T.value)||(n!==null?n.push(N):n=[N])}}else if(p===Fe.current){if(T=p.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Sc):n=[Sc])}p=p.return}n!==null&&im(r,n,o,c),r.flags|=262144}function Nh(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function nl(n){cs=n,Mr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Dn(n){return ty(cs,n)}function Ih(n,r){return cs===null&&nl(n),ty(n,r)}function ty(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Mr===null){if(n===null)throw Error(s(308));Mr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Mr=Mr.next=r;return o}var CT=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},RT=i.unstable_scheduleCallback,NT=i.unstable_NormalPriority,hn={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new CT,data:new Map,refCount:0}}function Ju(n){n.refCount--,n.refCount===0&&RT(NT,function(){n.controller.abort()})}var ec=null,sm=0,Xl=0,Jl=null;function IT(n,r){if(ec===null){var o=ec=[];sm=0,Xl=lp(),Jl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return sm++,r.then(ny,ny),r}function ny(){if(--sm===0&&ec!==null){Jl!==null&&(Jl.status="fulfilled");var n=ec;ec=null,Xl=0,Jl=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function PT(n,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var iy=re.S;re.S=function(n,r){Uv=On(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&IT(n,r),iy!==null&&iy(n,r)};var il=q(null);function am(){var n=il.current;return n!==null?n:Pt.pooledCache}function Ph(n,r){r===null?_e(il,il.current):_e(il,r.pool)}function ry(){var n=am();return n===null?null:{parent:hn._currentValue,pool:n}}var eu=Error(s(460)),om=Error(s(474)),Oh=Error(s(542)),Dh={then:function(){}};function sy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ay(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(zn,zn),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ly(n),n;default:if(typeof r.status=="string")r.then(zn,zn);else{if(n=Pt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ly(n),n}throw sl=r,eu}}function rl(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(sl=o,eu):o}}var sl=null;function oy(){if(sl===null)throw Error(s(459));var n=sl;return sl=null,n}function ly(n){if(n===eu||n===Oh)throw Error(s(483))}var tu=null,tc=0;function Lh(n){var r=tc;return tc+=1,tu===null&&(tu=[]),ay(tu,n,r)}function nc(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Mh(n,r){throw r.$$typeof===I?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function uy(n){function r(Q,K){if(n){var X=Q.deletions;X===null?(Q.deletions=[K],Q.flags|=16):X.push(K)}}function o(Q,K){if(!n)return null;for(;K!==null;)r(Q,K),K=K.sibling;return null}function c(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function p(Q,K){return Q=fr(Q,K),Q.index=0,Q.sibling=null,Q}function g(Q,K,X){return Q.index=X,n?(X=Q.alternate,X!==null?(X=X.index,X<K?(Q.flags|=67108866,K):X):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function T(Q){return n&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,K,X,ce){return K===null||K.tag!==6?(K=Ql(X,Q.mode,ce),K.return=Q,K):(K=p(K,X),K.return=Q,K)}function B(Q,K,X,ce){var Le=X.type;return Le===G?le(Q,K,X.props.children,ce,X.key):K!==null&&(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===M&&rl(Le)===K.type)?(K=p(K,X.props),nc(K,X),K.return=Q,K):(K=Jo(X.type,X.key,X.props,null,Q.mode,ce),nc(K,X),K.return=Q,K)}function J(Q,K,X,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==X.containerInfo||K.stateNode.implementation!==X.implementation?(K=Wu(X,Q.mode,ce),K.return=Q,K):(K=p(K,X.children||[]),K.return=Q,K)}function le(Q,K,X,ce,Le){return K===null||K.tag!==7?(K=Vs(X,Q.mode,ce,Le),K.return=Q,K):(K=p(K,X),K.return=Q,K)}function de(Q,K,X){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Ql(""+K,Q.mode,X),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return X=Jo(K.type,K.key,K.props,null,Q.mode,X),nc(X,K),X.return=Q,X;case Y:return K=Wu(K,Q.mode,X),K.return=Q,K;case M:return K=rl(K),de(Q,K,X)}if(Bt(K)||F(K))return K=Vs(K,Q.mode,X,null),K.return=Q,K;if(typeof K.then=="function")return de(Q,Lh(K),X);if(K.$$typeof===ue)return de(Q,Ih(Q,K),X);Mh(Q,K)}return null}function te(Q,K,X,ce){var Le=K!==null?K.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Le!==null?null:N(Q,K,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case z:return X.key===Le?B(Q,K,X,ce):null;case Y:return X.key===Le?J(Q,K,X,ce):null;case M:return X=rl(X),te(Q,K,X,ce)}if(Bt(X)||F(X))return Le!==null?null:le(Q,K,X,ce,null);if(typeof X.then=="function")return te(Q,K,Lh(X),ce);if(X.$$typeof===ue)return te(Q,K,Ih(Q,X),ce);Mh(Q,X)}return null}function ie(Q,K,X,ce,Le){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(X)||null,N(K,Q,""+ce,Le);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case z:return Q=Q.get(ce.key===null?X:ce.key)||null,B(K,Q,ce,Le);case Y:return Q=Q.get(ce.key===null?X:ce.key)||null,J(K,Q,ce,Le);case M:return ce=rl(ce),ie(Q,K,X,ce,Le)}if(Bt(ce)||F(ce))return Q=Q.get(X)||null,le(K,Q,ce,Le,null);if(typeof ce.then=="function")return ie(Q,K,X,Lh(ce),Le);if(ce.$$typeof===ue)return ie(Q,K,X,Ih(K,ce),Le);Mh(K,ce)}return null}function Pe(Q,K,X,ce){for(var Le=null,gt=null,Oe=K,Ye=K=0,rt=null;Oe!==null&&Ye<X.length;Ye++){Oe.index>Ye?(rt=Oe,Oe=null):rt=Oe.sibling;var _t=te(Q,Oe,X[Ye],ce);if(_t===null){Oe===null&&(Oe=rt);break}n&&Oe&&_t.alternate===null&&r(Q,Oe),K=g(_t,K,Ye),gt===null?Le=_t:gt.sibling=_t,gt=_t,Oe=rt}if(Ye===X.length)return o(Q,Oe),Xe&&De(Q,Ye),Le;if(Oe===null){for(;Ye<X.length;Ye++)Oe=de(Q,X[Ye],ce),Oe!==null&&(K=g(Oe,K,Ye),gt===null?Le=Oe:gt.sibling=Oe,gt=Oe);return Xe&&De(Q,Ye),Le}for(Oe=c(Oe);Ye<X.length;Ye++)rt=ie(Oe,Q,Ye,X[Ye],ce),rt!==null&&(n&&rt.alternate!==null&&Oe.delete(rt.key===null?Ye:rt.key),K=g(rt,K,Ye),gt===null?Le=rt:gt.sibling=rt,gt=rt);return n&&Oe.forEach(function(Ja){return r(Q,Ja)}),Xe&&De(Q,Ye),Le}function Ve(Q,K,X,ce){if(X==null)throw Error(s(151));for(var Le=null,gt=null,Oe=K,Ye=K=0,rt=null,_t=X.next();Oe!==null&&!_t.done;Ye++,_t=X.next()){Oe.index>Ye?(rt=Oe,Oe=null):rt=Oe.sibling;var Ja=te(Q,Oe,_t.value,ce);if(Ja===null){Oe===null&&(Oe=rt);break}n&&Oe&&Ja.alternate===null&&r(Q,Oe),K=g(Ja,K,Ye),gt===null?Le=Ja:gt.sibling=Ja,gt=Ja,Oe=rt}if(_t.done)return o(Q,Oe),Xe&&De(Q,Ye),Le;if(Oe===null){for(;!_t.done;Ye++,_t=X.next())_t=de(Q,_t.value,ce),_t!==null&&(K=g(_t,K,Ye),gt===null?Le=_t:gt.sibling=_t,gt=_t);return Xe&&De(Q,Ye),Le}for(Oe=c(Oe);!_t.done;Ye++,_t=X.next())_t=ie(Oe,Q,Ye,_t.value,ce),_t!==null&&(n&&_t.alternate!==null&&Oe.delete(_t.key===null?Ye:_t.key),K=g(_t,K,Ye),gt===null?Le=_t:gt.sibling=_t,gt=_t);return n&&Oe.forEach(function(q2){return r(Q,q2)}),Xe&&De(Q,Ye),Le}function Ct(Q,K,X,ce){if(typeof X=="object"&&X!==null&&X.type===G&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case z:e:{for(var Le=X.key;K!==null;){if(K.key===Le){if(Le=X.type,Le===G){if(K.tag===7){o(Q,K.sibling),ce=p(K,X.props.children),ce.return=Q,Q=ce;break e}}else if(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===M&&rl(Le)===K.type){o(Q,K.sibling),ce=p(K,X.props),nc(ce,X),ce.return=Q,Q=ce;break e}o(Q,K);break}else r(Q,K);K=K.sibling}X.type===G?(ce=Vs(X.props.children,Q.mode,ce,X.key),ce.return=Q,Q=ce):(ce=Jo(X.type,X.key,X.props,null,Q.mode,ce),nc(ce,X),ce.return=Q,Q=ce)}return T(Q);case Y:e:{for(Le=X.key;K!==null;){if(K.key===Le)if(K.tag===4&&K.stateNode.containerInfo===X.containerInfo&&K.stateNode.implementation===X.implementation){o(Q,K.sibling),ce=p(K,X.children||[]),ce.return=Q,Q=ce;break e}else{o(Q,K);break}else r(Q,K);K=K.sibling}ce=Wu(X,Q.mode,ce),ce.return=Q,Q=ce}return T(Q);case M:return X=rl(X),Ct(Q,K,X,ce)}if(Bt(X))return Pe(Q,K,X,ce);if(F(X)){if(Le=F(X),typeof Le!="function")throw Error(s(150));return X=Le.call(X),Ve(Q,K,X,ce)}if(typeof X.then=="function")return Ct(Q,K,Lh(X),ce);if(X.$$typeof===ue)return Ct(Q,K,Ih(Q,X),ce);Mh(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,K!==null&&K.tag===6?(o(Q,K.sibling),ce=p(K,X),ce.return=Q,Q=ce):(o(Q,K),ce=Ql(X,Q.mode,ce),ce.return=Q,Q=ce),T(Q)):o(Q,K)}return function(Q,K,X,ce){try{tc=0;var Le=Ct(Q,K,X,ce);return tu=null,Le}catch(Oe){if(Oe===eu||Oe===Oh)throw Oe;var gt=Fn(29,Oe,null,Q.mode);return gt.lanes=ce,gt.return=Q,gt}}}var al=uy(!0),cy=uy(!1),ka=!1;function lm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ja(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Va(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(yt&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Xo(n),La(n,null,o),r}return os(n,c,r,o),Xo(n)}function ic(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Io(n,o)}}function cm(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var hm=!1;function rc(){if(hm){var n=Jl;if(n!==null)throw n}}function sc(n,r,o,c){hm=!1;var p=n.updateQueue;ka=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var B=N,J=B.next;B.next=null,T===null?g=J:T.next=J,T=B;var le=n.alternate;le!==null&&(le=le.updateQueue,N=le.lastBaseUpdate,N!==T&&(N===null?le.firstBaseUpdate=J:N.next=J,le.lastBaseUpdate=B))}if(g!==null){var de=p.baseState;T=0,le=J=B=null,N=g;do{var te=N.lane&-536870913,ie=te!==N.lane;if(ie?(it&te)===te:(c&te)===te){te!==0&&te===Xl&&(hm=!0),le!==null&&(le=le.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Pe=n,Ve=N;te=r;var Ct=o;switch(Ve.tag){case 1:if(Pe=Ve.payload,typeof Pe=="function"){de=Pe.call(Ct,de,te);break e}de=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ve.payload,te=typeof Pe=="function"?Pe.call(Ct,de,te):Pe,te==null)break e;de=C({},de,te);break e;case 2:ka=!0}}te=N.callback,te!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=p.callbacks,ie===null?p.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},le===null?(J=le=ie,B=de):le=le.next=ie,T|=te;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;ie=N,N=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);le===null&&(B=de),p.baseState=B,p.firstBaseUpdate=J,p.lastBaseUpdate=le,g===null&&(p.shared.lanes=0),Ha|=T,n.lanes=T,n.memoizedState=de}}function hy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function fy(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)hy(o[n],r)}var nu=q(null),kh=q(0);function dy(n,r){n=Qs,_e(kh,n),_e(nu,r),Qs=n|r.baseLanes}function fm(){_e(kh,Qs),_e(nu,nu.current)}function dm(){Qs=kh.current,ae(nu),ae(kh)}var zi=q(null),dr=null;function za(n){var r=n.alternate;_e(sn,sn.current&1),_e(zi,n),dr===null&&(r===null||nu.current!==null||r.memoizedState!==null)&&(dr=n)}function mm(n){_e(sn,sn.current),_e(zi,n),dr===null&&(dr=n)}function my(n){n.tag===22?(_e(sn,sn.current),_e(zi,n),dr===null&&(dr=n)):Ua()}function Ua(){_e(sn,sn.current),_e(zi,zi.current)}function Ui(n){ae(zi),dr===n&&(dr=null),ae(sn)}var sn=q(0);function jh(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||bp(o)||xp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Bs=0,Ze=null,St=null,fn=null,Vh=!1,iu=!1,ol=!1,zh=0,ac=0,ru=null,OT=0;function Jt(){throw Error(s(321))}function pm(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Rn(n[o],r[o]))return!1;return!0}function gm(n,r,o,c,p,g){return Bs=g,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,re.H=n===null||n.memoizedState===null?$y:Pm,ol=!1,g=o(c,p),ol=!1,iu&&(g=gy(r,o,c,p)),py(n),g}function py(n){re.H=uc;var r=St!==null&&St.next!==null;if(Bs=0,fn=St=Ze=null,Vh=!1,ac=0,ru=null,r)throw Error(s(300));n===null||dn||(n=n.dependencies,n!==null&&Nh(n)&&(dn=!0))}function gy(n,r,o,c){Ze=n;var p=0;do{if(iu&&(ru=null),ac=0,iu=!1,25<=p)throw Error(s(301));if(p+=1,fn=St=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}re.H=Xy,g=r(o,c)}while(iu);return g}function DT(){var n=re.H,r=n.useState()[0];return r=typeof r.then=="function"?oc(r):r,n=n.useState()[0],(St!==null?St.memoizedState:null)!==n&&(Ze.flags|=1024),r}function _m(){var n=zh!==0;return zh=0,n}function ym(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function vm(n){if(Vh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Vh=!1}Bs=0,fn=St=Ze=null,iu=!1,ac=zh=0,ru=null}function ni(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ze.memoizedState=fn=n:fn=fn.next=n,fn}function an(){if(St===null){var n=Ze.alternate;n=n!==null?n.memoizedState:null}else n=St.next;var r=fn===null?Ze.memoizedState:fn.next;if(r!==null)fn=r,St=n;else{if(n===null)throw Ze.alternate===null?Error(s(467)):Error(s(310));St=n,n={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},fn===null?Ze.memoizedState=fn=n:fn=fn.next=n}return fn}function Uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(n){var r=ac;return ac+=1,ru===null&&(ru=[]),n=ay(ru,n,r),r=Ze,(fn===null?r.memoizedState:fn.next)===null&&(r=r.alternate,re.H=r===null||r.memoizedState===null?$y:Pm),n}function Bh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return oc(n);if(n.$$typeof===ue)return Dn(n)}throw Error(s(438,String(n)))}function bm(n){var r=null,o=Ze.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Uh(),Ze.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),c=0;c<n;c++)o[c]=H;return r.index++,o}function qs(n,r){return typeof r=="function"?r(n):r}function qh(n){var r=an();return xm(r,St,n)}function xm(n,r,o){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=n.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}r.baseQueue=p=g,c.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{r=p.next;var N=T=null,B=null,J=r,le=!1;do{var de=J.lane&-536870913;if(de!==J.lane?(it&de)===de:(Bs&de)===de){var te=J.revertLane;if(te===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),de===Xl&&(le=!0);else if((Bs&te)===te){J=J.next,te===Xl&&(le=!0);continue}else de={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(N=B=de,T=g):B=B.next=de,Ze.lanes|=te,Ha|=te;de=J.action,ol&&o(g,de),g=J.hasEagerState?J.eagerState:o(g,de)}else te={lane:de,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(N=B=te,T=g):B=B.next=te,Ze.lanes|=de,Ha|=de;J=J.next}while(J!==null&&J!==r);if(B===null?T=g:B.next=N,!Rn(g,n.memoizedState)&&(dn=!0,le&&(o=Jl,o!==null)))throw o;n.memoizedState=g,n.baseState=T,n.baseQueue=B,c.lastRenderedState=g}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function wm(n){var r=an(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var c=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do g=n(g,T.action),T=T.next;while(T!==p);Rn(g,r.memoizedState)||(dn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function _y(n,r,o){var c=Ze,p=an(),g=Xe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Rn((St||p).memoizedState,o);if(T&&(p.memoizedState=o,dn=!0),p=p.queue,Sm(by.bind(null,c,p,n),[n]),p.getSnapshot!==r||T||fn!==null&&fn.memoizedState.tag&1){if(c.flags|=2048,su(9,{destroy:void 0},vy.bind(null,c,p,o,r),null),Pt===null)throw Error(s(349));g||(Bs&127)!==0||yy(c,r,o)}return o}function yy(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Ze.updateQueue,r===null?(r=Uh(),Ze.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function vy(n,r,o,c){r.value=o,r.getSnapshot=c,xy(r)&&wy(n)}function by(n,r,o){return o(function(){xy(r)&&wy(n)})}function xy(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Rn(n,o)}catch{return!0}}function wy(n){var r=hr(n,2);r!==null&&Ei(r,n,2)}function Em(n){var r=ni();if(typeof n=="function"){var o=n;if(n=o(),ol){Wn(!0);try{o()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},r}function Ey(n,r,o,c){return n.baseState=o,xm(n,St,typeof c=="function"?c:qs)}function LT(n,r,o,c,p){if(Gh(n))throw Error(s(485));if(n=r.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};re.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Ty(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Ty(n,r){var o=r.action,c=r.payload,p=n.state;if(r.isTransition){var g=re.T,T={};re.T=T;try{var N=o(p,c),B=re.S;B!==null&&B(T,N),Sy(n,r,N)}catch(J){Tm(n,r,J)}finally{g!==null&&T.types!==null&&(g.types=T.types),re.T=g}}else try{g=o(p,c),Sy(n,r,g)}catch(J){Tm(n,r,J)}}function Sy(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Ay(n,r,c)},function(c){return Tm(n,r,c)}):Ay(n,r,o)}function Ay(n,r,o){r.status="fulfilled",r.value=o,Cy(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Ty(n,o)))}function Tm(n,r,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Cy(r),r=r.next;while(r!==c)}n.action=null}function Cy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ry(n,r){return r}function Ny(n,r){if(Xe){var o=Pt.formState;if(o!==null){e:{var c=Ze;if(Xe){if(pt){t:{for(var p=pt,g=yi;p.nodeType!==8;){if(!g){p=null;break t}if(p=mr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){pt=mr(p.nextSibling),c=p.data==="F!";break e}}us(c)}c=!1}c&&(r=o[0])}}return o=ni(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:r},o.queue=c,o=Yy.bind(null,Ze,c),c.dispatch=o,c=Em(!1),g=Im.bind(null,Ze,!1,c.queue),c=ni(),p={state:r,dispatch:null,action:n,pending:null},c.queue=p,o=LT.bind(null,Ze,p,g,o),p.dispatch=o,c.memoizedState=n,[r,o,!1]}function Iy(n){var r=an();return Py(r,St,n)}function Py(n,r,o){if(r=xm(n,r,Ry)[0],n=qh(qs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=oc(r)}catch(T){throw T===eu?Oh:T}else c=r;r=an();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Ze.flags|=2048,su(9,{destroy:void 0},MT.bind(null,p,o),null)),[c,g,n]}function MT(n,r){n.action=r}function Oy(n){var r=an(),o=St;if(o!==null)return Py(r,o,n);an(),r=r.memoizedState,o=an();var c=o.queue.dispatch;return o.memoizedState=n,[r,c,!1]}function su(n,r,o,c){return n={tag:n,create:o,deps:c,inst:r,next:null},r=Ze.updateQueue,r===null&&(r=Uh(),Ze.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n),n}function Dy(){return an().memoizedState}function Hh(n,r,o,c){var p=ni();Ze.flags|=n,p.memoizedState=su(1|r,{destroy:void 0},o,c===void 0?null:c)}function Fh(n,r,o,c){var p=an();c=c===void 0?null:c;var g=p.memoizedState.inst;St!==null&&c!==null&&pm(c,St.memoizedState.deps)?p.memoizedState=su(r,g,o,c):(Ze.flags|=n,p.memoizedState=su(1|r,g,o,c))}function Ly(n,r){Hh(8390656,8,n,r)}function Sm(n,r){Fh(2048,8,n,r)}function kT(n){Ze.flags|=4;var r=Ze.updateQueue;if(r===null)r=Uh(),Ze.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function My(n){var r=an().memoizedState;return kT({ref:r,nextImpl:n}),function(){if((yt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ky(n,r){return Fh(4,2,n,r)}function jy(n,r){return Fh(4,4,n,r)}function Vy(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function zy(n,r,o){o=o!=null?o.concat([n]):null,Fh(4,4,Vy.bind(null,r,n),o)}function Am(){}function Uy(n,r){var o=an();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&pm(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function By(n,r){var o=an();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&pm(r,c[1]))return c[0];if(c=n(),ol){Wn(!0);try{n()}finally{Wn(!1)}}return o.memoizedState=[c,r],c}function Cm(n,r,o){return o===void 0||(Bs&1073741824)!==0&&(it&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=qv(),Ze.lanes|=n,Ha|=n,o)}function qy(n,r,o,c){return Rn(o,r)?o:nu.current!==null?(n=Cm(n,o,c),Rn(n,r)||(dn=!0),n):(Bs&42)===0||(Bs&1073741824)!==0&&(it&261930)===0?(dn=!0,n.memoizedState=o):(n=qv(),Ze.lanes|=n,Ha|=n,r)}function Hy(n,r,o,c,p){var g=be.p;be.p=g!==0&&8>g?g:8;var T=re.T,N={};re.T=N,Im(n,!1,r,o);try{var B=p(),J=re.S;if(J!==null&&J(N,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var le=PT(B,c);lc(n,r,le,Hi(n))}else lc(n,r,c,Hi(n))}catch(de){lc(n,r,{then:function(){},status:"rejected",reason:de},Hi())}finally{be.p=g,T!==null&&N.types!==null&&(T.types=N.types),re.T=T}}function jT(){}function Rm(n,r,o,c){if(n.tag!==5)throw Error(s(476));var p=Fy(n).queue;Hy(n,p,r,pe,o===null?jT:function(){return Gy(n),o(c)})}function Fy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:pe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Gy(n){var r=Fy(n);r.next===null&&(r=n.alternate.memoizedState),lc(n,r.next.queue,{},Hi())}function Nm(){return Dn(Sc)}function Zy(){return an().memoizedState}function Ky(){return an().memoizedState}function VT(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Hi();n=ja(o);var c=Va(r,n,o);c!==null&&(Ei(c,r,o),ic(c,r,o)),r={cache:rm()},n.payload=r;return}r=r.return}}function zT(n,r,o){var c=Hi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gh(n)?Qy(r,o):(o=Ku(n,r,o,c),o!==null&&(Ei(o,n,c),Wy(o,r,c)))}function Yy(n,r,o){var c=Hi();lc(n,r,o,c)}function lc(n,r,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gh(n))Qy(r,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,N=g(T,o);if(p.hasEagerState=!0,p.eagerState=N,Rn(N,T))return os(n,r,p,0),Pt===null&&$o(),!1}catch{}if(o=Ku(n,r,p,c),o!==null)return Ei(o,n,c),Wy(o,r,c),!0}return!1}function Im(n,r,o,c){if(c={lane:2,revertLane:lp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Gh(n)){if(r)throw Error(s(479))}else r=Ku(n,o,c,2),r!==null&&Ei(r,n,2)}function Gh(n){var r=n.alternate;return n===Ze||r!==null&&r===Ze}function Qy(n,r){iu=Vh=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function Wy(n,r,o){if((o&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Io(n,o)}}var uc={readContext:Dn,use:Bh,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};uc.useEffectEvent=Jt;var $y={readContext:Dn,use:Bh,useCallback:function(n,r){return ni().memoizedState=[n,r===void 0?null:r],n},useContext:Dn,useEffect:Ly,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Hh(4194308,4,Vy.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Hh(4194308,4,n,r)},useInsertionEffect:function(n,r){Hh(4,2,n,r)},useMemo:function(n,r){var o=ni();r=r===void 0?null:r;var c=n();if(ol){Wn(!0);try{n()}finally{Wn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(n,r,o){var c=ni();if(o!==void 0){var p=o(r);if(ol){Wn(!0);try{o(r)}finally{Wn(!1)}}}else p=r;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=zT.bind(null,Ze,n),[c.memoizedState,n]},useRef:function(n){var r=ni();return n={current:n},r.memoizedState=n},useState:function(n){n=Em(n);var r=n.queue,o=Yy.bind(null,Ze,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Am,useDeferredValue:function(n,r){var o=ni();return Cm(o,n,r)},useTransition:function(){var n=Em(!1);return n=Hy.bind(null,Ze,n.queue,!0,!1),ni().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var c=Ze,p=ni();if(Xe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Pt===null)throw Error(s(349));(it&127)!==0||yy(c,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,Ly(by.bind(null,c,g,n),[n]),c.flags|=2048,su(9,{destroy:void 0},vy.bind(null,c,g,o,r),null),o},useId:function(){var n=ni(),r=Pt.identifierPrefix;if(Xe){var o=xe,c=fe;o=(c&~(1<<32-qt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=zh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=OT++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Nm,useFormState:Ny,useActionState:Ny,useOptimistic:function(n){var r=ni();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Im.bind(null,Ze,!0,o),o.dispatch=r,[n,r]},useMemoCache:bm,useCacheRefresh:function(){return ni().memoizedState=VT.bind(null,Ze)},useEffectEvent:function(n){var r=ni(),o={impl:n};return r.memoizedState=o,function(){if((yt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Pm={readContext:Dn,use:Bh,useCallback:Uy,useContext:Dn,useEffect:Sm,useImperativeHandle:zy,useInsertionEffect:ky,useLayoutEffect:jy,useMemo:By,useReducer:qh,useRef:Dy,useState:function(){return qh(qs)},useDebugValue:Am,useDeferredValue:function(n,r){var o=an();return qy(o,St.memoizedState,n,r)},useTransition:function(){var n=qh(qs)[0],r=an().memoizedState;return[typeof n=="boolean"?n:oc(n),r]},useSyncExternalStore:_y,useId:Zy,useHostTransitionStatus:Nm,useFormState:Iy,useActionState:Iy,useOptimistic:function(n,r){var o=an();return Ey(o,St,n,r)},useMemoCache:bm,useCacheRefresh:Ky};Pm.useEffectEvent=My;var Xy={readContext:Dn,use:Bh,useCallback:Uy,useContext:Dn,useEffect:Sm,useImperativeHandle:zy,useInsertionEffect:ky,useLayoutEffect:jy,useMemo:By,useReducer:wm,useRef:Dy,useState:function(){return wm(qs)},useDebugValue:Am,useDeferredValue:function(n,r){var o=an();return St===null?Cm(o,n,r):qy(o,St.memoizedState,n,r)},useTransition:function(){var n=wm(qs)[0],r=an().memoizedState;return[typeof n=="boolean"?n:oc(n),r]},useSyncExternalStore:_y,useId:Zy,useHostTransitionStatus:Nm,useFormState:Oy,useActionState:Oy,useOptimistic:function(n,r){var o=an();return St!==null?Ey(o,St,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:bm,useCacheRefresh:Ky};Xy.useEffectEvent=My;function Om(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:C({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Dm={enqueueSetState:function(n,r,o){n=n._reactInternals;var c=Hi(),p=ja(c);p.payload=r,o!=null&&(p.callback=o),r=Va(n,p,c),r!==null&&(Ei(r,n,c),ic(r,n,c))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=Hi(),p=ja(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Va(n,p,c),r!==null&&(Ei(r,n,c),ic(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Hi(),c=ja(o);c.tag=2,r!=null&&(c.callback=r),r=Va(n,c,o),r!==null&&(Ei(r,n,o),ic(r,n,o))}};function Jy(n,r,o,c,p,g,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!Ia(o,c)||!Ia(p,g):!0}function ev(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&Dm.enqueueReplaceState(r,r.state,null)}function ll(n,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(n=n.defaultProps){o===r&&(o=C({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function tv(n){Wo(n)}function nv(n){console.error(n)}function iv(n){Wo(n)}function Zh(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function rv(n,r,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Lm(n,r,o){return o=ja(o),o.tag=3,o.payload={element:null},o.callback=function(){Zh(n,r)},o}function sv(n){return n=ja(n),n.tag=3,n}function av(n,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;n.payload=function(){return p(g)},n.callback=function(){rv(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){rv(r,o,c),typeof p!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function UT(n,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&$l(r,o,p,!0),o=zi.current,o!==null){switch(o.tag){case 31:case 13:return dr===null?sf():o.alternate===null&&en===0&&(en=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Dh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),sp(n,c,p)),!1;case 22:return o.flags|=65536,c===Dh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),sp(n,c,p)),!1}throw Error(s(435,o.tag))}return sp(n,c,p),sf(),!1}if(Xe)return r=zi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==Wl&&(n=Error(s(422),{cause:c}),el(u(n,o)))):(c!==Wl&&(r=Error(s(423),{cause:c}),el(u(r,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=u(c,o),p=Lm(n.stateNode,c,p),cm(n,p),en!==4&&(en=2)),!1;var g=Error(s(520),{cause:c});if(g=u(g,o),_c===null?_c=[g]:_c.push(g),en!==4&&(en=2),r===null)return!0;c=u(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Lm(o.stateNode,c,n),cm(o,n),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Fa===null||!Fa.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=sv(p),av(p,n,o,c),cm(o,p),!1}o=o.return}while(o!==null);return!1}var Mm=Error(s(461)),dn=!1;function Ln(n,r,o,c){r.child=n===null?cy(r,null,o,c):al(r,n.child,o,c)}function ov(n,r,o,c,p){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var N in c)N!=="ref"&&(T[N]=c[N])}else T=c;return nl(r),c=gm(n,r,o,T,g,p),N=_m(),n!==null&&!dn?(ym(n,r,p),Hs(n,r,p)):(Xe&&N&&vn(r),r.flags|=1,Ln(n,r,c,p),r.child)}function lv(n,r,o,c,p){if(n===null){var g=o.type;return typeof g=="function"&&!Yl(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,uv(n,r,g,c,p)):(n=Jo(o.type,null,c,r,r.mode,p),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!Hm(n,p)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ia,o(T,c)&&n.ref===r.ref)return Hs(n,r,p)}return r.flags|=1,n=fr(g,c),n.ref=r.ref,n.return=r,r.child=n}function uv(n,r,o,c,p){if(n!==null){var g=n.memoizedProps;if(Ia(g,c)&&n.ref===r.ref)if(dn=!1,r.pendingProps=c=g,Hm(n,p))(n.flags&131072)!==0&&(dn=!0);else return r.lanes=n.lanes,Hs(n,r,p)}return km(n,r,o,c,p)}function cv(n,r,o,c){var p=c.children,g=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(c=r.child=n.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,r.child=null;return hv(n,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ph(r,g!==null?g.cachePool:null),g!==null?dy(r,g):fm(),my(r);else return c=r.lanes=536870912,hv(n,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Ph(r,g.cachePool),dy(r,g),Ua(),r.memoizedState=null):(n!==null&&Ph(r,null),fm(),Ua());return Ln(n,r,p,o),r.child}function cc(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function hv(n,r,o,c,p){var g=am();return g=g===null?null:{parent:hn._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},n!==null&&Ph(r,null),fm(),my(r),n!==null&&$l(n,r,c,!0),r.childLanes=p,null}function Kh(n,r){return r=Qh({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function fv(n,r,o){return al(r,n.child,null,o),n=Kh(r,r.pendingProps),n.flags|=2,Ui(r),r.memoizedState=null,n}function BT(n,r,o){var c=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Xe){if(c.mode==="hidden")return n=Kh(r,c),r.lanes=536870912,cc(null,n);if(mm(r),(n=pt)?(n=T0(n,yi),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ee!==null?{id:fe,overflow:xe}:null,retryLane:536870912,hydrationErrors:null},o=Qu(n),o.return=r,r.child=o,mt=r,pt=null)):n=null,n===null)throw us(r);return r.lanes=536870912,null}return Kh(r,c)}var g=n.memoizedState;if(g!==null){var T=g.dehydrated;if(mm(r),p)if(r.flags&256)r.flags&=-257,r=fv(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(dn||$l(n,r,o,!1),p=(o&n.childLanes)!==0,dn||p){if(c=Pt,c!==null&&(T=Po(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,hr(n,T),Ei(c,n,T),Mm;sf(),r=fv(n,r,o)}else n=g.treeContext,pt=mr(T.nextSibling),mt=r,Xe=!0,ls=null,yi=!1,n!==null&&ti(r,n),r=Kh(r,c),r.flags|=4096;return r}return n=fr(n.child,{mode:c.mode,children:c.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Yh(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function km(n,r,o,c,p){return nl(r),o=gm(n,r,o,c,void 0,p),c=_m(),n!==null&&!dn?(ym(n,r,p),Hs(n,r,p)):(Xe&&c&&vn(r),r.flags|=1,Ln(n,r,o,p),r.child)}function dv(n,r,o,c,p,g){return nl(r),r.updateQueue=null,o=gy(r,c,o,p),py(n),c=_m(),n!==null&&!dn?(ym(n,r,g),Hs(n,r,g)):(Xe&&c&&vn(r),r.flags|=1,Ln(n,r,o,g),r.child)}function mv(n,r,o,c,p){if(nl(r),r.stateNode===null){var g=js,T=o.contextType;typeof T=="object"&&T!==null&&(g=Dn(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},lm(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Dn(T):js,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Om(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Dm.enqueueReplaceState(g,g.state,null),sc(r,c,g,p),rc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){g=r.stateNode;var N=r.memoizedProps,B=ll(o,N);g.props=B;var J=g.context,le=o.contextType;T=js,typeof le=="object"&&le!==null&&(T=Dn(le));var de=o.getDerivedStateFromProps;le=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,le||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||J!==T)&&ev(r,g,c,T),ka=!1;var te=r.memoizedState;g.state=te,sc(r,c,g,p),rc(),J=r.memoizedState,N||te!==J||ka?(typeof de=="function"&&(Om(r,o,de,c),J=r.memoizedState),(B=ka||Jy(r,o,B,c,te,J,T))?(le||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=J),g.props=c,g.state=J,g.context=T,c=B):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,um(n,r),T=r.memoizedProps,le=ll(o,T),g.props=le,de=r.pendingProps,te=g.context,J=o.contextType,B=js,typeof J=="object"&&J!==null&&(B=Dn(J)),N=o.getDerivedStateFromProps,(J=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==de||te!==B)&&ev(r,g,c,B),ka=!1,te=r.memoizedState,g.state=te,sc(r,c,g,p),rc();var ie=r.memoizedState;T!==de||te!==ie||ka||n!==null&&n.dependencies!==null&&Nh(n.dependencies)?(typeof N=="function"&&(Om(r,o,N,c),ie=r.memoizedState),(le=ka||Jy(r,o,le,c,te,ie,B)||n!==null&&n.dependencies!==null&&Nh(n.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ie,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ie,B)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&te===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&te===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ie),g.props=c,g.state=ie,g.context=B,c=le):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&te===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&te===n.memoizedState||(r.flags|=1024),c=!1)}return g=c,Yh(n,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&c?(r.child=al(r,n.child,null,p),r.child=al(r,null,o,p)):Ln(n,r,o,p),r.memoizedState=g.state,n=r.child):n=Hs(n,r,p),n}function pv(n,r,o,c){return zs(),r.flags|=256,Ln(n,r,o,c),r.child}var jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vm(n){return{baseLanes:n,cachePool:ry()}}function zm(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=qi),n}function gv(n,r,o){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=n!==null&&n.memoizedState===null?!1:(sn.current&2)!==0),T&&(p=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(Xe){if(p?za(r):Ua(),(n=pt)?(n=T0(n,yi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ee!==null?{id:fe,overflow:xe}:null,retryLane:536870912,hydrationErrors:null},o=Qu(n),o.return=r,r.child=o,mt=r,pt=null)):n=null,n===null)throw us(r);return xp(n)?r.lanes=32:r.lanes=536870912,null}var N=c.children;return c=c.fallback,p?(Ua(),p=r.mode,N=Qh({mode:"hidden",children:N},p),c=Vs(c,p,o,null),N.return=r,c.return=r,N.sibling=c,r.child=N,c=r.child,c.memoizedState=Vm(o),c.childLanes=zm(n,T,o),r.memoizedState=jm,cc(null,c)):(za(r),Um(r,N))}var B=n.memoizedState;if(B!==null&&(N=B.dehydrated,N!==null)){if(g)r.flags&256?(za(r),r.flags&=-257,r=Bm(n,r,o)):r.memoizedState!==null?(Ua(),r.child=n.child,r.flags|=128,r=null):(Ua(),N=c.fallback,p=r.mode,c=Qh({mode:"visible",children:c.children},p),N=Vs(N,p,o,null),N.flags|=2,c.return=r,N.return=r,c.sibling=N,r.child=c,al(r,n.child,null,o),c=r.child,c.memoizedState=Vm(o),c.childLanes=zm(n,T,o),r.memoizedState=jm,r=cc(null,c));else if(za(r),xp(N)){if(T=N.nextSibling&&N.nextSibling.dataset,T)var J=T.dgst;T=J,c=Error(s(419)),c.stack="",c.digest=T,el({value:c,source:null,stack:null}),r=Bm(n,r,o)}else if(dn||$l(n,r,o,!1),T=(o&n.childLanes)!==0,dn||T){if(T=Pt,T!==null&&(c=Po(T,o),c!==0&&c!==B.retryLane))throw B.retryLane=c,hr(n,c),Ei(T,n,c),Mm;bp(N)||sf(),r=Bm(n,r,o)}else bp(N)?(r.flags|=192,r.child=n.child,r=null):(n=B.treeContext,pt=mr(N.nextSibling),mt=r,Xe=!0,ls=null,yi=!1,n!==null&&ti(r,n),r=Um(r,c.children),r.flags|=4096);return r}return p?(Ua(),N=c.fallback,p=r.mode,B=n.child,J=B.sibling,c=fr(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,J!==null?N=fr(J,N):(N=Vs(N,p,o,null),N.flags|=2),N.return=r,c.return=r,c.sibling=N,r.child=c,cc(null,c),c=r.child,N=n.child.memoizedState,N===null?N=Vm(o):(p=N.cachePool,p!==null?(B=hn._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=ry(),N={baseLanes:N.baseLanes|o,cachePool:p}),c.memoizedState=N,c.childLanes=zm(n,T,o),r.memoizedState=jm,cc(n.child,c)):(za(r),o=n.child,n=o.sibling,o=fr(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=o,r.memoizedState=null,o)}function Um(n,r){return r=Qh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Qh(n,r){return n=Fn(22,n,null,r),n.lanes=0,n}function Bm(n,r,o){return al(r,n.child,null,o),n=Um(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function _v(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),nm(n.return,r,o)}function qm(n,r,o,c,p,g){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=p,T.treeForkCount=g)}function yv(n,r,o){var c=r.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=sn.current,N=(T&2)!==0;if(N?(T=T&1|2,r.flags|=128):T&=1,_e(sn,T),Ln(n,r,c,o),c=Xe?R:0,!N&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_v(n,o,r);else if(n.tag===19)_v(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)n=o.alternate,n!==null&&jh(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),qm(r,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(n=p.alternate,n!==null&&jh(n)===null){r.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}qm(r,!0,o,null,g,c);break;case"together":qm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Hs(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Ha|=r.lanes,(o&r.childLanes)===0)if(n!==null){if($l(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=fr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=fr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Hm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Nh(n)))}function qT(n,r,o){switch(r.tag){case 3:Tt(r,r.stateNode.containerInfo),Ma(r,hn,n.memoizedState.cache),zs();break;case 27:case 5:xr(r);break;case 4:Tt(r,r.stateNode.containerInfo);break;case 10:Ma(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,mm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(za(r),r.flags|=128,null):(o&r.child.childLanes)!==0?gv(n,r,o):(za(r),n=Hs(n,r,o),n!==null?n.sibling:null);za(r);break;case 19:var p=(n.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||($l(n,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return yv(n,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),_e(sn,sn.current),c)break;return null;case 22:return r.lanes=0,cv(n,r,o,r.pendingProps);case 24:Ma(r,hn,n.memoizedState.cache)}return Hs(n,r,o)}function vv(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)dn=!0;else{if(!Hm(n,o)&&(r.flags&128)===0)return dn=!1,qT(n,r,o);dn=(n.flags&131072)!==0}else dn=!1,Xe&&(r.flags&1048576)!==0&&Ke(r,R,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(n=rl(r.elementType),r.type=n,typeof n=="function")Yl(n)?(c=ll(n,c),r.tag=1,r=mv(null,r,n,c,o)):(r.tag=0,r=km(null,r,n,c,o));else{if(n!=null){var p=n.$$typeof;if(p===we){r.tag=11,r=ov(null,r,n,c,o);break e}else if(p===j){r.tag=14,r=lv(null,r,n,c,o);break e}}throw r=ke(n)||n,Error(s(306,r,""))}}return r;case 0:return km(n,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=ll(c,r.pendingProps),mv(n,r,c,p,o);case 3:e:{if(Tt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,um(n,r),sc(r,c,null,o);var T=r.memoizedState;if(c=T.cache,Ma(r,hn,c),c!==g.cache&&im(r,[hn],o,!0),rc(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=pv(n,r,c,o);break e}else if(c!==p){p=u(Error(s(424)),r),el(p),r=pv(n,r,c,o);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,pt=mr(n.firstChild),mt=r,Xe=!0,ls=null,yi=!0,o=cy(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(zs(),c===p){r=Hs(n,r,o);break e}Ln(n,r,c,o)}r=r.child}return r;case 26:return Yh(n,r),n===null?(o=I0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,n=r.pendingProps,c=ff(Ee.current).createElement(o),c[Ft]=r,c[Wt]=n,Mn(c,o,n),$t(c),r.stateNode=c):r.memoizedState=I0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return xr(r),n===null&&Xe&&(c=r.stateNode=C0(r.type,r.pendingProps,Ee.current),mt=r,yi=!0,p=pt,Ya(r.type)?(wp=p,pt=mr(c.firstChild)):pt=p),Ln(n,r,r.pendingProps.children,o),Yh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Xe&&((p=c=pt)&&(c=y2(c,r.type,r.pendingProps,yi),c!==null?(r.stateNode=c,mt=r,pt=mr(c.firstChild),yi=!1,p=!0):p=!1),p||us(r)),xr(r),p=r.type,g=r.pendingProps,T=n!==null?n.memoizedProps:null,c=g.children,_p(p,g)?c=null:T!==null&&_p(p,T)&&(r.flags|=32),r.memoizedState!==null&&(p=gm(n,r,DT,null,null,o),Sc._currentValue=p),Yh(n,r),Ln(n,r,c,o),r.child;case 6:return n===null&&Xe&&((n=o=pt)&&(o=v2(o,r.pendingProps,yi),o!==null?(r.stateNode=o,mt=r,pt=null,n=!0):n=!1),n||us(r)),null;case 13:return gv(n,r,o);case 4:return Tt(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=al(r,null,c,o):Ln(n,r,c,o),r.child;case 11:return ov(n,r,r.type,r.pendingProps,o);case 7:return Ln(n,r,r.pendingProps,o),r.child;case 8:return Ln(n,r,r.pendingProps.children,o),r.child;case 12:return Ln(n,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Ma(r,r.type,c.value),Ln(n,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,nl(r),p=Dn(p),c=c(p),r.flags|=1,Ln(n,r,c,o),r.child;case 14:return lv(n,r,r.type,r.pendingProps,o);case 15:return uv(n,r,r.type,r.pendingProps,o);case 19:return yv(n,r,o);case 31:return BT(n,r,o);case 22:return cv(n,r,o,r.pendingProps);case 24:return nl(r),c=Dn(hn),n===null?(p=am(),p===null&&(p=Pt,g=rm(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:c,cache:p},lm(r),Ma(r,hn,p)):((n.lanes&o)!==0&&(um(n,r),sc(r,null,null,o),rc()),p=n.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Ma(r,hn,c)):(c=g.cache,Ma(r,hn,c),c!==p.cache&&im(r,[hn],o,!0))),Ln(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fs(n){n.flags|=4}function Fm(n,r,o,c,p){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(Zv())n.flags|=8192;else throw sl=Dh,om}else n.flags&=-16777217}function bv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!M0(r))if(Zv())n.flags|=8192;else throw sl=Dh,om}function Wh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Ll():536870912,n.lanes|=r,uu|=r)}function hc(n,r){if(!Xe)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function jt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function HT(n,r,o){var c=r.pendingProps;switch(Xt(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(r),null;case 1:return jt(r),null;case 3:return o=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Us(hn),Rt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Lr(r)?Fs(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xu())),jt(r),null;case 26:var p=r.type,g=r.memoizedState;return n===null?(Fs(r),g!==null?(jt(r),bv(r,g)):(jt(r),Fm(r,p,null,c,o))):g?g!==n.memoizedState?(Fs(r),jt(r),bv(r,g)):(jt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==c&&Fs(r),jt(r),Fm(r,p,n,c,o)),null;case 27:if(Fr(r),o=Ee.current,p=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Fs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return jt(r),null}n=ye.current,Lr(r)?$u(r):(n=C0(p,c,o),r.stateNode=n,Fs(r))}return jt(r),null;case 5:if(Fr(r),p=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Fs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return jt(r),null}if(g=ye.current,Lr(r))$u(r);else{var T=ff(Ee.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[Ft]=r,g[Wt]=c;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(Mn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Fs(r)}}return jt(r),Fm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&Fs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ee.current,Lr(r)){if(n=r.stateNode,o=r.memoizedProps,c=null,p=mt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[Ft]=r,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||g0(n.nodeValue,o)),n||us(r,!0)}else n=ff(n).createTextNode(c),n[Ft]=r,r.stateNode=n}return jt(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(c=Lr(r),o!==null){if(n===null){if(!c)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Ft]=r}else zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),n=!1}else o=Xu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(Ui(r),r):(Ui(r),null);if((r.flags&128)!==0)throw Error(s(558))}return jt(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Lr(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Ft]=r}else zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),p=!1}else p=Xu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Ui(r),r):(Ui(r),null)}return Ui(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),Wh(r,r.updateQueue),jt(r),null);case 4:return Rt(),n===null&&fp(r.stateNode.containerInfo),jt(r),null;case 10:return Us(r.type),jt(r),null;case 19:if(ae(sn),c=r.memoizedState,c===null)return jt(r),null;if(p=(r.flags&128)!==0,g=c.rendering,g===null)if(p)hc(c,!1);else{if(en!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=jh(n),g!==null){for(r.flags|=128,hc(c,!1),n=g.updateQueue,r.updateQueue=n,Wh(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Yu(o,n),o=o.sibling;return _e(sn,sn.current&1|2),Xe&&De(r,c.treeForkCount),r.child}n=n.sibling}c.tail!==null&&On()>tf&&(r.flags|=128,p=!0,hc(c,!1),r.lanes=4194304)}else{if(!p)if(n=jh(g),n!==null){if(r.flags|=128,p=!0,n=n.updateQueue,r.updateQueue=n,Wh(r,n),hc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Xe)return jt(r),null}else 2*On()-c.renderingStartTime>tf&&o!==536870912&&(r.flags|=128,p=!0,hc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(n=c.last,n!==null?n.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=On(),n.sibling=null,o=sn.current,_e(sn,p?o&1|2:o&1),Xe&&De(r,c.treeForkCount),n):(jt(r),null);case 22:case 23:return Ui(r),dm(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(jt(r),r.subtreeFlags&6&&(r.flags|=8192)):jt(r),o=r.updateQueue,o!==null&&Wh(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),n!==null&&ae(il),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Us(hn),jt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function FT(n,r){switch(Xt(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Us(hn),Rt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Fr(r),null;case 31:if(r.memoizedState!==null){if(Ui(r),r.alternate===null)throw Error(s(340));zs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Ui(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));zs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ae(sn),null;case 4:return Rt(),null;case 10:return Us(r.type),null;case 22:case 23:return Ui(r),dm(),n!==null&&ae(il),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Us(hn),null;case 25:return null;default:return null}}function xv(n,r){switch(Xt(r),r.tag){case 3:Us(hn),Rt();break;case 26:case 27:case 5:Fr(r);break;case 4:Rt();break;case 31:r.memoizedState!==null&&Ui(r);break;case 13:Ui(r);break;case 19:ae(sn);break;case 10:Us(r.type);break;case 22:case 23:Ui(r),dm(),n!==null&&ae(il);break;case 24:Us(hn)}}function fc(n,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&n)===n){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==p)}}catch(N){Et(r,r.return,N)}}function Ba(n,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&n)===n){var T=c.inst,N=T.destroy;if(N!==void 0){T.destroy=void 0,p=r;var B=o,J=N;try{J()}catch(le){Et(p,B,le)}}}c=c.next}while(c!==g)}}catch(le){Et(r,r.return,le)}}function wv(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{fy(r,o)}catch(c){Et(n,n.return,c)}}}function Ev(n,r,o){o.props=ll(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Et(n,r,c)}}function dc(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(p){Et(n,r,p)}}function hs(n,r){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Et(n,r,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Et(n,r,p)}else o.current=null}function Tv(n){var r=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Et(n,n.return,p)}}function Gm(n,r,o){try{var c=n.stateNode;f2(c,n.type,o,r),c[Wt]=r}catch(p){Et(n,n.return,p)}}function Sv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ya(n.type)||n.tag===4}function Zm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Sv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ya(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Km(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=zn));else if(c!==4&&(c===27&&Ya(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Km(n,r,o),n=n.sibling;n!==null;)Km(n,r,o),n=n.sibling}function $h(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(c===27&&Ya(n.type)&&(o=n.stateNode),n=n.child,n!==null))for($h(n,r,o),n=n.sibling;n!==null;)$h(n,r,o),n=n.sibling}function Av(n){var r=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Mn(r,c,o),r[Ft]=n,r[Wt]=o}catch(g){Et(n,n.return,g)}}var Gs=!1,mn=!1,Ym=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,In=null;function GT(n,r){if(n=n.containerInfo,pp=vf,n=Zo(n),is(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,N=-1,B=-1,J=0,le=0,de=n,te=null;t:for(;;){for(var ie;de!==o||p!==0&&de.nodeType!==3||(N=T+p),de!==g||c!==0&&de.nodeType!==3||(B=T+c),de.nodeType===3&&(T+=de.nodeValue.length),(ie=de.firstChild)!==null;)te=de,de=ie;for(;;){if(de===n)break t;if(te===o&&++J===p&&(N=T),te===g&&++le===c&&(B=T),(ie=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ie}o=N===-1||B===-1?null:{start:N,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(gp={focusedElem:n,selectionRange:o},vf=!1,In=r;In!==null;)if(r=In,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,In=n;else for(;In!==null;){switch(r=In,g=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Pe=ll(o.type,p);n=c.getSnapshotBeforeUpdate(Pe,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ve){Et(o,o.return,Ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)vp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,In=n;break}In=r.return}}function Rv(n,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ks(n,o),c&4&&fc(5,o);break;case 1:if(Ks(n,o),c&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(T){Et(o,o.return,T)}else{var p=ll(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(p,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Et(o,o.return,T)}}c&64&&wv(o),c&512&&dc(o,o.return);break;case 3:if(Ks(n,o),c&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{fy(n,r)}catch(T){Et(o,o.return,T)}}break;case 27:r===null&&c&4&&Av(o);case 26:case 5:Ks(n,o),r===null&&c&4&&Tv(o),c&512&&dc(o,o.return);break;case 12:Ks(n,o);break;case 31:Ks(n,o),c&4&&Pv(n,o);break;case 13:Ks(n,o),c&4&&Ov(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=e2.bind(null,o),b2(n,o))));break;case 22:if(c=o.memoizedState!==null||Gs,!c){r=r!==null&&r.memoizedState!==null||mn,p=Gs;var g=mn;Gs=c,(mn=r)&&!g?Ys(n,o,(o.subtreeFlags&8772)!==0):Ks(n,o),Gs=p,mn=g}break;case 30:break;default:Ks(n,o)}}function Nv(n){var r=n.alternate;r!==null&&(n.alternate=null,Nv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&_a(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var zt=null,vi=!1;function Zs(n,r,o){for(o=o.child;o!==null;)Iv(n,r,o),o=o.sibling}function Iv(n,r,o){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ai,o)}catch{}switch(o.tag){case 26:mn||hs(o,r),Zs(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mn||hs(o,r);var c=zt,p=vi;Ya(o.type)&&(zt=o.stateNode,vi=!1),Zs(n,r,o),wc(o.stateNode),zt=c,vi=p;break;case 5:mn||hs(o,r);case 6:if(c=zt,p=vi,zt=null,Zs(n,r,o),zt=c,vi=p,zt!==null)if(vi)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(o.stateNode)}catch(g){Et(o,r,g)}else try{zt.removeChild(o.stateNode)}catch(g){Et(o,r,g)}break;case 18:zt!==null&&(vi?(n=zt,w0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),_u(n)):w0(zt,o.stateNode));break;case 4:c=zt,p=vi,zt=o.stateNode.containerInfo,vi=!0,Zs(n,r,o),zt=c,vi=p;break;case 0:case 11:case 14:case 15:Ba(2,o,r),mn||Ba(4,o,r),Zs(n,r,o);break;case 1:mn||(hs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Ev(o,r,c)),Zs(n,r,o);break;case 21:Zs(n,r,o);break;case 22:mn=(c=mn)||o.memoizedState!==null,Zs(n,r,o),mn=c;break;default:Zs(n,r,o)}}function Pv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{_u(n)}catch(o){Et(r,r.return,o)}}}function Ov(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{_u(n)}catch(o){Et(r,r.return,o)}}function ZT(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Cv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Cv),r;default:throw Error(s(435,n.tag))}}function Xh(n,r){var o=ZT(n);r.forEach(function(c){if(!o.has(c)){o.add(c);var p=t2.bind(null,n,c);c.then(p,p)}})}function bi(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=n,T=r,N=T;e:for(;N!==null;){switch(N.tag){case 27:if(Ya(N.type)){zt=N.stateNode,vi=!1;break e}break;case 5:zt=N.stateNode,vi=!1;break e;case 3:case 4:zt=N.stateNode.containerInfo,vi=!0;break e}N=N.return}if(zt===null)throw Error(s(160));Iv(g,T,p),zt=null,vi=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Dv(r,n),r=r.sibling}var kr=null;function Dv(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:bi(r,n),xi(n),c&4&&(Ba(3,n,n.return),fc(3,n),Ba(5,n,n.return));break;case 1:bi(r,n),xi(n),c&512&&(mn||o===null||hs(o,o.return)),c&64&&Gs&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=kr;if(bi(r,n),xi(n),c&512&&(mn||o===null||hs(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[er]||g[Ft]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Mn(g,c,o),g[Ft]=n,$t(g),c=g;break e;case"link":var T=D0("link","href",p).get(c+(o.href||""));if(T){for(var N=0;N<T.length;N++)if(g=T[N],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(N,1);break t}}g=p.createElement(c),Mn(g,c,o),p.head.appendChild(g);break;case"meta":if(T=D0("meta","content",p).get(c+(o.content||""))){for(N=0;N<T.length;N++)if(g=T[N],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(N,1);break t}}g=p.createElement(c),Mn(g,c,o),p.head.appendChild(g);break;default:throw Error(s(468,c))}g[Ft]=n,$t(g),c=g}n.stateNode=c}else L0(p,n.type,n.stateNode);else n.stateNode=O0(p,c,n.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?L0(p,n.type,n.stateNode):O0(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Gm(n,n.memoizedProps,o.memoizedProps)}break;case 27:bi(r,n),xi(n),c&512&&(mn||o===null||hs(o,o.return)),o!==null&&c&4&&Gm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(bi(r,n),xi(n),c&512&&(mn||o===null||hs(o,o.return)),n.flags&32){p=n.stateNode;try{un(p,"")}catch(Pe){Et(n,n.return,Pe)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,Gm(n,p,o!==null?o.memoizedProps:p)),c&1024&&(Ym=!0);break;case 6:if(bi(r,n),xi(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Pe){Et(n,n.return,Pe)}}break;case 3:if(pf=null,p=kr,kr=df(r.containerInfo),bi(r,n),kr=p,xi(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{_u(r.containerInfo)}catch(Pe){Et(n,n.return,Pe)}Ym&&(Ym=!1,Lv(n));break;case 4:c=kr,kr=df(n.stateNode.containerInfo),bi(r,n),xi(n),kr=c;break;case 12:bi(r,n),xi(n);break;case 31:bi(r,n),xi(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Xh(n,c)));break;case 13:bi(r,n),xi(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ef=On()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Xh(n,c)));break;case 22:p=n.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,J=Gs,le=mn;if(Gs=J||p,mn=le||B,bi(r,n),mn=le,Gs=J,xi(n),c&8192)e:for(r=n.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||B||Gs||mn||ul(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){B=o=r;try{if(g=B.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{N=B.stateNode;var de=B.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Pe){Et(B,B.return,Pe)}}}else if(r.tag===6){if(o===null){B=r;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(Pe){Et(B,B.return,Pe)}}}else if(r.tag===18){if(o===null){B=r;try{var ie=B.stateNode;p?E0(ie,!0):E0(B.stateNode,!1)}catch(Pe){Et(B,B.return,Pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Xh(n,o))));break;case 19:bi(r,n),xi(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Xh(n,c)));break;case 30:break;case 21:break;default:bi(r,n),xi(n)}}function xi(n){var r=n.flags;if(r&2){try{for(var o,c=n.return;c!==null;){if(Sv(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,g=Zm(n);$h(n,g,p);break;case 5:var T=o.stateNode;o.flags&32&&(un(T,""),o.flags&=-33);var N=Zm(n);$h(n,N,T);break;case 3:case 4:var B=o.stateNode.containerInfo,J=Zm(n);Km(n,J,B);break;default:throw Error(s(161))}}catch(le){Et(n,n.return,le)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Lv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ks(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Rv(n,r.alternate,r),r=r.sibling}function ul(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ba(4,r,r.return),ul(r);break;case 1:hs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Ev(r,r.return,o),ul(r);break;case 27:wc(r.stateNode);case 26:case 5:hs(r,r.return),ul(r);break;case 22:r.memoizedState===null&&ul(r);break;case 30:ul(r);break;default:ul(r)}n=n.sibling}}function Ys(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=n,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ys(p,g,o),fc(4,g);break;case 1:if(Ys(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){Et(c,c.return,J)}if(c=g,p=c.updateQueue,p!==null){var N=c.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)hy(B[p],N)}catch(J){Et(c,c.return,J)}}o&&T&64&&wv(g),dc(g,g.return);break;case 27:Av(g);case 26:case 5:Ys(p,g,o),o&&c===null&&T&4&&Tv(g),dc(g,g.return);break;case 12:Ys(p,g,o);break;case 31:Ys(p,g,o),o&&T&4&&Pv(p,g);break;case 13:Ys(p,g,o),o&&T&4&&Ov(p,g);break;case 22:g.memoizedState===null&&Ys(p,g,o),dc(g,g.return);break;case 30:break;default:Ys(p,g,o)}r=r.sibling}}function Qm(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Ju(o))}function Wm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ju(n))}function jr(n,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mv(n,r,o,c),r=r.sibling}function Mv(n,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:jr(n,r,o,c),p&2048&&fc(9,r);break;case 1:jr(n,r,o,c);break;case 3:jr(n,r,o,c),p&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ju(n)));break;case 12:if(p&2048){jr(n,r,o,c),n=r.stateNode;try{var g=r.memoizedProps,T=g.id,N=g.onPostCommit;typeof N=="function"&&N(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(B){Et(r,r.return,B)}}else jr(n,r,o,c);break;case 31:jr(n,r,o,c);break;case 13:jr(n,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?jr(n,r,o,c):mc(n,r):g._visibility&2?jr(n,r,o,c):(g._visibility|=2,au(n,r,o,c,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Qm(T,r);break;case 24:jr(n,r,o,c),p&2048&&Wm(r.alternate,r);break;default:jr(n,r,o,c)}}function au(n,r,o,c,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=n,T=r,N=o,B=c,J=T.flags;switch(T.tag){case 0:case 11:case 15:au(g,T,N,B,p),fc(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?au(g,T,N,B,p):mc(g,T):(le._visibility|=2,au(g,T,N,B,p)),p&&J&2048&&Qm(T.alternate,T);break;case 24:au(g,T,N,B,p),p&&J&2048&&Wm(T.alternate,T);break;default:au(g,T,N,B,p)}r=r.sibling}}function mc(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,c=r,p=c.flags;switch(c.tag){case 22:mc(o,c),p&2048&&Qm(c.alternate,c);break;case 24:mc(o,c),p&2048&&Wm(c.alternate,c);break;default:mc(o,c)}r=r.sibling}}var pc=8192;function ou(n,r,o){if(n.subtreeFlags&pc)for(n=n.child;n!==null;)kv(n,r,o),n=n.sibling}function kv(n,r,o){switch(n.tag){case 26:ou(n,r,o),n.flags&pc&&n.memoizedState!==null&&O2(o,kr,n.memoizedState,n.memoizedProps);break;case 5:ou(n,r,o);break;case 3:case 4:var c=kr;kr=df(n.stateNode.containerInfo),ou(n,r,o),kr=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=pc,pc=16777216,ou(n,r,o),pc=c):ou(n,r,o));break;default:ou(n,r,o)}}function jv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function gc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];In=c,zv(c,n)}jv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vv(n),n=n.sibling}function Vv(n){switch(n.tag){case 0:case 11:case 15:gc(n),n.flags&2048&&Ba(9,n,n.return);break;case 3:gc(n);break;case 12:gc(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Jh(n)):gc(n);break;default:gc(n)}}function Jh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];In=c,zv(c,n)}jv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ba(8,r,r.return),Jh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Jh(r));break;default:Jh(r)}n=n.sibling}}function zv(n,r){for(;In!==null;){var o=In;switch(o.tag){case 0:case 11:case 15:Ba(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ju(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,In=c;else e:for(o=n;In!==null;){c=In;var p=c.sibling,g=c.return;if(Nv(c),c===o){In=null;break e}if(p!==null){p.return=g,In=p;break e}In=g}}}var KT={getCacheForType:function(n){var r=Dn(hn),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return Dn(hn).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,yt=0,Pt=null,Je=null,it=0,wt=0,Bi=null,qa=!1,lu=!1,$m=!1,Qs=0,en=0,Ha=0,cl=0,Xm=0,qi=0,uu=0,_c=null,wi=null,Jm=!1,ef=0,Uv=0,tf=1/0,nf=null,Fa=null,bn=0,Ga=null,cu=null,Ws=0,ep=0,tp=null,Bv=null,yc=0,np=null;function Hi(){return(yt&2)!==0&&it!==0?it&-it:re.T!==null?lp():Oo()}function qv(){if(qi===0)if((it&536870912)===0||Xe){var n=Qr;Qr<<=1,(Qr&3932160)===0&&(Qr=262144),qi=n}else qi=536870912;return n=zi.current,n!==null&&(n.flags|=32),qi}function Ei(n,r,o){(n===Pt&&(wt===2||wt===9)||n.cancelPendingCommit!==null)&&(hu(n,0),Za(n,it,qi,!1)),Er(n,o),((yt&2)===0||n!==Pt)&&(n===Pt&&((yt&2)===0&&(cl|=o),en===4&&Za(n,it,qi,!1)),fs(n))}function Hv(n,r,o){if((yt&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&n.expiredLanes)===0||Ci(n,r),p=c?$T(n,r):rp(n,r,!0),g=c;do{if(p===0){lu&&!c&&Za(n,r,0,!1);break}else{if(o=n.current.alternate,g&&!QT(o)){p=rp(n,r,!1),g=!1;continue}if(p===2){if(g=r,n.errorRecoveryDisabledLanes&g)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var N=n;p=_c;var B=N.current.memoizedState.isDehydrated;if(B&&(hu(N,T).flags|=256),T=rp(N,T,!1),T!==2){if($m&&!B){N.errorRecoveryDisabledLanes|=g,cl|=g,p=4;break e}g=wi,wi=p,g!==null&&(wi===null?wi=g:wi.push.apply(wi,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){hu(n,0),Za(n,r,0,!0);break}e:{switch(c=n,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Za(c,r,qi,!qa);break e;case 2:wi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=ef+300-On(),10<p)){if(Za(c,r,qi,!qa),Xi(c,0,!0)!==0)break e;Ws=r,c.timeoutHandle=b0(Fv.bind(null,c,o,wi,nf,Jm,r,qi,cl,uu,qa,g,"Throttled",-0,0),p);break e}Fv(c,o,wi,nf,Jm,r,qi,cl,uu,qa,g,null,-0,0)}}break}while(!0);fs(n)}function Fv(n,r,o,c,p,g,T,N,B,J,le,de,te,ie){if(n.timeoutHandle=-1,de=r.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},kv(r,g,de);var Pe=(g&62914560)===g?ef-On():(g&4194048)===g?Uv-On():0;if(Pe=D2(de,Pe),Pe!==null){Ws=g,n.cancelPendingCommit=Pe(Xv.bind(null,n,r,g,o,c,p,T,N,B,le,de,null,te,ie)),Za(n,g,T,!J);return}}Xv(n,r,g,o,c,p,T,N,B)}function QT(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!Rn(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Za(n,r,o,c){r&=~Xm,r&=~cl,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var p=r;0<p;){var g=31-qt(p),T=1<<g;c[g]=-1,p&=~T}o!==0&&Rs(n,o,r)}function rf(){return(yt&6)===0?(vc(0),!1):!0}function ip(){if(Je!==null){if(wt===0)var n=Je.return;else n=Je,Mr=cs=null,vm(n),tu=null,tc=0,n=Je;for(;n!==null;)xv(n.alternate,n),n=n.return;Je=null}}function hu(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,p2(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ws=0,ip(),Pt=n,Je=o=fr(n.current,null),it=r,wt=0,Bi=null,qa=!1,lu=Ci(n,r),$m=!1,uu=qi=Xm=cl=Ha=en=0,wi=_c=null,Jm=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var p=31-qt(c),g=1<<p;r|=n[p],c&=~g}return Qs=r,$o(),o}function Gv(n,r){Ze=null,re.H=uc,r===eu||r===Oh?(r=oy(),wt=3):r===om?(r=oy(),wt=4):wt=r===Mm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bi=r,Je===null&&(en=1,Zh(n,u(r,n.current)))}function Zv(){var n=zi.current;return n===null?!0:(it&4194048)===it?dr===null:(it&62914560)===it||(it&536870912)!==0?n===dr:!1}function Kv(){var n=re.H;return re.H=uc,n===null?uc:n}function Yv(){var n=re.A;return re.A=KT,n}function sf(){en=4,qa||(it&4194048)!==it&&zi.current!==null||(lu=!0),(Ha&134217727)===0&&(cl&134217727)===0||Pt===null||Za(Pt,it,qi,!1)}function rp(n,r,o){var c=yt;yt|=2;var p=Kv(),g=Yv();(Pt!==n||it!==r)&&(nf=null,hu(n,r)),r=!1;var T=en;e:do try{if(wt!==0&&Je!==null){var N=Je,B=Bi;switch(wt){case 8:ip(),T=6;break e;case 3:case 2:case 9:case 6:zi.current===null&&(r=!0);var J=wt;if(wt=0,Bi=null,fu(n,N,B,J),o&&lu){T=0;break e}break;default:J=wt,wt=0,Bi=null,fu(n,N,B,J)}}WT(),T=en;break}catch(le){Gv(n,le)}while(!0);return r&&n.shellSuspendCounter++,Mr=cs=null,yt=c,re.H=p,re.A=g,Je===null&&(Pt=null,it=0,$o()),T}function WT(){for(;Je!==null;)Qv(Je)}function $T(n,r){var o=yt;yt|=2;var c=Kv(),p=Yv();Pt!==n||it!==r?(nf=null,tf=On()+500,hu(n,r)):lu=Ci(n,r);e:do try{if(wt!==0&&Je!==null){r=Je;var g=Bi;t:switch(wt){case 1:wt=0,Bi=null,fu(n,r,g,1);break;case 2:case 9:if(sy(g)){wt=0,Bi=null,Wv(r);break}r=function(){wt!==2&&wt!==9||Pt!==n||(wt=7),fs(n)},g.then(r,r);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:sy(g)?(wt=0,Bi=null,Wv(r)):(wt=0,Bi=null,fu(n,r,g,7));break;case 5:var T=null;switch(Je.tag){case 26:T=Je.memoizedState;case 5:case 27:var N=Je;if(T?M0(T):N.stateNode.complete){wt=0,Bi=null;var B=N.sibling;if(B!==null)Je=B;else{var J=N.return;J!==null?(Je=J,af(J)):Je=null}break t}}wt=0,Bi=null,fu(n,r,g,5);break;case 6:wt=0,Bi=null,fu(n,r,g,6);break;case 8:ip(),en=6;break e;default:throw Error(s(462))}}XT();break}catch(le){Gv(n,le)}while(!0);return Mr=cs=null,re.H=c,re.A=p,yt=o,Je!==null?0:(Pt=null,it=0,$o(),en)}function XT(){for(;Je!==null&&!Pl();)Qv(Je)}function Qv(n){var r=vv(n.alternate,n,Qs);n.memoizedProps=n.pendingProps,r===null?af(n):Je=r}function Wv(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=dv(o,r,r.pendingProps,r.type,void 0,it);break;case 11:r=dv(o,r,r.pendingProps,r.type.render,r.ref,it);break;case 5:vm(r);default:xv(o,r),r=Je=Yu(r,Qs),r=vv(o,r,Qs)}n.memoizedProps=n.pendingProps,r===null?af(n):Je=r}function fu(n,r,o,c){Mr=cs=null,vm(r),tu=null,tc=0;var p=r.return;try{if(UT(n,p,r,o,it)){en=1,Zh(n,u(o,n.current)),Je=null;return}}catch(g){if(p!==null)throw Je=p,g;en=1,Zh(n,u(o,n.current)),Je=null;return}r.flags&32768?(Xe||c===1?n=!0:lu||(it&536870912)!==0?n=!1:(qa=n=!0,(c===2||c===9||c===3||c===6)&&(c=zi.current,c!==null&&c.tag===13&&(c.flags|=16384))),$v(r,n)):af(r)}function af(n){var r=n;do{if((r.flags&32768)!==0){$v(r,qa);return}n=r.return;var o=HT(r.alternate,r,Qs);if(o!==null){Je=o;return}if(r=r.sibling,r!==null){Je=r;return}Je=r=n}while(r!==null);en===0&&(en=5)}function $v(n,r){do{var o=FT(n.alternate,n);if(o!==null){o.flags&=32767,Je=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Je=n;return}Je=n=o}while(n!==null);en=6,Je=null}function Xv(n,r,o,c,p,g,T,N,B){n.cancelPendingCommit=null;do of();while(bn!==0);if((yt&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Kl,Zu(n,o,g,T,N,B),n===Pt&&(Je=Pt=null,it=0),cu=r,Ga=n,Ws=o,ep=g,tp=p,Bv=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,n2(wr,function(){return i0(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=re.T,re.T=null,p=be.p,be.p=2,T=yt,yt|=4;try{GT(n,r,o)}finally{yt=T,be.p=p,re.T=c}}bn=1,Jv(),e0(),t0()}}function Jv(){if(bn===1){bn=0;var n=Ga,r=cu,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=re.T,re.T=null;var c=be.p;be.p=2;var p=yt;yt|=4;try{Dv(r,n);var g=gp,T=Zo(n.containerInfo),N=g.focusedElem,B=g.selectionRange;if(T!==N&&N&&N.ownerDocument&&Hl(N.ownerDocument.documentElement,N)){if(B!==null&&is(N)){var J=B.start,le=B.end;if(le===void 0&&(le=J),"selectionStart"in N)N.selectionStart=J,N.selectionEnd=Math.min(le,N.value.length);else{var de=N.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Pe=N.textContent.length,Ve=Math.min(B.start,Pe),Ct=B.end===void 0?Ve:Math.min(B.end,Pe);!ie.extend&&Ve>Ct&&(T=Ct,Ct=Ve,Ve=T);var Q=Go(N,Ve),K=Go(N,Ct);if(Q&&K&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var X=de.createRange();X.setStart(Q.node,Q.offset),ie.removeAllRanges(),Ve>Ct?(ie.addRange(X),ie.extend(K.node,K.offset)):(X.setEnd(K.node,K.offset),ie.addRange(X))}}}}for(de=[],ie=N;ie=ie.parentNode;)ie.nodeType===1&&de.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var ce=de[N];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}vf=!!pp,gp=pp=null}finally{yt=p,be.p=c,re.T=o}}n.current=r,bn=2}}function e0(){if(bn===2){bn=0;var n=Ga,r=cu,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=re.T,re.T=null;var c=be.p;be.p=2;var p=yt;yt|=4;try{Rv(n,r.alternate,r)}finally{yt=p,be.p=c,re.T=o}}bn=3}}function t0(){if(bn===4||bn===3){bn=0,Co();var n=Ga,r=cu,o=Ws,c=Bv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?bn=5:(bn=0,cu=Ga=null,n0(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Fa=null),Ne(o),r=r.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ai,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=re.T,p=be.p,be.p=2,re.T=null;try{for(var g=n.onRecoverableError,T=0;T<c.length;T++){var N=c[T];g(N.value,{componentStack:N.stack})}}finally{re.T=r,be.p=p}}(Ws&3)!==0&&of(),fs(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===np?yc++:(yc=0,np=n):yc=0,vc(0)}}function n0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Ju(r)))}function of(){return Jv(),e0(),t0(),i0()}function i0(){if(bn!==5)return!1;var n=Ga,r=ep;ep=0;var o=Ne(Ws),c=re.T,p=be.p;try{be.p=32>o?32:o,re.T=null,o=tp,tp=null;var g=Ga,T=Ws;if(bn=0,cu=Ga=null,Ws=0,(yt&6)!==0)throw Error(s(331));var N=yt;if(yt|=4,Vv(g.current),Mv(g,g.current,T,o),yt=N,vc(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ai,g)}catch{}return!0}finally{be.p=p,re.T=c,n0(n,r)}}function r0(n,r,o){r=u(o,r),r=Lm(n.stateNode,r,2),n=Va(n,r,2),n!==null&&(Er(n,2),fs(n))}function Et(n,r,o){if(n.tag===3)r0(n,n,o);else for(;r!==null;){if(r.tag===3){r0(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fa===null||!Fa.has(c))){n=u(o,n),o=sv(2),c=Va(r,o,2),c!==null&&(av(o,c,r,n),Er(c,2),fs(c));break}}r=r.return}}function sp(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new YT;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||($m=!0,p.add(o),n=JT.bind(null,n,r,o),r.then(n,n))}function JT(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Pt===n&&(it&o)===o&&(en===4||en===3&&(it&62914560)===it&&300>On()-ef?(yt&2)===0&&hu(n,0):Xm|=o,uu===it&&(uu=0)),fs(n)}function s0(n,r){r===0&&(r=Ll()),n=hr(n,r),n!==null&&(Er(n,r),fs(n))}function e2(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),s0(n,o)}function t2(n,r){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),s0(n,o)}function n2(n,r){return Qt(n,r)}var lf=null,du=null,ap=!1,uf=!1,op=!1,Ka=0;function fs(n){n!==du&&n.next===null&&(du===null?lf=du=n:du=du.next=n),uf=!0,ap||(ap=!0,r2())}function vc(n,r){if(!op&&uf){op=!0;do for(var o=!1,c=lf;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,N=c.pingedLanes;g=(1<<31-qt(42|n)+1)-1,g&=p&~(T&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,u0(c,g))}else g=it,g=Xi(c,c===Pt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ci(c,g)||(o=!0,u0(c,g));c=c.next}while(o);op=!1}}function i2(){a0()}function a0(){uf=ap=!1;var n=0;Ka!==0&&m2()&&(n=Ka);for(var r=On(),o=null,c=lf;c!==null;){var p=c.next,g=o0(c,r);g===0?(c.next=null,o===null?lf=p:o.next=p,p===null&&(du=o)):(o=c,(n!==0||(g&3)!==0)&&(uf=!0)),c=p}bn!==0&&bn!==5||vc(n),Ka!==0&&(Ka=0)}function o0(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var T=31-qt(g),N=1<<T,B=p[T];B===-1?((N&o)===0||(N&c)!==0)&&(p[T]=Gu(N,r)):B<=r&&(n.expiredLanes|=N),g&=~N}if(r=Pt,o=it,o=Xi(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===r&&(wt===2||wt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Wi(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ci(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(c!==null&&Wi(c),Ne(o)){case 2:case 8:o=pa;break;case 32:o=wr;break;case 268435456:o=Ro;break;default:o=wr}return c=l0.bind(null,n),o=Qt(o,c),n.callbackPriority=r,n.callbackNode=o,r}return c!==null&&c!==null&&Wi(c),n.callbackPriority=2,n.callbackNode=null,2}function l0(n,r){if(bn!==0&&bn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(of()&&n.callbackNode!==o)return null;var c=it;return c=Xi(n,n===Pt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Hv(n,c,r),o0(n,On()),n.callbackNode!=null&&n.callbackNode===o?l0.bind(null,n):null)}function u0(n,r){if(of())return null;Hv(n,r,!0)}function r2(){g2(function(){(yt&6)!==0?Qt(Cs,i2):a0()})}function lp(){if(Ka===0){var n=Xl;n===0&&(n=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),Ka=n}return Ka}function c0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Xr(""+n)}function h0(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function s2(n,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var g=c0((p[Wt]||null).action),T=c.submitter;T&&(r=(r=T[Wt]||null)?c0(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var N=new or("action","action",null,c,p);n.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ka!==0){var B=T?h0(p,T):new FormData(p);Rm(o,{pending:!0,data:B,method:p.method,action:g},null,B)}}else typeof g=="function"&&(N.preventDefault(),B=T?h0(p,T):new FormData(p),Rm(o,{pending:!0,data:B,method:p.method,action:g},g,B))},currentTarget:p}]})}}for(var up=0;up<as.length;up++){var cp=as[up],a2=cp.toLowerCase(),o2=cp[0].toUpperCase()+cp.slice(1);gi(a2,"on"+o2)}gi(Yo,"onAnimationEnd"),gi(Ah,"onAnimationIteration"),gi(Qo,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Jd,"onTransitionRun"),gi(Ch,"onTransitionStart"),gi(em,"onTransitionCancel"),gi(Da,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function f0(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],p=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var N=c[T],B=N.instance,J=N.currentTarget;if(N=N.listener,B!==g&&p.isPropagationStopped())break e;g=N,p.currentTarget=J;try{g(p)}catch(le){Wo(le)}p.currentTarget=null,g=B}else for(T=0;T<c.length;T++){if(N=c[T],B=N.instance,J=N.currentTarget,N=N.listener,B!==g&&p.isPropagationStopped())break e;g=N,p.currentTarget=J;try{g(p)}catch(le){Wo(le)}p.currentTarget=null,g=B}}}}function et(n,r){var o=r[Ni];o===void 0&&(o=r[Ni]=new Set);var c=n+"__bubble";o.has(c)||(d0(r,n,2,!1),o.add(c))}function hp(n,r,o){var c=0;r&&(c|=4),d0(o,n,c,r)}var cf="_reactListening"+Math.random().toString(36).slice(2);function fp(n){if(!n[cf]){n[cf]=!0,Do.forEach(function(o){o!=="selectionchange"&&(l2.has(o)||hp(o,!1,n),hp(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[cf]||(r[cf]=!0,hp("selectionchange",!1,r))}}function d0(n,r,o,c){switch(q0(r)){case 2:var p=k2;break;case 8:p=j2;break;default:p=Cp}o=p.bind(null,r,o,n),p=void 0,!Cr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(r,o,{capture:!0,passive:p}):n.addEventListener(r,o,!0):p!==void 0?n.addEventListener(r,o,{passive:p}):n.addEventListener(r,o,!1)}function dp(n,r,o,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var N=c.stateNode.containerInfo;if(N===p)break;if(T===4)for(T=c.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;N!==null;){if(T=Ii(N),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){c=g=T;continue e}N=N.parentNode}}c=c.return}Ar(function(){var J=g,le=Un(o),de=[];e:{var te=Rh.get(n);if(te!==void 0){var ie=or,Pe=n;switch(n){case"keypress":if(es(o)===0)break e;case"keydown":case"keyup":ie=Uo;break;case"focusin":Pe="focus",ie=Ls;break;case"focusout":Pe="blur",ie=Ls;break;case"beforeblur":case"afterblur":ie=Ls;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Vl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=w;break;case Yo:case Ah:case Qo:ie=Ea;break;case Da:ie=P;break;case"scroll":case"scrollend":ie=Qe;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=Jn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Pr;break;case"toggle":case"beforetoggle":ie=Be}var Ve=(r&4)!==0,Ct=!Ve&&(n==="scroll"||n==="scrollend"),Q=Ve?te!==null?te+"Capture":null:te;Ve=[];for(var K=J,X;K!==null;){var ce=K;if(X=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||X===null||Q===null||(ce=Xn(K,Q),ce!=null&&Ve.push(xc(K,ce,X))),Ct)break;K=K.return}0<Ve.length&&(te=new ie(te,Pe,null,o,le),de.push({event:te,listeners:Ve}))}}if((r&7)===0){e:{if(te=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",te&&o!==wa&&(Pe=o.relatedTarget||o.fromElement)&&(Ii(Pe)||Pe[Ri]))break e;if((ie||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Pe=o.relatedTarget||o.toElement,ie=J,Pe=Pe?Ii(Pe):null,Pe!==null&&(Ct=h(Pe),Ve=Pe.tag,Pe!==Ct||Ve!==5&&Ve!==27&&Ve!==6)&&(Pe=null)):(ie=null,Pe=J),ie!==Pe)){if(Ve=Mo,ce="onMouseLeave",Q="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(Ve=Pr,ce="onPointerLeave",Q="onPointerEnter",K="pointer"),Ct=ie==null?te:Tn(ie),X=Pe==null?te:Tn(Pe),te=new Ve(ce,K+"leave",ie,o,le),te.target=Ct,te.relatedTarget=X,ce=null,Ii(le)===J&&(Ve=new Ve(Q,K+"enter",Pe,o,le),Ve.target=X,Ve.relatedTarget=Ct,ce=Ve),Ct=ce,ie&&Pe)t:{for(Ve=u2,Q=ie,K=Pe,X=0,ce=Q;ce;ce=Ve(ce))X++;ce=0;for(var Le=K;Le;Le=Ve(Le))ce++;for(;0<X-ce;)Q=Ve(Q),X--;for(;0<ce-X;)K=Ve(K),ce--;for(;X--;){if(Q===K||K!==null&&Q===K.alternate){Ve=Q;break t}Q=Ve(Q),K=Ve(K)}Ve=null}else Ve=null;ie!==null&&m0(de,te,ie,Ve,!1),Pe!==null&&Ct!==null&&m0(de,Ct,Pe,Ve,!0)}}e:{if(te=J?Tn(J):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var gt=Fo;else if(lr(te))if(xh)gt=Xd;else{gt=$d;var Oe=Or}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&$r(J.elementType)&&(gt=Fo):gt=Na;if(gt&&(gt=gt(n,J))){bh(de,gt,o,le);break e}Oe&&Oe(n,te,J),n==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Pi(te,"number",te.value)}switch(Oe=J?Tn(J):window,n){case"focusin":(lr(Oe)||Oe.contentEditable==="true")&&(rs=Oe,Gl=J,Ko=null);break;case"focusout":Ko=Gl=rs=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Th(de,o,le);break;case"selectionchange":if(Fl)break;case"keydown":case"keyup":Th(de,o,le)}var Ye;if(ht)e:{switch(n){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Aa?Ms(n,o)&&(rt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(pi&&o.locale!=="ko"&&(Aa||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Aa&&(Ye=Oi()):(di=le,Rr="value"in di?di.value:di.textContent,Aa=!0)),Oe=hf(J,rt),0<Oe.length&&(rt=new Mi(rt,n,null,o,le),de.push({event:rt,listeners:Oe}),Ye?rt.data=Ye:(Ye=ks(o),Ye!==null&&(rt.data=Ye)))),(Ye=mi?Vi(n,o):Ca(n,o))&&(rt=hf(J,"onBeforeInput"),0<rt.length&&(Oe=new Mi("onBeforeInput","beforeinput",null,o,le),de.push({event:Oe,listeners:rt}),Oe.data=Ye)),s2(de,n,J,o,le)}f0(de,r)})}function xc(n,r,o){return{instance:n,listener:r,currentTarget:o}}function hf(n,r){for(var o=r+"Capture",c=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Xn(n,o),p!=null&&c.unshift(xc(n,p,g)),p=Xn(n,r),p!=null&&c.push(xc(n,p,g))),n.tag===3)return c;n=n.return}return[]}function u2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function m0(n,r,o,c,p){for(var g=r._reactName,T=[];o!==null&&o!==c;){var N=o,B=N.alternate,J=N.stateNode;if(N=N.tag,B!==null&&B===c)break;N!==5&&N!==26&&N!==27||J===null||(B=J,p?(J=Xn(o,g),J!=null&&T.unshift(xc(o,J,B))):p||(J=Xn(o,g),J!=null&&T.push(xc(o,J,B)))),o=o.return}T.length!==0&&n.push({event:r,listeners:T})}var c2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function p0(n){return(typeof n=="string"?n:""+n).replace(c2,`
`).replace(h2,"")}function g0(n,r){return r=p0(r),p0(n)===r}function At(n,r,o,c,p,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||un(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&un(n,""+c);break;case"className":$e(n,"class",c);break;case"tabIndex":$e(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$e(n,o,c);break;case"style":Ps(n,c,g);break;case"data":if(r!=="object"){$e(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Xr(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&At(n,r,"name",p.name,p,null),At(n,r,"formEncType",p.formEncType,p,null),At(n,r,"formMethod",p.formMethod,p,null),At(n,r,"formTarget",p.formTarget,p,null)):(At(n,r,"encType",p.encType,p,null),At(n,r,"method",p.method,p,null),At(n,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Xr(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=zn);break;case"onScroll":c!=null&&et("scroll",n);break;case"onScrollEnd":c!=null&&et("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=Xr(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":et("beforetoggle",n),et("toggle",n),We(n,"popover",c);break;case"xlinkActuate":Lt(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Lt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Lt(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Lt(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Lt(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Lt(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":We(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Os.get(o)||o,We(n,o,c))}}function mp(n,r,o,c,p,g){switch(o){case"style":Ps(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof c=="string"?un(n,c):(typeof c=="number"||typeof c=="bigint")&&un(n,""+c);break;case"onScroll":c!=null&&et("scroll",n);break;case"onScrollEnd":c!=null&&et("scrollend",n);break;case"onClick":c!=null&&(n.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=n[Wt]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,c,p);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):We(n,o,c)}}}function Mn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",n),et("load",n);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:At(n,r,g,T,o,null)}}p&&At(n,r,"srcSet",o.srcSet,o,null),c&&At(n,r,"src",o.src,o,null);return;case"input":et("invalid",n);var N=g=T=p=null,B=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var le=o[c];if(le!=null)switch(c){case"name":p=le;break;case"type":T=le;break;case"checked":B=le;break;case"defaultChecked":J=le;break;case"value":g=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:At(n,r,c,le,o,null)}}Is(n,g,N,B,J,T,p,!1);return;case"select":et("invalid",n),c=T=g=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":g=N;break;case"defaultValue":T=N;break;case"multiple":c=N;default:At(n,r,p,N,o,null)}r=g,o=T,n.multiple=!!c,r!=null?xt(n,!!c,r,!1):o!=null&&xt(n,!!c,o,!0);return;case"textarea":et("invalid",n),g=p=c=null;for(T in o)if(o.hasOwnProperty(T)&&(N=o[T],N!=null))switch(T){case"value":c=N;break;case"defaultValue":p=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:At(n,r,T,N,o,null)}fi(n,c,p,g);return;case"option":for(B in o)o.hasOwnProperty(B)&&(c=o[B],c!=null)&&(B==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":At(n,r,B,c,o,null));return;case"dialog":et("beforetoggle",n),et("toggle",n),et("cancel",n),et("close",n);break;case"iframe":case"object":et("load",n);break;case"video":case"audio":for(c=0;c<bc.length;c++)et(bc[c],n);break;case"image":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"embed":case"source":case"link":et("error",n),et("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:At(n,r,J,c,o,null)}return;default:if($r(r)){for(le in o)o.hasOwnProperty(le)&&(c=o[le],c!==void 0&&mp(n,r,le,c,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(c=o[N],c!=null&&At(n,r,N,c,o,null))}function f2(n,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,N=null,B=null,J=null,le=null;for(ie in o){var de=o[ie];if(o.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":B=de;default:c.hasOwnProperty(ie)||At(n,r,ie,null,c,de)}}for(var te in c){var ie=c[te];if(de=o[te],c.hasOwnProperty(te)&&(ie!=null||de!=null))switch(te){case"type":g=ie;break;case"name":p=ie;break;case"checked":J=ie;break;case"defaultChecked":le=ie;break;case"value":T=ie;break;case"defaultValue":N=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==de&&At(n,r,te,ie,c,de)}}ba(n,T,N,B,J,le,g,p);return;case"select":ie=T=N=te=null;for(g in o)if(B=o[g],o.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":ie=B;default:c.hasOwnProperty(g)||At(n,r,g,null,c,B)}for(p in c)if(g=c[p],B=o[p],c.hasOwnProperty(p)&&(g!=null||B!=null))switch(p){case"value":te=g;break;case"defaultValue":N=g;break;case"multiple":T=g;default:g!==B&&At(n,r,p,g,c,B)}r=N,o=T,c=ie,te!=null?xt(n,!!o,te,!1):!!c!=!!o&&(r!=null?xt(n,!!o,r,!0):xt(n,!!o,o?[]:"",!1));return;case"textarea":ie=te=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:At(n,r,N,null,c,p)}for(T in c)if(p=c[T],g=o[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":te=p;break;case"defaultValue":ie=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&At(n,r,T,p,c,g)}rr(n,te,ie);return;case"option":for(var Pe in o)te=o[Pe],o.hasOwnProperty(Pe)&&te!=null&&!c.hasOwnProperty(Pe)&&(Pe==="selected"?n.selected=!1:At(n,r,Pe,null,c,te));for(B in c)te=c[B],ie=o[B],c.hasOwnProperty(B)&&te!==ie&&(te!=null||ie!=null)&&(B==="selected"?n.selected=te&&typeof te!="function"&&typeof te!="symbol":At(n,r,B,te,c,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in o)te=o[Ve],o.hasOwnProperty(Ve)&&te!=null&&!c.hasOwnProperty(Ve)&&At(n,r,Ve,null,c,te);for(J in c)if(te=c[J],ie=o[J],c.hasOwnProperty(J)&&te!==ie&&(te!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:At(n,r,J,te,c,ie)}return;default:if($r(r)){for(var Ct in o)te=o[Ct],o.hasOwnProperty(Ct)&&te!==void 0&&!c.hasOwnProperty(Ct)&&mp(n,r,Ct,void 0,c,te);for(le in c)te=c[le],ie=o[le],!c.hasOwnProperty(le)||te===ie||te===void 0&&ie===void 0||mp(n,r,le,te,c,ie);return}}for(var Q in o)te=o[Q],o.hasOwnProperty(Q)&&te!=null&&!c.hasOwnProperty(Q)&&At(n,r,Q,null,c,te);for(de in c)te=c[de],ie=o[de],!c.hasOwnProperty(de)||te===ie||te==null&&ie==null||At(n,r,de,te,c,ie)}function _0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,T=p.initiatorType,N=p.duration;if(g&&N&&_0(T)){for(T=0,N=p.responseEnd,c+=1;c<o.length;c++){var B=o[c],J=B.startTime;if(J>N)break;var le=B.transferSize,de=B.initiatorType;le&&_0(de)&&(B=B.responseEnd,T+=le*(B<N?1:(N-J)/(B-J)))}if(--c,r+=8*(g+T)/(p.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var pp=null,gp=null;function ff(n){return n.nodeType===9?n:n.ownerDocument}function y0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function _p(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yp=null;function m2(){var n=window.event;return n&&n.type==="popstate"?n===yp?!1:(yp=n,!0):(yp=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(n){return x0.resolve(null).then(n).catch(_2)}:b0;function _2(n){setTimeout(function(){throw n})}function Ya(n){return n==="head"}function w0(n,r){var o=r,c=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(p),_u(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")wc(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,wc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,N=g.nodeName;g[er]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&wc(n.ownerDocument.body);o=p}while(o);_u(r)}function E0(n,r){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function vp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vp(o),_a(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function y2(n,r,o,c){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[er])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=mr(n.nextSibling),n===null)break}return null}function v2(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=mr(n.nextSibling),n===null))return null;return n}function T0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=mr(n.nextSibling),n===null))return null;return n}function bp(n){return n.data==="$?"||n.data==="$~"}function xp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function b2(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function mr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var wp=null;function S0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return mr(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function A0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function C0(n,r,o){switch(r=ff(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function wc(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);_a(n)}var pr=new Map,R0=new Set;function df(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var $s=be.d;be.d={f:x2,r:w2,D:E2,C:T2,L:S2,m:A2,X:R2,S:C2,M:N2};function x2(){var n=$s.f(),r=rf();return n||r}function w2(n){var r=ui(n);r!==null&&r.tag===5&&r.type==="form"?Gy(r):$s.r(n)}var mu=typeof document>"u"?null:document;function N0(n,r,o){var c=mu;if(c&&typeof r=="string"&&r){var p=Nt(r);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),R0.has(p)||(R0.add(p),n={rel:n,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),Mn(r,"link",n),$t(r),c.head.appendChild(r)))}}function E2(n){$s.D(n),N0("dns-prefetch",n,null)}function T2(n,r){$s.C(n,r),N0("preconnect",n,r)}function S2(n,r,o){$s.L(n,r,o);var c=mu;if(c&&n&&r){var p='link[rel="preload"][as="'+Nt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Nt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Nt(o.imageSizes)+'"]')):p+='[href="'+Nt(n)+'"]';var g=p;switch(r){case"style":g=pu(n);break;case"script":g=gu(n)}pr.has(g)||(n=C({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),pr.set(g,n),c.querySelector(p)!==null||r==="style"&&c.querySelector(Ec(g))||r==="script"&&c.querySelector(Tc(g))||(r=c.createElement("link"),Mn(r,"link",n),$t(r),c.head.appendChild(r)))}}function A2(n,r){$s.m(n,r);var o=mu;if(o&&n){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Nt(c)+'"][href="'+Nt(n)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=gu(n)}if(!pr.has(g)&&(n=C({rel:"modulepreload",href:n},r),pr.set(g,n),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Tc(g)))return}c=o.createElement("link"),Mn(c,"link",n),$t(c),o.head.appendChild(c)}}}function C2(n,r,o){$s.S(n,r,o);var c=mu;if(c&&n){var p=tr(c).hoistableStyles,g=pu(n);r=r||"default";var T=p.get(g);if(!T){var N={loading:0,preload:null};if(T=c.querySelector(Ec(g)))N.loading=5;else{n=C({rel:"stylesheet",href:n,"data-precedence":r},o),(o=pr.get(g))&&Ep(n,o);var B=T=c.createElement("link");$t(B),Mn(B,"link",n),B._p=new Promise(function(J,le){B.onload=J,B.onerror=le}),B.addEventListener("load",function(){N.loading|=1}),B.addEventListener("error",function(){N.loading|=2}),N.loading|=4,mf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:N},p.set(g,T)}}}function R2(n,r){$s.X(n,r);var o=mu;if(o&&n){var c=tr(o).hoistableScripts,p=gu(n),g=c.get(p);g||(g=o.querySelector(Tc(p)),g||(n=C({src:n,async:!0},r),(r=pr.get(p))&&Tp(n,r),g=o.createElement("script"),$t(g),Mn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function N2(n,r){$s.M(n,r);var o=mu;if(o&&n){var c=tr(o).hoistableScripts,p=gu(n),g=c.get(p);g||(g=o.querySelector(Tc(p)),g||(n=C({src:n,async:!0,type:"module"},r),(r=pr.get(p))&&Tp(n,r),g=o.createElement("script"),$t(g),Mn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function I0(n,r,o,c){var p=(p=Ee.current)?df(p):null;if(!p)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=pu(o.href),o=tr(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=pu(o.href);var g=tr(p).hoistableStyles,T=g.get(n);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,T),(g=p.querySelector(Ec(n)))&&!g._p&&(T.instance=g,T.state.loading=5),pr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},pr.set(n,o),g||I2(p,n,o,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=gu(o),o=tr(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function pu(n){return'href="'+Nt(n)+'"'}function Ec(n){return'link[rel="stylesheet"]['+n+"]"}function P0(n){return C({},n,{"data-precedence":n.precedence,precedence:null})}function I2(n,r,o,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Mn(r,"link",o),$t(r),n.head.appendChild(r))}function gu(n){return'[src="'+Nt(n)+'"]'}function Tc(n){return"script[async]"+n}function O0(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+Nt(o.href)+'"]');if(c)return r.instance=c,$t(c),c;var p=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),$t(c),Mn(c,"style",p),mf(c,o.precedence,n),r.instance=c;case"stylesheet":p=pu(o.href);var g=n.querySelector(Ec(p));if(g)return r.state.loading|=4,r.instance=g,$t(g),g;c=P0(o),(p=pr.get(p))&&Ep(c,p),g=(n.ownerDocument||n).createElement("link"),$t(g);var T=g;return T._p=new Promise(function(N,B){T.onload=N,T.onerror=B}),Mn(g,"link",c),r.state.loading|=4,mf(g,o.precedence,n),r.instance=g;case"script":return g=gu(o.src),(p=n.querySelector(Tc(g)))?(r.instance=p,$t(p),p):(c=o,(p=pr.get(g))&&(c=C({},o),Tp(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),$t(p),Mn(p,"link",c),n.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,mf(c,o.precedence,n));return r.instance}function mf(n,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var N=c[T];if(N.dataset.precedence===r)g=N;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Ep(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Tp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var pf=null;function D0(n,r,o){if(pf===null){var c=new Map,p=pf=new Map;p.set(o,c)}else p=pf,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[er]||g[Ft]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=n+T;var N=c.get(T);N?N.push(g):c.set(T,[g])}}return c}function L0(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function P2(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function M0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function O2(n,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=pu(c.href),g=r.querySelector(Ec(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=gf.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=g,$t(g);return}g=r.ownerDocument||r,c=P0(c),(p=pr.get(p))&&Ep(c,p),g=g.createElement("link"),$t(g);var T=g;T._p=new Promise(function(N,B){T.onload=N,T.onerror=B}),Mn(g,"link",c),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=gf.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var Sp=0;function D2(n,r){return n.stylesheets&&n.count===0&&yf(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&yf(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+r);0<n.imgBytes&&Sp===0&&(Sp=62500*d2());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&yf(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>Sp?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var _f=null;function yf(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,_f=new Map,r.forEach(L2,n),_f=null,gf.call(n))}function L2(n,r){if(!(r.state.loading&4)){var o=_f.get(n);if(o)var c=o.get(null);else{o=new Map,_f.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}p=r.instance,T=p.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,p),o.set(T,p),this.count++,c=gf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),r.state.loading|=4}}var Sc={$$typeof:ue,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function M2(n,r,o,c,p,g,T,N,B){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function k0(n,r,o,c,p,g,T,N,B,J,le,de){return n=new M2(n,r,o,T,B,J,le,de,N),r=1,g===!0&&(r|=24),g=Fn(3,null,null,r),n.current=g,g.stateNode=n,r=rm(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},lm(g),n}function j0(n){return n?(n=js,n):js}function V0(n,r,o,c,p,g){p=j0(p),c.context===null?c.context=p:c.pendingContext=p,c=ja(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Va(n,c,r),o!==null&&(Ei(o,n,r),ic(o,n,r))}function z0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Ap(n,r){z0(n,r),(n=n.alternate)&&z0(n,r)}function U0(n){if(n.tag===13||n.tag===31){var r=hr(n,67108864);r!==null&&Ei(r,n,67108864),Ap(n,67108864)}}function B0(n){if(n.tag===13||n.tag===31){var r=Hi();r=En(r);var o=hr(n,r);o!==null&&Ei(o,n,r),Ap(n,r)}}var vf=!0;function k2(n,r,o,c){var p=re.T;re.T=null;var g=be.p;try{be.p=2,Cp(n,r,o,c)}finally{be.p=g,re.T=p}}function j2(n,r,o,c){var p=re.T;re.T=null;var g=be.p;try{be.p=8,Cp(n,r,o,c)}finally{be.p=g,re.T=p}}function Cp(n,r,o,c){if(vf){var p=Rp(c);if(p===null)dp(n,r,c,bf,o),H0(n,c);else if(z2(p,n,r,o,c))c.stopPropagation();else if(H0(n,c),r&4&&-1<V2.indexOf(n)){for(;p!==null;){var g=ui(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=$i(g.pendingLanes);if(T!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;T;){var B=1<<31-qt(T);N.entanglements[1]|=B,T&=~B}fs(g),(yt&6)===0&&(tf=On()+500,vc(0))}}break;case 31:case 13:N=hr(g,2),N!==null&&Ei(N,g,2),rf(),Ap(g,2)}if(g=Rp(c),g===null&&dp(n,r,c,bf,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else dp(n,r,c,null,o)}}function Rp(n){return n=Un(n),Np(n)}var bf=null;function Np(n){if(bf=null,n=Ii(n),n!==null){var r=h(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=f(r),n!==null)return n;n=null}else if(o===31){if(n=y(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return bf=n,null}function q0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case Cs:return 2;case pa:return 8;case wr:case Fu:return 32;case Ro:return 268435456;default:return 32}default:return 32}}var Ip=!1,Qa=null,Wa=null,$a=null,Ac=new Map,Cc=new Map,Xa=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H0(n,r){switch(n){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Ac.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(r.pointerId)}}function Rc(n,r,o,c,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=ui(r),r!==null&&U0(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),n)}function z2(n,r,o,c,p){switch(r){case"focusin":return Qa=Rc(Qa,n,r,o,c,p),!0;case"dragenter":return Wa=Rc(Wa,n,r,o,c,p),!0;case"mouseover":return $a=Rc($a,n,r,o,c,p),!0;case"pointerover":var g=p.pointerId;return Ac.set(g,Rc(Ac.get(g)||null,n,r,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Cc.set(g,Rc(Cc.get(g)||null,n,r,o,c,p)),!0}return!1}function F0(n){var r=Ii(n.target);if(r!==null){var o=h(r);if(o!==null){if(r=o.tag,r===13){if(r=f(o),r!==null){n.blockedOn=r,oi(n.priority,function(){B0(o)});return}}else if(r===31){if(r=y(o),r!==null){n.blockedOn=r,oi(n.priority,function(){B0(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xf(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Rp(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);wa=c,o.target.dispatchEvent(c),wa=null}else return r=ui(o),r!==null&&U0(r),n.blockedOn=o,!1;r.shift()}return!0}function G0(n,r,o){xf(n)&&o.delete(r)}function U2(){Ip=!1,Qa!==null&&xf(Qa)&&(Qa=null),Wa!==null&&xf(Wa)&&(Wa=null),$a!==null&&xf($a)&&($a=null),Ac.forEach(G0),Cc.forEach(G0)}function wf(n,r){n.blockedOn===r&&(n.blockedOn=null,Ip||(Ip=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,U2)))}var Ef=null;function Z0(n){Ef!==n&&(Ef=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ef===n&&(Ef=null);for(var r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],p=n[r+2];if(typeof c!="function"){if(Np(c||o)===null)continue;break}var g=ui(o);g!==null&&(n.splice(r,3),r-=3,Rm(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function _u(n){function r(B){return wf(B,n)}Qa!==null&&wf(Qa,n),Wa!==null&&wf(Wa,n),$a!==null&&wf($a,n),Ac.forEach(r),Cc.forEach(r);for(var o=0;o<Xa.length;o++){var c=Xa[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Xa.length&&(o=Xa[0],o.blockedOn===null);)F0(o),o.blockedOn===null&&Xa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],T=p[Wt]||null;if(typeof g=="function")T||Z0(o);else if(T){var N=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Wt]||null)N=T.formAction;else if(Np(p)!==null)continue}else N=T.action;typeof N=="function"?o[c+1]=N:(o.splice(c,3),c-=3),Z0(o)}}}function K0(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function Pp(n){this._internalRoot=n}Tf.prototype.render=Pp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Hi();V0(o,c,n,r,null,null)},Tf.prototype.unmount=Pp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;V0(n.current,2,null,n,null,null),rf(),r[Ri]=null}};function Tf(n){this._internalRoot=n}Tf.prototype.unstable_scheduleHydration=function(n){if(n){var r=Oo();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Xa.length&&r!==0&&r<Xa[o].priority;o++);Xa.splice(o,0,n),o===0&&F0(n)}};var Y0=e.version;if(Y0!=="19.2.4")throw Error(s(527,Y0,"19.2.4"));be.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=x(r),n=n!==null?A(n):null,n=n===null?null:n.stateNode,n};var B2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{ai=Sf.inject(B2),rn=Sf}catch{}}return Ic.createRoot=function(n,r){if(!l(n))throw Error(s(299));var o=!1,c="",p=tv,g=nv,T=iv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=k0(n,1,!1,null,null,o,c,null,p,g,T,K0),n[Ri]=r.current,fp(n),new Pp(r)},Ic.hydrateRoot=function(n,r,o){if(!l(n))throw Error(s(299));var c=!1,p="",g=tv,T=nv,N=iv,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),r=k0(n,1,!0,r,o??null,c,p,B,g,T,N,K0),r.context=j0(null),o=r.current,c=Hi(),c=En(c),p=ja(c),p.callback=null,Va(o,p,c),o=c,r.current.lanes=o,Er(r,o),fs(r),n[Ri]=r.current,fp(n),new Tf(r)},Ic.version="19.2.4",Ic}var rb;function W2(){if(rb)return Lp.exports;rb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lp.exports=Q2(),Lp.exports}var $2=W2();var sb="popstate";function X2(i={}){function e(s,l){let{pathname:h,search:f,hash:y}=s.location;return ag("",{pathname:h,search:f,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){return typeof l=="string"?l:Wc(l)}return eS(e,t,null,i)}function Ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Br(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J2(){return Math.random().toString(36).substring(2,10)}function ab(i,e){return{usr:i.state,key:i.key,idx:e}}function ag(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Lu(e):e,state:t,key:e&&e.key||s||J2()}}function Wc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Lu(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function eS(i,e,t,s={}){let{window:l=document.defaultView,v5Compat:h=!1}=s,f=l.history,y="POP",b=null,x=A();x==null&&(x=0,f.replaceState({...f.state,idx:x},""));function A(){return(f.state||{idx:null}).idx}function C(){y="POP";let Z=A(),se=Z==null?null:Z-x;x=Z,b&&b({action:y,location:G.location,delta:se})}function I(Z,se){y="PUSH";let oe=ag(G.location,Z,se);x=A()+1;let ue=ab(oe,x),we=G.createHref(oe);try{f.pushState(ue,"",we)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;l.location.assign(we)}h&&b&&b({action:y,location:G.location,delta:1})}function z(Z,se){y="REPLACE";let oe=ag(G.location,Z,se);x=A();let ue=ab(oe,x),we=G.createHref(oe);f.replaceState(ue,"",we),h&&b&&b({action:y,location:G.location,delta:0})}function Y(Z){return tS(Z)}let G={get action(){return y},get location(){return i(l,f)},listen(Z){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(sb,C),b=Z,()=>{l.removeEventListener(sb,C),b=null}},createHref(Z){return e(l,Z)},createURL:Y,encodeLocation(Z){let se=Y(Z);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:I,replace:z,go(Z){return f.go(Z)}};return G}function tS(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Wc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Jx(i,e,t="/"){return nS(i,e,t,!1)}function nS(i,e,t,s){let l=typeof e=="string"?Lu(e):e,h=ra(l.pathname||"/",t);if(h==null)return null;let f=ew(i);iS(f);let y=null;for(let b=0;y==null&&b<f.length;++b){let x=mS(h);y=fS(f[b],x,s)}return y}function ew(i,e=[],t=[],s="",l=!1){let h=(f,y,b=l,x)=>{let A={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:y,route:f};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&b)return;Ut(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let C=na([s,A.relativePath]),I=t.concat(A);f.children&&f.children.length>0&&(Ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),ew(f.children,e,I,C,b)),!(f.path==null&&!f.index)&&e.push({path:C,score:cS(C,f.index),routesMeta:I})};return i.forEach((f,y)=>{if(f.path===""||!f.path?.includes("?"))h(f,y);else for(let b of tw(f.path))h(f,y,!0,b)}),e}function tw(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,l=t.endsWith("?"),h=t.replace(/\?$/,"");if(s.length===0)return l?[h,""]:[h];let f=tw(s.join("/")),y=[];return y.push(...f.map(b=>b===""?h:[h,b].join("/"))),l&&y.push(...f),y.map(b=>i.startsWith("/")&&b===""?"/":b)}function iS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:hS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var rS=/^:[\w-]+$/,sS=3,aS=2,oS=1,lS=10,uS=-2,ob=i=>i==="*";function cS(i,e){let t=i.split("/"),s=t.length;return t.some(ob)&&(s+=uS),e&&(s+=aS),t.filter(l=>!ob(l)).reduce((l,h)=>l+(rS.test(h)?sS:h===""?oS:lS),s)}function hS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,l)=>s===e[l])?i[i.length-1]-e[e.length-1]:0}function fS(i,e,t=!1){let{routesMeta:s}=i,l={},h="/",f=[];for(let y=0;y<s.length;++y){let b=s[y],x=y===s.length-1,A=h==="/"?e:e.slice(h.length)||"/",C=Wf({path:b.relativePath,caseSensitive:b.caseSensitive,end:x},A),I=b.route;if(!C&&x&&t&&!s[s.length-1].route.index&&(C=Wf({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},A)),!C)return null;Object.assign(l,C.params),f.push({params:l,pathname:na([h,C.pathname]),pathnameBase:yS(na([h,C.pathnameBase])),route:I}),C.pathnameBase!=="/"&&(h=na([h,C.pathnameBase]))}return f}function Wf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=dS(i.path,i.caseSensitive,i.end),l=e.match(t);if(!l)return null;let h=l[0],f=h.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:s.reduce((x,{paramName:A,isOptional:C},I)=>{if(A==="*"){let Y=y[I]||"";f=h.slice(0,h.length-Y.length).replace(/(.)\/+$/,"$1")}const z=y[I];return C&&!z?x[A]=void 0:x[A]=(z||"").replace(/%2F/g,"/"),x},{}),pathname:h,pathnameBase:f,pattern:i}}function dS(i,e=!1,t=!0){Br(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,y,b)=>(s.push({paramName:y,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function mS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ra(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var pS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function gS(i,e="/"){let{pathname:t,search:s="",hash:l=""}=typeof i=="string"?Lu(i):i,h;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?h=lb(t.substring(1),"/"):h=lb(t,e)):h=e,{pathname:h,search:vS(s),hash:bS(l)}}function lb(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Vp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _S(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qg(i){let e=_S(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Hg(i,e,t,s=!1){let l;typeof i=="string"?l=Lu(i):(l={...i},Ut(!l.pathname||!l.pathname.includes("?"),Vp("?","pathname","search",l)),Ut(!l.pathname||!l.pathname.includes("#"),Vp("#","pathname","hash",l)),Ut(!l.search||!l.search.includes("#"),Vp("#","search","hash",l)));let h=i===""||l.pathname==="",f=h?"/":l.pathname,y;if(f==null)y=t;else{let C=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),C-=1;l.pathname=I.join("/")}y=C>=0?e[C]:"/"}let b=gS(l,y),x=f&&f!=="/"&&f.endsWith("/"),A=(h||f===".")&&t.endsWith("/");return!b.pathname.endsWith("/")&&(x||A)&&(b.pathname+="/"),b}var na=i=>i.join("/").replace(/\/\/+/g,"/"),yS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),vS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,bS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,xS=class{constructor(i,e,t,s=!1){this.status=i,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function wS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function ES(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iw(i,e){let t=i;if(typeof t!="string"||!pS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,l=!1;if(nw)try{let h=new URL(window.location.href),f=t.startsWith("//")?new URL(h.protocol+t):new URL(t),y=ra(f.pathname,e);f.origin===h.origin&&y!=null?t=y+f.search+f.hash:l=!0}catch{Br(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rw=["POST","PUT","PATCH","DELETE"];new Set(rw);var TS=["GET",...rw];new Set(TS);var Mu=U.createContext(null);Mu.displayName="DataRouter";var bd=U.createContext(null);bd.displayName="DataRouterState";var SS=U.createContext(!1),sw=U.createContext({isTransitioning:!1});sw.displayName="ViewTransition";var AS=U.createContext(new Map);AS.displayName="Fetchers";var CS=U.createContext(null);CS.displayName="Await";var Ki=U.createContext(null);Ki.displayName="Navigation";var ah=U.createContext(null);ah.displayName="Location";var Hr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var Fg=U.createContext(null);Fg.displayName="RouteError";var aw="REACT_ROUTER_ERROR",RS="REDIRECT",NS="ROUTE_ERROR_RESPONSE";function IS(i){if(i.startsWith(`${aw}:${RS}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function PS(i){if(i.startsWith(`${aw}:${NS}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new xS(e.status,e.statusText,e.data)}catch{}}function OS(i,{relative:e}={}){Ut(ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(Ki),{hash:l,pathname:h,search:f}=oh(i,{relative:e}),y=h;return t!=="/"&&(y=h==="/"?t:na([t,h])),s.createHref({pathname:y,search:f,hash:l})}function ku(){return U.useContext(ah)!=null}function ha(){return Ut(ku(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(ah).location}var ow="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lw(i){U.useContext(Ki).static||U.useLayoutEffect(i)}function xd(){let{isDataRoute:i}=U.useContext(Hr);return i?ZS():DS()}function DS(){Ut(ku(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(Mu),{basename:e,navigator:t}=U.useContext(Ki),{matches:s}=U.useContext(Hr),{pathname:l}=ha(),h=JSON.stringify(qg(s)),f=U.useRef(!1);return lw(()=>{f.current=!0}),U.useCallback((b,x={})=>{if(Br(f.current,ow),!f.current)return;if(typeof b=="number"){t.go(b);return}let A=Hg(b,JSON.parse(h),l,x.relative==="path");i==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:na([e,A.pathname])),(x.replace?t.replace:t.push)(A,x.state,x)},[e,t,h,l,i])}U.createContext(null);function LS(){let{matches:i}=U.useContext(Hr),e=i[i.length-1];return e?e.params:{}}function oh(i,{relative:e}={}){let{matches:t}=U.useContext(Hr),{pathname:s}=ha(),l=JSON.stringify(qg(t));return U.useMemo(()=>Hg(i,JSON.parse(l),s,e==="path"),[i,l,s,e])}function MS(i,e){return uw(i,e)}function uw(i,e,t,s,l){Ut(ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=U.useContext(Ki),{matches:f}=U.useContext(Hr),y=f[f.length-1],b=y?y.params:{},x=y?y.pathname:"/",A=y?y.pathnameBase:"/",C=y&&y.route;{let oe=C&&C.path||"";hw(x,!C||oe.endsWith("*")||oe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${oe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${oe}"> to <Route path="${oe==="/"?"*":`${oe}/*`}">.`)}let I=ha(),z;if(e){let oe=typeof e=="string"?Lu(e):e;Ut(A==="/"||oe.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${oe.pathname}" was given in the \`location\` prop.`),z=oe}else z=I;let Y=z.pathname||"/",G=Y;if(A!=="/"){let oe=A.replace(/^\//,"").split("/");G="/"+Y.replace(/^\//,"").split("/").slice(oe.length).join("/")}let Z=Jx(i,{pathname:G});Br(C||Z!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Br(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=US(Z&&Z.map(oe=>Object.assign({},oe,{params:Object.assign({},b,oe.params),pathname:na([A,h.encodeLocation?h.encodeLocation(oe.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:oe.pathname]),pathnameBase:oe.pathnameBase==="/"?A:na([A,h.encodeLocation?h.encodeLocation(oe.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:oe.pathnameBase])})),f,t,s,l);return e&&se?U.createElement(ah.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},se):se}function kS(){let i=GS(),e=wS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:h},"ErrorBoundary")," or"," ",U.createElement("code",{style:h},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:l},t):null,f)}var jS=U.createElement(kS,null),cw=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const t=PS(i.digest);t&&(i=t)}let e=i!==void 0?U.createElement(Hr.Provider,{value:this.props.routeContext},U.createElement(Fg.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?U.createElement(VS,{error:i},e):e}};cw.contextType=SS;var zp=new WeakMap;function VS({children:i,error:e}){let{basename:t}=U.useContext(Ki);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=IS(e.digest);if(s){let l=zp.get(e);if(l)throw l;let h=iw(s.location,t);if(nw&&!zp.get(e))if(h.isExternal||s.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:s.replace}));throw zp.set(e,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return i}function zS({routeContext:i,match:e,children:t}){let s=U.useContext(Mu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Hr.Provider,{value:i},t)}function US(i,e=[],t=null,s=null,l=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let h=i,f=t?.errors;if(f!=null){let A=h.findIndex(C=>C.route.id&&f?.[C.route.id]!==void 0);Ut(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,A+1))}let y=!1,b=-1;if(t)for(let A=0;A<h.length;A++){let C=h[A];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(b=A),C.route.id){let{loaderData:I,errors:z}=t,Y=C.route.loader&&!I.hasOwnProperty(C.route.id)&&(!z||z[C.route.id]===void 0);if(C.route.lazy||Y){y=!0,b>=0?h=h.slice(0,b+1):h=[h[0]];break}}}let x=t&&s?(A,C)=>{s(A,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:ES(t.matches),errorInfo:C})}:void 0;return h.reduceRight((A,C,I)=>{let z,Y=!1,G=null,Z=null;t&&(z=f&&C.route.id?f[C.route.id]:void 0,G=C.route.errorElement||jS,y&&(b<0&&I===0?(hw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,Z=null):b===I&&(Y=!0,Z=C.route.hydrateFallbackElement||null)));let se=e.concat(h.slice(0,I+1)),oe=()=>{let ue;return z?ue=G:Y?ue=Z:C.route.Component?ue=U.createElement(C.route.Component,null):C.route.element?ue=C.route.element:ue=A,U.createElement(zS,{match:C,routeContext:{outlet:A,matches:se,isDataRoute:t!=null},children:ue})};return t&&(C.route.ErrorBoundary||C.route.errorElement||I===0)?U.createElement(cw,{location:t.location,revalidation:t.revalidation,component:G,error:z,children:oe(),routeContext:{outlet:null,matches:se,isDataRoute:!0},onError:x}):oe()},null)}function Gg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BS(i){let e=U.useContext(Mu);return Ut(e,Gg(i)),e}function qS(i){let e=U.useContext(bd);return Ut(e,Gg(i)),e}function HS(i){let e=U.useContext(Hr);return Ut(e,Gg(i)),e}function Zg(i){let e=HS(i),t=e.matches[e.matches.length-1];return Ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function FS(){return Zg("useRouteId")}function GS(){let i=U.useContext(Fg),e=qS("useRouteError"),t=Zg("useRouteError");return i!==void 0?i:e.errors?.[t]}function ZS(){let{router:i}=BS("useNavigate"),e=Zg("useNavigate"),t=U.useRef(!1);return lw(()=>{t.current=!0}),U.useCallback(async(l,h={})=>{Br(t.current,ow),t.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...h}))},[i,e])}var ub={};function hw(i,e,t){!e&&!ub[i]&&(ub[i]=!0,Br(!1,t))}U.memo(KS);function KS({routes:i,future:e,state:t,onError:s}){return uw(i,void 0,t,s,e)}function Up({to:i,replace:e,state:t,relative:s}){Ut(ku(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=U.useContext(Ki);Br(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=U.useContext(Hr),{pathname:f}=ha(),y=xd(),b=Hg(i,qg(h),f,s==="path"),x=JSON.stringify(b);return U.useEffect(()=>{y(JSON.parse(x),{replace:e,state:t,relative:s})},[y,x,s,e,t]),null}function gr(i){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YS({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:l,static:h=!1,unstable_useTransitions:f}){Ut(!ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=i.replace(/^\/*/,"/"),b=U.useMemo(()=>({basename:y,navigator:l,static:h,unstable_useTransitions:f,future:{}}),[y,l,h,f]);typeof t=="string"&&(t=Lu(t));let{pathname:x="/",search:A="",hash:C="",state:I=null,key:z="default"}=t,Y=U.useMemo(()=>{let G=ra(x,y);return G==null?null:{location:{pathname:G,search:A,hash:C,state:I,key:z},navigationType:s}},[y,x,A,C,I,z,s]);return Br(Y!=null,`<Router basename="${y}"> is not able to match the URL "${x}${A}${C}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:U.createElement(Ki.Provider,{value:b},U.createElement(ah.Provider,{children:e,value:Y}))}function QS({children:i,location:e}){return MS(og(i),e)}function og(i,e=[]){let t=[];return U.Children.forEach(i,(s,l)=>{if(!U.isValidElement(s))return;let h=[...e,l];if(s.type===U.Fragment){t.push.apply(t,og(s.props.children,h));return}Ut(s.type===gr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=og(s.props.children,h)),t.push(f)}),t}var kf="get",jf="application/x-www-form-urlencoded";function wd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function WS(i){return wd(i)&&i.tagName.toLowerCase()==="button"}function $S(i){return wd(i)&&i.tagName.toLowerCase()==="form"}function XS(i){return wd(i)&&i.tagName.toLowerCase()==="input"}function JS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function eA(i,e){return i.button===0&&(!e||e==="_self")&&!JS(i)}var Af=null;function tA(){if(Af===null)try{new FormData(document.createElement("form"),0),Af=!1}catch{Af=!0}return Af}var nA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bp(i){return i!=null&&!nA.has(i)?(Br(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):i}function iA(i,e){let t,s,l,h,f;if($S(i)){let y=i.getAttribute("action");s=y?ra(y,e):null,t=i.getAttribute("method")||kf,l=Bp(i.getAttribute("enctype"))||jf,h=new FormData(i)}else if(WS(i)||XS(i)&&(i.type==="submit"||i.type==="image")){let y=i.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=i.getAttribute("formaction")||y.getAttribute("action");if(s=b?ra(b,e):null,t=i.getAttribute("formmethod")||y.getAttribute("method")||kf,l=Bp(i.getAttribute("formenctype"))||Bp(y.getAttribute("enctype"))||jf,h=new FormData(y,i),!tA()){let{name:x,type:A,value:C}=i;if(A==="image"){let I=x?`${x}.`:"";h.append(`${I}x`,"0"),h.append(`${I}y`,"0")}else x&&h.append(x,C)}}else{if(wd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kf,s=null,l=jf,f=i}return h&&l==="text/plain"&&(f=h,h=void 0),{action:s,method:t.toLowerCase(),encType:l,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function rA(i,e,t,s){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:e&&ra(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function sA(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function oA(i,e,t){let s=await Promise.all(i.map(async l=>{let h=e.routes[l.route.id];if(h){let f=await sA(h,t);return f.links?f.links():[]}return[]}));return hA(s.flat(1).filter(aA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function cb(i,e,t,s,l,h){let f=(b,x)=>t[x]?b.route.id!==t[x].route.id:!0,y=(b,x)=>t[x].pathname!==b.pathname||t[x].route.path?.endsWith("*")&&t[x].params["*"]!==b.params["*"];return h==="assets"?e.filter((b,x)=>f(b,x)||y(b,x)):h==="data"?e.filter((b,x)=>{let A=s.routes[b.route.id];if(!A||!A.hasLoader)return!1;if(f(b,x)||y(b,x))return!0;if(b.route.shouldRevalidate){let C=b.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function lA(i,e,{includeHydrateFallback:t}={}){return uA(i.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function uA(i){return[...new Set(i)]}function cA(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function hA(i,e){let t=new Set;return new Set(e),i.reduce((s,l)=>{let h=JSON.stringify(cA(l));return t.has(h)||(t.add(h),s.push({key:h,link:l})),s},[])}function fw(){let i=U.useContext(Mu);return Kg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function fA(){let i=U.useContext(bd);return Kg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yg=U.createContext(void 0);Yg.displayName="FrameworkContext";function dw(){let i=U.useContext(Yg);return Kg(i,"You must render this element inside a <HydratedRouter> element"),i}function dA(i,e){let t=U.useContext(Yg),[s,l]=U.useState(!1),[h,f]=U.useState(!1),{onFocus:y,onBlur:b,onMouseEnter:x,onMouseLeave:A,onTouchStart:C}=e,I=U.useRef(null);U.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=se=>{se.forEach(oe=>{f(oe.isIntersecting)})},Z=new IntersectionObserver(G,{threshold:.5});return I.current&&Z.observe(I.current),()=>{Z.disconnect()}}},[i]),U.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let z=()=>{l(!0)},Y=()=>{l(!1),f(!1)};return t?i!=="intent"?[h,I,{}]:[h,I,{onFocus:Pc(y,z),onBlur:Pc(b,Y),onMouseEnter:Pc(x,z),onMouseLeave:Pc(A,Y),onTouchStart:Pc(C,z)}]:[!1,I,{}]}function Pc(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function mA({page:i,...e}){let{router:t}=fw(),s=U.useMemo(()=>Jx(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?U.createElement(gA,{page:i,matches:s,...e}):null}function pA(i){let{manifest:e,routeModules:t}=dw(),[s,l]=U.useState([]);return U.useEffect(()=>{let h=!1;return oA(i,e,t).then(f=>{h||l(f)}),()=>{h=!0}},[i,e,t]),s}function gA({page:i,matches:e,...t}){let s=ha(),{future:l,manifest:h,routeModules:f}=dw(),{basename:y}=fw(),{loaderData:b,matches:x}=fA(),A=U.useMemo(()=>cb(i,e,x,h,s,"data"),[i,e,x,h,s]),C=U.useMemo(()=>cb(i,e,x,h,s,"assets"),[i,e,x,h,s]),I=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let G=new Set,Z=!1;if(e.forEach(oe=>{let ue=h.routes[oe.route.id];!ue||!ue.hasLoader||(!A.some(we=>we.route.id===oe.route.id)&&oe.route.id in b&&f[oe.route.id]?.shouldRevalidate||ue.hasClientLoader?Z=!0:G.add(oe.route.id))}),G.size===0)return[];let se=rA(i,y,l.unstable_trailingSlashAwareDataRequests,"data");return Z&&G.size>0&&se.searchParams.set("_routes",e.filter(oe=>G.has(oe.route.id)).map(oe=>oe.route.id).join(",")),[se.pathname+se.search]},[y,l.unstable_trailingSlashAwareDataRequests,b,s,h,A,e,i,f]),z=U.useMemo(()=>lA(C,h),[C,h]),Y=pA(C);return U.createElement(U.Fragment,null,I.map(G=>U.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...t})),z.map(G=>U.createElement("link",{key:G,rel:"modulepreload",href:G,...t})),Y.map(({key:G,link:Z})=>U.createElement("link",{key:G,nonce:t.nonce,...Z,crossOrigin:Z.crossOrigin??t.crossOrigin})))}function _A(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var yA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yA&&(window.__reactRouterVersion="7.13.0")}catch{}function vA({basename:i,children:e,unstable_useTransitions:t,window:s}){let l=U.useRef();l.current==null&&(l.current=X2({window:s,v5Compat:!0}));let h=l.current,[f,y]=U.useState({action:h.action,location:h.location}),b=U.useCallback(x=>{t===!1?y(x):U.startTransition(()=>y(x))},[t]);return U.useLayoutEffect(()=>h.listen(b),[h,b]),U.createElement(YS,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:t})}var mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:l,reloadDocument:h,replace:f,state:y,target:b,to:x,preventScrollReset:A,viewTransition:C,unstable_defaultShouldRevalidate:I,...z},Y){let{basename:G,unstable_useTransitions:Z}=U.useContext(Ki),se=typeof x=="string"&&mw.test(x),oe=iw(x,G);x=oe.to;let ue=OS(x,{relative:l}),[we,ge,Ie]=dA(s,z),j=EA(x,{replace:f,state:y,target:b,preventScrollReset:A,relative:l,viewTransition:C,unstable_defaultShouldRevalidate:I,unstable_useTransitions:Z});function M(H){e&&e(H),H.defaultPrevented||j(H)}let D=U.createElement("a",{...z,...Ie,href:oe.absoluteURL||ue,onClick:oe.isExternal||h?e:M,ref:_A(Y,ge),target:b,"data-discover":!se&&t==="render"?"true":void 0});return we&&!se?U.createElement(U.Fragment,null,D,U.createElement(mA,{page:ue})):D});gn.displayName="Link";var bA=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:l=!1,style:h,to:f,viewTransition:y,children:b,...x},A){let C=oh(f,{relative:x.relative}),I=ha(),z=U.useContext(bd),{navigator:Y,basename:G}=U.useContext(Ki),Z=z!=null&&RA(C)&&y===!0,se=Y.encodeLocation?Y.encodeLocation(C).pathname:C.pathname,oe=I.pathname,ue=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;t||(oe=oe.toLowerCase(),ue=ue?ue.toLowerCase():null,se=se.toLowerCase()),ue&&G&&(ue=ra(ue,G)||ue);const we=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let ge=oe===se||!l&&oe.startsWith(se)&&oe.charAt(we)==="/",Ie=ue!=null&&(ue===se||!l&&ue.startsWith(se)&&ue.charAt(se.length)==="/"),j={isActive:ge,isPending:Ie,isTransitioning:Z},M=ge?e:void 0,D;typeof s=="function"?D=s(j):D=[s,ge?"active":null,Ie?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let H=typeof h=="function"?h(j):h;return U.createElement(gn,{...x,"aria-current":M,className:D,ref:A,style:H,to:f,viewTransition:y},typeof b=="function"?b(j):b)});bA.displayName="NavLink";var xA=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:l,state:h,method:f=kf,action:y,onSubmit:b,relative:x,preventScrollReset:A,viewTransition:C,unstable_defaultShouldRevalidate:I,...z},Y)=>{let{unstable_useTransitions:G}=U.useContext(Ki),Z=AA(),se=CA(y,{relative:x}),oe=f.toLowerCase()==="get"?"get":"post",ue=typeof y=="string"&&mw.test(y),we=ge=>{if(b&&b(ge),ge.defaultPrevented)return;ge.preventDefault();let Ie=ge.nativeEvent.submitter,j=Ie?.getAttribute("formmethod")||f,M=()=>Z(Ie||ge.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:l,state:h,relative:x,preventScrollReset:A,viewTransition:C,unstable_defaultShouldRevalidate:I});G&&t!==!1?U.startTransition(()=>M()):M()};return U.createElement("form",{ref:Y,method:oe,action:se,onSubmit:s?b:we,...z,"data-discover":!ue&&i==="render"?"true":void 0})});xA.displayName="Form";function wA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pw(i){let e=U.useContext(Mu);return Ut(e,wA(i)),e}function EA(i,{target:e,replace:t,state:s,preventScrollReset:l,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:y,unstable_useTransitions:b}={}){let x=xd(),A=ha(),C=oh(i,{relative:h});return U.useCallback(I=>{if(eA(I,e)){I.preventDefault();let z=t!==void 0?t:Wc(A)===Wc(C),Y=()=>x(i,{replace:z,state:s,preventScrollReset:l,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:y});b?U.startTransition(()=>Y()):Y()}},[A,x,C,t,s,e,i,l,h,f,y,b])}var TA=0,SA=()=>`__${String(++TA)}__`;function AA(){let{router:i}=pw("useSubmit"),{basename:e}=U.useContext(Ki),t=FS(),s=i.fetch,l=i.navigate;return U.useCallback(async(h,f={})=>{let{action:y,method:b,encType:x,formData:A,body:C}=iA(h,e);if(f.navigate===!1){let I=f.fetcherKey||SA();await s(I,t,f.action||y,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:A,body:C,formMethod:f.method||b,formEncType:f.encType||x,flushSync:f.flushSync})}else await l(f.action||y,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:A,body:C,formMethod:f.method||b,formEncType:f.encType||x,replace:f.replace,state:f.state,fromRouteId:t,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,l,e,t])}function CA(i,{relative:e}={}){let{basename:t}=U.useContext(Ki),s=U.useContext(Hr);Ut(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),h={...oh(i||".",{relative:e})},f=ha();if(i==null){h.search=f.search;let y=new URLSearchParams(h.search),b=y.getAll("index");if(b.some(A=>A==="")){y.delete("index"),b.filter(C=>C).forEach(C=>y.append("index",C));let A=y.toString();h.search=A?`?${A}`:""}}return(!i||i===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(h.pathname=h.pathname==="/"?t:na([t,h.pathname])),Wc(h)}function RA(i,{relative:e}={}){let t=U.useContext(sw);Ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=pw("useViewTransitionState"),l=oh(i,{relative:e});if(!t.isTransitioning)return!1;let h=ra(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=ra(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Wf(l.pathname,f)!=null||Wf(l.pathname,h)!=null}Xx();const NA=()=>{};var hb={};const gw=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},IA=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const l=i[t++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[t++];e[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[t++],f=i[t++],y=i[t++],b=((l&7)<<18|(h&63)<<12|(f&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(b>>10)),e[s++]=String.fromCharCode(56320+(b&1023))}else{const h=i[t++],f=i[t++];e[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|f&63)}}return e.join("")},_w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const h=i[l],f=l+1<i.length,y=f?i[l+1]:0,b=l+2<i.length,x=b?i[l+2]:0,A=h>>2,C=(h&3)<<4|y>>4;let I=(y&15)<<2|x>>6,z=x&63;b||(z=64,f||(I=64)),s.push(t[A],t[C],t[I],t[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(gw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):IA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const h=t[i.charAt(l++)],y=l<i.length?t[i.charAt(l)]:0;++l;const x=l<i.length?t[i.charAt(l)]:64;++l;const C=l<i.length?t[i.charAt(l)]:64;if(++l,h==null||y==null||x==null||C==null)throw new PA;const I=h<<2|y>>4;if(s.push(I),x!==64){const z=y<<4&240|x>>2;if(s.push(z),C!==64){const Y=x<<6&192|C;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class PA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(i){const e=gw(i);return _w.encodeByteArray(e,!0)},$f=function(i){return OA(i).replace(/\./g,"")},yw=function(i){try{return _w.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LA=()=>DA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof hb>"u")return;const i=hb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},kA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&yw(i[1]);return e&&JSON.parse(e)},Ed=()=>{try{return NA()||LA()||MA()||kA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},vw=i=>Ed()?.emulatorHosts?.[i],bw=i=>{const e=vw(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},xw=()=>Ed()?.config,ww=i=>Ed()?.[`_${i}`];class jA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function xo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qg(i){return(await fetch(i,{credentials:"include"})).ok}function Ew(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...i};return[$f(JSON.stringify(t)),$f(JSON.stringify(f)),""].join(".")}const Bc={};function VA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Bc))Bc[e]?i.emulator.push(e):i.prod.push(e);return i}function zA(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let fb=!1;function Wg(i,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Bc[i]===e||Bc[i]||fb)return;Bc[i]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",h=VA().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function y(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function b(I,z){I.setAttribute("width","24"),I.setAttribute("id",z),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function x(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{fb=!0,f()},I}function A(I,z){I.setAttribute("id",z),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function C(){const I=zA(s),z=t("text"),Y=document.getElementById(z)||document.createElement("span"),G=t("learnmore"),Z=document.getElementById(G)||document.createElement("a"),se=t("preprendIcon"),oe=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ue=I.element;y(ue),A(Z,G);const we=x();b(oe,se),ue.append(oe,Y,Z,we),document.body.appendChild(ue)}h?(Y.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function BA(){const i=Ed()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function FA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GA(){const i=Qn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ZA(){return!BA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function YA(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(t){e(t)}})}const QA="FirebaseError";class Es extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=QA,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lh.prototype.create)}}class lh{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},l=`${this.service}/${e}`,h=this.errors[e],f=h?WA(h,s):"Error",y=`${this.serviceName}: ${f} (${l}).`;return new Es(l,y,s)}}function WA(i,e){return i.replace($A,(t,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const $A=/\{\$([^}]+)}/g;function XA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function vl(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const l of t){if(!s.includes(l))return!1;const h=i[l],f=e[l];if(db(h)&&db(f)){if(!vl(h,f))return!1}else if(h!==f)return!1}for(const l of s)if(!t.includes(l))return!1;return!0}function db(i){return i!==null&&typeof i=="object"}function uh(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Lc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,h]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(h)}}),e}function Mc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function JA(i,e){const t=new eC(i,e);return t.subscribe.bind(t)}class eC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let l;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");tC(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:s},l.next===void 0&&(l.next=qp),l.error===void 0&&(l.error=qp),l.complete===void 0&&(l.complete=qp);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function qp(){}function Zt(i){return i&&i._delegate?i._delegate:i}class mo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fl="[DEFAULT]";class nC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new jA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rC(e))try{this.getOrInitializeService({instanceIdentifier:fl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(e=fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fl){return this.instances.has(e)}getOptions(e=fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[h,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&f.resolve(l)}return l}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&e(h,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const l of s)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fl){return this.component?this.component.multipleInstances?e:fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iC(i){return i===fl?void 0:i}function rC(i){return i.instantiationMode==="EAGER"}class sC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var st;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(st||(st={}));const aC={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},oC=st.INFO,lC={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},uC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=lC[e];if(l)console[l](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=oC,this._logHandler=uC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const cC=(i,e)=>e.some(t=>i instanceof t);let mb,pb;function hC(){return mb||(mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fC(){return pb||(pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tw=new WeakMap,lg=new WeakMap,Sw=new WeakMap,Hp=new WeakMap,Xg=new WeakMap;function dC(i){const e=new Promise((t,s)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",f)},h=()=>{t(lo(i.result)),l()},f=()=>{s(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&Tw.set(t,i)}).catch(()=>{}),Xg.set(e,i),e}function mC(i){if(lg.has(i))return;const e=new Promise((t,s)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",f),i.removeEventListener("abort",f)},h=()=>{t(),l()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",f),i.addEventListener("abort",f)});lg.set(i,e)}let ug={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return lg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Sw.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lo(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function pC(i){ug=i(ug)}function gC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Fp(this),e,...t);return Sw.set(s,e.sort?e.sort():[e]),lo(s)}:fC().includes(i)?function(...e){return i.apply(Fp(this),e),lo(Tw.get(this))}:function(...e){return lo(i.apply(Fp(this),e))}}function _C(i){return typeof i=="function"?gC(i):(i instanceof IDBTransaction&&mC(i),cC(i,hC())?new Proxy(i,ug):i)}function lo(i){if(i instanceof IDBRequest)return dC(i);if(Hp.has(i))return Hp.get(i);const e=_C(i);return e!==i&&(Hp.set(i,e),Xg.set(e,i)),e}const Fp=i=>Xg.get(i);function yC(i,e,{blocked:t,upgrade:s,blocking:l,terminated:h}={}){const f=indexedDB.open(i,e),y=lo(f);return s&&f.addEventListener("upgradeneeded",b=>{s(lo(f.result),b.oldVersion,b.newVersion,lo(f.transaction),b)}),t&&f.addEventListener("blocked",b=>t(b.oldVersion,b.newVersion,b)),y.then(b=>{h&&b.addEventListener("close",()=>h()),l&&b.addEventListener("versionchange",x=>l(x.oldVersion,x.newVersion,x))}).catch(()=>{}),y}const vC=["get","getKey","getAll","getAllKeys","count"],bC=["put","add","delete","clear"],Gp=new Map;function gb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,l=bC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(l||vC.includes(t)))return;const h=async function(f,...y){const b=this.transaction(f,l?"readwrite":"readonly");let x=b.store;return s&&(x=x.index(y.shift())),(await Promise.all([x[t](...y),l&&b.done]))[0]};return Gp.set(e,h),h}pC(i=>({...i,get:(e,t,s)=>gb(e,t)||i.get(e,t,s),has:(e,t)=>!!gb(e,t)||i.has(e,t)}));class xC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function wC(i){return i.getComponent()?.type==="VERSION"}const cg="@firebase/app",_b="0.14.8";const sa=new $g("@firebase/app"),EC="@firebase/app-compat",TC="@firebase/analytics-compat",SC="@firebase/analytics",AC="@firebase/app-check-compat",CC="@firebase/app-check",RC="@firebase/auth",NC="@firebase/auth-compat",IC="@firebase/database",PC="@firebase/data-connect",OC="@firebase/database-compat",DC="@firebase/functions",LC="@firebase/functions-compat",MC="@firebase/installations",kC="@firebase/installations-compat",jC="@firebase/messaging",VC="@firebase/messaging-compat",zC="@firebase/performance",UC="@firebase/performance-compat",BC="@firebase/remote-config",qC="@firebase/remote-config-compat",HC="@firebase/storage",FC="@firebase/storage-compat",GC="@firebase/firestore",ZC="@firebase/ai",KC="@firebase/firestore-compat",YC="firebase",QC="12.9.0";const hg="[DEFAULT]",WC={[cg]:"fire-core",[EC]:"fire-core-compat",[SC]:"fire-analytics",[TC]:"fire-analytics-compat",[CC]:"fire-app-check",[AC]:"fire-app-check-compat",[RC]:"fire-auth",[NC]:"fire-auth-compat",[IC]:"fire-rtdb",[PC]:"fire-data-connect",[OC]:"fire-rtdb-compat",[DC]:"fire-fn",[LC]:"fire-fn-compat",[MC]:"fire-iid",[kC]:"fire-iid-compat",[jC]:"fire-fcm",[VC]:"fire-fcm-compat",[zC]:"fire-perf",[UC]:"fire-perf-compat",[BC]:"fire-rc",[qC]:"fire-rc-compat",[HC]:"fire-gcs",[FC]:"fire-gcs-compat",[GC]:"fire-fst",[KC]:"fire-fst-compat",[ZC]:"fire-vertex","fire-js":"fire-js",[YC]:"fire-js-all"};const Xf=new Map,$C=new Map,fg=new Map;function yb(i,e){try{i.container.addComponent(e)}catch(t){sa.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function bl(i){const e=i.name;if(fg.has(e))return sa.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,i);for(const t of Xf.values())yb(t,i);for(const t of $C.values())yb(t,i);return!0}function Td(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Si(i){return i==null?!1:i.settings!==void 0}const XC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new lh("app","Firebase",XC);class JC{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}const Cl=QC;function Aw(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:hg,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw uo.create("bad-app-name",{appName:String(l)});if(t||(t=xw()),!t)throw uo.create("no-options");const h=Xf.get(l);if(h){if(vl(t,h.options)&&vl(s,h.config))return h;throw uo.create("duplicate-app",{appName:l})}const f=new sC(l);for(const b of fg.values())f.addComponent(b);const y=new JC(t,s,f);return Xf.set(l,y),y}function Jg(i=hg){const e=Xf.get(i);if(!e&&i===hg&&xw())return Aw();if(!e)throw uo.create("no-app",{appName:i});return e}function gs(i,e,t){let s=WC[i]??i;t&&(s+=`-${t}`);const l=s.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sa.warn(f.join(" "));return}bl(new mo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const eR="firebase-heartbeat-database",tR=1,$c="firebase-heartbeat-store";let Zp=null;function Cw(){return Zp||(Zp=yC(eR,tR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($c)}catch(t){console.warn(t)}}}}).catch(i=>{throw uo.create("idb-open",{originalErrorMessage:i.message})})),Zp}async function nR(i){try{const t=(await Cw()).transaction($c),s=await t.objectStore($c).get(Rw(i));return await t.done,s}catch(e){if(e instanceof Es)sa.warn(e.message);else{const t=uo.create("idb-get",{originalErrorMessage:e?.message});sa.warn(t.message)}}}async function vb(i,e){try{const s=(await Cw()).transaction($c,"readwrite");await s.objectStore($c).put(e,Rw(i)),await s.done}catch(t){if(t instanceof Es)sa.warn(t.message);else{const s=uo.create("idb-set",{originalErrorMessage:t?.message});sa.warn(s.message)}}}function Rw(i){return`${i.name}!${i.options.appId}`}const iR=1024,rR=30;class sR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>rR){const l=lR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bb(),{heartbeatsToSend:t,unsentEntries:s}=aR(this._heartbeatsCache.heartbeats),l=$f(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return sa.warn(e),""}}}function bb(){return new Date().toISOString().substring(0,10)}function aR(i,e=iR){const t=[];let s=i.slice();for(const l of i){const h=t.find(f=>f.agent===l.agent);if(h){if(h.dates.push(l.date),xb(t)>e){h.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),xb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class oR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?YA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return vb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xb(i){return $f(JSON.stringify({version:2,heartbeats:i})).length}function lR(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function uR(i){bl(new mo("platform-logger",e=>new xC(e),"PRIVATE")),bl(new mo("heartbeat",e=>new sR(e),"PRIVATE")),gs(cg,_b,i),gs(cg,_b,"esm2020"),gs("fire-js","")}uR("");var cR="firebase",hR="12.9.0";gs(cR,hR,"app");function Nw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fR=Nw,Iw=new lh("auth","Firebase",Nw());const Jf=new $g("@firebase/auth");function dR(i,...e){Jf.logLevel<=st.WARN&&Jf.warn(`Auth (${Cl}): ${i}`,...e)}function Vf(i,...e){Jf.logLevel<=st.ERROR&&Jf.error(`Auth (${Cl}): ${i}`,...e)}function vr(i,...e){throw t_(i,...e)}function zr(i,...e){return t_(i,...e)}function e_(i,e,t){const s={...fR(),[e]:t};return new lh("auth","Firebase",s).create(e,{appName:i.name})}function ia(i){return e_(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mR(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&vr(i,"argument-error"),e_(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function t_(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Iw.create(i,...e)}function ze(i,e,...t){if(!i)throw t_(e,...t)}function ea(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Vf(e),new Error(e)}function aa(i,e){i||ea(e)}function dg(){return typeof self<"u"&&self.location?.href||""}function pR(){return wb()==="http:"||wb()==="https:"}function wb(){return typeof self<"u"&&self.location?.protocol||null}function gR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pR()||HA()||"connection"in navigator)?navigator.onLine:!0}function _R(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class ch{constructor(e,t){this.shortDelay=e,this.longDelay=t,aa(t>e,"Short delay should be less than long delay!"),this.isMobile=UA()||FA()}get(){return gR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function n_(i,e){aa(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Pw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bR=new ch(3e4,6e4);function fa(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ts(i,e,t,s,l={}){return Ow(i,l,async()=>{let h={},f={};s&&(e==="GET"?f=s:h={body:JSON.stringify(s)});const y=uh({key:i.config.apiKey,...f}).slice(1),b=await i._getAdditionalHeaders();b["Content-Type"]="application/json",i.languageCode&&(b["X-Firebase-Locale"]=i.languageCode);const x={method:e,headers:b,...h};return qA()||(x.referrerPolicy="no-referrer"),i.emulatorConfig&&xo(i.emulatorConfig.host)&&(x.credentials="include"),Pw.fetch()(await Dw(i,i.config.apiHost,t,y),x)})}async function Ow(i,e,t){i._canInitEmulator=!1;const s={...yR,...e};try{const l=new wR(i),h=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const f=await h.json();if("needConfirmation"in f)throw Cf(i,"account-exists-with-different-credential",f);if(h.ok&&!("errorMessage"in f))return f;{const y=h.ok?f.errorMessage:f.error.message,[b,x]=y.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(i,"credential-already-in-use",f);if(b==="EMAIL_EXISTS")throw Cf(i,"email-already-in-use",f);if(b==="USER_DISABLED")throw Cf(i,"user-disabled",f);const A=s[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw e_(i,A,x);vr(i,A)}}catch(l){if(l instanceof Es)throw l;vr(i,"network-request-failed",{message:String(l)})}}async function hh(i,e,t,s,l={}){const h=await Ts(i,e,t,s,l);return"mfaPendingCredential"in h&&vr(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function Dw(i,e,t,s){const l=`${e}${t}?${s}`,h=i,f=h.config.emulator?n_(i.config,l):`${i.config.apiScheme}://${l}`;return vR.includes(t)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(f).toString():f}function xR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(zr(this.auth,"network-request-failed")),bR.get())})}}function Cf(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const l=zr(i,e,s);return l.customData._tokenResponse=t,l}function Eb(i){return i!==void 0&&i.enterprise!==void 0}class ER{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TR(i,e){return Ts(i,"GET","/v2/recaptchaConfig",fa(i,e))}async function SR(i,e){return Ts(i,"POST","/v1/accounts:delete",e)}async function ed(i,e){return Ts(i,"POST","/v1/accounts:lookup",e)}function qc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AR(i,e=!1){const t=Zt(i),s=await t.getIdToken(e),l=i_(s);ze(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,f=h?.sign_in_provider;return{claims:l,token:s,authTime:qc(Kp(l.auth_time)),issuedAtTime:qc(Kp(l.iat)),expirationTime:qc(Kp(l.exp)),signInProvider:f||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Kp(i){return Number(i)*1e3}function i_(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const l=yw(t);return l?JSON.parse(l):(Vf("Failed to decode base64 JWT payload"),null)}catch(l){return Vf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Tb(i){const e=i_(i);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Es&&CR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function CR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class RR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function td(i){const e=i.auth,t=await i.getIdToken(),s=await Cu(i,ed(e,{idToken:t}));ze(s?.users.length,e,"internal-error");const l=s.users[0];i._notifyReloadListener(l);const h=l.providerUserInfo?.length?Lw(l.providerUserInfo):[],f=IR(i.providerData,h),y=i.isAnonymous,b=!(i.email&&l.passwordHash)&&!f?.length,x=y?b:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new mg(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(i,A)}async function NR(i){const e=Zt(i);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IR(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Lw(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function PR(i,e){const t=await Ow(i,{},async()=>{const s=uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,f=await Dw(i,l,"/v1/token",`key=${h}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:y,body:s};return i.emulatorConfig&&xo(i.emulatorConfig.host)&&(b.credentials="include"),Pw.fetch()(f,b)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OR(i,e){return Ts(i,"POST","/v2/accounts:revokeToken",fa(i,e))}class xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const t=Tb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:l,expiresIn:h}=await PR(e,t);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:l,expirationTime:h}=t,f=new xu;return s&&(ze(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ze(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),h&&(ze(typeof h=="number","internal-error",{appName:e}),f.expirationTime=h),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xu,this.toJSON())}_performRefresh(){return ea("not implemented")}}function eo(i,e){ze(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:t,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new RR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AR(this,e)}reload(){return NR(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await td(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Cu(this,SR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,l=t.email??void 0,h=t.phoneNumber??void 0,f=t.photoURL??void 0,y=t.tenantId??void 0,b=t._redirectEventId??void 0,x=t.createdAt??void 0,A=t.lastLoginAt??void 0,{uid:C,emailVerified:I,isAnonymous:z,providerData:Y,stsTokenManager:G}=t;ze(C&&G,e,"internal-error");const Z=xu.fromJSON(this.name,G);ze(typeof C=="string",e,"internal-error"),eo(s,e.name),eo(l,e.name),ze(typeof I=="boolean",e,"internal-error"),ze(typeof z=="boolean",e,"internal-error"),eo(h,e.name),eo(f,e.name),eo(y,e.name),eo(b,e.name),eo(x,e.name),eo(A,e.name);const se=new Vr({uid:C,auth:e,email:l,emailVerified:I,displayName:s,isAnonymous:z,photoURL:f,phoneNumber:h,tenantId:y,stsTokenManager:Z,createdAt:x,lastLoginAt:A});return Y&&Array.isArray(Y)&&(se.providerData=Y.map(oe=>({...oe}))),b&&(se._redirectEventId=b),se}static async _fromIdTokenResponse(e,t,s=!1){const l=new xu;l.updateFromServerResponse(t);const h=new Vr({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await td(h),h}static async _fromGetAccountInfoResponse(e,t,s){const l=t.users[0];ze(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Lw(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!h?.length,y=new xu;y.updateFromIdToken(s);const b=new Vr({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:f}),x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new mg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(b,x),b}}const Sb=new Map;function ta(i){aa(i instanceof Function,"Expected a class definition");let e=Sb.get(i);return e?(aa(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Sb.set(i,e),e)}class Mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mw.type="NONE";const Ab=Mw;function zf(i,e,t){return`firebase:${i}:${e}:${t}`}class wu{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=zf(this.userKey,l.apiKey,h),this.fullPersistenceKey=zf("persistence",l.apiKey,h),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ed(this.auth,{idToken:e}).catch(()=>{});return t?Vr._fromGetAccountInfoResponse(this.auth,t,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new wu(ta(Ab),e,s);const l=(await Promise.all(t.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let h=l[0]||ta(Ab);const f=zf(s,e.config.apiKey,e.name);let y=null;for(const x of t)try{const A=await x._get(f);if(A){let C;if(typeof A=="string"){const I=await ed(e,{idToken:A}).catch(()=>{});if(!I)break;C=await Vr._fromGetAccountInfoResponse(e,I,A)}else C=Vr._fromJSON(e,A);x!==h&&(y=C),h=x;break}}catch{}const b=l.filter(x=>x._shouldAllowMigration);return!h._shouldAllowMigration||!b.length?new wu(h,e,s):(h=b[0],y&&await h._set(f,y.toJSON()),await Promise.all(t.map(async x=>{if(x!==h)try{await x._remove(f)}catch{}})),new wu(h,e,s))}}function Cb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bw(e))return"Blackberry";if(qw(e))return"Webos";if(jw(e))return"Safari";if((e.includes("chrome/")||Vw(e))&&!e.includes("edge/"))return"Chrome";if(Uw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function kw(i=Qn()){return/firefox\//i.test(i)}function jw(i=Qn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vw(i=Qn()){return/crios\//i.test(i)}function zw(i=Qn()){return/iemobile/i.test(i)}function Uw(i=Qn()){return/android/i.test(i)}function Bw(i=Qn()){return/blackberry/i.test(i)}function qw(i=Qn()){return/webos/i.test(i)}function r_(i=Qn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function DR(i=Qn()){return r_(i)&&!!window.navigator?.standalone}function LR(){return GA()&&document.documentMode===10}function Hw(i=Qn()){return r_(i)||Uw(i)||qw(i)||Bw(i)||/windows phone/i.test(i)||zw(i)}function Fw(i,e=[]){let t;switch(i){case"Browser":t=Cb(Qn());break;case"Worker":t=`${Cb(Qn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cl}/${s}`}class MR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=h=>new Promise((f,y)=>{try{const b=e(h);f(b)}catch(b){y(b)}});s.onAbort=t,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function kR(i,e={}){return Ts(i,"GET","/v2/passwordPolicy",fa(i,e))}const jR=6;class VR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??jR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}class zR{constructor(e,t,s,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rb(this),this.idTokenSubscription=new Rb(this),this.beforeStateQueue=new MR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ta(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ed(this,{idToken:e}),s=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Si(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,f=s?._redirectEventId,y=await this.tryRedirectSignIn(e);(!h||h===f)&&y?.user&&(s=y.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(ia(this));const t=e?Zt(e):null;return t&&ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kR(this),t=new VR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lh("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await OR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ta(e)||this._popupRedirectResolver;ze(t,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[ta(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,l){if(this._deleted)return()=>{};const h=typeof t=="function"?t:t.next.bind(t);let f=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(y,this,"internal-error"),y.then(()=>{f||h(this.currentUser)}),typeof t=="function"){const b=e.addObserver(t,s,l);return()=>{f=!0,b()}}else{const b=e.addObserver(t);return()=>{f=!0,b()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(i){return Zt(i)}class Rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=JA(t=>this.observer=t)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UR(i){Sd=i}function Gw(i){return Sd.loadJS(i)}function BR(){return Sd.recaptchaEnterpriseScript}function qR(){return Sd.gapiScript}function HR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class FR{constructor(){this.enterprise=new GR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ZR="recaptcha-enterprise",Zw="NO_RECAPTCHA";class KR{constructor(e){this.type=ZR,this.auth=da(e)}async verify(e="verify",t=!1){async function s(h){if(!t){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(f,y)=>{TR(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(b.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const x=new ER(b);return h.tenantId==null?h._agentRecaptchaConfig=x:h._tenantRecaptchaConfigs[h.tenantId]=x,f(x.siteKey)}}).catch(b=>{y(b)})})}function l(h,f,y){const b=window.grecaptcha;Eb(b)?b.enterprise.ready(()=>{b.enterprise.execute(h,{action:e}).then(x=>{f(x)}).catch(()=>{f(Zw)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FR().execute("siteKey",{action:"verify"}):new Promise((h,f)=>{s(this.auth).then(y=>{if(!t&&Eb(window.grecaptcha))l(y,h,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let b=BR();b.length!==0&&(b+=y),Gw(b).then(()=>{l(y,h,f)}).catch(x=>{f(x)})}}).catch(y=>{f(y)})})}}async function Nb(i,e,t,s=!1,l=!1){const h=new KR(i);let f;if(l)f=Zw;else try{f=await h.verify(t)}catch{f=await h.verify(t,!0)}const y={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const b=y.phoneEnrollmentInfo.phoneNumber,x=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:b,recaptchaToken:x,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const b=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:b,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return s?Object.assign(y,{captchaResp:f}):Object.assign(y,{captchaResponse:f}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function nd(i,e,t,s,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Nb(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Nb(i,e,t,t==="getOobCode");return s(i,f)}else return Promise.reject(h)})}function YR(i,e){const t=Td(i,"auth");if(t.isInitialized()){const l=t.getImmediate(),h=t.getOptions();if(vl(h,e??{}))return l;vr(l,"already-initialized")}return t.initialize({options:e})}function QR(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(ta);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function WR(i,e,t){const s=da(i);ze(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,h=Kw(e),{host:f,port:y}=$R(e),b=y===null?"":`:${y}`,x={url:`${h}//${f}${b}/`},A=Object.freeze({host:f,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ze(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ze(vl(x,s.config.emulator)&&vl(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=x,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,xo(f)?(Qg(`${h}//${f}${b}`),Wg("Auth",!0)):XR()}function Kw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function $R(i){const e=Kw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:Ib(s.substr(h.length+1))}}else{const[h,f]=s.split(":");return{host:h,port:Ib(f)}}}function Ib(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function XR(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class s_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ea("not implemented")}_getIdTokenResponse(e){return ea("not implemented")}_linkToIdToken(e,t){return ea("not implemented")}_getReauthenticationResolver(e){return ea("not implemented")}}async function JR(i,e){return Ts(i,"POST","/v1/accounts:signUp",e)}async function eN(i,e){return hh(i,"POST","/v1/accounts:signInWithPassword",fa(i,e))}async function tN(i,e){return Ts(i,"POST","/v1/accounts:sendOobCode",fa(i,e))}async function nN(i,e){return tN(i,e)}async function iN(i,e){return hh(i,"POST","/v1/accounts:signInWithEmailLink",fa(i,e))}async function rN(i,e){return hh(i,"POST","/v1/accounts:signInWithEmailLink",fa(i,e))}class Xc extends s_{constructor(e,t,s,l=null){super("password",s),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new Xc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Xc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nd(e,t,"signInWithPassword",eN);case"emailLink":return iN(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nd(e,s,"signUpPassword",JR);case"emailLink":return rN(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Eu(i,e){return hh(i,"POST","/v1/accounts:signInWithIdp",fa(i,e))}const sN="http://localhost";class oa extends s_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...h}=t;if(!s||!l)return null;const f=new oa(s,l);return f.idToken=h.idToken||void 0,f.accessToken=h.accessToken||void 0,f.secret=h.secret,f.nonce=h.nonce,f.pendingToken=h.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Eu(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Eu(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Eu(e,t)}buildRequest(){const e={requestUri:sN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uh(t)}return e}}function aN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oN(i){const e=Lc(Mc(i)).link,t=e?Lc(Mc(e)).deep_link_id:null,s=Lc(Mc(i)).deep_link_id;return(s?Lc(Mc(s)).link:null)||s||t||e||i}class a_{constructor(e){const t=Lc(Mc(e)),s=t.apiKey??null,l=t.oobCode??null,h=aN(t.mode??null);ze(s&&l&&h,"argument-error"),this.apiKey=s,this.operation=h,this.code=l,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=oN(e);try{return new a_(t)}catch{return null}}}class ju{constructor(){this.providerId=ju.PROVIDER_ID}static credential(e,t){return Xc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=a_.parseLink(t);return ze(s,"argument-error"),Xc._fromEmailAndCode(e,s.code,s.tenantId)}}ju.PROVIDER_ID="password";ju.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ju.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class o_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vu extends o_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hc extends Vu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ze("providerId"in t&&"signInMethod"in t,"argument-error"),oa._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ze(e.idToken||e.accessToken,"argument-error"),oa._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Hc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Hc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:h,nonce:f,providerId:y}=e;if(!s&&!l&&!t&&!h||!y)return null;try{return new Hc(y)._credential({idToken:t,accessToken:s,nonce:f,pendingToken:h})}catch{return null}}}class to extends Vu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";class Js extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Js.credential(t,s)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class no extends Vu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";class io extends Vu{constructor(){super("twitter.com")}static credential(e,t){return oa._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return io.credential(t,s)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";async function lN(i,e){return hh(i,"POST","/v1/accounts:signUp",fa(i,e))}class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,l=!1){const h=await Vr._fromIdTokenResponse(e,s,l),f=Pb(s);return new xl({user:h,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const l=Pb(s);return new xl({user:e,providerId:l,_tokenResponse:s,operationType:t})}}function Pb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class id extends Es{constructor(e,t,s,l){super(t.code,t.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,l){return new id(e,t,s,l)}}function Yw(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?id._fromErrorAndOperation(i,h,e,s):h})}async function uN(i,e,t=!1){const s=await Cu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return xl._forOperation(i,"link",s)}async function cN(i,e,t=!1){const{auth:s}=i;if(Si(s.app))return Promise.reject(ia(s));const l="reauthenticate";try{const h=await Cu(i,Yw(s,l,e,i),t);ze(h.idToken,s,"internal-error");const f=i_(h.idToken);ze(f,s,"internal-error");const{sub:y}=f;return ze(i.uid===y,s,"user-mismatch"),xl._forOperation(i,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&vr(s,"user-mismatch"),h}}async function Qw(i,e,t=!1){if(Si(i.app))return Promise.reject(ia(i));const s="signIn",l=await Yw(i,s,e),h=await xl._fromIdTokenResponse(i,s,l);return t||await i._updateCurrentUser(h.user),h}async function hN(i,e){return Qw(da(i),e)}async function Ww(i){const e=da(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fN(i,e,t){const s=da(i);await nd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",nN)}async function dN(i,e,t){if(Si(i.app))return Promise.reject(ia(i));const s=da(i),f=await nd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lN).catch(b=>{throw b.code==="auth/password-does-not-meet-requirements"&&Ww(i),b}),y=await xl._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(y.user),y}function mN(i,e,t){return Si(i.app)?Promise.reject(ia(i)):hN(Zt(i),ju.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ww(i),s})}async function pN(i,e){return Ts(i,"POST","/v1/accounts:update",e)}async function gN(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Zt(i),h={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await Cu(s,pN(s.auth,h));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const y=s.providerData.find(({providerId:b})=>b==="password");y&&(y.displayName=s.displayName,y.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function _N(i,e,t,s){return Zt(i).onIdTokenChanged(e,t,s)}function yN(i,e,t){return Zt(i).beforeAuthStateChanged(e,t)}function vN(i,e,t,s){return Zt(i).onAuthStateChanged(e,t,s)}function bN(i){return Zt(i).signOut()}const rd="__sak";class $w{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xN=1e3,wN=10;class Xw extends $w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),l=this.localCache[t];s!==l&&e(t,l,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,y,b)=>{this.notifyListeners(f,b)});return}const s=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},h=this.storage.getItem(s);LR()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,wN):l()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},xN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xw.type="LOCAL";const EN=Xw;class Jw extends $w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jw.type="SESSION";const e1=Jw;function TN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const s=new Ad(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:l,data:h}=t.data,f=this.handlersMap[l];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const y=Array.from(f).map(async x=>x(t.origin,h)),b=await TN(y);t.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:b})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];function l_(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class SN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,f;return new Promise((y,b)=>{const x=l_("",20);l.port1.start();const A=setTimeout(()=>{b(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(C){const I=C;if(I.data.eventId===x)switch(I.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(I.data.response);break;default:clearTimeout(A),clearTimeout(h),b(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:x,data:t},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function _s(){return window}function AN(i){_s().location.href=i}function t1(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function CN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RN(){return navigator?.serviceWorker?.controller||null}function NN(){return t1()?self:null}const n1="firebaseLocalStorageDb",IN=1,sd="firebaseLocalStorage",i1="fbase_key";class fh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cd(i,e){return i.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function PN(){const i=indexedDB.deleteDatabase(n1);return new fh(i).toPromise()}function pg(){const i=indexedDB.open(n1,IN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(sd,{keyPath:i1})}catch(l){t(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(sd)?e(s):(s.close(),await PN(),e(await pg()))})})}async function Ob(i,e,t){const s=Cd(i,!0).put({[i1]:e,value:t});return new fh(s).toPromise()}async function ON(i,e){const t=Cd(i,!1).get(e),s=await new fh(t).toPromise();return s===void 0?null:s.value}function Db(i,e){const t=Cd(i,!0).delete(e);return new fh(t).toPromise()}const DN=800,LN=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>LN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(NN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CN(),!this.activeServiceWorker)return;this.sender=new SN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pg();return await Ob(e,rd,"1"),await Db(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ob(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>ON(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const h=Cd(l,!1).getAll();return new fh(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:h}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const MN=r1;new ch(3e4,6e4);function s1(i,e){return e?ta(e):(ze(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class u_ extends s_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Eu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kN(i){return Qw(i.auth,new u_(i),i.bypassAuthState)}function jN(i){const{auth:e,user:t}=i;return ze(t,e,"internal-error"),cN(t,new u_(i),i.bypassAuthState)}async function VN(i){const{auth:e,user:t}=i;return ze(t,e,"internal-error"),uN(t,new u_(i),i.bypassAuthState)}class a1{constructor(e,t,s,l,h=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:l,tenantId:h,error:f,type:y}=e;if(f){this.reject(f);return}const b={auth:this.auth,requestUri:t,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(b))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kN;case"linkViaPopup":case"linkViaRedirect":return VN;case"reauthViaPopup":case"reauthViaRedirect":return jN;default:vr(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zN=new ch(2e3,1e4);async function Lb(i,e,t){if(Si(i.app))return Promise.reject(zr(i,"operation-not-supported-in-this-environment"));const s=da(i);mR(i,e,o_);const l=s1(s,t);return new dl(s,"signInViaPopup",e,l).executeNotNull()}class dl extends a1{constructor(e,t,s,l,h){super(e,t,l,h),this.provider=s,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=l_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zN.get())};e()}}dl.currentPopupAction=null;const UN="pendingRedirect",Uf=new Map;class BN extends a1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Uf.get(this.auth._key());if(!e){try{const s=await qN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Uf.set(this.auth._key(),e)}return this.bypassAuthState||Uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qN(i,e){const t=GN(e),s=FN(i);if(!await s._isAvailable())return!1;const l=await s._get(t)==="true";return await s._remove(t),l}function HN(i,e){Uf.set(i._key(),e)}function FN(i){return ta(i._redirectPersistence)}function GN(i){return zf(UN,i.config.apiKey,i.name)}async function ZN(i,e,t=!1){if(Si(i.app))return Promise.reject(ia(i));const s=da(i),l=s1(s,e),f=await new BN(s,l,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const KN=600*1e3;class YN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!o1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(zr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mb(e))}saveEventToCache(e){this.cachedEventUids.add(Mb(e)),this.lastProcessedEventTime=Date.now()}}function Mb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function o1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function QN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(i);default:return!1}}async function WN(i,e={}){return Ts(i,"GET","/v1/projects",e)}const $N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XN=/^https?/;async function JN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await WN(i);for(const t of e)try{if(eI(t))return}catch{}vr(i,"unauthorized-domain")}function eI(i){const e=dg(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!XN.test(t))return!1;if($N.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const tI=new ch(3e4,6e4);function kb(){const i=_s().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function nI(i){return new Promise((e,t)=>{function s(){kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kb(),t(zr(i,"network-request-failed"))},timeout:tI.get()})}if(_s().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_s().gapi?.load)s();else{const l=HR("iframefcb");return _s()[l]=()=>{gapi.load?s():t(zr(i,"network-request-failed"))},Gw(`${qR()}?onload=${l}`).catch(h=>t(h))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function iI(i){return Bf=Bf||nI(i),Bf}const rI=new ch(5e3,15e3),sI="__/auth/iframe",aI="emulator/auth/iframe",oI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(i){const e=i.config;ze(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?n_(e,aI):`https://${i.config.authDomain}/${sI}`,s={apiKey:e.apiKey,appName:i.name,v:Cl},l=lI.get(i.config.apiHost);l&&(s.eid=l);const h=i._getFrameworks();return h.length&&(s.fw=h.join(",")),`${t}?${uh(s).slice(1)}`}async function cI(i){const e=await iI(i),t=_s().gapi;return ze(t,i,"internal-error"),e.open({where:document.body,url:uI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oI,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const f=zr(i,"network-request-failed"),y=_s().setTimeout(()=>{h(f)},rI.get());function b(){_s().clearTimeout(y),l(s)}s.ping(b).then(b,()=>{h(f)})}))}const hI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fI=500,dI=600,mI="_blank",pI="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gI(i,e,t,s=fI,l=dI){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const b={...hI,width:s.toString(),height:l.toString(),top:h,left:f},x=Qn().toLowerCase();t&&(y=Vw(x)?mI:t),kw(x)&&(e=e||pI,b.scrollbars="yes");const A=Object.entries(b).reduce((I,[z,Y])=>`${I}${z}=${Y},`,"");if(DR(x)&&y!=="_self")return _I(e||"",y),new jb(null);const C=window.open(e||"",y,A);ze(C,i,"popup-blocked");try{C.focus()}catch{}return new jb(C)}function _I(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const yI="__/auth/handler",vI="emulator/auth/handler",bI=encodeURIComponent("fac");async function Vb(i,e,t,s,l,h){ze(i.config.authDomain,i,"auth-domain-config-required"),ze(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Cl,eventId:l};if(e instanceof o_){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",XA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,C]of Object.entries({}))f[A]=C}if(e instanceof Vu){const A=e.getScopes().filter(C=>C!=="");A.length>0&&(f.scopes=A.join(","))}i.tenantId&&(f.tid=i.tenantId);const y=f;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const b=await i._getAppCheckToken(),x=b?`#${bI}=${encodeURIComponent(b)}`:"";return`${xI(i)}?${uh(y).slice(1)}${x}`}function xI({config:i}){return i.emulator?n_(i,vI):`https://${i.authDomain}/${yI}`}const Yp="webStorageSupport";class wI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=ZN,this._overrideRedirectResult=HN}async _openPopup(e,t,s,l){aa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Vb(e,t,s,dg(),l);return gI(e,h,l_())}async _openRedirect(e,t,s,l){await this._originValidation(e);const h=await Vb(e,t,s,dg(),l);return AN(h),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:h}=this.eventManagers[t];return l?Promise.resolve(l):(aa(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await cI(e),s=new YN(e);return t.register("authEvent",l=>(ze(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yp,{type:Yp},l=>{const h=l?.[0]?.[Yp];h!==void 0&&t(!!h),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=JN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hw()||jw()||r_()}}const EI=wI;var zb="@firebase/auth",Ub="1.12.0";class TI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AI(i){bl(new mo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:f,authDomain:y}=s.options;ze(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const b={apiKey:f,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fw(i)},x=new zR(s,l,h,b);return QR(x,t),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),bl(new mo("auth-internal",e=>{const t=da(e.getProvider("auth").getImmediate());return(s=>new TI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(zb,Ub,SI(i)),gs(zb,Ub,"esm2020")}const CI=300,RI=ww("authIdTokenMaxAge")||CI;let Bb=null;const NI=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>RI)return;const l=t?.token;Bb!==l&&(Bb=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function II(i=Jg()){const e=Td(i,"auth");if(e.isInitialized())return e.getImmediate();const t=YR(i,{popupRedirectResolver:EI,persistence:[MN,EN,e1]}),s=ww("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const f=NI(h.toString());yN(t,f,()=>f(t.currentUser)),_N(t,y=>f(y))}}const l=vw("auth");return l&&WR(t,`http://${l}`),t}function PI(){return document.getElementsByTagName("head")?.[0]??document}UR({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=l=>{const h=zr("internal-error");h.customData=l,t(h)},s.type="text/javascript",s.charset="UTF-8",PI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AI("Browser");var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var co,l1;(function(){var i;function e(j,M){function D(){}D.prototype=M.prototype,j.F=M.prototype,j.prototype=new D,j.prototype.constructor=j,j.D=function(H,O,F){for(var k=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)k[ke-2]=arguments[ke];return M.prototype[O].apply(H,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(j,M,D){D||(D=0);const H=Array(16);if(typeof M=="string")for(var O=0;O<16;++O)H[O]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(O=0;O<16;++O)H[O]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=j.g[0],D=j.g[1],O=j.g[2];let F=j.g[3],k;k=M+(F^D&(O^F))+H[0]+3614090360&4294967295,M=D+(k<<7&4294967295|k>>>25),k=F+(O^M&(D^O))+H[1]+3905402710&4294967295,F=M+(k<<12&4294967295|k>>>20),k=O+(D^F&(M^D))+H[2]+606105819&4294967295,O=F+(k<<17&4294967295|k>>>15),k=D+(M^O&(F^M))+H[3]+3250441966&4294967295,D=O+(k<<22&4294967295|k>>>10),k=M+(F^D&(O^F))+H[4]+4118548399&4294967295,M=D+(k<<7&4294967295|k>>>25),k=F+(O^M&(D^O))+H[5]+1200080426&4294967295,F=M+(k<<12&4294967295|k>>>20),k=O+(D^F&(M^D))+H[6]+2821735955&4294967295,O=F+(k<<17&4294967295|k>>>15),k=D+(M^O&(F^M))+H[7]+4249261313&4294967295,D=O+(k<<22&4294967295|k>>>10),k=M+(F^D&(O^F))+H[8]+1770035416&4294967295,M=D+(k<<7&4294967295|k>>>25),k=F+(O^M&(D^O))+H[9]+2336552879&4294967295,F=M+(k<<12&4294967295|k>>>20),k=O+(D^F&(M^D))+H[10]+4294925233&4294967295,O=F+(k<<17&4294967295|k>>>15),k=D+(M^O&(F^M))+H[11]+2304563134&4294967295,D=O+(k<<22&4294967295|k>>>10),k=M+(F^D&(O^F))+H[12]+1804603682&4294967295,M=D+(k<<7&4294967295|k>>>25),k=F+(O^M&(D^O))+H[13]+4254626195&4294967295,F=M+(k<<12&4294967295|k>>>20),k=O+(D^F&(M^D))+H[14]+2792965006&4294967295,O=F+(k<<17&4294967295|k>>>15),k=D+(M^O&(F^M))+H[15]+1236535329&4294967295,D=O+(k<<22&4294967295|k>>>10),k=M+(O^F&(D^O))+H[1]+4129170786&4294967295,M=D+(k<<5&4294967295|k>>>27),k=F+(D^O&(M^D))+H[6]+3225465664&4294967295,F=M+(k<<9&4294967295|k>>>23),k=O+(M^D&(F^M))+H[11]+643717713&4294967295,O=F+(k<<14&4294967295|k>>>18),k=D+(F^M&(O^F))+H[0]+3921069994&4294967295,D=O+(k<<20&4294967295|k>>>12),k=M+(O^F&(D^O))+H[5]+3593408605&4294967295,M=D+(k<<5&4294967295|k>>>27),k=F+(D^O&(M^D))+H[10]+38016083&4294967295,F=M+(k<<9&4294967295|k>>>23),k=O+(M^D&(F^M))+H[15]+3634488961&4294967295,O=F+(k<<14&4294967295|k>>>18),k=D+(F^M&(O^F))+H[4]+3889429448&4294967295,D=O+(k<<20&4294967295|k>>>12),k=M+(O^F&(D^O))+H[9]+568446438&4294967295,M=D+(k<<5&4294967295|k>>>27),k=F+(D^O&(M^D))+H[14]+3275163606&4294967295,F=M+(k<<9&4294967295|k>>>23),k=O+(M^D&(F^M))+H[3]+4107603335&4294967295,O=F+(k<<14&4294967295|k>>>18),k=D+(F^M&(O^F))+H[8]+1163531501&4294967295,D=O+(k<<20&4294967295|k>>>12),k=M+(O^F&(D^O))+H[13]+2850285829&4294967295,M=D+(k<<5&4294967295|k>>>27),k=F+(D^O&(M^D))+H[2]+4243563512&4294967295,F=M+(k<<9&4294967295|k>>>23),k=O+(M^D&(F^M))+H[7]+1735328473&4294967295,O=F+(k<<14&4294967295|k>>>18),k=D+(F^M&(O^F))+H[12]+2368359562&4294967295,D=O+(k<<20&4294967295|k>>>12),k=M+(D^O^F)+H[5]+4294588738&4294967295,M=D+(k<<4&4294967295|k>>>28),k=F+(M^D^O)+H[8]+2272392833&4294967295,F=M+(k<<11&4294967295|k>>>21),k=O+(F^M^D)+H[11]+1839030562&4294967295,O=F+(k<<16&4294967295|k>>>16),k=D+(O^F^M)+H[14]+4259657740&4294967295,D=O+(k<<23&4294967295|k>>>9),k=M+(D^O^F)+H[1]+2763975236&4294967295,M=D+(k<<4&4294967295|k>>>28),k=F+(M^D^O)+H[4]+1272893353&4294967295,F=M+(k<<11&4294967295|k>>>21),k=O+(F^M^D)+H[7]+4139469664&4294967295,O=F+(k<<16&4294967295|k>>>16),k=D+(O^F^M)+H[10]+3200236656&4294967295,D=O+(k<<23&4294967295|k>>>9),k=M+(D^O^F)+H[13]+681279174&4294967295,M=D+(k<<4&4294967295|k>>>28),k=F+(M^D^O)+H[0]+3936430074&4294967295,F=M+(k<<11&4294967295|k>>>21),k=O+(F^M^D)+H[3]+3572445317&4294967295,O=F+(k<<16&4294967295|k>>>16),k=D+(O^F^M)+H[6]+76029189&4294967295,D=O+(k<<23&4294967295|k>>>9),k=M+(D^O^F)+H[9]+3654602809&4294967295,M=D+(k<<4&4294967295|k>>>28),k=F+(M^D^O)+H[12]+3873151461&4294967295,F=M+(k<<11&4294967295|k>>>21),k=O+(F^M^D)+H[15]+530742520&4294967295,O=F+(k<<16&4294967295|k>>>16),k=D+(O^F^M)+H[2]+3299628645&4294967295,D=O+(k<<23&4294967295|k>>>9),k=M+(O^(D|~F))+H[0]+4096336452&4294967295,M=D+(k<<6&4294967295|k>>>26),k=F+(D^(M|~O))+H[7]+1126891415&4294967295,F=M+(k<<10&4294967295|k>>>22),k=O+(M^(F|~D))+H[14]+2878612391&4294967295,O=F+(k<<15&4294967295|k>>>17),k=D+(F^(O|~M))+H[5]+4237533241&4294967295,D=O+(k<<21&4294967295|k>>>11),k=M+(O^(D|~F))+H[12]+1700485571&4294967295,M=D+(k<<6&4294967295|k>>>26),k=F+(D^(M|~O))+H[3]+2399980690&4294967295,F=M+(k<<10&4294967295|k>>>22),k=O+(M^(F|~D))+H[10]+4293915773&4294967295,O=F+(k<<15&4294967295|k>>>17),k=D+(F^(O|~M))+H[1]+2240044497&4294967295,D=O+(k<<21&4294967295|k>>>11),k=M+(O^(D|~F))+H[8]+1873313359&4294967295,M=D+(k<<6&4294967295|k>>>26),k=F+(D^(M|~O))+H[15]+4264355552&4294967295,F=M+(k<<10&4294967295|k>>>22),k=O+(M^(F|~D))+H[6]+2734768916&4294967295,O=F+(k<<15&4294967295|k>>>17),k=D+(F^(O|~M))+H[13]+1309151649&4294967295,D=O+(k<<21&4294967295|k>>>11),k=M+(O^(D|~F))+H[4]+4149444226&4294967295,M=D+(k<<6&4294967295|k>>>26),k=F+(D^(M|~O))+H[11]+3174756917&4294967295,F=M+(k<<10&4294967295|k>>>22),k=O+(M^(F|~D))+H[2]+718787259&4294967295,O=F+(k<<15&4294967295|k>>>17),k=D+(F^(O|~M))+H[9]+3951481745&4294967295,j.g[0]=j.g[0]+M&4294967295,j.g[1]=j.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,j.g[2]=j.g[2]+O&4294967295,j.g[3]=j.g[3]+F&4294967295}s.prototype.v=function(j,M){M===void 0&&(M=j.length);const D=M-this.blockSize,H=this.C;let O=this.h,F=0;for(;F<M;){if(O==0)for(;F<=D;)l(this,j,F),F+=this.blockSize;if(typeof j=="string"){for(;F<M;)if(H[O++]=j.charCodeAt(F++),O==this.blockSize){l(this,H),O=0;break}}else for(;F<M;)if(H[O++]=j[F++],O==this.blockSize){l(this,H),O=0;break}}this.h=O,this.o+=M},s.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var M=1;M<j.length-8;++M)j[M]=0;M=this.o*8;for(var D=j.length-8;D<j.length;++D)j[D]=M&255,M/=256;for(this.v(j),j=Array(16),M=0,D=0;D<4;++D)for(let H=0;H<32;H+=8)j[M++]=this.g[D]>>>H&255;return j};function h(j,M){var D=y;return Object.prototype.hasOwnProperty.call(D,j)?D[j]:D[j]=M(j)}function f(j,M){this.h=M;const D=[];let H=!0;for(let O=j.length-1;O>=0;O--){const F=j[O]|0;H&&F==M||(D[O]=F,H=!1)}this.g=D}var y={};function b(j){return-128<=j&&j<128?h(j,function(M){return new f([M|0],M<0?-1:0)}):new f([j|0],j<0?-1:0)}function x(j){if(isNaN(j)||!isFinite(j))return C;if(j<0)return Z(x(-j));const M=[];let D=1;for(let H=0;j>=D;H++)M[H]=j/D|0,D*=4294967296;return new f(M,0)}function A(j,M){if(j.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(j.charAt(0)=="-")return Z(A(j.substring(1),M));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=x(Math.pow(M,8));let H=C;for(let F=0;F<j.length;F+=8){var O=Math.min(8,j.length-F);const k=parseInt(j.substring(F,F+O),M);O<8?(O=x(Math.pow(M,O)),H=H.j(O).add(x(k))):(H=H.j(D),H=H.add(x(k)))}return H}var C=b(0),I=b(1),z=b(16777216);i=f.prototype,i.m=function(){if(G(this))return-Z(this).m();let j=0,M=1;for(let D=0;D<this.g.length;D++){const H=this.i(D);j+=(H>=0?H:4294967296+H)*M,M*=4294967296}return j},i.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(Y(this))return"0";if(G(this))return"-"+Z(this).toString(j);const M=x(Math.pow(j,6));var D=this;let H="";for(;;){const O=we(D,M).g;D=se(D,O.j(M));let F=((D.g.length>0?D.g[0]:D.h)>>>0).toString(j);if(D=O,Y(D))return F+H;for(;F.length<6;)F="0"+F;H=F+H}},i.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function Y(j){if(j.h!=0)return!1;for(let M=0;M<j.g.length;M++)if(j.g[M]!=0)return!1;return!0}function G(j){return j.h==-1}i.l=function(j){return j=se(this,j),G(j)?-1:Y(j)?0:1};function Z(j){const M=j.g.length,D=[];for(let H=0;H<M;H++)D[H]=~j.g[H];return new f(D,~j.h).add(I)}i.abs=function(){return G(this)?Z(this):this},i.add=function(j){const M=Math.max(this.g.length,j.g.length),D=[];let H=0;for(let O=0;O<=M;O++){let F=H+(this.i(O)&65535)+(j.i(O)&65535),k=(F>>>16)+(this.i(O)>>>16)+(j.i(O)>>>16);H=k>>>16,F&=65535,k&=65535,D[O]=k<<16|F}return new f(D,D[D.length-1]&-2147483648?-1:0)};function se(j,M){return j.add(Z(M))}i.j=function(j){if(Y(this)||Y(j))return C;if(G(this))return G(j)?Z(this).j(Z(j)):Z(Z(this).j(j));if(G(j))return Z(this.j(Z(j)));if(this.l(z)<0&&j.l(z)<0)return x(this.m()*j.m());const M=this.g.length+j.g.length,D=[];for(var H=0;H<2*M;H++)D[H]=0;for(H=0;H<this.g.length;H++)for(let O=0;O<j.g.length;O++){const F=this.i(H)>>>16,k=this.i(H)&65535,ke=j.i(O)>>>16,Bt=j.i(O)&65535;D[2*H+2*O]+=k*Bt,oe(D,2*H+2*O),D[2*H+2*O+1]+=F*Bt,oe(D,2*H+2*O+1),D[2*H+2*O+1]+=k*ke,oe(D,2*H+2*O+1),D[2*H+2*O+2]+=F*ke,oe(D,2*H+2*O+2)}for(j=0;j<M;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=M;j<2*M;j++)D[j]=0;return new f(D,0)};function oe(j,M){for(;(j[M]&65535)!=j[M];)j[M+1]+=j[M]>>>16,j[M]&=65535,M++}function ue(j,M){this.g=j,this.h=M}function we(j,M){if(Y(M))throw Error("division by zero");if(Y(j))return new ue(C,C);if(G(j))return M=we(Z(j),M),new ue(Z(M.g),Z(M.h));if(G(M))return M=we(j,Z(M)),new ue(Z(M.g),M.h);if(j.g.length>30){if(G(j)||G(M))throw Error("slowDivide_ only works with positive integers.");for(var D=I,H=M;H.l(j)<=0;)D=ge(D),H=ge(H);var O=Ie(D,1),F=Ie(H,1);for(H=Ie(H,2),D=Ie(D,2);!Y(H);){var k=F.add(H);k.l(j)<=0&&(O=O.add(D),F=k),H=Ie(H,1),D=Ie(D,1)}return M=se(j,O.j(M)),new ue(O,M)}for(O=C;j.l(M)>=0;){for(D=Math.max(1,Math.floor(j.m()/M.m())),H=Math.ceil(Math.log(D)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),F=x(D),k=F.j(M);G(k)||k.l(j)>0;)D-=H,F=x(D),k=F.j(M);Y(F)&&(F=I),O=O.add(F),j=se(j,k)}return new ue(O,j)}i.B=function(j){return we(this,j).h},i.and=function(j){const M=Math.max(this.g.length,j.g.length),D=[];for(let H=0;H<M;H++)D[H]=this.i(H)&j.i(H);return new f(D,this.h&j.h)},i.or=function(j){const M=Math.max(this.g.length,j.g.length),D=[];for(let H=0;H<M;H++)D[H]=this.i(H)|j.i(H);return new f(D,this.h|j.h)},i.xor=function(j){const M=Math.max(this.g.length,j.g.length),D=[];for(let H=0;H<M;H++)D[H]=this.i(H)^j.i(H);return new f(D,this.h^j.h)};function ge(j){const M=j.g.length+1,D=[];for(let H=0;H<M;H++)D[H]=j.i(H)<<1|j.i(H-1)>>>31;return new f(D,j.h)}function Ie(j,M){const D=M>>5;M%=32;const H=j.g.length-D,O=[];for(let F=0;F<H;F++)O[F]=M>0?j.i(F+D)>>>M|j.i(F+D+1)<<32-M:j.i(F+D);return new f(O,j.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,l1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=x,f.fromString=A,co=f}).apply(typeof qb<"u"?qb:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var u1,kc,c1,qf,gg,h1,f1,d1;(function(){var i,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var w=0;w<d.length;++w){var S=d[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=t(this);function l(d,w){if(w)e:{var S=s;d=d.split(".");for(var P=0;P<d.length-1;P++){var $=d[P];if(!($ in S))break e;S=S[$]}d=d[d.length-1],P=S[d],w=w(P),w!=P&&w!=null&&e(S,d,{configurable:!0,writable:!0,value:w})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(w){var S=[],P;for(P in w)Object.prototype.hasOwnProperty.call(w,P)&&S.push([P,w[P]]);return S}});var h=h||{},f=this||self;function y(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function b(d,w,S){return d.call.apply(d.bind,arguments)}function x(d,w,S){return x=b,x.apply(null,arguments)}function A(d,w){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function C(d,w){function S(){}S.prototype=w.prototype,d.Z=w.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(P,$,ne){for(var ve=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ve[Be-2]=arguments[Be];return w.prototype[$].apply(P,ve)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function z(d){const w=d.length;if(w>0){const S=Array(w);for(let P=0;P<w;P++)S[P]=d[P];return S}return[]}function Y(d,w){for(let P=1;P<arguments.length;P++){const $=arguments[P];var S=typeof $;if(S=S!="object"?S:$?Array.isArray($)?"array":S:"null",S=="array"||S=="object"&&typeof $.length=="number"){S=d.length||0;const ne=$.length||0;d.length=S+ne;for(let ve=0;ve<ne;ve++)d[S+ve]=$[ve]}else d.push($)}}class G{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function Z(d){f.setTimeout(()=>{throw d},0)}function se(){var d=j;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class oe{constructor(){this.h=this.g=null}add(w,S){const P=ue.get();P.set(w,S),this.h?this.h.next=P:this.g=P,this.h=P}}var ue=new G(()=>new we,d=>d.reset());class we{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,Ie=!1,j=new oe,M=()=>{const d=Promise.resolve(void 0);ge=()=>{d.then(D)}};function D(){for(var d;d=se();){try{d.h.call(d.g)}catch(S){Z(S)}var w=ue;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}Ie=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};f.addEventListener("test",S,w),f.removeEventListener("test",S,w)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function ke(d,w){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}C(ke,O),ke.prototype.init=function(d,w){const S=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(S=="mouseover"?w=d.fromElement:S=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Bt="closure_listenable_"+(Math.random()*1e6|0),re=0;function be(d,w,S,P,$){this.listener=d,this.proxy=null,this.src=w,this.type=S,this.capture=!!P,this.ha=$,this.key=++re,this.da=this.fa=!1}function pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function tt(d,w,S){for(const P in d)w.call(S,d[P],P,d)}function Se(d,w){for(const S in d)w.call(void 0,d[S],S,d)}function q(d){const w={};for(const S in d)w[S]=d[S];return w}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(d,w){let S,P;for(let $=1;$<arguments.length;$++){P=arguments[$];for(S in P)d[S]=P[S];for(let ne=0;ne<ae.length;ne++)S=ae[ne],Object.prototype.hasOwnProperty.call(P,S)&&(d[S]=P[S])}}function ye(d){this.src=d,this.g={},this.h=0}ye.prototype.add=function(d,w,S,P,$){const ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);const ve=Ee(d,w,P,$);return ve>-1?(w=d[ve],S||(w.fa=!1)):(w=new be(w,this.src,ne,!!P,$),w.fa=S,d.push(w)),w};function Te(d,w){const S=w.type;if(S in d.g){var P=d.g[S],$=Array.prototype.indexOf.call(P,w,void 0),ne;(ne=$>=0)&&Array.prototype.splice.call(P,$,1),ne&&(pe(w),d.g[S].length==0&&(delete d.g[S],d.h--))}}function Ee(d,w,S,P){for(let $=0;$<d.length;++$){const ne=d[$];if(!ne.da&&ne.listener==w&&ne.capture==!!S&&ne.ha==P)return $}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),Tt={};function Rt(d,w,S,P,$){if(Array.isArray(w)){for(let ne=0;ne<w.length;ne++)Rt(d,w[ne],S,P,$);return null}return S=Kr(S),d&&d[Bt]?d.J(w,S,y(P)?!!P.capture:!1,$):xr(d,w,S,!1,P,$)}function xr(d,w,S,P,$,ne){if(!w)throw Error("Invalid event type");const ve=y($)?!!$.capture:!!$;let Be=Zr(d);if(Be||(d[Fe]=Be=new ye(d)),S=Be.add(w,S,P,ve,ne),S.proxy)return S;if(P=Fr(),S.proxy=P,P.src=d,P.listener=S,d.addEventListener)F||($=ve),$===void 0&&($=!1),d.addEventListener(w.toString(),P,$);else if(d.attachEvent)d.attachEvent(Qi(w.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Fr(){function d(S){return w.call(d.src,d.listener,S)}const w=ma;return d}function Yi(d,w,S,P,$){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)Yi(d,w[ne],S,P,$);else P=y(P)?!!P.capture:!!P,S=Kr(S),d&&d[Bt]?(d=d.i,ne=String(w).toString(),ne in d.g&&(w=d.g[ne],S=Ee(w,S,P,$),S>-1&&(pe(w[S]),Array.prototype.splice.call(w,S,1),w.length==0&&(delete d.g[ne],d.h--)))):d&&(d=Zr(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Ee(w,S,P,$)),(S=d>-1?w[d]:null)&&Gr(S))}function Gr(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Bt])Te(w.i,d);else{var S=d.type,P=d.proxy;w.removeEventListener?w.removeEventListener(S,P,d.capture):w.detachEvent?w.detachEvent(Qi(S),P):w.addListener&&w.removeListener&&w.removeListener(P),(S=Zr(w))?(Te(S,d),S.h==0&&(S.src=null,w[Fe]=null)):pe(d)}}}function Qi(d){return d in Tt?Tt[d]:Tt[d]="on"+d}function ma(d,w){if(d.da)d=!0;else{w=new ke(w,this);const S=d.listener,P=d.ha||d.src;d.fa&&Gr(d),d=S.call(P,w)}return d}function Zr(d){return d=d[Fe],d instanceof ye?d:null}var Ss="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(d){return typeof d=="function"?d:(d[Ss]||(d[Ss]=function(w){return d.handleEvent(w)}),d[Ss])}function Yt(){H.call(this),this.i=new ye(this),this.M=this,this.G=null}C(Yt,H),Yt.prototype[Bt]=!0,Yt.prototype.removeEventListener=function(d,w,S,P){Yi(this,d,w,S,P)};function Qt(d,w){var S,P=d.G;if(P)for(S=[];P;P=P.G)S.push(P);if(d=d.M,P=w.type||w,typeof w=="string")w=new O(w,d);else if(w instanceof O)w.target=w.target||d;else{var $=w;w=new O(P,d),_e(w,$)}$=!0;let ne,ve;if(S)for(ve=S.length-1;ve>=0;ve--)ne=w.g=S[ve],$=Wi(ne,P,!0,w)&&$;if(ne=w.g=d,$=Wi(ne,P,!0,w)&&$,$=Wi(ne,P,!1,w)&&$,S)for(ve=0;ve<S.length;ve++)ne=w.g=S[ve],$=Wi(ne,P,!1,w)&&$}Yt.prototype.N=function(){if(Yt.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const S=d.g[w];for(let P=0;P<S.length;P++)pe(S[P]);delete d.g[w],d.h--}}this.G=null},Yt.prototype.J=function(d,w,S,P){return this.i.add(String(d),w,!1,S,P)},Yt.prototype.K=function(d,w,S,P){return this.i.add(String(d),w,!0,S,P)};function Wi(d,w,S,P){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let $=!0;for(let ne=0;ne<w.length;++ne){const ve=w[ne];if(ve&&!ve.da&&ve.capture==S){const Be=ve.listener,ct=ve.ha||ve.src;ve.fa&&Te(d.i,ve),$=Be.call(ct,P)!==!1&&$}}return $&&!P.defaultPrevented}function Pl(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:f.setTimeout(d,w||0)}function Co(d){d.g=Pl(()=>{d.g=null,d.i&&(d.i=!1,Co(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class On extends H{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(d){H.call(this),this.h=d,this.g={}}C(As,H);var Cs=[];function pa(d){tt(d.g,function(w,S){this.g.hasOwnProperty(S)&&Gr(w)},d),d.g={}}As.prototype.N=function(){As.Z.N.call(this),pa(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=f.JSON.stringify,Fu=f.JSON.parse,Ro=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function No(){}function Ol(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){O.call(this,"d")}C(rn,O);function Wn(){O.call(this,"c")}C(Wn,O);var qt={},Yr=null;function ga(){return Yr=Yr||new Yt}qt.Ia="serverreachability";function Dl(d){O.call(this,qt.Ia,d)}C(Dl,O);function Ai(d){const w=ga();Qt(w,new Dl(w))}qt.STAT_EVENT="statevent";function Qr(d,w){O.call(this,qt.STAT_EVENT,d),this.stat=w}C(Qr,O);function Ht(d){const w=ga();Qt(w,new Qr(w,d))}qt.Ja="timingevent";function $i(d,w){O.call(this,qt.Ja,d),this.size=w}C($i,O);function Xi(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},w)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function Gu(d,w,S,P,$,ne){d.info(function(){if(d.g)if(ne){var ve="",Be=ne.split("&");for(let ht=0;ht<Be.length;ht++){var ct=Be[ht].split("=");if(ct.length>1){const It=ct[0];ct=ct[1];const mi=It.split("_");ve=mi.length>=2&&mi[1]=="type"?ve+(It+"="+ct+"&"):ve+(It+"=redacted&")}}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+P+") [attempt "+$+"]: "+w+`
`+S+`
`+ve})}function Ll(d,w,S,P,$,ne,ve){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+$+"]: "+w+`
`+S+`
`+ne+" "+ve})}function Ji(d,w,S,P){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Zu(d,S)+(P?" "+P:"")})}function Er(d,w){d.info(function(){return"TIMEOUT: "+w})}Ci.prototype.info=function(){};function Zu(d,w){if(!d.g)return w;if(!w)return null;try{const ne=JSON.parse(w);if(ne){for(d=0;d<ne.length;d++)if(Array.isArray(ne[d])){var S=ne[d];if(!(S.length<2)){var P=S[1];if(Array.isArray(P)&&!(P.length<1)){var $=P[0];if($!="noop"&&$!="stop"&&$!="close")for(let ve=1;ve<P.length;ve++)P[ve]=""}}}}return wr(ne)}catch{return w}}var Rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function En(){}C(En,No),En.prototype.g=function(){return new XMLHttpRequest},Po=new En;function Ne(d){return encodeURIComponent(String(d))}function Oo(d){var w=1;d=d.split(":");const S=[];for(;w>0&&d.length;)S.push(d.shift()),w--;return d.length&&S.push(d.join(":")),S}function oi(d,w,S,P){this.j=d,this.i=w,this.l=S,this.S=P||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Ft={},Wt={};function Ri(d,w,S){d.M=1,d.A=bt(Lt(w)),d.u=S,d.R=!0,Ni(d,null)}function Ni(d,w){d.F=Date.now(),er(d),d.B=Lt(d.A);var S=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),$r(S.i,"t",P),d.C=0,S=d.j.L,d.h=new li,d.g=zo(d.j,S?w:null,!d.u),d.P>0&&(d.O=new On(x(d.Y,d,d.g),d.P)),w=d.V,S=d.g,P=d.ba;var $="readystatechange";Array.isArray($)||($&&(Cs[0]=$.toString()),$=Cs);for(let ne=0;ne<$.length;ne++){const ve=Rt(S,$[ne],P||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=d.J?q(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Ai(),Gu(d.i,d.v,d.B,d.l,d.S,d.u)}oi.prototype.ba=function(d){d=d.target;const w=this.O;w&&Di(d)==3?w.j():this.Y(d)},oi.prototype.Y=function(d){try{if(d==this.g)e:{const Be=Di(this.g),ct=this.g.ya(),ht=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Be!=4||ct==7||(ct==8||ht<=0?Ai(3):Ai(2)),Ii(this);var w=this.g.ca();this.X=w;var S=Ml(this);if(this.o=w==200,Ll(this.i,this.v,this.B,this.l,this.S,Be,w),this.o){if(this.U&&!this.L){t:{if(this.g){var P,$=this.g;if((P=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(P)){var ne=P;break t}}ne=null}if(d=ne)Ji(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tr(this,d);else{this.o=!1,this.m=3,Ht(12),Tn(this),ui(this);break e}}if(this.R){d=!0;let It;for(;!this.K&&this.C<S.length;)if(It=jl(this,S),It==Wt){Be==4&&(this.m=4,Ht(14),d=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Ft){this.m=4,Ht(15),Ji(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else Ji(this.i,this.l,It,null),tr(this,It);if(kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||S.length!=0||this.h.h||(this.m=1,Ht(16),d=!1),this.o=this.o&&d,!d)Ji(this.i,this.l,S,"[Invalid Chunked Response]"),Tn(this),ui(this);else if(S.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),jo(ve),ve.P=!0,Ht(11))}}else Ji(this.i,this.l,S,null),tr(this,S);Be==4&&Tn(this),this.o&&!this.K&&(Be==4?Jn(this.j,this):(this.o=!1,er(this)))}else Li(this.g),w==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),Tn(this),ui(this)}}}catch{}};function Ml(d){if(!kl(d))return d.g.la();const w=cn(d.g);if(w==="")return"";let S="";const P=w.length,$=Di(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Tn(d),ui(d),"";d.h.i=new f.TextDecoder}for(let ne=0;ne<P;ne++)d.h.h=!0,S+=d.h.i.decode(w[ne],{stream:!($&&ne==P-1)});return w.length=0,d.h.g+=S,d.C=0,d.h.g}function kl(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function jl(d,w){var S=d.C,P=w.indexOf(`
`,S);return P==-1?Wt:(S=Number(w.substring(S,P)),isNaN(S)?Ft:(P+=1,P+S>w.length?Wt:(w=w.slice(P,P+S),d.C=P+S,w)))}oi.prototype.cancel=function(){this.K=!0,Tn(this)};function er(d){d.T=Date.now()+d.H,_a(d,d.H)}function _a(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Xi(x(d.aa,d),w)}function Ii(d){d.D&&(f.clearTimeout(d.D),d.D=null)}oi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Er(this.i,this.B),this.M!=2&&(Ai(),Ht(17)),Tn(this),this.m=2,ui(this)):_a(this,this.T-d)};function ui(d){d.j.I==0||d.K||Jn(d.j,d)}function Tn(d){Ii(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,pa(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function tr(d,w){try{var S=d.j;if(S.I!=0&&(S.g==d||ci(S.h,d))){if(!d.L&&ci(S.h,d)&&S.I==3){try{var P=S.Ba.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var $=P;if($[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)Ta(S),ts(S);else break e;Ls(S),Ht(18)}}else S.xa=$[1],0<S.xa-S.K&&$[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Xi(x(S.Va,S),6e3));nr(S.h)<=1&&S.ta&&(S.ta=void 0)}else Mi(S,11)}else if((d.L||S.g==d)&&Ta(S),!k(w))for($=S.Ba.g.parse(w),w=0;w<$.length;w++){let ht=$[w];const It=ht[0];if(!(It<=S.K))if(S.K=It,ht=ht[1],S.I==2)if(ht[0]=="c"){S.M=ht[1],S.ba=ht[2];const mi=ht[3];mi!=null&&(S.ka=mi,S.j.info("VER="+S.ka));const pi=ht[4];pi!=null&&(S.za=pi,S.j.info("SVER="+S.za));const ei=ht[5];ei!=null&&typeof ei=="number"&&ei>0&&(P=1.5*ei,S.O=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const ji=d.g;if(ji){const Ms=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var ne=P.h;ne.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Tr(ne,ne.h),ne.h=null))}if(P.G){const ks=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(P.wa=ks,Ce(P.J,P.G,ks))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),P=S;var ve=d;if(P.na=Vo(P,P.L?P.ba:null,P.W),ve.L){ya(P.h,ve);var Be=ve,ct=P.O;ct&&(Be.H=ct),Be.D&&(Ii(Be),er(Be)),P.g=ve}else ko(P);S.i.length>0&&qn(S)}else ht[0]!="stop"&&ht[0]!="close"||Mi(S,7);else S.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Mi(S,7):Qe(S):ht[0]!="noop"&&S.l&&S.l.qa(ht),S.A=0)}}Ai(4)}catch{}}var $t=class{constructor(d,w){this.g=d,this.map=w}};function Do(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function nr(d){return d.h?1:d.g?d.g.size:0}function ci(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Tr(d,w){d.g?d.g.add(w):d.h=w}function ya(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Do.prototype.cancel=function(){if(this.i=va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function va(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const S of d.g.values())w=w.concat(S.G);return w}return z(d.i)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function We(d,w){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const P=d[S].indexOf("=");let $,ne=null;P>=0?($=d[S].substring(0,P),ne=d[S].substring(P+1)):$=d[S],w($,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function $e(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof $e?(this.l=d.l,Mt(this,d.j),this.o=d.o,this.g=d.g,$n(this,d.u),this.h=d.h,Ns(this,Os(d.i)),this.m=d.m):d&&(w=String(d).match(Wr))?(this.l=!1,Mt(this,w[1]||"",!0),this.o=hi(w[2]||""),this.g=hi(w[3]||"",!0),$n(this,w[4]),this.h=hi(w[5]||"",!0),Ns(this,w[6]||"",!0),this.m=hi(w[7]||"")):(this.l=!1,this.i=new fi(null,this.l))}$e.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(ir(w,ba,!0),":");var S=this.g;return(S||w=="file")&&(d.push("//"),(w=this.o)&&d.push(ir(w,ba,!0),"@"),d.push(Ne(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(ir(S,S.charAt(0)=="/"?Pi:Is,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",ir(S,rr)),d.join("")},$e.prototype.resolve=function(d){const w=Lt(this);let S=!!d.j;S?Mt(w,d.j):S=!!d.o,S?w.o=d.o:S=!!d.g,S?w.g=d.g:S=d.u!=null;var P=d.h;if(S)$n(w,d.u);else if(S=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var $=w.h.lastIndexOf("/");$!=-1&&(P=w.h.slice(0,$+1)+P)}if($=P,$==".."||$==".")P="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){P=$.lastIndexOf("/",0)==0,$=$.split("/");const ne=[];for(let ve=0;ve<$.length;){const Be=$[ve++];Be=="."?P&&ve==$.length&&ne.push(""):Be==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),P&&ve==$.length&&ne.push("")):(ne.push(Be),P=!0)}P=ne.join("/")}else P=$}return S?w.h=P:S=d.i.toString()!=="",S?Ns(w,Os(d.i)):S=!!d.m,S&&(w.m=d.m),w};function Lt(d){return new $e(d)}function Mt(d,w,S){d.j=S?hi(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function $n(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function Ns(d,w,S){w instanceof fi?(d.i=w,Xr(d.i,d.l)):(S||(w=ir(w,xt)),d.i=new fi(w,d.l))}function Ce(d,w,S){d.i.set(w,S)}function bt(d){return Ce(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function hi(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ir(d,w,S){return typeof d=="string"?(d=encodeURI(d).replace(w,Nt),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Nt(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ba=/[#\/\?@]/g,Is=/[#\?:]/g,Pi=/[#\?]/g,xt=/[#\?@]/g,rr=/#/g;function fi(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function un(d){d.g||(d.g=new Map,d.h=0,d.i&&We(d.i,function(w,S){d.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}i=fi.prototype,i.add=function(d,w){un(this),this.i=null,d=sr(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(w),this.h+=1,this};function xa(d,w){un(d),w=sr(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Sr(d,w){return un(d),w=sr(d,w),d.g.has(w)}i.forEach=function(d,w){un(this),this.g.forEach(function(S,P){S.forEach(function($){d.call(w,$,P,this)},this)},this)};function Ps(d,w){un(d);let S=[];if(typeof w=="string")Sr(d,w)&&(S=S.concat(d.g.get(sr(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)S=S.concat(d[w]);return S}i.set=function(d,w){return un(this),this.i=null,d=sr(this,d),Sr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},i.get=function(d,w){return d?(d=Ps(this,d),d.length>0?String(d[0]):w):w};function $r(d,w,S){xa(d,w),S.length>0&&(d.i=null,d.g.set(sr(d,w),z(S)),d.h+=S.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let P=0;P<w.length;P++){var S=w[P];const $=Ne(S);S=Ps(this,S);for(let ne=0;ne<S.length;ne++){let ve=$;S[ne]!==""&&(ve+="="+Ne(S[ne])),d.push(ve)}}return this.i=d.join("&")};function Os(d){const w=new fi;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function sr(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Xr(d,w){w&&!d.j&&(un(d),d.i=null,d.g.forEach(function(S,P){const $=P.toLowerCase();P!=$&&(xa(this,P),$r(this,$,S))},d)),d.j=w}function zn(d,w){const S=new Ci;if(f.Image){const P=new Image;P.onload=A(Un,S,"TestLoadImage: loaded",!0,w,P),P.onerror=A(Un,S,"TestLoadImage: error",!1,w,P),P.onabort=A(Un,S,"TestLoadImage: abort",!1,w,P),P.ontimeout=A(Un,S,"TestLoadImage: timeout",!1,w,P),f.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else w(!1)}function wa(d,w){const S=new Ci,P=new AbortController,$=setTimeout(()=>{P.abort(),Un(S,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:P.signal}).then(ne=>{clearTimeout($),ne.ok?Un(S,"TestPingServer: ok",!0,w):Un(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),Un(S,"TestPingServer: error",!1,w)})}function Un(d,w,S,P,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),P(S)}catch{}}function Jr(){this.g=new Ro}function je(d){this.i=d.Sb||null,this.h=d.ab||!1}C(je,No),je.prototype.g=function(){return new Sn(this.i,this.h)};function Sn(d,w){Yt.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Sn,Yt),i=Sn.prototype,i.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,Xn(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||f).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},i.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dt(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function dt(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}i.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Ar(this):Xn(this),this.readyState==3&&dt(this)}},i.Oa=function(d){this.g&&(this.response=this.responseText=d,Ar(this))},i.Na=function(d){this.g&&(this.response=d,Ar(this))},i.ga=function(){this.g&&Ar(this)};function Ar(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Xn(d)}i.setRequestHeader=function(d,w){this.A.append(d,w)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=w.next();return d.join(`\r
`)};function Xn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Bn(d){let w="";return tt(d,function(S,P){w+=P,w+=":",w+=S,w+=`\r
`}),w}function Cr(d,w,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=Bn(S),typeof d=="string"?S!=null&&Ne(S):Ce(d,w,S))}function nt(d){Yt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(nt,Yt);var di=/^https?$/i,Rr=["POST","PUT"];i=nt.prototype,i.Fa=function(d){this.H=d},i.ea=function(d,w,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=I(x(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(ne){kt(this,ne);return}if(d=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var $ in P)S.set($,P[$]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ne of P.keys())S.set(ne,P.get(ne));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),$=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(Rr,w,void 0)>=0)||P||$||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of S)this.g.setRequestHeader(ne,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(ne){kt(this,ne)}};function kt(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,Oi(d),ar(d)}function Oi(d){d.A||(d.A=!0,Qt(d,"complete"),Qt(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Qt(this,"complete"),Qt(this,"abort"),ar(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?es(this):this.Xa())},i.Xa=function(){es(this)};function es(d){if(d.h&&typeof h<"u"){if(d.v&&Di(d)==4)setTimeout(d.Ca.bind(d),0);else if(Qt(d,"readystatechange"),Di(d)==4){d.h=!1;try{const ne=d.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var P;if(P=ne===0){let ve=String(d.D).match(Wr)[1]||null;!ve&&f.self&&f.self.location&&(ve=f.self.location.protocol.slice(0,-1)),P=!di.test(ve?ve.toLowerCase():"")}S=P}if(S)Qt(d,"complete"),Qt(d,"success");else{d.o=6;try{var $=Di(d)>2?d.g.statusText:""}catch{$=""}d.l=$+" ["+d.ca()+"]",Oi(d)}}finally{ar(d)}}}}function ar(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,w||Qt(d,"ready");try{S.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Di(d){return d.g?d.g.readyState:0}i.ca=function(){try{return Di(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Fu(w)}};function cn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(d){const w={};d=(d.g&&Di(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(k(d[P]))continue;var S=Oo(d[P]);const $=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=w[$]||[];w[$]=ne,ne.push(S)}Se(w,function(P){return P.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(d,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||w}function Nr(d){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=or("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=or("baseRetryDelayMs",5e3,d),this.Za=or("retryDelaySeedMs",1e4,d),this.Ta=or("forwardChannelMaxRetries",2,d),this.va=or("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(d&&d.concurrentRequestLimit),this.Ba=new Jr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Nr.prototype,i.ka=8,i.I=1,i.connect=function(d,w,S,P){Ht(0),this.W=d,this.H=w||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.J=Vo(this,null,this.W),qn(this)};function Qe(d){if(An(d),d.I==3){var w=d.V++,S=Lt(d.J);if(Ce(S,"SID",d.M),Ce(S,"RID",w),Ce(S,"TYPE","terminate"),Ir(d,S),w=new oi(d,d.j,w),w.M=2,w.A=bt(Lt(S)),S=!1,f.navigator&&f.navigator.sendBeacon)try{S=f.navigator.sendBeacon(w.A.toString(),"")}catch{}!S&&f.Image&&(new Image().src=w.A,S=!0),S||(w.g=zo(w.j,null),w.g.ea(w.A)),w.F=Date.now(),er(w)}ki(d)}function ts(d){d.g&&(jo(d),d.g.cancel(),d.g=null)}function An(d){ts(d),d.v&&(f.clearTimeout(d.v),d.v=null),Ta(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function qn(d){if(!Lo(d.h)&&!d.m){d.m=!0;var w=d.Ea;ge||M(),Ie||(ge(),Ie=!0),j.add(w,d),d.D=0}}function Ds(d,w){return nr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Xi(x(d.Ea,d,w),zl(d,d.D)),d.D++,!0)}i.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const $=new oi(this,this.j,d);let ne=this.o;if(this.U&&(ne?(ne=q(ne),_e(ne,this.U)):ne=this.U),this.u!==null||this.R||($.J=ne,ne=null),this.S)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(w+=P,w>4096){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Vl(this,$,w),S=Lt(this.J),Ce(S,"RID",d),Ce(S,"CVER",22),this.G&&Ce(S,"X-HTTP-Session-Id",this.G),Ir(this,S),ne&&(this.R?w="headers="+Ne(Bn(ne))+"&"+w:this.u&&Cr(S,this.u,ne)),Tr(this.h,$),this.Ra&&Ce(S,"TYPE","init"),this.S?(Ce(S,"$req",w),Ce(S,"SID","null"),$.U=!0,Ri($,S,null)):Ri($,S,w),this.I=2}}else this.I==3&&(d?Mo(this,d):this.i.length==0||Lo(this.h)||Mo(this))};function Mo(d,w){var S;w?S=w.l:S=d.V++;const P=Lt(d.J);Ce(P,"SID",d.M),Ce(P,"RID",S),Ce(P,"AID",d.K),Ir(d,P),d.u&&d.o&&Cr(P,d.u,d.o),S=new oi(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),w&&(d.i=w.G.concat(d.i)),w=Vl(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Tr(d.h,S),Ri(S,P,w)}function Ir(d,w){d.H&&tt(d.H,function(S,P){Ce(w,P,S)}),d.l&&tt({},function(S,P){Ce(w,P,S)})}function Vl(d,w,S){S=Math.min(d.i.length,S);const P=d.l?x(d.l.Ka,d.l,d):null;e:{var $=d.i;let Be=-1;for(;;){const ct=["count="+S];Be==-1?S>0?(Be=$[0].g,ct.push("ofs="+Be)):Be=0:ct.push("ofs="+Be);let ht=!0;for(let It=0;It<S;It++){var ne=$[It].g;const mi=$[It].map;if(ne-=Be,ne<0)Be=Math.max(0,$[It].g-100),ht=!1;else try{ne="req"+ne+"_"||"";try{var ve=mi instanceof Map?mi:Object.entries(mi);for(const[pi,ei]of ve){let ji=ei;y(ei)&&(ji=wr(ei)),ct.push(ne+pi+"="+encodeURIComponent(ji))}}catch(pi){throw ct.push(ne+"type="+encodeURIComponent("_badmap")),pi}}catch{P&&P(mi)}}if(ht){ve=ct.join("&");break e}}ve=void 0}return d=d.i.splice(0,S),w.G=d,ve}function ko(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;ge||M(),Ie||(ge(),Ie=!0),j.add(w,d),d.A=0}}function Ls(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Xi(x(d.Da,d),zl(d,d.A)),d.A++,!0)}i.Da=function(){if(this.v=null,Ea(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Xi(x(this.Wa,this),d)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),ts(this),Ea(this))};function jo(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function Ea(d){d.g=new oi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=Lt(d.na);Ce(w,"RID","rpc"),Ce(w,"SID",d.M),Ce(w,"AID",d.K),Ce(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ce(w,"TO",d.ia),Ce(w,"TYPE","xmlhttp"),Ir(d,w),d.u&&d.o&&Cr(w,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=bt(Lt(w)),S.u=null,S.R=!0,Ni(S,d)}i.Va=function(){this.C!=null&&(this.C=null,ts(this),Ls(this),Ht(19))};function Ta(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Jn(d,w){var S=null;if(d.g==w){Ta(d),jo(d),d.g=null;var P=2}else if(ci(d.h,w))S=w.G,ya(d.h,w),P=1;else return;if(d.I!=0){if(w.o)if(P==1){S=w.u?w.u.length:0,w=Date.now()-w.F;var $=d.D;P=ga(),Qt(P,new $i(P,S)),qn(d)}else ko(d);else if($=w.m,$==3||$==0&&w.X>0||!(P==1&&Ds(d,w)||P==2&&Ls(d)))switch(S&&S.length>0&&(w=d.h,w.i=w.i.concat(S)),$){case 1:Mi(d,5);break;case 4:Mi(d,10);break;case 3:Mi(d,6);break;default:Mi(d,2)}}}function zl(d,w){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*w}function Mi(d,w){if(d.j.info("Error code "+w),w==2){var S=x(d.bb,d),P=d.Ua;const $=!P;P=new $e(P||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Mt(P,"https"),bt(P),$?zn(P.toString(),S):wa(P.toString(),S)}else Ht(2);d.I=0,d.l&&d.l.pa(w),ki(d),An(d)}i.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function ki(d){if(d.I=0,d.ja=[],d.l){const w=va(d.h);(w.length!=0||d.i.length!=0)&&(Y(d.ja,w),Y(d.ja,d.i),d.h.i.length=0,z(d.i),d.i.length=0),d.l.oa()}}function Vo(d,w,S){var P=S instanceof $e?Lt(S):new $e(S);if(P.g!="")w&&(P.g=w+"."+P.g),$n(P,P.u);else{var $=f.location;P=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;const ne=new $e(null);P&&Mt(ne,P),w&&(ne.g=w),$&&$n(ne,$),S&&(ne.h=S),P=ne}return S=d.G,w=d.wa,S&&w&&Ce(P,S,w),Ce(P,"VER",d.ka),Ir(d,P),P}function zo(d,w,S){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new nt(new je({ab:S})):new nt(d.ma),w.Fa(d.L),w}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sa(){}i=Sa.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ns(){}ns.prototype.g=function(d,w){return new Cn(d,w)};function Cn(d,w){Yt.call(this),this.g=new Nr(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!k(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!k(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Pr(this)}C(Cn,Yt),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Qe(this.g)},Cn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=wr(d),d=S);w.i.push(new $t(w.Ya++,d)),w.I==3&&qn(w)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Qe(this.g),delete this.g,Cn.Z.N.call(this)};function Uo(d){rn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const S in w){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}C(Uo,rn);function Ul(){Wn.call(this),this.status=1}C(Ul,Wn);function Pr(d){this.g=d}C(Pr,Sa),Pr.prototype.ra=function(){Qt(this.g,"a")},Pr.prototype.qa=function(d){Qt(this.g,new Uo(d))},Pr.prototype.pa=function(d){Qt(this.g,new Ul)},Pr.prototype.oa=function(){Qt(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,d1=function(){return new ns},f1=function(){return ga()},h1=qt,gg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,qf=Rs,Io.COMPLETE="complete",c1=Io,Ol.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Yt.prototype.listen=Yt.prototype.J,kc=Ol,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,u1=nt}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");let zu="12.9.0";function OI(i){zu=i}const wl=new $g("@firebase/firestore");function yu(){return wl.logLevel}function Re(i,...e){if(wl.logLevel<=st.DEBUG){const t=e.map(c_);wl.debug(`Firestore (${zu}): ${i}`,...t)}}function la(i,...e){if(wl.logLevel<=st.ERROR){const t=e.map(c_);wl.error(`Firestore (${zu}): ${i}`,...t)}}function El(i,...e){if(wl.logLevel<=st.WARN){const t=e.map(c_);wl.warn(`Firestore (${zu}): ${i}`,...t)}}function c_(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Ue(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,m1(i,s,t)}function m1(i,e,t){let s=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw la(s),new Error(s)}function vt(i,e,t,s){let l="Unexpected state";typeof t=="string"?l=t:s=t,i||m1(e,l,s)}function qe(i,e){return i}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Es{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class p1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Kn.UNAUTHENTICATED)))}shutdown(){}}class LI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class MI{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vt(this.o===void 0,42304);let s=this.i;const l=b=>this.i!==s?(s=this.i,t(b)):Promise.resolve();let h=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ys,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const b=h;e.enqueueRetryable((async()=>{await b.promise,await l(this.currentUser)}))},y=b=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((b=>y(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ys)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vt(typeof s.accessToken=="string",31837,{l:s}),new p1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}}class kI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new kI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){vt(this.o===void 0,3512);const s=h=>{h.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const f=h.token!==this.m;return this.m=h.token,Re("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const l=h=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(vt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class h_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=zI(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<t&&(s+=e.charAt(l[h]%62))}return s}}function at(i,e){return i<e?-1:i>e?1:0}function _g(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const l=i.charAt(s),h=e.charAt(s);if(l!==h)return Qp(l)===Qp(h)?at(l,h):Qp(l)?1:-1}return at(i.length,e.length)}const UI=55296,BI=57343;function Qp(i){const e=i.charCodeAt(0);return e>=UI&&e<=BI}function Ru(i,e,t){return i.length===e.length&&i.every(((s,l)=>t(s,e[l])))}const Fb="__name__";class ds{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ue(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const h=ds.compareSegments(e.get(l),t.get(l));if(h!==0)return h}return at(e.length,t.length)}static compareSegments(e,t){const s=ds.isNumericId(e),l=ds.isNumericId(t);return s&&!l?-1:!s&&l?1:s&&l?ds.extractNumericId(e).compare(ds.extractNumericId(t)):_g(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return co.fromString(e.substring(4,e.length-2))}}class Dt extends ds{construct(e,t,s){return new Dt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((l=>l.length>0)))}return new Dt(t)}static emptyPath(){return new Dt([])}}const qI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends ds{construct(e,t,s){return new jn(e,t,s)}static isValidIdentifier(e){return qI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fb}static keyField(){return new jn([Fb])}static fromServerFormat(e){const t=[];let s="",l=0;const h=()=>{if(s.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[l+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=b,l+=2}else y==="`"?(f=!f,l++):y!=="."||f?(s+=y,l++):(h(),l++)}if(h(),f)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Dt.fromString(e))}static fromName(e){return new Me(Dt.fromString(e).popFirst(5))}static empty(){return new Me(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Dt(e.slice()))}}function g1(i,e,t){if(!t)throw new Ae(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function HI(i,e,t,s){if(e===!0&&s===!0)throw new Ae(he.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Gb(i){if(!Me.isDocumentKey(i))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zb(i){if(Me.isDocumentKey(i))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function _1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Rd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ue(12329,{type:typeof i})}function br(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rd(i);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function yn(i,e){const t={typeString:i};return e&&(t.value=e),t}function dh(i,e){if(!_1(i))throw new Ae(he.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const l=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const f=i[s];if(l&&typeof f!==l){t=`JSON field '${s}' must be a ${l}.`;break}if(h!==void 0&&f!==h.value){t=`Expected '${s}' field to equal '${h.value}'`;break}}if(t)throw new Ae(he.INVALID_ARGUMENT,t);return!0}const Kb=-62135596800,Yb=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Yb);return new Vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kb)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dh(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:yn("string",Vt._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Vt(0,0))}static max(){return new He(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jc=-1;function FI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=He.fromTimestamp(s===1e9?new Vt(t+1,0):new Vt(t,s));return new po(l,Me.empty(),e)}function GI(i){return new po(i.readTime,i.key,Jc)}class po{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new po(He.min(),Me.empty(),Jc)}static max(){return new po(He.max(),Me.empty(),Jc)}}function ZI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(i.documentKey,e.documentKey),t!==0?t:at(i.largestBatchId,e.largestBatchId))}const KI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Uu(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==KI)throw i;Re("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me(((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(s,l)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):me.reject(t)}static resolve(e){return new me(((t,s)=>{t(e)}))}static reject(e){return new me(((t,s)=>{s(e)}))}static waitFor(e){return new me(((t,s)=>{let l=0,h=0,f=!1;e.forEach((y=>{++l,y.next((()=>{++h,f&&h===l&&t()}),(b=>s(b)))})),f=!0,h===l&&t()}))}static or(e){let t=me.resolve(!1);for(const s of e)t=t.next((l=>l?me.resolve(l):s()));return t}static forEach(e,t){const s=[];return e.forEach(((l,h)=>{s.push(t.call(this,l,h))})),this.waitFor(s)}static mapArray(e,t){return new me(((s,l)=>{const h=e.length,f=new Array(h);let y=0;for(let b=0;b<h;b++){const x=b;t(e[x]).next((A=>{f[x]=A,++y,y===h&&s(f)}),(A=>l(A)))}}))}static doWhile(e,t){return new me(((s,l)=>{const h=()=>{e()===!0?t().next((()=>{h()}),l):s()};h()}))}}function QI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bu(i){return i.name==="IndexedDbTransactionError"}class Nd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;const f_=-1;function Id(i){return i==null}function ad(i){return i===0&&1/i==-1/0}function WI(i){return typeof i=="number"&&Number.isInteger(i)&&!ad(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const y1="";function $I(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Qb(e)),e=XI(i.get(t),e);return Qb(e)}function XI(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const h=i.charAt(l);switch(h){case"\0":t+="";break;case y1:t+="";break;default:t+=h}}return t}function Qb(i){return i+y1+""}function Wb(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function wo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function JI(i,e){const t=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.push(e(i[s],s,i));return t}function v1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Kt{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new Kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nf(this.root,e,this.comparator,!0)}}class Nf{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?s(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,s,l,h){this.key=e,this.value=t,this.color=s??kn.RED,this.left=l??kn.EMPTY,this.right=h??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,h){return new kn(e??this.key,t??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const h=s(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,s),null):h===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return kn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,s,l,h){return this}insert(e,t,s){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $b(this.data.getIterator())}getIteratorFrom(e){return new $b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class $b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gi{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Gi([])}unionWith(e){let t=new wn(jn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Gi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new b1("Invalid base64 string: "+h):h}})(e);return new Vn(t)}static fromUint8Array(e){const t=(function(l){let h="";for(let f=0;f<l.length;++f)h+=String.fromCharCode(l[f]);return h})(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let l=0;l<t.length;l++)s[l]=t.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const eP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(i){if(vt(!!i,39018),typeof i=="string"){let e=0;const t=eP.exec(i);if(vt(!!t,46558,{timestamp:i}),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:on(i.seconds),nanos:on(i.nanos)}}function on(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function _o(i){return typeof i=="string"?Vn.fromBase64String(i):Vn.fromUint8Array(i)}const x1="server_timestamp",w1="__type__",E1="__previous_value__",T1="__local_write_time__";function d_(i){return(i?.mapValue?.fields||{})[w1]?.stringValue===x1}function Pd(i){const e=i.mapValue.fields[E1];return d_(e)?Pd(e):e}function eh(i){const e=go(i.mapValue.fields[T1].timestampValue);return new Vt(e.seconds,e.nanos)}class tP{constructor(e,t,s,l,h,f,y,b,x,A,C){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=b,this.useFetchStreams=x,this.isUsingEmulator=A,this.apiKey=C}}const od="(default)";class th{constructor(e,t){this.projectId=e,this.database=t||od}static empty(){return new th("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof th&&e.projectId===this.projectId&&e.database===this.database}}function nP(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new th(i.options.projectId,e)}const S1="__type__",iP="__max__",If={mapValue:{}},A1="__vector__",ld="value";function yo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?d_(i)?4:sP(i)?9007199254740991:rP(i)?10:11:Ue(28295,{value:i})}function ws(i,e){if(i===e)return!0;const t=yo(i);if(t!==yo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return eh(i).isEqual(eh(e));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const f=go(l.timestampValue),y=go(h.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,h){return _o(l.bytesValue).isEqual(_o(h.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,h){return on(l.geoPointValue.latitude)===on(h.geoPointValue.latitude)&&on(l.geoPointValue.longitude)===on(h.geoPointValue.longitude)})(i,e);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return on(l.integerValue)===on(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const f=on(l.doubleValue),y=on(h.doubleValue);return f===y?ad(f)===ad(y):isNaN(f)&&isNaN(y)}return!1})(i,e);case 9:return Ru(i.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return(function(l,h){const f=l.mapValue.fields||{},y=h.mapValue.fields||{};if(Wb(f)!==Wb(y))return!1;for(const b in f)if(f.hasOwnProperty(b)&&(y[b]===void 0||!ws(f[b],y[b])))return!1;return!0})(i,e);default:return Ue(52216,{left:i})}}function nh(i,e){return(i.values||[]).find((t=>ws(t,e)))!==void 0}function Nu(i,e){if(i===e)return 0;const t=yo(i),s=yo(e);if(t!==s)return at(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(i.booleanValue,e.booleanValue);case 2:return(function(h,f){const y=on(h.integerValue||h.doubleValue),b=on(f.integerValue||f.doubleValue);return y<b?-1:y>b?1:y===b?0:isNaN(y)?isNaN(b)?0:-1:1})(i,e);case 3:return Xb(i.timestampValue,e.timestampValue);case 4:return Xb(eh(i),eh(e));case 5:return _g(i.stringValue,e.stringValue);case 6:return(function(h,f){const y=_o(h),b=_o(f);return y.compareTo(b)})(i.bytesValue,e.bytesValue);case 7:return(function(h,f){const y=h.split("/"),b=f.split("/");for(let x=0;x<y.length&&x<b.length;x++){const A=at(y[x],b[x]);if(A!==0)return A}return at(y.length,b.length)})(i.referenceValue,e.referenceValue);case 8:return(function(h,f){const y=at(on(h.latitude),on(f.latitude));return y!==0?y:at(on(h.longitude),on(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Jb(i.arrayValue,e.arrayValue);case 10:return(function(h,f){const y=h.fields||{},b=f.fields||{},x=y[ld]?.arrayValue,A=b[ld]?.arrayValue,C=at(x?.values?.length||0,A?.values?.length||0);return C!==0?C:Jb(x,A)})(i.mapValue,e.mapValue);case 11:return(function(h,f){if(h===If.mapValue&&f===If.mapValue)return 0;if(h===If.mapValue)return 1;if(f===If.mapValue)return-1;const y=h.fields||{},b=Object.keys(y),x=f.fields||{},A=Object.keys(x);b.sort(),A.sort();for(let C=0;C<b.length&&C<A.length;++C){const I=_g(b[C],A[C]);if(I!==0)return I;const z=Nu(y[b[C]],x[A[C]]);if(z!==0)return z}return at(b.length,A.length)})(i.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function Xb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return at(i,e);const t=go(i),s=go(e),l=at(t.seconds,s.seconds);return l!==0?l:at(t.nanos,s.nanos)}function Jb(i,e){const t=i.values||[],s=e.values||[];for(let l=0;l<t.length&&l<s.length;++l){const h=Nu(t[l],s[l]);if(h)return h}return at(t.length,s.length)}function Iu(i){return yg(i)}function yg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=go(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return _o(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Me.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",l=!0;for(const h of t.values||[])l?l=!1:s+=",",s+=yg(h);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let l="{",h=!0;for(const f of s)h?h=!1:l+=",",l+=`${f}:${yg(t.fields[f])}`;return l+"}"})(i.mapValue):Ue(61005,{value:i})}function Hf(i){switch(yo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pd(i);return e?16+Hf(e):16;case 5:return 2*i.stringValue.length;case 6:return _o(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,h)=>l+Hf(h)),0)})(i.arrayValue);case 10:case 11:return(function(s){let l=0;return wo(s.fields,((h,f)=>{l+=h.length+Hf(f)})),l})(i.mapValue);default:throw Ue(13486,{value:i})}}function ex(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vg(i){return!!i&&"integerValue"in i}function m_(i){return!!i&&"arrayValue"in i}function tx(i){return!!i&&"nullValue"in i}function nx(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ff(i){return!!i&&"mapValue"in i}function rP(i){return(i?.mapValue?.fields||{})[S1]?.stringValue===A1}function Fc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return wo(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Fc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fc(i.arrayValue.values[t]);return e}return{...i}}function sP(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===iP}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=jn.emptyPath(),s={},l=[];e.forEach(((f,y)=>{if(!t.isImmediateParentOf(y)){const b=this.getFieldsMap(t);this.applyChanges(b,s,l),s={},l=[],t=y.popLast()}f?s[y.lastSegment()]=Fc(f):l.push(y.lastSegment())}));const h=this.getFieldsMap(t);this.applyChanges(h,s,l)}delete(e){const t=this.field(e.popLast());Ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];Ff(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){wo(t,((l,h)=>e[l]=h));for(const l of s)delete e[l]}clone(){return new si(Fc(this.value))}}function C1(i){const e=[];return wo(i.fields,((t,s)=>{const l=new jn([t]);if(Ff(s)){const h=C1(s.mapValue).fields;if(h.length===0)e.push(l);else for(const f of h)e.push(l.child(f))}else e.push(l)})),new Gi(e)}class Yn{constructor(e,t,s,l,h,f,y){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=h,this.data=f,this.documentState=y}static newInvalidDocument(e){return new Yn(e,0,He.min(),He.min(),He.min(),si.empty(),0)}static newFoundDocument(e,t,s,l){return new Yn(e,1,t,He.min(),s,l,0)}static newNoDocument(e,t){return new Yn(e,2,t,He.min(),He.min(),si.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,He.min(),He.min(),si.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ud{constructor(e,t){this.position=e,this.inclusive=t}}function ix(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const h=e[l],f=i.position[l];if(h.field.isKeyField()?s=Me.comparator(Me.fromName(f.referenceValue),t.key):s=Nu(f,t.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function rx(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ws(i.position[t],e.position[t]))return!1;return!0}class ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function aP(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class R1{}class _n extends R1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new lP(e,t,s):t==="array-contains"?new hP(e,s):t==="in"?new fP(e,s):t==="not-in"?new dP(e,s):t==="array-contains-any"?new mP(e,s):new _n(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new uP(e,s):new cP(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Nu(t,this.value)):t!==null&&yo(this.value)===yo(t)&&this.matchesComparison(Nu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends R1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new qr(e,t)}matches(e){return N1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N1(i){return i.op==="and"}function I1(i){return oP(i)&&N1(i)}function oP(i){for(const e of i.filters)if(e instanceof qr)return!1;return!0}function bg(i){if(i instanceof _n)return i.field.canonicalString()+i.op.toString()+Iu(i.value);if(I1(i))return i.filters.map((e=>bg(e))).join(",");{const e=i.filters.map((t=>bg(t))).join(",");return`${i.op}(${e})`}}function P1(i,e){return i instanceof _n?(function(s,l){return l instanceof _n&&s.op===l.op&&s.field.isEqual(l.field)&&ws(s.value,l.value)})(i,e):i instanceof qr?(function(s,l){return l instanceof qr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((h,f,y)=>h&&P1(f,l.filters[y])),!0):!1})(i,e):void Ue(19439)}function O1(i){return i instanceof _n?(function(t){return`${t.field.canonicalString()} ${t.op} ${Iu(t.value)}`})(i):i instanceof qr?(function(t){return t.op.toString()+" {"+t.getFilters().map(O1).join(" ,")+"}"})(i):"Filter"}class lP extends _n{constructor(e,t,s){super(e,t,s),this.key=Me.fromName(s.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class uP extends _n{constructor(e,t){super(e,"in",t),this.keys=D1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cP extends _n{constructor(e,t){super(e,"not-in",t),this.keys=D1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function D1(i,e){return(e.arrayValue?.values||[]).map((t=>Me.fromName(t.referenceValue)))}class hP extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return m_(t)&&nh(t.arrayValue,this.value)}}class fP extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nh(this.value.arrayValue,t)}}class dP extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nh(this.value.arrayValue,t)}}class mP extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!m_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>nh(this.value.arrayValue,s)))}}class pP{constructor(e,t=null,s=[],l=[],h=null,f=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=f,this.endAt=y,this.Te=null}}function sx(i,e=null,t=[],s=[],l=null,h=null,f=null){return new pP(i,e,t,s,l,h,f)}function p_(i){const e=qe(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>bg(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),Id(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Iu(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Iu(s))).join(",")),e.Te=t}return e.Te}function g_(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!aP(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!P1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!rx(i.startAt,e.startAt)&&rx(i.endAt,e.endAt)}function xg(i){return Me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class qu{constructor(e,t=null,s=[],l=[],h=null,f="F",y=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=f,this.startAt=y,this.endAt=b,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function gP(i,e,t,s,l,h,f,y){return new qu(i,e,t,s,l,h,f,y)}function __(i){return new qu(i)}function ax(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function _P(i){return Me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function L1(i){return i.collectionGroup!==null}function Gc(i){const e=qe(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),t.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let y=new wn(jn.comparator);return f.filters.forEach((b=>{b.getFlattenedFilters().forEach((x=>{x.isInequality()&&(y=y.add(x.field))}))})),y})(e).forEach((h=>{t.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ih(h,s))})),t.has(jn.keyField().canonicalString())||e.Ie.push(new ih(jn.keyField(),s))}return e.Ie}function vs(i){const e=qe(i);return e.Ee||(e.Ee=M1(e,Gc(i))),e.Ee}function yP(i){const e=qe(i);return e.Re||(e.Re=M1(e,i.explicitOrderBy)),e.Re}function M1(i,e){if(i.limitType==="F")return sx(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new ih(l.field,h)}));const t=i.endAt?new ud(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ud(i.startAt.position,i.startAt.inclusive):null;return sx(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function wg(i,e){const t=i.filters.concat([e]);return new qu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function vP(i,e){const t=i.explicitOrderBy.concat([e]);return new qu(i.path,i.collectionGroup,t,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function Eg(i,e,t){return new qu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Od(i,e){return g_(vs(i),vs(e))&&i.limitType===e.limitType}function k1(i){return`${p_(vs(i))}|lt:${i.limitType}`}function vu(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((l=>O1(l))).join(", ")}]`),Id(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((l=>Iu(l))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((l=>Iu(l))).join(",")),`Target(${s})`})(vs(i))}; limitType=${i.limitType})`}function Dd(i,e){return e.isFoundDocument()&&(function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Me.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(i,e)&&(function(s,l){for(const h of Gc(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(i,e)&&(function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0})(i,e)&&(function(s,l){return!(s.startAt&&!(function(f,y,b){const x=ix(f,y,b);return f.inclusive?x<=0:x<0})(s.startAt,Gc(s),l)||s.endAt&&!(function(f,y,b){const x=ix(f,y,b);return f.inclusive?x>=0:x>0})(s.endAt,Gc(s),l))})(i,e)}function bP(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function j1(i){return(e,t)=>{let s=!1;for(const l of Gc(i)){const h=xP(l,e,t);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function xP(i,e,t){const s=i.field.isKeyField()?Me.comparator(e.key,t.key):(function(h,f,y){const b=f.data.field(h),x=y.data.field(h);return b!==null&&x!==null?Nu(b,x):Ue(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ue(19790,{direction:i.dir})}}class Rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,e))return h}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((t,s)=>{for(const[l,h]of s)e(l,h)}))}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}const wP=new Kt(Me.comparator);function ua(){return wP}const V1=new Kt(Me.comparator);function jc(...i){let e=V1;for(const t of i)e=e.insert(t.key,t);return e}function z1(i){let e=V1;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ml(){return Zc()}function U1(){return Zc()}function Zc(){return new Rl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const EP=new Kt(Me.comparator),TP=new wn(Me.comparator);function lt(...i){let e=TP;for(const t of i)e=e.add(t);return e}const SP=new wn(at);function AP(){return SP}function y_(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function B1(i){return{integerValue:""+i}}function CP(i,e){return WI(e)?B1(e):y_(i,e)}class Ld{constructor(){this._=void 0}}function RP(i,e,t){return i instanceof cd?(function(l,h){const f={fields:{[w1]:{stringValue:x1},[T1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&d_(h)&&(h=Pd(h)),h&&(f.fields[E1]=h),{mapValue:f}})(t,e):i instanceof rh?H1(i,e):i instanceof sh?F1(i,e):(function(l,h){const f=q1(l,h),y=ox(f)+ox(l.Ae);return vg(f)&&vg(l.Ae)?B1(y):y_(l.serializer,y)})(i,e)}function NP(i,e,t){return i instanceof rh?H1(i,e):i instanceof sh?F1(i,e):t}function q1(i,e){return i instanceof hd?(function(s){return vg(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class cd extends Ld{}class rh extends Ld{constructor(e){super(),this.elements=e}}function H1(i,e){const t=G1(e);for(const s of i.elements)t.some((l=>ws(l,s)))||t.push(s);return{arrayValue:{values:t}}}class sh extends Ld{constructor(e){super(),this.elements=e}}function F1(i,e){let t=G1(e);for(const s of i.elements)t=t.filter((l=>!ws(l,s)));return{arrayValue:{values:t}}}class hd extends Ld{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ox(i){return on(i.integerValue||i.doubleValue)}function G1(i){return m_(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function IP(i,e){return i.field.isEqual(e.field)&&(function(s,l){return s instanceof rh&&l instanceof rh||s instanceof sh&&l instanceof sh?Ru(s.elements,l.elements,ws):s instanceof hd&&l instanceof hd?ws(s.Ae,l.Ae):s instanceof cd&&l instanceof cd})(i.transform,e.transform)}class PP{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Md{}function Z1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new v_(i.key,yr.none()):new mh(i.key,i.data,yr.none());{const t=i.data,s=si.empty();let l=new wn(jn.comparator);for(let h of e.fields)if(!l.has(h)){let f=t.field(h);f===null&&h.length>1&&(h=h.popLast(),f=t.field(h)),f===null?s.delete(h):s.set(h,f),l=l.add(h)}return new Eo(i.key,s,new Gi(l.toArray()),yr.none())}}function OP(i,e,t){i instanceof mh?(function(l,h,f){const y=l.value.clone(),b=ux(l.fieldTransforms,h,f.transformResults);y.setAll(b),h.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(i,e,t):i instanceof Eo?(function(l,h,f){if(!Gf(l.precondition,h))return void h.convertToUnknownDocument(f.version);const y=ux(l.fieldTransforms,h,f.transformResults),b=h.data;b.setAll(K1(l)),b.setAll(y),h.convertToFoundDocument(f.version,b).setHasCommittedMutations()})(i,e,t):(function(l,h,f){h.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function Kc(i,e,t,s){return i instanceof mh?(function(h,f,y,b){if(!Gf(h.precondition,f))return y;const x=h.value.clone(),A=cx(h.fieldTransforms,b,f);return x.setAll(A),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),null})(i,e,t,s):i instanceof Eo?(function(h,f,y,b){if(!Gf(h.precondition,f))return y;const x=cx(h.fieldTransforms,b,f),A=f.data;return A.setAll(K1(h)),A.setAll(x),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(i,e,t,s):(function(h,f,y){return Gf(h.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y})(i,e,t)}function DP(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),h=q1(s.transform,l||null);h!=null&&(t===null&&(t=si.empty()),t.set(s.field,h))}return t||null}function lx(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ru(s,l,((h,f)=>IP(h,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class mh extends Md{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Eo extends Md{constructor(e,t,s,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function K1(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function ux(i,e,t){const s=new Map;vt(i.length===t.length,32656,{Ve:t.length,de:i.length});for(let l=0;l<t.length;l++){const h=i[l],f=h.transform,y=e.data.field(h.field);s.set(h.field,NP(f,y,t[l]))}return s}function cx(i,e,t){const s=new Map;for(const l of i){const h=l.transform,f=t.data.field(l.field);s.set(l.field,RP(h,f,e))}return s}class v_ extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LP extends Md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MP{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&OP(h,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Kc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Kc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=U1();return this.mutations.forEach((l=>{const h=e.get(l.key),f=h.overlayedDocument;let y=this.applyToLocalView(f,h.mutatedFields);y=t.has(l.key)?null:y;const b=Z1(f,y);b!==null&&s.set(l.key,b),f.isValidDocument()||f.convertToNoDocument(He.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),lt())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,((t,s)=>lx(t,s)))&&Ru(this.baseMutations,e.baseMutations,((t,s)=>lx(t,s)))}}class b_{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){vt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return EP})();const h=e.mutations;for(let f=0;f<h.length;f++)l=l.insert(h[f].key,s[f].version);return new b_(e,t,s,l)}}class kP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jP{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}class VP{constructor(e,t){this.count=e,this.unchangedNames=t}}var pn,ft;function zP(i){switch(i){case he.OK:return Ue(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ue(15467,{code:i})}}function Y1(i){if(i===void 0)return la("GRPC error has no .code"),he.UNKNOWN;switch(i){case pn.OK:return he.OK;case pn.CANCELLED:return he.CANCELLED;case pn.UNKNOWN:return he.UNKNOWN;case pn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case pn.INTERNAL:return he.INTERNAL;case pn.UNAVAILABLE:return he.UNAVAILABLE;case pn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case pn.NOT_FOUND:return he.NOT_FOUND;case pn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case pn.ABORTED:return he.ABORTED;case pn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case pn.DATA_LOSS:return he.DATA_LOSS;default:return Ue(39323,{code:i})}}(ft=pn||(pn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";function UP(){return new TextEncoder}const BP=new co([4294967295,4294967295],0);function hx(i){const e=UP().encode(i),t=new l1;return t.update(e),new Uint8Array(t.digest())}function fx(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new co([t,s],0),new co([l,h],0)]}class x_{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Vc(`Invalid padding: ${t}`);if(s<0)throw new Vc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=co.fromNumber(this.ge)}ye(e,t,s){let l=e.add(t.multiply(co.fromNumber(s)));return l.compare(BP)===1&&(l=new co([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=hx(e),[s,l]=fx(t);for(let h=0;h<this.hashCount;h++){const f=this.ye(s,l,h);if(!this.we(f))return!1}return!0}static create(e,t,s){const l=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),f=new x_(h,l,t);return s.forEach((y=>f.insert(y))),f}insert(e){if(this.ge===0)return;const t=hx(e),[s,l]=fx(t);for(let h=0;h<this.hashCount;h++){const f=this.ye(s,l,h);this.be(f)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kd{constructor(e,t,s,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new kd(He.min(),l,new Kt(at),ua(),lt())}}class ph{constructor(e,t,s,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ph(s,t,lt(),lt(),lt())}}class Zf{constructor(e,t,s,l){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=l}}class Q1{constructor(e,t){this.targetId=e,this.Ce=t}}class W1{constructor(e,t,s=Vn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class dx{constructor(){this.ve=0,this.Fe=mx(),this.Me=Vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),t=lt(),s=lt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Ue(38017,{changeType:h})}})),new ph(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=mx()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class qP{constructor(e){this.Ge=e,this.ze=new Map,this.je=ua(),this.He=Pf(),this.Je=Pf(),this.Ze=new Kt(at)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,l)=>{this.rt(l)&&t(l)}))}st(e){const t=e.targetId,s=e.Ce.count,l=this.ot(t);if(l){const h=l.target;if(xg(h))if(s===0){const f=new Me(h.path);this.et(t,f,Yn.newNoDocument(f,He.min()))}else vt(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const y=this.ut(e),b=y?this.ct(y,e,f):1;if(b!==0){this.it(t);const x=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,x)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=t;let f,y;try{f=_o(s).toUint8Array()}catch(b){if(b instanceof b1)return El("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{y=new x_(f,l,h)}catch(b){return El(b instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return y.ge===0?null:y}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let l=0;return s.forEach((h=>{const f=this.Ge.ht(),y=`projects/${f.projectId}/databases/${f.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(t,h,null),l++)})),l}Tt(e){const t=new Map;this.ze.forEach(((h,f)=>{const y=this.ot(f);if(y){if(h.current&&xg(y.target)){const b=new Me(y.target.path);this.It(b).has(f)||this.Et(f,b)||this.et(f,b,Yn.newNoDocument(b,e))}h.Be&&(t.set(f,h.ke()),h.Ke())}}));let s=lt();this.Je.forEach(((h,f)=>{let y=!0;f.forEachWhile((b=>{const x=this.ot(b);return!x||x.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,f)=>f.setReadTime(e)));const l=new kd(e,t,this.Ze,this.je,s);return this.je=ua(),this.He=Pf(),this.Je=Pf(),this.Ze=new Kt(at),l}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,t)?l.qe(t,1):l.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new dx,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new wn(at),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new wn(at),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Pf(){return new Kt(Me.comparator)}function mx(){return new Kt(Me.comparator)}const HP={asc:"ASCENDING",desc:"DESCENDING"},FP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GP={and:"AND",or:"OR"};class ZP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tg(i,e){return i.useProto3Json||Id(e)?e:{value:e}}function fd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function KP(i,e){return fd(i,e.toTimestamp())}function bs(i){return vt(!!i,49232),He.fromTimestamp((function(t){const s=go(t);return new Vt(s.seconds,s.nanos)})(i))}function w_(i,e){return Sg(i,e).canonicalString()}function Sg(i,e){const t=(function(l){return new Dt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?t:t.child(e)}function X1(i){const e=Dt.fromString(i);return vt(rE(e),10190,{key:e.toString()}),e}function Ag(i,e){return w_(i.databaseId,e.path)}function Wp(i,e){const t=X1(e);if(t.get(1)!==i.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Me(eE(t))}function J1(i,e){return w_(i.databaseId,e)}function YP(i){const e=X1(i);return e.length===4?Dt.emptyPath():eE(e)}function Cg(i){return new Dt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function eE(i){return vt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function px(i,e,t){return{name:Ag(i,e),fields:t.value.mapValue.fields}}function QP(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Ue(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],h=(function(x,A){return x.useProto3Json?(vt(A===void 0||typeof A=="string",58123),Vn.fromBase64String(A||"")):(vt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Vn.fromUint8Array(A||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&(function(x){const A=x.code===void 0?he.UNKNOWN:Y1(x.code);return new Ae(A,x.message||"")})(f);t=new W1(s,l,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Wp(i,s.document.name),h=bs(s.document.updateTime),f=s.document.createTime?bs(s.document.createTime):He.min(),y=new si({mapValue:{fields:s.document.fields}}),b=Yn.newFoundDocument(l,h,f,y),x=s.targetIds||[],A=s.removedTargetIds||[];t=new Zf(x,A,b.key,b)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Wp(i,s.document),h=s.readTime?bs(s.readTime):He.min(),f=Yn.newNoDocument(l,h),y=s.removedTargetIds||[];t=new Zf([],y,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Wp(i,s.document),h=s.removedTargetIds||[];t=new Zf([],h,l,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,f=new VP(l,h),y=s.targetId;t=new Q1(y,f)}}return t}function WP(i,e){let t;if(e instanceof mh)t={update:px(i,e.key,e.value)};else if(e instanceof v_)t={delete:Ag(i,e.key)};else if(e instanceof Eo)t={update:px(i,e.key,e.data),updateMask:sO(e.fieldMask)};else{if(!(e instanceof LP))return Ue(16599,{dt:e.type});t={verify:Ag(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(h,f){const y=f.transform;if(y instanceof cd)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof rh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof sh)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof hd)return{fieldPath:f.field.canonicalString(),increment:y.Ae};throw Ue(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:KP(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ue(27497)})(i,e.precondition)),t}function $P(i,e){return i&&i.length>0?(vt(e!==void 0,14353),i.map((t=>(function(l,h){let f=l.updateTime?bs(l.updateTime):bs(h);return f.isEqual(He.min())&&(f=bs(h)),new PP(f,l.transformResults||[])})(t,e)))):[]}function XP(i,e){return{documents:[J1(i,e.path)]}}function tE(i,e){const t={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=J1(i,l);const h=(function(x){if(x.length!==0)return iE(qr.create(x,"and"))})(e.filters);h&&(t.structuredQuery.where=h);const f=(function(x){if(x.length!==0)return x.map((A=>(function(I){return{field:ro(I.field),direction:nO(I.dir)}})(A)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const y=Tg(i,e.limit);return y!==null&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:t,parent:l}}function JP(i,e,t,s){const{ft:l,parent:h}=tE(i,e),f={},y=[];let b=0;return t.forEach((x=>{const A="aggregate_"+b++;f[A]=x.alias,x.aggregateType==="count"?y.push({alias:A,count:{}}):x.aggregateType==="avg"?y.push({alias:A,avg:{field:ro(x.fieldPath)}}):x.aggregateType==="sum"&&y.push({alias:A,sum:{field:ro(x.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:y,structuredQuery:l.structuredQuery},parent:l.parent},gt:f,parent:h}}function eO(i){let e=YP(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){vt(s===1,65062);const A=t.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let h=[];t.where&&(h=(function(C){const I=nE(C);return I instanceof qr&&I1(I)?I.getFilters():[I]})(t.where));let f=[];t.orderBy&&(f=(function(C){return C.map((I=>(function(Y){return new ih(bu(Y.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(I)))})(t.orderBy));let y=null;t.limit&&(y=(function(C){let I;return I=typeof C=="object"?C.value:C,Id(I)?null:I})(t.limit));let b=null;t.startAt&&(b=(function(C){const I=!!C.before,z=C.values||[];return new ud(z,I)})(t.startAt));let x=null;return t.endAt&&(x=(function(C){const I=!C.before,z=C.values||[];return new ud(z,I)})(t.endAt)),gP(e,l,f,h,y,"F",b,x)}function tO(i,e){const t=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:l})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nE(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=bu(t.unaryFilter.field);return _n.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=bu(t.unaryFilter.field);return _n.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=bu(t.unaryFilter.field);return _n.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=bu(t.unaryFilter.field);return _n.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(i):i.fieldFilter!==void 0?(function(t){return _n.create(bu(t.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return qr.create(t.compositeFilter.filters.map((s=>nE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(i):Ue(30097,{filter:i})}function nO(i){return HP[i]}function iO(i){return FP[i]}function rO(i){return GP[i]}function ro(i){return{fieldPath:i.canonicalString()}}function bu(i){return jn.fromServerFormat(i.fieldPath)}function iE(i){return i instanceof _n?(function(t){if(t.op==="=="){if(nx(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(tx(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nx(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(tx(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:iO(t.op),value:t.value}}})(i):i instanceof qr?(function(t){const s=t.getFilters().map((l=>iE(l)));return s.length===1?s[0]:{compositeFilter:{op:rO(t.op),filters:s}}})(i):Ue(54877,{filter:i})}function sO(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function rE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function sE(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class oo{constructor(e,t,s,l,h=He.min(),f=He.min(),y=Vn.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=b}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aO{constructor(e){this.yt=e}}function oO(i){const e=eO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Eg(e,e.limit,"L"):e}class lO{constructor(){this.Sn=new uO}addToCollectionParentIndex(e,t){return this.Sn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(po.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(po.min())}updateCollectionGroup(e,t,s){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class uO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new wn(Dt.comparator),h=!l.has(s);return this.index[t]=l.add(s),h}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new wn(Dt.comparator)).toArray()}}const gx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aE=41943040;class Ti{static withCacheSize(e){return new Ti(e,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(aE,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);class Pu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Pu(0)}static ar(){return new Pu(-1)}}const _x="LruGarbageCollector",cO=1048576;function yx([i,e],[t,s]){const l=at(i,t);return l===0?at(e,s):l}class hO{constructor(e){this.Pr=e,this.buffer=new wn(yx),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yx(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Re(_x,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bu(t)?Re(_x,"Ignoring IndexedDB error during garbage collection: ",t):await Uu(t)}await this.Ar(3e5)}))}}class dO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return me.resolve(Nd.ce);const s=new hO(t);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(gx)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gx):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,l,h,f,y,b,x;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,f=Date.now(),this.nthSequenceNumber(e,l)))).next((C=>(s=C,y=Date.now(),this.removeTargets(e,s,t)))).next((C=>(h=C,b=Date.now(),this.removeOrphanedDocuments(e,s)))).next((C=>(x=Date.now(),yu()<=st.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${l} in `+(y-f)+`ms
	Removed ${h} targets in `+(b-y)+`ms
	Removed ${C} documents in `+(x-b)+`ms
Total Duration: ${x-A}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C}))))}}function mO(i,e){return new dO(i,e)}class pO{constructor(){this.changes=new Rl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?me.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _O{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,t)))).next((l=>(s!==null&&Kc(s.mutation,l,Gi.empty(),Vt.now()),l)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,lt()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=lt()){const l=ml();return this.populateOverlays(e,l,t).next((()=>this.computeViews(e,t,l,s).next((h=>{let f=jc();return h.forEach(((y,b)=>{f=f.insert(y,b.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const s=ml();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,lt())))}populateOverlays(e,t,s){const l=[];return s.forEach((h=>{t.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(e,l).next((h=>{h.forEach(((f,y)=>{t.set(f,y)}))}))}computeViews(e,t,s,l){let h=ua();const f=Zc(),y=(function(){return Zc()})();return t.forEach(((b,x)=>{const A=s.get(x.key);l.has(x.key)&&(A===void 0||A.mutation instanceof Eo)?h=h.insert(x.key,x):A!==void 0?(f.set(x.key,A.mutation.getFieldMask()),Kc(A.mutation,x,A.mutation.getFieldMask(),Vt.now())):f.set(x.key,Gi.empty())})),this.recalculateAndSaveOverlays(e,h).next((b=>(b.forEach(((x,A)=>f.set(x,A))),t.forEach(((x,A)=>y.set(x,new gO(A,f.get(x)??null)))),y)))}recalculateAndSaveOverlays(e,t){const s=Zc();let l=new Kt(((f,y)=>f-y)),h=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const y of f)y.keys().forEach((b=>{const x=t.get(b);if(x===null)return;let A=s.get(b)||Gi.empty();A=y.applyToLocalView(x,A),s.set(b,A);const C=(l.get(y.batchId)||lt()).add(b);l=l.insert(y.batchId,C)}))})).next((()=>{const f=[],y=l.getReverseIterator();for(;y.hasNext();){const b=y.getNext(),x=b.key,A=b.value,C=U1();A.forEach((I=>{if(!h.has(I)){const z=Z1(t.get(I),s.get(I));z!==null&&C.set(I,z),h=h.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,x,C))}return me.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,l){return _P(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):L1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,l):this.getDocumentsMatchingCollectionQuery(e,t,s,l)}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next((h=>{const f=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-h.size):me.resolve(ml());let y=Jc,b=h;return f.next((x=>me.forEach(x,((A,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(A)?me.resolve():this.remoteDocumentCache.getEntry(e,A).next((I=>{b=b.insert(A,I)}))))).next((()=>this.populateOverlays(e,x,h))).next((()=>this.computeViews(e,b,x,lt()))).next((A=>({batchId:y,changes:z1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next((s=>{let l=jc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,l){const h=t.collectionGroup;let f=jc();return this.indexManager.getCollectionParents(e,h).next((y=>me.forEach(y,(b=>{const x=(function(C,I){return new qu(I,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(t,b.child(h));return this.getDocumentsMatchingCollectionQuery(e,x,s,l).next((A=>{A.forEach(((C,I)=>{f=f.insert(C,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((f=>(h=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,h,l)))).next((f=>{h.forEach(((b,x)=>{const A=x.getKey();f.get(A)===null&&(f=f.insert(A,Yn.newInvalidDocument(A)))}));let y=jc();return f.forEach(((b,x)=>{const A=h.get(b);A!==void 0&&Kc(A.mutation,x,Gi.empty(),Vt.now()),Dd(t,x)&&(y=y.insert(b,x))})),y}))}}class yO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return me.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(l){return{id:l.id,version:l.version,createTime:bs(l.createTime)}})(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(l){return{name:l.name,query:oO(l.bundledQuery),readTime:bs(l.readTime)}})(t)),me.resolve()}}class vO{constructor(){this.overlays=new Kt(Me.comparator),this.Lr=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ml();return me.forEach(t,(l=>this.getOverlay(e,l).next((h=>{h!==null&&s.set(l,h)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((l,h)=>{this.bt(e,t,h)})),me.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(s)),me.resolve()}getOverlaysForCollection(e,t,s){const l=ml(),h=t.length+1,f=new Me(t.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const b=y.getNext().value,x=b.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===h&&b.largestBatchId>s&&l.set(b.getKey(),b)}return me.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let h=new Kt(((x,A)=>x-A));const f=this.overlays.getIterator();for(;f.hasNext();){const x=f.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>s){let A=h.get(x.largestBatchId);A===null&&(A=ml(),h=h.insert(x.largestBatchId,A)),A.set(x.getKey(),x)}}const y=ml(),b=h.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach(((x,A)=>y.set(x,A))),!(y.size()>=l)););return me.resolve(y)}bt(e,t,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new kP(t,s));let h=this.Lr.get(t);h===void 0&&(h=lt(),this.Lr.set(t,h)),this.Lr.set(t,h.add(s.key))}}class bO{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}class E_{constructor(){this.kr=new wn(Pn.Kr),this.qr=new wn(Pn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Pn(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Pn(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new Me(new Dt([])),s=new Pn(t,e),l=new Pn(t,e+1),h=[];return this.qr.forEachInRange([s,l],(f=>{this.Wr(f),h.push(f.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Me(new Dt([])),s=new Pn(t,e),l=new Pn(t,e+1);let h=lt();return this.qr.forEachInRange([s,l],(f=>{h=h.add(f.key)})),h}containsKey(e){const t=new Pn(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Pn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Me.comparator(e.key,t.key)||at(e.Hr,t.Hr)}static Ur(e,t){return at(e.Hr,t.Hr)||Me.comparator(e.key,t.key)}}class xO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new wn(Pn.Kr)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MP(h,t,s,l);this.mutationQueue.push(f);for(const y of l)this.Jr=this.Jr.add(new Pn(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return me.resolve(f)}lookupMutationBatch(e,t){return me.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=this.Xr(s),h=l<0?0:l;return me.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?f_:this.Yn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Pn(t,0),l=new Pn(t,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([s,l],(f=>{const y=this.Zr(f.Hr);h.push(y)})),me.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new wn(at);return t.forEach((l=>{const h=new Pn(l,0),f=new Pn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,f],(y=>{s=s.add(y.Hr)}))})),me.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let h=s;Me.isDocumentKey(h)||(h=h.child(""));const f=new Pn(new Me(h),0);let y=new wn(at);return this.Jr.forEachWhile((b=>{const x=b.key.path;return!!s.isPrefixOf(x)&&(x.length===l&&(y=y.add(b.Hr)),!0)}),f),me.resolve(this.Yr(y))}Yr(e){const t=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&t.push(l)})),t}removeMutationBatch(e,t){vt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return me.forEach(t.mutations,(l=>{const h=new Pn(l.key,t.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Pn(t,0),l=this.Jr.firstAfterOrEqual(s);return me.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wO{constructor(e){this.ti=e,this.docs=(function(){return new Kt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),h=l?l.size:0,f=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return me.resolve(s?s.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let s=ua();return t.forEach((l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Yn.newInvalidDocument(l))})),me.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let h=ua();const f=t.path,y=new Me(f.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(y);for(;b.hasNext();){const{key:x,value:{document:A}}=b.getNext();if(!f.isPrefixOf(x.path))break;x.path.length>f.length+1||ZI(GI(A),s)<=0||(l.has(A.key)||Dd(t,A))&&(h=h.insert(A.key,A.mutableCopy()))}return me.resolve(h)}getAllFromCollectionGroup(e,t,s,l){Ue(9500)}ni(e,t){return me.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new EO(this)}getSize(e){return me.resolve(this.size)}}class EO extends pO{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?t.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(s)})),me.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class TO{constructor(e){this.persistence=e,this.ri=new Rl((t=>p_(t)),g_),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.ii=0,this.si=new E_,this.targetCount=0,this.oi=Pu._r()}forEachTarget(e,t){return this.ri.forEach(((s,l)=>t(l))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),me.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Pu(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.lr(t),me.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,s){let l=0;const h=[];return this.ri.forEach(((f,y)=>{y.sequenceNumber<=t&&s.get(y.targetId)===null&&(this.ri.delete(f),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),me.waitFor(h).next((()=>l))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return me.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),me.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach((f=>{h.push(l.markPotentiallyOrphaned(e,f))})),me.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),me.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return me.resolve(s)}containsKey(e,t){return me.resolve(this.si.containsKey(t))}}class oE{constructor(e,t){this._i={},this.overlays={},this.ai=new Nd(0),this.ui=!1,this.ui=!0,this.ci=new bO,this.referenceDelegate=e(this),this.li=new TO(this),this.indexManager=new lO,this.remoteDocumentCache=(function(l){return new wO(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new aO(t),this.Pi=new yO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new xO(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){Re("MemoryPersistence","Starting transaction:",e);const l=new SO(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(e,t){return me.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class SO extends YI{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.Ri=new E_,this.Ai=null}static Vi(e){return new T_(e)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),me.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,(s=>{const l=Me.fromPath(s);return this.mi(e,l).next((h=>{h||t.removeEntry(l,He.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return me.or([()=>me.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class dd{constructor(e,t){this.persistence=e,this.fi=new Rl((s=>$I(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=mO(this,t)}static Vi(e,t){return new dd(e,t)}Ti(){}Ii(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((l=>s+l))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return me.forEach(this.fi,((s,l)=>this.wr(e,s,l).next((h=>h?me.resolve():t(l)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(e,(f=>this.wr(e,f,t).next((y=>{y||(s++,h.removeEntry(f,He.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),me.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),me.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hf(e.data.value)),t}wr(e,t,s){return me.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.fi.get(t);return me.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class S_{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=l}static Es(e,t){let s=lt(),l=lt();for(const h of t.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new S_(e,t.fromCache,s,l)}}class AO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ZA()?8:QI(Qn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,l){const h={result:null};return this.gs(e,t).next((f=>{h.result=f})).next((()=>{if(!h.result)return this.ps(e,t,l,s).next((f=>{h.result=f}))})).next((()=>{if(h.result)return;const f=new AO;return this.ys(e,t,f).next((y=>{if(h.result=y,this.As)return this.ws(e,t,f,y.size)}))})).next((()=>h.result))}ws(e,t,s,l){return s.documentReadCount<this.Vs?(yu()<=st.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",vu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),me.resolve()):(yu()<=st.DEBUG&&Re("QueryEngine","Query:",vu(t),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(yu()<=st.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",vu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(t))):me.resolve())}gs(e,t){if(ax(t))return me.resolve(null);let s=vs(t);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(t.limit!==null&&l===1&&(t=Eg(t,null,"F"),s=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const f=lt(...h);return this.fs.getDocuments(e,f).next((y=>this.indexManager.getMinOffset(e,s).next((b=>{const x=this.bs(t,y);return this.Ss(t,x,f,b.readTime)?this.gs(e,Eg(t,null,"F")):this.Ds(e,x,t,b)}))))})))))}ps(e,t,s,l){return ax(t)||l.isEqual(He.min())?me.resolve(null):this.fs.getDocuments(e,s).next((h=>{const f=this.bs(t,h);return this.Ss(t,f,s,l)?me.resolve(null):(yu()<=st.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),vu(t)),this.Ds(e,f,t,FI(l,Jc)).next((y=>y)))}))}bs(e,t){let s=new wn(j1(e));return t.forEach(((l,h)=>{Dd(e,h)&&(s=s.add(h))})),s}Ss(e,t,s,l){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const h=e.limitType==="F"?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(e,t,s){return yu()<=st.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",vu(t)),this.fs.getDocumentsMatchingQuery(e,t,po.min(),s)}Ds(e,t,s,l){return this.fs.getDocumentsMatchingQuery(e,s,l).next((h=>(t.forEach((f=>{h=h.insert(f.key,f)})),h)))}}const A_="LocalStore",RO=3e8;class NO{constructor(e,t,s,l){this.persistence=e,this.Cs=t,this.serializer=l,this.vs=new Kt(at),this.Fs=new Rl((h=>p_(h)),g_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _O(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function IO(i,e,t,s){return new NO(i,e,t,s)}async function lE(i,e){const t=qe(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next((h=>(l=h,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((h=>{const f=[],y=[];let b=lt();for(const x of l){f.push(x.batchId);for(const A of x.mutations)b=b.add(A.key)}for(const x of h){y.push(x.batchId);for(const A of x.mutations)b=b.add(A.key)}return t.localDocuments.getDocuments(s,b).next((x=>({Ns:x,removedBatchIds:f,addedBatchIds:y})))}))}))}function PO(i,e){const t=qe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),h=t.xs.newChangeBuffer({trackRemovals:!0});return(function(y,b,x,A){const C=x.batch,I=C.keys();let z=me.resolve();return I.forEach((Y=>{z=z.next((()=>A.getEntry(b,Y))).next((G=>{const Z=x.docVersions.get(Y);vt(Z!==null,48541),G.version.compareTo(Z)<0&&(C.applyToRemoteDocument(G,x),G.isValidDocument()&&(G.setReadTime(x.commitVersion),A.addEntry(G)))}))})),z.next((()=>y.mutationQueue.removeMutationBatch(b,C)))})(t,s,e,h).next((()=>h.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let b=lt();for(let x=0;x<y.mutationResults.length;++x)y.mutationResults[x].transformResults.length>0&&(b=b.add(y.batch.mutations[x].key));return b})(e)))).next((()=>t.localDocuments.getDocuments(s,l)))}))}function uE(i){const e=qe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function OO(i,e){const t=qe(i),s=e.snapshotVersion;let l=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const f=t.xs.newChangeBuffer({trackRemovals:!0});l=t.vs;const y=[];e.targetChanges.forEach(((A,C)=>{const I=l.get(C);if(!I)return;y.push(t.li.removeMatchingKeys(h,A.removedDocuments,C).next((()=>t.li.addMatchingKeys(h,A.addedDocuments,C))));let z=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?z=z.withResumeToken(Vn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):A.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(A.resumeToken,s)),l=l.insert(C,z),(function(G,Z,se){return G.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=RO?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(I,z,A)&&y.push(t.li.updateTargetData(h,z))}));let b=ua(),x=lt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(DO(h,f,e.documentUpdates).next((A=>{b=A.Bs,x=A.Ls}))),!s.isEqual(He.min())){const A=t.li.getLastRemoteSnapshotVersion(h).next((C=>t.li.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return me.waitFor(y).next((()=>f.apply(h))).next((()=>t.localDocuments.getLocalViewOfDocuments(h,b,x))).next((()=>b))})).then((h=>(t.vs=l,h)))}function DO(i,e,t){let s=lt(),l=lt();return t.forEach((h=>s=s.add(h))),e.getEntries(i,s).next((h=>{let f=ua();return t.forEach(((y,b)=>{const x=h.get(y);b.isFoundDocument()!==x.isFoundDocument()&&(l=l.add(y)),b.isNoDocument()&&b.version.isEqual(He.min())?(e.removeEntry(y,b.readTime),f=f.insert(y,b)):!x.isValidDocument()||b.version.compareTo(x.version)>0||b.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(b),f=f.insert(y,b)):Re(A_,"Ignoring outdated watch update for ",y,". Current version:",x.version," Watch version:",b.version)})),{Bs:f,Ls:l}}))}function LO(i,e){const t=qe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=f_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function MO(i,e){const t=qe(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return t.li.getTargetData(s,e).next((h=>h?(l=h,me.resolve(l)):t.li.allocateTargetId(s).next((f=>(l=new oo(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=t.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Rg(i,e,t){const s=qe(i),l=s.vs.get(e),h=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",h,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Bu(f))throw f;Re(A_,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(l.target)}function vx(i,e,t){const s=qe(i);let l=He.min(),h=lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(b,x,A){const C=qe(b),I=C.Fs.get(A);return I!==void 0?me.resolve(C.vs.get(I)):C.li.getTargetData(x,A)})(s,f,vs(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,y.targetId).next((b=>{h=b}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,t?l:He.min(),t?h:lt()))).next((y=>(kO(s,bP(e),y),{documents:y,ks:h})))))}function kO(i,e,t){let s=i.Ms.get(e)||He.min();t.forEach(((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),i.Ms.set(e,s)}class bx{constructor(){this.activeTargetIds=AP()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jO{constructor(){this.vo=new bx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new bx,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VO{Mo(e){}shutdown(){}}const xx="ConnectivityMonitor";class wx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Re(xx,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Re(xx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Of=null;function Ng(){return Of===null?Of=(function(){return 268435456+Math.round(2147483648*Math.random())})():Of++,"0x"+Of.toString(16)}const $p="RestConnection",zO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class UO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===od?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,t,s,l,h){const f=Ng(),y=this.Qo(e,t.toUriEncodedString());Re($p,`Sending RPC '${e}' ${f}:`,y,s);const b={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(b,l,h);const{host:x}=new URL(y),A=xo(x);return this.zo(e,y,b,s,A).then((C=>(Re($p,`Received RPC '${e}' ${f}: `,C),C)),(C=>{throw El($p,`RPC '${e}' ${f} failed with error: `,C,"url: ",y,"request:",s),C}))}jo(e,t,s,l,h,f){return this.Wo(e,t,s,l,h)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((l,h)=>e[h]=l)),s&&s.headers.forEach(((l,h)=>e[h]=l))}Qo(e,t){const s=zO[e];let l=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class BO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zn="WebChannelConnection",Oc=(i,e,t)=>{i.listen(e,(s=>{try{t(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Tu extends UO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Tu.c_){const e=f1();Oc(e,h1.STAT_EVENT,(t=>{t.stat===gg.PROXY?Re(Zn,"STAT_EVENT: detected buffering proxy"):t.stat===gg.NOPROXY&&Re(Zn,"STAT_EVENT: detected no buffering proxy")})),Tu.c_=!0}}zo(e,t,s,l,h){const f=Ng();return new Promise(((y,b)=>{const x=new u1;x.setWithCredentials(!0),x.listenOnce(c1.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case qf.NO_ERROR:const C=x.getResponseJson();Re(Zn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(C)),y(C);break;case qf.TIMEOUT:Re(Zn,`RPC '${e}' ${f} timed out`),b(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const I=x.getStatus();if(Re(Zn,`RPC '${e}' ${f} failed with status:`,I,"response text:",x.getResponseText()),I>0){let z=x.getResponseJson();Array.isArray(z)&&(z=z[0]);const Y=z?.error;if(Y&&Y.status&&Y.message){const G=(function(se){const oe=se.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(oe)>=0?oe:he.UNKNOWN})(Y.status);b(new Ae(G,Y.message))}else b(new Ae(he.UNKNOWN,"Server responded with status "+x.getStatus()))}else b(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:f,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{Re(Zn,`RPC '${e}' ${f} completed.`)}}));const A=JSON.stringify(l);Re(Zn,`RPC '${e}' ${f} sending request:`,l),x.send(t,"POST",A,s,15)}))}T_(e,t,s){const l=Ng(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const x=h.join("");Re(Zn,`Creating RPC '${e}' stream ${l}: ${x}`,y);const A=f.createWebChannel(x,y);this.I_(A);let C=!1,I=!1;const z=new BO({Ho:Y=>{I?Re(Zn,`Not sending because RPC '${e}' stream ${l} is closed:`,Y):(C||(Re(Zn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),C=!0),Re(Zn,`RPC '${e}' stream ${l} sending:`,Y),A.send(Y))},Jo:()=>A.close()});return Oc(A,kc.EventType.OPEN,(()=>{I||(Re(Zn,`RPC '${e}' stream ${l} transport opened.`),z.i_())})),Oc(A,kc.EventType.CLOSE,(()=>{I||(I=!0,Re(Zn,`RPC '${e}' stream ${l} transport closed`),z.o_(),this.E_(A))})),Oc(A,kc.EventType.ERROR,(Y=>{I||(I=!0,El(Zn,`RPC '${e}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),z.o_(new Ae(he.UNAVAILABLE,"The operation could not be completed")))})),Oc(A,kc.EventType.MESSAGE,(Y=>{if(!I){const G=Y.data[0];vt(!!G,16349);const Z=G,se=Z?.error||Z[0]?.error;if(se){Re(Zn,`RPC '${e}' stream ${l} received error:`,se);const oe=se.status;let ue=(function(Ie){const j=pn[Ie];if(j!==void 0)return Y1(j)})(oe),we=se.message;oe==="NOT_FOUND"&&we.includes("database")&&we.includes("does not exist")&&we.includes(this.databaseId.database)&&El(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ue===void 0&&(ue=he.INTERNAL,we="Unknown error status: "+oe+" with message "+se.message),I=!0,z.o_(new Ae(ue,we)),A.close()}else Re(Zn,`RPC '${e}' stream ${l} received:`,G),z.__(G)}})),Tu.u_(),setTimeout((()=>{z.s_()}),0),z}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return d1()}}function qO(i){return new Tu(i)}function Xp(){return typeof document<"u"?document:null}function jd(i){return new ZP(i,!0)}Tu.c_=!1;class cE{constructor(e,t,s=1e3,l=1.5,h=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,t-s);l>0&&Re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Ex="PersistentStream";class hE{constructor(e,t,s,l,h,f,y,b){this.Ci=e,this.b_=s,this.S_=l,this.connection=h,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=b,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(la(t.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===t&&this.G_(s,l)}),(s=>{e((()=>{const l=new Ae(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(Ex,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Re(Ex,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HO extends hE{constructor(e,t,s,l,h,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,f),this.serializer=h}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=QP(this.serializer,e),s=(function(h){if(!("targetChange"in h))return He.min();const f=h.targetChange;return f.targetIds&&f.targetIds.length?He.min():f.readTime?bs(f.readTime):He.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Cg(this.serializer),t.addTarget=(function(h,f){let y;const b=f.target;if(y=xg(b)?{documents:XP(h,b)}:{query:tE(h,b).ft},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){y.resumeToken=$1(h,f.resumeToken);const x=Tg(h,f.expectedCount);x!==null&&(y.expectedCount=x)}else if(f.snapshotVersion.compareTo(He.min())>0){y.readTime=fd(h,f.snapshotVersion.toTimestamp());const x=Tg(h,f.expectedCount);x!==null&&(y.expectedCount=x)}return y})(this.serializer,e);const s=tO(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Cg(this.serializer),t.removeTarget=e,this.K_(t)}}class FO extends hE{constructor(e,t,s,l,h,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,f),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=$P(e.writeResults,e.commitTime),s=bs(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Cg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>WP(this.serializer,s)))};this.K_(t)}}class GO{}class ZO extends GO{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Wo(e,Sg(t,s),l,h,f))).catch((h=>{throw h.name==="FirebaseError"?(h.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ae(he.UNKNOWN,h.toString())}))}jo(e,t,s,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,y])=>this.connection.jo(e,Sg(t,s),l,f,y,h))).catch((f=>{throw f.name==="FirebaseError"?(f.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ae(he.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KO(i,e,t,s){return new ZO(i,e,t,s)}class YO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(la(t),this.aa=!1):Re("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Tl="RemoteStore";class QO{constructor(e,t,s,l,h){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{Nl(this)&&(Re(Tl,"Restarting streams for network reachability change."),await(async function(b){const x=qe(b);x.Ea.add(4),await gh(x),x.Va.set("Unknown"),x.Ea.delete(4),await Vd(x)})(this))}))})),this.Va=new YO(s,l)}}async function Vd(i){if(Nl(i))for(const e of i.Ra)await e(!0)}async function gh(i){for(const e of i.Ra)await e(!1)}function fE(i,e){const t=qe(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),I_(t)?N_(t):Hu(t).O_()&&R_(t,e))}function C_(i,e){const t=qe(i),s=Hu(t);t.Ia.delete(e),s.O_()&&dE(t,e),t.Ia.size===0&&(s.O_()?s.L_():Nl(t)&&t.Va.set("Unknown"))}function R_(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hu(i).Z_(e)}function dE(i,e){i.da.$e(e),Hu(i).X_(e)}function N_(i){i.da=new qP({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Hu(i).start(),i.Va.ua()}function I_(i){return Nl(i)&&!Hu(i).x_()&&i.Ia.size>0}function Nl(i){return qe(i).Ea.size===0}function mE(i){i.da=void 0}async function WO(i){i.Va.set("Online")}async function $O(i){i.Ia.forEach(((e,t)=>{R_(i,e)}))}async function XO(i,e){mE(i),I_(i)?(i.Va.ha(e),N_(i)):i.Va.set("Unknown")}async function JO(i,e,t){if(i.Va.set("Online"),e instanceof W1&&e.state===2&&e.cause)try{await(async function(l,h){const f=h.cause;for(const y of h.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,f),l.Ia.delete(y),l.da.removeTarget(y))})(i,e)}catch(s){Re(Tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await md(i,s)}else if(e instanceof Zf?i.da.Xe(e):e instanceof Q1?i.da.st(e):i.da.tt(e),!t.isEqual(He.min()))try{const s=await uE(i.localStore);t.compareTo(s)>=0&&await(function(h,f){const y=h.da.Tt(f);return y.targetChanges.forEach(((b,x)=>{if(b.resumeToken.approximateByteSize()>0){const A=h.Ia.get(x);A&&h.Ia.set(x,A.withResumeToken(b.resumeToken,f))}})),y.targetMismatches.forEach(((b,x)=>{const A=h.Ia.get(b);if(!A)return;h.Ia.set(b,A.withResumeToken(Vn.EMPTY_BYTE_STRING,A.snapshotVersion)),dE(h,b);const C=new oo(A.target,b,x,A.sequenceNumber);R_(h,C)})),h.remoteSyncer.applyRemoteEvent(y)})(i,t)}catch(s){Re(Tl,"Failed to raise snapshot:",s),await md(i,s)}}async function md(i,e,t){if(!Bu(e))throw e;i.Ea.add(1),await gh(i),i.Va.set("Offline"),t||(t=()=>uE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Re(Tl,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Vd(i)}))}function pE(i,e){return e().catch((t=>md(i,t,e)))}async function zd(i){const e=qe(i),t=vo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:f_;for(;eD(e);)try{const l=await LO(e.localStore,s);if(l===null){e.Ta.length===0&&t.L_();break}s=l.batchId,tD(e,l)}catch(l){await md(e,l)}gE(e)&&_E(e)}function eD(i){return Nl(i)&&i.Ta.length<10}function tD(i,e){i.Ta.push(e);const t=vo(i);t.O_()&&t.Y_&&t.ea(e.mutations)}function gE(i){return Nl(i)&&!vo(i).x_()&&i.Ta.length>0}function _E(i){vo(i).start()}async function nD(i){vo(i).ra()}async function iD(i){const e=vo(i);for(const t of i.Ta)e.ea(t.mutations)}async function rD(i,e,t){const s=i.Ta.shift(),l=b_.from(s,e,t);await pE(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await zd(i)}async function sD(i,e){e&&vo(i).Y_&&await(async function(s,l){if((function(f){return zP(f)&&f!==he.ABORTED})(l.code)){const h=s.Ta.shift();vo(s).B_(),await pE(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l))),await zd(s)}})(i,e),gE(i)&&_E(i)}async function Tx(i,e){const t=qe(i);t.asyncQueue.verifyOperationInProgress(),Re(Tl,"RemoteStore received new credentials");const s=Nl(t);t.Ea.add(3),await gh(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vd(t)}async function aD(i,e){const t=qe(i);e?(t.Ea.delete(2),await Vd(t)):e||(t.Ea.add(2),await gh(t),t.Va.set("Unknown"))}function Hu(i){return i.ma||(i.ma=(function(t,s,l){const h=qe(t);return h.sa(),new HO(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Zo:WO.bind(null,i),Yo:$O.bind(null,i),t_:XO.bind(null,i),J_:JO.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),I_(i)?N_(i):i.Va.set("Unknown")):(await i.ma.stop(),mE(i))}))),i.ma}function vo(i){return i.fa||(i.fa=(function(t,s,l){const h=qe(t);return h.sa(),new FO(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nD.bind(null,i),t_:sD.bind(null,i),ta:iD.bind(null,i),na:rD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await zd(i)):(await i.fa.stop(),i.Ta.length>0&&(Re(Tl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class P_{constructor(e,t,s,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,l,h){const f=Date.now()+s,y=new P_(e,t,f,l,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O_(i,e){if(la("AsyncQueue",`${e}: ${i}`),Bu(i))return new Ae(he.UNAVAILABLE,`${e}: ${i}`);throw i}class Su{static emptySet(e){return new Su(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Me.comparator(t.key,s.key):(t,s)=>Me.comparator(t.key,s.key),this.keyedMap=jc(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Su;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Sx{constructor(){this.ga=new Kt(Me.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Ou{constructor(e,t,s,l,h,f,y,b,x){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=b,this.hasCachedResults=x}static fromInitialDocuments(e,t,s,l,h){const f=[];return t.forEach((y=>{f.push({type:0,doc:y})})),new Ou(e,t,Su.emptySet(t),f,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class oD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class lD{constructor(){this.queries=Ax(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const l=qe(t),h=l.queries;l.queries=Ax(),h.forEach(((f,y)=>{for(const b of y.ba)b.onError(s)}))})(this,new Ae(he.ABORTED,"Firestore shutting down"))}}function Ax(){return new Rl((i=>k1(i)),Od)}async function yE(i,e){const t=qe(i);let s=3;const l=e.query;let h=t.queries.get(l);h?!h.Sa()&&e.Da()&&(s=2):(h=new oD,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await t.onListen(l,!0);break;case 1:h.wa=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(f){const y=O_(f,`Initialization of query '${vu(e.query)}' failed`);return void e.onError(y)}t.queries.set(l,h),h.ba.push(e),e.va(t.onlineState),h.wa&&e.Fa(h.wa)&&D_(t)}async function vE(i,e){const t=qe(i),s=e.query;let l=3;const h=t.queries.get(s);if(h){const f=h.ba.indexOf(e);f>=0&&(h.ba.splice(f,1),h.ba.length===0?l=e.Da()?0:1:!h.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function uD(i,e){const t=qe(i);let s=!1;for(const l of e){const h=l.query,f=t.queries.get(h);if(f){for(const y of f.ba)y.Fa(l)&&(s=!0);f.wa=l}}s&&D_(t)}function cD(i,e,t){const s=qe(i),l=s.queries.get(e);if(l)for(const h of l.ba)h.onError(t);s.queries.delete(e)}function D_(i){i.Ca.forEach((e=>{e.next()}))}var Ig,Cx;(Cx=Ig||(Ig={})).Ma="default",Cx.Cache="cache";class bE{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Ou(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ig.Cache}}class xE{constructor(e){this.key=e}}class wE{constructor(e){this.key=e}}class hD{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.eu=j1(e),this.tu=new Su(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new Sx,l=t?t.tu:this.tu;let h=t?t.mutatedKeys:this.mutatedKeys,f=l,y=!1;const b=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,x=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,C)=>{const I=l.get(A),z=Dd(this.query,C)?C:null,Y=!!I&&this.mutatedKeys.has(I.key),G=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Z=!1;I&&z?I.data.isEqual(z.data)?Y!==G&&(s.track({type:3,doc:z}),Z=!0):this.su(I,z)||(s.track({type:2,doc:z}),Z=!0,(b&&this.eu(z,b)>0||x&&this.eu(z,x)<0)&&(y=!0)):!I&&z?(s.track({type:0,doc:z}),Z=!0):I&&!z&&(s.track({type:1,doc:I}),Z=!0,(b||x)&&(y=!0)),Z&&(z?(f=f.add(z),h=G?h.add(A):h.delete(A)):(f=f.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:f,iu:s,Ss:y,mutatedKeys:h}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,l){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((A,C)=>(function(z,Y){const G=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:Z})}};return G(z)-G(Y)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(s),l=l??!1;const y=t&&!l?this._u():[],b=this.Ya.size===0&&this.current&&!l?1:0,x=b!==this.Xa;return this.Xa=b,f.length!==0||x?{snapshot:new Ou(this.query,e.tu,h,f,e.mutatedKeys,b===0,x,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new wE(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new xE(s))})),t}cu(e){this.Za=e.ks,this.Ya=lt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ou.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const L_="SyncEngine";class fD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class dD{constructor(e){this.key=e,this.hu=!1}}class mD{constructor(e,t,s,l,h,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Rl((y=>k1(y)),Od),this.Iu=new Map,this.Eu=new Set,this.Ru=new Kt(Me.comparator),this.Au=new Map,this.Vu=new E_,this.du={},this.mu=new Map,this.fu=Pu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pD(i,e,t=!0){const s=RE(i);let l;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await EE(s,e,t,!0),l}async function gD(i,e){const t=RE(i);await EE(t,e,!0,!1)}async function EE(i,e,t,s){const l=await MO(i.localStore,vs(e)),h=l.targetId,f=i.sharedClientState.addLocalQueryTarget(h,t);let y;return s&&(y=await _D(i,e,h,f==="current",l.resumeToken)),i.isPrimaryClient&&t&&fE(i.remoteStore,l),y}async function _D(i,e,t,s,l){i.pu=(C,I,z)=>(async function(G,Z,se,oe){let ue=Z.view.ru(se);ue.Ss&&(ue=await vx(G.localStore,Z.query,!1).then((({documents:j})=>Z.view.ru(j,ue))));const we=oe&&oe.targetChanges.get(Z.targetId),ge=oe&&oe.targetMismatches.get(Z.targetId)!=null,Ie=Z.view.applyChanges(ue,G.isPrimaryClient,we,ge);return Nx(G,Z.targetId,Ie.au),Ie.snapshot})(i,C,I,z);const h=await vx(i.localStore,e,!0),f=new hD(e,h.ks),y=f.ru(h.documents),b=ph.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",l),x=f.applyChanges(y,i.isPrimaryClient,b);Nx(i,t,x.au);const A=new fD(e,t,f);return i.Tu.set(e,A),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),x.snapshot}async function yD(i,e,t){const s=qe(i),l=s.Tu.get(e),h=s.Iu.get(l.targetId);if(h.length>1)return s.Iu.set(l.targetId,h.filter((f=>!Od(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Rg(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),t&&C_(s.remoteStore,l.targetId),Pg(s,l.targetId)})).catch(Uu)):(Pg(s,l.targetId),await Rg(s.localStore,l.targetId,!0))}async function vD(i,e){const t=qe(i),s=t.Tu.get(e),l=t.Iu.get(s.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),C_(t.remoteStore,s.targetId))}async function bD(i,e,t){const s=CD(i);try{const l=await(function(f,y){const b=qe(f),x=Vt.now(),A=y.reduce(((z,Y)=>z.add(Y.key)),lt());let C,I;return b.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Y=ua(),G=lt();return b.xs.getEntries(z,A).next((Z=>{Y=Z,Y.forEach(((se,oe)=>{oe.isValidDocument()||(G=G.add(se))}))})).next((()=>b.localDocuments.getOverlayedDocuments(z,Y))).next((Z=>{C=Z;const se=[];for(const oe of y){const ue=DP(oe,C.get(oe.key).overlayedDocument);ue!=null&&se.push(new Eo(oe.key,ue,C1(ue.value.mapValue),yr.exists(!0)))}return b.mutationQueue.addMutationBatch(z,x,se,y)})).next((Z=>{I=Z;const se=Z.applyToLocalDocumentSet(C,G);return b.documentOverlayCache.saveOverlays(z,Z.batchId,se)}))})).then((()=>({batchId:I.batchId,changes:z1(C)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,y,b){let x=f.du[f.currentUser.toKey()];x||(x=new Kt(at)),x=x.insert(y,b),f.du[f.currentUser.toKey()]=x})(s,l.batchId,t),await _h(s,l.changes),await zd(s.remoteStore)}catch(l){const h=O_(l,"Failed to persist write");t.reject(h)}}async function TE(i,e){const t=qe(i);try{const s=await OO(t.localStore,e);e.targetChanges.forEach(((l,h)=>{const f=t.Au.get(h);f&&(vt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?vt(f.hu,14607):l.removedDocuments.size>0&&(vt(f.hu,42227),f.hu=!1))})),await _h(t,s,e)}catch(s){await Uu(s)}}function Rx(i,e,t){const s=qe(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const l=[];s.Tu.forEach(((h,f)=>{const y=f.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(f,y){const b=qe(f);b.onlineState=y;let x=!1;b.queries.forEach(((A,C)=>{for(const I of C.ba)I.va(y)&&(x=!0)})),x&&D_(b)})(s.eventManager,e),l.length&&s.Pu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xD(i,e,t){const s=qe(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.Au.get(e),h=l&&l.key;if(h){let f=new Kt(Me.comparator);f=f.insert(h,Yn.newNoDocument(h,He.min()));const y=lt().add(h),b=new kd(He.min(),new Map,new Kt(at),f,y);await TE(s,b),s.Ru=s.Ru.remove(h),s.Au.delete(e),M_(s)}else await Rg(s.localStore,e,!1).then((()=>Pg(s,e,t))).catch(Uu)}async function wD(i,e){const t=qe(i),s=e.batch.batchId;try{const l=await PO(t.localStore,e);AE(t,s,null),SE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await _h(t,l)}catch(l){await Uu(l)}}async function ED(i,e,t){const s=qe(i);try{const l=await(function(f,y){const b=qe(f);return b.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let A;return b.mutationQueue.lookupMutationBatch(x,y).next((C=>(vt(C!==null,37113),A=C.keys(),b.mutationQueue.removeMutationBatch(x,C)))).next((()=>b.mutationQueue.performConsistencyCheck(x))).next((()=>b.documentOverlayCache.removeOverlaysForBatchId(x,A,y))).next((()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,A))).next((()=>b.localDocuments.getDocuments(x,A)))}))})(s.localStore,e);AE(s,e,t),SE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await _h(s,l)}catch(l){await Uu(l)}}function SE(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function AE(i,e,t){const s=qe(i);let l=s.du[s.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),s.du[s.currentUser.toKey()]=l}}function Pg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||CE(i,s)}))}function CE(i,e){i.Eu.delete(e.path.canonicalString());const t=i.Ru.get(e);t!==null&&(C_(i.remoteStore,t),i.Ru=i.Ru.remove(e),i.Au.delete(t),M_(i))}function Nx(i,e,t){for(const s of t)s instanceof xE?(i.Vu.addReference(s.key,e),TD(i,s)):s instanceof wE?(Re(L_,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||CE(i,s.key)):Ue(19791,{wu:s})}function TD(i,e){const t=e.key,s=t.path.canonicalString();i.Ru.get(t)||i.Eu.has(s)||(Re(L_,"New document in limbo: "+t),i.Eu.add(s),M_(i))}function M_(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Me(Dt.fromString(e)),s=i.fu.next();i.Au.set(s,new dD(t)),i.Ru=i.Ru.insert(t,s),fE(i.remoteStore,new oo(vs(__(t.path)),s,"TargetPurposeLimboResolution",Nd.ce))}}async function _h(i,e,t){const s=qe(i),l=[],h=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,b)=>{f.push(s.pu(b,e,t).then((x=>{if((x||t)&&s.isPrimaryClient){const A=x?!x.fromCache:t?.targetChanges.get(b.targetId)?.current;s.sharedClientState.updateQueryState(b.targetId,A?"current":"not-current")}if(x){l.push(x);const A=S_.Es(b.targetId,x);h.push(A)}})))})),await Promise.all(f),s.Pu.J_(l),await(async function(b,x){const A=qe(b);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>me.forEach(x,(I=>me.forEach(I.Ts,(z=>A.persistence.referenceDelegate.addReference(C,I.targetId,z))).next((()=>me.forEach(I.Is,(z=>A.persistence.referenceDelegate.removeReference(C,I.targetId,z)))))))))}catch(C){if(!Bu(C))throw C;Re(A_,"Failed to update sequence numbers: "+C)}for(const C of x){const I=C.targetId;if(!C.fromCache){const z=A.vs.get(I),Y=z.snapshotVersion,G=z.withLastLimboFreeSnapshotVersion(Y);A.vs=A.vs.insert(I,G)}}})(s.localStore,h))}async function SD(i,e){const t=qe(i);if(!t.currentUser.isEqual(e)){Re(L_,"User change. New user:",e.toKey());const s=await lE(t.localStore,e);t.currentUser=e,(function(h,f){h.mu.forEach((y=>{y.forEach((b=>{b.reject(new Ae(he.CANCELLED,f))}))})),h.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _h(t,s.Ns)}}function AD(i,e){const t=qe(i),s=t.Au.get(e);if(s&&s.hu)return lt().add(s.key);{let l=lt();const h=t.Iu.get(e);if(!h)return l;for(const f of h){const y=t.Tu.get(f);l=l.unionWith(y.view.nu)}return l}}function RE(i){const e=qe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=TE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.Pu.J_=uD.bind(null,e.eventManager),e.Pu.yu=cD.bind(null,e.eventManager),e}function CD(i){const e=qe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ED.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return IO(this.persistence,new CO,e.initialUser,this.serializer)}Cu(e){return new oE(T_.Vi,this.serializer)}Du(e){return new jO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class RD extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){vt(this.persistence.referenceDelegate instanceof dd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new oE((s=>dd.Vi(s,t)),this.serializer)}}class Og{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Rx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SD.bind(null,this.syncEngine),await aD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lD})()}createDatastore(e){const t=jd(e.databaseInfo.databaseId),s=qO(e.databaseInfo);return KO(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,l,h,f,y){return new QO(s,l,h,f,y)})(this.localStore,this.datastore,e.asyncQueue,(t=>Rx(this.syncEngine,t,0)),(function(){return wx.v()?new wx:new VO})())}createSyncEngine(e,t){return(function(l,h,f,y,b,x,A){const C=new mD(l,h,f,y,b,x);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=qe(t);Re(Tl,"RemoteStore shutting down."),s.Ea.add(5),await gh(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Og.provider={build:()=>new Og};class NE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const bo="FirestoreClient";class ND{constructor(e,t,s,l,h){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=l,this.user=Kn.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async f=>{Re(bo,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Re(bo,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=O_(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Jp(i,e){i.asyncQueue.verifyOperationInProgress(),Re(bo,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async l=>{s.isEqual(l)||(await lE(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Ix(i,e){i.asyncQueue.verifyOperationInProgress();const t=await ID(i);Re(bo,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>Tx(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,l)=>Tx(e.remoteStore,l))),i._onlineComponents=e}async function ID(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Re(bo,"Using user provided OfflineComponentProvider");try{await Jp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(l){return l.name==="FirebaseError"?l.code===he.FAILED_PRECONDITION||l.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(t))throw t;El("Error using user provided cache. Falling back to memory cache: "+t),await Jp(i,new pd)}}else Re(bo,"Using default OfflineComponentProvider"),await Jp(i,new RD(void 0));return i._offlineComponents}async function k_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Re(bo,"Using user provided OnlineComponentProvider"),await Ix(i,i._uninitializedComponentsProvider._online)):(Re(bo,"Using default OnlineComponentProvider"),await Ix(i,new Og))),i._onlineComponents}function PD(i){return k_(i).then((e=>e.syncEngine))}function OD(i){return k_(i).then((e=>e.datastore))}async function IE(i){const e=await k_(i),t=e.eventManager;return t.onListen=pD.bind(null,e.syncEngine),t.onUnlisten=yD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vD.bind(null,e.syncEngine),t}function DD(i,e,t={}){const s=new ys;return i.asyncQueue.enqueueAndForget((async()=>(function(h,f,y,b,x){const A=new NE({next:I=>{A.Nu(),f.enqueueAndForget((()=>vE(h,C)));const z=I.docs.has(y);!z&&I.fromCache?x.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&I.fromCache&&b&&b.source==="server"?x.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(I)},error:I=>x.reject(I)}),C=new bE(__(y.path),A,{includeMetadataChanges:!0,Ka:!0});return yE(h,C)})(await IE(i),i.asyncQueue,e,t,s))),s.promise}function LD(i,e,t={}){const s=new ys;return i.asyncQueue.enqueueAndForget((async()=>(function(h,f,y,b,x){const A=new NE({next:I=>{A.Nu(),f.enqueueAndForget((()=>vE(h,C))),I.fromCache&&b.source==="server"?x.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(I)},error:I=>x.reject(I)}),C=new bE(y,A,{includeMetadataChanges:!0,Ka:!0});return yE(h,C)})(await IE(i),i.asyncQueue,e,t,s))),s.promise}function MD(i,e,t){const s=new ys;return i.asyncQueue.enqueueAndForget((async()=>{try{const l=await OD(i);s.resolve((async function(f,y,b){const x=qe(f),{request:A,gt:C,parent:I}=JP(x.serializer,yP(y),b);x.connection.Ko||delete A.parent;const z=(await x.jo("RunAggregationQuery",x.serializer.databaseId,I,A,1)).filter((G=>!!G.result));vt(z.length===1,64727);const Y=z[0].result?.aggregateFields;return Object.keys(Y).reduce(((G,Z)=>(G[C[Z]]=Y[Z],G)),{})})(l,e,t))}catch(l){s.reject(l)}})),s.promise}function kD(i,e){const t=new ys;return i.asyncQueue.enqueueAndForget((async()=>bD(await PD(i),e,t))),t.promise}function PE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const jD="ComponentProvider",Px=new Map;function VD(i,e,t,s,l){return new tP(i,e,t,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,PE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const OE="firestore.googleapis.com",Ox=!0;class Dx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OE,this.ssl=Ox}else this.host=e.host,this.ssl=e.ssl??Ox;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cO)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new DI;switch(s.type){case"firstParty":return new jI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Px.get(t);s&&(Re(jD,"Removing Datastore"),Px.delete(t),s.terminate())})(this),Promise.resolve()}}function zD(i,e,t,s={}){i=br(i,Ud);const l=xo(e),h=i._getSettings(),f={...h,emulatorOptions:i._getEmulatorOptions()},y=`${e}:${t}`;l&&(Qg(`https://${y}`),Wg("Firestore",!0)),h.host!==OE&&h.host!==y&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...h,host:y,ssl:l,emulatorOptions:s};if(!vl(b,f)&&(i._setSettings(b),s.mockUserToken)){let x,A;if(typeof s.mockUserToken=="string")x=s.mockUserToken,A=Kn.MOCK_USER;else{x=Ew(s.mockUserToken,i._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Kn(C)}i._authCredentials=new LI(new p1(x,A))}}class Il{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Il(this.firestore,e,this._query)}}class ln{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(dh(t,ln._jsonSchema))return new ln(e,s||null,new Me(Dt.fromString(t.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:yn("string",ln._jsonSchemaVersion),referencePath:yn("string")};class ho extends Il{constructor(e,t,s){super(e,t,__(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Me(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function Fi(i,e,...t){if(i=Zt(i),g1("collection","path",e),i instanceof Ud){const s=Dt.fromString(e,...t);return Zb(s),new ho(i,null,s)}{if(!(i instanceof ln||i instanceof ho))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Dt.fromString(e,...t));return Zb(s),new ho(i.firestore,null,s)}}function ri(i,e,...t){if(i=Zt(i),arguments.length===1&&(e=h_.newId()),g1("doc","path",e),i instanceof Ud){const s=Dt.fromString(e,...t);return Gb(s),new ln(i,null,new Me(s))}{if(!(i instanceof ln||i instanceof ho))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Dt.fromString(e,...t));return Gb(s),new ln(i.firestore,i instanceof ho?i.converter:null,new Me(s))}}const Lx="AsyncQueue";class Mx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cE(this,"async_queue_retry"),this._c=()=>{const s=Xp();s&&Re(Lx,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Xp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Xp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bu(e))throw e;Re(Lx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,la("INTERNAL UNHANDLED ERROR: ",kx(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const l=P_.createAndSchedule(this,e,t,s,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Ue(47125,{Pc:kx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kx(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class To extends Ud{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new Mx,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mx(e),this._firestoreClient=void 0,await e}}}function UD(i,e){const t=typeof i=="object"?i:Jg(),s=typeof i=="string"?i:od,l=Td(t,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=bw("firestore");h&&zD(l,...h)}return l}function Bd(i){if(i._terminated)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BD(i),i._firestoreClient}function BD(i){const e=i._freezeSettings(),t=VD(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new ND(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(i._componentsProvider))}class _r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _r(Vn.fromBase64String(e))}catch(t){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _r(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dh(e,_r._jsonSchema))return _r.fromBase64String(e.bytes)}}_r._jsonSchemaVersion="firestore/bytes/1.0",_r._jsonSchema={type:yn("string",_r._jsonSchemaVersion),bytes:yn("string")};class j_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class V_{constructor(e){this._methodName=e}}class xs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xs._jsonSchemaVersion}}static fromJSON(e){if(dh(e,xs._jsonSchema))return new xs(e.latitude,e.longitude)}}xs._jsonSchemaVersion="firestore/geoPoint/1.0",xs._jsonSchema={type:yn("string",xs._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};class Ur{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dh(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ur(e.vectorValues);throw new Ae(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:yn("string",Ur._jsonSchemaVersion),vectorValues:yn("object")};const qD=/^__.*__$/;class HD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new mh(e,this.data,t,this.fieldTransforms)}}class DE{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:i})}}class z_{constructor(e,t,s,l,h,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new z_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(LE(this.dataSource)&&qD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class FD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jd(e)}createContext(e,t,s,l=!1){return new z_({dataSource:e,methodName:t,targetDoc:s,path:jn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qd(i){const e=i._freezeSettings(),t=jd(i._databaseId);return new FD(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ME(i,e,t,s,l,h={}){const f=i.createContext(h.merge||h.mergeFields?2:0,e,t,l);U_("Data must be an object, but it was:",f,s);const y=kE(s,f);let b,x;if(h.merge)b=new Gi(f.fieldMask),x=f.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const I=Sl(e,C,t);if(!f.contains(I))throw new Ae(he.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);zE(A,I)||A.push(I)}b=new Gi(A),x=f.fieldTransforms.filter((C=>b.covers(C.field)))}else b=null,x=f.fieldTransforms;return new HD(new si(y),b,x)}class Hd extends V_{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hd}}function GD(i,e,t,s){const l=i.createContext(1,e,t);U_("Data must be an object, but it was:",l,s);const h=[],f=si.empty();wo(s,((b,x)=>{const A=VE(e,b,t);x=Zt(x);const C=l.childContextForFieldPath(A);if(x instanceof Hd)h.push(A);else{const I=yh(x,C);I!=null&&(h.push(A),f.set(A,I))}}));const y=new Gi(h);return new DE(f,y,l.fieldTransforms)}function ZD(i,e,t,s,l,h){const f=i.createContext(1,e,t),y=[Sl(e,s,t)],b=[l];if(h.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)y.push(Sl(e,h[I])),b.push(h[I+1]);const x=[],A=si.empty();for(let I=y.length-1;I>=0;--I)if(!zE(x,y[I])){const z=y[I];let Y=b[I];Y=Zt(Y);const G=f.childContextForFieldPath(z);if(Y instanceof Hd)x.push(z);else{const Z=yh(Y,G);Z!=null&&(x.push(z),A.set(z,Z))}}const C=new Gi(x);return new DE(A,C,f.fieldTransforms)}function KD(i,e,t,s=!1){return yh(t,i.createContext(s?4:3,e))}function yh(i,e){if(jE(i=Zt(i)))return U_("Unsupported field value:",e,i),kE(i,e);if(i instanceof V_)return(function(s,l){if(!LE(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,l){const h=[];let f=0;for(const y of s){let b=yh(y,l.childContextForArray(f));b==null&&(b={nullValue:"NULL_VALUE"}),h.push(b),f++}return{arrayValue:{values:h}}})(i,e)}return(function(s,l){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CP(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Vt.fromDate(s);return{timestampValue:fd(l.serializer,h)}}if(s instanceof Vt){const h=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fd(l.serializer,h)}}if(s instanceof xs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _r)return{bytesValue:$1(l.serializer,s._byteString)};if(s instanceof ln){const h=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(h))throw l.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:w_(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ur)return(function(f,y){const b=f instanceof Ur?f.toArray():f;return{mapValue:{fields:{[S1]:{stringValue:A1},[ld]:{arrayValue:{values:b.map((A=>{if(typeof A!="number")throw y.createError("VectorValues must only contain numeric values.");return y_(y.serializer,A)}))}}}}}})(s,l);if(sE(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Rd(s)}`)})(i,e)}function kE(i,e){const t={};return v1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(i,((s,l)=>{const h=yh(l,e.childContextForField(s));h!=null&&(t[s]=h)})),{mapValue:{fields:t}}}function jE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Vt||i instanceof xs||i instanceof _r||i instanceof ln||i instanceof V_||i instanceof Ur||sE(i))}function U_(i,e,t){if(!jE(t)||!_1(t)){const s=Rd(t);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function Sl(i,e,t){if((e=Zt(e))instanceof j_)return e._internalPath;if(typeof e=="string")return VE(i,e);throw gd("Field path arguments must be of type string or ",i,!1,void 0,t)}const YD=new RegExp("[~\\*/\\[\\]]");function VE(i,e,t){if(e.search(YD)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new j_(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function gd(i,e,t,s,l){const h=s&&!s.isEmpty(),f=l!==void 0;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let b="";return(h||f)&&(b+=" (found",h&&(b+=` in field ${s}`),f&&(b+=` in document ${l}`),b+=")"),new Ae(he.INVALID_ARGUMENT,y+i+b)}function zE(i,e){return i.some((t=>t.isEqual(e)))}class QD{convertValue(e,t="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return wo(e,((l,h)=>{s[l]=this.convertValue(h,t)})),s}convertVectorValue(e){const t=e.fields?.[ld].arrayValue?.values?.map((s=>on(s.doubleValue)));return new Ur(t)}convertGeoPoint(e){return new xs(on(e.latitude),on(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Pd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const t=go(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Dt.fromString(e);vt(rE(s),9688,{name:e});const l=new th(s.get(1),s.get(3)),h=new Me(s.popFirst(5));return l.isEqual(t)||la(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}class B_ extends QD{constructor(e){super(),this.firestore=e}convertBytes(e){return new _r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}const jx="@firebase/firestore",Vx="4.11.0";class WD{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class $D{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new si({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class UE{constructor(e,t,s,l,h){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Sl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XD extends UE{data(){return super.data()}}function JD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class BE extends q_{}function fo(i,e,...t){let s=[];e instanceof q_&&s.push(e),s=s.concat(t),(function(h){const f=h.filter((b=>b instanceof H_)).length,y=h.filter((b=>b instanceof Fd)).length;if(f>1||f>0&&y>0)throw new Ae(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)i=l._apply(i);return i}class Fd extends BE{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Fd(e,t,s)}_apply(e){const t=this._parse(e);return HE(e._query,t),new Il(e.firestore,e.converter,wg(e._query,t))}_parse(e){const t=qd(e.firestore);return(function(h,f,y,b,x,A,C){let I;if(x.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Ux(C,A);const Y=[];for(const G of C)Y.push(zx(b,h,G));I={arrayValue:{values:Y}}}else I=zx(b,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Ux(C,A),I=KD(y,f,C,A==="in"||A==="not-in");return _n.create(x,A,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pl(i,e,t){const s=e,l=Sl("where",i);return Fd._create(l,s,t)}class H_ extends q_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new H_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(l,h){let f=l;const y=h.getFlattenedFilters();for(const b of y)HE(f,b),f=wg(f,b)})(e._query,t),new Il(e.firestore,e.converter,wg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class F_ extends BE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new F_(e,t)}_apply(e){const t=(function(l,h,f){if(l.startAt!==null)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ih(h,f)})(e._query,this._field,this._direction);return new Il(e.firestore,e.converter,vP(e._query,t))}}function qE(i,e="asc"){const t=e,s=Sl("orderBy",i);return F_._create(s,t)}function zx(i,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L1(e)&&t.indexOf("/")!==-1)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Dt.fromString(t));if(!Me.isDocumentKey(s))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ex(i,new Me(s))}if(t instanceof ln)return ex(i,t._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rd(t)}.`)}function Ux(i,e){if(!Array.isArray(i)||i.length===0)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HE(i,e){const t=(function(l,h){for(const f of l)for(const y of f.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function FE(i,e,t){let s;return s=i?i.toFirestore(e):e,s}function eL(){return new WD("count")}function Bx(i){return tL(i,{count:eL()})}function tL(i,e){const t=br(i.firestore,To),s=Bd(t),l=JI(e,((h,f)=>new jP(f,h.aggregateType,h._internalFieldPath)));return MD(s,i._query,l).then((h=>(function(y,b,x){const A=new B_(y);return new $D(b,A,x)})(t,i,h)))}class zc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gl extends UE{constructor(e,t,s,l,h,f){super(e,t,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Sl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=gl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",gl._jsonSchema={type:yn("string",gl._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class Kf extends gl{data(e={}){return super.data(e)}}class Au{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new zc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Kf(this._firestore,this._userDataWriter,s.key,s,new zc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((y=>{const b=new Kf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new zc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:b,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const b=new Kf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new zc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let x=-1,A=-1;return y.type!==0&&(x=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),y.type!==1&&(f=f.add(y.doc),A=f.indexOf(y.doc.key)),{type:nL(y.type),doc:b,oldIndex:x,newIndex:A}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Au._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=h_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(t.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nL(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:i})}}Au._jsonSchemaVersion="firestore/querySnapshot/1.0",Au._jsonSchema={type:yn("string",Au._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};function Yc(i){i=br(i,ln);const e=br(i.firestore,To),t=Bd(e);return DD(t,i._key).then((s=>iL(e,i,s)))}function _l(i){i=br(i,Il);const e=br(i.firestore,To),t=Bd(e),s=new B_(e);return JD(i._query),LD(t,i._query).then((l=>new Au(e,s,i,l)))}function eg(i,e,t){i=br(i,ln);const s=br(i.firestore,To),l=FE(i.converter,e),h=qd(s);return Gd(s,[ME(h,"setDoc",i._key,l,i.converter!==null,t).toMutation(i._key,yr.none())])}function Yf(i,e,t,...s){i=br(i,ln);const l=br(i.firestore,To),h=qd(l);let f;return f=typeof(e=Zt(e))=="string"||e instanceof j_?ZD(h,"updateDoc",i._key,e,t,s):GD(h,"updateDoc",i._key,e),Gd(l,[f.toMutation(i._key,yr.exists(!0))])}function qx(i){return Gd(br(i.firestore,To),[new v_(i._key,yr.none())])}function _d(i,e){const t=br(i.firestore,To),s=ri(i),l=FE(i.converter,e),h=qd(i.firestore);return Gd(t,[ME(h,"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,yr.exists(!1))]).then((()=>s))}function Gd(i,e){const t=Bd(i);return kD(t,e)}function iL(i,e,t){const s=t.docs.get(e._key),l=new B_(i);return new gl(i,l,e._key,s,new zc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){OI(Cl),bl(new mo("firestore",((s,{instanceIdentifier:l,options:h})=>{const f=s.getProvider("app").getImmediate(),y=new To(new MI(s.getProvider("auth-internal")),new VI(f,s.getProvider("app-check-internal")),nP(f,l),f);return h={useFetchStreams:t,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),gs(jx,Vx,e),gs(jx,Vx,"esm2020")})();const GE="firebasestorage.googleapis.com",ZE="storageBucket",rL=120*1e3,sL=600*1e3;class nn extends Es{constructor(e,t,s=0){super(tg(e),`Firebase Storage: ${t} (${tg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function tg(i){return"storage/"+i}function G_(){const i="An unknown error occurred, please check the error payload for server response.";return new nn(tn.UNKNOWN,i)}function aL(i){return new nn(tn.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function oL(i){return new nn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lL(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(tn.UNAUTHENTICATED,i)}function uL(){return new nn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cL(i){return new nn(tn.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function hL(){return new nn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fL(){return new nn(tn.CANCELED,"User canceled the upload/download.")}function dL(i){return new nn(tn.INVALID_URL,"Invalid URL '"+i+"'.")}function mL(i){return new nn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function pL(){return new nn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZE+"' property when initializing the app?")}function gL(){return new nn(tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _L(){return new nn(tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yL(i){return new nn(tn.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dg(i){return new nn(tn.INVALID_ARGUMENT,i)}function KE(){return new nn(tn.APP_DELETED,"The Firebase app was deleted.")}function vL(i){return new nn(tn.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qc(i,e){return new nn(tn.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Dc(i){throw new nn(tn.INTERNAL_ERROR,"Internal error: "+i)}class Zi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Zi.makeFromUrl(e,t)}catch{return new Zi(e,"")}if(s.path==="")return s;throw mL(e)}static makeFromUrl(e,t){let s=null;const l="([A-Za-z0-9.\\-_]+)";function h(we){we.path.charAt(we.path.length-1)==="/"&&(we.path_=we.path_.slice(0,-1))}const f="(/(.*))?$",y=new RegExp("^gs://"+l+f,"i"),b={bucket:1,path:3};function x(we){we.path_=decodeURIComponent(we.path)}const A="v[A-Za-z0-9_]+",C=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",z=new RegExp(`^https?://${C}/${A}/b/${l}/o${I}`,"i"),Y={bucket:1,path:3},G=t===GE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,Z="([^?#]*)",se=new RegExp(`^https?://${G}/${l}/${Z}`,"i"),ue=[{regex:y,indices:b,postModify:h},{regex:z,indices:Y,postModify:x},{regex:se,indices:{bucket:1,path:2},postModify:x}];for(let we=0;we<ue.length;we++){const ge=ue[we],Ie=ge.regex.exec(e);if(Ie){const j=Ie[ge.indices.bucket];let M=Ie[ge.indices.path];M||(M=""),s=new Zi(j,M),ge.postModify(s);break}}if(s==null)throw dL(e);return s}}class bL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function xL(i,e,t){let s=1,l=null,h=null,f=!1,y=0;function b(){return y===2}let x=!1;function A(...Z){x||(x=!0,e.apply(null,Z))}function C(Z){l=setTimeout(()=>{l=null,i(z,b())},Z)}function I(){h&&clearTimeout(h)}function z(Z,...se){if(x){I();return}if(Z){I(),A.call(null,Z,...se);return}if(b()||f){I(),A.call(null,Z,...se);return}s<64&&(s*=2);let ue;y===1?(y=2,ue=0):ue=(s+Math.random())*1e3,C(ue)}let Y=!1;function G(Z){Y||(Y=!0,I(),!x&&(l!==null?(Z||(y=2),clearTimeout(l),C(0)):Z||(y=1)))}return C(0),h=setTimeout(()=>{f=!0,G(!0)},t),G}function wL(i){i(!1)}function EL(i){return i!==void 0}function TL(i){return typeof i=="object"&&!Array.isArray(i)}function Z_(i){return typeof i=="string"||i instanceof String}function Hx(i){return K_()&&i instanceof Blob}function K_(){return typeof Blob<"u"}function Fx(i,e,t,s){if(s<e)throw Dg(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Dg(`Invalid value for '${i}'. Expected ${t} or less.`)}function Y_(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function YE(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const l=e(s)+"="+e(i[s]);t=t+l+"&"}return t=t.slice(0,-1),t}var yl;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(yl||(yl={}));function SL(i,e){const t=i>=500&&i<600,l=[408,429].indexOf(i)!==-1,h=e.indexOf(i)!==-1;return t||l||h}class AL{constructor(e,t,s,l,h,f,y,b,x,A,C,I=!0,z=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=f,this.callback_=y,this.errorCallback_=b,this.timeout_=x,this.progressCallback_=A,this.connectionFactory_=C,this.retry=I,this.isUsingEmulator=z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Y,G)=>{this.resolve_=Y,this.reject_=G,this.start_()})}start_(){const e=(s,l)=>{if(l){s(!1,new Df(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const f=y=>{const b=y.loaded,x=y.lengthComputable?y.total:-1;this.progressCallback_!==null&&this.progressCallback_(b,x)};this.progressCallback_!==null&&h.addUploadProgressListener(f),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(f),this.pendingConnection_=null;const y=h.getErrorCode()===yl.NO_ERROR,b=h.getStatus();if(!y||SL(b,this.additionalRetryCodes_)&&this.retry){const A=h.getErrorCode()===yl.ABORT;s(!1,new Df(!1,null,A));return}const x=this.successCodes_.indexOf(b)!==-1;s(!0,new Df(x,h))})},t=(s,l)=>{const h=this.resolve_,f=this.reject_,y=l.connection;if(l.wasSuccessCode)try{const b=this.callback_(y,y.getResponse());EL(b)?h(b):h()}catch(b){f(b)}else if(y!==null){const b=G_();b.serverResponse=y.getErrorText(),this.errorCallback_?f(this.errorCallback_(y,b)):f(b)}else if(l.canceled){const b=this.appDelete_?KE():fL();f(b)}else{const b=hL();f(b)}};this.canceled_?t(!1,new Df(!1,null,!0)):this.backoffId_=xL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Df{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function CL(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function RL(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NL(i,e){e&&(i["X-Firebase-GMPID"]=e)}function IL(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function PL(i,e,t,s,l,h,f=!0,y=!1){const b=YE(i.urlParams),x=i.url+b,A=Object.assign({},i.headers);return NL(A,e),CL(A,t),RL(A,h),IL(A,s),new AL(x,i.method,A,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l,f,y)}function OL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DL(...i){const e=OL();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(K_())return new Blob(i);throw new nn(tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function LL(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function ML(i){if(typeof atob>"u")throw yL("base-64");return atob(i)}const ms={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ng{constructor(e,t){this.data=e,this.contentType=t||null}}function kL(i,e){switch(i){case ms.RAW:return new ng(QE(e));case ms.BASE64:case ms.BASE64URL:return new ng(WE(i,e));case ms.DATA_URL:return new ng(VL(e),zL(e))}throw G_()}function QE(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const h=s,f=i.charCodeAt(++t);s=65536|(h&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function jL(i){let e;try{e=decodeURIComponent(i)}catch{throw Qc(ms.DATA_URL,"Malformed data URL.")}return QE(e)}function WE(i,e){switch(i){case ms.BASE64:{const l=e.indexOf("-")!==-1,h=e.indexOf("_")!==-1;if(l||h)throw Qc(i,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case ms.BASE64URL:{const l=e.indexOf("+")!==-1,h=e.indexOf("/")!==-1;if(l||h)throw Qc(i,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=ML(e)}catch(l){throw l.message.includes("polyfill")?l:Qc(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let l=0;l<t.length;l++)s[l]=t.charCodeAt(l);return s}class $E{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Qc(ms.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=UL(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function VL(i){const e=new $E(i);return e.base64?WE(ms.BASE64,e.rest):jL(e.rest)}function zL(i){return new $E(i).contentType}function UL(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class so{constructor(e,t){let s=0,l="";Hx(e)?(this.data_=e,s=e.size,l=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,t){if(Hx(this.data_)){const s=this.data_,l=LL(s,e,t);return l===null?null:new so(l)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new so(s,!0)}}static getBlob(...e){if(K_()){const t=e.map(s=>s instanceof so?s.data_:s);return new so(DL.apply(null,t))}else{const t=e.map(f=>Z_(f)?kL(ms.RAW,f).data:f.data_);let s=0;t.forEach(f=>{s+=f.byteLength});const l=new Uint8Array(s);let h=0;return t.forEach(f=>{for(let y=0;y<f.length;y++)l[h++]=f[y]}),new so(l,!0)}}uploadData(){return this.data_}}function XE(i){let e;try{e=JSON.parse(i)}catch{return null}return TL(e)?e:null}function BL(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function qL(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function JE(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function HL(i,e){return e}class ii{constructor(e,t,s,l){this.server=e,this.local=t||e,this.writable=!!s,this.xform=l||HL}}let Lf=null;function FL(i){return!Z_(i)||i.length<2?i:JE(i)}function eT(){if(Lf)return Lf;const i=[];i.push(new ii("bucket")),i.push(new ii("generation")),i.push(new ii("metageneration")),i.push(new ii("name","fullPath",!0));function e(h,f){return FL(f)}const t=new ii("name");t.xform=e,i.push(t);function s(h,f){return f!==void 0?Number(f):f}const l=new ii("size");return l.xform=s,i.push(l),i.push(new ii("timeCreated")),i.push(new ii("updated")),i.push(new ii("md5Hash",null,!0)),i.push(new ii("cacheControl",null,!0)),i.push(new ii("contentDisposition",null,!0)),i.push(new ii("contentEncoding",null,!0)),i.push(new ii("contentLanguage",null,!0)),i.push(new ii("contentType",null,!0)),i.push(new ii("metadata","customMetadata",!0)),Lf=i,Lf}function GL(i,e){function t(){const s=i.bucket,l=i.fullPath,h=new Zi(s,l);return e._makeStorageReference(h)}Object.defineProperty(i,"ref",{get:t})}function ZL(i,e,t){const s={};s.type="file";const l=t.length;for(let h=0;h<l;h++){const f=t[h];s[f.local]=f.xform(s,e[f.server])}return GL(s,i),s}function tT(i,e,t){const s=XE(e);return s===null?null:ZL(i,s,t)}function KL(i,e,t,s){const l=XE(e);if(l===null||!Z_(l.downloadTokens))return null;const h=l.downloadTokens;if(h.length===0)return null;const f=encodeURIComponent;return h.split(",").map(x=>{const A=i.bucket,C=i.fullPath,I="/b/"+f(A)+"/o/"+f(C),z=Y_(I,t,s),Y=YE({alt:"media",token:x});return z+Y})[0]}function YL(i,e){const t={},s=e.length;for(let l=0;l<s;l++){const h=e[l];h.writable&&(t[h.server]=i[h.local])}return JSON.stringify(t)}class nT{constructor(e,t,s,l){this.url=e,this.method=t,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function iT(i){if(!i)throw G_()}function QL(i,e){function t(s,l){const h=tT(i,l,e);return iT(h!==null),h}return t}function WL(i,e){function t(s,l){const h=tT(i,l,e);return iT(h!==null),KL(h,l,i.host,i._protocol)}return t}function rT(i){function e(t,s){let l;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?l=uL():l=lL():t.getStatus()===402?l=oL(i.bucket):t.getStatus()===403?l=cL(i.path):l=s,l.status=t.getStatus(),l.serverResponse=s.serverResponse,l}return e}function $L(i){const e=rT(i);function t(s,l){let h=e(s,l);return s.getStatus()===404&&(h=aL(i.path)),h.serverResponse=l.serverResponse,h}return t}function XL(i,e,t){const s=e.fullServerUrl(),l=Y_(s,i.host,i._protocol),h="GET",f=i.maxOperationRetryTime,y=new nT(l,h,WL(i,t),f);return y.errorHandler=$L(e),y}function JL(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function eM(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=JL(null,e)),s}function tM(i,e,t,s,l){const h=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function y(){let ue="";for(let we=0;we<2;we++)ue=ue+Math.random().toString().slice(2);return ue}const b=y();f["Content-Type"]="multipart/related; boundary="+b;const x=eM(e,s,l),A=YL(x,t),C="--"+b+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+A+`\r
--`+b+`\r
Content-Type: `+x.contentType+`\r
\r
`,I=`\r
--`+b+"--",z=so.getBlob(C,s,I);if(z===null)throw gL();const Y={name:x.fullPath},G=Y_(h,i.host,i._protocol),Z="POST",se=i.maxUploadRetryTime,oe=new nT(G,Z,QL(i,t),se);return oe.urlParams=Y,oe.headers=f,oe.body=z.uploadData(),oe.errorHandler=rT(e),oe}class nM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,l,h){if(this.sent_)throw Dc("cannot .send() more than once");if(xo(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),h!==void 0)for(const f in h)h.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,h[f].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iM extends nM{initXhr(){this.xhr_.responseType="text"}}function sT(){return new iM}class Al{constructor(e,t){this._service=e,t instanceof Zi?this._location=t:this._location=Zi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Al(e,t)}get root(){const e=new Zi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JE(this._location.path)}get storage(){return this._service}get parent(){const e=BL(this._location.path);if(e===null)return null;const t=new Zi(this._location.bucket,e);return new Al(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw vL(e)}}function rM(i,e,t){i._throwIfRoot("uploadBytes");const s=tM(i.storage,i._location,eT(),new so(e,!0),t);return i.storage.makeRequestWithTokens(s,sT).then(l=>({metadata:l,ref:i}))}function sM(i){i._throwIfRoot("getDownloadURL");const e=XL(i.storage,i._location,eT());return i.storage.makeRequestWithTokens(e,sT).then(t=>{if(t===null)throw _L();return t})}function aM(i,e){const t=qL(i._location.path,e),s=new Zi(i._location.bucket,t);return new Al(i.storage,s)}function oM(i){return/^[A-Za-z]+:\/\//.test(i)}function lM(i,e){return new Al(i,e)}function aT(i,e){if(i instanceof Q_){const t=i;if(t._bucket==null)throw pL();const s=new Al(t,t._bucket);return e!=null?aT(s,e):s}else return e!==void 0?aM(i,e):i}function uM(i,e){if(e&&oM(e)){if(i instanceof Q_)return lM(i,e);throw Dg("To use ref(service, url), the first argument must be a Storage instance.")}else return aT(i,e)}function Gx(i,e){const t=e?.[ZE];return t==null?null:Zi.makeFromBucketSpec(t,i)}function cM(i,e,t,s={}){i.host=`${e}:${t}`;const l=xo(e);l&&(Qg(`https://${i.host}/b`),Wg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=l?"https":"http";const{mockUserToken:h}=s;h&&(i._overrideAuthToken=typeof h=="string"?h:Ew(h,i.app.options.projectId))}class Q_{constructor(e,t,s,l,h,f=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=f,this._bucket=null,this._host=GE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rL,this._maxUploadRetryTime=sL,this._requests=new Set,l!=null?this._bucket=Zi.makeFromBucketSpec(l,this._host):this._bucket=Gx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zi.makeFromBucketSpec(this._url,e):this._bucket=Gx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Al(this,e)}_makeRequest(e,t,s,l,h=!0){if(this._deleted)return new bL(KE());{const f=PL(e,this._appId,s,l,t,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,t){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,l).getPromise()}}const Zx="@firebase/storage",Kx="0.14.0";const oT="storage";function hM(i,e,t){return i=Zt(i),rM(i,e,t)}function fM(i){return i=Zt(i),sM(i)}function dM(i,e){return i=Zt(i),uM(i,e)}function mM(i=Jg(),e){i=Zt(i);const s=Td(i,oT).getImmediate({identifier:e}),l=bw("storage");return l&&pM(s,...l),s}function pM(i,e,t,s={}){cM(i,e,t,s)}function gM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new Q_(t,s,l,e,Cl)}function _M(){bl(new mo(oT,gM,"PUBLIC").setMultipleInstances(!0)),gs(Zx,Kx,""),gs(Zx,Kx,"esm2020")}_M();const yM={apiKey:"AIzaSyDhATfuTR03Z0MDHK6LdVtePzvnOlw2RYs",authDomain:"inmobiliaria-89dca.firebaseapp.com",projectId:"inmobiliaria-89dca",storageBucket:"inmobiliaria-89dca.firebasestorage.app",messagingSenderId:"264339137867",appId:"1:264339137867:web:721f347d175208451c34ce",measurementId:"G-71P9DV29GB"},W_=Aw(yM),hl=II(W_),Ot=UD(W_),vM=mM(W_),bM=new Js,xM=new Hc("apple.com");let wM={data:""},EM=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||wM},TM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SM=/\/\*[^]*?\*\/|  +/g,Yx=/\n+/g,ao=(i,e)=>{let t="",s="",l="";for(let h in i){let f=i[h];h[0]=="@"?h[1]=="i"?t=h+" "+f+";":s+=h[1]=="f"?ao(f,h):h+"{"+ao(f,h[1]=="k"?"":e)+"}":typeof f=="object"?s+=ao(f,e?e.replace(/([^,])+/g,y=>h.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,y):y?y+" "+b:b)):h):f!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=ao.p?ao.p(h,f):h+":"+f+";")}return t+(e&&l?e+"{"+l+"}":l)+s},Xs={},lT=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+lT(i[t]);return e}return i},AM=(i,e,t,s,l)=>{let h=lT(i),f=Xs[h]||(Xs[h]=(b=>{let x=0,A=11;for(;x<b.length;)A=101*A+b.charCodeAt(x++)>>>0;return"go"+A})(h));if(!Xs[f]){let b=h!==i?i:(x=>{let A,C,I=[{}];for(;A=TM.exec(x.replace(SM,""));)A[4]?I.shift():A[3]?(C=A[3].replace(Yx," ").trim(),I.unshift(I[0][C]=I[0][C]||{})):I[0][A[1]]=A[2].replace(Yx," ").trim();return I[0]})(i);Xs[f]=ao(l?{["@keyframes "+f]:b}:b,t?"":"."+f)}let y=t&&Xs.g?Xs.g:null;return t&&(Xs.g=Xs[f]),((b,x,A,C)=>{C?x.data=x.data.replace(C,b):x.data.indexOf(b)===-1&&(x.data=A?b+x.data:x.data+b)})(Xs[f],e,s,y),f},CM=(i,e,t)=>i.reduce((s,l,h)=>{let f=e[h];if(f&&f.call){let y=f(t),b=y&&y.props&&y.props.className||/^go/.test(y)&&y;f=b?"."+b:y&&typeof y=="object"?y.props?"":ao(y,""):y===!1?"":y}return s+l+(f??"")},"");function Zd(i){let e=this||{},t=i.call?i(e.p):i;return AM(t.unshift?t.raw?CM(t,[].slice.call(arguments,1),e.p):t.reduce((s,l)=>Object.assign(s,l&&l.call?l(e.p):l),{}):t,EM(e.target),e.g,e.o,e.k)}let uT,Lg,Mg;Zd.bind({g:1});let ca=Zd.bind({k:1});function RM(i,e,t,s){ao.p=e,uT=i,Lg=t,Mg=s}function So(i,e){let t=this||{};return function(){let s=arguments;function l(h,f){let y=Object.assign({},h),b=y.className||l.className;t.p=Object.assign({theme:Lg&&Lg()},y),t.o=/ *go\d+/.test(b),y.className=Zd.apply(t,s)+(b?" "+b:"");let x=i;return i[0]&&(x=y.as||i,delete y.as),Mg&&x[0]&&Mg(y),uT(x,y)}return l}}var NM=i=>typeof i=="function",yd=(i,e)=>NM(i)?i(e):i,IM=(()=>{let i=0;return()=>(++i).toString()})(),cT=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),PM=20,$_="default",hT=(i,e)=>{let{toastLimit:t}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,t)};case 1:return{...i,toasts:i.toasts.map(f=>f.id===e.toast.id?{...f,...e.toast}:f)};case 2:let{toast:s}=e;return hT(i,{type:i.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:l}=e;return{...i,toasts:i.toasts.map(f=>f.id===l||l===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(f=>f.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let h=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+h}))}}},Qf=[],fT={toasts:[],pausedAt:void 0,settings:{toastLimit:PM}},ps={},dT=(i,e=$_)=>{ps[e]=hT(ps[e]||fT,i),Qf.forEach(([t,s])=>{t===e&&s(ps[e])})},mT=i=>Object.keys(ps).forEach(e=>dT(i,e)),OM=i=>Object.keys(ps).find(e=>ps[e].toasts.some(t=>t.id===i)),Kd=(i=$_)=>e=>{dT(e,i)},DM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},LM=(i={},e=$_)=>{let[t,s]=U.useState(ps[e]||fT),l=U.useRef(ps[e]);U.useEffect(()=>(l.current!==ps[e]&&s(ps[e]),Qf.push([e,s]),()=>{let f=Qf.findIndex(([y])=>y===e);f>-1&&Qf.splice(f,1)}),[e]);let h=t.toasts.map(f=>{var y,b,x;return{...i,...i[f.type],...f,removeDelay:f.removeDelay||((y=i[f.type])==null?void 0:y.removeDelay)||i?.removeDelay,duration:f.duration||((b=i[f.type])==null?void 0:b.duration)||i?.duration||DM[f.type],style:{...i.style,...(x=i[f.type])==null?void 0:x.style,...f.style}}});return{...t,toasts:h}},MM=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:t?.id||IM()}),vh=i=>(e,t)=>{let s=MM(e,i,t);return Kd(s.toasterId||OM(s.id))({type:2,toast:s}),s.id},xn=(i,e)=>vh("blank")(i,e);xn.error=vh("error");xn.success=vh("success");xn.loading=vh("loading");xn.custom=vh("custom");xn.dismiss=(i,e)=>{let t={type:3,toastId:i};e?Kd(e)(t):mT(t)};xn.dismissAll=i=>xn.dismiss(void 0,i);xn.remove=(i,e)=>{let t={type:4,toastId:i};e?Kd(e)(t):mT(t)};xn.removeAll=i=>xn.remove(void 0,i);xn.promise=(i,e,t)=>{let s=xn.loading(e.loading,{...t,...t?.loading});return typeof i=="function"&&(i=i()),i.then(l=>{let h=e.success?yd(e.success,l):void 0;return h?xn.success(h,{id:s,...t,...t?.success}):xn.dismiss(s),l}).catch(l=>{let h=e.error?yd(e.error,l):void 0;h?xn.error(h,{id:s,...t,...t?.error}):xn.dismiss(s)}),i};var kM=1e3,jM=(i,e="default")=>{let{toasts:t,pausedAt:s}=LM(i,e),l=U.useRef(new Map).current,h=U.useCallback((C,I=kM)=>{if(l.has(C))return;let z=setTimeout(()=>{l.delete(C),f({type:4,toastId:C})},I);l.set(C,z)},[]);U.useEffect(()=>{if(s)return;let C=Date.now(),I=t.map(z=>{if(z.duration===1/0)return;let Y=(z.duration||0)+z.pauseDuration-(C-z.createdAt);if(Y<0){z.visible&&xn.dismiss(z.id);return}return setTimeout(()=>xn.dismiss(z.id,e),Y)});return()=>{I.forEach(z=>z&&clearTimeout(z))}},[t,s,e]);let f=U.useCallback(Kd(e),[e]),y=U.useCallback(()=>{f({type:5,time:Date.now()})},[f]),b=U.useCallback((C,I)=>{f({type:1,toast:{id:C,height:I}})},[f]),x=U.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),A=U.useCallback((C,I)=>{let{reverseOrder:z=!1,gutter:Y=8,defaultPosition:G}=I||{},Z=t.filter(ue=>(ue.position||G)===(C.position||G)&&ue.height),se=Z.findIndex(ue=>ue.id===C.id),oe=Z.filter((ue,we)=>we<se&&ue.visible).length;return Z.filter(ue=>ue.visible).slice(...z?[oe+1]:[0,oe]).reduce((ue,we)=>ue+(we.height||0)+Y,0)},[t]);return U.useEffect(()=>{t.forEach(C=>{if(C.dismissed)h(C.id,C.removeDelay);else{let I=l.get(C.id);I&&(clearTimeout(I),l.delete(C.id))}})},[t,h]),{toasts:t,handlers:{updateHeight:b,startPause:y,endPause:x,calculateOffset:A}}},VM=ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zM=ca`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UM=ca`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,BM=So("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${UM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qM=ca`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HM=So("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${qM} 1s linear infinite;
`,FM=ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GM=ca`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ZM=So("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,KM=So("div")`
  position: absolute;
`,YM=So("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,QM=ca`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WM=So("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${QM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$M=({toast:i})=>{let{icon:e,type:t,iconTheme:s}=i;return e!==void 0?typeof e=="string"?U.createElement(WM,null,e):e:t==="blank"?null:U.createElement(YM,null,U.createElement(HM,{...s}),t!=="loading"&&U.createElement(KM,null,t==="error"?U.createElement(BM,{...s}):U.createElement(ZM,{...s})))},XM=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,JM=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,e4="0%{opacity:0;} 100%{opacity:1;}",t4="0%{opacity:1;} 100%{opacity:0;}",n4=So("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,i4=So("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,r4=(i,e)=>{let t=i.includes("top")?1:-1,[s,l]=cT()?[e4,t4]:[XM(t),JM(t)];return{animation:e?`${ca(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ca(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},s4=U.memo(({toast:i,position:e,style:t,children:s})=>{let l=i.height?r4(i.position||e||"top-center",i.visible):{opacity:0},h=U.createElement($M,{toast:i}),f=U.createElement(i4,{...i.ariaProps},yd(i.message,i));return U.createElement(n4,{className:i.className,style:{...l,...t,...i.style}},typeof s=="function"?s({icon:h,message:f}):U.createElement(U.Fragment,null,h,f))});RM(U.createElement);var a4=({id:i,className:e,style:t,onHeightUpdate:s,children:l})=>{let h=U.useCallback(f=>{if(f){let y=()=>{let b=f.getBoundingClientRect().height;s(i,b)};y(),new MutationObserver(y).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return U.createElement("div",{ref:h,className:e,style:t},l)},o4=(i,e)=>{let t=i.includes("top"),s=t?{top:0}:{bottom:0},l=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...l}},l4=Zd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Mf=16,u4=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:s,children:l,toasterId:h,containerStyle:f,containerClassName:y})=>{let{toasts:b,handlers:x}=jM(t,h);return U.createElement("div",{"data-rht-toaster":h||"",style:{position:"fixed",zIndex:9999,top:Mf,left:Mf,right:Mf,bottom:Mf,pointerEvents:"none",...f},className:y,onMouseEnter:x.startPause,onMouseLeave:x.endPause},b.map(A=>{let C=A.position||e,I=x.calculateOffset(A,{reverseOrder:i,gutter:s,defaultPosition:e}),z=o4(C,I);return U.createElement(a4,{id:A.id,key:A.id,onHeightUpdate:x.updateHeight,className:A.visible?l4:"",style:z},A.type==="custom"?yd(A.message,A):l?l(A):U.createElement(s4,{toast:A,position:C}))}))},ot=xn;const pT=U.createContext();function Ao(){return U.useContext(pT)}function c4({children:i}){const[e,t]=U.useState(null),[s,l]=U.useState(null),[h,f]=U.useState(!0),y=async(G,Z,se="cliente",oe="",ue="")=>{try{const we=await dN(hl,G,Z);return await gN(we.user,{displayName:oe}),await eg(ri(Ot,"users",we.user.uid),{email:G,role:se,displayName:oe,phoneNumber:ue,createdAt:new Date}),we}catch(we){throw console.error("Signup error",we),z(we)}},b=(G,Z)=>mN(hl,G,Z).catch(se=>{throw z(se)}),x=async(G="cliente")=>{try{const Z=await Lb(hl,bM);return(await Yc(ri(Ot,"users",Z.user.uid))).exists()||await eg(ri(Ot,"users",Z.user.uid),{email:Z.user.email,displayName:Z.user.displayName,phoneNumber:Z.user.phoneNumber||"",role:G,createdAt:new Date}),Z}catch(Z){throw z(Z)}},A=async(G="cliente")=>{try{const Z=await Lb(hl,xM);return(await Yc(ri(Ot,"users",Z.user.uid))).exists()||await eg(ri(Ot,"users",Z.user.uid),{email:Z.user.email,displayName:Z.user.displayName,phoneNumber:Z.user.phoneNumber||"",role:G,createdAt:new Date}),Z}catch(Z){throw z(Z)}},C=()=>bN(hl),I=G=>fN(hl,G).catch(Z=>{throw z(Z)}),z=G=>{let Z="Ocurri un error inesperado. Por favor intenta de nuevo.";return G.code==="auth/email-already-in-use"&&(Z="Este correo ya est registrado."),G.code==="auth/invalid-email"&&(Z="El correo no es vlido."),G.code==="auth/user-not-found"&&(Z="No encontramos una cuenta con este correo."),G.code==="auth/wrong-password"&&(Z="La contrasea es incorrecta."),G.code==="auth/weak-password"&&(Z="La contrasea debe tener al menos 6 caracteres."),new Error(Z)};U.useEffect(()=>vN(hl,async Z=>{if(t(Z),Z){const se=await Yc(ri(Ot,"users",Z.uid));se.exists()&&l(se.data())}else l(null);f(!1)}),[]);const Y={user:e,userData:s,signup:y,login:b,loginWithGoogle:x,loginWithApple:A,logout:C,resetPassword:I};return _.jsxs(pT.Provider,{value:Y,children:[!h&&i,_.jsx(u4,{position:"top-center"})]})}const ig=({children:i,allowedRoles:e})=>{const{user:t,userData:s,loading:l}=Ao();return l?_.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):t?e&&s&&!e.includes(s.role)?s.role==="agente"?_.jsx(Up,{to:"/agent-dashboard"}):_.jsx(Up,{to:"/client-dashboard"}):i:_.jsx(Up,{to:"/login"})};const gT=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const h4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const f4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const Qx=i=>{const e=f4(i);return e.charAt(0).toUpperCase()+e.slice(1)};var d4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const m4=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const p4=U.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:l="",children:h,iconNode:f,...y},b)=>U.createElement("svg",{ref:b,...d4,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:gT("lucide",l),...!h&&!m4(y)&&{"aria-hidden":"true"},...y},[...f.map(([x,A])=>U.createElement(x,A)),...Array.isArray(h)?h:[h]]));const ut=(i,e)=>{const t=U.forwardRef(({className:s,...l},h)=>U.createElement(p4,{ref:h,iconNode:e,className:gT(`lucide-${h4(Qx(i))}`,`lucide-${i}`,s),...l}));return t.displayName=Qx(i),t};const g4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_4=ut("arrow-right",g4);const y4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],v4=ut("briefcase",y4);const b4=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],x4=ut("building",b4);const w4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],E4=ut("calendar",w4);const T4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],S4=ut("circle-user",T4);const A4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],C4=ut("copy",A4);const R4=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],N4=ut("door-open",R4);const I4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kg=ut("eye",I4);const P4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],O4=ut("facebook",P4);const D4=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],L4=ut("heart-handshake",D4);const M4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],vd=ut("heart",M4);const k4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_T=ut("house",k4);const j4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],V4=ut("instagram",j4);const z4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],jg=ut("key",z4);const U4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],B4=ut("linkedin",U4);const q4=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],H4=ut("list-filter",q4);const F4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vg=ut("loader-circle",F4);const G4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z4=ut("lock",G4);const K4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Y4=ut("mail",K4);const Q4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Du=ut("map-pin",Q4);const W4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],$4=ut("message-circle",W4);const X4=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],J4=ut("mountain",X4);const ek=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tk=ut("phone",ek);const nk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rg=ut("refresh-cw",nk);const ik=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yd=ut("search",ik);const rk=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],sk=ut("share",rk);const ak=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yT=ut("shield-check",ak);const ok=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zg=ut("star",ok);const lk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],uk=ut("target",lk);const ck=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hk=ut("trash-2",ck);const fk=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],dk=ut("tree-palm",fk);const mk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pk=ut("upload",mk);const gk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vT=ut("users",gk);const _k=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],yk=ut("warehouse",_k);const vk=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],bk=ut("waves",vk);const xk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ug=ut("x",xk),wk=({property:i})=>{const e=typeof i.price=="number"?`$${i.price.toLocaleString()}`:i.price;return _.jsxs(gn,{to:`/properties/${i.id}`,className:"group block",children:[_.jsxs("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[_.jsx("img",{src:i.images?.[0]||"https://via.placeholder.com/400x300?text=No+Image",alt:i.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),_.jsx("button",{className:"absolute top-3 right-3 text-white/70 hover:scale-110 transition",children:_.jsx(vd,{className:"w-6 h-6 fill-black/50 text-white stroke-[2px]"})})]}),_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("h3",{className:"font-bold text-gray-900 truncate pr-4",children:i.location||i.address}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(zg,{className:"w-3 h-3 fill-black text-black"}),_.jsx("span",{className:"text-sm font-light",children:"New"})]})]}),_.jsxs("p",{className:"text-gray-500 text-sm",children:["Agente: ",i.agentName||"Inmuvete"]}),_.jsx("p",{className:"text-gray-500 text-sm mb-1 line-clamp-1",children:i.title}),_.jsxs("div",{className:"flex items-baseline gap-1 mt-1",children:[_.jsx("span",{className:"font-semibold text-gray-900",children:e}),i.type==="alquiler"&&_.jsx("span",{className:"text-gray-900 font-light",children:" / mes"})]})]})},Ek=[{icon:x4,label:"Departamentos"},{icon:yk,label:"Casas"},{icon:dk,label:"Terrenos"},{icon:J4,label:"Campestres"},{icon:bk,label:"Playa"}],Tk=()=>{const[i,e]=U.useState("venta"),[t,s]=U.useState(""),[l,h]=U.useState("departamento"),[f,y]=U.useState("USD"),[b,x]=U.useState(""),[A,C]=U.useState(""),[I,z]=U.useState(!1),Y=["Lima","Arequipa","Cusco","Trujillo","Piura","Ica","Tacna"],[G,Z]=U.useState([]),[se,oe]=U.useState(!1),ue=D=>{const H=D.target.value;if(s(H),H.length>0){const O=Y.filter(F=>F.toLowerCase().includes(H.toLowerCase()));Z(O),oe(!0)}else oe(!1)},we=D=>{s(D),oe(!1)},[ge,Ie]=U.useState([]),[j,M]=U.useState(!0);return U.useEffect(()=>{(async()=>{try{const H=fo(Fi(Ot,"properties"),pl("status","==","disponible")),F=(await _l(H)).docs.map(k=>({id:k.id,...k.data()}));Ie(F)}catch(H){console.error("Error fetching properties:",H)}finally{M(!1)}})()},[]),_.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[_.jsxs("div",{className:"relative h-[85vh] min-h-[700px] flex items-center pt-20",children:[_.jsxs("div",{className:"absolute inset-0 z-0",children:[_.jsx("img",{src:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=2070&auto=format&fit=crop",alt:"Hero",className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/20"})]}),_.jsxs("div",{className:"relative z-10 container mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-12 items-center",children:[_.jsxs("div",{className:"lg:col-span-5 bg-white rounded-3xl shadow-2xl overflow-hidden animate-fadeIn",children:[_.jsxs("div",{className:"p-8 pb-4 bg-[#262626] text-white",children:[_.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Encuentra tu prximo hogar"}),_.jsx("p",{className:"text-gray-300 text-sm",children:"Explora propiedades nicas para vivir o invertir."})]}),_.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[_.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["venta","alquiler","anticresis"].map(D=>_.jsx("button",{onClick:()=>e(D),className:`flex-1 py-2 text-sm font-bold capitalize rounded-lg transition-all ${i===D?"bg-white text-[#fc7f51] shadow-sm transform scale-105":"text-gray-500 hover:text-gray-700"}`,children:D},D))}),_.jsxs("div",{className:"relative",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"En dnde buscas?"}),_.jsxs("div",{className:"relative",children:[_.jsx(Du,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),_.jsx("input",{type:"text",value:t,onChange:ue,onFocus:()=>t&&oe(!0),placeholder:"Ciudad, distrito o zona...",className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition font-medium"}),se&&G.length>0&&_.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:G.map(D=>_.jsxs("div",{onClick:()=>we(D),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer flex items-center gap-2 text-gray-700 font-medium",children:[_.jsx(Du,{className:"w-4 h-4 text-[#fc7f51]"}),D]},D))})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tipo de Inmueble"}),_.jsxs("div",{className:"relative",children:[_.jsx(_T,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),_.jsxs("select",{value:l,onChange:D=>h(D.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none appearance-none font-medium cursor-pointer",children:[_.jsx("option",{value:"departamento",children:"Departamento"}),_.jsx("option",{value:"casa",children:"Casa"}),_.jsx("option",{value:"terreno",children:"Terreno"}),_.jsx("option",{value:"oficina",children:"Oficina"}),_.jsx("option",{value:"local",children:"Local Comercial"}),_.jsx("option",{value:"otro",children:"Otro"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Moneda"}),_.jsx("div",{className:"relative",children:_.jsxs("div",{className:"flex bg-gray-50 rounded-xl border border-gray-200 p-1 h-[58px] items-center",children:[_.jsx("button",{onClick:()=>y("USD"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${f==="USD"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"$ USD"}),_.jsx("button",{onClick:()=>y("PEN"),className:`flex-1 h-full rounded-lg text-sm font-bold transition flex items-center justify-center gap-1 ${f==="PEN"?"bg-[#fc7f51] text-white shadow-sm":"text-gray-500"}`,children:"S/ PEN"})]})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Rango de Precio"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("input",{type:"number",placeholder:"Mnimo",value:b,onChange:D=>x(D.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"}),_.jsx("input",{type:"number",placeholder:"Mximo",value:A,onChange:D=>C(D.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none transition"})]})]}),_.jsxs("button",{onClick:()=>z(!I),className:"flex items-center gap-2 text-[#fc7f51] font-bold text-sm hover:underline",children:[_.jsx(H4,{className:"w-4 h-4"}),I?"Menos filtros":"Ms filtros (Habitaciones, Baos, rea...)"]}),I&&_.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fadeIn",children:[_.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Habitaciones"}),_.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[_.jsx("option",{value:"",children:"Cualquiera"}),_.jsx("option",{value:"1",children:"1+"}),_.jsx("option",{value:"2",children:"2+"}),_.jsx("option",{value:"3",children:"3+"}),_.jsx("option",{value:"4",children:"4+"})]})]}),_.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Baos"}),_.jsxs("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none",children:[_.jsx("option",{value:"",children:"Cualquiera"}),_.jsx("option",{value:"1",children:"1+"}),_.jsx("option",{value:"2",children:"2+"}),_.jsx("option",{value:"3",children:"3+"})]})]}),_.jsxs("div",{className:"col-span-2",children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"rea Mnima (m)"}),_.jsx("input",{type:"number",placeholder:"Ej: 80",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-[#fc7f51] outline-none"})]})]}),_.jsxs("button",{className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-orange-500/30 transition flex items-center justify-center gap-2",children:[_.jsx(Yd,{className:"w-6 h-6"}),"BUSCAR PROPIEDADES"]})]})]}),_.jsx("div",{className:"hidden lg:block lg:col-span-7",children:_.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[_.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-[#fc7f51] transform hover:-translate-x-2 transition cursor-pointer",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:_.jsx(v4,{className:"w-6 h-6 text-[#fc7f51]"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Eres Propietario?"}),_.jsx("p",{className:"text-gray-600 text-sm",children:"Publica tu propiedad con nosotros y vndela ms rpido."})]})]}),_.jsx(gn,{to:"/contact",className:"mt-4 block text-center bg-[#262626] text-white py-2 rounded-lg font-bold text-sm hover:bg-black transition",children:"Contactar a un Agente"})]}),_.jsx("div",{className:"bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl max-w-sm border-l-4 border-blue-500 transform hover:-translate-x-2 transition cursor-pointer delay-100",children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:_.jsx(jg,{className:"w-6 h-6 text-blue-500"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Buscas Invertir?"}),_.jsx("p",{className:"text-gray-600 text-sm",children:"Asesora experta para multiplicar tu capital."})]})]})})]})})]})]}),_.jsx("div",{className:"bg-gray-50 py-10 border-b border-gray-200",children:_.jsx("div",{className:"container mx-auto px-6",children:_.jsx("div",{className:"flex gap-4 md:gap-12 overflow-x-auto no-scrollbar items-center justify-start md:justify-center py-2",children:Ek.map((D,H)=>_.jsxs("div",{className:"flex flex-col items-center gap-3 min-w-[100px] cursor-pointer group opacity-60 hover:opacity-100 transition-all duration-300 hover:-translate-y-1",children:[_.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm group-hover:shadow-md border border-gray-100 group-hover:border-[#fc7f51]/30 transition",children:_.jsx(D.icon,{className:"w-7 h-7 text-[#262626] group-hover:text-[#fc7f51] transition",strokeWidth:1.5})}),_.jsx("span",{className:"text-sm font-semibold text-[#262626] group-hover:text-[#fc7f51] whitespace-nowrap transition",children:D.label})]},H))})})}),_.jsxs("main",{id:"properties",className:"container mx-auto px-6 py-20",children:[_.jsxs("div",{className:"flex justify-between items-end mb-12",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-[#fc7f51] font-bold text-sm tracking-widest uppercase mb-2 block",children:"Oportunidades"}),_.jsx("h2",{className:"text-3xl font-bold text-[#262626]",children:"Propiedades Destacadas"})]}),_.jsxs(gn,{to:"/properties",className:"hidden md:flex items-center gap-2 text-[#262626] font-semibold hover:text-[#fc7f51] transition group",children:["Ver todo ",_.jsx(_4,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:j?_.jsxs("div",{className:"col-span-full py-20 text-center",children:[_.jsx("div",{className:"inline-block w-8 h-8 border-4 border-[#fc7f51] border-t-transparent rounded-full animate-spin"}),_.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando propiedades..."})]}):ge.length===0?_.jsx("div",{className:"col-span-full py-20 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:_.jsx("p",{className:"text-gray-500 text-lg",children:"No hay propiedades disponibles en este momento."})}):ge.map(D=>_.jsx(wk,{property:D},D.id))}),_.jsx("div",{className:"mt-12 text-center md:hidden",children:_.jsx("button",{className:"bg-white border border-gray-300 text-[#262626] px-8 py-3 rounded-full font-bold shadow-sm hover:bg-gray-50 transition",children:"Ver todas las propiedades"})})]}),_.jsxs("section",{className:"py-24 bg-[#16151a] text-white relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#fc7f51] rounded-full opacity-10 blur-[100px] translate-x-1/3 -translate-y-1/3"}),_.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[_.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-6 text-white",children:"Listo para dar el siguiente paso?"}),_.jsx("p",{className:"text-gray-400 text-lg mb-10 max-w-2xl mx-auto",children:"Ya sea que busques comprar, vender o invertir, en Inmuvete tenemos el equipo y la experiencia para hacerlo posible."}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[_.jsx(gn,{to:"/contact",className:"bg-[#fc7f51] text-white px-8 py-4 rounded-xl font-bold hover:bg-[#e56b3e] transition shadow-lg hover:shadow-orange-500/20",children:"Contctanos Ahora"}),_.jsx(gn,{to:"/about",className:"bg-transparent border border-gray-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-[#262626] hover:border-white transition",children:"Conoce Ms"})]})]})]})]})},Sk=[{id:1,title:"Modern Luxury Apartment",description:"Experience urban living at its finest in this stunning modern apartment. Featuring floor-to-ceiling windows, a state-of-the-art kitchen, and breathtaking city views. Steps away from the best dining and entertainment.",price:"$1,200,000",sqft:1500,rooms:3,bathrooms:2,location:"Downtown City Center",address:"123 Skyline Ave, Metro City",video:"",images:["/images/modern_ext.png","/images/modern_int.png"],coordinates:{lat:40.7128,lng:-74.006}},{id:2,title:"Exquisite Seaside Villa",description:"A masterpiece of design, this luxury villa offers unparalleled privacy and comfort. Enjoy the infinity pool, lush tropical gardens, and direct beach access. Perfect for entertaining or a peaceful retreat.",price:"$3,500,000",sqft:4500,rooms:5,bathrooms:4.5,location:"Coastal Paradise",address:"45 Ocean Drive, Sunny Beach",video:"",images:["/images/villa_ext.png","/images/villa_int.png"],coordinates:{lat:25.7617,lng:-80.1918}},{id:3,title:"Charming Family Home",description:"Nestled in a quiet suburban neighborhood, this cozy family home features a warm and inviting atmosphere. With a spacious backyard, modern amenities, and close proximity to schools and parks, it's the perfect place to raise a family.",price:"$650,000",sqft:2200,rooms:4,bathrooms:3,location:"Suburban Haven",address:"789 Maple Lane, Green Valley",video:"",images:["/images/house_ext.png","/images/house_int.png"],coordinates:{lat:34.0522,lng:-118.2437}}],bT="/inmobiliaria/assets/logo-9PyExb9b.png",X_=()=>{const{user:i,userData:e,logout:t}=Ao();return _.jsx("nav",{className:"fixed w-full z-50 bg-[#16151a] border-b border-gray-800 shadow-lg",children:_.jsxs("div",{className:"container mx-auto px-6 h-24 flex justify-between items-center",children:[_.jsx(gn,{to:"/",className:"flex items-center gap-3 group",children:_.jsx("img",{src:bT,alt:"Inmuvete",className:"h-12 w-auto object-contain"})}),_.jsxs("div",{className:"hidden lg:flex items-center bg-white rounded-full py-2 pl-6 pr-2 shadow-xl hover:shadow-orange-500/5 transition cursor-pointer gap-4 min-w-[420px]",children:[_.jsx("input",{type:"text",placeholder:"Buscar por zona, ciudad o tipo...",className:"bg-transparent border-none outline-none text-[#262626] placeholder-gray-400 flex-1 font-medium text-sm"}),_.jsx("div",{className:"bg-[#fc7f51] p-2.5 rounded-full text-white hover:bg-[#e56b3e] transition shadow-md",children:_.jsx(Yd,{className:"w-5 h-5",strokeWidth:2.5})})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[_.jsx(gn,{to:"/",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Propiedades"}),_.jsx(gn,{to:"/about",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Nosotros"}),_.jsx(gn,{to:"/contact",className:"text-sm font-bold text-gray-200 hover:text-[#fc7f51] transition uppercase tracking-wide",children:"Contacto"})]}),i?_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs(gn,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",className:"text-white hover:text-[#fc7f51] transition font-medium mr-2",children:["Hola, ",i.displayName?i.displayName.split(" ")[0]:"Usuario"]}),_.jsx("button",{onClick:t,className:"bg-[#262626] border border-gray-600 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition",children:"Salir"}),_.jsx(gn,{to:e?.role==="agente"?"/agent-dashboard":"/client-dashboard",children:_.jsx("div",{className:"bg-gray-600 rounded-full p-0.5 cursor-pointer",children:_.jsx(S4,{className:"w-8 h-8 text-white fill-gray-600"})})})]}):_.jsx(gn,{to:"/login",className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-2 rounded-full font-bold transition shadow-lg shadow-orange-500/20",children:"Ingresar"})]})]})})},J_=()=>_.jsxs("footer",{className:"bg-[#16151a] text-white py-16",children:[_.jsxs("div",{className:"container mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12",children:[_.jsxs("div",{children:[_.jsx("img",{src:bT,alt:"Inmuvete",className:"h-12 mb-6"}),_.jsx("p",{className:"text-[#878787] text-sm leading-relaxed mb-6",children:"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles."}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"in"}),_.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"ig"}),_.jsx("div",{className:"w-8 h-8 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] font-bold",children:"fb"})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Nuestros Valores"}),_.jsxs("ul",{className:"space-y-4 text-sm text-[#878787]",children:[_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Integridad"]}),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Compromiso"]}),_.jsxs("li",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-[#fc7f51] rounded-full"})," Confianza"]})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold mb-6 text-white text-lg",children:"Contacto"}),_.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"Oficina Central, Ciudad"}),_.jsx("p",{className:"text-[#878787] text-sm mb-3",children:"contacto@inmuevete.com"}),_.jsx("p",{className:"text-[#878787] text-sm",children:"+51 123 456 789"})]})]}),_.jsx("div",{className:"border-t border-[#262626] mt-12 pt-8 text-center text-[#878787] text-xs",children:" 2024 Inmuvete. Todos los derechos reservados."})]}),Ak=()=>{const{id:i}=LS(),e=i.toString().split("-")[0],t=Sk.find(s=>s.id===parseInt(e));return t?_.jsxs("div",{className:"min-h-screen bg-white",children:[_.jsx(X_,{}),_.jsxs("main",{className:"container mx-auto px-6 pt-24 pb-12",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:t.title}),_.jsxs("div",{className:"flex justify-between items-center text-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium underline",children:[_.jsx(zg,{className:"w-4 h-4 fill-black"}),_.jsx("span",{children:"5.0  "}),_.jsx("span",{className:"font-semibold underline",children:"7 reviews"}),_.jsx("span",{children:""}),_.jsx("span",{className:"text-gray-500 no-underline",children:t.location})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg underline font-semibold text-sm",children:[_.jsx(sk,{className:"w-4 h-4"})," Share"]}),_.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-100 px-3 py-1.5 rounded-lg underline font-semibold text-sm",children:[_.jsx(vd,{className:"w-4 h-4"})," Save"]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 grid-rows-2 gap-2 h-[400px] md:h-[500px] rounded-2xl overflow-hidden mb-12 relative",children:[_.jsxs("div",{className:"md:col-span-2 md:row-span-2 relative group cursor-pointer",children:[_.jsx("img",{src:t.images[0],alt:"Main",className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"})]}),_.jsxs("div",{className:"hidden md:block relative group cursor-pointer",children:[_.jsx("img",{src:t.images[1]||t.images[0],alt:"Sub 1",className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"})]}),_.jsxs("div",{className:"hidden md:block relative group cursor-pointer",children:[_.jsx("img",{src:t.images[0],alt:"Sub 2",className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"})]}),_.jsxs("div",{className:"hidden md:block relative group cursor-pointer",children:[_.jsx("img",{src:t.images[1]||t.images[0],alt:"Sub 3",className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"})]}),_.jsxs("div",{className:"hidden md:block relative group cursor-pointer",children:[_.jsx("img",{src:t.images[0],alt:"Sub 4",className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition"}),_.jsx("button",{className:"absolute bottom-4 right-4 bg-white border border-gray-800 px-4 py-1.5 rounded-lg text-sm font-semibold shadow-sm hover:bg-gray-100",children:"Show all photos"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[_.jsxs("div",{className:"lg:col-span-2",children:[_.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8",children:[_.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Entire home hosted by Agent Smith"}),_.jsxs("p",{className:"text-gray-600 mb-0",children:[t.rooms," guests  ",t.rooms," bedrooms  ",t.rooms*2," beds  ",t.bathrooms," baths"]})]}),_.jsxs("div",{className:"border-b border-gray-200 pb-8 mb-8 space-y-6",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsx(N4,{className:"w-8 h-8 text-gray-800"}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-800",children:"Self check-in"}),_.jsx("p",{className:"text-gray-500 text-sm",children:"Check yourself in with the keynote."})]})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx(yT,{className:"w-8 h-8 text-gray-800"}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-800",children:"Agent Smith is a Superhost"}),_.jsx("p",{className:"text-gray-500 text-sm",children:"Superhosts are experienced, highly rated hosts."})]})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx(E4,{className:"w-8 h-8 text-gray-800"}),_.jsx("div",{children:_.jsx("h3",{className:"font-bold text-gray-800",children:"Free cancellation for 48 hours."})})]})]}),_.jsx("div",{className:"border-b border-gray-200 pb-8 mb-8",children:_.jsxs("p",{className:"text-gray-800 leading-relaxed text-base whitespace-pre-line",children:[t.description,_.jsx("br",{}),_.jsx("br",{}),"Enjoy a stylish experience at this centrally-located place. The space is designed with modern aesthetics and maximum comfort in mind."]})}),_.jsxs("div",{className:"pt-4",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Where you'll be"}),_.jsx("div",{className:"h-96 w-full rounded-xl overflow-hidden bg-gray-100",children:_.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${t.coordinates.lat},${t.coordinates.lng}&hl=en&z=14&output=embed`,allowFullScreen:!0})})]})]}),_.jsx("div",{className:"lg:col-span-1",children:_.jsxs("div",{className:"sticky top-32 bg-white rounded-xl shadow-card border border-gray-200 p-6",children:[_.jsxs("div",{className:"flex justify-between items-end mb-6",children:[_.jsx("div",{children:_.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t.price})}),_.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold",children:[_.jsx(zg,{className:"w-3 h-3 fill-black"}),_.jsx("span",{children:"5.0"}),_.jsx("span",{className:"text-gray-400 font-light",children:"  "}),_.jsx("span",{className:"text-gray-500 underline font-light",children:"7 reviews"})]})]}),_.jsxs("div",{className:"border border-gray-400 rounded-lg overflow-hidden mb-4",children:[_.jsxs("div",{className:"grid grid-cols-2 border-b border-gray-400",children:[_.jsxs("div",{className:"p-3 border-r border-gray-400",children:[_.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-800",children:"Check-in"}),_.jsx("div",{className:"text-sm",children:"Add date"})]}),_.jsxs("div",{className:"p-3",children:[_.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-800",children:"Checkout"}),_.jsx("div",{className:"text-sm",children:"Add date"})]})]}),_.jsxs("div",{className:"p-3",children:[_.jsx("label",{className:"block text-[10px] font-bold uppercase text-gray-800",children:"Guests"}),_.jsx("div",{className:"text-sm",children:"1 guest"})]})]}),_.jsx("button",{className:"w-full bg-primary text-white font-bold text-lg py-3 rounded-lg hover:bg-[#E00B41] transition mb-4",children:"Reserve"}),_.jsx("div",{className:"text-center text-sm text-gray-500 mb-6",children:"You won't be charged yet"}),_.jsxs("div",{className:"space-y-3 text-gray-700",children:[_.jsxs("div",{className:"flex justify-between underline",children:[_.jsx("span",{children:"$1,000 x 5 nights"}),_.jsx("span",{children:"$5,000"})]}),_.jsxs("div",{className:"flex justify-between underline",children:[_.jsx("span",{children:"Cleaning fee"}),_.jsx("span",{children:"$250"})]}),_.jsxs("div",{className:"flex justify-between underline",children:[_.jsx("span",{children:"Service fee"}),_.jsx("span",{children:"$800"})]})]}),_.jsxs("div",{className:"border-t border-gray-200 mt-6 pt-6 flex justify-between font-bold text-lg",children:[_.jsx("span",{children:"Total before taxes"}),_.jsx("span",{children:"$6,050"})]})]})})]})]}),_.jsx(J_,{})]}):_.jsx("div",{className:"text-center py-20 text-xl font-bold",children:"Property not found!"})},Ck=()=>_.jsxs("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:[_.jsx(X_,{}),_.jsxs("div",{className:"relative h-[400px] flex items-center justify-center",children:[_.jsx("div",{className:"absolute inset-0 bg-[#262626]",children:_.jsx("img",{src:"/images/modern_ext.png",className:"w-full h-full object-cover opacity-20",alt:"About Hero"})}),_.jsxs("div",{className:"relative z-10 text-center px-6",children:[_.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight",children:["Ms que una ",_.jsx("span",{className:"text-[#fc7f51]",children:"inmobiliaria"})]}),_.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto font-light",children:"Inspiramos movimiento. Impulsamos a las personas a dar el paso hacia nuevas etapas de su vida."})]})]}),_.jsxs("div",{className:"container mx-auto px-6 py-20",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center mb-24",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Quines Somos"}),_.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 leading-tight",children:"Concepto de Marca"}),_.jsxs("p",{className:"text-[#878787] text-lg leading-relaxed mb-6",children:["Ms que vender inmuebles, inspiramos movimiento. ",_.jsx("strong",{className:"text-[#262626]",children:"Inmuvete"})," es la inmobiliaria que impulsa a las personas a dar el paso hacia nuevas etapas de su vida: un nuevo hogar, una inversin segura o un espacio para crecer."]}),_.jsx("p",{className:"text-[#878787] text-lg leading-relaxed",children:"Nuestro enfoque combina confianza, transparencia y dinamismo, convirtiendo cada transaccin en una experiencia cercana, gil y motivadora."})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsx("img",{src:"/images/house_ext.png",className:"rounded-tl-[40px] rounded-br-[40px] w-full h-64 object-cover shadow-card",alt:"Concept 1"}),_.jsx("img",{src:"/images/modern_int.png",className:"rounded-tr-[40px] rounded-bl-[40px] w-full h-64 object-cover shadow-card mt-8",alt:"Concept 2"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-24",children:[_.jsxs("div",{className:"bg-[#f9f9f9] p-10 rounded-2xl hover:shadow-lg transition border-l-4 border-[#fc7f51] group",children:[_.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] group-hover:text-white transition",children:_.jsx(uk,{className:"w-7 h-7"})}),_.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Misin"}),_.jsx("p",{className:"text-[#878787] leading-relaxed",children:'"En Inmuevete trabajamos para conectar a las personas con el espacio ideal para vivir, invertir o crecer. Brindamos soluciones inmobiliarias confiables, transparentes y accesibles, ofreciendo un servicio cercano que transforma cada proceso en una experiencia sencilla y segura."'})]}),_.jsxs("div",{className:"bg-[#262626] p-10 rounded-2xl text-white shadow-xl relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#fc7f51] rounded-full blur-3xl opacity-20 -mr-10 -mt-10"}),_.jsx("div",{className:"w-14 h-14 bg-[#333] rounded-full flex items-center justify-center mb-6 shadow-sm group-hover:bg-[#fc7f51] transition",children:_.jsx(kg,{className:"w-7 h-7"})}),_.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Visin"}),_.jsx("p",{className:"text-gray-300 leading-relaxed",children:'"Ser la inmobiliaria de referencia en la regin, reconocida por la confianza, innovacin y cercana con nuestros clientes, ofreciendo experiencias inmobiliarias que impulsen el desarrollo personal, familiar y empresarial."'})]})]}),_.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[_.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Nuestra Esencia"}),_.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:"Nuestros Valores"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:_.jsx(yT,{className:"w-10 h-10"})}),_.jsx("h4",{className:"text-xl font-bold mb-3",children:"Integridad"}),_.jsx("p",{className:"text-[#878787] text-sm",children:"Actuamos con honestidad y transparencia en cada paso."})]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:_.jsx(L4,{className:"w-10 h-10"})}),_.jsx("h4",{className:"text-xl font-bold mb-3",children:"Compromiso"}),_.jsx("p",{className:"text-[#878787] text-sm",children:"Nos dedicamos a cumplir y superar las expectativas."})]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mb-6 text-[#fc7f51]",children:_.jsx(vT,{className:"w-10 h-10"})}),_.jsx("h4",{className:"text-xl font-bold mb-3",children:"Confianza"}),_.jsx("p",{className:"text-[#878787] text-sm",children:"Construimos relaciones duraderas basadas en la seguridad."})]})]})]})]}),_.jsx(J_,{})]}),Rk=()=>{const[i,e]=U.useState({name:"",phone:"+51 ",email:"",subject:"Informacin general",message:""}),t=f=>{e({...i,[f.target.name]:f.target.value})},s=f=>{let y=f.target.value;y.startsWith("+51 ")||(y="+51 "+y.replace(/^\+51\s*/,"")),e({...i,phone:y})},l=()=>{const f="+51965355700";let y=i.message.trim();return y||(y=`Hola, me gustara ${i.subject==="Comprar una propiedad"?"Comprar":i.subject==="Vender una propiedad"?"Vender":i.subject==="Alquileres"?"Alquilar":"obtener Informacin general sobre"} un inmueble.`),y+=`

- Nombre: ${i.name}
- Telfono: ${i.phone}
- Email: ${i.email}
- Asunto: ${i.subject}`,`https://wa.me/${f}?text=${encodeURIComponent(y)}`},h=f=>{if(f.preventDefault(),!i.name||!i.email){ot.error("Por favor completa nombre y email.");return}const y=l();ot.success("Redirigiendo a WhatsApp..."),setTimeout(()=>{window.open(y,"_blank")},1e3)};return _.jsx("div",{className:"min-h-screen bg-white font-sans text-[#262626]",children:_.jsxs("div",{className:"pt-24 pb-20 container mx-auto px-6",children:[_.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[_.jsx("span",{className:"text-[#fc7f51] font-bold tracking-widest uppercase text-sm mb-2 block",children:"Hablamos?"}),_.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#262626]",children:"Contctanos"}),_.jsx("p",{className:"text-[#878787] text-lg",children:"Estamos aqu para ayudarte a encontrar tu espacio ideal. Escrbenos y un asesor se pondr en contacto contigo a la brevedad."})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[_.jsxs("div",{className:"bg-[#16151a] text-white p-10 rounded-3xl shadow-xl relative overflow-hidden",children:[_.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-20 blur-3xl"}),_.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-[#fc7f51] rounded-full opacity-10 blur-3xl"}),_.jsxs("div",{className:"relative z-10",children:[_.jsx("h3",{className:"text-2xl font-bold mb-8",children:"Informacin de Contacto"}),_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:_.jsx(tk,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg mb-1",children:"Telfono"}),_.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"+51 965355700"})]})]}),_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:_.jsx(Y4,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg mb-1",children:"Email"}),_.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"contacto@inmuevete.com"}),_.jsx("p",{className:"text-gray-400 text-sm",children:"ventas@inmuevete.com"})]})]}),_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"w-12 h-12 bg-[#262626] rounded-full flex items-center justify-center text-[#fc7f51] shrink-0",children:_.jsx(Du,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-bold text-lg mb-1",children:"Oficina Central"}),_.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed",children:["Av. Principal 123, Oficina 404",_.jsx("br",{}),"Centro Empresarial, Ciudad",_.jsx("br",{}),"Per"]})]})]})]}),_.jsxs("div",{className:"mt-12",children:[_.jsx("h4",{className:"font-bold text-lg mb-4",children:"Sguenos"}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:_.jsx(V4,{className:"w-5 h-5"})}),_.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:_.jsx(O4,{className:"w-5 h-5"})}),_.jsx("a",{href:"#",className:"w-10 h-10 bg-[#262626] rounded-full flex items-center justify-center text-white hover:bg-[#fc7f51] transition",children:_.jsx(B4,{className:"w-5 h-5"})})]})]})]})]}),_.jsx("div",{className:"bg-white p-6 md:p-10 rounded-3xl shadow-card border border-gray-100",children:_.jsxs("form",{onSubmit:h,className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Nombre"}),_.jsx("input",{type:"text",name:"name",value:i.name,onChange:t,placeholder:"Tu nombre completo",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Telfono"}),_.jsx("input",{type:"text",name:"phone",value:i.phone,onChange:s,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Email"}),_.jsx("input",{type:"email",name:"email",value:i.email,onChange:t,placeholder:"ejemplo@correo.com",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Asunto"}),_.jsxs("select",{name:"subject",value:i.subject,onChange:t,className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition text-gray-600 bg-white",children:[_.jsx("option",{value:"Informacin general",children:"Informacin general"}),_.jsx("option",{value:"Comprar una propiedad",children:"Comprar una propiedad"}),_.jsx("option",{value:"Vender una propiedad",children:"Vender una propiedad"}),_.jsx("option",{value:"Alquileres",children:"Alquileres"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-[#262626]",children:"Mensaje"}),_.jsx("textarea",{name:"message",value:i.message,onChange:t,rows:"4",placeholder:"Cmo podemos ayudarte?",className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#fc7f51]/50 focus:border-[#fc7f51] transition"})]}),_.jsxs("button",{type:"submit",className:"w-full bg-[#128C7E] hover:bg-[#075E54] text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2 group",children:["Contactar por WhatsApp",_.jsx($4,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})]})]})})},Nk=()=>{const[i,e]=U.useState(""),[t,s]=U.useState(""),{login:l,loginWithGoogle:h,loginWithApple:f}=Ao(),y=xd(),b=async I=>{try{const z=await Yc(ri(Ot,"users",I));if(z.exists()){const Y=z.data();Y.role==="agente"?y("/agent-dashboard"):Y.role==="superadmin"?y("/superadmin"):y("/client-dashboard")}else y("/")}catch(z){console.error("Error redirecting:",z)}},x=async I=>{I.preventDefault();try{const z=await l(i,t);ot.success("Bienvenido de nuevo!"),b(z.user.uid)}catch(z){ot.error(z.message)}},A=async()=>{try{const I=await h();ot.success("Bienvenido!"),b(I.user.uid)}catch(I){ot.error(I.message)}},C=async()=>{try{const I=await f();ot.success("Bienvenido!"),b(I.user.uid)}catch(I){ot.error(I.message)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[_.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Iniciar Sesin"}),_.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Accede a tu cuenta de Inmuvete"}),_.jsxs("form",{onSubmit:x,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),_.jsx("input",{type:"email",value:i,onChange:I=>e(I.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),_.jsx("input",{type:"password",value:t,onChange:I=>s(I.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"",required:!0})]}),_.jsxs("div",{className:"flex items-center justify-between text-sm",children:[_.jsxs("label",{className:"flex items-center text-gray-600",children:[_.jsx("input",{type:"checkbox",className:"mr-2 text-[#fc7f51] focus:ring-[#fc7f51] rounded border-gray-300"}),"Recordarme"]}),_.jsx(gn,{to:"/forgot-password",className:"text-[#fc7f51] hover:underline font-medium",children:"Olvidaste tu contrasea?"})]}),_.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Ingresar"})]}),_.jsxs("div",{className:"my-6 flex items-center",children:[_.jsx("div",{className:"flex-grow border-t border-gray-200"}),_.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O contina con"}),_.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),_.jsxs("button",{onClick:C,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[_.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),_.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["No tienes una cuenta?"," ",_.jsx(gn,{to:"/register",className:"text-[#fc7f51] font-bold hover:underline",children:"Regstrate aqu"})]})]})})},Ik=()=>{const[i,e]=U.useState(""),[t,s]=U.useState(""),[l,h]=U.useState(""),[f,y]=U.useState(""),[b,x]=U.useState("cliente"),{signup:A,loginWithGoogle:C,loginWithApple:I}=Ao(),z=xd(),Y=async se=>{se.preventDefault();try{await A(i,t,b,l,f),ot.success("Cuenta creada exitosamente!"),z(b==="agente"?"/agent-dashboard":"/client-dashboard")}catch(oe){ot.error(oe.message)}},G=async()=>{try{await C(b),ot.success("Cuenta creada exitosamente!"),z(b==="agente"?"/agent-dashboard":"/client-dashboard")}catch(se){ot.error(se.message)}},Z=async()=>{try{await I(b),ot.success("Cuenta creada exitosamente!"),z(b==="agente"?"/agent-dashboard":"/client-dashboard")}catch(se){ot.error(se.message)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[_.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Crear una Cuenta"}),_.jsx("p",{className:"text-center text-gray-500 mb-8",children:"nete y encuentra tu prximo hogar"}),_.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),_.jsx("input",{type:"text",value:l,onChange:se=>h(se.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Tu nombre",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),_.jsx("input",{type:"tel",value:f,onChange:se=>y(se.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"+51 999 999 999",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),_.jsx("input",{type:"email",value:i,onChange:se=>e(se.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),_.jsx("input",{type:"password",value:t,onChange:se=>s(se.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Crea una contrasea segura",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Qu buscas hacer?"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("button",{type:"button",onClick:()=>x("cliente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${b==="cliente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[_.jsx("span",{className:"font-bold",children:"Buscar Propiedades"}),_.jsx("span",{className:"text-xs mt-1",children:"Soy Cliente"})]}),_.jsxs("button",{type:"button",onClick:()=>x("agente"),className:`flex flex-col items-center p-4 border rounded-xl transition ${b==="agente"?"border-[#fc7f51] bg-orange-50 text-[#fc7f51]":"border-gray-200 hover:bg-gray-50 text-gray-600"}`,children:[_.jsx("span",{className:"font-bold",children:"Publicar Inmuebles"}),_.jsx("span",{className:"text-xs mt-1",children:"Soy Agente"})]})]})]}),_.jsx("button",{type:"submit",className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:"Registrarme"})]}),_.jsxs("div",{className:"my-6 flex items-center",children:[_.jsx("div",{className:"flex-grow border-t border-gray-200"}),_.jsx("span",{className:"mx-4 text-gray-400 text-sm",children:"O regstrate con"}),_.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("button",{onClick:G,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition",children:[_.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),_.jsxs("button",{onClick:Z,className:"w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-medium hover:bg-gray-900 transition",children:[_.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Apple"]})]}),_.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Ya tienes cuenta?"," ",_.jsx(gn,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Inicia Sesin"})]})]})})},Pk=()=>{const[i,e]=U.useState(""),{resetPassword:t}=Ao(),[s,l]=U.useState(!1),h=async f=>{f.preventDefault(),l(!0);try{await t(i),ot.success("Te hemos enviado un correo para restablecer tu contrasea.")}catch(y){ot.error(y.message)}finally{l(!1)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[_.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-gray-800",children:"Recuperar Contrasea"}),_.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Ingresa tu correo y te enviaremos las instrucciones"}),_.jsxs("form",{onSubmit:h,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),_.jsx("input",{type:"email",value:i,onChange:f=>e(f.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"tu@correo.com",required:!0})]}),_.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:s?"Enviando...":"Enviar Instrucciones"})]}),_.jsxs("p",{className:"mt-8 text-center text-gray-500 text-sm",children:["Te acordaste?"," ",_.jsx(gn,{to:"/login",className:"text-[#fc7f51] font-bold hover:underline",children:"Volver a Iniciar Sesin"})]})]})})};function Ok(i,e){const t=U.useRef(e);U.useEffect(function(){e!==t.current&&i.attributionControl!=null&&(t.current!=null&&i.attributionControl.removeAttribution(t.current),e!=null&&i.attributionControl.addAttribution(e)),t.current=e},[i,e])}const Dk=1;function Lk(i){return Object.freeze({__version:Dk,map:i})}function Mk(i,e){return Object.freeze({...i,...e})}const ey=U.createContext(null);function xT(){const i=U.use(ey);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function kk(i){function e(t,s){const{instance:l,context:h}=i(t).current;U.useImperativeHandle(s,()=>l);const{children:f}=t;return f==null?null:sg.createElement(ey,{value:h},f)}return U.forwardRef(e)}function jk(i){function e(t,s){const{instance:l}=i(t).current;return U.useImperativeHandle(s,()=>l),null}return U.forwardRef(e)}function Vk(i,e){const t=U.useRef(void 0);U.useEffect(function(){return e!=null&&i.instance.on(e),t.current=e,function(){t.current!=null&&i.instance.off(t.current),t.current=null}},[i,e])}function wT(i,e){const t=i.pane??e.pane;return t?{...i,pane:t}:i}var Uc={exports:{}};var zk=Uc.exports,Wx;function Uk(){return Wx||(Wx=1,(function(i,e){(function(t,s){s(e)})(zk,(function(t){var s="1.9.4";function l(a){var u,m,v,E;for(m=1,v=arguments.length;m<v;m++){E=arguments[m];for(u in E)a[u]=E[u]}return a}var h=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function f(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var v=m.call(arguments,2);return function(){return a.apply(u,v.length?v.concat(m.call(arguments)):arguments)}}var y=0;function b(a){return"_leaflet_id"in a||(a._leaflet_id=++y),a._leaflet_id}function x(a,u,m){var v,E,R,V;return V=function(){v=!1,E&&(R.apply(m,E),E=!1)},R=function(){v?E=arguments:(a.apply(m,arguments),setTimeout(V,u),v=!0)},R}function A(a,u,m){var v=u[1],E=u[0],R=v-E;return a===v&&m?a:((a-E)%R+R)%R+E}function C(){return!1}function I(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function z(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Y(a){return z(a).split(/\s+/)}function G(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function Z(a,u,m){var v=[];for(var E in a)v.push(encodeURIComponent(m?E.toUpperCase():E)+"="+encodeURIComponent(a[E]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var se=/\{ *([\w_ -]+) *\}/g;function oe(a,u){return a.replace(se,function(m,v){var E=u[v];if(E===void 0)throw new Error("No value provided for variable "+m);return typeof E=="function"&&(E=E(u)),E})}var ue=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function we(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var ge="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ie(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var j=0;function M(a){var u=+new Date,m=Math.max(0,16-(u-j));return j=u+m,window.setTimeout(a,m)}var D=window.requestAnimationFrame||Ie("RequestAnimationFrame")||M,H=window.cancelAnimationFrame||Ie("CancelAnimationFrame")||Ie("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function O(a,u,m){if(m&&D===M)a.call(u);else return D.call(window,f(a,u))}function F(a){a&&H.call(window,a)}var k={__proto__:null,extend:l,create:h,bind:f,get lastId(){return y},stamp:b,throttle:x,wrapNum:A,falseFn:C,formatNum:I,trim:z,splitWords:Y,setOptions:G,getParamString:Z,template:oe,isArray:ue,indexOf:we,emptyImageUrl:ge,requestFn:D,cancelFn:H,requestAnimFrame:O,cancelAnimFrame:F};function ke(){}ke.extend=function(a){var u=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,v=h(m);v.constructor=u,u.prototype=v;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return a.statics&&l(u,a.statics),a.includes&&(Bt(a.includes),l.apply(null,[v].concat(a.includes))),l(v,a),delete v.statics,delete v.includes,v.options&&(v.options=m.options?h(m.options):{},l(v.options,a.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,V=v._initHooks.length;R<V;R++)v._initHooks[R].call(this)}},u},ke.include=function(a){var u=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},ke.mergeOptions=function(a){return l(this.prototype.options,a),this},ke.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Bt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=ue(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(a,u,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],u);else{a=Y(a);for(var E=0,R=a.length;E<R;E++)this._on(a[E],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var v in a)this._off(v,a[v],u);else{a=Y(a);for(var E=arguments.length===1,R=0,V=a.length;R<V;R++)E?this._off(a[R]):this._off(a[R],u,m)}return this},_on:function(a,u,m,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var E={fn:u,ctx:m};v&&(E.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(E)}},_off:function(a,u,m){var v,E,R;if(this._events&&(v=this._events[a],!!v)){if(arguments.length===1){if(this._firingCount)for(E=0,R=v.length;E<R;E++)v[E].fn=C;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var V=this._listens(a,u,m);if(V!==!1){var W=v[V];this._firingCount&&(W.fn=C,this._events[a]=v=v.slice()),v.splice(V,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var v=l({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[a];if(E){this._firingCount=this._firingCount+1||1;for(var R=0,V=E.length;R<V;R++){var W=E[R],ee=W.fn;W.once&&this.off(a,ee,W.ctx),ee.call(W.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(a,u,m,v){typeof a!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(v=!!u,E=void 0,m=void 0);var R=this._events&&this._events[a];if(R&&R.length&&this._listens(a,E,m)!==!1)return!0;if(v){for(var V in this._eventParents)if(this._eventParents[V].listens(a,u,m,v))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var v=this._events[a]||[];if(!u)return!!v.length;m===this&&(m=void 0);for(var E=0,R=v.length;E<R;E++)if(v[E].fn===u&&v[E].ctx===m)return E;return!1},once:function(a,u,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],u,!0);else{a=Y(a);for(var E=0,R=a.length;E<R;E++)this._on(a[E],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[b(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[b(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var be=ke.extend(re);function pe(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var tt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(a){return this.clone()._add(Se(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Se(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pe(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pe(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=tt(this.x),this.y=tt(this.y),this},distanceTo:function(a){a=Se(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=Se(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Se(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function Se(a,u,m){return a instanceof pe?a:ue(a)?new pe(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pe(a.x,a.y):new pe(a,u,m)}function q(a,u){if(a)for(var m=u?[a,u]:a,v=0,E=m.length;v<E;v++)this.extend(m[v])}q.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof pe||typeof a[0]=="number"||"x"in a)u=m=Se(a);else if(a=ae(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return Se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Se(this.min.x,this.max.y)},getTopRight:function(){return Se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof pe?a=Se(a):a=ae(a),a instanceof q?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=ae(a);var u=this.min,m=this.max,v=a.min,E=a.max,R=E.x>=u.x&&v.x<=m.x,V=E.y>=u.y&&v.y<=m.y;return R&&V},overlaps:function(a){a=ae(a);var u=this.min,m=this.max,v=a.min,E=a.max,R=E.x>u.x&&v.x<m.x,V=E.y>u.y&&v.y<m.y;return R&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,v=Math.abs(u.x-m.x)*a,E=Math.abs(u.y-m.y)*a;return ae(Se(u.x-v,u.y-E),Se(m.x+v,m.y+E))},equals:function(a){return a?(a=ae(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ae(a,u){return!a||a instanceof q?a:new q(a,u)}function _e(a,u){if(a)for(var m=u?[a,u]:a,v=0,E=m.length;v<E;v++)this.extend(m[v])}_e.prototype={extend:function(a){var u=this._southWest,m=this._northEast,v,E;if(a instanceof Te)v=a,E=a;else if(a instanceof _e){if(v=a._southWest,E=a._northEast,!v||!E)return this}else return a?this.extend(Ee(a)||ye(a)):this;return!u&&!m?(this._southWest=new Te(v.lat,v.lng),this._northEast=new Te(E.lat,E.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),m.lat=Math.max(E.lat,m.lat),m.lng=Math.max(E.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,v=Math.abs(u.lat-m.lat)*a,E=Math.abs(u.lng-m.lng)*a;return new _e(new Te(u.lat-v,u.lng-E),new Te(m.lat+v,m.lng+E))},getCenter:function(){return new Te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Te(this.getNorth(),this.getWest())},getSouthEast:function(){return new Te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Te||"lat"in a?a=Ee(a):a=ye(a);var u=this._southWest,m=this._northEast,v,E;return a instanceof _e?(v=a.getSouthWest(),E=a.getNorthEast()):v=E=a,v.lat>=u.lat&&E.lat<=m.lat&&v.lng>=u.lng&&E.lng<=m.lng},intersects:function(a){a=ye(a);var u=this._southWest,m=this._northEast,v=a.getSouthWest(),E=a.getNorthEast(),R=E.lat>=u.lat&&v.lat<=m.lat,V=E.lng>=u.lng&&v.lng<=m.lng;return R&&V},overlaps:function(a){a=ye(a);var u=this._southWest,m=this._northEast,v=a.getSouthWest(),E=a.getNorthEast(),R=E.lat>u.lat&&v.lat<m.lat,V=E.lng>u.lng&&v.lng<m.lng;return R&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=ye(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ye(a,u){return a instanceof _e?a:new _e(a,u)}function Te(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}Te.prototype={equals:function(a,u){if(!a)return!1;a=Ee(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+I(this.lat,a)+", "+I(this.lng,a)+")"},distanceTo:function(a){return Tt.distance(this,Ee(a))},wrap:function(){return Tt.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return ye([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new Te(this.lat,this.lng,this.alt)}};function Ee(a,u,m){return a instanceof Te?a:ue(a)&&typeof a[0]!="object"?a.length===3?new Te(a[0],a[1],a[2]):a.length===2?new Te(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Te(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Te(a,u,m)}var Fe={latLngToPoint:function(a,u){var m=this.projection.project(a),v=this.scale(u);return this.transformation._transform(m,v)},pointToLatLng:function(a,u){var m=this.scale(u),v=this.transformation.untransform(a,m);return this.projection.unproject(v)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),v=this.transformation.transform(u.min,m),E=this.transformation.transform(u.max,m);return new q(v,E)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?A(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?A(a.lat,this.wrapLat,!0):a.lat,v=a.alt;return new Te(m,u,v)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),v=u.lat-m.lat,E=u.lng-m.lng;if(v===0&&E===0)return a;var R=a.getSouthWest(),V=a.getNorthEast(),W=new Te(R.lat-v,R.lng-E),ee=new Te(V.lat-v,V.lng-E);return new _e(W,ee)}},Tt=l({},Fe,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,v=a.lat*m,E=u.lat*m,R=Math.sin((u.lat-a.lat)*m/2),V=Math.sin((u.lng-a.lng)*m/2),W=R*R+Math.cos(v)*Math.cos(E)*V*V,ee=2*Math.atan2(Math.sqrt(W),Math.sqrt(1-W));return this.R*ee}}),Rt=6378137,xr={R:Rt,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,a.lat),-m),E=Math.sin(v*u);return new pe(this.R*a.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(a){var u=180/Math.PI;return new Te((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=Rt*Math.PI;return new q([-a,-a],[a,a])})()};function Fr(a,u,m,v){if(ue(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=v}Fr.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new pe((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Yi(a,u,m,v){return new Fr(a,u,m,v)}var Gr=l({},Tt,{code:"EPSG:3857",projection:xr,transformation:(function(){var a=.5/(Math.PI*xr.R);return Yi(a,.5,-a,.5)})()}),Qi=l({},Gr,{code:"EPSG:900913"});function ma(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Zr(a,u){var m="",v,E,R,V,W,ee;for(v=0,R=a.length;v<R;v++){for(W=a[v],E=0,V=W.length;E<V;E++)ee=W[E],m+=(E?"L":"M")+ee.x+" "+ee.y;m+=u?Ne.svg?"z":"x":""}return m||"M0 0"}var Ss=document.documentElement.style,Kr="ActiveXObject"in window,Yt=Kr&&!document.addEventListener,Qt="msLaunchUri"in navigator&&!("documentMode"in document),Wi=En("webkit"),Pl=En("android"),Co=En("android 2")||En("android 3"),On=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),As=Pl&&En("Google")&&On<537&&!("AudioNode"in window),Cs=!!window.opera,pa=!Qt&&En("chrome"),wr=En("gecko")&&!Wi&&!Cs&&!Kr,Fu=!pa&&En("safari"),Ro=En("phantom"),No="OTransition"in Ss,Ol=navigator.platform.indexOf("Win")===0,ai=Kr&&"transition"in Ss,rn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Co,Wn="MozPerspective"in Ss,qt=!window.L_DISABLE_3D&&(ai||rn||Wn)&&!No&&!Ro,Yr=typeof orientation<"u"||En("mobile"),ga=Yr&&Wi,Dl=Yr&&rn,Ai=!window.PointerEvent&&window.MSPointerEvent,Qr=!!(window.PointerEvent||Ai),Ht="ontouchstart"in window||!!window.TouchEvent,$i=!window.L_NO_TOUCH&&(Ht||Qr),Xi=Yr&&Cs,Ci=Yr&&wr,Gu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ll=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",C,u),window.removeEventListener("testPassiveEventSupport",C,u)}catch{}return a})(),Ji=(function(){return!!document.createElement("canvas").getContext})(),Er=!!(document.createElementNS&&ma("svg").createSVGRect),Zu=!!Er&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Rs=!Er&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Io=navigator.platform.indexOf("Mac")===0,Po=navigator.platform.indexOf("Linux")===0;function En(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ne={ie:Kr,ielt9:Yt,edge:Qt,webkit:Wi,android:Pl,android23:Co,androidStock:As,opera:Cs,chrome:pa,gecko:wr,safari:Fu,phantom:Ro,opera12:No,win:Ol,ie3d:ai,webkit3d:rn,gecko3d:Wn,any3d:qt,mobile:Yr,mobileWebkit:ga,mobileWebkit3d:Dl,msPointer:Ai,pointer:Qr,touch:$i,touchNative:Ht,mobileOpera:Xi,mobileGecko:Ci,retina:Gu,passiveEvents:Ll,canvas:Ji,svg:Er,vml:Rs,inlineSvg:Zu,mac:Io,linux:Po},Oo=Ne.msPointer?"MSPointerDown":"pointerdown",oi=Ne.msPointer?"MSPointerMove":"pointermove",li=Ne.msPointer?"MSPointerUp":"pointerup",Ft=Ne.msPointer?"MSPointerCancel":"pointercancel",Wt={touchstart:Oo,touchmove:oi,touchend:li,touchcancel:Ft},Ri={touchstart:tr,touchmove:Tn,touchend:Tn,touchcancel:Tn},Ni={},Ml=!1;function kl(a,u,m){return u==="touchstart"&&ui(),Ri[u]?(m=Ri[u].bind(this,m),a.addEventListener(Wt[u],m,!1),m):(console.warn("wrong event specified:",u),C)}function jl(a,u,m){if(!Wt[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(Wt[u],m,!1)}function er(a){Ni[a.pointerId]=a}function _a(a){Ni[a.pointerId]&&(Ni[a.pointerId]=a)}function Ii(a){delete Ni[a.pointerId]}function ui(){Ml||(document.addEventListener(Oo,er,!0),document.addEventListener(oi,_a,!0),document.addEventListener(li,Ii,!0),document.addEventListener(Ft,Ii,!0),Ml=!0)}function Tn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in Ni)u.touches.push(Ni[m]);u.changedTouches=[u],a(u)}}function tr(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&kt(u),Tn(a,u)}function $t(a){var u={},m,v;for(v in a)m=a[v],u[v]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Do=200;function Lo(a,u){a.addEventListener("dblclick",u);var m=0,v;function E(R){if(R.detail!==1){v=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var V=es(R);if(!(V.some(function(ee){return ee instanceof HTMLLabelElement&&ee.attributes.for})&&!V.some(function(ee){return ee instanceof HTMLInputElement||ee instanceof HTMLSelectElement}))){var W=Date.now();W-m<=Do?(v++,v===2&&u($t(R))):v=1,m=W}}}return a.addEventListener("click",E),{dblclick:u,simDblclick:E}}function nr(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ci=Is(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tr=Is(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ya=Tr==="webkitTransition"||Tr==="OTransition"?Tr+"End":"transitionend";function va(a){return typeof a=="string"?document.getElementById(a):a}function Wr(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(a,null);m=v?v[u]:null}return m==="auto"?null:m}function We(a,u,m){var v=document.createElement(a);return v.className=u||"",m&&m.appendChild(v),v}function $e(a){var u=a.parentNode;u&&u.removeChild(a)}function Lt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Mt(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function $n(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Ns(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=ir(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function Ce(a,u){if(a.classList!==void 0)for(var m=Y(u),v=0,E=m.length;v<E;v++)a.classList.add(m[v]);else if(!Ns(a,u)){var R=ir(a);hi(a,(R?R+" ":"")+u)}}function bt(a,u){a.classList!==void 0?a.classList.remove(u):hi(a,z((" "+ir(a)+" ").replace(" "+u+" "," ")))}function hi(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function ir(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Nt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&ba(a,u)}function ba(a,u){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+v+"(opacity="+u+")"}function Is(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function Pi(a,u,m){var v=u||new pe(0,0);a.style[ci]=(Ne.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function xt(a,u){a._leaflet_pos=u,Ne.any3d?Pi(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function rr(a){return a._leaflet_pos||new pe(0,0)}var fi,un,xa;if("onselectstart"in document)fi=function(){je(window,"selectstart",kt)},un=function(){dt(window,"selectstart",kt)};else{var Sr=Is(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fi=function(){if(Sr){var a=document.documentElement.style;xa=a[Sr],a[Sr]="none"}},un=function(){Sr&&(document.documentElement.style[Sr]=xa,xa=void 0)}}function Ps(){je(window,"dragstart",kt)}function $r(){dt(window,"dragstart",kt)}var Os,sr;function Xr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(zn(),Os=a,sr=a.style.outlineStyle,a.style.outlineStyle="none",je(window,"keydown",zn))}function zn(){Os&&(Os.style.outlineStyle=sr,Os=void 0,sr=void 0,dt(window,"keydown",zn))}function wa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Un(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Jr={__proto__:null,TRANSFORM:ci,TRANSITION:Tr,TRANSITION_END:ya,get:va,getStyle:Wr,create:We,remove:$e,empty:Lt,toFront:Mt,toBack:$n,hasClass:Ns,addClass:Ce,removeClass:bt,setClass:hi,getClass:ir,setOpacity:Nt,testProp:Is,setTransform:Pi,setPosition:xt,getPosition:rr,get disableTextSelection(){return fi},get enableTextSelection(){return un},disableImageDrag:Ps,enableImageDrag:$r,preventOutline:Xr,restoreOutline:zn,getSizedParentNode:wa,getScale:Un};function je(a,u,m,v){if(u&&typeof u=="object")for(var E in u)Bn(a,E,u[E],m);else{u=Y(u);for(var R=0,V=u.length;R<V;R++)Bn(a,u[R],m,v)}return this}var Sn="_leaflet_events";function dt(a,u,m,v){if(arguments.length===1)Ar(a),delete a[Sn];else if(u&&typeof u=="object")for(var E in u)Cr(a,E,u[E],m);else if(u=Y(u),arguments.length===2)Ar(a,function(W){return we(u,W)!==-1});else for(var R=0,V=u.length;R<V;R++)Cr(a,u[R],m,v);return this}function Ar(a,u){for(var m in a[Sn]){var v=m.split(/\d/)[0];(!u||u(v))&&Cr(a,v,null,null,m)}}var Xn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bn(a,u,m,v){var E=u+b(m)+(v?"_"+b(v):"");if(a[Sn]&&a[Sn][E])return this;var R=function(W){return m.call(v||a,W||window.event)},V=R;!Ne.touchNative&&Ne.pointer&&u.indexOf("touch")===0?R=kl(a,u,R):Ne.touch&&u==="dblclick"?R=Lo(a,R):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Xn[u]||u,R,Ne.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(R=function(W){W=W||window.event,Li(a,W)&&V(W)},a.addEventListener(Xn[u],R,!1)):a.addEventListener(u,V,!1):a.attachEvent("on"+u,R),a[Sn]=a[Sn]||{},a[Sn][E]=R}function Cr(a,u,m,v,E){E=E||u+b(m)+(v?"_"+b(v):"");var R=a[Sn]&&a[Sn][E];if(!R)return this;!Ne.touchNative&&Ne.pointer&&u.indexOf("touch")===0?jl(a,u,R):Ne.touch&&u==="dblclick"?nr(a,R):"removeEventListener"in a?a.removeEventListener(Xn[u]||u,R,!1):a.detachEvent("on"+u,R),a[Sn][E]=null}function nt(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function di(a){return Bn(a,"wheel",nt),this}function Rr(a){return je(a,"mousedown touchstart dblclick contextmenu",nt),a._leaflet_disable_click=!0,this}function kt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Oi(a){return kt(a),nt(a),this}function es(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function ar(a,u){if(!u)return new pe(a.clientX,a.clientY);var m=Un(u),v=m.boundingClientRect;return new pe((a.clientX-v.left)/m.x-u.clientLeft,(a.clientY-v.top)/m.y-u.clientTop)}var Di=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cn(a){return Ne.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Di:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Li(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var or={__proto__:null,on:je,off:dt,stopPropagation:nt,disableScrollPropagation:di,disableClickPropagation:Rr,preventDefault:kt,stop:Oi,getPropagationPath:es,getMousePosition:ar,getWheelDelta:cn,isExternalTarget:Li,addListener:je,removeListener:dt},Nr=be.extend({run:function(a,u,m,v){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=rr(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),xt(this._el,m),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Qe=be.extend({options:{crs:Gr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=G(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ee(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tr&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),je(this._proxy,ya,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Ee(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var v=this.getZoomScale(u),E=this.getSize().divideBy(2),R=a instanceof pe?a:this.latLngToContainerPoint(a),V=R.subtract(E).multiplyBy(1-1/v),W=this.containerPointToLatLng(E.add(V));return this.setView(W,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():ye(a);var m=Se(u.paddingTopLeft||u.padding||[0,0]),v=Se(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(a,!1,m.add(v));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:a.getCenter(),zoom:E};var R=v.subtract(m).divideBy(2),V=this.project(a.getSouthWest(),E),W=this.project(a.getNorthEast(),E),ee=this.unproject(V.add(W).divideBy(2).add(R),E);return{center:ee,zoom:E}},fitBounds:function(a,u){if(a=ye(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=Se(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Nr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!Ne.any3d)return this.setView(a,u,m);this._stop();var v=this.project(this.getCenter()),E=this.project(a),R=this.getSize(),V=this._zoom;a=Ee(a),u=u===void 0?V:u;var W=Math.max(R.x,R.y),ee=W*this.getZoomScale(V,u),fe=E.distanceTo(v)||1,xe=1.42,De=xe*xe;function Ke(Gt){var Lr=Gt?-1:1,zs=Gt?ee:W,Xu=ee*ee-W*W+Lr*De*De*fe*fe,el=2*zs*De*fe,tl=Xu/el,cs=Math.sqrt(tl*tl+1)-tl,Mr=cs<1e-9?-18:Math.log(cs);return Mr}function vn(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function Xt(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}function ti(Gt){return vn(Gt)/Xt(Gt)}var mt=Ke(0);function pt(Gt){return W*(Xt(mt)/Xt(mt+xe*Gt))}function Xe(Gt){return W*(Xt(mt)*ti(mt+xe*Gt)-vn(mt))/De}function ls(Gt){return 1-Math.pow(1-Gt,1.5)}var yi=Date.now(),Wl=(Ke(1)-mt)/xe,us=m.duration?1e3*m.duration:1e3*Wl*.8;function $u(){var Gt=(Date.now()-yi)/us,Lr=ls(Gt)*Wl;Gt<=1?(this._flyToFrame=O($u,this),this._move(this.unproject(v.add(E.subtract(v).multiplyBy(Xe(Lr)/fe)),V),this.getScaleZoom(W/pt(Lr),V),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),$u.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=ye(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,ye(a));return m.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=Se(u.paddingTopLeft||u.padding||[0,0]),v=Se(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),R=this.project(a),V=this.getPixelBounds(),W=ae([V.min.add(m),V.max.subtract(v)]),ee=W.getSize();if(!W.contains(R)){this._enforcingBounds=!0;var fe=R.subtract(W.getCenter()),xe=W.extend(R).getSize().subtract(ee);E.x+=fe.x<0?-xe.x:xe.x,E.y+=fe.y<0?-xe.y:xe.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=u.divideBy(2).round(),E=m.divideBy(2).round(),R=v.subtract(E);return!R.x&&!R.y?this:(a.animate&&a.pan?this.panBy(R):(a.pan&&this._rawPanBy(R),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,v=new Te(u,m),E=v.toBounds(a.coords.accuracy*2),R=this._locateOptions;if(R.setView){var V=this.getBoundsZoom(E);this.setView(v,R.maxZoom?Math.min(V,R.maxZoom):V)}var W={latlng:v,bounds:E,timestamp:a.timestamp};for(var ee in a.coords)typeof a.coords[ee]=="number"&&(W[ee]=a.coords[ee]);this.fire("locationfound",W)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),$e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)$e(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),v=We("div",m,u||this._mapPane);return a&&(this._panes[a]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new _e(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=ye(a),m=Se(m||[0,0]);var v=this.getZoom()||0,E=this.getMinZoom(),R=this.getMaxZoom(),V=a.getNorthWest(),W=a.getSouthEast(),ee=this.getSize().subtract(m),fe=ae(this.project(W,v),this.project(V,v)).getSize(),xe=Ne.any3d?this.options.zoomSnap:1,De=ee.x/fe.x,Ke=ee.y/fe.y,vn=u?Math.max(De,Ke):Math.min(De,Ke);return v=this.getScaleZoom(vn,v),xe&&(v=Math.round(v/(xe/100))*(xe/100),v=u?Math.ceil(v/xe)*xe:Math.floor(v/xe)*xe),Math.max(E,Math.min(R,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new q(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var v=m.zoom(a*m.scale(u));return isNaN(v)?1/0:v},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ee(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(Se(a),u)},layerPointToLatLng:function(a){var u=Se(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Ee(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ee(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ye(a))},distance:function(a,u){return this.options.crs.distance(Ee(a),Ee(u))},containerPointToLayerPoint:function(a){return Se(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Se(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(Se(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ee(a)))},mouseEventToContainerPoint:function(a){return ar(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=va(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");je(u,"scroll",this._onScroll,this),this._containerId=b(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,Ce(a,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Wr(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xt(this._mapPane,new pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(a.markerPane,"leaflet-zoom-hide"),Ce(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){xt(this._mapPane,new pe(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,m)._move(a,u)._moveEnd(E),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,v){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),v?m&&m.pinch&&this.fire("zoom",m):((E||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){xt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[b(this._container)]=this;var u=a?dt:je;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],v,E=u==="mouseout"||u==="mouseover",R=a.target||a.srcElement,V=!1;R;){if(v=this._targets[b(R)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){V=!0;break}if(v&&v.listens(u,!0)&&(E&&!Li(R,a)||(m.push(v),E))||R===this._container)break;R=R.parentNode}return!m.length&&!V&&!E&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&Xr(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var v=l({},a);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var E=this._findEventTargets(a,u);if(m){for(var R=[],V=0;V<m.length;V++)m[V].listens(u,!0)&&R.push(m[V]);E=R.concat(E)}if(E.length){u==="contextmenu"&&kt(a);var W=E[0],ee={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var fe=W.getLatLng&&(!W._radius||W._radius<=10);ee.containerPoint=fe?this.latLngToContainerPoint(W.getLatLng()):this.mouseEventToContainerPoint(a),ee.layerPoint=this.containerPointToLayerPoint(ee.containerPoint),ee.latlng=fe?W.getLatLng():this.layerPointToLatLng(ee.layerPoint)}for(V=0;V<E.length;V++)if(E[V].fire(u,ee,!0),ee.originalEvent._stopped||E[V].options.bubblingMouseEvents===!1&&we(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return rr(this._mapPane)||new pe(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var v=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(a,u,m){var v=this._getNewPixelOrigin(m,u);return ae([this.project(a.getSouthWest(),u)._subtract(v),this.project(a.getNorthWest(),u)._subtract(v),this.project(a.getSouthEast(),u)._subtract(v),this.project(a.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var v=this.project(a,u),E=this.getSize().divideBy(2),R=new q(v.subtract(E),v.add(E)),V=this._getBoundsOffset(R,m,u);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?a:this.unproject(v.add(V),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),v=new q(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(a,u,m){var v=ae(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),E=v.min.subtract(a.min),R=v.max.subtract(a.max),V=this._rebound(E.x,-R.x),W=this._rebound(E.y,-R.y);return new pe(V,W)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),v=Ne.any3d?this.options.zoomSnap:1;return v&&(a=Math.round(a/v)*v),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=ci,v=this._proxy.style[m];Pi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){$e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Pi(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),E=this._getCenterOffset(a)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(E)?!1:(O(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ts(a,u){return new Qe(a,u)}var An=ke.extend({options:{position:"topright"},initialize:function(a){G(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),v=a._controlCorners[m];return Ce(u,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?($e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),qn=function(a){return new An(a)};Qe.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=We("div",u+"control-container",this._container);function v(E,R){var V=u+E+" "+u+R;a[E+R]=We("div",V,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)$e(this._controlCorners[a]);$e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ds=An.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,v){return m<v?-1:v<m?1:0}},initialize:function(a,u,m){G(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in a)this._addLayer(a[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return An.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(b(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=We("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Rr(u),di(u);var v=this._section=We("section",a+"-list");m&&(this._map.on("click",this.collapse,this),je(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=We("a",a+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),je(E,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){kt(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=We("div",a+"-base",v),this._separator=We("div",a+"-separator",v),this._overlaysList=We("div",a+"-overlays",v),u.appendChild(v)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&b(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(v,E){return this.options.sortFunction(v.layer,E.layer,v.name,E.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Lt(this._baseLayersList),Lt(this._overlaysList),this._layerControlInputs=[];var a,u,m,v,E=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),u=u||v.overlay,a=a||!v.overlay,E+=v.overlay?0:1;return this.options.hideSingleBase&&(a=a&&E>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(b(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),v;a.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+b(this),m),this._layerControlInputs.push(v),v.layerId=b(a.layer),je(v,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+a.name;var R=document.createElement("span");u.appendChild(R),R.appendChild(v),R.appendChild(E);var V=a.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,v=[],E=[];this._handlingClick=!0;for(var R=a.length-1;R>=0;R--)u=a[R],m=this._getLayer(u.layerId).layer,u.checked?v.push(m):u.checked||E.push(m);for(R=0;R<E.length;R++)this._map.hasLayer(E[R])&&this._map.removeLayer(E[R]);for(R=0;R<v.length;R++)this._map.hasLayer(v[R])||this._map.addLayer(v[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,v=this._map.getZoom(),E=a.length-1;E>=0;E--)u=a[E],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,je(a,"click",kt),this.expand();var u=this;setTimeout(function(){dt(a,"click",kt),u._preventClick=!1})}}),Mo=function(a,u,m){return new Ds(a,u,m)},Ir=An.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=We("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,v,E){var R=We("a",m,v);return R.innerHTML=a,R.href="#",R.title=u,R.setAttribute("role","button"),R.setAttribute("aria-label",u),Rr(R),je(R,"click",Oi),je(R,"click",E,this),je(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";bt(this._zoomInButton,u),bt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ce(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ce(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qe.mergeOptions({zoomControl:!0}),Qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ir,this.addControl(this.zoomControl))});var Vl=function(a){return new Ir(a)},ko=An.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=We("div",u),v=this.options;return this._addScales(v,u+"-line",m),a.on(v.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=We("div",u,m)),a.imperial&&(this._iScale=We("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,v,E;u>5280?(m=u/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),Ls=function(a){return new ko(a)},jo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ea=An.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?jo+" ":"")+"Leaflet</a>"},initialize:function(a){G(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=We("div","leaflet-control-attribution"),Rr(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Qe.mergeOptions({attributionControl:!0}),Qe.addInitHook(function(){this.options.attributionControl&&new Ea().addTo(this)});var Ta=function(a){return new Ea(a)};An.Layers=Ds,An.Zoom=Ir,An.Scale=ko,An.Attribution=Ea,qn.layers=Mo,qn.zoom=Vl,qn.scale=Ls,qn.attribution=Ta;var Jn=ke.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jn.addTo=function(a,u){return a.addHandler(u,this),this};var zl={Events:re},Mi=Ne.touch?"touchstart mousedown":"mousedown",ki=be.extend({options:{clickTolerance:3},initialize:function(a,u,m,v){G(this,v),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(je(this._dragStartTarget,Mi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ki._dragging===this&&this.finishDrag(!0),dt(this._dragStartTarget,Mi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ns(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){ki._dragging===this&&this.finishDrag();return}if(!(ki._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(ki._dragging=this,this._preventOutline&&Xr(this._element),Ps(),fi(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=wa(this._element);this._startPoint=new pe(u.clientX,u.clientY),this._startPos=rr(this._element),this._parentScale=Un(m);var v=a.type==="mousedown";je(document,v?"mousemove":"touchmove",this._onMove,this),je(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new pe(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,kt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),xt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dt(document,"mousemove touchmove",this._onMove,this),dt(document,"mouseup touchend touchcancel",this._onUp,this),$r(),un();var u=this._moved&&this._moving;this._moving=!1,ki._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Vo(a,u,m){var v,E=[1,4,2,8],R,V,W,ee,fe,xe,De,Ke;for(R=0,xe=a.length;R<xe;R++)a[R]._code=ne(a[R],u);for(W=0;W<4;W++){for(De=E[W],v=[],R=0,xe=a.length,V=xe-1;R<xe;V=R++)ee=a[R],fe=a[V],ee._code&De?fe._code&De||(Ke=$(fe,ee,De,u,m),Ke._code=ne(Ke,u),v.push(Ke)):(fe._code&De&&(Ke=$(fe,ee,De,u,m),Ke._code=ne(Ke,u),v.push(Ke)),v.push(ee));a=v}return a}function zo(a,u){var m,v,E,R,V,W,ee,fe,xe;if(!a||a.length===0)throw new Error("latlngs not passed");ct(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var De=Ee([0,0]),Ke=ye(a),vn=Ke.getNorthWest().distanceTo(Ke.getSouthWest())*Ke.getNorthEast().distanceTo(Ke.getNorthWest());vn<1700&&(De=Sa(a));var Xt=a.length,ti=[];for(m=0;m<Xt;m++){var mt=Ee(a[m]);ti.push(u.project(Ee([mt.lat-De.lat,mt.lng-De.lng])))}for(W=ee=fe=0,m=0,v=Xt-1;m<Xt;v=m++)E=ti[m],R=ti[v],V=E.y*R.x-R.y*E.x,ee+=(E.x+R.x)*V,fe+=(E.y+R.y)*V,W+=V*3;W===0?xe=ti[0]:xe=[ee/W,fe/W];var pt=u.unproject(Se(xe));return Ee([pt.lat+De.lat,pt.lng+De.lng])}function Sa(a){for(var u=0,m=0,v=0,E=0;E<a.length;E++){var R=Ee(a[E]);u+=R.lat,m+=R.lng,v++}return Ee([u/v,m/v])}var ns={__proto__:null,clipPolygon:Vo,polygonCenter:zo,centroid:Sa};function Cn(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=w(a,m),a=Pr(a,m),a}function Uo(a,u,m){return Math.sqrt(Be(a,u,m,!0))}function Ul(a,u,m){return Be(a,u,m)}function Pr(a,u){var m=a.length,v=typeof Uint8Array<"u"?Uint8Array:Array,E=new v(m);E[0]=E[m-1]=1,d(a,E,u,0,m-1);var R,V=[];for(R=0;R<m;R++)E[R]&&V.push(a[R]);return V}function d(a,u,m,v,E){var R=0,V,W,ee;for(W=v+1;W<=E-1;W++)ee=Be(a[W],a[v],a[E],!0),ee>R&&(V=W,R=ee);R>m&&(u[V]=1,d(a,u,m,v,V),d(a,u,m,V,E))}function w(a,u){for(var m=[a[0]],v=1,E=0,R=a.length;v<R;v++)ve(a[v],a[E])>u&&(m.push(a[v]),E=v);return E<R-1&&m.push(a[R-1]),m}var S;function P(a,u,m,v,E){var R=v?S:ne(a,m),V=ne(u,m),W,ee,fe;for(S=V;;){if(!(R|V))return[a,u];if(R&V)return!1;W=R||V,ee=$(a,u,W,m,E),fe=ne(ee,m),W===R?(a=ee,R=fe):(u=ee,V=fe)}}function $(a,u,m,v,E){var R=u.x-a.x,V=u.y-a.y,W=v.min,ee=v.max,fe,xe;return m&8?(fe=a.x+R*(ee.y-a.y)/V,xe=ee.y):m&4?(fe=a.x+R*(W.y-a.y)/V,xe=W.y):m&2?(fe=ee.x,xe=a.y+V*(ee.x-a.x)/R):m&1&&(fe=W.x,xe=a.y+V*(W.x-a.x)/R),new pe(fe,xe,E)}function ne(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function ve(a,u){var m=u.x-a.x,v=u.y-a.y;return m*m+v*v}function Be(a,u,m,v){var E=u.x,R=u.y,V=m.x-E,W=m.y-R,ee=V*V+W*W,fe;return ee>0&&(fe=((a.x-E)*V+(a.y-R)*W)/ee,fe>1?(E=m.x,R=m.y):fe>0&&(E+=V*fe,R+=W*fe)),V=a.x-E,W=a.y-R,v?V*V+W*W:new pe(E,R)}function ct(a){return!ue(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function ht(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ct(a)}function It(a,u){var m,v,E,R,V,W,ee,fe;if(!a||a.length===0)throw new Error("latlngs not passed");ct(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var xe=Ee([0,0]),De=ye(a),Ke=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Ke<1700&&(xe=Sa(a));var vn=a.length,Xt=[];for(m=0;m<vn;m++){var ti=Ee(a[m]);Xt.push(u.project(Ee([ti.lat-xe.lat,ti.lng-xe.lng])))}for(m=0,v=0;m<vn-1;m++)v+=Xt[m].distanceTo(Xt[m+1])/2;if(v===0)fe=Xt[0];else for(m=0,R=0;m<vn-1;m++)if(V=Xt[m],W=Xt[m+1],E=V.distanceTo(W),R+=E,R>v){ee=(R-v)/E,fe=[W.x-ee*(W.x-V.x),W.y-ee*(W.y-V.y)];break}var mt=u.unproject(Se(fe));return Ee([mt.lat+xe.lat,mt.lng+xe.lng])}var mi={__proto__:null,simplify:Cn,pointToSegmentDistance:Uo,closestPointOnSegment:Ul,clipSegment:P,_getEdgeIntersection:$,_getBitCode:ne,_sqClosestPointOnSegment:Be,isFlat:ct,_flat:ht,polylineCenter:It},pi={project:function(a){return new pe(a.lng,a.lat)},unproject:function(a){return new Te(a.y,a.x)},bounds:new q([-180,-90],[180,90])},ei={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,v=a.lat*u,E=this.R_MINOR/m,R=Math.sqrt(1-E*E),V=R*Math.sin(v),W=Math.tan(Math.PI/4-v/2)/Math.pow((1-V)/(1+V),R/2);return v=-m*Math.log(Math.max(W,1e-10)),new pe(a.lng*u*m,v)},unproject:function(a){for(var u=180/Math.PI,m=this.R,v=this.R_MINOR/m,E=Math.sqrt(1-v*v),R=Math.exp(-a.y/m),V=Math.PI/2-2*Math.atan(R),W=0,ee=.1,fe;W<15&&Math.abs(ee)>1e-7;W++)fe=E*Math.sin(V),fe=Math.pow((1-fe)/(1+fe),E/2),ee=Math.PI/2-2*Math.atan(R*fe)-V,V+=ee;return new Te(V*u,a.x*u/m)}},ji={__proto__:null,LonLat:pi,Mercator:ei,SphericalMercator:xr},Ms=l({},Tt,{code:"EPSG:3395",projection:ei,transformation:(function(){var a=.5/(Math.PI*ei.R);return Yi(a,.5,-a,.5)})()}),ks=l({},Tt,{code:"EPSG:4326",projection:pi,transformation:Yi(1/180,1,-1/180,.5)}),Aa=l({},Fe,{projection:pi,transformation:Yi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,v=u.lat-a.lat;return Math.sqrt(m*m+v*v)},infinite:!0});Fe.Earth=Tt,Fe.EPSG3395=Ms,Fe.EPSG3857=Gr,Fe.EPSG900913=Qi,Fe.EPSG4326=ks,Fe.Simple=Aa;var Vi=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[b(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[b(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Qe.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=b(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=b(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return b(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?ue(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[b(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=b(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var E=this._zoomBoundLayers[v].options;a=E.minZoom===void 0?a:Math.min(a,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ca=Vi.extend({initialize:function(a,u){G(this,u),this._layers={};var m,v;if(a)for(m=0,v=a.length;m<v;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[a]&&v[a].apply(v,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return b(a)}}),Wd=function(a,u){return new Ca(a,u)},lr=Ca.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ca.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ca.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new _e;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),bh=function(a,u){return new lr(a,u)},ur=ke.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){G(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(a,u){var m=this.options,v=m[u+"Size"];typeof v=="number"&&(v=[v,v]);var E=Se(v),R=Se(u==="shadow"&&m.shadowAnchor||m.iconAnchor||E&&E.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),R&&(a.style.marginLeft=-R.x+"px",a.style.marginTop=-R.y+"px"),E&&(a.style.width=E.x+"px",a.style.height=E.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Ne.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Bo(a){return new ur(a)}var qo=ur.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof qo.imagePath!="string"&&(qo.imagePath=this._detectIconPath()),(this.options.imagePath||qo.imagePath)+ur.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,v,E){var R=v.exec(m);return R&&R[E]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=We("div","leaflet-default-icon-path",document.body),u=Wr(a,"background-image")||Wr(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Ho=Jn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ki(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,v=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,R=rr(u._icon),V=m.getPixelBounds(),W=m.getPixelOrigin(),ee=ae(V.min._subtract(W).add(E),V.max._subtract(W).subtract(E));if(!ee.contains(R)){var fe=Se((Math.max(ee.max.x,R.x)-ee.max.x)/(V.max.x-ee.max.x)-(Math.min(ee.min.x,R.x)-ee.min.x)/(V.min.x-ee.min.x),(Math.max(ee.max.y,R.y)-ee.max.y)/(V.max.y-ee.max.y)-(Math.min(ee.min.y,R.y)-ee.min.y)/(V.min.y-ee.min.y)).multiplyBy(v);m.panBy(fe,{animate:!1}),this._draggable._newPos._add(fe),this._draggable._startPos._add(fe),xt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=O(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,v=rr(u._icon),E=u._map.layerPointToLatLng(v);m&&xt(m,v),u._latlng=E,a.latlng=E,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Fo=Vi.extend({options:{icon:new qo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){G(this,u),this._latlng=Ee(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Ee(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Ce(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(m,"focus",this._panOnFocus,this);var E=a.icon.createShadow(this._shadow),R=!1;E!==this._shadow&&(this._removeShadow(),R=!0),E&&(Ce(E,u),E.alt=""),this._shadow=E,a.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&R&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dt(this._icon,"focus",this._panOnFocus,this),$e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&$e(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&xt(this._icon,a),this._shadow&&xt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ho)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ho(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Nt(this._icon,a),this._shadow&&Nt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?Se(u.iconSize):Se(0,0),v=u.iconAnchor?Se(u.iconAnchor):Se(0,0);a.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xh(a,u){return new Fo(a,u)}var cr=Vi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return G(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ra=cr.extend({options:{fill:!0,radius:10},initialize:function(a,u){G(this,u),this._latlng=Ee(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Ee(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return cr.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),v=[a+m,u+m];this._pxBounds=new q(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function wh(a,u){return new Ra(a,u)}var Bl=Ra.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=l({},m,{radius:u})),G(this,u),this._latlng=Ee(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new _e(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:cr.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===Tt.distance){var E=Math.PI/180,R=this._mRadius/Tt.R/E,V=m.project([u+R,a]),W=m.project([u-R,a]),ee=V.add(W).divideBy(2),fe=m.unproject(ee).lat,xe=Math.acos((Math.cos(R*E)-Math.sin(u*E)*Math.sin(fe*E))/(Math.cos(u*E)*Math.cos(fe*E)))/E;(isNaN(xe)||xe===0)&&(xe=R/Math.cos(Math.PI/180*u)),this._point=ee.subtract(m.getPixelOrigin()),this._radius=isNaN(xe)?0:ee.x-m.project([fe,a-xe]).x,this._radiusY=ee.y-V.y}else{var De=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(De).x}this._updateBounds()}});function Eh(a,u,m){return new Bl(a,u,m)}var Or=cr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){G(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,v=Be,E,R,V=0,W=this._parts.length;V<W;V++)for(var ee=this._parts[V],fe=1,xe=ee.length;fe<xe;fe++){E=ee[fe-1],R=ee[fe];var De=v(a,E,R,!0);De<u&&(u=De,m=v(a,E,R))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return It(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Ee(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new _e,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ct(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=ct(a),v=0,E=a.length;v<E;v++)m?(u[v]=Ee(a[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(a[v]);return u},_project:function(){var a=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new pe(a,a);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var v=a[0]instanceof Te,E=a.length,R,V;if(v){for(V=[],R=0;R<E;R++)V[R]=this._map.latLngToLayerPoint(a[R]),m.extend(V[R]);u.push(V)}else for(R=0;R<E;R++)this._projectLatlngs(a[R],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,v,E,R,V,W,ee;for(m=0,E=0,R=this._rings.length;m<R;m++)for(ee=this._rings[m],v=0,V=ee.length;v<V-1;v++)W=P(ee[v],ee[v+1],a,v,!0),W&&(u[E]=u[E]||[],u[E].push(W[0]),(W[1]!==ee[v+1]||v===V-2)&&(u[E].push(W[1]),E++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,v=a.length;m<v;m++)a[m]=Cn(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,v,E,R,V,W,ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,R=this._parts.length;m<R;m++)for(W=this._parts[m],v=0,V=W.length,E=V-1;v<V;E=v++)if(!(!u&&v===0)&&Uo(a,W[E],W[v])<=ee)return!0;return!1}});function $d(a,u){return new Or(a,u)}Or._flat=ht;var Na=Or.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Or.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof Te&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){Or.prototype._setLatLngs.call(this,a),ct(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ct(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new pe(u,u);if(a=new q(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,E=this._rings.length,R;v<E;v++)R=Vo(this._rings[v],a,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,v,E,R,V,W,ee,fe;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,ee=this._parts.length;R<ee;R++)for(m=this._parts[R],V=0,fe=m.length,W=fe-1;V<fe;W=V++)v=m[V],E=m[W],v.y>a.y!=E.y>a.y&&a.x<(E.x-v.x)*(a.y-v.y)/(E.y-v.y)+v.x&&(u=!u);return u||Or.prototype._containsPoint.call(this,a,!0)}});function Xd(a,u){return new Na(a,u)}var Dr=lr.extend({initialize:function(a,u){G(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=ue(a)?a:a.features,m,v,E;if(u){for(m=0,v=u.length;m<v;m++)E=u[m],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var R=this.options;if(R.filter&&!R.filter(a))return this;var V=Rn(a,R);return V?(V.feature=Fl(a),V.defaultOptions=V.options,this.resetStyle(V),R.onEachFeature&&R.onEachFeature(a,V),this.addLayer(V)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function Rn(a,u){var m=a.type==="Feature"?a.geometry:a,v=m?m.coordinates:null,E=[],R=u&&u.pointToLayer,V=u&&u.coordsToLatLng||ql,W,ee,fe,xe;if(!v&&!m)return null;switch(m.type){case"Point":return W=V(v),Ia(R,a,W,u);case"MultiPoint":for(fe=0,xe=v.length;fe<xe;fe++)W=V(v[fe]),E.push(Ia(R,a,W,u));return new lr(E);case"LineString":case"MultiLineString":return ee=Go(v,m.type==="LineString"?0:1,V),new Or(ee,u);case"Polygon":case"MultiPolygon":return ee=Go(v,m.type==="Polygon"?1:2,V),new Na(ee,u);case"GeometryCollection":for(fe=0,xe=m.geometries.length;fe<xe;fe++){var De=Rn({geometry:m.geometries[fe],type:"Feature",properties:a.properties},u);De&&E.push(De)}return new lr(E);case"FeatureCollection":for(fe=0,xe=m.features.length;fe<xe;fe++){var Ke=Rn(m.features[fe],u);Ke&&E.push(Ke)}return new lr(E);default:throw new Error("Invalid GeoJSON object.")}}function Ia(a,u,m,v){return a?a(u,m):new Fo(m,v&&v.markersInheritOptions&&v)}function ql(a){return new Te(a[1],a[0],a[2])}function Go(a,u,m){for(var v=[],E=0,R=a.length,V;E<R;E++)V=u?Go(a[E],u-1,m):(m||ql)(a[E]),v.push(V);return v}function Hl(a,u){return a=Ee(a),a.alt!==void 0?[I(a.lng,u),I(a.lat,u),I(a.alt,u)]:[I(a.lng,u),I(a.lat,u)]}function Zo(a,u,m,v){for(var E=[],R=0,V=a.length;R<V;R++)E.push(u?Zo(a[R],ct(a[R])?0:u-1,m,v):Hl(a[R],v));return!u&&m&&E.length>0&&E.push(E[0].slice()),E}function is(a,u){return a.feature?l({},a.feature,{geometry:u}):Fl(u)}function Fl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var rs={toGeoJSON:function(a){return is(this,{type:"Point",coordinates:Hl(this.getLatLng(),a)})}};Fo.include(rs),Bl.include(rs),Ra.include(rs),Or.include({toGeoJSON:function(a){var u=!ct(this._latlngs),m=Zo(this._latlngs,u?1:0,!1,a);return is(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),Na.include({toGeoJSON:function(a){var u=!ct(this._latlngs),m=u&&!ct(this._latlngs[0]),v=Zo(this._latlngs,m?2:u?1:0,!0,a);return u||(v=[v]),is(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),Ca.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),is(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",v=[];return this.eachLayer(function(E){if(E.toGeoJSON){var R=E.toGeoJSON(a);if(m)v.push(R.geometry);else{var V=Fl(R);V.type==="FeatureCollection"?v.push.apply(v,V.features):v.push(V)}}}),m?is(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function Gl(a,u){return new Dr(a,u)}var Ko=Gl,Pa=Vi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=ye(u),G(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){$e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Mt(this._image),this},bringToBack:function(){return this._map&&$n(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ye(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:We("img");if(Ce(u,"leaflet-image-layer"),this._zoomAnimated&&Ce(u,"leaflet-zoom-animated"),this.options.className&&Ce(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onload=f(this.fire,this,"load"),u.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Pi(this._image,m,u)},_reset:function(){var a=this._image,u=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();xt(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Nt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Th=function(a,u,m){return new Pa(a,u,m)},ss=Pa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:We("video");if(Ce(u,"leaflet-image-layer"),this._zoomAnimated&&Ce(u,"leaflet-zoom-animated"),this.options.className&&Ce(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onloadeddata=f(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),v=[],E=0;E<m.length;E++)v.push(m[E].src);this._url=m.length>0?v:[u.src];return}ue(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var V=We("source");V.src=this._url[R],u.appendChild(V)}}});function Oa(a,u,m){return new ss(a,u,m)}var Zl=Pa.extend({_initImage:function(){var a=this._image=this._url;Ce(a,"leaflet-image-layer"),this._zoomAnimated&&Ce(a,"leaflet-zoom-animated"),this.options.className&&Ce(a,this.options.className),a.onselectstart=C,a.onmousemove=C}});function Sh(a,u,m){return new Zl(a,u,m)}var Nn=Vi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Te||ue(a))?(this._latlng=Ee(a),G(this,u)):(G(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Nt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Nt(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Nt(this._container,0),this._removeTimeout=setTimeout(f($e,void 0,this._container),200)):$e(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ee(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mt(this._container),this},bringToBack:function(){return this._map&&$n(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof lr){u=null;var m=this._source._layers;for(var v in m)if(m[v]._map){u=m[v];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=Se(this.options.offset),m=this._getAnchor();this._zoomAnimated?xt(this._container,a.add(m)):u=u.add(a).add(m);var v=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Qe.include({_initOverlay:function(a,u,m,v){var E=u;return E instanceof a||(E=new a(v).setContent(u)),m&&E.setLatLng(m),E}}),Vi.include({_initOverlay:function(a,u,m,v){var E=m;return E instanceof a?(G(E,v),E._source=this):(E=u&&!v?u:new a(v,this),E.setContent(m)),E}});var Yo=Nn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Nn.prototype.openOn.call(this,a)},onAdd:function(a){Nn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof cr||this._source.on("preclick",nt))},onRemove:function(a){Nn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof cr||this._source.off("preclick",nt))},getEvents:function(){var a=Nn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=We("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=We("div",a+"-content-wrapper",u);if(this._contentNode=We("div",a+"-content",m),Rr(u),di(this._contentNode),je(u,"contextmenu",nt),this._tipContainer=We("div",a+"-tip-container",u),this._tip=We("div",a+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=We("a",a+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',je(v,"click",function(E){kt(E),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var v=a.offsetHeight,E=this.options.maxHeight,R="leaflet-popup-scrolled";E&&v>E?(u.height=E+"px",Ce(a,R)):bt(a,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();xt(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Wr(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,v=this._containerWidth,E=new pe(this._containerLeft,-m-this._containerBottom);E._add(rr(this._container));var R=a.layerPointToContainerPoint(E),V=Se(this.options.autoPanPadding),W=Se(this.options.autoPanPaddingTopLeft||V),ee=Se(this.options.autoPanPaddingBottomRight||V),fe=a.getSize(),xe=0,De=0;R.x+v+ee.x>fe.x&&(xe=R.x+v-fe.x+ee.x),R.x-xe-W.x<0&&(xe=R.x-W.x),R.y+m+ee.y>fe.y&&(De=R.y+m-fe.y+ee.y),R.y-De-W.y<0&&(De=R.y-W.y),(xe||De)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([xe,De]))}},_getAnchor:function(){return Se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ah=function(a,u){return new Yo(a,u)};Qe.mergeOptions({closePopupOnClick:!0}),Qe.include({openPopup:function(a,u,m){return this._initOverlay(Yo,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Vi.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Yo,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof lr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Oi(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof cr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Qo=Nn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Nn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Nn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Nn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,v=this._map,E=this._container,R=v.latLngToContainerPoint(v.getCenter()),V=v.layerPointToContainerPoint(a),W=this.options.direction,ee=E.offsetWidth,fe=E.offsetHeight,xe=Se(this.options.offset),De=this._getAnchor();W==="top"?(u=ee/2,m=fe):W==="bottom"?(u=ee/2,m=0):W==="center"?(u=ee/2,m=fe/2):W==="right"?(u=0,m=fe/2):W==="left"?(u=ee,m=fe/2):V.x<R.x?(W="right",u=0,m=fe/2):(W="left",u=ee+(xe.x+De.x)*2,m=fe/2),a=a.subtract(Se(u,m,!0)).add(xe).add(De),bt(E,"leaflet-tooltip-right"),bt(E,"leaflet-tooltip-left"),bt(E,"leaflet-tooltip-top"),bt(E,"leaflet-tooltip-bottom"),Ce(E,"leaflet-tooltip-"+W),xt(E,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Nt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return Se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Jd=function(a,u){return new Qo(a,u)};Qe.include({openTooltip:function(a,u,m){return this._initOverlay(Qo,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Vi.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Qo,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof lr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(je(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),je(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,v;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),v=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var Ch=ur.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Lt(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=Se(m.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function em(a){return new Ch(a)}ur.Default=qo;var Da=Vi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){G(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),$e(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pe?a:new pe(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),v=0,E=u.length,R;v<E;v++)R=u[v].style.zIndex,u[v]!==this._container&&R&&(m=a(m,+R));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){Nt(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var v in this._tiles){var E=this._tiles[v];if(!(!E.current||!E.loaded)){var R=Math.min(1,(a-E.loaded)/200);Nt(E.el,R),R<1?u=!0:(E.active?m=!0:this._onOpaqueTile(E),E.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):($e(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[a],E=this._map;return v||(v=this._levels[a]={},v.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=E.project(E.unproject(E.getPixelOrigin()),a).round(),v.zoom=a,this._setZoomTransform(v,E.getCenter(),E.getZoom()),C(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)$e(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,v){var E=Math.floor(a/2),R=Math.floor(u/2),V=m-1,W=new pe(+E,+R);W.z=+V;var ee=this._tileCoordsToKey(W),fe=this._tiles[ee];return fe&&fe.active?(fe.retain=!0,!0):(fe&&fe.loaded&&(fe.retain=!0),V>v?this._retainParent(E,R,V,v):!1)},_retainChildren:function(a,u,m,v){for(var E=2*a;E<2*a+2;E++)for(var R=2*u;R<2*u+2;R++){var V=new pe(E,R);V.z=m+1;var W=this._tileCoordsToKey(V),ee=this._tiles[W];if(ee&&ee.active){ee.retain=!0;continue}else ee&&ee.loaded&&(ee.retain=!0);m+1<v&&this._retainChildren(E,R,m+1,v)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,v){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var R=this.options.updateWhenZooming&&E!==this._tileZoom;(!v||R)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var v=this._map.getZoomScale(m,a.zoom),E=a.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,m)).round();Ne.any3d?Pi(a.el,E,v):xt(a.el,E)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],v).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],v).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],v).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(m,this._tileZoom),E=u.project(a,this._tileZoom).floor(),R=u.getSize().divideBy(v*2);return new q(E.subtract(R),E.add(R))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(a),E=this._pxBoundsToTileRange(v),R=E.getCenter(),V=[],W=this.options.keepBuffer,ee=new q(E.getBottomLeft().subtract([W,-W]),E.getTopRight().add([W,-W]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var fe in this._tiles){var xe=this._tiles[fe].coords;(xe.z!==this._tileZoom||!ee.contains(new pe(xe.x,xe.y)))&&(this._tiles[fe].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var De=E.min.y;De<=E.max.y;De++)for(var Ke=E.min.x;Ke<=E.max.x;Ke++){var vn=new pe(Ke,De);if(vn.z=this._tileZoom,!!this._isValidTile(vn)){var Xt=this._tiles[this._tileCoordsToKey(vn)];Xt?Xt.current=!0:V.push(vn)}}if(V.sort(function(mt,pt){return mt.distanceTo(R)-pt.distanceTo(R)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ti=document.createDocumentFragment();for(Ke=0;Ke<V.length;Ke++)this._addTile(V[Ke],ti);this._level.el.appendChild(ti)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(a);return ye(this.options.bounds).overlaps(v)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),v=a.scaleBy(m),E=v.add(m),R=u.unproject(v,a.z),V=u.unproject(E,a.z);return[R,V]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new _e(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new pe(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&($e(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ce(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=C,a.onmousemove=C,Ne.ielt9&&this.options.opacity<1&&Nt(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),v=this._tileCoordsToKey(a),E=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(E),this.createTile.length<2&&O(f(this._tileReady,this,a,null,E)),xt(E,m),this._tiles[v]={el:E,coords:a,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var v=this._tileCoordsToKey(a);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Nt(m.el,0),F(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(Ce(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new pe(this._wrapX?A(a.x,this._wrapX):a.x,this._wrapY?A(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new q(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Rh(a){return new Da(a)}var as=Da.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=G(this,u),u.detectRetina&&Ne.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return je(m,"load",f(this._tileOnLoad,this,u,m)),je(m,"error",f(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:Ne.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return oe(this._url,l(u,this.options))},_tileOnLoad:function(a,u){Ne.ielt9?setTimeout(f(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(a=u-a),a+v},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=C,u.onerror=C,!u.complete)){u.src=ge;var m=this._tiles[a].coords;$e(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",ge),Da.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===ge))return Da.prototype._tileReady.call(this,a,u,m)}});function gi(a,u){return new as(a,u)}var Wo=as.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=l({},this.defaultWmsParams);for(var v in u)v in this.options||(m[v]=u[v]);u=G(this,u);var E=u.detectRetina&&Ne.retina?2:1,R=this.getTileSize();m.width=R.x*E,m.height=R.y*E,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,as.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,v=ae(m.project(u[0]),m.project(u[1])),E=v.min,R=v.max,V=(this._wmsVersion>=1.3&&this._crs===ks?[E.y,E.x,R.y,R.x]:[E.x,E.y,R.x,R.y]).join(","),W=as.prototype.getTileUrl.call(this,a);return W+Z(this.wmsParams,W,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(a,u){return l(this.wmsParams,a),u||this.redraw(),this}});function _i(a,u){return new Wo(a,u)}as.WMS=Wo,gi.wms=_i;var Hn=Vi.extend({options:{padding:.1},initialize:function(a){G(this,a),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),R=v.multiplyBy(-m).add(E).subtract(this._map._getNewPixelOrigin(a,u));Ne.any3d?Pi(this._container,R,m):xt(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new q(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kl=Hn.extend({options:{tolerance:0},getEvents:function(){var a=Hn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");je(a,"mousemove",this._onMouseMove,this),je(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),je(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,$e(this._container),dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hn.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),v=Ne.retina?2:1;xt(u,a.min),u.width=v*m.x,u.height=v*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Hn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[b(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,v=u.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete a._order,delete this._layers[b(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],v,E;for(E=0;E<u.length;E++){if(v=Number(u[E]),isNaN(v))return;m.push(v)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)a=v.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,v,E,R,V=a._parts,W=V.length,ee=this._ctx;if(W){for(ee.beginPath(),m=0;m<W;m++){for(v=0,E=V[m].length;v<E;v++)R=V[m][v],ee[v?"lineTo":"moveTo"](R.x,R.y);u&&ee.closePath()}this._fillStroke(ee,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,v=Math.max(Math.round(a._radius),1),E=(Math.max(Math.round(a._radiusY),1)||v)/v;E!==1&&(m.save(),m.scale(1,E)),m.beginPath(),m.arc(u.x,u.y/E,v,0,Math.PI*2,!1),E!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,v,E=this._drawFirst;E;E=E.next)m=E.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(bt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,v,E=this._drawFirst;E;E=E.next)m=E.layer,m.options.interactive&&m._containsPoint(u)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(a),v&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([v],a,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,v=u.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,v=u.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function $o(a){return Ne.canvas?new Kl(a):null}var os=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ku={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=os("shape");Ce(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=os("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[b(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;$e(u),a.removeInteractiveTarget(u),delete this._layers[b(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,v=a.options,E=a._container;E.stroked=!!v.stroke,E.filled=!!v.fill,v.stroke?(u||(u=a._stroke=os("stroke")),E.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=ue(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(E.removeChild(u),a._stroke=null),v.fill?(m||(m=a._fill=os("fill")),E.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(E.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),v=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Mt(a._container)},_bringToBack:function(a){$n(a._container)}},hr=Ne.vml?os:ma,La=Hn.extend({_initContainer:function(){this._container=hr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){$e(this._container),dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hn.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),xt(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=hr("path");a.options.className&&Ce(u,a.options.className),a.options.interactive&&Ce(u,"leaflet-interactive"),this._updateStyle(a),this._layers[b(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){$e(a._path),a.removeInteractiveTarget(a._path),delete this._layers[b(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,Zr(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),v=Math.max(Math.round(a._radiusY),1)||m,E="a"+m+","+v+" 0 1,0 ",R=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+E+m*2+",0 "+E+-m*2+",0 ";this._setPath(a,R)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Mt(a._path)},_bringToBack:function(a){$n(a._path)}});Ne.vml&&La.include(Ku);function Xo(a){return Ne.svg||Ne.vml?new La(a):null}Qe.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&$o(a)||Xo(a)}});var js=Na.extend({initialize:function(a,u){Na.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ye(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function tm(a,u){return new js(a,u)}La.create=hr,La.pointsToPath=Zr,Dr.geometryToLayer=Rn,Dr.coordsToLatLng=ql,Dr.coordsToLatLngs=Go,Dr.latLngToCoords=Hl,Dr.latLngsToCoords=Zo,Dr.getFeature=is,Dr.asFeature=Fl,Qe.mergeOptions({boxZoom:!0});var Fn=Jn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){$e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fi(),Ps(),this._startPoint=this._map.mouseEventToContainerPoint(a),je(document,{contextmenu:Oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new q(this._point,this._startPoint),m=u.getSize();xt(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&($e(this._box),bt(this._container,"leaflet-crosshair")),un(),$r(),dt(document,{contextmenu:Oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var u=new _e(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qe.addInitHook("addHandler","boxZoom",Fn),Qe.mergeOptions({doubleClickZoom:!0});var Yl=Jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),v=u.options.zoomDelta,E=a.originalEvent.shiftKey?m-v:m+v;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(a.containerPoint,E)}});Qe.addInitHook("addHandler","doubleClickZoom",Yl),Qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fr=Jn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ki(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ye(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,E=(v-u+m)%a+u-m,R=(v+u+m)%a-u-m,V=Math.abs(E+m)<Math.abs(R+m)?E:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(a){var u=this._map,m=u.options,v=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),v)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,V=m.easeLinearity,W=E.multiplyBy(V/R),ee=W.distanceTo([0,0]),fe=Math.min(m.inertiaMaxSpeed,ee),xe=W.multiplyBy(fe/ee),De=fe/(m.inertiaDeceleration*V),Ke=xe.multiplyBy(-De/2).round();!Ke.x&&!Ke.y?u.fire("moveend"):(Ke=u._limitOffset(Ke,u.options.maxBounds),O(function(){u.panBy(Ke,{duration:De,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Qe.addInitHook("addHandler","dragging",fr),Qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yu=Jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),je(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,v=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,v,E;for(v=0,E=m.left.length;v<E;v++)u[m.left[v]]=[-1*a,0];for(v=0,E=m.right.length;v<E;v++)u[m.right[v]]=[a,0];for(v=0,E=m.down.length;v<E;v++)u[m.down[v]]=[0,a];for(v=0,E=m.up.length;v<E;v++)u[m.up[v]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,v,E;for(v=0,E=m.zoomIn.length;v<E;v++)u[m.zoomIn[v]]=a;for(v=0,E=m.zoomOut.length;v<E;v++)u[m.zoomOut[v]]=-a},_addHooks:function(){je(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,v;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[u],a.shiftKey&&(v=Se(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(Se(v),m.options.maxBounds)),m.options.worldCopyJump){var E=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(E)}else m.panBy(v)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Oi(a)}}});Qe.addInitHook("addHandler","keyboard",Yu),Qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Jo=Jn.extend({addHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=cn(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),v),Oi(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,R=m?Math.ceil(E/m)*m:E,V=a._limitZoom(u+(this._delta>0?R:-R))-u;this._delta=0,this._startTime=null,V&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+V):a.setZoomAround(this._lastMousePos,u+V))}});Qe.addInitHook("addHandler","scrollWheelZoom",Jo);var Vs=600;Qe.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var Ql=Jn.extend({addHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new pe(u.clientX,u.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(je(document,"touchend",kt),je(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Vs),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){dt(document,"touchend",kt),dt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),dt(document,"touchend touchcancel contextmenu",this._cancel,this),dt(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new pe(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Qe.addInitHook("addHandler","tapHold",Ql),Qe.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var Qu=Jn.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),v=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),kt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),v=u.mouseEventToContainerPoint(a.touches[1]),E=m.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var R=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(E===1&&R.x===0&&R.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var V=f(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(V,this,!0),kt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),dt(document,"touchmove",this._onTouchMove,this),dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qe.addInitHook("addHandler","touchZoom",Qu),Qe.BoxZoom=Fn,Qe.DoubleClickZoom=Yl,Qe.Drag=fr,Qe.Keyboard=Yu,Qe.ScrollWheelZoom=Jo,Qe.TapHold=Ql,Qe.TouchZoom=Qu,t.Bounds=q,t.Browser=Ne,t.CRS=Fe,t.Canvas=Kl,t.Circle=Bl,t.CircleMarker=Ra,t.Class=ke,t.Control=An,t.DivIcon=Ch,t.DivOverlay=Nn,t.DomEvent=or,t.DomUtil=Jr,t.Draggable=ki,t.Evented=be,t.FeatureGroup=lr,t.GeoJSON=Dr,t.GridLayer=Da,t.Handler=Jn,t.Icon=ur,t.ImageOverlay=Pa,t.LatLng=Te,t.LatLngBounds=_e,t.Layer=Vi,t.LayerGroup=Ca,t.LineUtil=mi,t.Map=Qe,t.Marker=Fo,t.Mixin=zl,t.Path=cr,t.Point=pe,t.PolyUtil=ns,t.Polygon=Na,t.Polyline=Or,t.Popup=Yo,t.PosAnimation=Nr,t.Projection=ji,t.Rectangle=js,t.Renderer=Hn,t.SVG=La,t.SVGOverlay=Zl,t.TileLayer=as,t.Tooltip=Qo,t.Transformation=Fr,t.Util=k,t.VideoOverlay=ss,t.bind=f,t.bounds=ae,t.canvas=$o,t.circle=Eh,t.circleMarker=wh,t.control=qn,t.divIcon=em,t.extend=l,t.featureGroup=bh,t.geoJSON=Gl,t.geoJson=Ko,t.gridLayer=Rh,t.icon=Bo,t.imageOverlay=Th,t.latLng=Ee,t.latLngBounds=ye,t.layerGroup=Wd,t.map=ts,t.marker=xh,t.point=Se,t.polygon=Xd,t.polyline=$d,t.popup=Ah,t.rectangle=tm,t.setOptions=G,t.stamp=b,t.svg=Xo,t.svgOverlay=Sh,t.tileLayer=gi,t.tooltip=Jd,t.transformation=Yi,t.version=s,t.videoOverlay=Oa;var Wu=window.L;t.noConflict=function(){return window.L=Wu,this},window.L=t}))})(Uc,Uc.exports)),Uc.exports}var Qd=Uk();const ET=$x(Qd);function TT(i,e,t){return Object.freeze({instance:i,context:e,container:t})}function ST(i,e){return e==null?function(s,l){const h=U.useRef(void 0);return h.current||(h.current=i(s,l)),h}:function(s,l){const h=U.useRef(void 0);h.current||(h.current=i(s,l));const f=U.useRef(s),{instance:y}=h.current;return U.useEffect(function(){f.current!==s&&(e(y,s,f.current),f.current=s)},[y,s,e]),h}}function Bk(i,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(i.instance),function(){e.layerContainer?.removeLayer(i.instance),e.map.removeLayer(i.instance)}},[e,i])}function AT(i){return function(t){const s=xT(),l=i(wT(t,s),s);return Ok(s.map,t.attribution),Vk(l.current,t.eventHandlers),Bk(l.current,s),l}}function qk(i,e){const t=ST(i,e),s=AT(t);return kk(s)}function Hk(i,e){const t=ST(i,e),s=AT(t);return jk(s)}function Fk(i,e,t){const{opacity:s,zIndex:l}=e;s!=null&&s!==t.opacity&&i.setOpacity(s),l!=null&&l!==t.zIndex&&i.setZIndex(l)}function Gk(){return xT().map}function Zk(i){const e=Gk();return U.useEffect(function(){return e.on(i),function(){e.off(i)}},[e,i]),e}function Kk({bounds:i,boundsOptions:e,center:t,children:s,className:l,id:h,placeholder:f,style:y,whenReady:b,zoom:x,...A},C){const[I]=U.useState({className:l,id:h,style:y}),[z,Y]=U.useState(null),G=U.useRef(void 0);U.useImperativeHandle(C,()=>z?.map??null,[z]);const Z=U.useCallback(oe=>{if(oe!==null&&!G.current){const ue=new Qd.Map(oe,A);G.current=ue,t!=null&&x!=null?ue.setView(t,x):i!=null&&ue.fitBounds(i,e),b!=null&&ue.whenReady(b),Y(Lk(ue))}},[]);U.useEffect(()=>()=>{z?.map.remove()},[z]);const se=z?sg.createElement(ey,{value:z},s):f??null;return sg.createElement("div",{...I,ref:Z},se)}const Yk=U.forwardRef(Kk),Qk=qk(function({position:e,...t},s){const l=new Qd.Marker(e,t);return TT(l,Mk(s,{overlayContainer:l}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),Wk=Hk(function({url:e,...t},s){const l=new Qd.TileLayer(e,wT(t,s));return TT(l,s)},function(e,t,s){Fk(e,t,s);const{url:l}=t;l!=null&&l!==s.url&&e.setUrl(l)});delete ET.Icon.Default.prototype._getIconUrl;ET.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function $k({position:i,setPosition:e,setAddress:t}){const s=Zk({click(l){e(l.latlng),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${l.latlng.lat}&lon=${l.latlng.lng}`).then(h=>h.json()).then(h=>{h&&h.display_name&&t(h.display_name)}).catch(h=>console.error("Error reverse geocoding",h))}});return U.useEffect(()=>{i&&s.flyTo(i,16)},[i,s]),i===null?null:_.jsx(Qk,{position:i})}const Xk=({onConfirm:i,initialLocation:e})=>{const[t,s]=U.useState(e?{lat:e.lat,lng:e.lng}:null),[l,h]=U.useState(e?.address||""),[f,y]=U.useState(""),[b,x]=U.useState(!1),A=[-12.0464,-77.0428],C=async z=>{if(z.preventDefault(),!!f){x(!0);try{const G=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(f)}`)).json();if(G&&G.length>0){const Z=G[0],se={lat:parseFloat(Z.lat),lng:parseFloat(Z.lon)};s(se),h(Z.display_name)}else console.log("No location found")}catch(Y){console.error("Search error:",Y)}finally{x(!1)}}},I=()=>{t&&i({lat:t.lat,lng:t.lng,address:l})};return _.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[_.jsxs("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:[_.jsxs("form",{onSubmit:C,className:"relative flex gap-2",children:[_.jsxs("div",{className:"relative flex-grow",children:[_.jsx("input",{type:"text",value:f,onChange:z=>y(z.target.value),placeholder:"Buscar ciudad, calle o lugar...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:border-[#fc7f51] focus:ring-1 focus:ring-[#fc7f51] outline-none text-sm"}),_.jsx(Yd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),_.jsx("button",{type:"submit",disabled:b,className:"bg-[#262626] text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-black transition disabled:opacity-70",children:b?_.jsx(Vg,{className:"w-4 h-4 animate-spin"}):"Buscar"})]}),l&&_.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex items-start gap-1",children:[_.jsx(Du,{className:"w-3 h-3 mt-0.5 text-[#fc7f51]"}),_.jsx("span",{className:"line-clamp-2",children:l})]})]}),_.jsx("div",{className:"flex-grow min-h-[300px] relative z-0",children:_.jsxs(Yk,{center:A,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[_.jsx(Wk,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),_.jsx($k,{position:t,setPosition:s,setAddress:h})]})}),_.jsx("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-end",children:_.jsx("button",{type:"button",onClick:I,disabled:!t,className:"bg-[#fc7f51] text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-[#e56b3e] transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ubicacin"})})]})},Jk=()=>{const{user:i,userData:e}=Ao(),[t,s]=U.useState(!1),[l,h]=U.useState(!1),[f,y]=U.useState(""),[b,x]=U.useState(!1),[A,C]=U.useState([]),[I,z]=U.useState([]),[Y,G]=U.useState({title:"",description:"",type:"venta",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),[Z,se]=U.useState([]),[oe,ue]=U.useState(!0),we=async()=>{if(i)try{const O=fo(Fi(Ot,"properties"),pl("agentId","==",i.uid)),k=(await _l(O)).docs.map(ke=>({id:ke.id,...ke.data()}));se(k)}catch(O){console.error("Error fetching properties:",O)}finally{ue(!1)}};U.useEffect(()=>{e?.isActivated&&we()},[i,e]);const ge=async O=>{O.preventDefault(),x(!0);try{const F=fo(Fi(Ot,"activation_codes"),pl("code","==",f),pl("used","==",!1)),k=await _l(F);if(k.empty){ot.error("Cdigo invlido o ya usado."),x(!1);return}const ke=k.docs[0];await Yf(ri(Ot,"activation_codes",ke.id),{used:!0,usedBy:i.uid,usedAt:new Date}),await Yf(ri(Ot,"users",i.uid),{isActivated:!0,activationCode:f}),ot.success("Cuenta activada con xito! Recargando..."),setTimeout(()=>window.location.reload(),1500)}catch(F){console.error("Error activating account:",F),ot.error("Error al activar la cuenta.")}finally{x(!1)}},Ie=async(O,F)=>{const k=F==="disponible"?"tomada":"disponible";try{await Yf(ri(Ot,"properties",O),{status:k}),ot.success(`Estado actualizado a: ${k==="disponible"?"Disponible":"No Disponible"}`),we()}catch(ke){console.error("Error updating status:",ke),ot.error("No se pudo actualizar el estado.")}},j=O=>{const F=Array.from(O.target.files),k=F.map(ke=>URL.createObjectURL(ke));z(ke=>[...ke,...k]),C(ke=>[...ke,...F])},M=O=>{C(F=>F.filter((k,ke)=>ke!==O)),z(F=>F.filter((k,ke)=>ke!==O))},D=async O=>{O.preventDefault(),s(!0);try{const F=await Promise.all(A.map(async k=>{const ke=dM(vM,`properties/${i.uid}/${Date.now()}_${k.name}`),Bt=await hM(ke,k);return await fM(Bt.ref)}));await _d(Fi(Ot,"properties"),{...Y,agentId:i.uid,agentName:e.displayName||"Agente",images:F,createdAt:new Date,status:"disponible",price:parseFloat(Y.price),footage:parseFloat(Y.footage),bedrooms:Y.category==="construido"?parseInt(Y.bedrooms):0,bathrooms:Y.category==="construido"?parseInt(Y.bathrooms):0}),ot.success("Propiedad publicada con xito!"),G({title:"",description:"",type:"venta",price:"",category:"construido",location:"",footage:"",bedrooms:"",bathrooms:""}),C([]),z([]),we()}catch(F){console.error("Error adding property: ",F),ot.error("Hubo un error al publicar la propiedad.")}finally{s(!1)}};U.useEffect(()=>{(async()=>{const F=fo(Fi(Ot,"activation_codes"),pl("code","==","AGENT2024"));(await _l(F)).empty&&(await _d(Fi(Ot,"activation_codes"),{code:"AGENT2024",used:!1,createdAt:new Date,type:"standard"}),console.log("Created default activation code: AGENT2024"))})()},[]);const H=e?.isActivated;return _.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:_.jsx("div",{className:"container mx-auto max-w-6xl",children:_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 h-fit relative",children:[_.jsxs("div",{className:"bg-[#16151a] p-8 text-white",children:[_.jsx("h1",{className:"text-2xl font-bold font-[Montserrat]",children:"Nueva Propiedad"}),_.jsx("p",{className:"text-gray-400 mt-1 text-sm",children:H?"Publica un nuevo inmueble":"Activa tu cuenta para publicar"})]}),H?_.jsxs("form",{onSubmit:D,className:"p-8 space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo"}),_.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Ej: Casa en San Isidro",value:Y.title,onChange:O=>G({...Y,title:O.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio"}),_.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"0.00",value:Y.price,onChange:O=>G({...Y,price:O.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operacin"}),_.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition bg-white",value:Y.type,onChange:O=>G({...Y,type:O.target.value}),children:[_.jsx("option",{value:"venta",children:"Venta"}),_.jsx("option",{value:"alquiler",children:"Alquiler"})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),_.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition bg-white",value:Y.category,onChange:O=>G({...Y,category:O.target.value}),children:[_.jsx("option",{value:"construido",children:"Construido"}),_.jsx("option",{value:"terreno",children:"Terreno"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metraje (m)"}),_.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"120",value:Y.footage,onChange:O=>G({...Y,footage:O.target.value})})]})]}),Y.category==="construido"&&_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Habitaciones"}),_.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:Y.bedrooms,onChange:O=>G({...Y,bedrooms:O.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Baos"}),_.jsx("input",{required:!0,type:"number",className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",value:Y.bathrooms,onChange:O=>G({...Y,bathrooms:O.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ubicacin"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("div",{className:"relative flex-grow",children:[_.jsx(Du,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition",placeholder:"Direccin o Link Maps",value:Y.location,onChange:O=>G({...Y,location:O.target.value})})]}),_.jsx("button",{type:"button",onClick:()=>h(!0),className:"bg-[#262626] text-white px-4 rounded-lg hover:bg-black transition flex items-center justify-center",title:"Buscar en Mapa",children:_.jsx(Du,{className:"w-5 h-5"})})]})]}),l&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl h-[600px] flex flex-col overflow-hidden relative",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[_.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Seleccionar Ubicacin"}),_.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition",children:_.jsx(Ug,{className:"w-5 h-5"})})]}),_.jsx("div",{className:"flex-grow p-0",children:_.jsx(Xk,{onConfirm:O=>{G({...Y,location:O.address||`${O.lat}, ${O.lng}`,lat:O.lat,lng:O.lng}),h(!1)}})})]})}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),_.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition h-24 resize-none",value:Y.description,onChange:O=>G({...Y,description:O.target.value})})]}),_.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:bg-gray-50 transition cursor-pointer relative",children:[_.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:j,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),_.jsx(pk,{className:"h-6 w-6 text-[#fc7f51] mx-auto mb-2"}),_.jsx("p",{className:"text-gray-500 text-sm",children:"Subir fotos"})]}),I.length>0&&_.jsx("div",{className:"grid grid-cols-4 gap-2",children:I.map((O,F)=>_.jsxs("div",{className:"aspect-square relative rounded-lg overflow-hidden",children:[_.jsx("img",{src:O,alt:"",className:"w-full h-full object-cover"}),_.jsx("button",{type:"button",onClick:()=>M(F),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5",children:_.jsx(Ug,{className:"w-3 h-3"})})]},F))}),_.jsx("button",{type:"submit",disabled:t,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-xl shadow-lg transition flex items-center justify-center gap-2",children:t?_.jsx(Vg,{className:"animate-spin"}):"Publicar Propiedad"})]}):_.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center mb-6",children:_.jsx(Z4,{className:"w-8 h-8 text-[#fc7f51]"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Panel Bloqueado"}),_.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Para comenzar a publicar propiedades, debes activar tu cuenta de agente ingresando tu cdigo nico."}),_.jsxs("form",{onSubmit:ge,className:"w-full space-y-4",children:[_.jsx("input",{type:"text",value:f,onChange:O=>y(O.target.value.toUpperCase()),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-[#fc7f51] focus:ring-2 focus:ring-[#fc7f51]/20 outline-none transition text-center font-mono text-lg tracking-widest uppercase placeholder:font-sans placeholder:tracking-normal placeholder:text-sm",placeholder:"CDIGO: AGENT2024",required:!0}),_.jsx("button",{type:"submit",disabled:b,className:"w-full bg-[#fc7f51] text-white py-3 rounded-lg font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30 disabled:opacity-70",children:b?"Verificando...":"Activar Cuenta"})]})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Mis Propiedades"}),_.jsxs("span",{className:"bg-orange-100 text-[#fc7f51] px-3 py-1 rounded-full text-sm font-bold",children:[Z.length," Total"]})]}),oe?_.jsx("div",{className:"flex justify-center py-12",children:_.jsx(Vg,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):Z.length===0?_.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100 text-center text-gray-500",children:"No has publicado ninguna propiedad an."}):_.jsx("div",{className:"grid gap-4",children:Z.map(O=>_.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4",children:[_.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:_.jsx("img",{src:O.images?.[0]||"https://via.placeholder.com/150",alt:O.title,className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"flex-grow",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("h3",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:O.title}),_.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold uppercase ${O.status==="disponible"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:O.status})]}),_.jsx("p",{className:"text-gray-500 text-xs mt-1",children:O.location}),_.jsxs("p",{className:"text-[#fc7f51] font-bold text-sm mt-1",children:["$",O.price?.toLocaleString()]}),_.jsx("div",{className:"mt-3 flex gap-2",children:_.jsx("button",{onClick:()=>Ie(O.id,O.status),className:`tx-xs px-3 py-1.5 rounded-lg text-xs font-bold transition flex-1 text-center ${O.status==="disponible"?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:O.status==="disponible"?"Marcar Vendido/Alquilado":"Marcar Disponible"})})]})]},O.id))})]})]})})})},e5=()=>{const{user:i}=Ao(),[e,t]=U.useState([]),[s,l]=U.useState(!0);return U.useEffect(()=>{(async()=>{try{const f=fo(Fi(Ot,"properties"),qE("createdAt","desc")),b=(await _l(f)).docs.map(x=>({id:x.id,...x.data()}));t(b)}catch(f){console.error("Error fetching properties:",f)}finally{l(!1)}})()},[i]),_.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:_.jsxs("div",{className:"container mx-auto",children:[_.jsxs("div",{className:"mb-8",children:[_.jsxs("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:["Hola, ",i?.displayName||"Usuario"]}),_.jsx("p",{className:"text-gray-500 mt-2",children:"Bienvenido a tu panel personal. Aqu encontrars las propiedades que te interesan."})]}),_.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1",children:[_.jsx("button",{className:"px-4 py-2 text-[#fc7f51] border-b-2 border-[#fc7f51] font-bold",children:"Mis Favoritos"}),_.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Vistos Recientemente"}),_.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-800 transition",children:"Alertas"})]}),s?_.jsx("div",{className:"flex justify-center py-20",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#fc7f51]"})}):e.length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(h=>_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden group border border-gray-100",children:[_.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[_.jsx("img",{src:h.images?.[0]||"https://images.unsplash.com/photo-1600596542815-9ad4dc2f2072?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-500"}),_.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full shadow-sm text-red-500",children:_.jsx(vd,{className:"w-5 h-5 fill-current"})}),_.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider",children:h.type})]}),_.jsxs("div",{className:"p-6",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 line-clamp-1",children:h.title}),_.jsxs("span",{className:"text-[#fc7f51] font-bold text-lg",children:["$",h.price?.toLocaleString()]})]}),_.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:h.location}),_.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 border-t border-gray-100 pt-4",children:[h.category==="construido"?_.jsxs(_.Fragment,{children:[_.jsxs("span",{children:[h.bedrooms," Hab"]}),_.jsx("span",{children:""}),_.jsxs("span",{children:[h.bathrooms," Baos"]}),_.jsx("span",{children:""})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{children:"Terreno"}),_.jsx("span",{children:""})]}),_.jsxs("span",{children:[h.footage," m"]})]}),_.jsx(gn,{to:`/properties/${h.id}`,className:"mt-4 block w-full py-3 bg-gray-50 hover:bg-[#fc7f51] hover:text-white text-gray-600 font-bold text-center rounded-xl transition text-sm",children:"Ver Detalles"})]})]},h.id))}):_.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-gray-200",children:[_.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:_.jsx(vd,{className:"w-8 h-8 text-[#fc7f51]"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"An no tienes favoritos"}),_.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Explora nuestro catlogo y guarda las propiedades que ms te gusten para verlas aqu."}),_.jsxs(gn,{to:"/",className:"inline-flex items-center gap-2 bg-[#fc7f51] text-white px-8 py-3 rounded-full font-bold hover:bg-[#e56b3e] transition shadow-lg shadow-orange-500/30",children:[_.jsx(Yd,{className:"w-5 h-5"}),"Explorar Propiedades"]})]})]})})},t5=()=>{const[i,e]=U.useState({totalAgents:0,totalProperties:0,activeCodes:0}),[t,s]=U.useState([]),[l,h]=U.useState(!0),[f,y]=U.useState(!1),[b,x]=U.useState(null),[A,C]=U.useState([]),[I,z]=U.useState(!1),[Y,G]=U.useState(!1),Z=async()=>{try{const ge=fo(Fi(Ot,"users"),pl("role","==","agente")),Ie=await Bx(ge),j=await Bx(Fi(Ot,"properties")),M=fo(Fi(Ot,"activation_codes"),qE("createdAt","desc")),H=(await _l(M)).docs.map(O=>({id:O.id,...O.data()}));s(H),e({totalAgents:Ie.data().count,totalProperties:j.data().count,activeCodes:H.filter(O=>!O.used).length})}catch(ge){console.error("Error fetching admin stats:",ge),ot.error("Error al cargar estadsticas")}finally{h(!1)}};U.useEffect(()=>{Z()},[]);const se=async()=>{y(!0);try{const ge="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let Ie="";for(let j=0;j<8;j++)Ie+=ge.charAt(Math.floor(Math.random()*ge.length));await _d(Fi(Ot,"activation_codes"),{code:Ie,used:!1,createdAt:new Date,usedBy:null,usedAt:null}),ot.success("Cdigo generado correctamente!"),Z()}catch(ge){console.error("Error generating code:",ge),ot.error("No se pudo generar el cdigo")}finally{y(!1)}},oe=ge=>{navigator.clipboard.writeText(ge),ot.success("Cdigo copiado al portapapeles")},ue=async ge=>{if(ge){z(!0),G(!0),C([]);try{const Ie=await Yc(ri(Ot,"users",ge));if(Ie.exists())x({id:Ie.id,...Ie.data()});else{x(null),ot.error("Usuario no encontrado (probablemente ya eliminado).");return}const j=fo(Fi(Ot,"properties"),pl("agentId","==",ge)),D=(await _l(j)).docs.map(H=>({id:H.id,...H.data()}));C(D)}catch(Ie){console.error("Error details:",Ie),ot.error("Error al cargar detalles")}finally{z(!1)}}},we=async()=>{if(!(!b||!window.confirm(`Ests seguro de que quieres eliminar a ${b.displayName||"este usuario"} y todas sus propiedades? Esta accin no se puede deshacer.`)))try{const ge=A.map(Ie=>qx(ri(Ot,"properties",Ie.id)));await Promise.all(ge),await qx(ri(Ot,"users",b.id)),ot.success("Usuario y sus propiedades eliminados."),G(!1),Z()}catch(ge){console.error("Error deleting user:",ge),ot.error("Error al eliminar usuario.")}};return l?_.jsx("div",{className:"min-h-screen flex items-center justify-center",children:_.jsx(rg,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):_.jsxs("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-6",children:[_.jsxs("div",{className:"container mx-auto max-w-6xl",children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800 font-[Montserrat]",children:"Panel Super Admin"}),_.jsx("p",{className:"text-gray-500 mt-2",children:"Gestin general de la plataforma"})]}),_.jsx("button",{onClick:Z,className:"p-2 bg-white border border-gray-200 rounded-full hover:bg-gray-50 transition shadow-sm",children:_.jsx(rg,{className:"w-5 h-5 text-gray-500"})})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"bg-orange-50 p-4 rounded-xl",children:_.jsx(vT,{className:"w-8 h-8 text-[#fc7f51]"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Agentes Registrados"}),_.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:i.totalAgents})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"bg-blue-50 p-4 rounded-xl",children:_.jsx(_T,{className:"w-8 h-8 text-blue-500"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Inmuebles Publicados"}),_.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:i.totalProperties})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"bg-green-50 p-4 rounded-xl",children:_.jsx(jg,{className:"w-8 h-8 text-green-500"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Cdigos Disponibles"}),_.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:i.activeCodes})]})]})]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[_.jsxs("div",{className:"p-8 border-b border-gray-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cdigos de Activacin"}),_.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Genera cdigos nicos para activar cuentas de agentes."})]}),_.jsxs("button",{onClick:se,disabled:f,className:"bg-[#fc7f51] hover:bg-[#e56b3e] text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/20 transition flex items-center gap-2 disabled:opacity-70",children:[f?_.jsx(rg,{className:"w-5 h-5 animate-spin"}):_.jsx(jg,{className:"w-5 h-5"}),"Generar Nuevo Cdigo"]})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CDIGO"}),_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ESTADO"}),_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"CREADO EL"}),_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"USADO POR"}),_.jsx("th",{className:"px-8 py-4 text-sm font-semibold text-gray-500",children:"ACCIONES"})]})}),_.jsx("tbody",{className:"divide-y divide-gray-50",children:t.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"px-8 py-8 text-center text-gray-400",children:"No hay cdigos generados an."})}):t.map(ge=>_.jsxs("tr",{className:"hover:bg-gray-50/50 transition",children:[_.jsx("td",{className:"px-8 py-4",children:_.jsx("span",{className:"font-mono font-bold text-lg text-gray-700 tracking-wider",children:ge.code})}),_.jsx("td",{className:"px-8 py-4",children:ge.used?_.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Usado"}):_.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Disponible"})}),_.jsx("td",{className:"px-8 py-4 text-sm text-gray-500",children:ge.createdAt?.toDate().toLocaleDateString()}),_.jsx("td",{className:"px-8 py-4 text-sm text-gray-500 relative group cursor-pointer",onClick:()=>ge.usedBy&&ue(ge.usedBy),children:ge.usedBy?_.jsxs("div",{className:"flex items-center gap-2 hover:text-[#fc7f51] transition",children:[_.jsx("span",{children:ge.usedBy}),_.jsx(kg,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}):"-"}),_.jsx("td",{className:"px-8 py-4",children:ge.used?_.jsx("button",{onClick:()=>ue(ge.usedBy),className:"text-blue-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition",title:"Ver Detalles",children:_.jsx(kg,{className:"w-5 h-5"})}):_.jsx("button",{onClick:()=>oe(ge.code),className:"text-[#fc7f51] hover:text-[#e56b3e] p-2 hover:bg-orange-50 rounded-lg transition",title:"Copiar cdigo",children:_.jsx(C4,{className:"w-5 h-5"})})})]},ge.id))})]})})]})]}),Y&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Detalles del Agente"}),_.jsx("button",{onClick:()=>G(!1),className:"p-2 hover:bg-gray-200 rounded-full transition",children:_.jsx(Ug,{className:"w-5 h-5 text-gray-500"})})]}),_.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:I?_.jsx("div",{className:"flex justify-center py-12",children:_.jsx(Loader2,{className:"w-8 h-8 animate-spin text-[#fc7f51]"})}):b?_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"text-lg font-bold text-gray-800",children:b.displayName||"Sin Nombre"}),_.jsx("p",{className:"text-gray-500",children:b.email}),_.jsx("p",{className:"text-gray-500 text-sm mt-1",children:b.phoneNumber||"Sin Telfono"}),_.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-orange-100 text-[#fc7f51] text-xs font-bold rounded-lg uppercase",children:b.role})]}),_.jsxs("button",{onClick:we,className:"bg-red-50 text-red-600 hover:bg-red-100 px-4 py-2 rounded-lg font-bold text-sm flex items-center gap-2 transition",children:[_.jsx(hk,{className:"w-4 h-4"}),"Eliminar Usuario"]})]}),_.jsxs("div",{children:[_.jsxs("h4",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:["Propiedades Publicadas (",A.length,")"]}),A.length===0?_.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Este usuario no tiene propiedades."}):_.jsx("div",{className:"grid grid-cols-2 gap-4",children:A.map(ge=>_.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 flex gap-3 hover:bg-gray-50 transition",children:[_.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:ge.images?.[0]&&_.jsx("img",{src:ge.images[0],className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"overflow-hidden",children:[_.jsx("p",{className:"font-bold text-sm text-gray-800 truncate",children:ge.title}),_.jsx("p",{className:"text-xs text-gray-500 truncate",children:ge.location}),_.jsxs("p",{className:"text-[#fc7f51] font-bold text-xs mt-1",children:["$",ge.price?.toLocaleString()]})]})]},ge.id))})]})]}):_.jsx("p",{className:"text-center text-red-500",children:"No se pudo cargar la informacin."})})]})})]})},n5=()=>{const{user:i}=Ao(),[e,t]=U.useState(!1),s=async()=>{t(!0);try{const h=[{title:"Modern Apartment in Downtown",price:25e4,location:"Downtown City Center",type:"venta",category:"construido",bedrooms:2,bathrooms:2,footage:85,description:"Stunning view of the city.",status:"disponible",agentId:i?.uid||"demo-agent",agentName:i?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"]},{title:"Cozy Family Home",price:1500,location:"Suburban Area",type:"alquiler",category:"construido",bedrooms:3,bathrooms:2,footage:120,description:"Ideal for a small family.",status:"disponible",agentId:i?.uid||"demo-agent",agentName:i?.displayName||"Demo Agent",createdAt:new Date,images:["https://images.unsplash.com/photo-1560184897-ae75f418493e"]}];for(const f of h)await _d(Fi(Ot,"properties"),f);ot.success("Propiedades de demostracin creadas!")}catch(h){console.error("Error creating demo props:",h),ot.error("Error al crear propiedades demo")}finally{t(!1)}},l=async()=>{if(!i){ot.error("Debes iniciar sesin primero.");return}t(!0);try{const h=ri(Ot,"users",i.uid);await Yf(h,{role:"superadmin",isActivated:!0}),ot.success(`Rol actualizado! Ahora eres Super Admin: ${i.email}`),setTimeout(()=>window.location.reload(),1500)}catch(h){console.error("Error making superadmin:",h),ot.error("Error al actualizar rol")}finally{t(!1)}};return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6 space-y-8",children:_.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg border border-gray-100 text-center",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Configuracin Inicial"}),_.jsx("p",{className:"text-gray-500 mb-8",children:"Usa estas herramientas para inicializar tu base de datos."}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border border-orange-100",children:[_.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"1. Configurar Admin"}),_.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Convierte tu usuario actual (",i?.email||"No logueado",") en Super Admin."]}),_.jsx("button",{onClick:l,disabled:e||!i,className:"w-full bg-[#fc7f51] hover:bg-[#e56b3e] text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Hacerme Super Admin"})]}),_.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-100",children:[_.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"2. Datos de Prueba"}),_.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crea propiedades de ejemplo para ver cmo luce el dashboard."}),_.jsx("button",{onClick:s,disabled:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg shadow-lg transition disabled:opacity-50",children:"Crear Propiedades Demo"})]})]}),_.jsx("p",{className:"mt-8 text-xs text-gray-400",children:"Nota: Esta pgina debe ser eliminada o asegurada antes de produccin."})]})})};function i5(){const e=ha().pathname==="/superadmin";return _.jsx(c4,{children:_.jsxs("div",{className:"flex flex-col min-h-screen",children:[!e&&_.jsx(X_,{}),_.jsx("main",{className:"flex-grow",children:_.jsxs(QS,{children:[_.jsx(gr,{path:"/",element:_.jsx(Tk,{})}),_.jsx(gr,{path:"/about",element:_.jsx(Ck,{})}),_.jsx(gr,{path:"/contact",element:_.jsx(Rk,{})}),_.jsx(gr,{path:"/properties/:id",element:_.jsx(Ak,{})}),_.jsx(gr,{path:"/login",element:_.jsx(Nk,{})}),_.jsx(gr,{path:"/register",element:_.jsx(Ik,{})}),_.jsx(gr,{path:"/forgot-password",element:_.jsx(Pk,{})}),_.jsx(gr,{path:"/setup",element:_.jsx(n5,{})}),_.jsx(gr,{path:"/agent-dashboard",element:_.jsx(ig,{allowedRoles:["agente"],children:_.jsx(Jk,{})})}),_.jsx(gr,{path:"/client-dashboard",element:_.jsx(ig,{allowedRoles:["cliente"],children:_.jsx(e5,{})})}),_.jsx(gr,{path:"/superadmin",element:_.jsx(ig,{allowedRoles:["superadmin"],children:_.jsx(t5,{})})})]})}),!e&&_.jsx(J_,{})]})})}$2.createRoot(document.getElementById("root")).render(_.jsx(U.StrictMode,{children:_.jsx(vA,{basename:"/inmobiliaria/",children:_.jsx(i5,{})})}));
